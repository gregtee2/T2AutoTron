function rb(a,n){for(var r=0;r<n.length;r++){const s=n[r];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in a)){const u=Object.getOwnPropertyDescriptor(s,l);u&&Object.defineProperty(a,l,u.get?u:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();function Sh(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var td={exports:{}},uo={};var Hg;function eE(){if(Hg)return uo;Hg=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(s,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var h in l)h!=="key"&&(u[h]=l[h])}else u=l;return l=u.ref,{$$typeof:a,type:s,key:f,ref:l!==void 0?l:null,props:u}}return uo.Fragment=n,uo.jsx=r,uo.jsxs=r,uo}var Ig;function tE(){return Ig||(Ig=1,td.exports=eE()),td.exports}var m=tE(),nd={exports:{}},Xe={};var Vg;function nE(){if(Vg)return Xe;Vg=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),S=Symbol.iterator;function k(x){return x===null||typeof x!="object"?null:(x=S&&x[S]||x["@@iterator"],typeof x=="function"?x:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,L={};function Q(x,R,_){this.props=x,this.context=R,this.refs=L,this.updater=_||N}Q.prototype.isReactComponent={},Q.prototype.setState=function(x,R){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,R,"setState")},Q.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function J(){}J.prototype=Q.prototype;function V(x,R,_){this.props=x,this.context=R,this.refs=L,this.updater=_||N}var F=V.prototype=new J;F.constructor=V,Z(F,Q.prototype),F.isPureReactComponent=!0;var ce=Array.isArray;function oe(){}var H={H:null,A:null,T:null,S:null},ie=Object.prototype.hasOwnProperty;function re(x,R,_){var G=_.ref;return{$$typeof:a,type:x,key:R,ref:G!==void 0?G:null,props:_}}function X(x,R){return re(x.type,R,x.props)}function ue(x){return typeof x=="object"&&x!==null&&x.$$typeof===a}function Ne(x){var R={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(_){return R[_]})}var _e=/\/+/g;function Ge(x,R){return typeof x=="object"&&x!==null&&x.key!=null?Ne(""+x.key):R.toString(36)}function je(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(oe,oe):(x.status="pending",x.then(function(R){x.status==="pending"&&(x.status="fulfilled",x.value=R)},function(R){x.status==="pending"&&(x.status="rejected",x.reason=R)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function C(x,R,_,G,pe){var Oe=typeof x;(Oe==="undefined"||Oe==="boolean")&&(x=null);var Ve=!1;if(x===null)Ve=!0;else switch(Oe){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(x.$$typeof){case a:case n:Ve=!0;break;case b:return Ve=x._init,C(Ve(x._payload),R,_,G,pe)}}if(Ve)return pe=pe(x),Ve=G===""?"."+Ge(x,0):G,ce(pe)?(_="",Ve!=null&&(_=Ve.replace(_e,"$&/")+"/"),C(pe,R,_,"",function(Ee){return Ee})):pe!=null&&(ue(pe)&&(pe=X(pe,_+(pe.key==null||x&&x.key===pe.key?"":(""+pe.key).replace(_e,"$&/")+"/")+Ve)),R.push(pe)),1;Ve=0;var Be=G===""?".":G+":";if(ce(x))for(var Le=0;Le<x.length;Le++)G=x[Le],Oe=Be+Ge(G,Le),Ve+=C(G,R,_,Oe,pe);else if(Le=k(x),typeof Le=="function")for(x=Le.call(x),Le=0;!(G=x.next()).done;)G=G.value,Oe=Be+Ge(G,Le++),Ve+=C(G,R,_,Oe,pe);else if(Oe==="object"){if(typeof x.then=="function")return C(je(x),R,_,G,pe);throw R=String(x),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function U(x,R,_){if(x==null)return x;var G=[],pe=0;return C(x,G,"","",function(Oe){return R.call(_,Oe,pe++)}),G}function le(x){if(x._status===-1){var R=x._result;R=R(),R.then(function(_){(x._status===0||x._status===-1)&&(x._status=1,x._result=_)},function(_){(x._status===0||x._status===-1)&&(x._status=2,x._result=_)}),x._status===-1&&(x._status=0,x._result=R)}if(x._status===1)return x._result.default;throw x._result}var ye=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},be={map:U,forEach:function(x,R,_){U(x,function(){R.apply(this,arguments)},_)},count:function(x){var R=0;return U(x,function(){R++}),R},toArray:function(x){return U(x,function(R){return R})||[]},only:function(x){if(!ue(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Xe.Activity=v,Xe.Children=be,Xe.Component=Q,Xe.Fragment=r,Xe.Profiler=l,Xe.PureComponent=V,Xe.StrictMode=s,Xe.Suspense=p,Xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Xe.__COMPILER_RUNTIME={__proto__:null,c:function(x){return H.H.useMemoCache(x)}},Xe.cache=function(x){return function(){return x.apply(null,arguments)}},Xe.cacheSignal=function(){return null},Xe.cloneElement=function(x,R,_){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var G=Z({},x.props),pe=x.key;if(R!=null)for(Oe in R.key!==void 0&&(pe=""+R.key),R)!ie.call(R,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&R.ref===void 0||(G[Oe]=R[Oe]);var Oe=arguments.length-2;if(Oe===1)G.children=_;else if(1<Oe){for(var Ve=Array(Oe),Be=0;Be<Oe;Be++)Ve[Be]=arguments[Be+2];G.children=Ve}return re(x.type,pe,G)},Xe.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Xe.createElement=function(x,R,_){var G,pe={},Oe=null;if(R!=null)for(G in R.key!==void 0&&(Oe=""+R.key),R)ie.call(R,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(pe[G]=R[G]);var Ve=arguments.length-2;if(Ve===1)pe.children=_;else if(1<Ve){for(var Be=Array(Ve),Le=0;Le<Ve;Le++)Be[Le]=arguments[Le+2];pe.children=Be}if(x&&x.defaultProps)for(G in Ve=x.defaultProps,Ve)pe[G]===void 0&&(pe[G]=Ve[G]);return re(x,Oe,pe)},Xe.createRef=function(){return{current:null}},Xe.forwardRef=function(x){return{$$typeof:h,render:x}},Xe.isValidElement=ue,Xe.lazy=function(x){return{$$typeof:b,_payload:{_status:-1,_result:x},_init:le}},Xe.memo=function(x,R){return{$$typeof:y,type:x,compare:R===void 0?null:R}},Xe.startTransition=function(x){var R=H.T,_={};H.T=_;try{var G=x(),pe=H.S;pe!==null&&pe(_,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(oe,ye)}catch(Oe){ye(Oe)}finally{R!==null&&_.types!==null&&(R.types=_.types),H.T=R}},Xe.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Xe.use=function(x){return H.H.use(x)},Xe.useActionState=function(x,R,_){return H.H.useActionState(x,R,_)},Xe.useCallback=function(x,R){return H.H.useCallback(x,R)},Xe.useContext=function(x){return H.H.useContext(x)},Xe.useDebugValue=function(){},Xe.useDeferredValue=function(x,R){return H.H.useDeferredValue(x,R)},Xe.useEffect=function(x,R){return H.H.useEffect(x,R)},Xe.useEffectEvent=function(x){return H.H.useEffectEvent(x)},Xe.useId=function(){return H.H.useId()},Xe.useImperativeHandle=function(x,R,_){return H.H.useImperativeHandle(x,R,_)},Xe.useInsertionEffect=function(x,R){return H.H.useInsertionEffect(x,R)},Xe.useLayoutEffect=function(x,R){return H.H.useLayoutEffect(x,R)},Xe.useMemo=function(x,R){return H.H.useMemo(x,R)},Xe.useOptimistic=function(x,R){return H.H.useOptimistic(x,R)},Xe.useReducer=function(x,R,_){return H.H.useReducer(x,R,_)},Xe.useRef=function(x){return H.H.useRef(x)},Xe.useState=function(x){return H.H.useState(x)},Xe.useSyncExternalStore=function(x,R,_){return H.H.useSyncExternalStore(x,R,_)},Xe.useTransition=function(){return H.H.useTransition()},Xe.version="19.2.0",Xe}var qg;function xh(){return qg||(qg=1,nd.exports=nE()),nd.exports}var E=xh();const ga=Sh(E),aE=rb({__proto__:null,default:ga},[E]);var ad={exports:{}},co={},rd={exports:{}},id={};var Yg;function rE(){return Yg||(Yg=1,(function(a){function n(C,U){var le=C.length;C.push(U);e:for(;0<le;){var ye=le-1>>>1,be=C[ye];if(0<l(be,U))C[ye]=U,C[le]=be,le=ye;else break e}}function r(C){return C.length===0?null:C[0]}function s(C){if(C.length===0)return null;var U=C[0],le=C.pop();if(le!==U){C[0]=le;e:for(var ye=0,be=C.length,x=be>>>1;ye<x;){var R=2*(ye+1)-1,_=C[R],G=R+1,pe=C[G];if(0>l(_,le))G<be&&0>l(pe,_)?(C[ye]=pe,C[G]=le,ye=G):(C[ye]=_,C[R]=le,ye=R);else if(G<be&&0>l(pe,le))C[ye]=pe,C[G]=le,ye=G;else break e}}return U}function l(C,U){var le=C.sortIndex-U.sortIndex;return le!==0?le:C.id-U.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();a.unstable_now=function(){return f.now()-h}}var p=[],y=[],b=1,v=null,S=3,k=!1,N=!1,Z=!1,L=!1,Q=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function F(C){for(var U=r(y);U!==null;){if(U.callback===null)s(y);else if(U.startTime<=C)s(y),U.sortIndex=U.expirationTime,n(p,U);else break;U=r(y)}}function ce(C){if(Z=!1,F(C),!N)if(r(p)!==null)N=!0,oe||(oe=!0,Ne());else{var U=r(y);U!==null&&je(ce,U.startTime-C)}}var oe=!1,H=-1,ie=5,re=-1;function X(){return L?!0:!(a.unstable_now()-re<ie)}function ue(){if(L=!1,oe){var C=a.unstable_now();re=C;var U=!0;try{e:{N=!1,Z&&(Z=!1,J(H),H=-1),k=!0;var le=S;try{t:{for(F(C),v=r(p);v!==null&&!(v.expirationTime>C&&X());){var ye=v.callback;if(typeof ye=="function"){v.callback=null,S=v.priorityLevel;var be=ye(v.expirationTime<=C);if(C=a.unstable_now(),typeof be=="function"){v.callback=be,F(C),U=!0;break t}v===r(p)&&s(p),F(C)}else s(p);v=r(p)}if(v!==null)U=!0;else{var x=r(y);x!==null&&je(ce,x.startTime-C),U=!1}}break e}finally{v=null,S=le,k=!1}U=void 0}}finally{U?Ne():oe=!1}}}var Ne;if(typeof V=="function")Ne=function(){V(ue)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,Ge=_e.port2;_e.port1.onmessage=ue,Ne=function(){Ge.postMessage(null)}}else Ne=function(){Q(ue,0)};function je(C,U){H=Q(function(){C(a.unstable_now())},U)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(C){C.callback=null},a.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ie=0<C?Math.floor(1e3/C):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_next=function(C){switch(S){case 1:case 2:case 3:var U=3;break;default:U=S}var le=S;S=U;try{return C()}finally{S=le}},a.unstable_requestPaint=function(){L=!0},a.unstable_runWithPriority=function(C,U){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var le=S;S=C;try{return U()}finally{S=le}},a.unstable_scheduleCallback=function(C,U,le){var ye=a.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ye+le:ye):le=ye,C){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=le+be,C={id:b++,callback:U,priorityLevel:C,startTime:le,expirationTime:be,sortIndex:-1},le>ye?(C.sortIndex=le,n(y,C),r(p)===null&&C===r(y)&&(Z?(J(H),H=-1):Z=!0,je(ce,le-ye))):(C.sortIndex=be,n(p,C),N||k||(N=!0,oe||(oe=!0,Ne()))),C},a.unstable_shouldYield=X,a.unstable_wrapCallback=function(C){var U=S;return function(){var le=S;S=U;try{return C.apply(this,arguments)}finally{S=le}}}})(id)),id}var Gg;function iE(){return Gg||(Gg=1,rd.exports=rE()),rd.exports}var sd={exports:{}},Sn={};var Zg;function sE(){if(Zg)return Sn;Zg=1;var a=xh();function n(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,y,b){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:v==null?null:""+v,children:p,containerInfo:y,implementation:b}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Sn.createPortal=function(p,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(n(299));return u(p,y,null,b)},Sn.flushSync=function(p){var y=f.T,b=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=b,s.d.f()}},Sn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Sn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Sn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var b=y.as,v=h(b,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,k=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:v,integrity:S,fetchPriority:k}):b==="script"&&s.d.X(p,{crossOrigin:v,integrity:S,fetchPriority:k,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Sn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=h(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Sn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,v=h(b,y.crossOrigin);s.d.L(p,b,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Sn.preloadModule=function(p,y){if(typeof p=="string")if(y){var b=h(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Sn.requestFormReset=function(p){s.d.r(p)},Sn.unstable_batchedUpdates=function(p,y){return p(y)},Sn.useFormState=function(p,y,b){return f.H.useFormState(p,y,b)},Sn.useFormStatus=function(){return f.H.useHostTransitionStatus()},Sn.version="19.2.0",Sn}var Pg;function ib(){if(Pg)return sd.exports;Pg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),sd.exports=sE(),sd.exports}var Fg;function oE(){if(Fg)return co;Fg=1;var a=iE(),n=xh(),r=ib();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function y(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(s(188));return t!==e?null:e}for(var i=e,o=t;;){var c=i.return;if(c===null)break;var d=c.alternate;if(d===null){if(o=c.return,o!==null){i=o;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===i)return p(c),e;if(d===o)return p(c),t;d=d.sibling}throw Error(s(188))}if(i.return!==o.return)i=c,o=d;else{for(var g=!1,w=c.child;w;){if(w===i){g=!0,i=c,o=d;break}if(w===o){g=!0,o=c,i=d;break}w=w.sibling}if(!g){for(w=d.child;w;){if(w===i){g=!0,i=d,o=c;break}if(w===o){g=!0,o=d,i=c;break}w=w.sibling}if(!g)throw Error(s(189))}}if(i.alternate!==o)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),V=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),ie=Symbol.for("react.lazy"),re=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function Ne(e){return e===null||typeof e!="object"?null:(e=ue&&e[ue]||e["@@iterator"],typeof e=="function"?e:null)}var _e=Symbol.for("react.client.reference");function Ge(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===_e?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case Q:return"Profiler";case L:return"StrictMode";case ce:return"Suspense";case oe:return"SuspenseList";case re:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case V:return e.displayName||"Context";case J:return(e._context.displayName||"Context")+".Consumer";case F:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case H:return t=e.displayName||null,t!==null?t:Ge(e.type)||"Memo";case ie:t=e._payload,e=e._init;try{return Ge(e(t))}catch{}}return null}var je=Array.isArray,C=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},ye=[],be=-1;function x(e){return{current:e}}function R(e){0>be||(e.current=ye[be],ye[be]=null,be--)}function _(e,t){be++,ye[be]=e.current,e.current=t}var G=x(null),pe=x(null),Oe=x(null),Ve=x(null);function Be(e,t){switch(_(Oe,t),_(pe,e),_(G,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ug(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=ug(t),e=cg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}R(G),_(G,e)}function Le(){R(G),R(pe),R(Oe)}function Ee(e){e.memoizedState!==null&&_(Ve,e);var t=G.current,i=cg(t,e.type);t!==i&&(_(pe,e),_(G,i))}function qe(e){pe.current===e&&(R(G),R(pe)),Ve.current===e&&(R(Ve),io._currentValue=le)}var I,ae;function K(e){if(I===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||"",ae=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+I+e+ae}var xe=!1;function he(e,t){if(!e||xe)return"";xe=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(t){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Y){var $=Y}Reflect.construct(e,[],ne)}else{try{ne.call()}catch(Y){$=Y}e.call(ne.prototype)}}else{try{throw Error()}catch(Y){$=Y}(ne=e())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Y){if(Y&&$&&typeof Y.stack=="string")return[Y.stack,$.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),g=d[0],w=d[1];if(g&&w){var T=g.split(`
`),z=w.split(`
`);for(c=o=0;o<T.length&&!T[o].includes("DetermineComponentFrameRoot");)o++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(o===T.length||c===z.length)for(o=T.length-1,c=z.length-1;1<=o&&0<=c&&T[o]!==z[c];)c--;for(;1<=o&&0<=c;o--,c--)if(T[o]!==z[c]){if(o!==1||c!==1)do if(o--,c--,0>c||T[o]!==z[c]){var ee=`
`+T[o].replace(" at new "," at ");return e.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",e.displayName)),ee}while(1<=o&&0<=c);break}}}finally{xe=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?K(i):""}function q(e,t){switch(e.tag){case 26:case 27:case 5:return K(e.type);case 16:return K("Lazy");case 13:return e.child!==t&&t!==null?K("Suspense Fallback"):K("Suspense");case 19:return K("SuspenseList");case 0:case 15:return he(e.type,!1);case 11:return he(e.type.render,!1);case 1:return he(e.type,!0);case 31:return K("Activity");default:return""}}function D(e){try{var t="",i=null;do t+=q(e,i),i=e,e=e.return;while(e);return t}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var W=Object.prototype.hasOwnProperty,ge=a.unstable_scheduleCallback,Se=a.unstable_cancelCallback,vt=a.unstable_shouldYield,Ue=a.unstable_requestPaint,He=a.unstable_now,We=a.unstable_getCurrentPriorityLevel,zt=a.unstable_ImmediatePriority,Re=a.unstable_UserBlockingPriority,Qe=a.unstable_NormalPriority,mt=a.unstable_LowPriority,cn=a.unstable_IdlePriority,Dt=a.log,It=a.unstable_setDisableYieldValue,et=null,Pe=null;function Nt(e){if(typeof Dt=="function"&&It(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(et,e)}catch{}}var j=Math.clz32?Math.clz32:Ae,B=Math.log,fe=Math.LN2;function Ae(e){return e>>>=0,e===0?32:31-(B(e)/fe|0)|0}var tt=256,pn=262144,Lt=4194304;function Ie(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Bt(e,t,i){var o=e.pendingLanes;if(o===0)return 0;var c=0,d=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var w=o&134217727;return w!==0?(o=w&~d,o!==0?c=Ie(o):(g&=w,g!==0?c=Ie(g):i||(i=w&~e,i!==0&&(c=Ie(i))))):(w=o&~d,w!==0?c=Ie(w):g!==0?c=Ie(g):i||(i=o&~e,i!==0&&(c=Ie(i)))),c===0?0:t!==0&&t!==c&&(t&d)===0&&(d=c&-c,i=t&-t,d>=i||d===32&&(i&4194048)!==0)?t:c}function it(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function kt(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ws(){var e=Lt;return Lt<<=1,(Lt&62914560)===0&&(Lt=4194304),e}function ci(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function ar(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ro(e,t,i,o,c,d){var g=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var w=e.entanglements,T=e.expirationTimes,z=e.hiddenUpdates;for(i=g&~i;0<i;){var ee=31-j(i),ne=1<<ee;w[ee]=0,T[ee]=-1;var $=z[ee];if($!==null)for(z[ee]=null,ee=0;ee<$.length;ee++){var Y=$[ee];Y!==null&&(Y.lane&=-536870913)}i&=~ne}o!==0&&Ss(e,o,0),d!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=d&~(g&~t))}function Ss(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var o=31-j(t);e.entangledLanes|=t,e.entanglements[o]=e.entanglements[o]|1073741824|i&261930}function Gu(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var o=31-j(i),c=1<<o;c&t|e[o]&t&&(e[o]|=t),i&=~c}}function zo(e,t){var i=t&-t;return i=(i&42)!==0?1:fi(i),(i&(e.suspendedLanes|t))!==0?0:i}function fi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function rr(){var e=U.p;return e!==0?e:(e=window.event,e===void 0?32:Mg(e.type))}function ba(e,t){var i=U.p;try{return U.p=e,t()}finally{U.p=i}}var jn=Math.random().toString(36).slice(2),on="__reactFiber$"+jn,fn="__reactProps$"+jn,P="__reactContainer$"+jn,se="__reactEvents$"+jn,de="__reactListeners$"+jn,me="__reactHandles$"+jn,ze="__reactResources$"+jn,Ke="__reactMarker$"+jn;function Vt(e){delete e[on],delete e[fn],delete e[se],delete e[de],delete e[me]}function Yt(e){var t=e[on];if(t)return t;for(var i=e.parentNode;i;){if(t=i[P]||i[on]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=gg(e);e!==null;){if(i=e[on])return i;e=gg(e)}return t}e=i,i=e.parentNode}return null}function ln(e){if(e=e[on]||e[P]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Jt(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function Xt(e){var t=e[ze];return t||(t=e[ze]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function St(e){e[Ke]=!0}var Da=new Set,Lo={};function Ma(e,t){Ra(e,t),Ra(e+"Capture",t)}function Ra(e,t){for(Lo[e]=t,e=0;e<t.length;e++)Da.add(t[e])}var Bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zu={},ep={};function Zw(e){return W.call(ep,e)?!0:W.call(Zu,e)?!1:Bo.test(e)?ep[e]=!0:(Zu[e]=!0,!1)}function Uo(e,t,i){if(Zw(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var o=t.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function $o(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function za(e,t,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+o)}}function Fn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function tp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Pw(e,t,i){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,d=o.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(g){i=""+g,d.call(this,g)}}),Object.defineProperty(e,t,{enumerable:o.enumerable}),{getValue:function(){return i},setValue:function(g){i=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pu(e){if(!e._valueTracker){var t=tp(e)?"checked":"value";e._valueTracker=Pw(e,t,""+e[t])}}function np(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),o="";return e&&(o=tp(e)?e.checked?"true":"false":e.value),e=o,e!==i?(t.setValue(e),!0):!1}function Ho(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Fw=/[\n"\\]/g;function Xn(e){return e.replace(Fw,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Fu(e,t,i,o,c,d,g,w){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Fn(t)):e.value!==""+Fn(t)&&(e.value=""+Fn(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?Xu(e,g,Fn(t)):i!=null?Xu(e,g,Fn(i)):o!=null&&e.removeAttribute("value"),c==null&&d!=null&&(e.defaultChecked=!!d),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+Fn(w):e.removeAttribute("name")}function ap(e,t,i,o,c,d,g,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||i!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){Pu(e);return}i=i!=null?""+Fn(i):"",t=t!=null?""+Fn(t):i,w||t===e.value||(e.value=t),e.defaultValue=t}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=w?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Pu(e)}function Xu(e,t,i){t==="number"&&Ho(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function di(e,t,i,o){if(e=e.options,t){t={};for(var c=0;c<i.length;c++)t["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=t.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&o&&(e[i].defaultSelected=!0)}else{for(i=""+Fn(i),t=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function rp(e,t,i){if(t!=null&&(t=""+Fn(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Fn(i):""}function ip(e,t,i,o){if(t==null){if(o!=null){if(i!=null)throw Error(s(92));if(je(o)){if(1<o.length)throw Error(s(93));o=o[0]}i=o}i==null&&(i=""),t=i}i=Fn(t),e.defaultValue=i,o=e.textContent,o===i&&o!==""&&o!==null&&(e.value=o),Pu(e)}function hi(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Xw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sp(e,t,i){var o=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":o?e.setProperty(t,i):typeof i!="number"||i===0||Xw.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function op(e,t,i){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||t!=null&&t.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in t)o=t[c],t.hasOwnProperty(c)&&i[c]!==o&&sp(e,c,o)}else for(var d in t)t.hasOwnProperty(d)&&sp(e,d,t[d])}function Ku(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Io(e){return Qw.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function La(){}var Qu=null;function Ju(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pi=null,mi=null;function lp(e){var t=ln(e);if(t&&(e=t.stateNode)){var i=e[fn]||null;e:switch(e=t.stateNode,t.type){case"input":if(Fu(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Xn(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var o=i[t];if(o!==e&&o.form===e.form){var c=o[fn]||null;if(!c)throw Error(s(90));Fu(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<i.length;t++)o=i[t],o.form===e.form&&np(o)}break e;case"textarea":rp(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&di(e,!!i.multiple,t,!1)}}}var Wu=!1;function up(e,t,i){if(Wu)return e(t,i);Wu=!0;try{var o=e(t);return o}finally{if(Wu=!1,(pi!==null||mi!==null)&&(Nl(),pi&&(t=pi,e=mi,mi=pi=null,lp(t),e)))for(t=0;t<e.length;t++)lp(e[t])}}function xs(e,t){var i=e.stateNode;if(i===null)return null;var o=i[fn]||null;if(o===null)return null;i=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,t,typeof i));return i}var Ba=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ec=!1;if(Ba)try{var Es={};Object.defineProperty(Es,"passive",{get:function(){ec=!0}}),window.addEventListener("test",Es,Es),window.removeEventListener("test",Es,Es)}catch{ec=!1}var ir=null,tc=null,Vo=null;function cp(){if(Vo)return Vo;var e,t=tc,i=t.length,o,c="value"in ir?ir.value:ir.textContent,d=c.length;for(e=0;e<i&&t[e]===c[e];e++);var g=i-e;for(o=1;o<=g&&t[i-o]===c[d-o];o++);return Vo=c.slice(e,1<o?1-o:void 0)}function qo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yo(){return!0}function fp(){return!1}function An(e){function t(i,o,c,d,g){this._reactName=i,this._targetInst=c,this.type=o,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(i=e[w],this[w]=i?i(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Yo:fp,this.isPropagationStopped=fp,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Yo)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Yo)},persist:function(){},isPersistent:Yo}),t}var Ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Go=An(Ur),ks=v({},Ur,{view:0,detail:0}),Jw=An(ks),nc,ac,Cs,Zo=v({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ic,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cs&&(Cs&&e.type==="mousemove"?(nc=e.screenX-Cs.screenX,ac=e.screenY-Cs.screenY):ac=nc=0,Cs=e),nc)},movementY:function(e){return"movementY"in e?e.movementY:ac}}),dp=An(Zo),Ww=v({},Zo,{dataTransfer:0}),eS=An(Ww),tS=v({},ks,{relatedTarget:0}),rc=An(tS),nS=v({},Ur,{animationName:0,elapsedTime:0,pseudoElement:0}),aS=An(nS),rS=v({},Ur,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),iS=An(rS),sS=v({},Ur,{data:0}),hp=An(sS),oS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=uS[e])?!!t[e]:!1}function ic(){return cS}var fS=v({},ks,{key:function(e){if(e.key){var t=oS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ic,charCode:function(e){return e.type==="keypress"?qo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dS=An(fS),hS=v({},Zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pp=An(hS),pS=v({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ic}),mS=An(pS),yS=v({},Ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),gS=An(yS),vS=v({},Zo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bS=An(vS),wS=v({},Ur,{newState:0,oldState:0}),SS=An(wS),xS=[9,13,27,32],sc=Ba&&"CompositionEvent"in window,Ts=null;Ba&&"documentMode"in document&&(Ts=document.documentMode);var ES=Ba&&"TextEvent"in window&&!Ts,mp=Ba&&(!sc||Ts&&8<Ts&&11>=Ts),yp=" ",gp=!1;function vp(e,t){switch(e){case"keyup":return xS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yi=!1;function kS(e,t){switch(e){case"compositionend":return bp(t);case"keypress":return t.which!==32?null:(gp=!0,yp);case"textInput":return e=t.data,e===yp&&gp?null:e;default:return null}}function CS(e,t){if(yi)return e==="compositionend"||!sc&&vp(e,t)?(e=cp(),Vo=tc=ir=null,yi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mp&&t.locale!=="ko"?null:t.data;default:return null}}var TS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!TS[e.type]:t==="textarea"}function Sp(e,t,i,o){pi?mi?mi.push(o):mi=[o]:pi=o,t=zl(t,"onChange"),0<t.length&&(i=new Go("onChange","change",null,i,o),e.push({event:i,listeners:t}))}var Os=null,Ns=null;function OS(e){ag(e,0)}function Po(e){var t=Jt(e);if(np(t))return e}function xp(e,t){if(e==="change")return t}var Ep=!1;if(Ba){var oc;if(Ba){var lc="oninput"in document;if(!lc){var kp=document.createElement("div");kp.setAttribute("oninput","return;"),lc=typeof kp.oninput=="function"}oc=lc}else oc=!1;Ep=oc&&(!document.documentMode||9<document.documentMode)}function Cp(){Os&&(Os.detachEvent("onpropertychange",Tp),Ns=Os=null)}function Tp(e){if(e.propertyName==="value"&&Po(Ns)){var t=[];Sp(t,Ns,e,Ju(e)),up(OS,t)}}function NS(e,t,i){e==="focusin"?(Cp(),Os=t,Ns=i,Os.attachEvent("onpropertychange",Tp)):e==="focusout"&&Cp()}function jS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Po(Ns)}function AS(e,t){if(e==="click")return Po(t)}function _S(e,t){if(e==="input"||e==="change")return Po(t)}function DS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Un=typeof Object.is=="function"?Object.is:DS;function js(e,t){if(Un(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var c=i[o];if(!W.call(t,c)||!Un(e[c],t[c]))return!1}return!0}function Op(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Np(e,t){var i=Op(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=t&&o>=t)return{node:i,offset:t-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Op(i)}}function jp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ap(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ho(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Ho(e.document)}return t}function uc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var MS=Ba&&"documentMode"in document&&11>=document.documentMode,gi=null,cc=null,As=null,fc=!1;function _p(e,t,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;fc||gi==null||gi!==Ho(o)||(o=gi,"selectionStart"in o&&uc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),As&&js(As,o)||(As=o,o=zl(cc,"onSelect"),0<o.length&&(t=new Go("onSelect","select",null,t,i),e.push({event:t,listeners:o}),t.target=gi)))}function $r(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var vi={animationend:$r("Animation","AnimationEnd"),animationiteration:$r("Animation","AnimationIteration"),animationstart:$r("Animation","AnimationStart"),transitionrun:$r("Transition","TransitionRun"),transitionstart:$r("Transition","TransitionStart"),transitioncancel:$r("Transition","TransitionCancel"),transitionend:$r("Transition","TransitionEnd")},dc={},Dp={};Ba&&(Dp=document.createElement("div").style,"AnimationEvent"in window||(delete vi.animationend.animation,delete vi.animationiteration.animation,delete vi.animationstart.animation),"TransitionEvent"in window||delete vi.transitionend.transition);function Hr(e){if(dc[e])return dc[e];if(!vi[e])return e;var t=vi[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Dp)return dc[e]=t[i];return e}var Mp=Hr("animationend"),Rp=Hr("animationiteration"),zp=Hr("animationstart"),RS=Hr("transitionrun"),zS=Hr("transitionstart"),LS=Hr("transitioncancel"),Lp=Hr("transitionend"),Bp=new Map,hc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hc.push("scrollEnd");function ua(e,t){Bp.set(e,t),Ma(t,[e])}var Fo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Kn=[],bi=0,pc=0;function Xo(){for(var e=bi,t=pc=bi=0;t<e;){var i=Kn[t];Kn[t++]=null;var o=Kn[t];Kn[t++]=null;var c=Kn[t];Kn[t++]=null;var d=Kn[t];if(Kn[t++]=null,o!==null&&c!==null){var g=o.pending;g===null?c.next=c:(c.next=g.next,g.next=c),o.pending=c}d!==0&&Up(i,c,d)}}function Ko(e,t,i,o){Kn[bi++]=e,Kn[bi++]=t,Kn[bi++]=i,Kn[bi++]=o,pc|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function mc(e,t,i,o){return Ko(e,t,i,o),Qo(e)}function Ir(e,t){return Ko(e,null,null,t),Qo(e)}function Up(e,t,i){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i);for(var c=!1,d=e.return;d!==null;)d.childLanes|=i,o=d.alternate,o!==null&&(o.childLanes|=i),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(c=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,c&&t!==null&&(c=31-j(i),e=d.hiddenUpdates,o=e[c],o===null?e[c]=[t]:o.push(t),t.lane=i|536870912),d):null}function Qo(e){if(50<Js)throw Js=0,Cf=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var wi={};function BS(e,t,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(e,t,i,o){return new BS(e,t,i,o)}function yc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ua(e,t){var i=e.alternate;return i===null?(i=$n(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function $p(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Jo(e,t,i,o,c,d){var g=0;if(o=e,typeof e=="function")yc(e)&&(g=1);else if(typeof e=="string")g=Vx(e,i,G.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case re:return e=$n(31,i,t,c),e.elementType=re,e.lanes=d,e;case Z:return Vr(i.children,c,d,t);case L:g=8,c|=24;break;case Q:return e=$n(12,i,t,c|2),e.elementType=Q,e.lanes=d,e;case ce:return e=$n(13,i,t,c),e.elementType=ce,e.lanes=d,e;case oe:return e=$n(19,i,t,c),e.elementType=oe,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case V:g=10;break e;case J:g=9;break e;case F:g=11;break e;case H:g=14;break e;case ie:g=16,o=null;break e}g=29,i=Error(s(130,e===null?"null":typeof e,"")),o=null}return t=$n(g,i,t,c),t.elementType=e,t.type=o,t.lanes=d,t}function Vr(e,t,i,o){return e=$n(7,e,o,t),e.lanes=i,e}function gc(e,t,i){return e=$n(6,e,null,t),e.lanes=i,e}function Hp(e){var t=$n(18,null,null,0);return t.stateNode=e,t}function vc(e,t,i){return t=$n(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ip=new WeakMap;function Qn(e,t){if(typeof e=="object"&&e!==null){var i=Ip.get(e);return i!==void 0?i:(t={value:e,source:t,stack:D(t)},Ip.set(e,t),t)}return{value:e,source:t,stack:D(t)}}var Si=[],xi=0,Wo=null,_s=0,Jn=[],Wn=0,sr=null,wa=1,Sa="";function $a(e,t){Si[xi++]=_s,Si[xi++]=Wo,Wo=e,_s=t}function Vp(e,t,i){Jn[Wn++]=wa,Jn[Wn++]=Sa,Jn[Wn++]=sr,sr=e;var o=wa;e=Sa;var c=32-j(o)-1;o&=~(1<<c),i+=1;var d=32-j(t)+c;if(30<d){var g=c-c%5;d=(o&(1<<g)-1).toString(32),o>>=g,c-=g,wa=1<<32-j(t)+c|i<<c|o,Sa=d+e}else wa=1<<d|i<<c|o,Sa=e}function bc(e){e.return!==null&&($a(e,1),Vp(e,1,0))}function wc(e){for(;e===Wo;)Wo=Si[--xi],Si[xi]=null,_s=Si[--xi],Si[xi]=null;for(;e===sr;)sr=Jn[--Wn],Jn[Wn]=null,Sa=Jn[--Wn],Jn[Wn]=null,wa=Jn[--Wn],Jn[Wn]=null}function qp(e,t){Jn[Wn++]=wa,Jn[Wn++]=Sa,Jn[Wn++]=sr,wa=t.id,Sa=t.overflow,sr=e}var mn=null,Ut=null,dt=!1,or=null,ea=!1,Sc=Error(s(519));function lr(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ds(Qn(t,e)),Sc}function Yp(e){var t=e.stateNode,i=e.type,o=e.memoizedProps;switch(t[on]=e,t[fn]=o,i){case"dialog":ot("cancel",t),ot("close",t);break;case"iframe":case"object":case"embed":ot("load",t);break;case"video":case"audio":for(i=0;i<eo.length;i++)ot(eo[i],t);break;case"source":ot("error",t);break;case"img":case"image":case"link":ot("error",t),ot("load",t);break;case"details":ot("toggle",t);break;case"input":ot("invalid",t),ap(t,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":ot("invalid",t);break;case"textarea":ot("invalid",t),ip(t,o.value,o.defaultValue,o.children)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||o.suppressHydrationWarning===!0||og(t.textContent,i)?(o.popover!=null&&(ot("beforetoggle",t),ot("toggle",t)),o.onScroll!=null&&ot("scroll",t),o.onScrollEnd!=null&&ot("scrollend",t),o.onClick!=null&&(t.onclick=La),t=!0):t=!1,t||lr(e,!0)}function Gp(e){for(mn=e.return;mn;)switch(mn.tag){case 5:case 31:case 13:ea=!1;return;case 27:case 3:ea=!0;return;default:mn=mn.return}}function Ei(e){if(e!==mn)return!1;if(!dt)return Gp(e),dt=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Hf(e.type,e.memoizedProps)),i=!i),i&&Ut&&lr(e),Gp(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ut=yg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ut=yg(e)}else t===27?(t=Ut,xr(e.type)?(e=Gf,Gf=null,Ut=e):Ut=t):Ut=mn?na(e.stateNode.nextSibling):null;return!0}function qr(){Ut=mn=null,dt=!1}function xc(){var e=or;return e!==null&&(Rn===null?Rn=e:Rn.push.apply(Rn,e),or=null),e}function Ds(e){or===null?or=[e]:or.push(e)}var Ec=x(null),Yr=null,Ha=null;function ur(e,t,i){_(Ec,t._currentValue),t._currentValue=i}function Ia(e){e._currentValue=Ec.current,R(Ec)}function kc(e,t,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===i)break;e=e.return}}function Cc(e,t,i,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var d=c.dependencies;if(d!==null){var g=c.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=c;for(var T=0;T<t.length;T++)if(w.context===t[T]){d.lanes|=i,w=d.alternate,w!==null&&(w.lanes|=i),kc(d.return,i,e),o||(g=null);break e}d=w.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=i,d=g.alternate,d!==null&&(d.lanes|=i),kc(g,i,e),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===e){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function ki(e,t,i,o){e=null;for(var c=t,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var w=c.type;Un(c.pendingProps.value,g.value)||(e!==null?e.push(w):e=[w])}}else if(c===Ve.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(io):e=[io])}c=c.return}e!==null&&Cc(t,e,i,o),t.flags|=262144}function el(e){for(e=e.firstContext;e!==null;){if(!Un(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Gr(e){Yr=e,Ha=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function yn(e){return Zp(Yr,e)}function tl(e,t){return Yr===null&&Gr(e),Zp(e,t)}function Zp(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},Ha===null){if(e===null)throw Error(s(308));Ha=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ha=Ha.next=t;return i}var US=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,o){e.push(o)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},$S=a.unstable_scheduleCallback,HS=a.unstable_NormalPriority,Wt={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tc(){return{controller:new US,data:new Map,refCount:0}}function Ms(e){e.refCount--,e.refCount===0&&$S(HS,function(){e.controller.abort()})}var Rs=null,Oc=0,Ci=0,Ti=null;function IS(e,t){if(Rs===null){var i=Rs=[];Oc=0,Ci=_f(),Ti={status:"pending",value:void 0,then:function(o){i.push(o)}}}return Oc++,t.then(Pp,Pp),t}function Pp(){if(--Oc===0&&Rs!==null){Ti!==null&&(Ti.status="fulfilled");var e=Rs;Rs=null,Ci=0,Ti=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function VS(e,t){var i=[],o={status:"pending",value:null,reason:null,then:function(c){i.push(c)}};return e.then(function(){o.status="fulfilled",o.value=t;for(var c=0;c<i.length;c++)(0,i[c])(t)},function(c){for(o.status="rejected",o.reason=c,c=0;c<i.length;c++)(0,i[c])(void 0)}),o}var Fp=C.S;C.S=function(e,t){_y=He(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&IS(e,t),Fp!==null&&Fp(e,t)};var Zr=x(null);function Nc(){var e=Zr.current;return e!==null?e:Mt.pooledCache}function nl(e,t){t===null?_(Zr,Zr.current):_(Zr,t.pool)}function Xp(){var e=Nc();return e===null?null:{parent:Wt._currentValue,pool:e}}var Oi=Error(s(460)),jc=Error(s(474)),al=Error(s(542)),rl={then:function(){}};function Kp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qp(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(La,La),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Wp(e),e;default:if(typeof t.status=="string")t.then(La,La);else{if(e=Mt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(o){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=o}},function(o){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=o}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Wp(e),e}throw Fr=t,Oi}}function Pr(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Fr=i,Oi):i}}var Fr=null;function Jp(){if(Fr===null)throw Error(s(459));var e=Fr;return Fr=null,e}function Wp(e){if(e===Oi||e===al)throw Error(s(483))}var Ni=null,zs=0;function il(e){var t=zs;return zs+=1,Ni===null&&(Ni=[]),Qp(Ni,e,t)}function Ls(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function sl(e,t){throw t.$$typeof===S?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function em(e){function t(A,O){if(e){var M=A.deletions;M===null?(A.deletions=[O],A.flags|=16):M.push(O)}}function i(A,O){if(!e)return null;for(;O!==null;)t(A,O),O=O.sibling;return null}function o(A){for(var O=new Map;A!==null;)A.key!==null?O.set(A.key,A):O.set(A.index,A),A=A.sibling;return O}function c(A,O){return A=Ua(A,O),A.index=0,A.sibling=null,A}function d(A,O,M){return A.index=M,e?(M=A.alternate,M!==null?(M=M.index,M<O?(A.flags|=67108866,O):M):(A.flags|=67108866,O)):(A.flags|=1048576,O)}function g(A){return e&&A.alternate===null&&(A.flags|=67108866),A}function w(A,O,M,te){return O===null||O.tag!==6?(O=gc(M,A.mode,te),O.return=A,O):(O=c(O,M),O.return=A,O)}function T(A,O,M,te){var $e=M.type;return $e===Z?ee(A,O,M.props.children,te,M.key):O!==null&&(O.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===ie&&Pr($e)===O.type)?(O=c(O,M.props),Ls(O,M),O.return=A,O):(O=Jo(M.type,M.key,M.props,null,A.mode,te),Ls(O,M),O.return=A,O)}function z(A,O,M,te){return O===null||O.tag!==4||O.stateNode.containerInfo!==M.containerInfo||O.stateNode.implementation!==M.implementation?(O=vc(M,A.mode,te),O.return=A,O):(O=c(O,M.children||[]),O.return=A,O)}function ee(A,O,M,te,$e){return O===null||O.tag!==7?(O=Vr(M,A.mode,te,$e),O.return=A,O):(O=c(O,M),O.return=A,O)}function ne(A,O,M){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=gc(""+O,A.mode,M),O.return=A,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case k:return M=Jo(O.type,O.key,O.props,null,A.mode,M),Ls(M,O),M.return=A,M;case N:return O=vc(O,A.mode,M),O.return=A,O;case ie:return O=Pr(O),ne(A,O,M)}if(je(O)||Ne(O))return O=Vr(O,A.mode,M,null),O.return=A,O;if(typeof O.then=="function")return ne(A,il(O),M);if(O.$$typeof===V)return ne(A,tl(A,O),M);sl(A,O)}return null}function $(A,O,M,te){var $e=O!==null?O.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return $e!==null?null:w(A,O,""+M,te);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case k:return M.key===$e?T(A,O,M,te):null;case N:return M.key===$e?z(A,O,M,te):null;case ie:return M=Pr(M),$(A,O,M,te)}if(je(M)||Ne(M))return $e!==null?null:ee(A,O,M,te,null);if(typeof M.then=="function")return $(A,O,il(M),te);if(M.$$typeof===V)return $(A,O,tl(A,M),te);sl(A,M)}return null}function Y(A,O,M,te,$e){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return A=A.get(M)||null,w(O,A,""+te,$e);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case k:return A=A.get(te.key===null?M:te.key)||null,T(O,A,te,$e);case N:return A=A.get(te.key===null?M:te.key)||null,z(O,A,te,$e);case ie:return te=Pr(te),Y(A,O,M,te,$e)}if(je(te)||Ne(te))return A=A.get(M)||null,ee(O,A,te,$e,null);if(typeof te.then=="function")return Y(A,O,M,il(te),$e);if(te.$$typeof===V)return Y(A,O,M,tl(O,te),$e);sl(O,te)}return null}function ke(A,O,M,te){for(var $e=null,yt=null,De=O,nt=O=0,ut=null;De!==null&&nt<M.length;nt++){De.index>nt?(ut=De,De=null):ut=De.sibling;var gt=$(A,De,M[nt],te);if(gt===null){De===null&&(De=ut);break}e&&De&&gt.alternate===null&&t(A,De),O=d(gt,O,nt),yt===null?$e=gt:yt.sibling=gt,yt=gt,De=ut}if(nt===M.length)return i(A,De),dt&&$a(A,nt),$e;if(De===null){for(;nt<M.length;nt++)De=ne(A,M[nt],te),De!==null&&(O=d(De,O,nt),yt===null?$e=De:yt.sibling=De,yt=De);return dt&&$a(A,nt),$e}for(De=o(De);nt<M.length;nt++)ut=Y(De,A,nt,M[nt],te),ut!==null&&(e&&ut.alternate!==null&&De.delete(ut.key===null?nt:ut.key),O=d(ut,O,nt),yt===null?$e=ut:yt.sibling=ut,yt=ut);return e&&De.forEach(function(Or){return t(A,Or)}),dt&&$a(A,nt),$e}function Ye(A,O,M,te){if(M==null)throw Error(s(151));for(var $e=null,yt=null,De=O,nt=O=0,ut=null,gt=M.next();De!==null&&!gt.done;nt++,gt=M.next()){De.index>nt?(ut=De,De=null):ut=De.sibling;var Or=$(A,De,gt.value,te);if(Or===null){De===null&&(De=ut);break}e&&De&&Or.alternate===null&&t(A,De),O=d(Or,O,nt),yt===null?$e=Or:yt.sibling=Or,yt=Or,De=ut}if(gt.done)return i(A,De),dt&&$a(A,nt),$e;if(De===null){for(;!gt.done;nt++,gt=M.next())gt=ne(A,gt.value,te),gt!==null&&(O=d(gt,O,nt),yt===null?$e=gt:yt.sibling=gt,yt=gt);return dt&&$a(A,nt),$e}for(De=o(De);!gt.done;nt++,gt=M.next())gt=Y(De,A,nt,gt.value,te),gt!==null&&(e&&gt.alternate!==null&&De.delete(gt.key===null?nt:gt.key),O=d(gt,O,nt),yt===null?$e=gt:yt.sibling=gt,yt=gt);return e&&De.forEach(function(Wx){return t(A,Wx)}),dt&&$a(A,nt),$e}function _t(A,O,M,te){if(typeof M=="object"&&M!==null&&M.type===Z&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case k:e:{for(var $e=M.key;O!==null;){if(O.key===$e){if($e=M.type,$e===Z){if(O.tag===7){i(A,O.sibling),te=c(O,M.props.children),te.return=A,A=te;break e}}else if(O.elementType===$e||typeof $e=="object"&&$e!==null&&$e.$$typeof===ie&&Pr($e)===O.type){i(A,O.sibling),te=c(O,M.props),Ls(te,M),te.return=A,A=te;break e}i(A,O);break}else t(A,O);O=O.sibling}M.type===Z?(te=Vr(M.props.children,A.mode,te,M.key),te.return=A,A=te):(te=Jo(M.type,M.key,M.props,null,A.mode,te),Ls(te,M),te.return=A,A=te)}return g(A);case N:e:{for($e=M.key;O!==null;){if(O.key===$e)if(O.tag===4&&O.stateNode.containerInfo===M.containerInfo&&O.stateNode.implementation===M.implementation){i(A,O.sibling),te=c(O,M.children||[]),te.return=A,A=te;break e}else{i(A,O);break}else t(A,O);O=O.sibling}te=vc(M,A.mode,te),te.return=A,A=te}return g(A);case ie:return M=Pr(M),_t(A,O,M,te)}if(je(M))return ke(A,O,M,te);if(Ne(M)){if($e=Ne(M),typeof $e!="function")throw Error(s(150));return M=$e.call(M),Ye(A,O,M,te)}if(typeof M.then=="function")return _t(A,O,il(M),te);if(M.$$typeof===V)return _t(A,O,tl(A,M),te);sl(A,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,O!==null&&O.tag===6?(i(A,O.sibling),te=c(O,M),te.return=A,A=te):(i(A,O),te=gc(M,A.mode,te),te.return=A,A=te),g(A)):i(A,O)}return function(A,O,M,te){try{zs=0;var $e=_t(A,O,M,te);return Ni=null,$e}catch(De){if(De===Oi||De===al)throw De;var yt=$n(29,De,null,A.mode);return yt.lanes=te,yt.return=A,yt}finally{}}}var Xr=em(!0),tm=em(!1),cr=!1;function Ac(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _c(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function fr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function dr(e,t,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(bt&2)!==0){var c=o.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),o.pending=t,t=Qo(e),Up(e,null,i),t}return Ko(e,o,t,i),Qo(e)}function Bs(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,Gu(e,i)}}function Dc(e,t){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var c=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var g={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};d===null?c=d=g:d=d.next=g,i=i.next}while(i!==null);d===null?c=d=t:d=d.next=t}else c=d=t;i={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Mc=!1;function Us(){if(Mc){var e=Ti;if(e!==null)throw e}}function $s(e,t,i,o){Mc=!1;var c=e.updateQueue;cr=!1;var d=c.firstBaseUpdate,g=c.lastBaseUpdate,w=c.shared.pending;if(w!==null){c.shared.pending=null;var T=w,z=T.next;T.next=null,g===null?d=z:g.next=z,g=T;var ee=e.alternate;ee!==null&&(ee=ee.updateQueue,w=ee.lastBaseUpdate,w!==g&&(w===null?ee.firstBaseUpdate=z:w.next=z,ee.lastBaseUpdate=T))}if(d!==null){var ne=c.baseState;g=0,ee=z=T=null,w=d;do{var $=w.lane&-536870913,Y=$!==w.lane;if(Y?(lt&$)===$:(o&$)===$){$!==0&&$===Ci&&(Mc=!0),ee!==null&&(ee=ee.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var ke=e,Ye=w;$=t;var _t=i;switch(Ye.tag){case 1:if(ke=Ye.payload,typeof ke=="function"){ne=ke.call(_t,ne,$);break e}ne=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Ye.payload,$=typeof ke=="function"?ke.call(_t,ne,$):ke,$==null)break e;ne=v({},ne,$);break e;case 2:cr=!0}}$=w.callback,$!==null&&(e.flags|=64,Y&&(e.flags|=8192),Y=c.callbacks,Y===null?c.callbacks=[$]:Y.push($))}else Y={lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ee===null?(z=ee=Y,T=ne):ee=ee.next=Y,g|=$;if(w=w.next,w===null){if(w=c.shared.pending,w===null)break;Y=w,w=Y.next,Y.next=null,c.lastBaseUpdate=Y,c.shared.pending=null}}while(!0);ee===null&&(T=ne),c.baseState=T,c.firstBaseUpdate=z,c.lastBaseUpdate=ee,d===null&&(c.shared.lanes=0),gr|=g,e.lanes=g,e.memoizedState=ne}}function nm(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function am(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)nm(i[e],t)}var ji=x(null),ol=x(0);function rm(e,t){e=Ka,_(ol,e),_(ji,t),Ka=e|t.baseLanes}function Rc(){_(ol,Ka),_(ji,ji.current)}function zc(){Ka=ol.current,R(ji),R(ol)}var Hn=x(null),ta=null;function hr(e){var t=e.alternate;_(Kt,Kt.current&1),_(Hn,e),ta===null&&(t===null||ji.current!==null||t.memoizedState!==null)&&(ta=e)}function Lc(e){_(Kt,Kt.current),_(Hn,e),ta===null&&(ta=e)}function im(e){e.tag===22?(_(Kt,Kt.current),_(Hn,e),ta===null&&(ta=e)):pr()}function pr(){_(Kt,Kt.current),_(Hn,Hn.current)}function In(e){R(Hn),ta===e&&(ta=null),R(Kt)}var Kt=x(0);function ll(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||qf(i)||Yf(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Va=0,Je=null,jt=null,en=null,ul=!1,Ai=!1,Kr=!1,cl=0,Hs=0,_i=null,qS=0;function Pt(){throw Error(s(321))}function Bc(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Un(e[i],t[i]))return!1;return!0}function Uc(e,t,i,o,c,d){return Va=d,Je=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,C.H=e===null||e.memoizedState===null?Vm:Wc,Kr=!1,d=i(o,c),Kr=!1,Ai&&(d=om(t,i,o,c)),sm(e),d}function sm(e){C.H=qs;var t=jt!==null&&jt.next!==null;if(Va=0,en=jt=Je=null,ul=!1,Hs=0,_i=null,t)throw Error(s(300));e===null||tn||(e=e.dependencies,e!==null&&el(e)&&(tn=!0))}function om(e,t,i,o){Je=e;var c=0;do{if(Ai&&(_i=null),Hs=0,Ai=!1,25<=c)throw Error(s(301));if(c+=1,en=jt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}C.H=qm,d=t(i,o)}while(Ai);return d}function YS(){var e=C.H,t=e.useState()[0];return t=typeof t.then=="function"?Is(t):t,e=e.useState()[0],(jt!==null?jt.memoizedState:null)!==e&&(Je.flags|=1024),t}function $c(){var e=cl!==0;return cl=0,e}function Hc(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Ic(e){if(ul){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ul=!1}Va=0,en=jt=Je=null,Ai=!1,Hs=cl=0,_i=null}function On(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Je.memoizedState=en=e:en=en.next=e,en}function Qt(){if(jt===null){var e=Je.alternate;e=e!==null?e.memoizedState:null}else e=jt.next;var t=en===null?Je.memoizedState:en.next;if(t!==null)en=t,jt=e;else{if(e===null)throw Je.alternate===null?Error(s(467)):Error(s(310));jt=e,e={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},en===null?Je.memoizedState=en=e:en=en.next=e}return en}function fl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Is(e){var t=Hs;return Hs+=1,_i===null&&(_i=[]),e=Qp(_i,e,t),t=Je,(en===null?t.memoizedState:en.next)===null&&(t=t.alternate,C.H=t===null||t.memoizedState===null?Vm:Wc),e}function dl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Is(e);if(e.$$typeof===V)return yn(e)}throw Error(s(438,String(e)))}function Vc(e){var t=null,i=Je.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var o=Je.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(t={data:o.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=fl(),Je.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),o=0;o<e;o++)i[o]=X;return t.index++,i}function qa(e,t){return typeof t=="function"?t(e):t}function hl(e){var t=Qt();return qc(t,jt,e)}function qc(e,t,i){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=e.baseQueue,d=o.pending;if(d!==null){if(c!==null){var g=c.next;c.next=d.next,d.next=g}t.baseQueue=c=d,o.pending=null}if(d=e.baseState,c===null)e.memoizedState=d;else{t=c.next;var w=g=null,T=null,z=t,ee=!1;do{var ne=z.lane&-536870913;if(ne!==z.lane?(lt&ne)===ne:(Va&ne)===ne){var $=z.revertLane;if($===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),ne===Ci&&(ee=!0);else if((Va&$)===$){z=z.next,$===Ci&&(ee=!0);continue}else ne={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},T===null?(w=T=ne,g=d):T=T.next=ne,Je.lanes|=$,gr|=$;ne=z.action,Kr&&i(d,ne),d=z.hasEagerState?z.eagerState:i(d,ne)}else $={lane:ne,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},T===null?(w=T=$,g=d):T=T.next=$,Je.lanes|=ne,gr|=ne;z=z.next}while(z!==null&&z!==t);if(T===null?g=d:T.next=w,!Un(d,e.memoizedState)&&(tn=!0,ee&&(i=Ti,i!==null)))throw i;e.memoizedState=d,e.baseState=g,e.baseQueue=T,o.lastRenderedState=d}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Yc(e){var t=Qt(),i=t.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var o=i.dispatch,c=i.pending,d=t.memoizedState;if(c!==null){i.pending=null;var g=c=c.next;do d=e(d,g.action),g=g.next;while(g!==c);Un(d,t.memoizedState)||(tn=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),i.lastRenderedState=d}return[d,o]}function lm(e,t,i){var o=Je,c=Qt(),d=dt;if(d){if(i===void 0)throw Error(s(407));i=i()}else i=t();var g=!Un((jt||c).memoizedState,i);if(g&&(c.memoizedState=i,tn=!0),c=c.queue,Pc(fm.bind(null,o,c,e),[e]),c.getSnapshot!==t||g||en!==null&&en.memoizedState.tag&1){if(o.flags|=2048,Di(9,{destroy:void 0},cm.bind(null,o,c,i,t),null),Mt===null)throw Error(s(349));d||(Va&127)!==0||um(o,t,i)}return i}function um(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Je.updateQueue,t===null?(t=fl(),Je.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function cm(e,t,i,o){t.value=i,t.getSnapshot=o,dm(t)&&hm(e)}function fm(e,t,i){return i(function(){dm(t)&&hm(e)})}function dm(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Un(e,i)}catch{return!0}}function hm(e){var t=Ir(e,2);t!==null&&zn(t,e,2)}function Gc(e){var t=On();if(typeof e=="function"){var i=e;if(e=i(),Kr){Nt(!0);try{i()}finally{Nt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:e},t}function pm(e,t,i,o){return e.baseState=i,qc(e,jt,typeof o=="function"?o:qa)}function GS(e,t,i,o,c){if(yl(e))throw Error(s(485));if(e=t.action,e!==null){var d={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};C.T!==null?i(!0):d.isTransition=!1,o(d),i=t.pending,i===null?(d.next=t.pending=d,mm(t,d)):(d.next=i.next,t.pending=i.next=d)}}function mm(e,t){var i=t.action,o=t.payload,c=e.state;if(t.isTransition){var d=C.T,g={};C.T=g;try{var w=i(c,o),T=C.S;T!==null&&T(g,w),ym(e,t,w)}catch(z){Zc(e,t,z)}finally{d!==null&&g.types!==null&&(d.types=g.types),C.T=d}}else try{d=i(c,o),ym(e,t,d)}catch(z){Zc(e,t,z)}}function ym(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){gm(e,t,o)},function(o){return Zc(e,t,o)}):gm(e,t,i)}function gm(e,t,i){t.status="fulfilled",t.value=i,vm(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,mm(e,i)))}function Zc(e,t,i){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do t.status="rejected",t.reason=i,vm(t),t=t.next;while(t!==o)}e.action=null}function vm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function bm(e,t){return t}function wm(e,t){if(dt){var i=Mt.formState;if(i!==null){e:{var o=Je;if(dt){if(Ut){t:{for(var c=Ut,d=ea;c.nodeType!==8;){if(!d){c=null;break t}if(c=na(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){Ut=na(c.nextSibling),o=c.data==="F!";break e}}lr(o)}o=!1}o&&(t=i[0])}}return i=On(),i.memoizedState=i.baseState=t,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bm,lastRenderedState:t},i.queue=o,i=$m.bind(null,Je,o),o.dispatch=i,o=Gc(!1),d=Jc.bind(null,Je,!1,o.queue),o=On(),c={state:t,dispatch:null,action:e,pending:null},o.queue=c,i=GS.bind(null,Je,c,d,i),c.dispatch=i,o.memoizedState=e,[t,i,!1]}function Sm(e){var t=Qt();return xm(t,jt,e)}function xm(e,t,i){if(t=qc(e,t,bm)[0],e=hl(qa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var o=Is(t)}catch(g){throw g===Oi?al:g}else o=t;t=Qt();var c=t.queue,d=c.dispatch;return i!==t.memoizedState&&(Je.flags|=2048,Di(9,{destroy:void 0},ZS.bind(null,c,i),null)),[o,d,e]}function ZS(e,t){e.action=t}function Em(e){var t=Qt(),i=jt;if(i!==null)return xm(t,i,e);Qt(),t=t.memoizedState,i=Qt();var o=i.queue.dispatch;return i.memoizedState=e,[t,o,!1]}function Di(e,t,i,o){return e={tag:e,create:i,deps:o,inst:t,next:null},t=Je.updateQueue,t===null&&(t=fl(),Je.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,t.lastEffect=e),e}function km(){return Qt().memoizedState}function pl(e,t,i,o){var c=On();Je.flags|=e,c.memoizedState=Di(1|t,{destroy:void 0},i,o===void 0?null:o)}function ml(e,t,i,o){var c=Qt();o=o===void 0?null:o;var d=c.memoizedState.inst;jt!==null&&o!==null&&Bc(o,jt.memoizedState.deps)?c.memoizedState=Di(t,d,i,o):(Je.flags|=e,c.memoizedState=Di(1|t,d,i,o))}function Cm(e,t){pl(8390656,8,e,t)}function Pc(e,t){ml(2048,8,e,t)}function PS(e){Je.flags|=4;var t=Je.updateQueue;if(t===null)t=fl(),Je.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function Tm(e){var t=Qt().memoizedState;return PS({ref:t,nextImpl:e}),function(){if((bt&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function Om(e,t){return ml(4,2,e,t)}function Nm(e,t){return ml(4,4,e,t)}function jm(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Am(e,t,i){i=i!=null?i.concat([e]):null,ml(4,4,jm.bind(null,t,e),i)}function Fc(){}function _m(e,t){var i=Qt();t=t===void 0?null:t;var o=i.memoizedState;return t!==null&&Bc(t,o[1])?o[0]:(i.memoizedState=[e,t],e)}function Dm(e,t){var i=Qt();t=t===void 0?null:t;var o=i.memoizedState;if(t!==null&&Bc(t,o[1]))return o[0];if(o=e(),Kr){Nt(!0);try{e()}finally{Nt(!1)}}return i.memoizedState=[o,t],o}function Xc(e,t,i){return i===void 0||(Va&1073741824)!==0&&(lt&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=My(),Je.lanes|=e,gr|=e,i)}function Mm(e,t,i,o){return Un(i,t)?i:ji.current!==null?(e=Xc(e,i,o),Un(e,t)||(tn=!0),e):(Va&42)===0||(Va&1073741824)!==0&&(lt&261930)===0?(tn=!0,e.memoizedState=i):(e=My(),Je.lanes|=e,gr|=e,t)}function Rm(e,t,i,o,c){var d=U.p;U.p=d!==0&&8>d?d:8;var g=C.T,w={};C.T=w,Jc(e,!1,t,i);try{var T=c(),z=C.S;if(z!==null&&z(w,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var ee=VS(T,o);Vs(e,t,ee,Yn(e))}else Vs(e,t,o,Yn(e))}catch(ne){Vs(e,t,{then:function(){},status:"rejected",reason:ne},Yn())}finally{U.p=d,g!==null&&w.types!==null&&(g.types=w.types),C.T=g}}function FS(){}function Kc(e,t,i,o){if(e.tag!==5)throw Error(s(476));var c=zm(e).queue;Rm(e,c,t,le,i===null?FS:function(){return Lm(e),i(o)})}function zm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:le},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Lm(e){var t=zm(e);t.next===null&&(t=e.alternate.memoizedState),Vs(e,t.next.queue,{},Yn())}function Qc(){return yn(io)}function Bm(){return Qt().memoizedState}function Um(){return Qt().memoizedState}function XS(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Yn();e=fr(i);var o=dr(t,e,i);o!==null&&(zn(o,t,i),Bs(o,t,i)),t={cache:Tc()},e.payload=t;return}t=t.return}}function KS(e,t,i){var o=Yn();i={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},yl(e)?Hm(t,i):(i=mc(e,t,i,o),i!==null&&(zn(i,e,o),Im(i,t,o)))}function $m(e,t,i){var o=Yn();Vs(e,t,i,o)}function Vs(e,t,i,o){var c={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(yl(e))Hm(t,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var g=t.lastRenderedState,w=d(g,i);if(c.hasEagerState=!0,c.eagerState=w,Un(w,g))return Ko(e,t,c,0),Mt===null&&Xo(),!1}catch{}finally{}if(i=mc(e,t,c,o),i!==null)return zn(i,e,o),Im(i,t,o),!0}return!1}function Jc(e,t,i,o){if(o={lane:2,revertLane:_f(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},yl(e)){if(t)throw Error(s(479))}else t=mc(e,i,o,2),t!==null&&zn(t,e,2)}function yl(e){var t=e.alternate;return e===Je||t!==null&&t===Je}function Hm(e,t){Ai=ul=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Im(e,t,i){if((i&4194048)!==0){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,Gu(e,i)}}var qs={readContext:yn,use:dl,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useLayoutEffect:Pt,useInsertionEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useSyncExternalStore:Pt,useId:Pt,useHostTransitionStatus:Pt,useFormState:Pt,useActionState:Pt,useOptimistic:Pt,useMemoCache:Pt,useCacheRefresh:Pt};qs.useEffectEvent=Pt;var Vm={readContext:yn,use:dl,useCallback:function(e,t){return On().memoizedState=[e,t===void 0?null:t],e},useContext:yn,useEffect:Cm,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,pl(4194308,4,jm.bind(null,t,e),i)},useLayoutEffect:function(e,t){return pl(4194308,4,e,t)},useInsertionEffect:function(e,t){pl(4,2,e,t)},useMemo:function(e,t){var i=On();t=t===void 0?null:t;var o=e();if(Kr){Nt(!0);try{e()}finally{Nt(!1)}}return i.memoizedState=[o,t],o},useReducer:function(e,t,i){var o=On();if(i!==void 0){var c=i(t);if(Kr){Nt(!0);try{i(t)}finally{Nt(!1)}}}else c=t;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=KS.bind(null,Je,e),[o.memoizedState,e]},useRef:function(e){var t=On();return e={current:e},t.memoizedState=e},useState:function(e){e=Gc(e);var t=e.queue,i=$m.bind(null,Je,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:Fc,useDeferredValue:function(e,t){var i=On();return Xc(i,e,t)},useTransition:function(){var e=Gc(!1);return e=Rm.bind(null,Je,e.queue,!0,!1),On().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var o=Je,c=On();if(dt){if(i===void 0)throw Error(s(407));i=i()}else{if(i=t(),Mt===null)throw Error(s(349));(lt&127)!==0||um(o,t,i)}c.memoizedState=i;var d={value:i,getSnapshot:t};return c.queue=d,Cm(fm.bind(null,o,d,e),[e]),o.flags|=2048,Di(9,{destroy:void 0},cm.bind(null,o,d,i,t),null),i},useId:function(){var e=On(),t=Mt.identifierPrefix;if(dt){var i=Sa,o=wa;i=(o&~(1<<32-j(o)-1)).toString(32)+i,t="_"+t+"R_"+i,i=cl++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=qS++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Qc,useFormState:wm,useActionState:wm,useOptimistic:function(e){var t=On();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Jc.bind(null,Je,!0,i),i.dispatch=t,[e,t]},useMemoCache:Vc,useCacheRefresh:function(){return On().memoizedState=XS.bind(null,Je)},useEffectEvent:function(e){var t=On(),i={impl:e};return t.memoizedState=i,function(){if((bt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}},Wc={readContext:yn,use:dl,useCallback:_m,useContext:yn,useEffect:Pc,useImperativeHandle:Am,useInsertionEffect:Om,useLayoutEffect:Nm,useMemo:Dm,useReducer:hl,useRef:km,useState:function(){return hl(qa)},useDebugValue:Fc,useDeferredValue:function(e,t){var i=Qt();return Mm(i,jt.memoizedState,e,t)},useTransition:function(){var e=hl(qa)[0],t=Qt().memoizedState;return[typeof e=="boolean"?e:Is(e),t]},useSyncExternalStore:lm,useId:Bm,useHostTransitionStatus:Qc,useFormState:Sm,useActionState:Sm,useOptimistic:function(e,t){var i=Qt();return pm(i,jt,e,t)},useMemoCache:Vc,useCacheRefresh:Um};Wc.useEffectEvent=Tm;var qm={readContext:yn,use:dl,useCallback:_m,useContext:yn,useEffect:Pc,useImperativeHandle:Am,useInsertionEffect:Om,useLayoutEffect:Nm,useMemo:Dm,useReducer:Yc,useRef:km,useState:function(){return Yc(qa)},useDebugValue:Fc,useDeferredValue:function(e,t){var i=Qt();return jt===null?Xc(i,e,t):Mm(i,jt.memoizedState,e,t)},useTransition:function(){var e=Yc(qa)[0],t=Qt().memoizedState;return[typeof e=="boolean"?e:Is(e),t]},useSyncExternalStore:lm,useId:Bm,useHostTransitionStatus:Qc,useFormState:Em,useActionState:Em,useOptimistic:function(e,t){var i=Qt();return jt!==null?pm(i,jt,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Vc,useCacheRefresh:Um};qm.useEffectEvent=Tm;function ef(e,t,i,o){t=e.memoizedState,i=i(o,t),i=i==null?t:v({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var tf={enqueueSetState:function(e,t,i){e=e._reactInternals;var o=Yn(),c=fr(o);c.payload=t,i!=null&&(c.callback=i),t=dr(e,c,o),t!==null&&(zn(t,e,o),Bs(t,e,o))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var o=Yn(),c=fr(o);c.tag=1,c.payload=t,i!=null&&(c.callback=i),t=dr(e,c,o),t!==null&&(zn(t,e,o),Bs(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Yn(),o=fr(i);o.tag=2,t!=null&&(o.callback=t),t=dr(e,o,i),t!==null&&(zn(t,e,i),Bs(t,e,i))}};function Ym(e,t,i,o,c,d,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,g):t.prototype&&t.prototype.isPureReactComponent?!js(i,o)||!js(c,d):!0}function Gm(e,t,i,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,o),t.state!==e&&tf.enqueueReplaceState(t,t.state,null)}function Qr(e,t){var i=t;if("ref"in t){i={};for(var o in t)o!=="ref"&&(i[o]=t[o])}if(e=e.defaultProps){i===t&&(i=v({},i));for(var c in e)i[c]===void 0&&(i[c]=e[c])}return i}function Zm(e){Fo(e)}function Pm(e){console.error(e)}function Fm(e){Fo(e)}function gl(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(o){setTimeout(function(){throw o})}}function Xm(e,t,i){try{var o=e.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function nf(e,t,i){return i=fr(i),i.tag=3,i.payload={element:null},i.callback=function(){gl(e,t)},i}function Km(e){return e=fr(e),e.tag=3,e}function Qm(e,t,i,o){var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var d=o.value;e.payload=function(){return c(d)},e.callback=function(){Xm(t,i,o)}}var g=i.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Xm(t,i,o),typeof c!="function"&&(vr===null?vr=new Set([this]):vr.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})})}function QS(e,t,i,o,c){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(t=i.alternate,t!==null&&ki(t,i,c,!0),i=Hn.current,i!==null){switch(i.tag){case 31:case 13:return ta===null?jl():i.alternate===null&&Ft===0&&(Ft=3),i.flags&=-257,i.flags|=65536,i.lanes=c,o===rl?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([o]):t.add(o),Nf(e,o,c)),!1;case 22:return i.flags|=65536,o===rl?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([o]):i.add(o)),Nf(e,o,c)),!1}throw Error(s(435,i.tag))}return Nf(e,o,c),jl(),!1}if(dt)return t=Hn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,o!==Sc&&(e=Error(s(422),{cause:o}),Ds(Qn(e,i)))):(o!==Sc&&(t=Error(s(423),{cause:o}),Ds(Qn(t,i))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=Qn(o,i),c=nf(e.stateNode,o,c),Dc(e,c),Ft!==4&&(Ft=2)),!1;var d=Error(s(520),{cause:o});if(d=Qn(d,i),Qs===null?Qs=[d]:Qs.push(d),Ft!==4&&(Ft=2),t===null)return!0;o=Qn(o,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=c&-c,i.lanes|=e,e=nf(i.stateNode,o,e),Dc(i,e),!1;case 1:if(t=i.type,d=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(vr===null||!vr.has(d))))return i.flags|=65536,c&=-c,i.lanes|=c,c=Km(c),Qm(c,e,i,o),Dc(i,c),!1}i=i.return}while(i!==null);return!1}var af=Error(s(461)),tn=!1;function gn(e,t,i,o){t.child=e===null?tm(t,null,i,o):Xr(t,e.child,i,o)}function Jm(e,t,i,o,c){i=i.render;var d=t.ref;if("ref"in o){var g={};for(var w in o)w!=="ref"&&(g[w]=o[w])}else g=o;return Gr(t),o=Uc(e,t,i,g,d,c),w=$c(),e!==null&&!tn?(Hc(e,t,c),Ya(e,t,c)):(dt&&w&&bc(t),t.flags|=1,gn(e,t,o,c),t.child)}function Wm(e,t,i,o,c){if(e===null){var d=i.type;return typeof d=="function"&&!yc(d)&&d.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=d,ey(e,t,d,o,c)):(e=Jo(i.type,null,o,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!df(e,c)){var g=d.memoizedProps;if(i=i.compare,i=i!==null?i:js,i(g,o)&&e.ref===t.ref)return Ya(e,t,c)}return t.flags|=1,e=Ua(d,o),e.ref=t.ref,e.return=t,t.child=e}function ey(e,t,i,o,c){if(e!==null){var d=e.memoizedProps;if(js(d,o)&&e.ref===t.ref)if(tn=!1,t.pendingProps=o=d,df(e,c))(e.flags&131072)!==0&&(tn=!0);else return t.lanes=e.lanes,Ya(e,t,c)}return rf(e,t,i,o,c)}function ty(e,t,i,o){var c=o.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|i:i,e!==null){for(o=t.child=e.child,c=0;o!==null;)c=c|o.lanes|o.childLanes,o=o.sibling;o=c&~d}else o=0,t.child=null;return ny(e,t,d,i,o)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&nl(t,d!==null?d.cachePool:null),d!==null?rm(t,d):Rc(),im(t);else return o=t.lanes=536870912,ny(e,t,d!==null?d.baseLanes|i:i,i,o)}else d!==null?(nl(t,d.cachePool),rm(t,d),pr(),t.memoizedState=null):(e!==null&&nl(t,null),Rc(),pr());return gn(e,t,c,i),t.child}function Ys(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function ny(e,t,i,o,c){var d=Nc();return d=d===null?null:{parent:Wt._currentValue,pool:d},t.memoizedState={baseLanes:i,cachePool:d},e!==null&&nl(t,null),Rc(),im(t),e!==null&&ki(e,t,o,!0),t.childLanes=c,null}function vl(e,t){return t=wl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function ay(e,t,i){return Xr(t,e.child,null,i),e=vl(t,t.pendingProps),e.flags|=2,In(t),t.memoizedState=null,e}function JS(e,t,i){var o=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(dt){if(o.mode==="hidden")return e=vl(t,o),t.lanes=536870912,Ys(null,e);if(Lc(t),(e=Ut)?(e=mg(e,ea),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:sr!==null?{id:wa,overflow:Sa}:null,retryLane:536870912,hydrationErrors:null},i=Hp(e),i.return=t,t.child=i,mn=t,Ut=null)):e=null,e===null)throw lr(t);return t.lanes=536870912,null}return vl(t,o)}var d=e.memoizedState;if(d!==null){var g=d.dehydrated;if(Lc(t),c)if(t.flags&256)t.flags&=-257,t=ay(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(tn||ki(e,t,i,!1),c=(i&e.childLanes)!==0,tn||c){if(o=Mt,o!==null&&(g=zo(o,i),g!==0&&g!==d.retryLane))throw d.retryLane=g,Ir(e,g),zn(o,e,g),af;jl(),t=ay(e,t,i)}else e=d.treeContext,Ut=na(g.nextSibling),mn=t,dt=!0,or=null,ea=!1,e!==null&&qp(t,e),t=vl(t,o),t.flags|=4096;return t}return e=Ua(e.child,{mode:o.mode,children:o.children}),e.ref=t.ref,t.child=e,e.return=t,e}function bl(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function rf(e,t,i,o,c){return Gr(t),i=Uc(e,t,i,o,void 0,c),o=$c(),e!==null&&!tn?(Hc(e,t,c),Ya(e,t,c)):(dt&&o&&bc(t),t.flags|=1,gn(e,t,i,c),t.child)}function ry(e,t,i,o,c,d){return Gr(t),t.updateQueue=null,i=om(t,o,i,c),sm(e),o=$c(),e!==null&&!tn?(Hc(e,t,d),Ya(e,t,d)):(dt&&o&&bc(t),t.flags|=1,gn(e,t,i,d),t.child)}function iy(e,t,i,o,c){if(Gr(t),t.stateNode===null){var d=wi,g=i.contextType;typeof g=="object"&&g!==null&&(d=yn(g)),d=new i(o,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=tf,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=o,d.state=t.memoizedState,d.refs={},Ac(t),g=i.contextType,d.context=typeof g=="object"&&g!==null?yn(g):wi,d.state=t.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(ef(t,i,g,o),d.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&tf.enqueueReplaceState(d,d.state,null),$s(t,o,d,c),Us(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),o=!0}else if(e===null){d=t.stateNode;var w=t.memoizedProps,T=Qr(i,w);d.props=T;var z=d.context,ee=i.contextType;g=wi,typeof ee=="object"&&ee!==null&&(g=yn(ee));var ne=i.getDerivedStateFromProps;ee=typeof ne=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=t.pendingProps!==w,ee||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||z!==g)&&Gm(t,d,o,g),cr=!1;var $=t.memoizedState;d.state=$,$s(t,o,d,c),Us(),z=t.memoizedState,w||$!==z||cr?(typeof ne=="function"&&(ef(t,i,ne,o),z=t.memoizedState),(T=cr||Ym(t,i,T,o,$,z,g))?(ee||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=z),d.props=o,d.state=z,d.context=g,o=T):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{d=t.stateNode,_c(e,t),g=t.memoizedProps,ee=Qr(i,g),d.props=ee,ne=t.pendingProps,$=d.context,z=i.contextType,T=wi,typeof z=="object"&&z!==null&&(T=yn(z)),w=i.getDerivedStateFromProps,(z=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==ne||$!==T)&&Gm(t,d,o,T),cr=!1,$=t.memoizedState,d.state=$,$s(t,o,d,c),Us();var Y=t.memoizedState;g!==ne||$!==Y||cr||e!==null&&e.dependencies!==null&&el(e.dependencies)?(typeof w=="function"&&(ef(t,i,w,o),Y=t.memoizedState),(ee=cr||Ym(t,i,ee,o,$,Y,T)||e!==null&&e.dependencies!==null&&el(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,Y,T),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,Y,T)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=Y),d.props=o,d.state=Y,d.context=T,o=ee):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),o=!1)}return d=o,bl(e,t),o=(t.flags&128)!==0,d||o?(d=t.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&o?(t.child=Xr(t,e.child,null,c),t.child=Xr(t,null,i,c)):gn(e,t,i,c),t.memoizedState=d.state,e=t.child):e=Ya(e,t,c),e}function sy(e,t,i,o){return qr(),t.flags|=256,gn(e,t,i,o),t.child}var sf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function of(e){return{baseLanes:e,cachePool:Xp()}}function lf(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=qn),e}function oy(e,t,i){var o=t.pendingProps,c=!1,d=(t.flags&128)!==0,g;if((g=d)||(g=e!==null&&e.memoizedState===null?!1:(Kt.current&2)!==0),g&&(c=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(dt){if(c?hr(t):pr(),(e=Ut)?(e=mg(e,ea),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:sr!==null?{id:wa,overflow:Sa}:null,retryLane:536870912,hydrationErrors:null},i=Hp(e),i.return=t,t.child=i,mn=t,Ut=null)):e=null,e===null)throw lr(t);return Yf(e)?t.lanes=32:t.lanes=536870912,null}var w=o.children;return o=o.fallback,c?(pr(),c=t.mode,w=wl({mode:"hidden",children:w},c),o=Vr(o,c,i,null),w.return=t,o.return=t,w.sibling=o,t.child=w,o=t.child,o.memoizedState=of(i),o.childLanes=lf(e,g,i),t.memoizedState=sf,Ys(null,o)):(hr(t),uf(t,w))}var T=e.memoizedState;if(T!==null&&(w=T.dehydrated,w!==null)){if(d)t.flags&256?(hr(t),t.flags&=-257,t=cf(e,t,i)):t.memoizedState!==null?(pr(),t.child=e.child,t.flags|=128,t=null):(pr(),w=o.fallback,c=t.mode,o=wl({mode:"visible",children:o.children},c),w=Vr(w,c,i,null),w.flags|=2,o.return=t,w.return=t,o.sibling=w,t.child=o,Xr(t,e.child,null,i),o=t.child,o.memoizedState=of(i),o.childLanes=lf(e,g,i),t.memoizedState=sf,t=Ys(null,o));else if(hr(t),Yf(w)){if(g=w.nextSibling&&w.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(s(419)),o.stack="",o.digest=g,Ds({value:o,source:null,stack:null}),t=cf(e,t,i)}else if(tn||ki(e,t,i,!1),g=(i&e.childLanes)!==0,tn||g){if(g=Mt,g!==null&&(o=zo(g,i),o!==0&&o!==T.retryLane))throw T.retryLane=o,Ir(e,o),zn(g,e,o),af;qf(w)||jl(),t=cf(e,t,i)}else qf(w)?(t.flags|=192,t.child=e.child,t=null):(e=T.treeContext,Ut=na(w.nextSibling),mn=t,dt=!0,or=null,ea=!1,e!==null&&qp(t,e),t=uf(t,o.children),t.flags|=4096);return t}return c?(pr(),w=o.fallback,c=t.mode,T=e.child,z=T.sibling,o=Ua(T,{mode:"hidden",children:o.children}),o.subtreeFlags=T.subtreeFlags&65011712,z!==null?w=Ua(z,w):(w=Vr(w,c,i,null),w.flags|=2),w.return=t,o.return=t,o.sibling=w,t.child=o,Ys(null,o),o=t.child,w=e.child.memoizedState,w===null?w=of(i):(c=w.cachePool,c!==null?(T=Wt._currentValue,c=c.parent!==T?{parent:T,pool:T}:c):c=Xp(),w={baseLanes:w.baseLanes|i,cachePool:c}),o.memoizedState=w,o.childLanes=lf(e,g,i),t.memoizedState=sf,Ys(e.child,o)):(hr(t),i=e.child,e=i.sibling,i=Ua(i,{mode:"visible",children:o.children}),i.return=t,i.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=i,t.memoizedState=null,i)}function uf(e,t){return t=wl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function wl(e,t){return e=$n(22,e,null,t),e.lanes=0,e}function cf(e,t,i){return Xr(t,e.child,null,i),e=uf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ly(e,t,i){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),kc(e.return,t,i)}function ff(e,t,i,o,c,d){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:c,treeForkCount:d}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=i,g.tailMode=c,g.treeForkCount=d)}function uy(e,t,i){var o=t.pendingProps,c=o.revealOrder,d=o.tail;o=o.children;var g=Kt.current,w=(g&2)!==0;if(w?(g=g&1|2,t.flags|=128):g&=1,_(Kt,g),gn(e,t,o,i),o=dt?_s:0,!w&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ly(e,i,t);else if(e.tag===19)ly(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(i=t.child,c=null;i!==null;)e=i.alternate,e!==null&&ll(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=t.child,t.child=null):(c=i.sibling,i.sibling=null),ff(t,!1,c,i,d,o);break;case"backwards":case"unstable_legacy-backwards":for(i=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&ll(e)===null){t.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}ff(t,!0,i,null,d,o);break;case"together":ff(t,!1,null,null,void 0,o);break;default:t.memoizedState=null}return t.child}function Ya(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),gr|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(ki(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,i=Ua(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Ua(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function df(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&el(e)))}function WS(e,t,i){switch(t.tag){case 3:Be(t,t.stateNode.containerInfo),ur(t,Wt,e.memoizedState.cache),qr();break;case 27:case 5:Ee(t);break;case 4:Be(t,t.stateNode.containerInfo);break;case 10:ur(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Lc(t),null;break;case 13:var o=t.memoizedState;if(o!==null)return o.dehydrated!==null?(hr(t),t.flags|=128,null):(i&t.child.childLanes)!==0?oy(e,t,i):(hr(t),e=Ya(e,t,i),e!==null?e.sibling:null);hr(t);break;case 19:var c=(e.flags&128)!==0;if(o=(i&t.childLanes)!==0,o||(ki(e,t,i,!1),o=(i&t.childLanes)!==0),c){if(o)return uy(e,t,i);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),_(Kt,Kt.current),o)break;return null;case 22:return t.lanes=0,ty(e,t,i,t.pendingProps);case 24:ur(t,Wt,e.memoizedState.cache)}return Ya(e,t,i)}function cy(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)tn=!0;else{if(!df(e,i)&&(t.flags&128)===0)return tn=!1,WS(e,t,i);tn=(e.flags&131072)!==0}else tn=!1,dt&&(t.flags&1048576)!==0&&Vp(t,_s,t.index);switch(t.lanes=0,t.tag){case 16:e:{var o=t.pendingProps;if(e=Pr(t.elementType),t.type=e,typeof e=="function")yc(e)?(o=Qr(e,o),t.tag=1,t=iy(null,t,e,o,i)):(t.tag=0,t=rf(null,t,e,o,i));else{if(e!=null){var c=e.$$typeof;if(c===F){t.tag=11,t=Jm(null,t,e,o,i);break e}else if(c===H){t.tag=14,t=Wm(null,t,e,o,i);break e}}throw t=Ge(e)||e,Error(s(306,t,""))}}return t;case 0:return rf(e,t,t.type,t.pendingProps,i);case 1:return o=t.type,c=Qr(o,t.pendingProps),iy(e,t,o,c,i);case 3:e:{if(Be(t,t.stateNode.containerInfo),e===null)throw Error(s(387));o=t.pendingProps;var d=t.memoizedState;c=d.element,_c(e,t),$s(t,o,null,i);var g=t.memoizedState;if(o=g.cache,ur(t,Wt,o),o!==d.cache&&Cc(t,[Wt],i,!0),Us(),o=g.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=sy(e,t,o,i);break e}else if(o!==c){c=Qn(Error(s(424)),t),Ds(c),t=sy(e,t,o,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ut=na(e.firstChild),mn=t,dt=!0,or=null,ea=!0,i=tm(t,null,o,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(qr(),o===c){t=Ya(e,t,i);break e}gn(e,t,o,i)}t=t.child}return t;case 26:return bl(e,t),e===null?(i=Sg(t.type,null,t.pendingProps,null))?t.memoizedState=i:dt||(i=t.type,e=t.pendingProps,o=Ll(Oe.current).createElement(i),o[on]=t,o[fn]=e,vn(o,i,e),St(o),t.stateNode=o):t.memoizedState=Sg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ee(t),e===null&&dt&&(o=t.stateNode=vg(t.type,t.pendingProps,Oe.current),mn=t,ea=!0,c=Ut,xr(t.type)?(Gf=c,Ut=na(o.firstChild)):Ut=c),gn(e,t,t.pendingProps.children,i),bl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&dt&&((c=o=Ut)&&(o=jx(o,t.type,t.pendingProps,ea),o!==null?(t.stateNode=o,mn=t,Ut=na(o.firstChild),ea=!1,c=!0):c=!1),c||lr(t)),Ee(t),c=t.type,d=t.pendingProps,g=e!==null?e.memoizedProps:null,o=d.children,Hf(c,d)?o=null:g!==null&&Hf(c,g)&&(t.flags|=32),t.memoizedState!==null&&(c=Uc(e,t,YS,null,null,i),io._currentValue=c),bl(e,t),gn(e,t,o,i),t.child;case 6:return e===null&&dt&&((e=i=Ut)&&(i=Ax(i,t.pendingProps,ea),i!==null?(t.stateNode=i,mn=t,Ut=null,e=!0):e=!1),e||lr(t)),null;case 13:return oy(e,t,i);case 4:return Be(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Xr(t,null,o,i):gn(e,t,o,i),t.child;case 11:return Jm(e,t,t.type,t.pendingProps,i);case 7:return gn(e,t,t.pendingProps,i),t.child;case 8:return gn(e,t,t.pendingProps.children,i),t.child;case 12:return gn(e,t,t.pendingProps.children,i),t.child;case 10:return o=t.pendingProps,ur(t,t.type,o.value),gn(e,t,o.children,i),t.child;case 9:return c=t.type._context,o=t.pendingProps.children,Gr(t),c=yn(c),o=o(c),t.flags|=1,gn(e,t,o,i),t.child;case 14:return Wm(e,t,t.type,t.pendingProps,i);case 15:return ey(e,t,t.type,t.pendingProps,i);case 19:return uy(e,t,i);case 31:return JS(e,t,i);case 22:return ty(e,t,i,t.pendingProps);case 24:return Gr(t),o=yn(Wt),e===null?(c=Nc(),c===null&&(c=Mt,d=Tc(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=i),c=d),t.memoizedState={parent:o,cache:c},Ac(t),ur(t,Wt,c)):((e.lanes&i)!==0&&(_c(e,t),$s(t,null,null,i),Us()),c=e.memoizedState,d=t.memoizedState,c.parent!==o?(c={parent:o,cache:o},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),ur(t,Wt,o)):(o=d.cache,ur(t,Wt,o),o!==c.cache&&Cc(t,[Wt],i,!0))),gn(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Ga(e){e.flags|=4}function hf(e,t,i,o,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(By())e.flags|=8192;else throw Fr=rl,jc}else e.flags&=-16777217}function fy(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Tg(t))if(By())e.flags|=8192;else throw Fr=rl,jc}function Sl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?ws():536870912,e.lanes|=t,Li|=t)}function Gs(e,t){if(!dt)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function $t(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(t)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=i,t}function ex(e,t,i){var o=t.pendingProps;switch(wc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(t),null;case 1:return $t(t),null;case 3:return i=t.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),t.memoizedState.cache!==o&&(t.flags|=2048),Ia(Wt),Le(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Ei(t)?Ga(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,xc())),$t(t),null;case 26:var c=t.type,d=t.memoizedState;return e===null?(Ga(t),d!==null?($t(t),fy(t,d)):($t(t),hf(t,c,null,o,i))):d?d!==e.memoizedState?(Ga(t),$t(t),fy(t,d)):($t(t),t.flags&=-16777217):(e=e.memoizedProps,e!==o&&Ga(t),$t(t),hf(t,c,e,o,i)),null;case 27:if(qe(t),i=Oe.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==o&&Ga(t);else{if(!o){if(t.stateNode===null)throw Error(s(166));return $t(t),null}e=G.current,Ei(t)?Yp(t):(e=vg(c,o,i),t.stateNode=e,Ga(t))}return $t(t),null;case 5:if(qe(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==o&&Ga(t);else{if(!o){if(t.stateNode===null)throw Error(s(166));return $t(t),null}if(d=G.current,Ei(t))Yp(t);else{var g=Ll(Oe.current);switch(d){case 1:d=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:d=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":d=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":d=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":d=g.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?g.createElement(c,{is:o.is}):g.createElement(c)}}d[on]=t,d[fn]=o;e:for(g=t.child;g!==null;){if(g.tag===5||g.tag===6)d.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}t.stateNode=d;e:switch(vn(d,c,o),c){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Ga(t)}}return $t(t),hf(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==o&&Ga(t);else{if(typeof o!="string"&&t.stateNode===null)throw Error(s(166));if(e=Oe.current,Ei(t)){if(e=t.stateNode,i=t.memoizedProps,o=null,c=mn,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[on]=t,e=!!(e.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||og(e.nodeValue,i)),e||lr(t,!0)}else e=Ll(e).createTextNode(o),e[on]=t,t.stateNode=e}return $t(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(o=Ei(t),i!==null){if(e===null){if(!o)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[on]=t}else qr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;$t(t),e=!1}else i=xc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(In(t),t):(In(t),null);if((t.flags&128)!==0)throw Error(s(558))}return $t(t),null;case 13:if(o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=Ei(t),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(s(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[on]=t}else qr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;$t(t),c=!1}else c=xc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(In(t),t):(In(t),null)}return In(t),(t.flags&128)!==0?(t.lanes=i,t):(i=o!==null,e=e!==null&&e.memoizedState!==null,i&&(o=t.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==c&&(o.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),Sl(t,t.updateQueue),$t(t),null);case 4:return Le(),e===null&&zf(t.stateNode.containerInfo),$t(t),null;case 10:return Ia(t.type),$t(t),null;case 19:if(R(Kt),o=t.memoizedState,o===null)return $t(t),null;if(c=(t.flags&128)!==0,d=o.rendering,d===null)if(c)Gs(o,!1);else{if(Ft!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=ll(e),d!==null){for(t.flags|=128,Gs(o,!1),e=d.updateQueue,t.updateQueue=e,Sl(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)$p(i,e),i=i.sibling;return _(Kt,Kt.current&1|2),dt&&$a(t,o.treeForkCount),t.child}e=e.sibling}o.tail!==null&&He()>Tl&&(t.flags|=128,c=!0,Gs(o,!1),t.lanes=4194304)}else{if(!c)if(e=ll(d),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,Sl(t,e),Gs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!dt)return $t(t),null}else 2*He()-o.renderingStartTime>Tl&&i!==536870912&&(t.flags|=128,c=!0,Gs(o,!1),t.lanes=4194304);o.isBackwards?(d.sibling=t.child,t.child=d):(e=o.last,e!==null?e.sibling=d:t.child=d,o.last=d)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=He(),e.sibling=null,i=Kt.current,_(Kt,c?i&1|2:i&1),dt&&$a(t,o.treeForkCount),e):($t(t),null);case 22:case 23:return In(t),zc(),o=t.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(t.flags|=8192):o&&(t.flags|=8192),o?(i&536870912)!==0&&(t.flags&128)===0&&($t(t),t.subtreeFlags&6&&(t.flags|=8192)):$t(t),i=t.updateQueue,i!==null&&Sl(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),o=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),o!==i&&(t.flags|=2048),e!==null&&R(Zr),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Ia(Wt),$t(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function tx(e,t){switch(wc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ia(Wt),Le(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return qe(t),null;case 31:if(t.memoizedState!==null){if(In(t),t.alternate===null)throw Error(s(340));qr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(In(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));qr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return R(Kt),null;case 4:return Le(),null;case 10:return Ia(t.type),null;case 22:case 23:return In(t),zc(),e!==null&&R(Zr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ia(Wt),null;case 25:return null;default:return null}}function dy(e,t){switch(wc(t),t.tag){case 3:Ia(Wt),Le();break;case 26:case 27:case 5:qe(t);break;case 4:Le();break;case 31:t.memoizedState!==null&&In(t);break;case 13:In(t);break;case 19:R(Kt);break;case 10:Ia(t.type);break;case 22:case 23:In(t),zc(),e!==null&&R(Zr);break;case 24:Ia(Wt)}}function Zs(e,t){try{var i=t.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var c=o.next;i=c;do{if((i.tag&e)===e){o=void 0;var d=i.create,g=i.inst;o=d(),g.destroy=o}i=i.next}while(i!==c)}}catch(w){Tt(t,t.return,w)}}function mr(e,t,i){try{var o=t.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&e)===e){var g=o.inst,w=g.destroy;if(w!==void 0){g.destroy=void 0,c=t;var T=i,z=w;try{z()}catch(ee){Tt(c,T,ee)}}}o=o.next}while(o!==d)}}catch(ee){Tt(t,t.return,ee)}}function hy(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{am(t,i)}catch(o){Tt(e,e.return,o)}}}function py(e,t,i){i.props=Qr(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(o){Tt(e,t,o)}}function Ps(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof i=="function"?e.refCleanup=i(o):i.current=o}}catch(c){Tt(e,t,c)}}function xa(e,t){var i=e.ref,o=e.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(c){Tt(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(c){Tt(e,t,c)}else i.current=null}function my(e){var t=e.type,i=e.memoizedProps,o=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break e;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(c){Tt(e,e.return,c)}}function pf(e,t,i){try{var o=e.stateNode;Ex(o,e.type,i,t),o[fn]=t}catch(c){Tt(e,e.return,c)}}function yy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&xr(e.type)||e.tag===4}function mf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&xr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yf(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=La));else if(o!==4&&(o===27&&xr(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(yf(e,t,i),e=e.sibling;e!==null;)yf(e,t,i),e=e.sibling}function xl(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(o!==4&&(o===27&&xr(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(xl(e,t,i),e=e.sibling;e!==null;)xl(e,t,i),e=e.sibling}function gy(e){var t=e.stateNode,i=e.memoizedProps;try{for(var o=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);vn(t,o,i),t[on]=e,t[fn]=i}catch(d){Tt(e,e.return,d)}}var Za=!1,nn=!1,gf=!1,vy=typeof WeakSet=="function"?WeakSet:Set,dn=null;function nx(e,t){if(e=e.containerInfo,Uf=ql,e=Ap(e),uc(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var c=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var g=0,w=-1,T=-1,z=0,ee=0,ne=e,$=null;t:for(;;){for(var Y;ne!==i||c!==0&&ne.nodeType!==3||(w=g+c),ne!==d||o!==0&&ne.nodeType!==3||(T=g+o),ne.nodeType===3&&(g+=ne.nodeValue.length),(Y=ne.firstChild)!==null;)$=ne,ne=Y;for(;;){if(ne===e)break t;if($===i&&++z===c&&(w=g),$===d&&++ee===o&&(T=g),(Y=ne.nextSibling)!==null)break;ne=$,$=ne.parentNode}ne=Y}i=w===-1||T===-1?null:{start:w,end:T}}else i=null}i=i||{start:0,end:0}}else i=null;for($f={focusedElem:e,selectionRange:i},ql=!1,dn=t;dn!==null;)if(t=dn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,dn=e;else for(;dn!==null;){switch(t=dn,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)c=e[i],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,i=t,c=d.memoizedProps,d=d.memoizedState,o=i.stateNode;try{var ke=Qr(i.type,c);e=o.getSnapshotBeforeUpdate(ke,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(Ye){Tt(i,i.return,Ye)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Vf(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Vf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,dn=e;break}dn=t.return}}function by(e,t,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:Fa(e,i),o&4&&Zs(5,i);break;case 1:if(Fa(e,i),o&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(g){Tt(i,i.return,g)}else{var c=Qr(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Tt(i,i.return,g)}}o&64&&hy(i),o&512&&Ps(i,i.return);break;case 3:if(Fa(e,i),o&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{am(e,t)}catch(g){Tt(i,i.return,g)}}break;case 27:t===null&&o&4&&gy(i);case 26:case 5:Fa(e,i),t===null&&o&4&&my(i),o&512&&Ps(i,i.return);break;case 12:Fa(e,i);break;case 31:Fa(e,i),o&4&&xy(e,i);break;case 13:Fa(e,i),o&4&&Ey(e,i),o&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=fx.bind(null,i),_x(e,i))));break;case 22:if(o=i.memoizedState!==null||Za,!o){t=t!==null&&t.memoizedState!==null||nn,c=Za;var d=nn;Za=o,(nn=t)&&!d?Xa(e,i,(i.subtreeFlags&8772)!==0):Fa(e,i),Za=c,nn=d}break;case 30:break;default:Fa(e,i)}}function wy(e){var t=e.alternate;t!==null&&(e.alternate=null,wy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Vt(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qt=null,_n=!1;function Pa(e,t,i){for(i=i.child;i!==null;)Sy(e,t,i),i=i.sibling}function Sy(e,t,i){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(et,i)}catch{}switch(i.tag){case 26:nn||xa(i,t),Pa(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:nn||xa(i,t);var o=qt,c=_n;xr(i.type)&&(qt=i.stateNode,_n=!1),Pa(e,t,i),no(i.stateNode),qt=o,_n=c;break;case 5:nn||xa(i,t);case 6:if(o=qt,c=_n,qt=null,Pa(e,t,i),qt=o,_n=c,qt!==null)if(_n)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(i.stateNode)}catch(d){Tt(i,t,d)}else try{qt.removeChild(i.stateNode)}catch(d){Tt(i,t,d)}break;case 18:qt!==null&&(_n?(e=qt,hg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Yi(e)):hg(qt,i.stateNode));break;case 4:o=qt,c=_n,qt=i.stateNode.containerInfo,_n=!0,Pa(e,t,i),qt=o,_n=c;break;case 0:case 11:case 14:case 15:mr(2,i,t),nn||mr(4,i,t),Pa(e,t,i);break;case 1:nn||(xa(i,t),o=i.stateNode,typeof o.componentWillUnmount=="function"&&py(i,t,o)),Pa(e,t,i);break;case 21:Pa(e,t,i);break;case 22:nn=(o=nn)||i.memoizedState!==null,Pa(e,t,i),nn=o;break;default:Pa(e,t,i)}}function xy(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Yi(e)}catch(i){Tt(t,t.return,i)}}}function Ey(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Yi(e)}catch(i){Tt(t,t.return,i)}}function ax(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new vy),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new vy),t;default:throw Error(s(435,e.tag))}}function El(e,t){var i=ax(e);t.forEach(function(o){if(!i.has(o)){i.add(o);var c=dx.bind(null,e,o);o.then(c,c)}})}function Dn(e,t){var i=t.deletions;if(i!==null)for(var o=0;o<i.length;o++){var c=i[o],d=e,g=t,w=g;e:for(;w!==null;){switch(w.tag){case 27:if(xr(w.type)){qt=w.stateNode,_n=!1;break e}break;case 5:qt=w.stateNode,_n=!1;break e;case 3:case 4:qt=w.stateNode.containerInfo,_n=!0;break e}w=w.return}if(qt===null)throw Error(s(160));Sy(d,g,c),qt=null,_n=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)ky(t,e),t=t.sibling}var ca=null;function ky(e,t){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Dn(t,e),Mn(e),o&4&&(mr(3,e,e.return),Zs(3,e),mr(5,e,e.return));break;case 1:Dn(t,e),Mn(e),o&512&&(nn||i===null||xa(i,i.return)),o&64&&Za&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var c=ca;if(Dn(t,e),Mn(e),o&512&&(nn||i===null||xa(i,i.return)),o&4){var d=i!==null?i.memoizedState:null;if(o=e.memoizedState,i===null)if(o===null)if(e.stateNode===null){e:{o=e.type,i=e.memoizedProps,c=c.ownerDocument||c;t:switch(o){case"title":d=c.getElementsByTagName("title")[0],(!d||d[Ke]||d[on]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(o),c.head.insertBefore(d,c.querySelector("head > title"))),vn(d,o,i),d[on]=e,St(d),o=d;break e;case"link":var g=kg("link","href",c).get(o+(i.href||""));if(g){for(var w=0;w<g.length;w++)if(d=g[w],d.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&d.getAttribute("rel")===(i.rel==null?null:i.rel)&&d.getAttribute("title")===(i.title==null?null:i.title)&&d.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){g.splice(w,1);break t}}d=c.createElement(o),vn(d,o,i),c.head.appendChild(d);break;case"meta":if(g=kg("meta","content",c).get(o+(i.content||""))){for(w=0;w<g.length;w++)if(d=g[w],d.getAttribute("content")===(i.content==null?null:""+i.content)&&d.getAttribute("name")===(i.name==null?null:i.name)&&d.getAttribute("property")===(i.property==null?null:i.property)&&d.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&d.getAttribute("charset")===(i.charSet==null?null:i.charSet)){g.splice(w,1);break t}}d=c.createElement(o),vn(d,o,i),c.head.appendChild(d);break;default:throw Error(s(468,o))}d[on]=e,St(d),o=d}e.stateNode=o}else Cg(c,e.type,e.stateNode);else e.stateNode=Eg(c,o,e.memoizedProps);else d!==o?(d===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):d.count--,o===null?Cg(c,e.type,e.stateNode):Eg(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&pf(e,e.memoizedProps,i.memoizedProps)}break;case 27:Dn(t,e),Mn(e),o&512&&(nn||i===null||xa(i,i.return)),i!==null&&o&4&&pf(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Dn(t,e),Mn(e),o&512&&(nn||i===null||xa(i,i.return)),e.flags&32){c=e.stateNode;try{hi(c,"")}catch(ke){Tt(e,e.return,ke)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,pf(e,c,i!==null?i.memoizedProps:c)),o&1024&&(gf=!0);break;case 6:if(Dn(t,e),Mn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,i=e.stateNode;try{i.nodeValue=o}catch(ke){Tt(e,e.return,ke)}}break;case 3:if($l=null,c=ca,ca=Bl(t.containerInfo),Dn(t,e),ca=c,Mn(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{Yi(t.containerInfo)}catch(ke){Tt(e,e.return,ke)}gf&&(gf=!1,Cy(e));break;case 4:o=ca,ca=Bl(e.stateNode.containerInfo),Dn(t,e),Mn(e),ca=o;break;case 12:Dn(t,e),Mn(e);break;case 31:Dn(t,e),Mn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,El(e,o)));break;case 13:Dn(t,e),Mn(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Cl=He()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,El(e,o)));break;case 22:c=e.memoizedState!==null;var T=i!==null&&i.memoizedState!==null,z=Za,ee=nn;if(Za=z||c,nn=ee||T,Dn(t,e),nn=ee,Za=z,Mn(e),o&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(i===null||T||Za||nn||Jr(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){T=i=t;try{if(d=T.stateNode,c)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{w=T.stateNode;var ne=T.memoizedProps.style,$=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;w.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(ke){Tt(T,T.return,ke)}}}else if(t.tag===6){if(i===null){T=t;try{T.stateNode.nodeValue=c?"":T.memoizedProps}catch(ke){Tt(T,T.return,ke)}}}else if(t.tag===18){if(i===null){T=t;try{var Y=T.stateNode;c?pg(Y,!0):pg(T.stateNode,!1)}catch(ke){Tt(T,T.return,ke)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}o&4&&(o=e.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,El(e,i))));break;case 19:Dn(t,e),Mn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,El(e,o)));break;case 30:break;case 21:break;default:Dn(t,e),Mn(e)}}function Mn(e){var t=e.flags;if(t&2){try{for(var i,o=e.return;o!==null;){if(yy(o)){i=o;break}o=o.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var c=i.stateNode,d=mf(e);xl(e,d,c);break;case 5:var g=i.stateNode;i.flags&32&&(hi(g,""),i.flags&=-33);var w=mf(e);xl(e,w,g);break;case 3:case 4:var T=i.stateNode.containerInfo,z=mf(e);yf(e,z,T);break;default:throw Error(s(161))}}catch(ee){Tt(e,e.return,ee)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Cy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Cy(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Fa(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)by(e,t.alternate,t),t=t.sibling}function Jr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:mr(4,t,t.return),Jr(t);break;case 1:xa(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&py(t,t.return,i),Jr(t);break;case 27:no(t.stateNode);case 26:case 5:xa(t,t.return),Jr(t);break;case 22:t.memoizedState===null&&Jr(t);break;case 30:Jr(t);break;default:Jr(t)}e=e.sibling}}function Xa(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var o=t.alternate,c=e,d=t,g=d.flags;switch(d.tag){case 0:case 11:case 15:Xa(c,d,i),Zs(4,d);break;case 1:if(Xa(c,d,i),o=d,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){Tt(o,o.return,z)}if(o=d,c=o.updateQueue,c!==null){var w=o.stateNode;try{var T=c.shared.hiddenCallbacks;if(T!==null)for(c.shared.hiddenCallbacks=null,c=0;c<T.length;c++)nm(T[c],w)}catch(z){Tt(o,o.return,z)}}i&&g&64&&hy(d),Ps(d,d.return);break;case 27:gy(d);case 26:case 5:Xa(c,d,i),i&&o===null&&g&4&&my(d),Ps(d,d.return);break;case 12:Xa(c,d,i);break;case 31:Xa(c,d,i),i&&g&4&&xy(c,d);break;case 13:Xa(c,d,i),i&&g&4&&Ey(c,d);break;case 22:d.memoizedState===null&&Xa(c,d,i),Ps(d,d.return);break;case 30:break;default:Xa(c,d,i)}t=t.sibling}}function vf(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Ms(i))}function bf(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ms(e))}function fa(e,t,i,o){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ty(e,t,i,o),t=t.sibling}function Ty(e,t,i,o){var c=t.flags;switch(t.tag){case 0:case 11:case 15:fa(e,t,i,o),c&2048&&Zs(9,t);break;case 1:fa(e,t,i,o);break;case 3:fa(e,t,i,o),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ms(e)));break;case 12:if(c&2048){fa(e,t,i,o),e=t.stateNode;try{var d=t.memoizedProps,g=d.id,w=d.onPostCommit;typeof w=="function"&&w(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){Tt(t,t.return,T)}}else fa(e,t,i,o);break;case 31:fa(e,t,i,o);break;case 13:fa(e,t,i,o);break;case 23:break;case 22:d=t.stateNode,g=t.alternate,t.memoizedState!==null?d._visibility&2?fa(e,t,i,o):Fs(e,t):d._visibility&2?fa(e,t,i,o):(d._visibility|=2,Mi(e,t,i,o,(t.subtreeFlags&10256)!==0||!1)),c&2048&&vf(g,t);break;case 24:fa(e,t,i,o),c&2048&&bf(t.alternate,t);break;default:fa(e,t,i,o)}}function Mi(e,t,i,o,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,g=t,w=i,T=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Mi(d,g,w,T,c),Zs(8,g);break;case 23:break;case 22:var ee=g.stateNode;g.memoizedState!==null?ee._visibility&2?Mi(d,g,w,T,c):Fs(d,g):(ee._visibility|=2,Mi(d,g,w,T,c)),c&&z&2048&&vf(g.alternate,g);break;case 24:Mi(d,g,w,T,c),c&&z&2048&&bf(g.alternate,g);break;default:Mi(d,g,w,T,c)}t=t.sibling}}function Fs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,o=t,c=o.flags;switch(o.tag){case 22:Fs(i,o),c&2048&&vf(o.alternate,o);break;case 24:Fs(i,o),c&2048&&bf(o.alternate,o);break;default:Fs(i,o)}t=t.sibling}}var Xs=8192;function Ri(e,t,i){if(e.subtreeFlags&Xs)for(e=e.child;e!==null;)Oy(e,t,i),e=e.sibling}function Oy(e,t,i){switch(e.tag){case 26:Ri(e,t,i),e.flags&Xs&&e.memoizedState!==null&&qx(i,ca,e.memoizedState,e.memoizedProps);break;case 5:Ri(e,t,i);break;case 3:case 4:var o=ca;ca=Bl(e.stateNode.containerInfo),Ri(e,t,i),ca=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Xs,Xs=16777216,Ri(e,t,i),Xs=o):Ri(e,t,i));break;default:Ri(e,t,i)}}function Ny(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ks(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var o=t[i];dn=o,Ay(o,e)}Ny(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)jy(e),e=e.sibling}function jy(e){switch(e.tag){case 0:case 11:case 15:Ks(e),e.flags&2048&&mr(9,e,e.return);break;case 3:Ks(e);break;case 12:Ks(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,kl(e)):Ks(e);break;default:Ks(e)}}function kl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var o=t[i];dn=o,Ay(o,e)}Ny(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:mr(8,t,t.return),kl(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,kl(t));break;default:kl(t)}e=e.sibling}}function Ay(e,t){for(;dn!==null;){var i=dn;switch(i.tag){case 0:case 11:case 15:mr(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ms(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,dn=o;else e:for(i=e;dn!==null;){o=dn;var c=o.sibling,d=o.return;if(wy(o),o===i){dn=null;break e}if(c!==null){c.return=d,dn=c;break e}dn=d}}}var rx={getCacheForType:function(e){var t=yn(Wt),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return yn(Wt).controller.signal}},ix=typeof WeakMap=="function"?WeakMap:Map,bt=0,Mt=null,st=null,lt=0,Ct=0,Vn=null,yr=!1,zi=!1,wf=!1,Ka=0,Ft=0,gr=0,Wr=0,Sf=0,qn=0,Li=0,Qs=null,Rn=null,xf=!1,Cl=0,_y=0,Tl=1/0,Ol=null,vr=null,un=0,br=null,Bi=null,Qa=0,Ef=0,kf=null,Dy=null,Js=0,Cf=null;function Yn(){return(bt&2)!==0&&lt!==0?lt&-lt:C.T!==null?_f():rr()}function My(){if(qn===0)if((lt&536870912)===0||dt){var e=pn;pn<<=1,(pn&3932160)===0&&(pn=262144),qn=e}else qn=536870912;return e=Hn.current,e!==null&&(e.flags|=32),qn}function zn(e,t,i){(e===Mt&&(Ct===2||Ct===9)||e.cancelPendingCommit!==null)&&(Ui(e,0),wr(e,lt,qn,!1)),ar(e,i),((bt&2)===0||e!==Mt)&&(e===Mt&&((bt&2)===0&&(Wr|=i),Ft===4&&wr(e,lt,qn,!1)),Ea(e))}function Ry(e,t,i){if((bt&6)!==0)throw Error(s(327));var o=!i&&(t&127)===0&&(t&e.expiredLanes)===0||it(e,t),c=o?lx(e,t):Of(e,t,!0),d=o;do{if(c===0){zi&&!o&&wr(e,t,0,!1);break}else{if(i=e.current.alternate,d&&!sx(i)){c=Of(e,t,!1),d=!1;continue}if(c===2){if(d=t,e.errorRecoveryDisabledLanes&d)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var w=e;c=Qs;var T=w.current.memoizedState.isDehydrated;if(T&&(Ui(w,g).flags|=256),g=Of(w,g,!1),g!==2){if(wf&&!T){w.errorRecoveryDisabledLanes|=d,Wr|=d,c=4;break e}d=Rn,Rn=c,d!==null&&(Rn===null?Rn=d:Rn.push.apply(Rn,d))}c=g}if(d=!1,c!==2)continue}}if(c===1){Ui(e,0),wr(e,t,0,!0);break}e:{switch(o=e,d=c,d){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:wr(o,t,qn,!yr);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(c=Cl+300-He(),10<c)){if(wr(o,t,qn,!yr),Bt(o,0,!0)!==0)break e;Qa=t,o.timeoutHandle=fg(zy.bind(null,o,i,Rn,Ol,xf,t,qn,Wr,Li,yr,d,"Throttled",-0,0),c);break e}zy(o,i,Rn,Ol,xf,t,qn,Wr,Li,yr,d,null,-0,0)}}break}while(!0);Ea(e)}function zy(e,t,i,o,c,d,g,w,T,z,ee,ne,$,Y){if(e.timeoutHandle=-1,ne=t.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:La},Oy(t,d,ne);var ke=(d&62914560)===d?Cl-He():(d&4194048)===d?_y-He():0;if(ke=Yx(ne,ke),ke!==null){Qa=d,e.cancelPendingCommit=ke(qy.bind(null,e,t,d,i,o,c,g,w,T,ee,ne,null,$,Y)),wr(e,d,g,!z);return}}qy(e,t,d,i,o,c,g,w,T)}function sx(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var c=i[o],d=c.getSnapshot;c=c.value;try{if(!Un(d(),c))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function wr(e,t,i,o){t&=~Sf,t&=~Wr,e.suspendedLanes|=t,e.pingedLanes&=~t,o&&(e.warmLanes|=t),o=e.expirationTimes;for(var c=t;0<c;){var d=31-j(c),g=1<<d;o[d]=-1,c&=~g}i!==0&&Ss(e,i,t)}function Nl(){return(bt&6)===0?(Ws(0),!1):!0}function Tf(){if(st!==null){if(Ct===0)var e=st.return;else e=st,Ha=Yr=null,Ic(e),Ni=null,zs=0,e=st;for(;e!==null;)dy(e.alternate,e),e=e.return;st=null}}function Ui(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,Tx(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Qa=0,Tf(),Mt=e,st=i=Ua(e.current,null),lt=t,Ct=0,Vn=null,yr=!1,zi=it(e,t),wf=!1,Li=qn=Sf=Wr=gr=Ft=0,Rn=Qs=null,xf=!1,(t&8)!==0&&(t|=t&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=t;0<o;){var c=31-j(o),d=1<<c;t|=e[c],o&=~d}return Ka=t,Xo(),i}function Ly(e,t){Je=null,C.H=qs,t===Oi||t===al?(t=Jp(),Ct=3):t===jc?(t=Jp(),Ct=4):Ct=t===af?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Vn=t,st===null&&(Ft=1,gl(e,Qn(t,e.current)))}function By(){var e=Hn.current;return e===null?!0:(lt&4194048)===lt?ta===null:(lt&62914560)===lt||(lt&536870912)!==0?e===ta:!1}function Uy(){var e=C.H;return C.H=qs,e===null?qs:e}function $y(){var e=C.A;return C.A=rx,e}function jl(){Ft=4,yr||(lt&4194048)!==lt&&Hn.current!==null||(zi=!0),(gr&134217727)===0&&(Wr&134217727)===0||Mt===null||wr(Mt,lt,qn,!1)}function Of(e,t,i){var o=bt;bt|=2;var c=Uy(),d=$y();(Mt!==e||lt!==t)&&(Ol=null,Ui(e,t)),t=!1;var g=Ft;e:do try{if(Ct!==0&&st!==null){var w=st,T=Vn;switch(Ct){case 8:Tf(),g=6;break e;case 3:case 2:case 9:case 6:Hn.current===null&&(t=!0);var z=Ct;if(Ct=0,Vn=null,$i(e,w,T,z),i&&zi){g=0;break e}break;default:z=Ct,Ct=0,Vn=null,$i(e,w,T,z)}}ox(),g=Ft;break}catch(ee){Ly(e,ee)}while(!0);return t&&e.shellSuspendCounter++,Ha=Yr=null,bt=o,C.H=c,C.A=d,st===null&&(Mt=null,lt=0,Xo()),g}function ox(){for(;st!==null;)Hy(st)}function lx(e,t){var i=bt;bt|=2;var o=Uy(),c=$y();Mt!==e||lt!==t?(Ol=null,Tl=He()+500,Ui(e,t)):zi=it(e,t);e:do try{if(Ct!==0&&st!==null){t=st;var d=Vn;t:switch(Ct){case 1:Ct=0,Vn=null,$i(e,t,d,1);break;case 2:case 9:if(Kp(d)){Ct=0,Vn=null,Iy(t);break}t=function(){Ct!==2&&Ct!==9||Mt!==e||(Ct=7),Ea(e)},d.then(t,t);break e;case 3:Ct=7;break e;case 4:Ct=5;break e;case 7:Kp(d)?(Ct=0,Vn=null,Iy(t)):(Ct=0,Vn=null,$i(e,t,d,7));break;case 5:var g=null;switch(st.tag){case 26:g=st.memoizedState;case 5:case 27:var w=st;if(g?Tg(g):w.stateNode.complete){Ct=0,Vn=null;var T=w.sibling;if(T!==null)st=T;else{var z=w.return;z!==null?(st=z,Al(z)):st=null}break t}}Ct=0,Vn=null,$i(e,t,d,5);break;case 6:Ct=0,Vn=null,$i(e,t,d,6);break;case 8:Tf(),Ft=6;break e;default:throw Error(s(462))}}ux();break}catch(ee){Ly(e,ee)}while(!0);return Ha=Yr=null,C.H=o,C.A=c,bt=i,st!==null?0:(Mt=null,lt=0,Xo(),Ft)}function ux(){for(;st!==null&&!vt();)Hy(st)}function Hy(e){var t=cy(e.alternate,e,Ka);e.memoizedProps=e.pendingProps,t===null?Al(e):st=t}function Iy(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=ry(i,t,t.pendingProps,t.type,void 0,lt);break;case 11:t=ry(i,t,t.pendingProps,t.type.render,t.ref,lt);break;case 5:Ic(t);default:dy(i,t),t=st=$p(t,Ka),t=cy(i,t,Ka)}e.memoizedProps=e.pendingProps,t===null?Al(e):st=t}function $i(e,t,i,o){Ha=Yr=null,Ic(t),Ni=null,zs=0;var c=t.return;try{if(QS(e,c,t,i,lt)){Ft=1,gl(e,Qn(i,e.current)),st=null;return}}catch(d){if(c!==null)throw st=c,d;Ft=1,gl(e,Qn(i,e.current)),st=null;return}t.flags&32768?(dt||o===1?e=!0:zi||(lt&536870912)!==0?e=!1:(yr=e=!0,(o===2||o===9||o===3||o===6)&&(o=Hn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Vy(t,e)):Al(t)}function Al(e){var t=e;do{if((t.flags&32768)!==0){Vy(t,yr);return}e=t.return;var i=ex(t.alternate,t,Ka);if(i!==null){st=i;return}if(t=t.sibling,t!==null){st=t;return}st=t=e}while(t!==null);Ft===0&&(Ft=5)}function Vy(e,t){do{var i=tx(e.alternate,e);if(i!==null){i.flags&=32767,st=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){st=e;return}st=e=i}while(e!==null);Ft=6,st=null}function qy(e,t,i,o,c,d,g,w,T){e.cancelPendingCommit=null;do _l();while(un!==0);if((bt&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(d=t.lanes|t.childLanes,d|=pc,Ro(e,i,d,g,w,T),e===Mt&&(st=Mt=null,lt=0),Bi=t,br=e,Qa=i,Ef=d,kf=c,Dy=o,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,hx(Qe,function(){return Fy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||o){o=C.T,C.T=null,c=U.p,U.p=2,g=bt,bt|=4;try{nx(e,t,i)}finally{bt=g,U.p=c,C.T=o}}un=1,Yy(),Gy(),Zy()}}function Yy(){if(un===1){un=0;var e=br,t=Bi,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=C.T,C.T=null;var o=U.p;U.p=2;var c=bt;bt|=4;try{ky(t,e);var d=$f,g=Ap(e.containerInfo),w=d.focusedElem,T=d.selectionRange;if(g!==w&&w&&w.ownerDocument&&jp(w.ownerDocument.documentElement,w)){if(T!==null&&uc(w)){var z=T.start,ee=T.end;if(ee===void 0&&(ee=z),"selectionStart"in w)w.selectionStart=z,w.selectionEnd=Math.min(ee,w.value.length);else{var ne=w.ownerDocument||document,$=ne&&ne.defaultView||window;if($.getSelection){var Y=$.getSelection(),ke=w.textContent.length,Ye=Math.min(T.start,ke),_t=T.end===void 0?Ye:Math.min(T.end,ke);!Y.extend&&Ye>_t&&(g=_t,_t=Ye,Ye=g);var A=Np(w,Ye),O=Np(w,_t);if(A&&O&&(Y.rangeCount!==1||Y.anchorNode!==A.node||Y.anchorOffset!==A.offset||Y.focusNode!==O.node||Y.focusOffset!==O.offset)){var M=ne.createRange();M.setStart(A.node,A.offset),Y.removeAllRanges(),Ye>_t?(Y.addRange(M),Y.extend(O.node,O.offset)):(M.setEnd(O.node,O.offset),Y.addRange(M))}}}}for(ne=[],Y=w;Y=Y.parentNode;)Y.nodeType===1&&ne.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ne.length;w++){var te=ne[w];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}ql=!!Uf,$f=Uf=null}finally{bt=c,U.p=o,C.T=i}}e.current=t,un=2}}function Gy(){if(un===2){un=0;var e=br,t=Bi,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=C.T,C.T=null;var o=U.p;U.p=2;var c=bt;bt|=4;try{by(e,t.alternate,t)}finally{bt=c,U.p=o,C.T=i}}un=3}}function Zy(){if(un===4||un===3){un=0,Ue();var e=br,t=Bi,i=Qa,o=Dy;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?un=5:(un=0,Bi=br=null,Py(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(vr=null),Pn(i),t=t.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(et,t,void 0,(t.current.flags&128)===128)}catch{}if(o!==null){t=C.T,c=U.p,U.p=2,C.T=null;try{for(var d=e.onRecoverableError,g=0;g<o.length;g++){var w=o[g];d(w.value,{componentStack:w.stack})}}finally{C.T=t,U.p=c}}(Qa&3)!==0&&_l(),Ea(e),c=e.pendingLanes,(i&261930)!==0&&(c&42)!==0?e===Cf?Js++:(Js=0,Cf=e):Js=0,Ws(0)}}function Py(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ms(t)))}function _l(){return Yy(),Gy(),Zy(),Fy()}function Fy(){if(un!==5)return!1;var e=br,t=Ef;Ef=0;var i=Pn(Qa),o=C.T,c=U.p;try{U.p=32>i?32:i,C.T=null,i=kf,kf=null;var d=br,g=Qa;if(un=0,Bi=br=null,Qa=0,(bt&6)!==0)throw Error(s(331));var w=bt;if(bt|=4,jy(d.current),Ty(d,d.current,g,i),bt=w,Ws(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(et,d)}catch{}return!0}finally{U.p=c,C.T=o,Py(e,t)}}function Xy(e,t,i){t=Qn(i,t),t=nf(e.stateNode,t,2),e=dr(e,t,2),e!==null&&(ar(e,2),Ea(e))}function Tt(e,t,i){if(e.tag===3)Xy(e,e,i);else for(;t!==null;){if(t.tag===3){Xy(t,e,i);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(vr===null||!vr.has(o))){e=Qn(i,e),i=Km(2),o=dr(t,i,2),o!==null&&(Qm(i,o,t,e),ar(o,2),Ea(o));break}}t=t.return}}function Nf(e,t,i){var o=e.pingCache;if(o===null){o=e.pingCache=new ix;var c=new Set;o.set(t,c)}else c=o.get(t),c===void 0&&(c=new Set,o.set(t,c));c.has(i)||(wf=!0,c.add(i),e=cx.bind(null,e,t,i),t.then(e,e))}function cx(e,t,i){var o=e.pingCache;o!==null&&o.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Mt===e&&(lt&i)===i&&(Ft===4||Ft===3&&(lt&62914560)===lt&&300>He()-Cl?(bt&2)===0&&Ui(e,0):Sf|=i,Li===lt&&(Li=0)),Ea(e)}function Ky(e,t){t===0&&(t=ws()),e=Ir(e,t),e!==null&&(ar(e,t),Ea(e))}function fx(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Ky(e,i)}function dx(e,t){var i=0;switch(e.tag){case 31:case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(t),Ky(e,i)}function hx(e,t){return ge(e,t)}var Dl=null,Hi=null,jf=!1,Ml=!1,Af=!1,Sr=0;function Ea(e){e!==Hi&&e.next===null&&(Hi===null?Dl=Hi=e:Hi=Hi.next=e),Ml=!0,jf||(jf=!0,mx())}function Ws(e,t){if(!Af&&Ml){Af=!0;do for(var i=!1,o=Dl;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var d=0;else{var g=o.suspendedLanes,w=o.pingedLanes;d=(1<<31-j(42|e)+1)-1,d&=c&~(g&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(i=!0,eg(o,d))}else d=lt,d=Bt(o,o===Mt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||it(o,d)||(i=!0,eg(o,d));o=o.next}while(i);Af=!1}}function px(){Qy()}function Qy(){Ml=jf=!1;var e=0;Sr!==0&&Cx()&&(e=Sr);for(var t=He(),i=null,o=Dl;o!==null;){var c=o.next,d=Jy(o,t);d===0?(o.next=null,i===null?Dl=c:i.next=c,c===null&&(Hi=i)):(i=o,(e!==0||(d&3)!==0)&&(Ml=!0)),o=c}un!==0&&un!==5||Ws(e),Sr!==0&&(Sr=0)}function Jy(e,t){for(var i=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var g=31-j(d),w=1<<g,T=c[g];T===-1?((w&i)===0||(w&o)!==0)&&(c[g]=kt(w,t)):T<=t&&(e.expiredLanes|=w),d&=~w}if(t=Mt,i=lt,i=Bt(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,i===0||e===t&&(Ct===2||Ct===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Se(o),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||it(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(o!==null&&Se(o),Pn(i)){case 2:case 8:i=Re;break;case 32:i=Qe;break;case 268435456:i=cn;break;default:i=Qe}return o=Wy.bind(null,e),i=ge(i,o),e.callbackPriority=t,e.callbackNode=i,t}return o!==null&&o!==null&&Se(o),e.callbackPriority=2,e.callbackNode=null,2}function Wy(e,t){if(un!==0&&un!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(_l()&&e.callbackNode!==i)return null;var o=lt;return o=Bt(e,e===Mt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ry(e,o,t),Jy(e,He()),e.callbackNode!=null&&e.callbackNode===i?Wy.bind(null,e):null)}function eg(e,t){if(_l())return null;Ry(e,t,!0)}function mx(){Ox(function(){(bt&6)!==0?ge(zt,px):Qy()})}function _f(){if(Sr===0){var e=Ci;e===0&&(e=tt,tt<<=1,(tt&261888)===0&&(tt=256)),Sr=e}return Sr}function tg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Io(""+e)}function ng(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function yx(e,t,i,o,c){if(t==="submit"&&i&&i.stateNode===c){var d=tg((c[fn]||null).action),g=o.submitter;g&&(t=(t=g[fn]||null)?tg(t.formAction):g.getAttribute("formAction"),t!==null&&(d=t,g=null));var w=new Go("action","action",null,o,c);e.push({event:w,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Sr!==0){var T=g?ng(c,g):new FormData(c);Kc(i,{pending:!0,data:T,method:c.method,action:d},null,T)}}else typeof d=="function"&&(w.preventDefault(),T=g?ng(c,g):new FormData(c),Kc(i,{pending:!0,data:T,method:c.method,action:d},d,T))},currentTarget:c}]})}}for(var Df=0;Df<hc.length;Df++){var Mf=hc[Df],gx=Mf.toLowerCase(),vx=Mf[0].toUpperCase()+Mf.slice(1);ua(gx,"on"+vx)}ua(Mp,"onAnimationEnd"),ua(Rp,"onAnimationIteration"),ua(zp,"onAnimationStart"),ua("dblclick","onDoubleClick"),ua("focusin","onFocus"),ua("focusout","onBlur"),ua(RS,"onTransitionRun"),ua(zS,"onTransitionStart"),ua(LS,"onTransitionCancel"),ua(Lp,"onTransitionEnd"),Ra("onMouseEnter",["mouseout","mouseover"]),Ra("onMouseLeave",["mouseout","mouseover"]),Ra("onPointerEnter",["pointerout","pointerover"]),Ra("onPointerLeave",["pointerout","pointerover"]),Ma("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ma("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ma("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ma("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ma("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ma("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(eo));function ag(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],c=o.event;o=o.listeners;e:{var d=void 0;if(t)for(var g=o.length-1;0<=g;g--){var w=o[g],T=w.instance,z=w.currentTarget;if(w=w.listener,T!==d&&c.isPropagationStopped())break e;d=w,c.currentTarget=z;try{d(c)}catch(ee){Fo(ee)}c.currentTarget=null,d=T}else for(g=0;g<o.length;g++){if(w=o[g],T=w.instance,z=w.currentTarget,w=w.listener,T!==d&&c.isPropagationStopped())break e;d=w,c.currentTarget=z;try{d(c)}catch(ee){Fo(ee)}c.currentTarget=null,d=T}}}}function ot(e,t){var i=t[se];i===void 0&&(i=t[se]=new Set);var o=e+"__bubble";i.has(o)||(rg(t,e,2,!1),i.add(o))}function Rf(e,t,i){var o=0;t&&(o|=4),rg(i,e,o,t)}var Rl="_reactListening"+Math.random().toString(36).slice(2);function zf(e){if(!e[Rl]){e[Rl]=!0,Da.forEach(function(i){i!=="selectionchange"&&(bx.has(i)||Rf(i,!1,e),Rf(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Rl]||(t[Rl]=!0,Rf("selectionchange",!1,t))}}function rg(e,t,i,o){switch(Mg(t)){case 2:var c=Px;break;case 8:c=Fx;break;default:c=Kf}i=c.bind(null,t,i,e),c=void 0,!ec||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(t,i,{capture:!0,passive:c}):e.addEventListener(t,i,!0):c!==void 0?e.addEventListener(t,i,{passive:c}):e.addEventListener(t,i,!1)}function Lf(e,t,i,o,c){var d=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var w=o.stateNode.containerInfo;if(w===c)break;if(g===4)for(g=o.return;g!==null;){var T=g.tag;if((T===3||T===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;w!==null;){if(g=Yt(w),g===null)return;if(T=g.tag,T===5||T===6||T===26||T===27){o=d=g;continue e}w=w.parentNode}}o=o.return}up(function(){var z=d,ee=Ju(i),ne=[];e:{var $=Bp.get(e);if($!==void 0){var Y=Go,ke=e;switch(e){case"keypress":if(qo(i)===0)break e;case"keydown":case"keyup":Y=dS;break;case"focusin":ke="focus",Y=rc;break;case"focusout":ke="blur",Y=rc;break;case"beforeblur":case"afterblur":Y=rc;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=dp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=eS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=mS;break;case Mp:case Rp:case zp:Y=aS;break;case Lp:Y=gS;break;case"scroll":case"scrollend":Y=Jw;break;case"wheel":Y=bS;break;case"copy":case"cut":case"paste":Y=iS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=pp;break;case"toggle":case"beforetoggle":Y=SS}var Ye=(t&4)!==0,_t=!Ye&&(e==="scroll"||e==="scrollend"),A=Ye?$!==null?$+"Capture":null:$;Ye=[];for(var O=z,M;O!==null;){var te=O;if(M=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||M===null||A===null||(te=xs(O,A),te!=null&&Ye.push(to(O,te,M))),_t)break;O=O.return}0<Ye.length&&($=new Y($,ke,null,i,ee),ne.push({event:$,listeners:Ye}))}}if((t&7)===0){e:{if($=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",$&&i!==Qu&&(ke=i.relatedTarget||i.fromElement)&&(Yt(ke)||ke[P]))break e;if((Y||$)&&($=ee.window===ee?ee:($=ee.ownerDocument)?$.defaultView||$.parentWindow:window,Y?(ke=i.relatedTarget||i.toElement,Y=z,ke=ke?Yt(ke):null,ke!==null&&(_t=u(ke),Ye=ke.tag,ke!==_t||Ye!==5&&Ye!==27&&Ye!==6)&&(ke=null)):(Y=null,ke=z),Y!==ke)){if(Ye=dp,te="onMouseLeave",A="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(Ye=pp,te="onPointerLeave",A="onPointerEnter",O="pointer"),_t=Y==null?$:Jt(Y),M=ke==null?$:Jt(ke),$=new Ye(te,O+"leave",Y,i,ee),$.target=_t,$.relatedTarget=M,te=null,Yt(ee)===z&&(Ye=new Ye(A,O+"enter",ke,i,ee),Ye.target=M,Ye.relatedTarget=_t,te=Ye),_t=te,Y&&ke)t:{for(Ye=wx,A=Y,O=ke,M=0,te=A;te;te=Ye(te))M++;te=0;for(var $e=O;$e;$e=Ye($e))te++;for(;0<M-te;)A=Ye(A),M--;for(;0<te-M;)O=Ye(O),te--;for(;M--;){if(A===O||O!==null&&A===O.alternate){Ye=A;break t}A=Ye(A),O=Ye(O)}Ye=null}else Ye=null;Y!==null&&ig(ne,$,Y,Ye,!1),ke!==null&&_t!==null&&ig(ne,_t,ke,Ye,!0)}}e:{if($=z?Jt(z):window,Y=$.nodeName&&$.nodeName.toLowerCase(),Y==="select"||Y==="input"&&$.type==="file")var yt=xp;else if(wp($))if(Ep)yt=_S;else{yt=jS;var De=NS}else Y=$.nodeName,!Y||Y.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?z&&Ku(z.elementType)&&(yt=xp):yt=AS;if(yt&&(yt=yt(e,z))){Sp(ne,yt,i,ee);break e}De&&De(e,$,z),e==="focusout"&&z&&$.type==="number"&&z.memoizedProps.value!=null&&Xu($,"number",$.value)}switch(De=z?Jt(z):window,e){case"focusin":(wp(De)||De.contentEditable==="true")&&(gi=De,cc=z,As=null);break;case"focusout":As=cc=gi=null;break;case"mousedown":fc=!0;break;case"contextmenu":case"mouseup":case"dragend":fc=!1,_p(ne,i,ee);break;case"selectionchange":if(MS)break;case"keydown":case"keyup":_p(ne,i,ee)}var nt;if(sc)e:{switch(e){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else yi?vp(e,i)&&(ut="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ut="onCompositionStart");ut&&(mp&&i.locale!=="ko"&&(yi||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&yi&&(nt=cp()):(ir=ee,tc="value"in ir?ir.value:ir.textContent,yi=!0)),De=zl(z,ut),0<De.length&&(ut=new hp(ut,e,null,i,ee),ne.push({event:ut,listeners:De}),nt?ut.data=nt:(nt=bp(i),nt!==null&&(ut.data=nt)))),(nt=ES?kS(e,i):CS(e,i))&&(ut=zl(z,"onBeforeInput"),0<ut.length&&(De=new hp("onBeforeInput","beforeinput",null,i,ee),ne.push({event:De,listeners:ut}),De.data=nt)),yx(ne,e,z,i,ee)}ag(ne,t)})}function to(e,t,i){return{instance:e,listener:t,currentTarget:i}}function zl(e,t){for(var i=t+"Capture",o=[];e!==null;){var c=e,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=xs(e,i),c!=null&&o.unshift(to(e,c,d)),c=xs(e,t),c!=null&&o.push(to(e,c,d))),e.tag===3)return o;e=e.return}return[]}function wx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ig(e,t,i,o,c){for(var d=t._reactName,g=[];i!==null&&i!==o;){var w=i,T=w.alternate,z=w.stateNode;if(w=w.tag,T!==null&&T===o)break;w!==5&&w!==26&&w!==27||z===null||(T=z,c?(z=xs(i,d),z!=null&&g.unshift(to(i,z,T))):c||(z=xs(i,d),z!=null&&g.push(to(i,z,T)))),i=i.return}g.length!==0&&e.push({event:t,listeners:g})}var Sx=/\r\n?/g,xx=/\u0000|\uFFFD/g;function sg(e){return(typeof e=="string"?e:""+e).replace(Sx,`
`).replace(xx,"")}function og(e,t){return t=sg(t),sg(e)===t}function At(e,t,i,o,c,d){switch(i){case"children":typeof o=="string"?t==="body"||t==="textarea"&&o===""||hi(e,o):(typeof o=="number"||typeof o=="bigint")&&t!=="body"&&hi(e,""+o);break;case"className":$o(e,"class",o);break;case"tabIndex":$o(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":$o(e,i,o);break;case"style":op(e,o,d);break;case"data":if(t!=="object"){$o(e,"data",o);break}case"src":case"href":if(o===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=Io(""+o),e.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(i==="formAction"?(t!=="input"&&At(e,t,"name",c.name,c,null),At(e,t,"formEncType",c.formEncType,c,null),At(e,t,"formMethod",c.formMethod,c,null),At(e,t,"formTarget",c.formTarget,c,null)):(At(e,t,"encType",c.encType,c,null),At(e,t,"method",c.method,c,null),At(e,t,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=Io(""+o),e.setAttribute(i,o);break;case"onClick":o!=null&&(e.onclick=La);break;case"onScroll":o!=null&&ot("scroll",e);break;case"onScrollEnd":o!=null&&ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(i=o.__html,i!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}i=Io(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""+o):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":o===!0?e.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,o):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(i,o):e.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(i):e.setAttribute(i,o);break;case"popover":ot("beforetoggle",e),ot("toggle",e),Uo(e,"popover",o);break;case"xlinkActuate":za(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":za(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":za(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":za(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":za(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":za(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":za(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":za(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":za(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Uo(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Kw.get(i)||i,Uo(e,i,o))}}function Bf(e,t,i,o,c,d){switch(i){case"style":op(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(i=o.__html,i!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"children":typeof o=="string"?hi(e,o):(typeof o=="number"||typeof o=="bigint")&&hi(e,""+o);break;case"onScroll":o!=null&&ot("scroll",e);break;case"onScrollEnd":o!=null&&ot("scrollend",e);break;case"onClick":o!=null&&(e.onclick=La);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lo.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(c=i.endsWith("Capture"),t=i.slice(2,c?i.length-7:void 0),d=e[fn]||null,d=d!=null?d[i]:null,typeof d=="function"&&e.removeEventListener(t,d,c),typeof o=="function")){typeof d!="function"&&d!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,o,c);break e}i in e?e[i]=o:o===!0?e.setAttribute(i,""):Uo(e,i,o)}}}function vn(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ot("error",e),ot("load",e);var o=!1,c=!1,d;for(d in i)if(i.hasOwnProperty(d)){var g=i[d];if(g!=null)switch(d){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:At(e,t,d,g,i,null)}}c&&At(e,t,"srcSet",i.srcSet,i,null),o&&At(e,t,"src",i.src,i,null);return;case"input":ot("invalid",e);var w=d=g=c=null,T=null,z=null;for(o in i)if(i.hasOwnProperty(o)){var ee=i[o];if(ee!=null)switch(o){case"name":c=ee;break;case"type":g=ee;break;case"checked":T=ee;break;case"defaultChecked":z=ee;break;case"value":d=ee;break;case"defaultValue":w=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,t));break;default:At(e,t,o,ee,i,null)}}ap(e,d,w,T,z,g,c,!1);return;case"select":ot("invalid",e),o=g=d=null;for(c in i)if(i.hasOwnProperty(c)&&(w=i[c],w!=null))switch(c){case"value":d=w;break;case"defaultValue":g=w;break;case"multiple":o=w;default:At(e,t,c,w,i,null)}t=d,i=g,e.multiple=!!o,t!=null?di(e,!!o,t,!1):i!=null&&di(e,!!o,i,!0);return;case"textarea":ot("invalid",e),d=c=o=null;for(g in i)if(i.hasOwnProperty(g)&&(w=i[g],w!=null))switch(g){case"value":o=w;break;case"defaultValue":c=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:At(e,t,g,w,i,null)}ip(e,o,c,d);return;case"option":for(T in i)if(i.hasOwnProperty(T)&&(o=i[T],o!=null))switch(T){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:At(e,t,T,o,i,null)}return;case"dialog":ot("beforetoggle",e),ot("toggle",e),ot("cancel",e),ot("close",e);break;case"iframe":case"object":ot("load",e);break;case"video":case"audio":for(o=0;o<eo.length;o++)ot(eo[o],e);break;case"image":ot("error",e),ot("load",e);break;case"details":ot("toggle",e);break;case"embed":case"source":case"link":ot("error",e),ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in i)if(i.hasOwnProperty(z)&&(o=i[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:At(e,t,z,o,i,null)}return;default:if(Ku(t)){for(ee in i)i.hasOwnProperty(ee)&&(o=i[ee],o!==void 0&&Bf(e,t,ee,o,i,void 0));return}}for(w in i)i.hasOwnProperty(w)&&(o=i[w],o!=null&&At(e,t,w,o,i,null))}function Ex(e,t,i,o){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,g=null,w=null,T=null,z=null,ee=null;for(Y in i){var ne=i[Y];if(i.hasOwnProperty(Y)&&ne!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":T=ne;default:o.hasOwnProperty(Y)||At(e,t,Y,null,o,ne)}}for(var $ in o){var Y=o[$];if(ne=i[$],o.hasOwnProperty($)&&(Y!=null||ne!=null))switch($){case"type":d=Y;break;case"name":c=Y;break;case"checked":z=Y;break;case"defaultChecked":ee=Y;break;case"value":g=Y;break;case"defaultValue":w=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,t));break;default:Y!==ne&&At(e,t,$,Y,o,ne)}}Fu(e,g,w,T,z,ee,d,c);return;case"select":Y=g=w=$=null;for(d in i)if(T=i[d],i.hasOwnProperty(d)&&T!=null)switch(d){case"value":break;case"multiple":Y=T;default:o.hasOwnProperty(d)||At(e,t,d,null,o,T)}for(c in o)if(d=o[c],T=i[c],o.hasOwnProperty(c)&&(d!=null||T!=null))switch(c){case"value":$=d;break;case"defaultValue":w=d;break;case"multiple":g=d;default:d!==T&&At(e,t,c,d,o,T)}t=w,i=g,o=Y,$!=null?di(e,!!i,$,!1):!!o!=!!i&&(t!=null?di(e,!!i,t,!0):di(e,!!i,i?[]:"",!1));return;case"textarea":Y=$=null;for(w in i)if(c=i[w],i.hasOwnProperty(w)&&c!=null&&!o.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:At(e,t,w,null,o,c)}for(g in o)if(c=o[g],d=i[g],o.hasOwnProperty(g)&&(c!=null||d!=null))switch(g){case"value":$=c;break;case"defaultValue":Y=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==d&&At(e,t,g,c,o,d)}rp(e,$,Y);return;case"option":for(var ke in i)if($=i[ke],i.hasOwnProperty(ke)&&$!=null&&!o.hasOwnProperty(ke))switch(ke){case"selected":e.selected=!1;break;default:At(e,t,ke,null,o,$)}for(T in o)if($=o[T],Y=i[T],o.hasOwnProperty(T)&&$!==Y&&($!=null||Y!=null))switch(T){case"selected":e.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:At(e,t,T,$,o,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ye in i)$=i[Ye],i.hasOwnProperty(Ye)&&$!=null&&!o.hasOwnProperty(Ye)&&At(e,t,Ye,null,o,$);for(z in o)if($=o[z],Y=i[z],o.hasOwnProperty(z)&&$!==Y&&($!=null||Y!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,t));break;default:At(e,t,z,$,o,Y)}return;default:if(Ku(t)){for(var _t in i)$=i[_t],i.hasOwnProperty(_t)&&$!==void 0&&!o.hasOwnProperty(_t)&&Bf(e,t,_t,void 0,o,$);for(ee in o)$=o[ee],Y=i[ee],!o.hasOwnProperty(ee)||$===Y||$===void 0&&Y===void 0||Bf(e,t,ee,$,o,Y);return}}for(var A in i)$=i[A],i.hasOwnProperty(A)&&$!=null&&!o.hasOwnProperty(A)&&At(e,t,A,null,o,$);for(ne in o)$=o[ne],Y=i[ne],!o.hasOwnProperty(ne)||$===Y||$==null&&Y==null||At(e,t,ne,$,o,Y)}function lg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),o=0;o<i.length;o++){var c=i[o],d=c.transferSize,g=c.initiatorType,w=c.duration;if(d&&w&&lg(g)){for(g=0,w=c.responseEnd,o+=1;o<i.length;o++){var T=i[o],z=T.startTime;if(z>w)break;var ee=T.transferSize,ne=T.initiatorType;ee&&lg(ne)&&(T=T.responseEnd,g+=ee*(T<w?1:(w-z)/(T-z)))}if(--o,t+=8*(d+g)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Uf=null,$f=null;function Ll(e){return e.nodeType===9?e:e.ownerDocument}function ug(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Hf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var If=null;function Cx(){var e=window.event;return e&&e.type==="popstate"?e===If?!1:(If=e,!0):(If=null,!1)}var fg=typeof setTimeout=="function"?setTimeout:void 0,Tx=typeof clearTimeout=="function"?clearTimeout:void 0,dg=typeof Promise=="function"?Promise:void 0,Ox=typeof queueMicrotask=="function"?queueMicrotask:typeof dg<"u"?function(e){return dg.resolve(null).then(e).catch(Nx)}:fg;function Nx(e){setTimeout(function(){throw e})}function xr(e){return e==="head"}function hg(e,t){var i=t,o=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"||i==="/&"){if(o===0){e.removeChild(c),Yi(t);return}o--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")o++;else if(i==="html")no(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,no(i);for(var d=i.firstChild;d;){var g=d.nextSibling,w=d.nodeName;d[Ke]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||i.removeChild(d),d=g}}else i==="body"&&no(e.ownerDocument.body);i=c}while(i);Yi(t)}function pg(e,t){var i=e;e=0;do{var o=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=o}while(i)}function Vf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Vf(i),Vt(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function jx(e,t,i,o){for(;e.nodeType===1;){var c=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Ke])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=na(e.nextSibling),e===null)break}return null}function Ax(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=na(e.nextSibling),e===null))return null;return e}function mg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=na(e.nextSibling),e===null))return null;return e}function qf(e){return e.data==="$?"||e.data==="$~"}function Yf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function _x(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var o=function(){t(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function na(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Gf=null;function yg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return na(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function gg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function vg(e,t,i){switch(t=Ll(i),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function no(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Vt(e)}var aa=new Map,bg=new Set;function Bl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ja=U.d;U.d={f:Dx,r:Mx,D:Rx,C:zx,L:Lx,m:Bx,X:$x,S:Ux,M:Hx};function Dx(){var e=Ja.f(),t=Nl();return e||t}function Mx(e){var t=ln(e);t!==null&&t.tag===5&&t.type==="form"?Lm(t):Ja.r(e)}var Ii=typeof document>"u"?null:document;function wg(e,t,i){var o=Ii;if(o&&typeof t=="string"&&t){var c=Xn(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof i=="string"&&(c+='[crossorigin="'+i+'"]'),bg.has(c)||(bg.add(c),e={rel:e,crossOrigin:i,href:t},o.querySelector(c)===null&&(t=o.createElement("link"),vn(t,"link",e),St(t),o.head.appendChild(t)))}}function Rx(e){Ja.D(e),wg("dns-prefetch",e,null)}function zx(e,t){Ja.C(e,t),wg("preconnect",e,t)}function Lx(e,t,i){Ja.L(e,t,i);var o=Ii;if(o&&e&&t){var c='link[rel="preload"][as="'+Xn(t)+'"]';t==="image"&&i&&i.imageSrcSet?(c+='[imagesrcset="'+Xn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(c+='[imagesizes="'+Xn(i.imageSizes)+'"]')):c+='[href="'+Xn(e)+'"]';var d=c;switch(t){case"style":d=Vi(e);break;case"script":d=qi(e)}aa.has(d)||(e=v({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),aa.set(d,e),o.querySelector(c)!==null||t==="style"&&o.querySelector(ao(d))||t==="script"&&o.querySelector(ro(d))||(t=o.createElement("link"),vn(t,"link",e),St(t),o.head.appendChild(t)))}}function Bx(e,t){Ja.m(e,t);var i=Ii;if(i&&e){var o=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Xn(o)+'"][href="'+Xn(e)+'"]',d=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=qi(e)}if(!aa.has(d)&&(e=v({rel:"modulepreload",href:e},t),aa.set(d,e),i.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(ro(d)))return}o=i.createElement("link"),vn(o,"link",e),St(o),i.head.appendChild(o)}}}function Ux(e,t,i){Ja.S(e,t,i);var o=Ii;if(o&&e){var c=Xt(o).hoistableStyles,d=Vi(e);t=t||"default";var g=c.get(d);if(!g){var w={loading:0,preload:null};if(g=o.querySelector(ao(d)))w.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},i),(i=aa.get(d))&&Zf(e,i);var T=g=o.createElement("link");St(T),vn(T,"link",e),T._p=new Promise(function(z,ee){T.onload=z,T.onerror=ee}),T.addEventListener("load",function(){w.loading|=1}),T.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Ul(g,t,o)}g={type:"stylesheet",instance:g,count:1,state:w},c.set(d,g)}}}function $x(e,t){Ja.X(e,t);var i=Ii;if(i&&e){var o=Xt(i).hoistableScripts,c=qi(e),d=o.get(c);d||(d=i.querySelector(ro(c)),d||(e=v({src:e,async:!0},t),(t=aa.get(c))&&Pf(e,t),d=i.createElement("script"),St(d),vn(d,"link",e),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(c,d))}}function Hx(e,t){Ja.M(e,t);var i=Ii;if(i&&e){var o=Xt(i).hoistableScripts,c=qi(e),d=o.get(c);d||(d=i.querySelector(ro(c)),d||(e=v({src:e,async:!0,type:"module"},t),(t=aa.get(c))&&Pf(e,t),d=i.createElement("script"),St(d),vn(d,"link",e),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(c,d))}}function Sg(e,t,i,o){var c=(c=Oe.current)?Bl(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Vi(i.href),i=Xt(c).hoistableStyles,o=i.get(t),o||(o={type:"style",instance:null,count:0,state:null},i.set(t,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Vi(i.href);var d=Xt(c).hoistableStyles,g=d.get(e);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,g),(d=c.querySelector(ao(e)))&&!d._p&&(g.instance=d,g.state.loading=5),aa.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},aa.set(e,i),d||Ix(c,e,i,g.state))),t&&o===null)throw Error(s(528,""));return g}if(t&&o!==null)throw Error(s(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=qi(i),i=Xt(c).hoistableScripts,o=i.get(t),o||(o={type:"script",instance:null,count:0,state:null},i.set(t,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Vi(e){return'href="'+Xn(e)+'"'}function ao(e){return'link[rel="stylesheet"]['+e+"]"}function xg(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function Ix(e,t,i,o){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?o.loading=1:(t=e.createElement("link"),o.preload=t,t.addEventListener("load",function(){return o.loading|=1}),t.addEventListener("error",function(){return o.loading|=2}),vn(t,"link",i),St(t),e.head.appendChild(t))}function qi(e){return'[src="'+Xn(e)+'"]'}function ro(e){return"script[async]"+e}function Eg(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var o=e.querySelector('style[data-href~="'+Xn(i.href)+'"]');if(o)return t.instance=o,St(o),o;var c=v({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),St(o),vn(o,"style",c),Ul(o,i.precedence,e),t.instance=o;case"stylesheet":c=Vi(i.href);var d=e.querySelector(ao(c));if(d)return t.state.loading|=4,t.instance=d,St(d),d;o=xg(i),(c=aa.get(c))&&Zf(o,c),d=(e.ownerDocument||e).createElement("link"),St(d);var g=d;return g._p=new Promise(function(w,T){g.onload=w,g.onerror=T}),vn(d,"link",o),t.state.loading|=4,Ul(d,i.precedence,e),t.instance=d;case"script":return d=qi(i.src),(c=e.querySelector(ro(d)))?(t.instance=c,St(c),c):(o=i,(c=aa.get(d))&&(o=v({},i),Pf(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),St(c),vn(c,"link",o),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(o=t.instance,t.state.loading|=4,Ul(o,i.precedence,e));return t.instance}function Ul(e,t,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,d=c,g=0;g<o.length;g++){var w=o[g];if(w.dataset.precedence===t)d=w;else if(d!==c)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Zf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Pf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var $l=null;function kg(e,t,i){if($l===null){var o=new Map,c=$l=new Map;c.set(i,o)}else c=$l,o=c.get(i),o||(o=new Map,c.set(i,o));if(o.has(e))return o;for(o.set(e,null),i=i.getElementsByTagName(e),c=0;c<i.length;c++){var d=i[c];if(!(d[Ke]||d[on]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(t)||"";g=e+g;var w=o.get(g);w?w.push(d):o.set(g,[d])}}return o}function Cg(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function Vx(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Tg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function qx(e,t,i,o){if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var c=Vi(o.href),d=t.querySelector(ao(c));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Hl.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=d,St(d);return}d=t.ownerDocument||t,o=xg(o),(c=aa.get(c))&&Zf(o,c),d=d.createElement("link"),St(d);var g=d;g._p=new Promise(function(w,T){g.onload=w,g.onerror=T}),vn(d,"link",o),i.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Hl.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var Ff=0;function Yx(e,t){return e.stylesheets&&e.count===0&&Vl(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var o=setTimeout(function(){if(e.stylesheets&&Vl(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&Ff===0&&(Ff=62500*kx());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Vl(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Ff?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(c)}}:null}function Hl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Il=null;function Vl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Il=new Map,t.forEach(Gx,e),Il=null,Hl.call(e))}function Gx(e,t){if(!(t.state.loading&4)){var i=Il.get(e);if(i)var o=i.get(null);else{i=new Map,Il.set(e,i);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var g=c[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(i.set(g.dataset.precedence,g),o=g)}o&&i.set(null,o)}c=t.instance,g=c.getAttribute("data-precedence"),d=i.get(g)||o,d===o&&i.set(null,c),i.set(g,c),this.count++,o=Hl.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),d?d.parentNode.insertBefore(c,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var io={$$typeof:V,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function Zx(e,t,i,o,c,d,g,w,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Og(e,t,i,o,c,d,g,w,T,z,ee,ne){return e=new Zx(e,t,i,g,T,z,ee,ne,w),t=1,d===!0&&(t|=24),d=$n(3,null,null,t),e.current=d,d.stateNode=e,t=Tc(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:o,isDehydrated:i,cache:t},Ac(d),e}function Ng(e){return e?(e=wi,e):wi}function jg(e,t,i,o,c,d){c=Ng(c),o.context===null?o.context=c:o.pendingContext=c,o=fr(t),o.payload={element:i},d=d===void 0?null:d,d!==null&&(o.callback=d),i=dr(e,o,t),i!==null&&(zn(i,e,t),Bs(i,e,t))}function Ag(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Xf(e,t){Ag(e,t),(e=e.alternate)&&Ag(e,t)}function _g(e){if(e.tag===13||e.tag===31){var t=Ir(e,67108864);t!==null&&zn(t,e,67108864),Xf(e,67108864)}}function Dg(e){if(e.tag===13||e.tag===31){var t=Yn();t=fi(t);var i=Ir(e,t);i!==null&&zn(i,e,t),Xf(e,t)}}var ql=!0;function Px(e,t,i,o){var c=C.T;C.T=null;var d=U.p;try{U.p=2,Kf(e,t,i,o)}finally{U.p=d,C.T=c}}function Fx(e,t,i,o){var c=C.T;C.T=null;var d=U.p;try{U.p=8,Kf(e,t,i,o)}finally{U.p=d,C.T=c}}function Kf(e,t,i,o){if(ql){var c=Qf(o);if(c===null)Lf(e,t,o,Yl,i),Rg(e,o);else if(Kx(c,e,t,i,o))o.stopPropagation();else if(Rg(e,o),t&4&&-1<Xx.indexOf(e)){for(;c!==null;){var d=ln(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=Ie(d.pendingLanes);if(g!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;g;){var T=1<<31-j(g);w.entanglements[1]|=T,g&=~T}Ea(d),(bt&6)===0&&(Tl=He()+500,Ws(0))}}break;case 31:case 13:w=Ir(d,2),w!==null&&zn(w,d,2),Nl(),Xf(d,2)}if(d=Qf(o),d===null&&Lf(e,t,o,Yl,i),d===c)break;c=d}c!==null&&o.stopPropagation()}else Lf(e,t,o,null,i)}}function Qf(e){return e=Ju(e),Jf(e)}var Yl=null;function Jf(e){if(Yl=null,e=Yt(e),e!==null){var t=u(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=f(t),e!==null)return e;e=null}else if(i===31){if(e=h(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Yl=e,null}function Mg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(We()){case zt:return 2;case Re:return 8;case Qe:case mt:return 32;case cn:return 268435456;default:return 32}default:return 32}}var Wf=!1,Er=null,kr=null,Cr=null,so=new Map,oo=new Map,Tr=[],Xx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rg(e,t){switch(e){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Cr=null;break;case"pointerover":case"pointerout":so.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":oo.delete(t.pointerId)}}function lo(e,t,i,o,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:i,eventSystemFlags:o,nativeEvent:d,targetContainers:[c]},t!==null&&(t=ln(t),t!==null&&_g(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Kx(e,t,i,o,c){switch(t){case"focusin":return Er=lo(Er,e,t,i,o,c),!0;case"dragenter":return kr=lo(kr,e,t,i,o,c),!0;case"mouseover":return Cr=lo(Cr,e,t,i,o,c),!0;case"pointerover":var d=c.pointerId;return so.set(d,lo(so.get(d)||null,e,t,i,o,c)),!0;case"gotpointercapture":return d=c.pointerId,oo.set(d,lo(oo.get(d)||null,e,t,i,o,c)),!0}return!1}function zg(e){var t=Yt(e.target);if(t!==null){var i=u(t);if(i!==null){if(t=i.tag,t===13){if(t=f(i),t!==null){e.blockedOn=t,ba(e.priority,function(){Dg(i)});return}}else if(t===31){if(t=h(i),t!==null){e.blockedOn=t,ba(e.priority,function(){Dg(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Qf(e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);Qu=o,i.target.dispatchEvent(o),Qu=null}else return t=ln(i),t!==null&&_g(t),e.blockedOn=i,!1;t.shift()}return!0}function Lg(e,t,i){Gl(e)&&i.delete(t)}function Qx(){Wf=!1,Er!==null&&Gl(Er)&&(Er=null),kr!==null&&Gl(kr)&&(kr=null),Cr!==null&&Gl(Cr)&&(Cr=null),so.forEach(Lg),oo.forEach(Lg)}function Zl(e,t){e.blockedOn===t&&(e.blockedOn=null,Wf||(Wf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Qx)))}var Pl=null;function Bg(e){Pl!==e&&(Pl=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Pl===e&&(Pl=null);for(var t=0;t<e.length;t+=3){var i=e[t],o=e[t+1],c=e[t+2];if(typeof o!="function"){if(Jf(o||i)===null)continue;break}var d=ln(i);d!==null&&(e.splice(t,3),t-=3,Kc(d,{pending:!0,data:c,method:i.method,action:o},o,c))}}))}function Yi(e){function t(T){return Zl(T,e)}Er!==null&&Zl(Er,e),kr!==null&&Zl(kr,e),Cr!==null&&Zl(Cr,e),so.forEach(t),oo.forEach(t);for(var i=0;i<Tr.length;i++){var o=Tr[i];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Tr.length&&(i=Tr[0],i.blockedOn===null);)zg(i),i.blockedOn===null&&Tr.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var c=i[o],d=i[o+1],g=c[fn]||null;if(typeof d=="function")g||Bg(i);else if(g){var w=null;if(d&&d.hasAttribute("formAction")){if(c=d,g=d[fn]||null)w=g.formAction;else if(Jf(c)!==null)continue}else w=g.action;typeof w=="function"?i[o+1]=w:(i.splice(o,3),o-=3),Bg(i)}}}function Ug(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),o||setTimeout(i,20)}function i(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function ed(e){this._internalRoot=e}Fl.prototype.render=ed.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var i=t.current,o=Yn();jg(i,o,e,t,null,null)},Fl.prototype.unmount=ed.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jg(e.current,2,null,e,null,null),Nl(),t[P]=null}};function Fl(e){this._internalRoot=e}Fl.prototype.unstable_scheduleHydration=function(e){if(e){var t=rr();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Tr.length&&t!==0&&t<Tr[i].priority;i++);Tr.splice(i,0,e),i===0&&zg(e)}};var $g=n.version;if($g!=="19.2.0")throw Error(s(527,$g,"19.2.0"));U.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Jx={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:C,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xl.isDisabled&&Xl.supportsFiber)try{et=Xl.inject(Jx),Pe=Xl}catch{}}return co.createRoot=function(e,t){if(!l(e))throw Error(s(299));var i=!1,o="",c=Zm,d=Pm,g=Fm;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=Og(e,1,!1,null,null,i,o,null,c,d,g,Ug),e[P]=t.current,zf(e),new ed(t)},co.hydrateRoot=function(e,t,i){if(!l(e))throw Error(s(299));var o=!1,c="",d=Zm,g=Pm,w=Fm,T=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError),i.formState!==void 0&&(T=i.formState)),t=Og(e,1,!0,t,i??null,o,c,T,d,g,w,Ug),t.context=Ng(null),i=t.current,o=Yn(),o=fi(o),c=fr(o),c.callback=null,dr(i,c,o),i=o,t.current.lanes=i,ar(t,i),Ea(t),e[P]=t.current,zf(e),new Fl(t)},co.version="19.2.0",co}var Xg;function lE(){if(Xg)return ad.exports;Xg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),ad.exports=oE(),ad.exports}var sb=lE();const uE="modulepreload",cE=function(a,n){return new URL(a,n).href},Kg={},Qg=function(n,r,s){let l=Promise.resolve();if(r&&r.length>0){let y=function(b){return Promise.all(b.map(v=>Promise.resolve(v).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};const f=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),p=h?.nonce||h?.getAttribute("nonce");l=y(r.map(b=>{if(b=cE(b,s),b in Kg)return;Kg[b]=!0;const v=b.endsWith(".css"),S=v?'[rel="stylesheet"]':"";if(s)for(let N=f.length-1;N>=0;N--){const Z=f[N];if(Z.href===b&&(!v||Z.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${b}"]${S}`))return;const k=document.createElement("link");if(k.rel=v?"stylesheet":uE,v||(k.as="script"),k.crossOrigin="",k.href=b,p&&k.setAttribute("nonce",p),document.head.appendChild(k),v)return new Promise((N,Z)=>{k.addEventListener("load",N),k.addEventListener("error",()=>Z(new Error(`Unable to preload CSS for ${b}`)))})}))}function u(f){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=f,window.dispatchEvent(h),!h.defaultPrevented)throw f}return l.then(f=>{for(const h of f||[])h.status==="rejected"&&u(h.reason);return n().catch(u)})};var Mr=ib();const Eh=Sh(Mr),Jg=rb({__proto__:null,default:Eh},[Mr]);function Wg(a,n,r,s,l,u,f){try{var h=a[u](f),p=h.value}catch(y){return void r(y)}h.done?n(p):Promise.resolve(p).then(s,l)}function rt(a){return function(){var n=this,r=arguments;return new Promise(function(s,l){var u=a.apply(n,r);function f(p){Wg(u,s,l,f,h,"next",p)}function h(p){Wg(u,s,l,f,h,"throw",p)}f(void 0)})}}function ct(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function bn(a){"@babel/helpers - typeof";return bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},bn(a)}function fE(a,n){if(bn(a)!="object"||!a)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var s=r.call(a,n);if(bn(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function ob(a){var n=fE(a,"string");return bn(n)=="symbol"?n:n+""}function dE(a,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(a,ob(s.key),s)}}function ft(a,n,r){return n&&dE(a.prototype,n),Object.defineProperty(a,"prototype",{writable:!1}),a}function hE(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function _a(a,n){if(n&&(bn(n)=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hE(a)}function Rt(a){return Rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rt(a)}function ko(a,n){return ko=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},ko(a,n)}function Bn(a,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(n&&n.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),n&&ko(a,n)}function Me(a,n,r){return(n=ob(n))in a?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r,a}var od={exports:{}},ld={exports:{}},ev;function lb(){return ev||(ev=1,(function(a){function n(r,s){this.v=r,this.k=s}a.exports=n,a.exports.__esModule=!0,a.exports.default=a.exports})(ld)),ld.exports}var ud={exports:{}},cd={exports:{}},tv;function ub(){return tv||(tv=1,(function(a){function n(r,s,l,u){var f=Object.defineProperty;try{f({},"",{})}catch{f=0}a.exports=n=function(p,y,b,v){function S(k,N){n(p,k,function(Z){return this._invoke(k,N,Z)})}y?f?f(p,y,{value:b,enumerable:!v,configurable:!v,writable:!v}):p[y]=b:(S("next",0),S("throw",1),S("return",2))},a.exports.__esModule=!0,a.exports.default=a.exports,n(r,s,l,u)}a.exports=n,a.exports.__esModule=!0,a.exports.default=a.exports})(cd)),cd.exports}var nv;function cb(){return nv||(nv=1,(function(a){var n=ub();function r(){var s,l,u=typeof Symbol=="function"?Symbol:{},f=u.iterator||"@@iterator",h=u.toStringTag||"@@toStringTag";function p(L,Q,J,V){var F=Q&&Q.prototype instanceof b?Q:b,ce=Object.create(F.prototype);return n(ce,"_invoke",(function(oe,H,ie){var re,X,ue,Ne=0,_e=ie||[],Ge=!1,je={p:0,n:0,v:s,a:C,f:C.bind(s,4),d:function(le,ye){return re=le,X=0,ue=s,je.n=ye,y}};function C(U,le){for(X=U,ue=le,l=0;!Ge&&Ne&&!ye&&l<_e.length;l++){var ye,be=_e[l],x=je.p,R=be[2];U>3?(ye=R===le)&&(ue=be[(X=be[4])?5:(X=3,3)],be[4]=be[5]=s):be[0]<=x&&((ye=U<2&&x<be[1])?(X=0,je.v=le,je.n=be[1]):x<R&&(ye=U<3||be[0]>le||le>R)&&(be[4]=U,be[5]=le,je.n=R,X=0))}if(ye||U>1)return y;throw Ge=!0,le}return function(U,le,ye){if(Ne>1)throw TypeError("Generator is already running");for(Ge&&le===1&&C(le,ye),X=le,ue=ye;(l=X<2?s:ue)||!Ge;){re||(X?X<3?(X>1&&(je.n=-1),C(X,ue)):je.n=ue:je.v=ue);try{if(Ne=2,re){if(X||(U="next"),l=re[U]){if(!(l=l.call(re,ue)))throw TypeError("iterator result is not an object");if(!l.done)return l;ue=l.value,X<2&&(X=0)}else X===1&&(l=re.return)&&l.call(re),X<2&&(ue=TypeError("The iterator does not provide a '"+U+"' method"),X=1);re=s}else if((l=(Ge=je.n<0)?ue:oe.call(H,je))!==y)break}catch(be){re=s,X=1,ue=be}finally{Ne=1}}return{value:l,done:Ge}}})(L,J,V),!0),ce}var y={};function b(){}function v(){}function S(){}l=Object.getPrototypeOf;var k=[][f]?l(l([][f]())):(n(l={},f,function(){return this}),l),N=S.prototype=b.prototype=Object.create(k);function Z(L){return Object.setPrototypeOf?Object.setPrototypeOf(L,S):(L.__proto__=S,n(L,h,"GeneratorFunction")),L.prototype=Object.create(N),L}return v.prototype=S,n(N,"constructor",S),n(S,"constructor",v),v.displayName="GeneratorFunction",n(S,h,"GeneratorFunction"),n(N),n(N,h,"Generator"),n(N,f,function(){return this}),n(N,"toString",function(){return"[object Generator]"}),(a.exports=r=function(){return{w:p,m:Z}},a.exports.__esModule=!0,a.exports.default=a.exports)()}a.exports=r,a.exports.__esModule=!0,a.exports.default=a.exports})(ud)),ud.exports}var fd={exports:{}},dd={exports:{}},hd={exports:{}},av;function fb(){return av||(av=1,(function(a){var n=lb(),r=ub();function s(l,u){function f(p,y,b,v){try{var S=l[p](y),k=S.value;return k instanceof n?u.resolve(k.v).then(function(N){f("next",N,b,v)},function(N){f("throw",N,b,v)}):u.resolve(k).then(function(N){S.value=N,b(S)},function(N){return f("throw",N,b,v)})}catch(N){v(N)}}var h;this.next||(r(s.prototype),r(s.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),r(this,"_invoke",function(p,y,b){function v(){return new u(function(S,k){f(p,b,S,k)})}return h=h?h.then(v,v):v()},!0)}a.exports=s,a.exports.__esModule=!0,a.exports.default=a.exports})(hd)),hd.exports}var rv;function db(){return rv||(rv=1,(function(a){var n=cb(),r=fb();function s(l,u,f,h,p){return new r(n().w(l,u,f,h),p||Promise)}a.exports=s,a.exports.__esModule=!0,a.exports.default=a.exports})(dd)),dd.exports}var iv;function pE(){return iv||(iv=1,(function(a){var n=db();function r(s,l,u,f,h){var p=n(s,l,u,f,h);return p.next().then(function(y){return y.done?y.value:p.next()})}a.exports=r,a.exports.__esModule=!0,a.exports.default=a.exports})(fd)),fd.exports}var pd={exports:{}},sv;function mE(){return sv||(sv=1,(function(a){function n(r){var s=Object(r),l=[];for(var u in s)l.unshift(u);return function f(){for(;l.length;)if((u=l.pop())in s)return f.value=u,f.done=!1,f;return f.done=!0,f}}a.exports=n,a.exports.__esModule=!0,a.exports.default=a.exports})(pd)),pd.exports}var md={exports:{}},yd={exports:{}},ov;function yE(){return ov||(ov=1,(function(a){function n(r){"@babel/helpers - typeof";return a.exports=n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},a.exports.__esModule=!0,a.exports.default=a.exports,n(r)}a.exports=n,a.exports.__esModule=!0,a.exports.default=a.exports})(yd)),yd.exports}var lv;function gE(){return lv||(lv=1,(function(a){var n=yE().default;function r(s){if(s!=null){var l=s[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],u=0;if(l)return l.call(s);if(typeof s.next=="function")return s;if(!isNaN(s.length))return{next:function(){return s&&u>=s.length&&(s=void 0),{value:s&&s[u++],done:!s}}}}throw new TypeError(n(s)+" is not iterable")}a.exports=r,a.exports.__esModule=!0,a.exports.default=a.exports})(md)),md.exports}var uv;function vE(){return uv||(uv=1,(function(a){var n=lb(),r=cb(),s=pE(),l=db(),u=fb(),f=mE(),h=gE();function p(){var y=r(),b=y.m(p),v=(Object.getPrototypeOf?Object.getPrototypeOf(b):b.__proto__).constructor;function S(Z){var L=typeof Z=="function"&&Z.constructor;return!!L&&(L===v||(L.displayName||L.name)==="GeneratorFunction")}var k={throw:1,return:2,break:3,continue:3};function N(Z){var L,Q;return function(J){L||(L={stop:function(){return Q(J.a,2)},catch:function(){return J.v},abrupt:function(F,ce){return Q(J.a,k[F],ce)},delegateYield:function(F,ce,oe){return L.resultName=ce,Q(J.d,h(F),oe)},finish:function(F){return Q(J.f,F)}},Q=function(F,ce,oe){J.p=L.prev,J.n=L.next;try{return F(ce,oe)}finally{L.next=J.n}}),L.resultName&&(L[L.resultName]=J.v,L.resultName=void 0),L.sent=J.v,L.next=J.n;try{return Z.call(this,L)}finally{J.p=L.prev,J.n=L.next}}}return(a.exports=p=function(){return{wrap:function(Q,J,V,F){return y.w(N(Q),J,V,F&&F.reverse())},isGeneratorFunction:S,mark:y.m,awrap:function(Q,J){return new n(Q,J)},AsyncIterator:u,async:function(Q,J,V,F,ce){return(S(J)?l:s)(N(Q),J,V,F,ce)},keys:f,values:h}},a.exports.__esModule=!0,a.exports.default=a.exports)()}a.exports=p,a.exports.__esModule=!0,a.exports.default=a.exports})(od)),od.exports}var gd,cv;function bE(){if(cv)return gd;cv=1;var a=vE()();gd=a;try{regeneratorRuntime=a}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}return gd}var wE=bE();const ve=Sh(wE);function SE(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=xE(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(y){throw y},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,f=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var y=r.next();return f=y.done,y},e:function(y){h=!0,u=y},f:function(){try{f||r.return==null||r.return()}finally{if(h)throw u}}}}function xE(a,n){if(a){if(typeof a=="string")return fv(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fv(a,n):void 0}}function fv(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function EE(){return{debug:function(n){}}}var hb=(function(){function a(){ct(this,a),Me(this,"pipes",[])}return ft(a,[{key:"addPipe",value:function(r){this.pipes.push(r)}},{key:"emit",value:(function(){var n=rt(ve.mark(function s(l){var u,f,h,p;return ve.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:u=l,f=SE(this.pipes),b.prev=2,f.s();case 4:if((h=f.n()).done){b.next=13;break}return p=h.value,b.next=8,p(u);case 8:if(u=b.sent,!(typeof u>"u")){b.next=11;break}return b.abrupt("return");case 11:b.next=4;break;case 13:b.next=18;break;case 15:b.prev=15,b.t0=b.catch(2),f.e(b.t0);case 18:return b.prev=18,f.f(),b.finish(18);case 21:return b.abrupt("return",u);case 22:case"end":return b.stop()}},s,this,[[2,15,18,21]])}));function r(s){return n.apply(this,arguments)}return r})()}])})(),fs=(function(){function a(n){ct(this,a),Me(this,"signal",new hb),this.name=n}return ft(a,[{key:"addPipe",value:function(r){this.signal.addPipe(r)}},{key:"use",value:function(r){if(!(r instanceof a))throw new Error("cannot use non-Scope instance");return r.setParent(this),this.addPipe(function(s){return r.signal.emit(s)}),EE()}},{key:"setParent",value:function(r){this.parent=r}},{key:"emit",value:function(r){return this.signal.emit(r)}},{key:"hasParent",value:function(){return!!this.parent}},{key:"parentScope",value:function(r){if(!this.parent)throw new Error("cannot find parent");if(r&&this.parent instanceof r)return this.parent;if(r)throw new Error("actual parent is not instance of type");return this.parent}}])})();function dv(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=kE(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(y){throw y},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,f=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var y=r.next();return f=y.done,y},e:function(y){h=!0,u=y},f:function(){try{f||r.return==null||r.return()}finally{if(h)throw u}}}}function kE(a,n){if(a){if(typeof a=="string")return hv(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hv(a,n):void 0}}function hv(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function CE(a,n,r){return n=Rt(n),_a(a,pb()?Reflect.construct(n,r||[],Rt(a).constructor):n.apply(a,r))}function pb(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pb=function(){return!!a})()}var Lr=(function(a){function n(){var r;return ct(this,n),r=CE(this,n,["NodeEditor"]),Me(r,"nodes",[]),Me(r,"connections",[]),r}return Bn(n,a),ft(n,[{key:"getNode",value:function(s){return this.nodes.find(function(l){return l.id===s})}},{key:"getNodes",value:function(){return this.nodes.slice()}},{key:"getConnections",value:function(){return this.connections.slice()}},{key:"getConnection",value:function(s){return this.connections.find(function(l){return l.id===s})}},{key:"addNode",value:(function(){var r=rt(ve.mark(function l(u){return ve.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!this.getNode(u.id)){h.next=2;break}throw new Error("node has already been added");case 2:return h.next=4,this.emit({type:"nodecreate",data:u});case 4:if(h.sent){h.next=6;break}return h.abrupt("return",!1);case 6:return this.nodes.push(u),h.next=9,this.emit({type:"nodecreated",data:u});case 9:return h.abrupt("return",!0);case 10:case"end":return h.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"addConnection",value:(function(){var r=rt(ve.mark(function l(u){return ve.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!this.getConnection(u.id)){h.next=2;break}throw new Error("connection has already been added");case 2:return h.next=4,this.emit({type:"connectioncreate",data:u});case 4:if(h.sent){h.next=6;break}return h.abrupt("return",!1);case 6:return this.connections.push(u),h.next=9,this.emit({type:"connectioncreated",data:u});case 9:return h.abrupt("return",!0);case 10:case"end":return h.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"removeNode",value:(function(){var r=rt(ve.mark(function l(u){var f,h;return ve.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(f=this.nodes.find(function(b){return b.id===u}),f){y.next=3;break}throw new Error("cannot find node");case 3:return y.next=5,this.emit({type:"noderemove",data:f});case 5:if(y.sent){y.next=7;break}return y.abrupt("return",!1);case 7:return h=this.nodes.indexOf(f),this.nodes.splice(h,1),y.next=11,this.emit({type:"noderemoved",data:f});case 11:return y.abrupt("return",!0);case 12:case"end":return y.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"removeConnection",value:(function(){var r=rt(ve.mark(function l(u){var f,h;return ve.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(f=this.connections.find(function(b){return b.id===u}),f){y.next=3;break}throw new Error("cannot find connection");case 3:return y.next=5,this.emit({type:"connectionremove",data:f});case 5:if(y.sent){y.next=7;break}return y.abrupt("return",!1);case 7:return h=this.connections.indexOf(f),this.connections.splice(h,1),y.next=11,this.emit({type:"connectionremoved",data:f});case 11:return y.abrupt("return",!0);case 12:case"end":return y.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"clear",value:(function(){var r=rt(ve.mark(function l(){var u,f,h,p,y,b;return ve.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,this.emit({type:"clear"});case 2:if(S.sent){S.next=6;break}return S.next=5,this.emit({type:"clearcancelled"});case 5:return S.abrupt("return",!1);case 6:u=dv(this.connections.slice()),S.prev=7,u.s();case 9:if((f=u.n()).done){S.next=15;break}return h=f.value,S.next=13,this.removeConnection(h.id);case 13:S.next=9;break;case 15:S.next=20;break;case 17:S.prev=17,S.t0=S.catch(7),u.e(S.t0);case 20:return S.prev=20,u.f(),S.finish(20);case 23:p=dv(this.nodes.slice()),S.prev=24,p.s();case 26:if((y=p.n()).done){S.next=32;break}return b=y.value,S.next=30,this.removeNode(b.id);case 30:S.next=26;break;case 32:S.next=37;break;case 34:S.prev=34,S.t1=S.catch(24),p.e(S.t1);case 37:return S.prev=37,p.f(),S.finish(37);case 40:return S.next=42,this.emit({type:"cleared"});case 42:return S.abrupt("return",!0);case 43:case"end":return S.stop()}},l,this,[[7,17,20,23],[24,34,37,40]])}));function s(){return r.apply(this,arguments)}return s})()}])})(fs),vd=globalThis.crypto;function Br(){if("randomBytes"in vd)return vd.randomBytes(8).toString("hex");var a=vd.getRandomValues(new Uint8Array(8)),n=Array.from(a),r=n.map(function(s){return s.toString(16).padStart(2,"0")});return r.join("")}function kh(a,n,r){return n=Rt(n),_a(a,mb()?Reflect.construct(n,r||[],Rt(a).constructor):n.apply(a,r))}function mb(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mb=function(){return!!a})()}var TE=ft(function a(n){ct(this,a),this.name=n}),Ch=ft(function a(n,r,s){ct(this,a),this.socket=n,this.label=r,this.multipleConnections=s,this.id=Br()}),OE=(function(a){function n(r,s,l){var u;return ct(this,n),u=kh(this,n,[r,s,l]),Me(u,"control",null),Me(u,"showControl",!0),u.socket=r,u.label=s,u.multipleConnections=l,u}return Bn(n,a),ft(n,[{key:"addControl",value:function(s){if(this.control)throw new Error("control already added for this input");this.control=s}},{key:"removeControl",value:function(){this.control=null}}])})(Ch),NE=(function(a){function n(r,s,l){return ct(this,n),kh(this,n,[r,s,l!==!1])}return Bn(n,a),ft(n)})(Ch),yb=ft(function a(){ct(this,a),this.id=Br()}),jE=(function(a){function n(r,s){var l,u;return ct(this,n),u=kh(this,n),u.type=r,u.options=s,u.id=Br(),u.readonly=(l=s?.readonly)!==null&&l!==void 0?l:!1,typeof s?.initial<"u"&&(u.value=s.initial),u}return Bn(n,a),ft(n,[{key:"setValue",value:function(s){var l;this.value=s,(l=this.options)!==null&&l!==void 0&&l.change&&this.options.change(s)}}])})(yb),AE=(function(){function a(n){ct(this,a),Me(this,"inputs",{}),Me(this,"outputs",{}),Me(this,"controls",{}),this.label=n,this.id=Br()}return ft(a,[{key:"hasInput",value:function(r){return Object.prototype.hasOwnProperty.call(this.inputs,r)}},{key:"addInput",value:function(r,s){if(this.hasInput(r))throw new Error("input with key '".concat(String(r),"' already added"));Object.defineProperty(this.inputs,r,{value:s,enumerable:!0,configurable:!0})}},{key:"removeInput",value:function(r){delete this.inputs[r]}},{key:"hasOutput",value:function(r){return Object.prototype.hasOwnProperty.call(this.outputs,r)}},{key:"addOutput",value:function(r,s){if(this.hasOutput(r))throw new Error("output with key '".concat(String(r),"' already added"));Object.defineProperty(this.outputs,r,{value:s,enumerable:!0,configurable:!0})}},{key:"removeOutput",value:function(r){delete this.outputs[r]}},{key:"hasControl",value:function(r){return Object.prototype.hasOwnProperty.call(this.controls,r)}},{key:"addControl",value:function(r,s){if(this.hasControl(r))throw new Error("control with key '".concat(String(r),"' already added"));Object.defineProperty(this.controls,r,{value:s,enumerable:!0,configurable:!0})}},{key:"removeControl",value:function(r){delete this.controls[r]}}])})(),_E=ft(function a(n,r,s,l){if(ct(this,a),this.sourceOutput=r,this.targetInput=l,!n.outputs[r])throw new Error("source node doesn't have output with a key ".concat(String(r)));if(!s.inputs[l])throw new Error("target node doesn't have input with a key ".concat(String(l)));this.id=Br(),this.source=n.id,this.target=s.id}),Ot=Object.freeze({__proto__:null,Socket:TE,Port:Ch,Input:OE,Output:NE,Control:yb,InputControl:jE,Node:AE,Connection:_E});const DE=Object.freeze(Object.defineProperty({__proto__:null,ClassicPreset:Ot,NodeEditor:Lr,Scope:fs,Signal:hb,getUID:Br},Symbol.toStringTag,{value:"Module"}));function Hd(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function ME(a){if(Array.isArray(a))return Hd(a)}function RE(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function gb(a,n){if(a){if(typeof a=="string")return Hd(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Hd(a,n):void 0}}function zE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ds(a){return ME(a)||RE(a)||gb(a)||zE()}var LE=(function(){function a(n){ct(this,a),this.reordered=n,this.holder=document.createElement("div"),this.holder.style.transformOrigin="0 0"}return ft(a,[{key:"getPointerFrom",value:function(r){var s=this.holder.getBoundingClientRect(),l=s.left,u=s.top,f=r.clientX-l,h=r.clientY-u;return{x:f,y:h}}},{key:"add",value:function(r){this.holder.appendChild(r)}},{key:"reorder",value:(function(){var n=rt(ve.mark(function s(l,u){return ve.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(this.holder.contains(l)){h.next=2;break}throw new Error("content doesn't have 'target' for reordering");case 2:if(!(u!==null&&!this.holder.contains(u))){h.next=4;break}throw new Error("content doesn't have 'next' for reordering");case 4:return this.holder.insertBefore(l,u),h.next=7,this.reordered(l);case 7:case"end":return h.stop()}},s,this)}));function r(s,l){return n.apply(this,arguments)}return r})()},{key:"remove",value:function(r){this.holder.contains(r)&&this.holder.removeChild(r)}}])})();function vb(a,n){var r=function(f){n.move(f)},s=function(f){window.removeEventListener("pointermove",r),window.removeEventListener("pointerup",s),window.removeEventListener("pointercancel",s),n.up(f)},l=function(f){window.addEventListener("pointermove",r),window.addEventListener("pointerup",s),window.addEventListener("pointercancel",s),n.down(f)};return a.addEventListener("pointerdown",l),{destroy:function(){a.removeEventListener("pointerdown",l),window.removeEventListener("pointermove",r),window.removeEventListener("pointerup",s),window.removeEventListener("pointercancel",s)}}}var pv=function(n){return n.length===0?0:Math.min.apply(Math,ds(n))},mv=function(n){return n.length===0?0:Math.max.apply(Math,ds(n))};function bb(a){var n=pv(a.map(function(u){return u.position.x})),r=pv(a.map(function(u){return u.position.y})),s=mv(a.map(function(u){return u.position.x+u.width})),l=mv(a.map(function(u){return u.position.y+u.height}));return{left:n,right:s,top:r,bottom:l,width:Math.abs(n-s),height:Math.abs(r-l),center:{x:(n+s)/2,y:(r+l)/2}}}function yv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function BE(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?yv(Object(r),!0).forEach(function(s){Me(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):yv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}var Th=(function(){function a(n){var r=this;ct(this,a),Me(this,"down",function(s){r.guards.down(s)&&(s.stopPropagation(),r.pointerStart={x:s.pageX,y:s.pageY},r.startPosition=BE({},r.config.getCurrentPosition()),r.events.start(s))}),Me(this,"move",function(s){if(!(!r.pointerStart||!r.startPosition)&&r.guards.move(s)){s.preventDefault();var l={x:s.pageX-r.pointerStart.x,y:s.pageY-r.pointerStart.y},u=r.config.getZoom(),f=r.startPosition.x+l.x/u,h=r.startPosition.y+l.y/u;r.events.translate(f,h,s)}}),Me(this,"up",function(s){r.pointerStart&&(delete r.pointerStart,r.events.drag(s))}),this.guards=n||{down:function(l){return!(l.pointerType==="mouse"&&l.button!==0)},move:function(){return!0}}}return ft(a,[{key:"initialize",value:function(r,s,l){this.config=s,this.events=l,r.style.touchAction="none",this.pointerListener=vb(r,{down:this.down,move:this.move,up:this.up})}},{key:"destroy",value:function(){this.pointerListener.destroy()}}])})(),wb=(function(){function a(n){var r=this;ct(this,a),Me(this,"previous",null),Me(this,"pointers",[]),Me(this,"wheel",function(s){s.preventDefault();var l=r.element.getBoundingClientRect(),u=l.left,f=l.top,h=s.deltaY<0,p=h?r.intensity:-r.intensity,y=(u-s.clientX)*p,b=(f-s.clientY)*p;r.onzoom(p,y,b,"wheel")}),Me(this,"down",function(s){r.pointers.push(s)}),Me(this,"move",function(s){if(r.pointers=r.pointers.map(function(N){return N.pointerId===s.pointerId?s:N}),!!r.isTranslating()){var l=r.element.getBoundingClientRect(),u=l.left,f=l.top,h=r.getTouches(),p=h.cx,y=h.cy,b=h.distance;if(r.previous!==null&&r.previous.distance>0){var v=b/r.previous.distance-1,S=(u-p)*v,k=(f-y)*v;r.onzoom(v,S-(r.previous.cx-p),k-(r.previous.cy-y),"touch")}r.previous={cx:p,cy:y,distance:b}}}),Me(this,"contextmenu",function(){r.pointers=[]}),Me(this,"up",function(s){r.previous=null,r.pointers=r.pointers.filter(function(l){return l.pointerId!==s.pointerId})}),Me(this,"dblclick",function(s){s.preventDefault();var l=r.element.getBoundingClientRect(),u=l.left,f=l.top,h=4*r.intensity,p=(u-s.clientX)*h,y=(f-s.clientY)*h;r.onzoom(h,p,y,"dblclick")}),this.intensity=n}return ft(a,[{key:"initialize",value:function(r,s,l){this.container=r,this.element=s,this.onzoom=l,this.container.addEventListener("wheel",this.wheel),this.container.addEventListener("pointerdown",this.down),this.container.addEventListener("dblclick",this.dblclick),window.addEventListener("pointermove",this.move),window.addEventListener("pointerup",this.up),window.addEventListener("pointercancel",this.up),window.addEventListener("contextmenu",this.contextmenu)}},{key:"getTouches",value:function(){var r={touches:this.pointers},s=[r.touches[0].clientX,r.touches[0].clientY],l=s[0],u=s[1],f=[r.touches[1].clientX,r.touches[1].clientY],h=f[0],p=f[1],y=Math.sqrt(Math.pow(l-h,2)+Math.pow(u-p,2));return{cx:(l+h)/2,cy:(u+p)/2,distance:y}}},{key:"isTranslating",value:function(){return this.pointers.length>=2}},{key:"destroy",value:function(){this.container.removeEventListener("wheel",this.wheel),this.container.removeEventListener("pointerdown",this.down),this.container.removeEventListener("dblclick",this.dblclick),window.removeEventListener("pointermove",this.move),window.removeEventListener("pointerup",this.up),window.removeEventListener("pointercancel",this.up),window.removeEventListener("contextmenu",this.contextmenu)}}])})(),Sb=(function(){function a(n,r,s){var l=this;ct(this,a),Me(this,"transform",{k:1,x:0,y:0}),Me(this,"pointer",{x:0,y:0}),Me(this,"zoomHandler",null),Me(this,"dragHandler",null),Me(this,"pointerdown",function(u){l.setPointerFrom(u),l.events.pointerDown(l.pointer,u)}),Me(this,"pointermove",function(u){l.setPointerFrom(u),l.events.pointerMove(l.pointer,u)}),Me(this,"pointerup",function(u){l.setPointerFrom(u),l.events.pointerUp(l.pointer,u)}),Me(this,"resize",function(u){l.events.resize(u)}),Me(this,"onTranslate",function(u,f){var h;(h=l.zoomHandler)!==null&&h!==void 0&&h.isTranslating()||l.translate(u,f)}),Me(this,"onZoom",function(u,f,h,p){l.zoom(l.transform.k*(1+u),f,h,p),l.update()}),this.container=n,this.events=r,this.guards=s,this.content=new LE(function(u){return l.events.reordered(u)}),this.content.holder.style.transformOrigin="0 0",this.setZoomHandler(new wb(.1)),this.setDragHandler(new Th),this.container.addEventListener("pointerdown",this.pointerdown),this.container.addEventListener("pointermove",this.pointermove),window.addEventListener("pointerup",this.pointerup),window.addEventListener("resize",this.resize),n.appendChild(this.content.holder),this.update()}return ft(a,[{key:"update",value:function(){var r=this.transform,s=r.x,l=r.y,u=r.k;this.content.holder.style.transform="translate(".concat(s,"px, ").concat(l,"px) scale(").concat(u,")")}},{key:"setDragHandler",value:function(r){var s=this;this.dragHandler&&this.dragHandler.destroy(),this.dragHandler=r,this.dragHandler&&this.dragHandler.initialize(this.container,{getCurrentPosition:function(){return s.transform},getZoom:function(){return 1}},{start:function(){return null},translate:this.onTranslate,drag:function(){return null}})}},{key:"setZoomHandler",value:function(r){this.zoomHandler&&this.zoomHandler.destroy(),this.zoomHandler=r,this.zoomHandler&&this.zoomHandler.initialize(this.container,this.content.holder,this.onZoom)}},{key:"setPointerFrom",value:function(r){var s=this.content.getPointerFrom(r),l=s.x,u=s.y,f=this.transform.k;this.pointer={x:l/f,y:u/f}}},{key:"translate",value:(function(){var n=rt(ve.mark(function s(l,u){var f,h;return ve.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return f={x:l,y:u},y.next=3,this.guards.translate({previous:this.transform,position:f});case 3:if(h=y.sent,h){y.next=6;break}return y.abrupt("return",!1);case 6:return this.transform.x=h.data.position.x,this.transform.y=h.data.position.y,this.update(),y.next=11,this.events.translated(h.data);case 11:return y.abrupt("return",!0);case 12:case"end":return y.stop()}},s,this)}));function r(s,l){return n.apply(this,arguments)}return r})()},{key:"zoom",value:(function(){var n=rt(ve.mark(function s(l){var u,f,h,p,y,b,v=arguments;return ve.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return u=v.length>1&&v[1]!==void 0?v[1]:0,f=v.length>2&&v[2]!==void 0?v[2]:0,h=v.length>3?v[3]:void 0,p=this.transform.k,k.next=6,this.guards.zoom({previous:this.transform,zoom:l,source:h});case 6:if(y=k.sent,y){k.next=9;break}return k.abrupt("return",!0);case 9:return b=(p-y.data.zoom)/(p-l||1),this.transform.k=y.data.zoom||1,this.transform.x+=u*b,this.transform.y+=f*b,this.update(),k.next=16,this.events.zoomed(y.data);case 16:return k.abrupt("return",!1);case 17:case"end":return k.stop()}},s,this)}));function r(s){return n.apply(this,arguments)}return r})()},{key:"destroy",value:function(){this.container.removeEventListener("pointerdown",this.pointerdown),this.container.removeEventListener("pointermove",this.pointermove),window.removeEventListener("pointerup",this.pointerup),window.removeEventListener("resize",this.resize),this.dragHandler&&this.dragHandler.destroy(),this.zoomHandler&&this.zoomHandler.destroy(),this.content.holder.innerHTML=""}}])})();function UE(a,n,r){return n=Rt(n),_a(a,xb()?Reflect.construct(n,r||[],Rt(a).constructor):n.apply(a,r))}function xb(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xb=function(){return!!a})()}var No=(function(a){function n(){return ct(this,n),UE(this,n,arguments)}return Bn(n,a),ft(n)})(fs),$E=ft(function a(n){ct(this,a),this.element=document.createElement("div"),this.element.style.position="absolute",this.element.style.left="0",this.element.style.top="0",this.element.addEventListener("contextmenu",function(r){return n.contextmenu(r)})}),HE=(function(){function a(){ct(this,a),Me(this,"views",new WeakMap),Me(this,"viewsElements",new Map)}return ft(a,[{key:"set",value:function(r){var s=r.element,l=r.type,u=r.payload;u!=null&&u.id&&(this.views.set(s,r),this.viewsElements.set("".concat(l,"_").concat(u.id),s))}},{key:"get",value:function(r,s){var l=this.viewsElements.get("".concat(r,"_").concat(s));return l&&this.views.get(l)}},{key:"delete",value:function(r){var s,l=this.views.get(r);l&&(s=l.payload)!==null&&s!==void 0&&s.id&&(this.views.delete(r),this.viewsElements.delete("".concat(l.type,"_").concat(l.payload.id)))}}])})();function gv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function vv(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?gv(Object(r),!0).forEach(function(s){Me(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):gv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}var Eb=(function(){function a(n,r,s){var l=this;ct(this,a),Me(this,"translate",(function(){var u=rt(ve.mark(function f(h,p){var y,b;return ve.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return y=vv({},l.position),S.next=3,l.guards.translate({previous:y,position:{x:h,y:p}});case 3:if(b=S.sent,b){S.next=6;break}return S.abrupt("return",!1);case 6:return l.position=vv({},b.data.position),l.element.style.transform="translate(".concat(l.position.x,"px, ").concat(l.position.y,"px)"),S.next=10,l.events.translated({position:l.position,previous:y});case 10:return S.abrupt("return",!0);case 11:case"end":return S.stop()}},f)}));return function(f,h){return u.apply(this,arguments)}})()),Me(this,"resize",(function(){var u=rt(ve.mark(function f(h,p){var y,b;return ve.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return y={width:h,height:p},S.next=3,l.guards.resize({size:y});case 3:if(S.sent){S.next=5;break}return S.abrupt("return",!1);case 5:if(b=l.element.querySelector("*:not(span):not([fragment])"),!(!b||!(b instanceof HTMLElement))){S.next=8;break}return S.abrupt("return",!1);case 8:return b.style.width="".concat(h,"px"),b.style.height="".concat(p,"px"),S.next=12,l.events.resized({size:y});case 12:return S.abrupt("return",!0);case 13:case"end":return S.stop()}},f)}));return function(f,h){return u.apply(this,arguments)}})()),this.getZoom=n,this.events=r,this.guards=s,this.element=document.createElement("div"),this.element.style.position="absolute",this.position={x:0,y:0},this.translate(0,0),this.element.addEventListener("contextmenu",function(u){return l.events.contextmenu(u)}),this.dragHandler=new Th,this.dragHandler.initialize(this.element,{getCurrentPosition:function(){return l.position},getZoom:function(){return l.getZoom()}},{start:this.events.picked,translate:this.translate,drag:this.events.dragged})}return ft(a,[{key:"destroy",value:function(){this.dragHandler.destroy()}}])})();function kb(a,n){return a.map(function(r){return{view:n.get(r.id),node:r}}).filter(function(r){return r.view}).map(function(r){var s=r.view,l=r.node,u=l.width,f=l.height;return typeof u<"u"&&typeof f<"u"?{position:s.position,width:u,height:f}:{position:s.position,width:s.element.clientWidth,height:s.element.clientHeight}})}function IE(a,n){var r=a.parentScope(Lr),s=n.map(function(u){return bn(u)==="object"?u:r.getNode(u)}),l=kb(s,a.nodeViews);return bb(l)}function VE(a){var n=a;n.addPipe(function(r){if(!r||bn(r)!=="object"||!("type"in r))return r;if(r.type==="nodepicked"){var s=n.nodeViews.get(r.data.id),l=n.area.content;s&&l.reorder(s.element,null)}if(r.type==="connectioncreated"){var u=n.connectionViews.get(r.data.id),f=n.area.content;u&&f.reorder(u.element,f.holder.firstChild)}return r})}function bv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function Wa(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?bv(Object(r),!0).forEach(function(s){Me(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):bv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function qE(a,n){var r=n!=null&&n.scaling?n.scaling===!0?{min:.1,max:1}:n.scaling:!1,s=n!=null&&n.translation?n.translation===!0?{left:0,top:0,right:1e3,bottom:1e3}:n.translation:!1;function l(f){if(!r)throw new Error("scaling param isnt defined");var h=typeof r=="function"?r():r,p=h.min,y=h.max;return f<p?p:f>y?y:f}function u(f){if(!s)throw new Error("translation param isnt defined");var h=Wa({},f),p=typeof s=="function"?s():s,y=p.left,b=p.top,v=p.right,S=p.bottom;return h.x<y&&(h.x=y),h.x>v&&(h.x=v),h.y<b&&(h.y=b),h.y>S&&(h.y=S),h}a.addPipe(function(f){if(!f||bn(f)!=="object"||!("type"in f))return f;if(r&&f.type==="zoom")return Wa(Wa({},f),{},{data:Wa(Wa({},f.data),{},{zoom:l(f.data.zoom)})});if(s&&f.type==="zoomed"){var h=u(a.area.transform);a.area.translate(h.x,h.y)}return s&&f.type==="translate"?Wa(Wa({},f),{},{data:Wa(Wa({},f.data),{},{position:u(f.data.position)})}):f})}function YE(){var a=!1;function n(s){(s.key==="Control"||s.key==="Meta")&&(a=!0)}function r(s){(s.key==="Control"||s.key==="Meta")&&(a=!1)}return document.addEventListener("keydown",n),document.addEventListener("keyup",r),{active:function(){return a},destroy:function(){document.removeEventListener("keydown",n),document.removeEventListener("keyup",r)}}}var Cb=(function(){function a(){ct(this,a),Me(this,"entities",new Map),Me(this,"pickId",null)}return ft(a,[{key:"isSelected",value:function(r){return this.entities.has("".concat(r.label,"_").concat(r.id))}},{key:"add",value:(function(){var n=rt(ve.mark(function s(l,u){return ve.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(u){h.next=3;break}return h.next=3,this.unselectAll();case 3:this.entities.set("".concat(l.label,"_").concat(l.id),l);case 4:case"end":return h.stop()}},s,this)}));function r(s,l){return n.apply(this,arguments)}return r})()},{key:"remove",value:(function(){var n=rt(ve.mark(function s(l){var u,f;return ve.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(u="".concat(l.label,"_").concat(l.id),f=this.entities.get(u),!f){p.next=6;break}return this.entities.delete(u),p.next=6,f.unselect();case 6:case"end":return p.stop()}},s,this)}));function r(s){return n.apply(this,arguments)}return r})()},{key:"unselectAll",value:(function(){var n=rt(ve.mark(function s(){var l=this;return ve.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,Promise.all(ds(Array.from(this.entities.values())).map(function(h){return l.remove(h)}));case 2:case"end":return f.stop()}},s,this)}));function r(){return n.apply(this,arguments)}return r})()},{key:"translate",value:(function(){var n=rt(ve.mark(function s(l,u){var f=this;return ve.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,Promise.all(Array.from(this.entities.values()).map(function(y){return!f.isPicked(y)&&y.translate(l,u)}));case 2:case"end":return p.stop()}},s,this)}));function r(s,l){return n.apply(this,arguments)}return r})()},{key:"pick",value:function(r){this.pickId="".concat(r.label,"_").concat(r.id)}},{key:"release",value:function(){this.pickId=null}},{key:"isPicked",value:function(r){return this.pickId==="".concat(r.label,"_").concat(r.id)}}])})();function GE(){return new Cb}function ZE(a,n,r){var s=null,l=a,u=function(){return s||(s=l.parentScope(Lr))},f=0;function h(k){k.selected||(k.selected=!0,l.update("node",k.id))}function p(k){k.selected&&(k.selected=!1,l.update("node",k.id))}function y(k,N){return b.apply(this,arguments)}function b(){return b=rt(ve.mark(function k(N,Z){var L;return ve.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(L=u().getNode(N),L){J.next=3;break}return J.abrupt("return");case 3:return J.next=5,n.add({label:"node",id:L.id,translate:function(F,ce){return rt(ve.mark(function oe(){var H,ie;return ve.wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(H=l.nodeViews.get(L.id),ie=H?.position,!ie){X.next=5;break}return X.next=5,H.translate(ie.x+F,ie.y+ce);case 5:case"end":return X.stop()}},oe)}))()},unselect:function(){p(L)}},Z);case 5:h(L);case 6:case"end":return J.stop()}},k)})),b.apply(this,arguments)}function v(k){return S.apply(this,arguments)}function S(){return S=rt(ve.mark(function k(N){return ve.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,n.remove({id:N,label:"node"});case 2:case"end":return L.stop()}},k)})),S.apply(this,arguments)}return l.addPipe((function(){var k=rt(ve.mark(function N(Z){var L,Q,J,V,F,ce,oe,H;return ve.wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(!(!Z||bn(Z)!=="object"||!("type"in Z))){re.next=2;break}return re.abrupt("return",Z);case 2:if(Z.type!=="nodepicked"){re.next=11;break}return L=Z.data.id,Q=r.accumulating.active(),n.pick({id:L,label:"node"}),f=null,re.next=9,y(L,Q);case 9:re.next=33;break;case 11:if(Z.type!=="nodetranslated"){re.next=20;break}if(J=Z.data,V=J.id,F=J.position,ce=J.previous,oe=F.x-ce.x,H=F.y-ce.y,!n.isPicked({id:V,label:"node"})){re.next=18;break}return re.next=18,n.translate(oe,H);case 18:re.next=33;break;case 20:if(Z.type!=="pointerdown"){re.next=24;break}f=0,re.next=33;break;case 24:if(Z.type!=="pointermove"){re.next=28;break}f!==null&&f++,re.next=33;break;case 28:if(Z.type!=="pointerup"){re.next=33;break}if(!(f!==null&&f<4)){re.next=32;break}return re.next=32,n.unselectAll();case 32:f=null;case 33:return re.abrupt("return",Z);case 34:case"end":return re.stop()}},N)}));return function(N){return k.apply(this,arguments)}})()),{select:y,unselect:v}}function PE(a,n){var r=null,s=function(){return r||(r=a.parentScope(Lr))};function l(u,f){var h=s().getNode(u);if(h){var p=h.inputs[f];if(!p)throw new Error("cannot find input");var y=p.showControl,b=s().getConnections(),v=!!b.find(function(S){return S.target===u&&S.targetInput===f});p.showControl=n?n({hasAnyConnection:v,input:p}):!v,p.showControl!==y&&a.update("node",h.id)}}a.addPipe(function(u){return(u.type==="connectioncreated"||u.type==="connectionremoved")&&l(u.data.target,u.data.targetInput),u})}function wv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function Kl(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?wv(Object(r),!0).forEach(function(s){Me(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):wv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function FE(a,n){var r=a,s=typeof n?.size>"u"?16:n.size,l=typeof n?.dynamic>"u"?!0:n.dynamic;function u(f){return Math.round(f/s)*s}r.addPipe(function(f){if(!f||bn(f)!=="object"||!("type"in f))return f;if(l&&f.type==="nodetranslate"){var h=f.data.position,p=u(h.x),y=u(h.y);return Kl(Kl({},f),{},{data:Kl(Kl({},f.data),{},{position:{x:p,y}})})}if(!l&&f.type==="nodedragged"){var b=r.nodeViews.get(f.data.id);if(b){var v=b.position,S=v.x,k=v.y;b.translate(u(S),u(k))}}return f})}function XE(a,n,r){return Id.apply(this,arguments)}function Id(){return Id=rt(ve.mark(function a(n,r,s){var l,u,f,h,p,y,b,v,S,k,N,Z,L;return ve.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return l=s||{},u=l.scale,f=u===void 0?.9:u,h=n.parentScope(Lr),p=r.map(function(V){return bn(V)==="object"?V:h.getNode(V)}),y=kb(p,n.nodeViews),b=bb(y),v=[n.container.clientWidth,n.container.clientHeight],S=v[0],k=v[1],N=S/b.width,Z=k/b.height,L=Math.min(Z*f,N*f,1),n.area.transform.x=S/2-b.center.x*L,n.area.transform.y=k/2-b.center.y*L,J.next=12,n.area.zoom(L,0,0);case 12:case"end":return J.stop()}},a)})),Id.apply(this,arguments)}var jr=Object.freeze({__proto__:null,getBoundingBox:IE,simpleNodesOrder:VE,restrictor:qE,accumulateOnCtrl:YE,selectableNodes:ZE,Selector:Cb,selector:GE,showInputControl:PE,snapGrid:FE,zoomAt:XE});function Sv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function xv(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Sv(Object(r),!0).forEach(function(s){Me(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):Sv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function KE(a,n,r){return n=Rt(n),_a(a,Tb()?Reflect.construct(n,r||[],Rt(a).constructor):n.apply(a,r))}function Tb(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tb=function(){return!!a})()}var Ob=(function(a){function n(r){var s;return ct(this,n),s=KE(this,n,["area"]),Me(s,"nodeViews",new Map),Me(s,"connectionViews",new Map),Me(s,"elements",new HE),Me(s,"onContextMenu",function(l){s.emit({type:"contextmenu",data:{event:l,context:"root"}})}),s.container=r,r.style.overflow="hidden",r.addEventListener("contextmenu",s.onContextMenu),s.addPipe(function(l){return!l||!(bn(l)==="object"&&"type"in l)||(l.type==="nodecreated"&&s.addNodeView(l.data),l.type==="noderemoved"&&s.removeNodeView(l.data.id),l.type==="connectioncreated"&&s.addConnectionView(l.data),l.type==="connectionremoved"&&s.removeConnectionView(l.data.id),l.type==="render"&&s.elements.set(l.data),l.type==="unmount"&&s.elements.delete(l.data.element)),l}),s.area=new Sb(r,{zoomed:function(u){return s.emit({type:"zoomed",data:u})},pointerDown:function(u,f){return void s.emit({type:"pointerdown",data:{position:u,event:f}})},pointerMove:function(u,f){return void s.emit({type:"pointermove",data:{position:u,event:f}})},pointerUp:function(u,f){return void s.emit({type:"pointerup",data:{position:u,event:f}})},resize:function(u){return void s.emit({type:"resized",data:{event:u}})},translated:function(u){return s.emit({type:"translated",data:u})},reordered:function(u){return s.emit({type:"reordered",data:{element:u}})}},{translate:function(u){return s.emit({type:"translate",data:u})},zoom:function(u){return s.emit({type:"zoom",data:u})}}),s}return Bn(n,a),ft(n,[{key:"addNodeView",value:function(s){var l=this,u=s.id,f=new Eb(function(){return l.area.transform.k},{picked:function(){return void l.emit({type:"nodepicked",data:{id:u}})},translated:function(p){return l.emit({type:"nodetranslated",data:xv({id:u},p)})},dragged:function(){return void l.emit({type:"nodedragged",data:s})},contextmenu:function(p){return void l.emit({type:"contextmenu",data:{event:p,context:s}})},resized:function(p){var y=p.size;return l.emit({type:"noderesized",data:{id:s.id,size:y}})}},{translate:function(p){return l.emit({type:"nodetranslate",data:xv({id:u},p)})},resize:function(p){var y=p.size;return l.emit({type:"noderesize",data:{id:s.id,size:y}})}});return this.nodeViews.set(u,f),this.area.content.add(f.element),this.emit({type:"render",data:{element:f.element,type:"node",payload:s}}),f}},{key:"removeNodeView",value:function(s){var l=this.nodeViews.get(s);l&&(this.emit({type:"unmount",data:{element:l.element}}),this.nodeViews.delete(s),this.area.content.remove(l.element))}},{key:"addConnectionView",value:function(s){var l=this,u=new $E({contextmenu:function(h){return void l.emit({type:"contextmenu",data:{event:h,context:s}})}});return this.connectionViews.set(s.id,u),this.area.content.add(u.element),this.emit({type:"render",data:{element:u.element,type:"connection",payload:s}}),u}},{key:"removeConnectionView",value:function(s){var l=this.connectionViews.get(s);l&&(this.emit({type:"unmount",data:{element:l.element}}),this.connectionViews.delete(s),this.area.content.remove(l.element))}},{key:"update",value:(function(){var r=rt(ve.mark(function l(u,f){var h;return ve.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(h=this.elements.get(u,f),!h){y.next=4;break}return y.next=4,this.emit({type:"render",data:h});case 4:case"end":return y.stop()}},l,this)}));function s(l,u){return r.apply(this,arguments)}return s})()},{key:"resize",value:(function(){var r=rt(ve.mark(function l(u,f,h){var p;return ve.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(p=this.nodeViews.get(u),!p){b.next=5;break}return b.next=4,p.resize(f,h);case 4:return b.abrupt("return",b.sent);case 5:case"end":return b.stop()}},l,this)}));function s(l,u,f){return r.apply(this,arguments)}return s})()},{key:"translate",value:(function(){var r=rt(ve.mark(function l(u,f){var h,p,y;return ve.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(h=f.x,p=f.y,y=this.nodeViews.get(u),!y){v.next=6;break}return v.next=5,y.translate(h,p);case 5:return v.abrupt("return",v.sent);case 6:case"end":return v.stop()}},l,this)}));function s(l,u){return r.apply(this,arguments)}return s})()},{key:"destroy",value:function(){var s=this;this.container.removeEventListener("contextmenu",this.onContextMenu),Array.from(this.connectionViews.keys()).forEach(function(l){return s.removeConnectionView(l)}),Array.from(this.nodeViews.keys()).forEach(function(l){return s.removeNodeView(l)}),this.area.destroy()}}])})(No);const Ev=Object.freeze(Object.defineProperty({__proto__:null,Area:Sb,AreaExtensions:jr,AreaPlugin:Ob,BaseAreaPlugin:No,Drag:Th,NodeView:Eb,Zoom:wb,usePointerListener:vb},Symbol.toStringTag,{value:"Module"}));function QE(a,n){for(;!{}.hasOwnProperty.call(a,n)&&(a=Rt(a))!==null;);return a}function Co(){return Co=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(a,n,r){var s=QE(a,n);if(s){var l=Object.getOwnPropertyDescriptor(s,n);return l.get?l.get.call(arguments.length<3?a:r):l.value}},Co.apply(null,arguments)}function JE(a){if(Array.isArray(a))return a}function WE(a,n){var r=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(r!=null){var s,l,u,f,h=[],p=!0,y=!1;try{if(u=(r=r.call(a)).next,n!==0)for(;!(p=(s=u.call(r)).done)&&(h.push(s.value),h.length!==n);p=!0);}catch(b){y=!0,l=b}finally{try{if(!p&&r.return!=null&&(f=r.return(),Object(f)!==f))return}finally{if(y)throw l}}return h}}function e2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nn(a,n){return JE(a)||WE(a,n)||gb(a,n)||e2()}function kv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function bd(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?kv(Object(r),!0).forEach(function(s){Me(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):kv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function t2(a){var n=null,r=null;function s(u){r&&u.removeConnectionView(r),n=null,r=null}function l(u){s(u),r="pseudo_".concat(Br())}return{isMounted:function(){return!!r},mount:l,render:function(f,h,p){var y=h.x,b=h.y,v=p.side==="output",S={x:y+(v?-3:3),y:b};if(!r)throw new Error("pseudo connection id wasn't generated");var k=v?bd({id:r,source:p.nodeId,sourceOutput:p.key,target:"",targetInput:""},a??{}):bd({id:r,target:p.nodeId,targetInput:p.key,source:"",sourceOutput:""},a??{});if(!n){var N=f.addConnectionView(k);n=N.element}n&&f.emit({type:"render",data:bd({element:n,type:"connection",payload:k},v?{end:S}:{start:S})})},unmount:s}}function n2(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=a2(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(y){throw y},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,f=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var y=r.next();return f=y.done,y},e:function(y){h=!0,u=y},f:function(){try{f||r.return==null||r.return()}finally{if(h)throw u}}}}function a2(a,n){if(a){if(typeof a=="string")return Cv(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Cv(a,n):void 0}}function Cv(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function r2(a,n){var r=n2(n),s;try{for(r.s();!(s=r.n()).done;){var l=s.value,u=a.get(l);if(u)return u}}catch(f){r.e(f)}finally{r.f()}}function Nb(a,n){var r,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document,l=s.elementsFromPoint(a,n),u=(r=l[0])===null||r===void 0?void 0:r.shadowRoot;return u&&u!==s&&l.unshift.apply(l,ds(Nb(a,n,u))),l}var Oh=(function(){function a(){ct(this,a)}return ft(a,[{key:"setContext",value:function(r){this.context=r}}])})();function jb(a,n){var r=a.side==="output"&&n.side==="input",s=a.side==="input"&&n.side==="output",l=r?[a,n]:s?[n,a]:[],u=Nn(l,2),f=u[0],h=u[1];if(f&&h)return[f,h]}function i2(a,n){return!!jb(a,n)}function s2(a,n,r){var s=jb(a,n)||[null,null],l=Nn(s,2),u=l[0],f=l[1];if(u&&f)return r.editor.addConnection({id:Br(),source:u.nodeId,sourceOutput:u.key,target:f.nodeId,targetInput:f.key}),!0}function o2(a,n){var r=n.getNode(a.nodeId);if(!r)throw new Error("cannot find node");var s=a.side==="input"?r.inputs:r.outputs;return s[a.key]}function l2(a,n){var r=a.nodeId,s=a.side,l=a.key;return n.getConnections().filter(function(u){if(s==="input")return u.target===r&&u.targetInput===l;if(s==="output")return u.source===r&&u.sourceOutput===l})}function Vd(a,n){var r=a.map(function(s){var l=o2(s,n),u=l?.multipleConnections;return u?[]:l2(s,n)}).flat();return{commit:function(){var l=Array.from(new Set(r.map(function(u){var f=u.id;return f})));l.forEach(function(u){return void n.removeConnection(u)})}}}function Nh(a,n,r){return n=Rt(n),_a(a,Ab()?Reflect.construct(n,[],Rt(a).constructor):n.apply(a,r))}function Ab(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ab=function(){return!!a})()}var u2=(function(a){function n(r,s){var l;return ct(this,n),l=Nh(this,n),l.initial=r,l.params=s,l}return Bn(n,a),ft(n,[{key:"pick",value:(function(){var r=rt(ve.mark(function l(u,f){var h,p;return ve.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:h=u.socket,this.params.canMakeConnection(this.initial,h)&&(Vd([this.initial,h],f.editor).commit(),p=this.params.makeConnection(this.initial,h,f),this.drop(f,p?h:null,p));case 2:case"end":return b.stop()}},l,this)}));function s(l,u){return r.apply(this,arguments)}return s})()},{key:"drop",value:function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.initial&&s.scope.emit({type:"connectiondrop",data:{initial:this.initial,socket:l,created:u}}),this.context.switchTo(new jh(this.params))}}])})(Oh),c2=(function(a){function n(r,s,l){var u;ct(this,n),u=Nh(this,n),u.connection=r,u.params=s;var f=Array.from(l.socketsCache.values()).find(function(h){return h.nodeId===u.connection.source&&h.side==="output"&&h.key===u.connection.sourceOutput});if(!f)throw new Error("cannot find output socket");return u.outputSocket=f,u}return Bn(n,a),ft(n,[{key:"init",value:(function(){var r=rt(ve.mark(function l(u){var f=this;return ve.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:u.scope.emit({type:"connectionpick",data:{socket:this.outputSocket}}).then(function(y){y?(u.editor.removeConnection(f.connection.id),f.initial=f.outputSocket):f.drop(u)});case 1:case"end":return p.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"pick",value:(function(){var r=rt(ve.mark(function l(u,f){var h,p,y,b,v,S;return ve.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:h=u.socket,p=u.event,this.initial&&!(h.side==="input"&&this.connection.target===h.nodeId&&this.connection.targetInput===h.key)?this.params.canMakeConnection(this.initial,h)&&(Vd([this.initial,h],f.editor).commit(),y=this.params.makeConnection(this.initial,h,f),b=y?h:null,this.drop(f,b,y)):p==="down"&&this.initial&&(Vd([this.initial,h],f.editor).commit(),v=this.params.makeConnection(this.initial,h,f),S=v?null:h,this.drop(f,S,v));case 2:case"end":return N.stop()}},l,this)}));function s(l,u){return r.apply(this,arguments)}return s})()},{key:"drop",value:function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.initial&&s.scope.emit({type:"connectiondrop",data:{initial:this.initial,socket:l,created:u}}),this.context.switchTo(new jh(this.params))}}])})(Oh),jh=(function(a){function n(r){var s;return ct(this,n),s=Nh(this,n),s.params=r,s}return Bn(n,a),ft(n,[{key:"pick",value:(function(){var r=rt(ve.mark(function l(u,f){var h,p,y,b;return ve.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(h=u.socket,p=u.event,p==="down"){S.next=3;break}return S.abrupt("return");case 3:if(h.side!=="input"){S.next=11;break}if(y=f.editor.getConnections().find(function(k){return k.target===h.nodeId&&k.targetInput===h.key}),!y){S.next=11;break}return b=new c2(y,this.params,f),S.next=9,b.init(f);case 9:return this.context.switchTo(b),S.abrupt("return");case 11:return S.next=13,f.scope.emit({type:"connectionpick",data:{socket:h}});case 13:if(!S.sent){S.next=17;break}this.context.switchTo(new u2(h,this.params)),S.next=18;break;case 17:this.drop(f);case 18:case"end":return S.stop()}},l,this)}));function s(l,u){return r.apply(this,arguments)}return s})()},{key:"drop",value:function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.initial&&s.scope.emit({type:"connectiondrop",data:{initial:this.initial,socket:l,created:u}}),delete this.initial}}])})(Oh),f2=(function(){function a(n){ct(this,a);var r=n?.canMakeConnection||i2,s=n?.makeConnection||s2;this.switchTo(new jh({canMakeConnection:r,makeConnection:s}))}return ft(a,[{key:"pick",value:(function(){var n=rt(ve.mark(function s(l,u){return ve.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.currentState.pick(l,u);case 2:case"end":return h.stop()}},s,this)}));function r(s,l){return n.apply(this,arguments)}return r})()},{key:"getPickedSocket",value:function(){return this.currentState.initial}},{key:"switchTo",value:function(r){r.setContext(this),this.currentState=r}},{key:"drop",value:function(r){this.currentState.drop(r)}}])})();function d2(){return function(){return new f2}}var h2=Object.freeze({__proto__:null,setup:d2}),p2=Object.freeze({__proto__:null,classic:h2});function m2(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=y2(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(y){throw y},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,f=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var y=r.next();return f=y.done,y},e:function(y){h=!0,u=y},f:function(){try{f||r.return==null||r.return()}finally{if(h)throw u}}}}function y2(a,n){if(a){if(typeof a=="string")return Tv(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Tv(a,n):void 0}}function Tv(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function g2(a,n,r){return n=Rt(n),_a(a,_b()?Reflect.construct(n,r||[],Rt(a).constructor):n.apply(a,r))}function _b(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_b=function(){return!!a})()}function v2(a,n,r,s){var l=Co(Rt(a.prototype),n,r);return typeof l=="function"?function(u){return l.apply(r,u)}:l}var b2=(function(a){function n(){var r;return ct(this,n),r=g2(this,n,["connection"]),Me(r,"presets",[]),Me(r,"currentFlow",null),Me(r,"preudoconnection",t2({isPseudo:!0})),Me(r,"socketsCache",new Map),r}return Bn(n,a),ft(n,[{key:"addPreset",value:function(s){this.presets.push(s)}},{key:"findPreset",value:function(s){var l=m2(this.presets),u;try{for(l.s();!(u=l.n()).done;){var f=u.value,h=f(s);if(h)return h}}catch(p){l.e(p)}finally{l.f()}return null}},{key:"update",value:function(){if(this.currentFlow){var s=this.currentFlow.getPickedSocket();s&&this.preudoconnection.render(this.areaPlugin,this.areaPlugin.area.pointer,s)}}},{key:"drop",value:function(){var s={editor:this.editor,scope:this,socketsCache:this.socketsCache};this.currentFlow&&(this.currentFlow.drop(s),this.preudoconnection.unmount(this.areaPlugin),this.currentFlow=null)}},{key:"pick",value:(function(){var r=rt(ve.mark(function l(u,f){var h,p,y;return ve.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(h={editor:this.editor,scope:this,socketsCache:this.socketsCache},p=Nb(u.clientX,u.clientY),y=r2(this.socketsCache,p),!y){v.next=13;break}if(u.preventDefault(),u.stopPropagation(),this.currentFlow=this.currentFlow||this.findPreset(y),!this.currentFlow){v.next=11;break}return v.next=10,this.currentFlow.pick({socket:y,event:f},h);case 10:this.preudoconnection.mount(this.areaPlugin);case 11:v.next=14;break;case 13:this.currentFlow&&this.currentFlow.drop(h);case 14:this.currentFlow&&!this.currentFlow.getPickedSocket()&&(this.preudoconnection.unmount(this.areaPlugin),this.currentFlow=null),this.update();case 16:case"end":return v.stop()}},l,this)}));function s(l,u){return r.apply(this,arguments)}return s})()},{key:"setParent",value:function(s){var l=this;v2(n,"setParent",this)([s]),this.areaPlugin=this.parentScope(No),this.editor=this.areaPlugin.parentScope(Lr);var u=function(h){l.pick(h,"down")};this.addPipe(function(f){if(!f||bn(f)!=="object"||!("type"in f))return f;if(f.type==="pointermove")l.update();else if(f.type==="pointerup")l.pick(f.data.event,"up");else if(f.type==="render"){if(f.data.type==="socket"){var h=f.data.element;h.addEventListener("pointerdown",u),l.socketsCache.set(h,f.data)}}else if(f.type==="unmount"){var p=f.data.element;p.removeEventListener("pointerdown",u),l.socketsCache.delete(p)}return f})}}])})(fs);function w2(a,n){var r=Nn(a,2),s=r[0],l=s.x,u=s.y,f=r[1],h=f.x,p=f.y,y=Math.abs(u-p),b=l+Math.max(y/2,Math.abs(h-l))*n,v=h-Math.max(y/2,Math.abs(h-l))*n;return"M ".concat(l," ").concat(u," C ").concat(b," ").concat(u," ").concat(v," ").concat(p," ").concat(h," ").concat(p)}function S2(a,n,r){var s=Nn(a,2),l=s[0],u=l.x,f=l.y,h=s[1],p=h.x,y=h.y,b=y>f?1:-1,v=r+Math.abs(u-p)/(r/2),S=(u+p)/2,k=f-b*v,N=(y-f)*n;return`
        M `.concat(u," ").concat(f,`
        C `).concat(u+v," ").concat(f,`
        `).concat(u+v," ").concat(k-N,`
        `).concat(S," ").concat(k,`
        C `).concat(p-v," ").concat(k+N,`
        `).concat(p-v," ").concat(y,`
        `).concat(p," ").concat(y,`
    `)}function x2(a,n){return qd.apply(this,arguments)}function qd(){return qd=rt(ve.mark(function a(n,r){var s,l,u,f,h;return ve.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(n.offsetParent){y.next=5;break}return y.next=3,new Promise(function(b){return setTimeout(b,0)});case 3:y.next=0;break;case 5:if(s=n.offsetLeft,l=n.offsetTop,u=n.offsetParent,u){y.next=10;break}throw new Error("child has null offsetParent");case 10:for(;u!==null&&u!==r;)s+=u.offsetLeft+u.clientLeft,l+=u.offsetTop+u.clientTop,u=u.offsetParent;return f=n.offsetWidth,h=n.offsetHeight,y.abrupt("return",{x:s+f/2,y:l+h/2});case 14:case"end":return y.stop()}},a)})),qd.apply(this,arguments)}var E2=(function(){function a(){ct(this,a),Me(this,"listeners",new Set)}return ft(a,[{key:"emit",value:function(r){this.listeners.forEach(function(s){s(r)})}},{key:"listen",value:function(r){var s=this;return this.listeners.add(r),function(){s.listeners.delete(r)}}}])})(),k2=(function(){function a(){ct(this,a),Me(this,"elements",new Map)}return ft(a,[{key:"getPosition",value:function(r){var s,l,u=Array.from(this.elements.values()).flat(),f=u.filter(function(h){return h.side===r.side&&h.nodeId===r.nodeId&&h.key===r.key});return f.length>1&&console.warn(["Found more than one element for socket with same key and side.","Probably it was not unmounted correctly"].join(" "),r),(s=(l=f.pop())===null||l===void 0?void 0:l.position)!==null&&s!==void 0?s:null}},{key:"add",value:function(r){var s=this.elements.get(r.element);this.elements.set(r.element,s?[].concat(ds(s.filter(function(l){return!(l.nodeId===r.nodeId&&l.key===r.key&&l.side===r.side)})),[r]):[r])}},{key:"remove",value:function(r){this.elements.delete(r)}},{key:"snapshot",value:function(){return Array.from(this.elements.values()).flat()}}])})(),C2=(function(){function a(){ct(this,a),Me(this,"sockets",new k2),Me(this,"emitter",new E2),Me(this,"area",null)}return ft(a,[{key:"attach",value:function(r){var s=this;this.area||r.hasParent()&&(this.area=r.parentScope(No),this.area.addPipe((function(){var l=rt(ve.mark(function u(f){var h,p,y,b,v,S,k,N,Z,L,Q;return ve.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(!(f.type==="rendered"&&f.data.type==="socket")){V.next=8;break}return h=f.data,p=h.nodeId,y=h.key,b=h.side,v=h.element,V.next=4,s.calculatePosition(p,b,y,v);case 4:S=V.sent,S&&(s.sockets.add({nodeId:p,key:y,side:b,element:v,position:S}),s.emitter.emit({nodeId:p,key:y,side:b})),V.next=24;break;case 8:if(f.type!=="unmount"){V.next=12;break}s.sockets.remove(f.data.element),V.next=24;break;case 12:if(f.type!=="nodetranslated"){V.next=16;break}s.emitter.emit({nodeId:f.data.id}),V.next=24;break;case 16:if(f.type!=="noderesized"){V.next=23;break}return k=f.data.id,V.next=20,Promise.all(s.sockets.snapshot().filter(function(F){return F.nodeId===f.data.id&&F.side==="output"}).map((function(){var F=rt(ve.mark(function ce(oe){var H,ie,re,X;return ve.wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:return H=oe.side,ie=oe.key,re=oe.element,Ne.next=3,s.calculatePosition(k,H,ie,re);case 3:X=Ne.sent,X&&(oe.position=X);case 5:case"end":return Ne.stop()}},ce)}));return function(ce){return F.apply(this,arguments)}})()));case 20:s.emitter.emit({nodeId:k}),V.next=24;break;case 23:f.type==="render"&&f.data.type==="connection"&&(N=f.data.payload,Z=N.source,L=N.target,Q=Z||L,s.emitter.emit({nodeId:Q}));case 24:return V.abrupt("return",f);case 25:case"end":return V.stop()}},u)}));return function(u){return l.apply(this,arguments)}})()))}},{key:"listen",value:function(r,s,l,u){var f=this,h=this.emitter.listen(function(p){if(p.nodeId===r&&(!p.key||p.side===s)&&(!p.side||p.key===l)){var y,b=f.sockets.getPosition({side:s,nodeId:r,key:l});if(!b)return;var v=b.x,S=b.y,k=(y=f.area)===null||y===void 0?void 0:y.nodeViews.get(r);k&&u({x:v+k.position.x,y:S+k.position.y})}});return this.sockets.snapshot().forEach(function(p){p.nodeId===r&&f.emitter.emit(p)}),h}}])})();function T2(a,n,r){return n=Rt(n),_a(a,Db()?Reflect.construct(n,[],Rt(a).constructor):n.apply(a,r))}function Db(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Db=function(){return!!a})()}var O2=(function(a){function n(r){var s;return ct(this,n),s=T2(this,n),s.props=r,s}return Bn(n,a),ft(n,[{key:"calculatePosition",value:(function(){var r=rt(ve.mark(function l(u,f,h,p){var y,b,v,S;return ve.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(v=(y=this.area)===null||y===void 0?void 0:y.nodeViews.get(u),v!=null&&v.element){N.next=3;break}return N.abrupt("return",null);case 3:return N.next=5,x2(p,v.element);case 5:if(S=N.sent,!((b=this.props)!==null&&b!==void 0&&b.offset)){N.next=8;break}return N.abrupt("return",this.props.offset(S,u,f,h));case 8:return N.abrupt("return",{x:S.x+12*(f==="input"?-1:1),y:S.y});case 9:case"end":return N.stop()}},l,this)}));function s(l,u,f,h){return r.apply(this,arguments)}return s})()}])})(C2);function N2(a){return new O2(a)}function wn(a,n){return n||(n=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(n)}}))}var Ln=function(){return Ln=Object.assign||function(n){for(var r,s=1,l=arguments.length;s<l;s++){r=arguments[s];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(n[u]=r[u])}return n},Ln.apply(this,arguments)};function xu(a,n,r){if(r||arguments.length===2)for(var s=0,l=n.length,u;s<l;s++)(u||!(s in n))&&(u||(u=Array.prototype.slice.call(n,0,s)),u[s]=n[s]);return a.concat(u||Array.prototype.slice.call(n))}var Ht="-ms-",wo="-moz-",xt="-webkit-",Mb="comm",Du="rule",Ah="decl",j2="@import",Rb="@keyframes",A2="@layer",zb=Math.abs,_h=String.fromCharCode,Yd=Object.assign;function _2(a,n){return hn(a,0)^45?(((n<<2^hn(a,0))<<2^hn(a,1))<<2^hn(a,2))<<2^hn(a,3):0}function Lb(a){return a.trim()}function tr(a,n){return(a=n.exec(a))?a[0]:a}function at(a,n,r){return a.replace(n,r)}function cu(a,n,r){return a.indexOf(n,r)}function hn(a,n){return a.charCodeAt(n)|0}function as(a,n,r){return a.slice(n,r)}function ka(a){return a.length}function Bb(a){return a.length}function po(a,n){return n.push(a),a}function D2(a,n){return a.map(n).join("")}function Ov(a,n){return a.filter(function(r){return!tr(r,n)})}var Mu=1,rs=1,Ub=0,la=0,rn=0,hs="";function Ru(a,n,r,s,l,u,f,h){return{value:a,root:n,parent:r,type:s,props:l,children:u,line:Mu,column:rs,length:f,return:"",siblings:h}}function Ar(a,n){return Yd(Ru("",null,null,"",null,null,0,a.siblings),a,{length:-a.length},n)}function Gi(a){for(;a.root;)a=Ar(a.root,{children:[a]});po(a,a.siblings)}function M2(){return rn}function R2(){return rn=la>0?hn(hs,--la):0,rs--,rn===10&&(rs=1,Mu--),rn}function ya(){return rn=la<Ub?hn(hs,la++):0,rs++,rn===10&&(rs=1,Mu++),rn}function ii(){return hn(hs,la)}function fu(){return la}function zu(a,n){return as(hs,a,n)}function Gd(a){switch(a){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function z2(a){return Mu=rs=1,Ub=ka(hs=a),la=0,[]}function L2(a){return hs="",a}function wd(a){return Lb(zu(la-1,Zd(a===91?a+2:a===40?a+1:a)))}function B2(a){for(;(rn=ii())&&rn<33;)ya();return Gd(a)>2||Gd(rn)>3?"":" "}function U2(a,n){for(;--n&&ya()&&!(rn<48||rn>102||rn>57&&rn<65||rn>70&&rn<97););return zu(a,fu()+(n<6&&ii()==32&&ya()==32))}function Zd(a){for(;ya();)switch(rn){case a:return la;case 34:case 39:a!==34&&a!==39&&Zd(rn);break;case 40:a===41&&Zd(a);break;case 92:ya();break}return la}function $2(a,n){for(;ya()&&a+rn!==57;)if(a+rn===84&&ii()===47)break;return"/*"+zu(n,la-1)+"*"+_h(a===47?a:ya())}function H2(a){for(;!Gd(ii());)ya();return zu(a,la)}function I2(a){return L2(du("",null,null,null,[""],a=z2(a),0,[0],a))}function du(a,n,r,s,l,u,f,h,p){for(var y=0,b=0,v=f,S=0,k=0,N=0,Z=1,L=1,Q=1,J=0,V="",F=l,ce=u,oe=s,H=V;L;)switch(N=J,J=ya()){case 40:if(N!=108&&hn(H,v-1)==58){cu(H+=at(wd(J),"&","&\f"),"&\f",zb(y?h[y-1]:0))!=-1&&(Q=-1);break}case 34:case 39:case 91:H+=wd(J);break;case 9:case 10:case 13:case 32:H+=B2(N);break;case 92:H+=U2(fu()-1,7);continue;case 47:switch(ii()){case 42:case 47:po(V2($2(ya(),fu()),n,r,p),p);break;default:H+="/"}break;case 123*Z:h[y++]=ka(H)*Q;case 125*Z:case 59:case 0:switch(J){case 0:case 125:L=0;case 59+b:Q==-1&&(H=at(H,/\f/g,"")),k>0&&ka(H)-v&&po(k>32?jv(H+";",s,r,v-1,p):jv(at(H," ","")+";",s,r,v-2,p),p);break;case 59:H+=";";default:if(po(oe=Nv(H,n,r,y,b,l,h,V,F=[],ce=[],v,u),u),J===123)if(b===0)du(H,n,oe,oe,F,u,v,h,ce);else switch(S===99&&hn(H,3)===110?100:S){case 100:case 108:case 109:case 115:du(a,oe,oe,s&&po(Nv(a,oe,oe,0,0,l,h,V,l,F=[],v,ce),ce),l,ce,v,h,s?F:ce);break;default:du(H,oe,oe,oe,[""],ce,0,h,ce)}}y=b=k=0,Z=Q=1,V=H="",v=f;break;case 58:v=1+ka(H),k=N;default:if(Z<1){if(J==123)--Z;else if(J==125&&Z++==0&&R2()==125)continue}switch(H+=_h(J),J*Z){case 38:Q=b>0?1:(H+="\f",-1);break;case 44:h[y++]=(ka(H)-1)*Q,Q=1;break;case 64:ii()===45&&(H+=wd(ya())),S=ii(),b=v=ka(V=H+=H2(fu())),J++;break;case 45:N===45&&ka(H)==2&&(Z=0)}}return u}function Nv(a,n,r,s,l,u,f,h,p,y,b,v){for(var S=l-1,k=l===0?u:[""],N=Bb(k),Z=0,L=0,Q=0;Z<s;++Z)for(var J=0,V=as(a,S+1,S=zb(L=f[Z])),F=a;J<N;++J)(F=Lb(L>0?k[J]+" "+V:at(V,/&\f/g,k[J])))&&(p[Q++]=F);return Ru(a,n,r,l===0?Du:h,p,y,b,v)}function V2(a,n,r,s){return Ru(a,n,r,Mb,_h(M2()),as(a,2,-2),0,s)}function jv(a,n,r,s,l){return Ru(a,n,r,Ah,as(a,0,s),as(a,s+1,-1),s,l)}function $b(a,n,r){switch(_2(a,n)){case 5103:return xt+"print-"+a+a;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return xt+a+a;case 4789:return wo+a+a;case 5349:case 4246:case 4810:case 6968:case 2756:return xt+a+wo+a+Ht+a+a;case 5936:switch(hn(a,n+11)){case 114:return xt+a+Ht+at(a,/[svh]\w+-[tblr]{2}/,"tb")+a;case 108:return xt+a+Ht+at(a,/[svh]\w+-[tblr]{2}/,"tb-rl")+a;case 45:return xt+a+Ht+at(a,/[svh]\w+-[tblr]{2}/,"lr")+a}case 6828:case 4268:case 2903:return xt+a+Ht+a+a;case 6165:return xt+a+Ht+"flex-"+a+a;case 5187:return xt+a+at(a,/(\w+).+(:[^]+)/,xt+"box-$1$2"+Ht+"flex-$1$2")+a;case 5443:return xt+a+Ht+"flex-item-"+at(a,/flex-|-self/g,"")+(tr(a,/flex-|baseline/)?"":Ht+"grid-row-"+at(a,/flex-|-self/g,""))+a;case 4675:return xt+a+Ht+"flex-line-pack"+at(a,/align-content|flex-|-self/g,"")+a;case 5548:return xt+a+Ht+at(a,"shrink","negative")+a;case 5292:return xt+a+Ht+at(a,"basis","preferred-size")+a;case 6060:return xt+"box-"+at(a,"-grow","")+xt+a+Ht+at(a,"grow","positive")+a;case 4554:return xt+at(a,/([^-])(transform)/g,"$1"+xt+"$2")+a;case 6187:return at(at(at(a,/(zoom-|grab)/,xt+"$1"),/(image-set)/,xt+"$1"),a,"")+a;case 5495:case 3959:return at(a,/(image-set\([^]*)/,xt+"$1$`$1");case 4968:return at(at(a,/(.+:)(flex-)?(.*)/,xt+"box-pack:$3"+Ht+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+xt+a+a;case 4200:if(!tr(a,/flex-|baseline/))return Ht+"grid-column-align"+as(a,n)+a;break;case 2592:case 3360:return Ht+at(a,"template-","")+a;case 4384:case 3616:return r&&r.some(function(s,l){return n=l,tr(s.props,/grid-\w+-end/)})?~cu(a+(r=r[n].value),"span",0)?a:Ht+at(a,"-start","")+a+Ht+"grid-row-span:"+(~cu(r,"span",0)?tr(r,/\d+/):+tr(r,/\d+/)-+tr(a,/\d+/))+";":Ht+at(a,"-start","")+a;case 4896:case 4128:return r&&r.some(function(s){return tr(s.props,/grid-\w+-start/)})?a:Ht+at(at(a,"-end","-span"),"span ","")+a;case 4095:case 3583:case 4068:case 2532:return at(a,/(.+)-inline(.+)/,xt+"$1$2")+a;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ka(a)-1-n>6)switch(hn(a,n+1)){case 109:if(hn(a,n+4)!==45)break;case 102:return at(a,/(.+:)(.+)-([^]+)/,"$1"+xt+"$2-$3$1"+wo+(hn(a,n+3)==108?"$3":"$2-$3"))+a;case 115:return~cu(a,"stretch",0)?$b(at(a,"stretch","fill-available"),n,r)+a:a}break;case 5152:case 5920:return at(a,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,l,u,f,h,p,y){return Ht+l+":"+u+y+(f?Ht+l+"-span:"+(h?p:+p-+u)+y:"")+a});case 4949:if(hn(a,n+6)===121)return at(a,":",":"+xt)+a;break;case 6444:switch(hn(a,hn(a,14)===45?18:11)){case 120:return at(a,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+xt+(hn(a,14)===45?"inline-":"")+"box$3$1"+xt+"$2$3$1"+Ht+"$2box$3")+a;case 100:return at(a,":",":"+Ht)+a}break;case 5719:case 2647:case 2135:case 3927:case 2391:return at(a,"scroll-","scroll-snap-")+a}return a}function Eu(a,n){for(var r="",s=0;s<a.length;s++)r+=n(a[s],s,a,n)||"";return r}function q2(a,n,r,s){switch(a.type){case A2:if(a.children.length)break;case j2:case Ah:return a.return=a.return||a.value;case Mb:return"";case Rb:return a.return=a.value+"{"+Eu(a.children,s)+"}";case Du:if(!ka(a.value=a.props.join(",")))return""}return ka(r=Eu(a.children,s))?a.return=a.value+"{"+r+"}":""}function Y2(a){var n=Bb(a);return function(r,s,l,u){for(var f="",h=0;h<n;h++)f+=a[h](r,s,l,u)||"";return f}}function G2(a){return function(n){n.root||(n=n.return)&&a(n)}}function Z2(a,n,r,s){if(a.length>-1&&!a.return)switch(a.type){case Ah:a.return=$b(a.value,a.length,r);return;case Rb:return Eu([Ar(a,{value:at(a.value,"@","@"+xt)})],s);case Du:if(a.length)return D2(r=a.props,function(l){switch(tr(l,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Gi(Ar(a,{props:[at(l,/:(read-\w+)/,":"+wo+"$1")]})),Gi(Ar(a,{props:[l]})),Yd(a,{props:Ov(r,s)});break;case"::placeholder":Gi(Ar(a,{props:[at(l,/:(plac\w+)/,":"+xt+"input-$1")]})),Gi(Ar(a,{props:[at(l,/:(plac\w+)/,":"+wo+"$1")]})),Gi(Ar(a,{props:[at(l,/:(plac\w+)/,Ht+"input-$1")]})),Gi(Ar(a,{props:[l]})),Yd(a,{props:Ov(r,s)});break}return""})}}var P2={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Gn={},is=typeof process<"u"&&Gn!==void 0&&(Gn.REACT_APP_SC_ATTR||Gn.SC_ATTR)||"data-styled",Hb="active",Ib="data-styled-version",Lu="6.1.19",Dh=`/*!sc*/
`,ku=typeof window<"u"&&typeof document<"u",F2=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Gn!==void 0&&Gn.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Gn.REACT_APP_SC_DISABLE_SPEEDY!==""?Gn.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Gn.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Gn!==void 0&&Gn.SC_DISABLE_SPEEDY!==void 0&&Gn.SC_DISABLE_SPEEDY!==""&&Gn.SC_DISABLE_SPEEDY!=="false"&&Gn.SC_DISABLE_SPEEDY),Bu=Object.freeze([]),ss=Object.freeze({});function X2(a,n,r){return r===void 0&&(r=ss),a.theme!==r.theme&&a.theme||n||r.theme}var Vb=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),K2=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Q2=/(^-|-$)/g;function Av(a){return a.replace(K2,"-").replace(Q2,"")}var J2=/(a)(d)/gi,Ql=52,_v=function(a){return String.fromCharCode(a+(a>25?39:97))};function Pd(a){var n,r="";for(n=Math.abs(a);n>Ql;n=n/Ql|0)r=_v(n%Ql)+r;return(_v(n%Ql)+r).replace(J2,"$1-$2")}var Sd,qb=5381,Ji=function(a,n){for(var r=n.length;r;)a=33*a^n.charCodeAt(--r);return a},Yb=function(a){return Ji(qb,a)};function W2(a){return Pd(Yb(a)>>>0)}function ek(a){return a.displayName||a.name||"Component"}function xd(a){return typeof a=="string"&&!0}var Gb=typeof Symbol=="function"&&Symbol.for,Zb=Gb?Symbol.for("react.memo"):60115,tk=Gb?Symbol.for("react.forward_ref"):60112,nk={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ak={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Pb={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},rk=((Sd={})[tk]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Sd[Zb]=Pb,Sd);function Dv(a){return("type"in(n=a)&&n.type.$$typeof)===Zb?Pb:"$$typeof"in a?rk[a.$$typeof]:nk;var n}var ik=Object.defineProperty,sk=Object.getOwnPropertyNames,Mv=Object.getOwnPropertySymbols,ok=Object.getOwnPropertyDescriptor,lk=Object.getPrototypeOf,Rv=Object.prototype;function Fb(a,n,r){if(typeof n!="string"){if(Rv){var s=lk(n);s&&s!==Rv&&Fb(a,s,r)}var l=sk(n);Mv&&(l=l.concat(Mv(n)));for(var u=Dv(a),f=Dv(n),h=0;h<l.length;++h){var p=l[h];if(!(p in ak||r&&r[p]||f&&p in f||u&&p in u)){var y=ok(n,p);try{ik(a,p,y)}catch{}}}}return a}function os(a){return typeof a=="function"}function Mh(a){return typeof a=="object"&&"styledComponentId"in a}function ni(a,n){return a&&n?"".concat(a," ").concat(n):a||n||""}function zv(a,n){if(a.length===0)return"";for(var r=a[0],s=1;s<a.length;s++)r+=a[s];return r}function To(a){return a!==null&&typeof a=="object"&&a.constructor.name===Object.name&&!("props"in a&&a.$$typeof)}function Fd(a,n,r){if(r===void 0&&(r=!1),!r&&!To(a)&&!Array.isArray(a))return n;if(Array.isArray(n))for(var s=0;s<n.length;s++)a[s]=Fd(a[s],n[s]);else if(To(n))for(var s in n)a[s]=Fd(a[s],n[s]);return a}function Rh(a,n){Object.defineProperty(a,"toString",{value:n})}function jo(a){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(a," for more information.").concat(n.length>0?" Args: ".concat(n.join(", ")):""))}var uk=(function(){function a(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}return a.prototype.indexOfGroup=function(n){for(var r=0,s=0;s<n;s++)r+=this.groupSizes[s];return r},a.prototype.insertRules=function(n,r){if(n>=this.groupSizes.length){for(var s=this.groupSizes,l=s.length,u=l;n>=u;)if((u<<=1)<0)throw jo(16,"".concat(n));this.groupSizes=new Uint32Array(u),this.groupSizes.set(s),this.length=u;for(var f=l;f<u;f++)this.groupSizes[f]=0}for(var h=this.indexOfGroup(n+1),p=(f=0,r.length);f<p;f++)this.tag.insertRule(h,r[f])&&(this.groupSizes[n]++,h++)},a.prototype.clearGroup=function(n){if(n<this.length){var r=this.groupSizes[n],s=this.indexOfGroup(n),l=s+r;this.groupSizes[n]=0;for(var u=s;u<l;u++)this.tag.deleteRule(s)}},a.prototype.getGroup=function(n){var r="";if(n>=this.length||this.groupSizes[n]===0)return r;for(var s=this.groupSizes[n],l=this.indexOfGroup(n),u=l+s,f=l;f<u;f++)r+="".concat(this.tag.getRule(f)).concat(Dh);return r},a})(),hu=new Map,Cu=new Map,pu=1,Jl=function(a){if(hu.has(a))return hu.get(a);for(;Cu.has(pu);)pu++;var n=pu++;return hu.set(a,n),Cu.set(n,a),n},ck=function(a,n){pu=n+1,hu.set(a,n),Cu.set(n,a)},fk="style[".concat(is,"][").concat(Ib,'="').concat(Lu,'"]'),dk=new RegExp("^".concat(is,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),hk=function(a,n,r){for(var s,l=r.split(","),u=0,f=l.length;u<f;u++)(s=l[u])&&a.registerName(n,s)},pk=function(a,n){for(var r,s=((r=n.textContent)!==null&&r!==void 0?r:"").split(Dh),l=[],u=0,f=s.length;u<f;u++){var h=s[u].trim();if(h){var p=h.match(dk);if(p){var y=0|parseInt(p[1],10),b=p[2];y!==0&&(ck(b,y),hk(a,b,p[3]),a.getTag().insertRules(y,l)),l.length=0}else l.push(h)}}},Lv=function(a){for(var n=document.querySelectorAll(fk),r=0,s=n.length;r<s;r++){var l=n[r];l&&l.getAttribute(is)!==Hb&&(pk(a,l),l.parentNode&&l.parentNode.removeChild(l))}};function mk(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Xb=function(a){var n=document.head,r=a||n,s=document.createElement("style"),l=(function(h){var p=Array.from(h.querySelectorAll("style[".concat(is,"]")));return p[p.length-1]})(r),u=l!==void 0?l.nextSibling:null;s.setAttribute(is,Hb),s.setAttribute(Ib,Lu);var f=mk();return f&&s.setAttribute("nonce",f),r.insertBefore(s,u),s},yk=(function(){function a(n){this.element=Xb(n),this.element.appendChild(document.createTextNode("")),this.sheet=(function(r){if(r.sheet)return r.sheet;for(var s=document.styleSheets,l=0,u=s.length;l<u;l++){var f=s[l];if(f.ownerNode===r)return f}throw jo(17)})(this.element),this.length=0}return a.prototype.insertRule=function(n,r){try{return this.sheet.insertRule(r,n),this.length++,!0}catch{return!1}},a.prototype.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},a.prototype.getRule=function(n){var r=this.sheet.cssRules[n];return r&&r.cssText?r.cssText:""},a})(),gk=(function(){function a(n){this.element=Xb(n),this.nodes=this.element.childNodes,this.length=0}return a.prototype.insertRule=function(n,r){if(n<=this.length&&n>=0){var s=document.createTextNode(r);return this.element.insertBefore(s,this.nodes[n]||null),this.length++,!0}return!1},a.prototype.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},a.prototype.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},a})(),vk=(function(){function a(n){this.rules=[],this.length=0}return a.prototype.insertRule=function(n,r){return n<=this.length&&(this.rules.splice(n,0,r),this.length++,!0)},a.prototype.deleteRule=function(n){this.rules.splice(n,1),this.length--},a.prototype.getRule=function(n){return n<this.length?this.rules[n]:""},a})(),Bv=ku,bk={isServer:!ku,useCSSOMInjection:!F2},Kb=(function(){function a(n,r,s){n===void 0&&(n=ss),r===void 0&&(r={});var l=this;this.options=Ln(Ln({},bk),n),this.gs=r,this.names=new Map(s),this.server=!!n.isServer,!this.server&&ku&&Bv&&(Bv=!1,Lv(this)),Rh(this,function(){return(function(u){for(var f=u.getTag(),h=f.length,p="",y=function(v){var S=(function(Q){return Cu.get(Q)})(v);if(S===void 0)return"continue";var k=u.names.get(S),N=f.getGroup(v);if(k===void 0||!k.size||N.length===0)return"continue";var Z="".concat(is,".g").concat(v,'[id="').concat(S,'"]'),L="";k!==void 0&&k.forEach(function(Q){Q.length>0&&(L+="".concat(Q,","))}),p+="".concat(N).concat(Z,'{content:"').concat(L,'"}').concat(Dh)},b=0;b<h;b++)y(b);return p})(l)})}return a.registerId=function(n){return Jl(n)},a.prototype.rehydrate=function(){!this.server&&ku&&Lv(this)},a.prototype.reconstructWithOptions=function(n,r){return r===void 0&&(r=!0),new a(Ln(Ln({},this.options),n),this.gs,r&&this.names||void 0)},a.prototype.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},a.prototype.getTag=function(){return this.tag||(this.tag=(n=(function(r){var s=r.useCSSOMInjection,l=r.target;return r.isServer?new vk(l):s?new yk(l):new gk(l)})(this.options),new uk(n)));var n},a.prototype.hasNameForId=function(n,r){return this.names.has(n)&&this.names.get(n).has(r)},a.prototype.registerName=function(n,r){if(Jl(n),this.names.has(n))this.names.get(n).add(r);else{var s=new Set;s.add(r),this.names.set(n,s)}},a.prototype.insertRules=function(n,r,s){this.registerName(n,r),this.getTag().insertRules(Jl(n),s)},a.prototype.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},a.prototype.clearRules=function(n){this.getTag().clearGroup(Jl(n)),this.clearNames(n)},a.prototype.clearTag=function(){this.tag=void 0},a})(),wk=/&/g,Sk=/^\s*\/\/.*$/gm;function Qb(a,n){return a.map(function(r){return r.type==="rule"&&(r.value="".concat(n," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(n," ")),r.props=r.props.map(function(s){return"".concat(n," ").concat(s)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=Qb(r.children,n)),r})}function xk(a){var n,r,s,l=ss,u=l.options,f=u===void 0?ss:u,h=l.plugins,p=h===void 0?Bu:h,y=function(S,k,N){return N.startsWith(r)&&N.endsWith(r)&&N.replaceAll(r,"").length>0?".".concat(n):S},b=p.slice();b.push(function(S){S.type===Du&&S.value.includes("&")&&(S.props[0]=S.props[0].replace(wk,r).replace(s,y))}),f.prefix&&b.push(Z2),b.push(q2);var v=function(S,k,N,Z){k===void 0&&(k=""),N===void 0&&(N=""),Z===void 0&&(Z="&"),n=Z,r=k,s=new RegExp("\\".concat(r,"\\b"),"g");var L=S.replace(Sk,""),Q=I2(N||k?"".concat(N," ").concat(k," { ").concat(L," }"):L);f.namespace&&(Q=Qb(Q,f.namespace));var J=[];return Eu(Q,Y2(b.concat(G2(function(V){return J.push(V)})))),J};return v.hash=p.length?p.reduce(function(S,k){return k.name||jo(15),Ji(S,k.name)},qb).toString():"",v}var Ek=new Kb,Xd=xk(),Jb=ga.createContext({shouldForwardProp:void 0,styleSheet:Ek,stylis:Xd});Jb.Consumer;ga.createContext(void 0);function Uv(){return E.useContext(Jb)}var kk=(function(){function a(n,r){var s=this;this.inject=function(l,u){u===void 0&&(u=Xd);var f=s.name+u.hash;l.hasNameForId(s.id,f)||l.insertRules(s.id,f,u(s.rules,f,"@keyframes"))},this.name=n,this.id="sc-keyframes-".concat(n),this.rules=r,Rh(this,function(){throw jo(12,String(s.name))})}return a.prototype.getName=function(n){return n===void 0&&(n=Xd),this.name+n.hash},a})(),Ck=function(a){return a>="A"&&a<="Z"};function $v(a){for(var n="",r=0;r<a.length;r++){var s=a[r];if(r===1&&s==="-"&&a[0]==="-")return a;Ck(s)?n+="-"+s.toLowerCase():n+=s}return n.startsWith("ms-")?"-"+n:n}var Wb=function(a){return a==null||a===!1||a===""},e1=function(a){var n,r,s=[];for(var l in a){var u=a[l];a.hasOwnProperty(l)&&!Wb(u)&&(Array.isArray(u)&&u.isCss||os(u)?s.push("".concat($v(l),":"),u,";"):To(u)?s.push.apply(s,xu(xu(["".concat(l," {")],e1(u),!1),["}"],!1)):s.push("".concat($v(l),": ").concat((n=l,(r=u)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||n in P2||n.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return s};function si(a,n,r,s){if(Wb(a))return[];if(Mh(a))return[".".concat(a.styledComponentId)];if(os(a)){if(!os(u=a)||u.prototype&&u.prototype.isReactComponent||!n)return[a];var l=a(n);return si(l,n,r,s)}var u;return a instanceof kk?r?(a.inject(r,s),[a.getName(s)]):[a]:To(a)?e1(a):Array.isArray(a)?Array.prototype.concat.apply(Bu,a.map(function(f){return si(f,n,r,s)})):[a.toString()]}function Tk(a){for(var n=0;n<a.length;n+=1){var r=a[n];if(os(r)&&!Mh(r))return!1}return!0}var Ok=Yb(Lu),Nk=(function(){function a(n,r,s){this.rules=n,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&Tk(n),this.componentId=r,this.baseHash=Ji(Ok,r),this.baseStyle=s,Kb.registerId(r)}return a.prototype.generateAndInjectStyles=function(n,r,s){var l=this.baseStyle?this.baseStyle.generateAndInjectStyles(n,r,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))l=ni(l,this.staticRulesId);else{var u=zv(si(this.rules,n,r,s)),f=Pd(Ji(this.baseHash,u)>>>0);if(!r.hasNameForId(this.componentId,f)){var h=s(u,".".concat(f),void 0,this.componentId);r.insertRules(this.componentId,f,h)}l=ni(l,f),this.staticRulesId=f}else{for(var p=Ji(this.baseHash,s.hash),y="",b=0;b<this.rules.length;b++){var v=this.rules[b];if(typeof v=="string")y+=v;else if(v){var S=zv(si(v,n,r,s));p=Ji(p,S+b),y+=S}}if(y){var k=Pd(p>>>0);r.hasNameForId(this.componentId,k)||r.insertRules(this.componentId,k,s(y,".".concat(k),void 0,this.componentId)),l=ni(l,k)}}return l},a})(),t1=ga.createContext(void 0);t1.Consumer;var Ed={};function jk(a,n,r){var s=Mh(a),l=a,u=!xd(a),f=n.attrs,h=f===void 0?Bu:f,p=n.componentId,y=p===void 0?(function(F,ce){var oe=typeof F!="string"?"sc":Av(F);Ed[oe]=(Ed[oe]||0)+1;var H="".concat(oe,"-").concat(W2(Lu+oe+Ed[oe]));return ce?"".concat(ce,"-").concat(H):H})(n.displayName,n.parentComponentId):p,b=n.displayName,v=b===void 0?(function(F){return xd(F)?"styled.".concat(F):"Styled(".concat(ek(F),")")})(a):b,S=n.displayName&&n.componentId?"".concat(Av(n.displayName),"-").concat(n.componentId):n.componentId||y,k=s&&l.attrs?l.attrs.concat(h).filter(Boolean):h,N=n.shouldForwardProp;if(s&&l.shouldForwardProp){var Z=l.shouldForwardProp;if(n.shouldForwardProp){var L=n.shouldForwardProp;N=function(F,ce){return Z(F,ce)&&L(F,ce)}}else N=Z}var Q=new Nk(r,S,s?l.componentStyle:void 0);function J(F,ce){return(function(oe,H,ie){var re=oe.attrs,X=oe.componentStyle,ue=oe.defaultProps,Ne=oe.foldedComponentIds,_e=oe.styledComponentId,Ge=oe.target,je=ga.useContext(t1),C=Uv(),U=oe.shouldForwardProp||C.shouldForwardProp,le=X2(H,je,ue)||ss,ye=(function(pe,Oe,Ve){for(var Be,Le=Ln(Ln({},Oe),{className:void 0,theme:Ve}),Ee=0;Ee<pe.length;Ee+=1){var qe=os(Be=pe[Ee])?Be(Le):Be;for(var I in qe)Le[I]=I==="className"?ni(Le[I],qe[I]):I==="style"?Ln(Ln({},Le[I]),qe[I]):qe[I]}return Oe.className&&(Le.className=ni(Le.className,Oe.className)),Le})(re,H,le),be=ye.as||Ge,x={};for(var R in ye)ye[R]===void 0||R[0]==="$"||R==="as"||R==="theme"&&ye.theme===le||(R==="forwardedAs"?x.as=ye.forwardedAs:U&&!U(R,be)||(x[R]=ye[R]));var _=(function(pe,Oe){var Ve=Uv(),Be=pe.generateAndInjectStyles(Oe,Ve.styleSheet,Ve.stylis);return Be})(X,ye),G=ni(Ne,_e);return _&&(G+=" "+_),ye.className&&(G+=" "+ye.className),x[xd(be)&&!Vb.has(be)?"class":"className"]=G,ie&&(x.ref=ie),E.createElement(be,x)})(V,F,ce)}J.displayName=v;var V=ga.forwardRef(J);return V.attrs=k,V.componentStyle=Q,V.displayName=v,V.shouldForwardProp=N,V.foldedComponentIds=s?ni(l.foldedComponentIds,l.styledComponentId):"",V.styledComponentId=S,V.target=s?l.target:a,Object.defineProperty(V,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(F){this._foldedDefaultProps=s?(function(ce){for(var oe=[],H=1;H<arguments.length;H++)oe[H-1]=arguments[H];for(var ie=0,re=oe;ie<re.length;ie++)Fd(ce,re[ie],!0);return ce})({},l.defaultProps,F):F}}),Rh(V,function(){return".".concat(V.styledComponentId)}),u&&Fb(V,a,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),V}function Hv(a,n){for(var r=[a[0]],s=0,l=n.length;s<l;s+=1)r.push(n[s],a[s+1]);return r}var Iv=function(a){return Object.assign(a,{isCss:!0})};function zh(a){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(os(a)||To(a))return Iv(si(Hv(Bu,xu([a],n,!0))));var s=a;return n.length===0&&s.length===1&&typeof s[0]=="string"?si(s):Iv(si(Hv(s,n)))}function Kd(a,n,r){if(r===void 0&&(r=ss),!n)throw jo(1,n);var s=function(l){for(var u=[],f=1;f<arguments.length;f++)u[f-1]=arguments[f];return a(n,r,zh.apply(void 0,xu([l],u,!1)))};return s.attrs=function(l){return Kd(a,n,Ln(Ln({},r),{attrs:Array.prototype.concat(r.attrs,l).filter(Boolean)}))},s.withConfig=function(l){return Kd(a,n,Ln(Ln({},r),l))},s}var n1=function(a){return Kd(jk,a)},Tn=n1;Vb.forEach(function(a){Tn[a]=n1(a)});function li(){return li=Object.assign?Object.assign.bind():function(a){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var s in r)({}).hasOwnProperty.call(r,s)&&(a[s]=r[s])}return a},li.apply(null,arguments)}function Ak(a,n){if(a==null)return{};var r={};for(var s in a)if({}.hasOwnProperty.call(a,s)){if(n.indexOf(s)!==-1)continue;r[s]=a[s]}return r}function Lh(a,n){if(a==null)return{};var r,s,l=Ak(a,n);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);for(s=0;s<u.length;s++)r=u[s],n.indexOf(r)===-1&&{}.propertyIsEnumerable.call(a,r)&&(l[r]=a[r])}return l}function _k(a){var n=a?.createRoot,r=new WeakMap;function s(f){var h=r.get(f);if(h)return h;var p=document.createElement("span");return f.appendChild(p),r.set(f,p),p}function l(f){var h=r.get(f);h&&(h.remove(),r.delete(f))}if(n){var u=new WeakMap;return{mount:function(h,p){var y,b=s(p),v=u.get(b);return v||(v=n(b),u.set(b,v)),v.render(h),(y=b.firstElementChild)!==null&&y!==void 0?y:b},unmount:function(h){var p=s(h),y=u.get(p);y&&(y.unmount(),u.delete(p)),l(h)}}}return{mount:function(h,p){var y=s(p);if("render"in Jg&&typeof Mr.render=="function"){var b=Mr.render(h,y);return b||y}throw new Error("ReactDOM.render is not available")},unmount:function(h){var p=s(h);if("unmountComponentAtNode"in Jg&&typeof Mr.unmountComponentAtNode=="function")Mr.unmountComponentAtNode(p);else throw new Error("ReactDOM.unmountComponentAtNode is not available");l(h)}}}function Dk(a){var n=a.children,r=a.rendered;return E.useEffect(function(){r()}),n}function Mk(){var a=E.useRef(!1);return E.useEffect(function(){a.current=!0},[]),{apply:function(r){a.current?queueMicrotask(function(){Mr.flushSync(r)}):r()}}}var a1=E.createContext({start:null,end:null,path:null});function Rk(a){var n=a.children,r=E.useState(null),s=Nn(r,2),l=s[0],u=s[1],f=E.useState(null),h=Nn(f,2),p=h[0],y=h[1],b=E.useState(null),v=Nn(b,2),S=v[0],k=v[1],N="x"in a.start?a.start:l,Z="x"in a.end?a.end:p,L=Mk();return E.useEffect(function(){var Q=typeof a.start=="function"&&a.start(function(V){L.apply(function(){u(V)})}),J=typeof a.end=="function"&&a.end(function(V){L.apply(function(){y(V)})});return function(){Q&&Q(),J&&J()}},[]),E.useEffect(function(){N&&Z&&a.path(N,Z).then(function(Q){L.apply(function(){k(Q)})})},[N,Z]),E.createElement(a1.Provider,{value:{start:N,end:Z,path:S}},n)}function r1(){return E.useContext(a1)}var Vv,qv,zk=Tn.svg(Vv||(Vv=wn([`
    overflow: visible !important;
    position: absolute;
    pointer-events: none;
    width: 9999px;
    height: 9999px;
`]))),Lk=Tn.path(qv||(qv=wn([`
    fill: none;
    stroke-width: 5px;
    stroke: steelblue;
    pointer-events: auto;
    `,`
`])),function(a){var n;return(n=a.styles)===null||n===void 0?void 0:n.call(a,a)});function i1(a){var n=r1(),r=n.path;return r?E.createElement(zk,{"data-testid":"connection"},E.createElement(Lk,{styles:a.styles,d:r})):null}function Bk(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=Uk(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(y){throw y},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,f=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var y=r.next();return f=y.done,y},e:function(y){h=!0,u=y},f:function(){try{f||r.return==null||r.return()}finally{if(h)throw u}}}}function Uk(a,n){if(a){if(typeof a=="string")return Yv(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yv(a,n):void 0}}function Yv(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function $k(a){for(var n=new a.constructor(a.type),r=n;r=Object.getPrototypeOf(r);){var s=Object.getOwnPropertyNames(r),l=Bk(s),u;try{for(l.s();!(u=l.n()).done;){var f=u.value,h=n[f];typeof h!="function"&&Object.defineProperty(n,f,{value:a[f]})}}catch(p){l.e(p)}finally{l.f()}}return n}var Hk="__reactContainer$";function Ik(a){for(var n=a;n;){if(n._reactRootContainer||Object.keys(n).some(function(r){return r.startsWith(Hk)}))return n;n=n.parentElement}}function Gv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function Zv(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Gv(Object(r),!0).forEach(function(s){Me(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):Gv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function s1(a,n){return{start:function(s){var l=Zv({},n(s));function u(h){var p=Zv({},n(h)),y=p.x-l.x,b=p.y-l.y;l=p,a(y,b)}function f(){window.removeEventListener("pointermove",u),window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",f)}window.addEventListener("pointermove",u),window.addEventListener("pointerup",f),window.addEventListener("pointercancel",f)}}}function Vk(a,n){E.useEffect(function(){var r=function(u){if(!n){var f=Ik(u.target),h=E.version.startsWith("16")?document:f;h&&(u.stopPropagation(),h.dispatchEvent($k(u)))}},s=a.current;return s?.addEventListener("pointerdown",r),function(){s?.removeEventListener("pointerdown",r)}},[a,n])}var Pv,qk=Tn.input(Pv||(Pv=wn([`
  width: 100%;
  border-radius: 30px;
  background-color: white;
  padding: 2px 6px;
  border: 1px solid #999;
  font-size: 110%;
  box-sizing: border-box;
  `,`
`])),function(a){var n;return(n=a.styles)===null||n===void 0?void 0:n.call(a,a)});function Qd(a){var n=E.useState(a.data.value),r=Nn(n,2),s=r[0],l=r[1],u=E.useRef(null);return Vk(u),E.useEffect(function(){l(a.data.value)},[a.data.value]),E.createElement(qk,{value:s,type:a.data.type,ref:u,readOnly:a.data.readonly,onChange:function(h){var p=a.data.type==="number"?+h.target.value:h.target.value;l(p),a.data.setValue(p)},styles:a.styles})}var Jd="rgba(110,136,255,0.8)",o1="#ffd92c",Ca=24,nr=6,l1="#96b38a",u1=180,Yk=Object.freeze({__proto__:null,$nodecolor:Jd,$nodecolorselected:o1,$socketsize:Ca,$socketmargin:nr,$socketcolor:l1,$nodewidth:u1}),Gk=["init","unmount"];function Bh(a){var n=a.init,r=a.unmount,s=Lh(a,Gk),l=E.useRef(null);return E.useEffect(function(){var u=l.current;return function(){u&&r(u)}},[]),E.useEffect(function(){l.current&&n(l.current)}),E.createElement("span",li({},s,{ref:l}))}var Zk=["name","emit","payload"];function Wd(a){var n=a.name,r=a.emit,s=a.payload,l=Lh(a,Zk);return E.createElement(Bh,li({},l,{className:n,init:function(f){r({type:"render",data:{type:"control",element:f,payload:s}})},unmount:function(f){r({type:"unmount",data:{element:f}})}}))}var Pk=["name","emit","nodeId","side","socketKey","payload"];function eh(a){var n=a.name,r=a.emit,s=a.nodeId,l=a.side,u=a.socketKey,f=a.payload,h=Lh(a,Pk);return E.createElement(Bh,li({},h,{className:n,init:function(y){r({type:"render",data:{type:"socket",side:l,key:u,nodeId:s,element:y,payload:f}})},unmount:function(y){r({type:"unmount",data:{element:y}})}}))}var Fv,Xv,c1=Tn.div(Fv||(Fv=wn([`
    background: `,`;
    border: 2px solid #4e58bf;
    border-radius: 10px;
    cursor: pointer;
    box-sizing: border-box;
    width: `,`;
    height: `,`;
    padding-bottom: 6px;
    position: relative;
    user-select: none;
    line-height: initial;
    font-family: Arial;

    &:hover {
        background: lighten(`,`,4%);
    }
    `,`
    .title {
        color: white;
        font-family: sans-serif;
        font-size: 18px;
        padding: 8px;
    }
    .output {
        text-align: right;
    }
    .input {
        text-align: left;
    }
    .output-socket {
        text-align: right;
        margin-right: -`,`px;
        display: inline-block;
    }
    .input-socket {
        text-align: left;
        margin-left: -`,`px;
        display: inline-block;
    }
    .input-title,.output-title {
        vertical-align: middle;
        color: white;
        display: inline-block;
        font-family: sans-serif;
        font-size: 14px;
        margin: `,`px;
        line-height: `,`px;
    }
    .input-control {
        z-index: 1;
        width: calc(100% - `,`px);
        vertical-align: middle;
        display: inline-block;
    }
    .control {
        display: block;
        padding: `,"px ",`px;
    }
    `,`
`])),Jd,function(a){return Number.isFinite(a.width)?"".concat(a.width,"px"):"".concat(u1,"px")},function(a){return Number.isFinite(a.height)?"".concat(a.height,"px"):"auto"},Jd,function(a){return a.selected&&zh(Xv||(Xv=wn([`
        background: `,`;
        border-color: #e3c000;
    `])),o1)},Ca/2+nr,Ca/2+nr,nr,Ca,Ca+2*nr,nr,Ca/2+nr,function(a){var n;return(n=a.styles)===null||n===void 0?void 0:n.call(a,a)});function kd(a){a.sort(function(n,r){var s,l,u=((s=n[1])===null||s===void 0?void 0:s.index)||0,f=((l=r[1])===null||l===void 0?void 0:l.index)||0;return u-f})}function f1(a){var n=Object.entries(a.data.inputs),r=Object.entries(a.data.outputs),s=Object.entries(a.data.controls),l=a.data.selected||!1,u=a.data,f=u.id,h=u.label,p=u.width,y=u.height;return kd(n),kd(r),kd(s),E.createElement(c1,{selected:l,width:p,height:y,styles:a.styles,"data-testid":"node"},E.createElement("div",{className:"title","data-testid":"title"},h),r.map(function(b){var v=Nn(b,2),S=v[0],k=v[1];return k&&E.createElement("div",{className:"output",key:S,"data-testid":"output-".concat(S)},E.createElement("div",{className:"output-title","data-testid":"output-title"},k.label),E.createElement(eh,{name:"output-socket",side:"output",socketKey:S,nodeId:f,emit:a.emit,payload:k.socket,"data-testid":"output-socket"}))}),s.map(function(b){var v=Nn(b,2),S=v[0],k=v[1];return k?E.createElement(Wd,{key:S,name:"control",emit:a.emit,payload:k,"data-testid":"control-".concat(S)}):null}),n.map(function(b){var v=Nn(b,2),S=v[0],k=v[1];return k&&E.createElement("div",{className:"input",key:S,"data-testid":"input-".concat(S)},E.createElement(eh,{name:"input-socket",side:"input",socketKey:S,nodeId:f,emit:a.emit,payload:k.socket,"data-testid":"input-socket"}),k&&(!k.control||!k.showControl)&&E.createElement("div",{className:"input-title","data-testid":"input-title"},k.label),k.control&&k.showControl&&E.createElement(Wd,{key:S,name:"input-control",emit:a.emit,payload:k.control,"data-testid":"input-control"}))}))}var Kv,Qv,d1=Tn.div(Kv||(Kv=wn([`
    display: inline-block;
    cursor: pointer;
    border: 1px solid white;
    border-radius: `,`px;
    width: `,`px;
    height: `,`px;
    vertical-align: middle;
    background: `,`;
    z-index: 2;
    box-sizing: border-box;
    &:hover {
      border-width: 4px;
    }
    &.multiple {
      border-color: yellow;
    }
`])),Ca/2,Ca,Ca,l1),Fk=Tn.div(Qv||(Qv=wn([`
    border-radius: `,`px;
    padding: `,`px;
    &:hover `,` {
      border-width: 4px;
    }
`])),(Ca+nr*2)/2,nr,d1);function h1(a){return E.createElement(Fk,null,E.createElement(d1,{title:a.data.name}))}function Xk(a){var n=typeof a?.socketPositionWatcher>"u"?N2():a.socketPositionWatcher,r=a?.customize||{},s=r.node,l=r.connection,u=r.socket,f=r.control;return{attach:function(p){n.attach(p)},render:function(p,y){if(p.data.type==="node"){var b=y.parentScope(),v=s?s(p.data):f1;return v&&E.createElement(v,{data:p.data.payload,emit:function(ce){return void b.emit(ce)}})}else if(p.data.type==="connection"){var S=l?l(p.data):i1,k=p.data.payload,N=k.sourceOutput,Z=k.targetInput,L=k.source,Q=k.target;return S&&E.createElement(Rk,{start:p.data.start||function(F){return n.listen(L,"output",N,F)},end:p.data.end||function(F){return n.listen(Q,"input",Z,F)},path:(function(){var F=rt(ve.mark(function ce(oe,H){var ie,re,X,ue,Ne;return ve.wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:return _e.next=1,y.emit({type:"connectionpath",data:{payload:k,points:[oe,H]}});case 1:if(ie=_e.sent,ie){_e.next=2;break}return _e.abrupt("return","");case 2:if(re=ie.data,X=re.path,ue=re.points,Ne=.3,!(!X&&ue.length!==2)){_e.next=3;break}throw new Error("cannot render connection with a custom number of points");case 3:if(X){_e.next=4;break}return _e.abrupt("return",k.isLoop?S2(ue,Ne,120):w2(ue,Ne));case 4:return _e.abrupt("return",X);case 5:case"end":return _e.stop()}},ce)}));return function(ce,oe){return F.apply(this,arguments)}})()},E.createElement(S,{data:p.data.payload}))}else if(p.data.type==="socket"){var J=u?u(p.data):h1;return J&&p.data.payload&&E.createElement(J,{data:p.data.payload})}else if(p.data.type==="control"){var V=f&&p.data.payload?f(p.data):p.data.payload instanceof Ot.InputControl?Qd:null;return V&&E.createElement(V,{data:p.data.payload})}}}}var Kk=Object.freeze({__proto__:null,vars:Yk,setup:Xk,Connection:i1,useConnection:r1,Control:Qd,InputControl:Qd,Node:f1,NodeStyles:c1,RefControl:Wd,RefSocket:eh,Socket:h1});function p1(a,n){var r=E.useRef(void 0);function s(){r.current&&clearTimeout(r.current)}var l=function(){s(),r.current=setTimeout(function(){a()},n)};return E.useEffect(function(){return s},[]),[l,s]}var Qk="rgba(110,136,255,0.8)",Jk="rgba(130, 153, 255, 0.8)",Wk="rgba(69, 103, 255, 0.8)",Wl="5px",th=120,Jv,Uh=Tn.div(Jv||(Jv=wn([`
  color: #fff;
  padding: 4px;
  border-bottom: 1px solid `,`;
  background-color: `,`;
  cursor: pointer;
  width: 100%;
  position: relative;
  &:first-child {
    border-top-left-radius: `,`;
    border-top-right-radius: `,`;
  }
  &:last-child {
    border-bottom-left-radius: `,`;
    border-bottom-right-radius: `,`;
  }
  &:hover {
    background-color: `,`;
  }
`])),Wk,Qk,Wl,Wl,Wl,Wl,Jk),Wv,e0,t0,m1=Tn(Uh)(Wv||(Wv=wn([`
    `,`
`])),function(a){return a.hasSubitems&&zh(e0||(e0=wn([`&:after {
    content: '';
    position: absolute;
    opacity: 0.6;
    right: 5px;
    top: 5px;
    }`])))}),y1=Tn.div(t0||(t0=wn([`
    position: absolute;
    top: 0;
    left: 100%;
    width: `,`px;
`])),th);function g1(a){var n,r,s,l,u=E.useState(!1),f=Nn(u,2),h=f[0],p=f[1],y=E.useCallback(function(){p(!1)},[p]),b=p1(y,a.delay),v=Nn(b,2),S=v[0],k=v[1],N=((n=a.components)===null||n===void 0||(r=n.item)===null||r===void 0?void 0:r.call(n,a.data))||m1,Z=((s=a.components)===null||s===void 0||(l=s.subitems)===null||l===void 0?void 0:l.call(s,a.data))||y1;return E.createElement(N,{onClick:function(Q){Q.stopPropagation(),a.data.handler(),a.hide()},hasSubitems:!!a.data.subitems,onPointerDown:function(Q){Q.stopPropagation()},onPointerOver:function(){k(),p(!0)},onPointerLeave:function(){S&&S()},"data-testid":"context-menu-item"},a.children,a.data.subitems&&h&&E.createElement(Z,null,a.data.subitems.map(function(L){return E.createElement(g1,{key:L.key,data:L,delay:a.delay,hide:a.hide,components:a.components},L.label)})))}var n0,v1=Tn.input(n0||(n0=wn([`
  color: white;
  padding: 1px 8px;
  border: 1px solid white;
  border-radius: 10px;
  font-size: 16px;
  font-family: serif;
  width: 100%;
  box-sizing: border-box;
  background: transparent;
`])));function eC(a){var n=a.component||v1;return E.createElement(n,{value:a.value,onInput:function(s){a.onChange(s.target.value)},onPointerDown:function(s){s.stopPropagation()},"data-testid":"context-menu-search-input"})}var a0,b1=Tn.div(a0||(a0=wn([`
  padding: 10px;
  width: `,`px;
  margin-top: -20px;
  margin-left: -`,`px;
`])),th,th/2);function tC(a){var n,r,s,l,u,f,h=p1(a.onHide,a.delay),p=Nn(h,2),y=p[0],b=p[1],v=E.useState(""),S=Nn(v,2),k=S[0],N=S[1],Z=new RegExp(k,"i"),L=a.items.filter(function(V){return V.label.match(Z)}),Q=((n=a.components)===null||n===void 0||(r=n.main)===null||r===void 0?void 0:r.call(n))||b1,J=((s=a.components)===null||s===void 0||(l=s.common)===null||l===void 0?void 0:l.call(s))||Uh;return E.createElement(Q,{onMouseOver:function(){b()},onMouseLeave:function(){y?.()},onWheel:function(F){F.stopPropagation()},"data-testid":"context-menu"},a.searchBar&&E.createElement(J,null,E.createElement(eC,{value:k,onChange:N,component:(u=a.components)===null||u===void 0||(f=u.search)===null||f===void 0?void 0:f.call(u)})),L.map(function(V){return E.createElement(g1,{key:V.key,data:V,delay:a.delay,hide:a.onHide,components:a.components},V.label)}))}function nC(a){var n=typeof a?.delay>"u"?1e3:a.delay;return{render:function(s){if(s.data.type==="contextmenu")return E.createElement(tC,{items:s.data.items,delay:n,searchBar:s.data.searchBar,onHide:s.data.onHide,components:a?.customize})}}}var aC=Object.freeze({__proto__:null,setup:nC,Item:m1,Subitems:y1,Menu:b1,Search:v1,Common:Uh}),eu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},rC=typeof eu=="object"&&eu&&eu.Object===Object&&eu,iC=typeof self=="object"&&self&&self.Object===Object&&self;rC||iC||Function("return this")();function sC(){const a=E.useRef(!1);return E.useEffect(()=>(a.current=!0,()=>{a.current=!1}),[]),E.useCallback(()=>a.current,[])}var r0={width:void 0,height:void 0};function oC(a){const{ref:n,box:r="content-box"}=a,[{width:s,height:l},u]=E.useState(r0),f=sC(),h=E.useRef({...r0}),p=E.useRef(void 0);return p.current=a.onResize,E.useEffect(()=>{if(!n.current||typeof window>"u"||!("ResizeObserver"in window))return;const y=new ResizeObserver(([b])=>{const v=r==="border-box"?"borderBoxSize":r==="device-pixel-content-box"?"devicePixelContentBoxSize":"contentBoxSize",S=i0(b,v,"inlineSize"),k=i0(b,v,"blockSize");if(h.current.width!==S||h.current.height!==k){const Z={width:S,height:k};h.current.width=S,h.current.height=k,p.current?p.current(Z):f()&&u(Z)}});return y.observe(n.current,{box:r}),()=>{y.disconnect()}},[r,n,f]),{width:s,height:l}}function i0(a,n,r){return a[n]?Array.isArray(a[n])?a[n][0][r]:a[n][r]:n==="contentBoxSize"?a.contentRect[r==="inlineSize"?"width":"height"]:void 0}function Ta(a){return"".concat(a,"px")}var s0,lC=Tn.div(s0||(s0=wn([`
    position: absolute;
    background: rgba(110, 136, 255, 0.8);
    border: 1px solid rgb(192 206 212 / 60%);
`])));function uC(a){return E.createElement(lC,{style:{left:Ta(a.left),top:Ta(a.top),width:Ta(a.width),height:Ta(a.height)},"data-testid":"minimap-node"})}var o0,cC=Tn.div(o0||(o0=wn([`
  position: absolute;
  background: rgba(255, 251, 128, 0.32);
  border: 1px solid #ffe52b;
`])));function fC(a){var n=function(u){return u*a.containerWidth},r=function(u){return u/a.containerWidth},s=s1(function(l,u){a.translate(r(-l),r(-u))},function(l){return{x:l.pageX,y:l.pageY}});return E.createElement(cC,{onPointerDown:s.start,style:{left:Ta(n(a.left)),top:Ta(n(a.top)),width:Ta(n(a.width)),height:Ta(n(a.height))},"data-testid":"minimap-viewport"})}var l0,dC=Tn.div(l0||(l0=wn([`
    position: absolute;
    right: 24px;
    bottom: 24px;
    background: rgba(229, 234, 239, 0.65);
    padding: 20px;
    overflow: hidden;
    border: 1px solid #b1b7ff;
    border-radius: 8px;
    box-sizing: border-box;
`])));function hC(a){var n,r=E.useRef(null),s=oC({ref:r}),l=s.width,u=l===void 0?0:l,f=((n=r.current)===null||n===void 0?void 0:n.clientWidth)||u,h=E.useCallback(function(p){return p*f},[f]);return E.createElement(dC,{size:a.size,style:{width:Ta(a.size*a.ratio),height:Ta(a.size)},onPointerDown:function(y){y.stopPropagation(),y.preventDefault()},onDoubleClick:function(y){if(y.stopPropagation(),y.preventDefault(),!!r.current){var b=r.current.getBoundingClientRect(),v=(y.clientX-b.left)/(a.size*a.ratio),S=(y.clientY-b.top)/(a.size*a.ratio);a.point(v,S)}},ref:r,"data-testid":"minimap"},f?a.nodes.map(function(p,y){return E.createElement(uC,{key:y,left:h(p.left),top:h(p.top),width:h(p.width),height:h(p.height)})}):null,E.createElement(fC,li({},a.viewport,{start:a.start,containerWidth:f,translate:a.translate})))}function pC(a){return{render:function(r){if(r.data.type==="minimap")return E.createElement(hC,{nodes:r.data.nodes,size:a?.size||200,ratio:r.data.ratio,viewport:r.data.viewport,start:r.data.start,translate:r.data.translate,point:r.data.point})}}}var mC=Object.freeze({__proto__:null,setup:pC}),u0,So=20,yC=Tn.div(u0||(u0=wn([`
  width: `,`px;
  height: `,`px;
  box-sizing: border-box;
  background: `,`;
  border: 2px solid white;
  border-radius: `,`px;
`])),So,So,function(a){return a.selected?"#ffd92c":"steelblue"},So);function gC(a){var n=s1(function(u,f){a.translate(u,f)},a.pointer),r=a.position,s=r.x,l=r.y;return E.createElement(yC,{onPointerDown:function(f){f.stopPropagation(),f.preventDefault(),n.start(f),a.pointerdown()},onContextMenu:function(f){f.stopPropagation(),f.preventDefault(),a.contextMenu()},selected:a.selected,style:{position:"absolute",top:"".concat(l-So/2,"px"),left:"".concat(s-So/2,"px")},"data-testid":"pin"})}function vC(a){function n(r,s){return E.createElement(E.Fragment,null,r.pins.map(function(l){return E.createElement(gC,li({},l,{key:l.id,contextMenu:function(){var f;a==null||(f=a.contextMenu)===null||f===void 0||f.call(a,l.id)},translate:function(f,h){var p;a==null||(p=a.translate)===null||p===void 0||p.call(a,l.id,f,h)},pointerdown:function(){var f;a==null||(f=a.pointerdown)===null||f===void 0||f.call(a,l.id)},pointer:s}))}))}return{render:function(s,l){var u=s.data,f=l.parentScope(No);if(u.type==="reroute-pins")return n(u.data,function(){return f.area.pointer})}}}var bC=Object.freeze({__proto__:null,setup:vC}),Cd=Object.freeze({__proto__:null,classic:Kk,contextMenu:aC,minimap:mC,reroute:bC});function wC(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=SC(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(y){throw y},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,f=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var y=r.next();return f=y.done,y},e:function(y){h=!0,u=y},f:function(){try{f||r.return==null||r.return()}finally{if(h)throw u}}}}function SC(a,n){if(a){if(typeof a=="string")return c0(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c0(a,n):void 0}}function c0(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function f0(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function tu(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?f0(Object(r),!0).forEach(function(s){Me(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):f0(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function xC(a,n,r){return n=Rt(n),_a(a,w1()?Reflect.construct(n,r||[],Rt(a).constructor):n.apply(a,r))}function w1(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w1=function(){return!!a})()}function EC(a,n,r,s){var l=Co(Rt(a.prototype),n,r);return typeof l=="function"?function(u){return l.apply(r,u)}:l}var kC=(function(a){function n(){for(var r,s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var f=l[0];return ct(this,n),r=xC(this,n,["react-render"]),Me(r,"presets",[]),r.renderer=_k({createRoot:f?.createRoot}),r.addPipe(function(h){if(!h||bn(h)!=="object"||!("type"in h))return h;if(h.type==="unmount")r.unmount(h.data.element);else if(h.type==="render"){if("filled"in h.data&&h.data.filled)return h;if(r.mount(h.data.element,h))return tu(tu({},h),{},{data:tu(tu({},h.data),{},{filled:!0})})}return h}),r}return Bn(n,a),ft(n,[{key:"setParent",value:function(s){var l=this;EC(n,"setParent",this)([s]),this.presets.forEach(function(u){u.attach&&u.attach(l)})}},{key:"mount",value:function(s,l){var u=this.parentScope(),f=wC(this.presets),h;try{for(f.s();!(h=f.n()).done;){var p=h.value,y=p.render(l,this);if(y){var b=E.createElement(Dk,{rendered:function(){return void u.emit({type:"rendered",data:l.data})}},y);return this.renderer.mount(b,s),!0}}}catch(v){f.e(v)}finally{f.f()}}},{key:"unmount",value:function(s){this.renderer.unmount(s)}},{key:"addPreset",value:function(s){var l=s;l.attach&&l.attach(this),this.presets.push(l)}}])})(fs);function CC(a){try{return Function.toString.call(a).indexOf("[native code]")!==-1}catch{return typeof a=="function"}}function S1(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S1=function(){return!!a})()}function TC(a,n,r){if(S1())return Reflect.construct.apply(null,arguments);var s=[null];s.push.apply(s,n);var l=new(a.bind.apply(a,s));return r&&ko(l,r.prototype),l}function nh(a){var n=typeof Map=="function"?new Map:void 0;return nh=function(s){if(s===null||!CC(s))return s;if(typeof s!="function")throw new TypeError("Super expression must either be null or a function");if(n!==void 0){if(n.has(s))return n.get(s);n.set(s,l)}function l(){return TC(s,arguments,Rt(this).constructor)}return l.prototype=Object.create(s.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),ko(l,s)},nh(a)}function OC(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=NC(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(y){throw y},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,f=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var y=r.next();return f=y.done,y},e:function(y){h=!0,u=y},f:function(){try{f||r.return==null||r.return()}finally{if(h)throw u}}}}function NC(a,n){if(a){if(typeof a=="string")return d0(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d0(a,n):void 0}}function d0(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}var jC=(function(){function a(n){ct(this,a),Me(this,"setups",new Map),this.editor=n}return ft(a,[{key:"add",value:function(r,s){var l=this.setups.get(r.id);if(l)throw new Error("already processed");this.setups.set(r.id,s)}},{key:"remove",value:function(r){this.setups.delete(r)}},{key:"fetchInputs",value:(function(){var n=rt(ve.mark(function s(l){var u=this,f,h,p,y,b,v,S,k,N,Z,L,Q;return ve.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(f=this.setups.get(l),f){V.next=3;break}throw new Error("node is not initialized");case 3:return h=f.inputs(),p=this.editor.getConnections().filter(function(F){return F.target===l&&h.includes(F.targetInput)}),y={},V.next=8,Promise.all(p.map((function(){var F=rt(ve.mark(function ce(oe){return ve.wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return ie.t0=oe,ie.next=3,u.fetch(oe.source);case 3:return ie.t1=ie.sent,ie.abrupt("return",{c:ie.t0,sourceData:ie.t1});case 5:case"end":return ie.stop()}},ce)}));return function(ce){return F.apply(this,arguments)}})()));case 8:b=V.sent,v=OC(b);try{for(v.s();!(S=v.n()).done;)k=S.value,N=k.c,Z=k.sourceData,L=y[N.targetInput]?y[N.targetInput]:[],Q=y,Q[N.targetInput]=[].concat(ds(L),[Z[N.sourceOutput]])}catch(F){v.e(F)}finally{v.f()}return V.abrupt("return",y);case 12:case"end":return V.stop()}},s,this)}));function r(s){return n.apply(this,arguments)}return r})()},{key:"fetch",value:(function(){var n=rt(ve.mark(function s(l){var u=this,f,h,p,y;return ve.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(f=this.setups.get(l),f){v.next=3;break}throw new Error("node is not initialized");case 3:return h=f.outputs(),v.next=6,f.data(function(){return u.fetchInputs(l)});case 6:if(p=v.sent,y=Object.keys(p),h.every(function(S){return y.includes(S)})){v.next=10;break}throw new Error('dataflow node "'.concat(l,`" doesn't return all of required properties. Expected "`).concat(h.join('", "'),'". Got "').concat(y.join('", "'),'"'));case 10:return v.abrupt("return",p);case 11:case"end":return v.stop()}},s,this)}));function r(s){return n.apply(this,arguments)}return r})()}])})(),AC=(function(){function a(n){ct(this,a),Me(this,"cache",new Map),this.onDelete=n}return ft(a,[{key:"get",value:function(r){return this.cache.get(r)}},{key:"add",value:function(r,s){if(this.cache.has(r))throw new Error("cache already exists");this.cache.set(r,s)}},{key:"patch",value:function(r,s){this.cache.set(r,s)}},{key:"delete",value:function(r){var s=this.cache.get(r);this.cache.delete(r),this.onDelete&&this.onDelete(s)}},{key:"clear",value:function(){var r=this;Array.from(this.cache.keys()).forEach(function(s){r.delete(s)})}}])})();function _C(a,n,r){return n=Rt(n),_a(a,x1()?Reflect.construct(n,r||[],Rt(a).constructor):n.apply(a,r))}function x1(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x1=function(){return!!a})()}var h0=(function(a){function n(){return ct(this,n),_C(this,n,["cancelled"])}return Bn(n,a),ft(n)})(nh(Error));function DC(){var a=!1;function n(p){if(a)throw new h0;return p}for(var r,s=new Promise(function(p,y){r=y,p()}),l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];var h=u.reduce(function(p,y){var b=p.then(y).then(n);return b},s);return h.cancel=function(){a||r(new h0),a=!0},h}function MC(a,n,r){return n=Rt(n),_a(a,E1()?Reflect.construct(n,r||[],Rt(a).constructor):n.apply(a,r))}function E1(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E1=function(){return!!a})()}function RC(a,n,r,s){var l=Co(Rt(a.prototype),n,r);return typeof l=="function"?function(u){return l.apply(r,u)}:l}var zC=(function(a){function n(r){var s;return ct(this,n),s=MC(this,n,["dataflow-engine"]),Me(s,"cache",new AC(function(l){return l?.cancel&&l.cancel()})),s.configure=r,s.addPipe(function(l){return l.type==="nodecreated"&&s.add(l.data),l.type==="noderemoved"&&s.remove(l.data),l}),s}return Bn(n,a),ft(n,[{key:"setParent",value:function(s){RC(n,"setParent",this)([s]),this.editor=this.parentScope(Lr),this.dataflow=new jC(this.editor)}},{key:"getDataflow",value:function(){if(!this.dataflow)throw new Error("DataflowEngine isn't attached to NodeEditor");return this.dataflow}},{key:"add",value:function(s){var l=this,u=this.configure?this.configure(s):{inputs:function(){return Object.keys(s.inputs)},outputs:function(){return Object.keys(s.outputs)}};this.getDataflow().add(s,{inputs:u.inputs,outputs:u.outputs,data:(function(){var f=rt(ve.mark(function p(y){var b,v;return ve.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(b=l.cache.get(s.id),!b){k.next=3;break}return k.abrupt("return",b);case 3:return v=DC(function(){return y()},function(N){return s.data(N)}),l.cache.add(s.id,v),k.abrupt("return",v);case 6:case"end":return k.stop()}},p)}));function h(p){return f.apply(this,arguments)}return h})()})}},{key:"remove",value:function(s){this.getDataflow().remove(s.id)}},{key:"reset",value:function(s){var l=this;if(s){var u=this.getDataflow().setups.get(s);if(!u)throw new Error("setup");var f=u.outputs();this.cache.delete(s),this.editor.getConnections().filter(function(h){return h.source===s&&f.includes(h.sourceOutput)}).forEach(function(h){l.reset(h.target)})}else this.cache.clear()}},{key:"fetchInputs",value:(function(){var r=rt(ve.mark(function l(u){var f;return ve.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return f=bn(u)==="object"?u.id:u,p.abrupt("return",this.getDataflow().fetchInputs(f));case 2:case"end":return p.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"fetch",value:(function(){var r=rt(ve.mark(function l(u){var f;return ve.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return f=bn(u)==="object"?u.id:u,p.abrupt("return",this.getDataflow().fetch(f));case 2:case"end":return p.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()}])})(fs);const LC=!1,$h=(...a)=>LC,p0=Ot.Socket.canConnect;Ot.Socket.canConnect=function(a,n){return $h(`[Socket Check] ${a.name} <-> ${n.name}`),p0&&p0(a,n)||a.name==="any"||n.name==="any"?!0:a.name===n.name};Ot.Socket.prototype.canConnectTo=function(a){return $h(`[Socket Instance Check] ${this.name} -> ${a.name}`),Ot.Socket.canConnect(this,a)};const ls={boolean:new Ot.Socket("boolean"),number:new Ot.Socket("number"),object:new Ot.Socket("object"),lightInfo:new Ot.Socket("light_info"),any:new Ot.Socket("any")};Object.values(ls).forEach(a=>{a.canConnectTo=function(n){return $h(`[Socket Instance Direct] ${this.name} -> ${n.name}`),this.name===n.name||this.name==="any"||n.name==="any"}});let Zi=null;function Uu(){if(Zi!==null)return Zi;const n=window.location.pathname.match(/^(\/api\/hassio_ingress\/[^/]+)/);return n?(Zi=n[1],console.log("[API] Running in HA ingress, base:",Zi)):(Zi="",console.log("[API] Running standalone, no base path")),Zi}function us(a){const n=Uu(),r=a.startsWith("/")?a:"/"+a;return n+r}Uu();const ai="t2app-pin",Tu="t2app-pin-remember",k1=(a,n)=>{try{return a.getItem(n)}catch{return null}},nu=(a,n,r)=>{try{return a.setItem(n,r),!0}catch{return!1}},xo=(a,n)=>{try{return a.removeItem(n),!0}catch{return!1}},Ou=()=>k1(localStorage,Tu)==="true",es=()=>{const n=Ou()?localStorage:sessionStorage;return(k1(n,ai)||"").trim()||null},C1=()=>{xo(sessionStorage,ai),xo(localStorage,ai),xo(localStorage,Tu),window.dispatchEvent(new CustomEvent("t2-pin-changed",{detail:{hasPin:!1}}))},m0=(a,{remember:n}={})=>{const r=(a||"").toString().trim(),s=typeof n=="boolean"?n:Ou();if(!r){C1(),typeof n=="boolean"&&nu(localStorage,Tu,n?"true":"false");return}nu(localStorage,Tu,s?"true":"false"),s?(nu(localStorage,ai,r),xo(sessionStorage,ai)):(nu(sessionStorage,ai,r),xo(localStorage,ai)),window.dispatchEvent(new CustomEvent("t2-pin-changed",{detail:{hasPin:!0}}))},Qi=async(a,n={})=>{const r=typeof a=="string"?us(a):a;return fetch(r,n)},Oa=async(a,n={})=>{const r=es(),s=typeof a=="string"?us(a):a;if(!r)return fetch(s,n);const l=new Headers(n.headers||(typeof a!="string"?a.headers:void 0)||void 0);return l.set("X-APP-PIN",r),fetch(s,{...n,headers:l})},y0={shelly:{icon:"",color:"#ff9800",label:"Shelly"},wled:{icon:"",color:"#e040fb",label:"WLED"},esphome:{icon:"",color:"#00bcd4",label:"ESPHome"},hue:{icon:"",color:"#ffc107",label:"Philips Hue"},kasa:{icon:"",color:"#4caf50",label:"TP-Link Kasa"},tasmota:{icon:"",color:"#ff5722",label:"Tasmota"},chromecast:{icon:"",color:"#5c6bc0",label:"Chromecast"},homekit:{icon:"",color:"#607d8b",label:"HomeKit"},airplay:{icon:"",color:"#9c27b0",label:"AirPlay"},generic:{icon:"",color:"#78909c",label:"HTTP Device"},http:{icon:"",color:"#78909c",label:"HTTP Device"}};function BC(){const[a,n]=E.useState([]),[r,s]=E.useState(!1),[l,u]=E.useState(null),[f,h]=E.useState(null),[p,y]=E.useState(5e3),[b,v]=E.useState(null),S=E.useCallback(async()=>{s(!0),u(null);try{const Q=await Qi("/api/discovery/scan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({timeout:p})});if(!Q.ok){const V=await Q.json();throw new Error(V.error||`Scan failed (${Q.status})`)}const J=await Q.json();n(J.devices||[]),h(new Date)}catch(Q){console.error("[Discovery] Scan error:",Q),u(Q.message)}finally{s(!1)}},[p]),k=Q=>y0[Q]||y0.generic,N=Q=>Q?new Date(Q).toLocaleTimeString():"",L=(Q=>{const J={};for(const V of Q){const F=V.type||"generic";J[F]||(J[F]=[]),J[F].push(V)}return J})(a);return m.jsxs("div",{className:"discovery-panel",children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[m.jsxs("div",{children:[m.jsx("div",{style:{fontSize:"11px",color:"#8a959e",marginBottom:"4px"},children:"Scan your network for smart home devices"}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx("label",{style:{fontSize:"11px",color:"#8a959e"},children:"Timeout:"}),m.jsxs("select",{value:p,onChange:Q=>y(Number(Q.target.value)),disabled:r,style:{background:"#2a3238",color:"#c5cdd3",border:"1px solid rgba(95, 179, 179, 0.3)",borderRadius:"4px",padding:"4px 8px",fontSize:"11px"},children:[m.jsx("option",{value:3e3,children:"3 seconds"}),m.jsx("option",{value:5e3,children:"5 seconds"}),m.jsx("option",{value:1e4,children:"10 seconds"}),m.jsx("option",{value:15e3,children:"15 seconds"})]})]})]}),m.jsx("button",{onClick:S,disabled:r,style:{padding:"10px 20px",background:r?"rgba(95, 179, 179, 0.2)":"rgba(95, 179, 179, 0.15)",border:"1px solid rgba(95, 179, 179, 0.5)",borderRadius:"6px",color:r?"#8a959e":"#5fb3b3",cursor:r?"not-allowed":"pointer",fontSize:"13px",fontWeight:500,display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s"},children:r?m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"discovery-spinner",children:""}),"Scanning..."]}):m.jsx(m.Fragment,{children:" Scan Network"})})]}),l&&m.jsxs("div",{style:{padding:"10px 14px",background:"rgba(199, 95, 95, 0.15)",border:"1px solid rgba(199, 95, 95, 0.3)",borderRadius:"6px",color:"#c75f5f",fontSize:"12px",marginBottom:"12px"},children:[" ",l]}),f&&m.jsxs("div",{style:{fontSize:"10px",color:"#8a959e",marginBottom:"12px"},children:["Last scan: ",f.toLocaleTimeString(),"  Found ",a.length," device(s)"]}),a.length===0&&!r&&f&&m.jsxs("div",{style:{padding:"30px",textAlign:"center",color:"#8a959e",background:"rgba(0, 0, 0, 0.2)",borderRadius:"8px"},children:[m.jsx("div",{style:{fontSize:"24px",marginBottom:"8px"},children:""}),m.jsx("div",{children:"No devices found on your network."}),m.jsx("div",{style:{fontSize:"11px",marginTop:"8px"},children:"Try increasing the timeout or check if your devices are online."})]}),Object.entries(L).map(([Q,J])=>{const V=k(Q);return m.jsxs("div",{style:{marginBottom:"16px"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",paddingBottom:"6px",borderBottom:"1px solid rgba(95, 179, 179, 0.15)"},children:[m.jsx("span",{style:{fontSize:"16px"},children:V.icon}),m.jsx("span",{style:{color:V.color,fontSize:"13px",fontWeight:500},children:V.label}),m.jsx("span",{style:{color:"#8a959e",fontSize:"11px",background:"rgba(0, 0, 0, 0.2)",padding:"2px 8px",borderRadius:"10px"},children:J.length})]}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:J.map(F=>m.jsxs("div",{style:{background:b===F.id?"rgba(95, 179, 179, 0.1)":"rgba(0, 0, 0, 0.15)",border:"1px solid rgba(95, 179, 179, 0.15)",borderRadius:"6px",padding:"10px 14px",cursor:"pointer",transition:"all 0.2s"},onClick:()=>v(b===F.id?null:F.id),children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[m.jsxs("div",{children:[m.jsx("div",{style:{color:"#c5cdd3",fontSize:"13px",fontWeight:500},children:F.name}),m.jsxs("div",{style:{color:"#8a959e",fontSize:"11px",fontFamily:"monospace"},children:[F.ip,":",F.port]})]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[F.configured?m.jsx("span",{style:{background:"rgba(95, 170, 125, 0.2)",color:"#5faa7d",padding:"3px 8px",borderRadius:"4px",fontSize:"10px"},children:"Configured"}):m.jsx("span",{style:{background:"rgba(212, 160, 84, 0.2)",color:"#d4a054",padding:"3px 8px",borderRadius:"4px",fontSize:"10px"},children:"New"}),m.jsx("span",{style:{color:"#8a959e",fontSize:"12px"},children:b===F.id?"":""})]})]}),b===F.id&&m.jsxs("div",{style:{marginTop:"12px",paddingTop:"12px",borderTop:"1px solid rgba(95, 179, 179, 0.1)",fontSize:"11px",color:"#8a959e"},children:[m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"100px 1fr",gap:"6px 12px"},children:[m.jsx("span",{children:"Host:"}),m.jsx("span",{style:{color:"#c5cdd3",fontFamily:"monospace"},children:F.host||"N/A"}),m.jsx("span",{children:"Source:"}),m.jsx("span",{style:{color:"#c5cdd3"},children:F.source==="mdns"?"mDNS/Bonjour":F.source==="udp"?"UDP Broadcast":F.source}),m.jsx("span",{children:"Discovered:"}),m.jsx("span",{style:{color:"#c5cdd3"},children:N(F.discoveredAt)}),F.capabilities&&F.capabilities.length>0&&m.jsxs(m.Fragment,{children:[m.jsx("span",{children:"Capabilities:"}),m.jsx("span",{style:{color:"#5fb3b3"},children:F.capabilities.join(", ")})]}),F.model&&m.jsxs(m.Fragment,{children:[m.jsx("span",{children:"Model:"}),m.jsx("span",{style:{color:"#c5cdd3"},children:F.model})]})]}),m.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"12px"},children:[m.jsx("button",{onClick:ce=>{ce.stopPropagation(),window.open(`http://${F.ip}:${F.port}`,"_blank")},style:{padding:"6px 12px",background:"rgba(95, 179, 179, 0.15)",border:"1px solid rgba(95, 179, 179, 0.3)",borderRadius:"4px",color:"#5fb3b3",cursor:"pointer",fontSize:"11px"},children:" Open Web UI"}),m.jsx("button",{onClick:ce=>{ce.stopPropagation(),navigator.clipboard.writeText(F.ip)},style:{padding:"6px 12px",background:"rgba(95, 179, 179, 0.1)",border:"1px solid rgba(95, 179, 179, 0.2)",borderRadius:"4px",color:"#8a959e",cursor:"pointer",fontSize:"11px"},children:" Copy IP"})]})]})]},F.id))})]},Q)}),m.jsx("style",{children:`
                .discovery-spinner {
                    display: inline-block;
                    animation: spin 1s linear infinite;
                }
                @keyframes spin {
                    from { transform: rotate(0deg); }
                    to { transform: rotate(360deg); }
                }
            `})]})}const au=[{key:"primary",label:"Primary Accent Color",type:"color",default:"#5fb3b3"},{key:"background",label:"Node Background",type:"color",default:"#1e2428"},{key:"surface",label:"Node Surface",type:"color",default:"#2a3238"},{key:"surfaceLight",label:"Elevated Surface",type:"color",default:"#343d44"},{key:"text",label:"Text Color",type:"color",default:"#c5cdd3"},{key:"textMuted",label:"Muted Text",type:"color",default:"#8a959e"},{key:"success",label:"Success Color",type:"color",default:"#5faa7d"},{key:"warning",label:"Warning Color",type:"color",default:"#d4a054"},{key:"error",label:"Error Color",type:"color",default:"#c75f5f"},{key:"borderOpacity",label:"Border Opacity (%)",type:"range",min:0,max:100,default:25}],UC=[{category:"Home Assistant",icon:"",testable:"ha",settings:[{key:"HA_HOST",label:"Home Assistant URL",placeholder:"http://homeassistant.local:8123",type:"text"},{key:"HA_TOKEN",label:"Long-Lived Access Token",placeholder:"eyJ...",type:"password",isSecret:!0}]},{category:"Weather Services",icon:"",testable:"weather",settings:[{key:"OPENWEATHERMAP_API_KEY",label:"OpenWeatherMap API Key",placeholder:"Your API key",type:"password",isSecret:!0}]},{category:"Ambient Weather",icon:"",settings:[{key:"AMBIENT_API_KEY",label:"Ambient Weather API Key",placeholder:"Your API key",type:"password",isSecret:!0},{key:"AMBIENT_APPLICATION_KEY",label:"Application Key",placeholder:"Your app key",type:"password",isSecret:!0},{key:"AMBIENT_MAC_ADDRESS",label:"Device MAC Address",placeholder:"XX:XX:XX:XX:XX:XX",type:"text"}]},{category:"Philips Hue",icon:"",testable:"hue",settings:[{key:"HUE_BRIDGE_IP",label:"Bridge IP Address",placeholder:"192.168.1.x",type:"text"},{key:"HUE_USERNAME",label:"Bridge Username/Key",placeholder:"Generated key",type:"password",isSecret:!0}]},{category:"Telegram Notifications",icon:"",testable:"telegram",settings:[{key:"TELEGRAM_BOT_TOKEN",label:"Bot Token",placeholder:"123456:ABC-DEF...",type:"password",isSecret:!0},{key:"TELEGRAM_CHAT_ID",label:"Chat ID",placeholder:"123456789",type:"text"}]},{category:"Location",icon:"",description:"Your location for sunrise/sunset calculations and weather",settings:[{key:"LOCATION_CITY",label:"City",placeholder:"Dallas, TX",type:"text"},{key:"LOCATION_LATITUDE",label:"Latitude",placeholder:"32.7767",type:"text"},{key:"LOCATION_LONGITUDE",label:"Longitude",placeholder:"-96.7970",type:"text"},{key:"LOCATION_TIMEZONE",label:"Timezone",placeholder:"America/Chicago",type:"text"}]},{category:"Server Settings",icon:"",settings:[{key:"PORT",label:"Server Port",placeholder:"3000",type:"number"},{key:"LOG_LEVEL",label:"Log Level",placeholder:"info",type:"select",options:["debug","info","warn","error"]}]}],g0=a=>{try{const n=Math.max(0,parseInt(a.slice(1,3),16)-40),r=Math.max(0,parseInt(a.slice(3,5),16)-40),s=Math.max(0,parseInt(a.slice(5,7),16)-40);return`#${n.toString(16).padStart(2,"0")}${r.toString(16).padStart(2,"0")}${s.toString(16).padStart(2,"0")}`}catch{return a}},v0=a=>{try{const n=Math.min(255,parseInt(a.slice(1,3),16)+50),r=Math.min(255,parseInt(a.slice(3,5),16)+50),s=Math.min(255,parseInt(a.slice(5,7),16)+50);return`#${n.toString(16).padStart(2,"0")}${r.toString(16).padStart(2,"0")}${s.toString(16).padStart(2,"0")}`}catch{return a}};function $C({isOpen:a,onClose:n}){const[r,s]=E.useState({}),[l,u]=E.useState(!0),[f,h]=E.useState(!1),[p,y]=E.useState(null),[b,v]=E.useState(null),[S,k]=E.useState({}),[N,Z]=E.useState({}),[L,Q]=E.useState({}),[J,V]=E.useState({}),F=E.useRef(null),[ce,oe]=E.useState(""),[H,ie]=E.useState(()=>Ou()),[re,X]=E.useState(()=>!!es()),[ue,Ne]=E.useState(!1),[_e,Ge]=E.useState(()=>{try{const j=localStorage.getItem("t2theme-overrides"),B=j?JSON.parse(j):{},fe={};return au.forEach(Ae=>{fe[Ae.key]=Ae.default}),{...fe,...B}}catch{const j={};return au.forEach(B=>{j[B.key]=B.default}),j}}),[je,C]=E.useState(!1),U={"Home Assistant":{accent:"#4fc3f7",background:"#0a1520",icon:""},Weather:{accent:"#ffb74d",background:"#1a1510",icon:""},Logic:{accent:"#81c784",background:"#0a140a",icon:""},"Timer/Event":{accent:"#ce93d8",background:"#140a14",icon:""},Color:{accent:"#f48fb1",background:"#140a10",icon:""},Utility:{accent:"#90a4ae",background:"#0a0f14",icon:""},Inputs:{accent:"#aed581",background:"#0f140a",icon:""},CC_Control_Nodes:{accent:"#64b5f6",background:"#0a1018",icon:""},Other:{accent:"#b0bec5",background:"#0a0f14",icon:""}},[le,ye]=E.useState(()=>{try{const j=localStorage.getItem("t2category-overrides"),B=j?JSON.parse(j):{},fe={};for(const[Ae,tt]of Object.entries(U))fe[Ae]={...tt,...B[Ae]||{}};return fe}catch{return{...U}}}),[be,x]=E.useState(!1),R={Boolean:{color:"#10b981",icon:"",description:"True/False values"},Number:{color:"#3b82f6",icon:"",description:"Numeric values"},String:{color:"#f59e0b",icon:"",description:"Text values"},"HSV Info":{color:"#8b5cf6",icon:"",description:"Color HSV data"},"Object/Any":{color:"#06b6d4",icon:"",description:"Generic objects"},"Light Info":{color:"#eab308",icon:"",description:"Light state data"}},_={Boolean:"boolean",Number:"number",String:"string","HSV Info":"hsv","Object/Any":"object","Light Info":"light"},[G,pe]=E.useState(()=>{try{const j=localStorage.getItem("t2socket-colors"),B=j?JSON.parse(j):{},fe={};for(const[Ae,tt]of Object.entries(R))fe[Ae]={...tt,...B[Ae]||{}};return fe}catch{return{...R}}}),[Oe,Ve]=E.useState(!1),[Be,Le]=E.useState(!1),[Ee,qe]=E.useState(null);E.useEffect(()=>{a&&(I(),Z({Security:!0,"Home Assistant":!0}),Q({}),ie(Ou()),X(!!es()),oe(""))},[a]);const I=async()=>{u(!0),y(null);try{const j=await Oa("/api/settings");if(!j.ok)throw new Error("Failed to fetch settings");const B=await j.json();s(B.settings||{})}catch(j){y("Failed to load settings: "+j.message)}finally{u(!1)}},ae=async()=>{h(!0),y(null),v(null);try{const j=await Oa("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:r})});if(!j.ok){const B=await j.json();throw new Error(B.error||"Failed to save settings")}v("Settings saved! Some changes may require a server restart."),setTimeout(()=>v(null),5e3)}catch(j){y("Failed to save: "+j.message)}finally{h(!1)}},K=(j,B)=>{s(fe=>({...fe,[j]:B}))},xe=async()=>{const j=r.LOCATION_CITY;if(!j||j.trim().length<2){qe("Please enter a city name first");return}Le(!0),qe(null);try{const B=await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(j)}&format=json&limit=1&addressdetails=1`,{headers:{"User-Agent":"T2AutoTron/2.1 (Home Automation App)"}});if(!B.ok)throw new Error("Geocoding service unavailable");const fe=await B.json();if(fe.length===0){qe(`Could not find "${j}". Try adding state/country (e.g., "Dallas, TX, USA")`);return}const Ae=fe[0],tt=parseFloat(Ae.lat).toFixed(4),pn=parseFloat(Ae.lon).toFixed(4),Lt=Ae.address?[Ae.address.city||Ae.address.town||Ae.address.village||Ae.name,Ae.address.state,Ae.address.country].filter(Boolean).join(", "):Ae.display_name.split(",").slice(0,3).join(",");let Ie="UTC";const Bt=Ae.address?.state?.toLowerCase()||"",it=Ae.address?.country?.toLowerCase()||"";if(it.includes("portugal"))Ie="Europe/Lisbon";else if(it.includes("spain"))Ie="Europe/Madrid";else if(it.includes("france"))Ie="Europe/Paris";else if(it.includes("germany"))Ie="Europe/Berlin";else if(it.includes("italy"))Ie="Europe/Rome";else if(it.includes("united kingdom")||it.includes("ireland"))Ie="Europe/London";else if(it.includes("netherlands"))Ie="Europe/Amsterdam";else if(it.includes("belgium"))Ie="Europe/Brussels";else if(it.includes("australia"))Ie="Australia/Sydney";else if(it.includes("japan"))Ie="Asia/Tokyo";else if(it.includes("china"))Ie="Asia/Shanghai";else if(it.includes("india"))Ie="Asia/Kolkata";else if(it.includes("brazil"))Ie="America/Sao_Paulo";else if(it.includes("canada"))Bt.includes("british columbia")?Ie="America/Vancouver":Bt.includes("alberta")?Ie="America/Edmonton":Bt.includes("saskatchewan")?Ie="America/Regina":Bt.includes("manitoba")?Ie="America/Winnipeg":Bt.includes("ontario")?Ie="America/Toronto":Bt.includes("quebec")?Ie="America/Montreal":Ie="America/Toronto";else if(it.includes("united states")||it.includes("usa"))Bt.includes("hawaii")?Ie="Pacific/Honolulu":Bt.includes("alaska")?Ie="America/Anchorage":["california","nevada","oregon","washington"].some(kt=>Bt.includes(kt))?Ie="America/Los_Angeles":["arizona"].some(kt=>Bt.includes(kt))?Ie="America/Phoenix":["colorado","montana","wyoming","utah","new mexico","idaho"].some(kt=>Bt.includes(kt))?Ie="America/Denver":["texas","oklahoma","kansas","nebraska","south dakota","north dakota","minnesota","iowa","missouri","arkansas","louisiana","wisconsin","illinois","mississippi","alabama","tennessee"].some(kt=>Bt.includes(kt))?Ie="America/Chicago":Ie="America/New_York";else{const kt=parseFloat(pn);kt>=-125&&kt<-115?Ie="America/Los_Angeles":kt>=-115&&kt<-102?Ie="America/Denver":kt>=-102&&kt<-87?Ie="America/Chicago":kt>=-87&&kt<-67?Ie="America/New_York":kt>=-10&&kt<3?Ie="Europe/London":kt>=3&&kt<15?Ie="Europe/Paris":kt>=15&&kt<30&&(Ie="Europe/Berlin")}s(kt=>({...kt,LOCATION_CITY:Lt,LOCATION_LATITUDE:tt,LOCATION_LONGITUDE:pn,LOCATION_TIMEZONE:Ie})),v(`Found: ${Lt} (${tt}, ${pn})`),setTimeout(()=>v(null),5e3)}catch(B){qe("Search failed: "+B.message)}finally{Le(!1)}},he=(j,B)=>{Ge(fe=>({...fe,[j]:B})),C(!0)},q=()=>{try{localStorage.setItem("t2theme-overrides",JSON.stringify(_e)),v("Theme saved! Refresh the page to apply changes."),C(!1),setTimeout(()=>v(null),5e3)}catch(j){y("Failed to save theme: "+j.message)}},D=()=>{const j={};au.forEach(B=>{j[B.key]=B.default}),Ge(j),localStorage.removeItem("t2theme-overrides"),v("Theme reset to defaults! Refresh the page to apply."),C(!1),setTimeout(()=>v(null),5e3)},W=(j,B,fe)=>{ye(Ae=>({...Ae,[j]:{...Ae[j],[B]:fe}})),x(!0)},ge=j=>{const B=parseInt(j.slice(1,3),16),fe=parseInt(j.slice(3,5),16),Ae=parseInt(j.slice(5,7),16);return`${B}, ${fe}, ${Ae}`},Se={"Home Assistant":"ha",Weather:"weather",Logic:"logic","Timer/Event":"timer",Color:"color",Utility:"utility",Inputs:"inputs",CC_Control_Nodes:"cc",Other:"other"},vt=j=>{const B=document.documentElement;for(const[fe,Ae]of Object.entries(j)){const tt=Se[fe];tt&&(B.style.setProperty(`--node-${tt}-color`,Ae.accent),B.style.setProperty(`--node-${tt}-color-rgb`,ge(Ae.accent)),Ae.background&&B.style.setProperty(`--node-${tt}-bg`,Ae.background))}},Ue=()=>{try{const j={};for(const[B,fe]of Object.entries(le)){const Ae=U[B],tt={};fe.accent!==Ae.accent&&(tt.accent=fe.accent),fe.background!==Ae.background&&(tt.background=fe.background),Object.keys(tt).length>0&&(j[B]=tt)}Object.keys(j).length>0?localStorage.setItem("t2category-overrides",JSON.stringify(j)):localStorage.removeItem("t2category-overrides"),vt(le),v("Category colors applied!"),x(!1),setTimeout(()=>v(null),3e3)}catch(j){y("Failed to save category colors: "+j.message)}},He=()=>{ye({...U}),localStorage.removeItem("t2category-overrides"),vt(U),v("Category colors reset to defaults!"),x(!1),setTimeout(()=>v(null),3e3)},We=(j,B)=>{pe(fe=>({...fe,[j]:{...fe[j],color:B}})),Ve(!0)},zt=(j,B=20)=>{const fe=parseInt(j.slice(1),16),Ae=Math.max(0,(fe>>16)-Math.round(255*B/100)),tt=Math.max(0,(fe>>8&255)-Math.round(255*B/100)),pn=Math.max(0,(fe&255)-Math.round(255*B/100));return`#${(1<<24|Ae<<16|tt<<8|pn).toString(16).slice(1)}`},Re=(j,B=20)=>{const fe=parseInt(j.slice(1),16),Ae=Math.min(255,(fe>>16)+Math.round(255*B/100)),tt=Math.min(255,(fe>>8&255)+Math.round(255*B/100)),pn=Math.min(255,(fe&255)+Math.round(255*B/100));return`#${(1<<24|Ae<<16|tt<<8|pn).toString(16).slice(1)}`},Qe=j=>{const B=document.documentElement;for(const[fe,Ae]of Object.entries(j)){const tt=_[fe];tt&&(B.style.setProperty(`--socket-${tt}-color`,Ae.color),B.style.setProperty(`--socket-${tt}-dark`,zt(Ae.color,15)),B.style.setProperty(`--socket-${tt}-border`,Re(Ae.color,20)),B.style.setProperty(`--socket-${tt}-rgb`,ge(Ae.color)))}},mt=()=>{try{const j={};for(const[B,fe]of Object.entries(G)){const Ae=R[B];fe.color!==Ae.color&&(j[B]={color:fe.color})}Object.keys(j).length>0?localStorage.setItem("t2socket-colors",JSON.stringify(j)):localStorage.removeItem("t2socket-colors"),Qe(G),v("Socket colors applied!"),Ve(!1),setTimeout(()=>v(null),3e3)}catch(j){y("Failed to save socket colors: "+j.message)}},cn=()=>{pe({...R}),localStorage.removeItem("t2socket-colors"),Qe(R),v("Socket colors reset to defaults!"),Ve(!1),setTimeout(()=>v(null),3e3)},Dt=j=>{Z(B=>({...B,[j]:!B[j]}))},It=j=>{k(B=>({...B,[j]:!B[j]}))},et=async j=>{V(B=>({...B,[j]:!0})),Q(B=>({...B,[j]:null}));try{const fe=await(await Oa("/api/settings/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({service:j,settings:r})})).json();Q(Ae=>({...Ae,[j]:{success:fe.success,message:fe.message||(fe.success?"Connection successful!":"Connection failed"),details:fe.details}}))}catch(B){Q(fe=>({...fe,[j]:{success:!1,message:"Test failed: "+B.message}}))}finally{V(B=>({...B,[j]:!1}))}},Pe=()=>{const j={version:"1.0",timestamp:new Date().toISOString(),settings:r},B=new Blob([JSON.stringify(j,null,2)],{type:"application/json"}),fe=URL.createObjectURL(B),Ae=document.createElement("a");Ae.href=fe,Ae.download=`t2autotron-settings-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Ae),Ae.click(),document.body.removeChild(Ae),URL.revokeObjectURL(fe),v("Settings exported successfully!"),setTimeout(()=>v(null),3e3)},Nt=j=>{const B=j.target.files?.[0];if(!B)return;const fe=new FileReader;fe.onload=Ae=>{try{const tt=JSON.parse(Ae.target.result);if(!tt.settings||typeof tt.settings!="object")throw new Error("Invalid backup file format");s(pn=>({...pn,...tt.settings})),v(`Imported ${Object.keys(tt.settings).length} settings from backup. Click Save to apply.`),setTimeout(()=>v(null),5e3)}catch(tt){y("Failed to import backup: "+tt.message)}},fe.readAsText(B),j.target.value=""};return a?Eh.createPortal(m.jsx("div",{className:"settings-modal-overlay",onClick:n,children:m.jsxs("div",{className:"settings-modal",onClick:j=>j.stopPropagation(),children:[m.jsxs("div",{className:"settings-header",children:[m.jsx("h2",{children:" Settings & API Keys"}),m.jsx("button",{className:"settings-close-btn",onClick:n,children:""})]}),m.jsx("div",{className:"settings-content",children:l?m.jsx("div",{className:"settings-loading",children:"Loading settings..."}):m.jsxs(m.Fragment,{children:[p&&m.jsx("div",{className:"settings-error",children:p}),b&&m.jsx("div",{className:"settings-success",children:b}),m.jsx("div",{className:"settings-warning",children:" These settings are stored on the server (managed by this app). Keep the server secure."}),m.jsxs("div",{className:"settings-category",children:[m.jsxs("div",{className:"settings-category-header",onClick:()=>Dt("Security"),style:{background:"linear-gradient(135deg, rgba(0, 243, 255, 0.12), rgba(0, 150, 200, 0.08))"},children:[m.jsxs("span",{children:[N.Security?"":""," Security (This Device)"]}),re&&m.jsxs("span",{style:{fontSize:"10px",color:H?"#00c896":"#ffaa00"},children:[" ",H?"REMEMBERED":"SESSION"]})]}),N.Security&&m.jsxs("div",{className:"settings-category-content",children:[m.jsx("div",{className:"settings-info",style:{fontSize:"11px",color:"#8a959e",marginBottom:"10px",padding:"8px",background:"rgba(0, 243, 255, 0.06)",borderRadius:"4px"},children:"Used to authorize protected actions (Settings tests, Updates) when accessing the server from another device."}),m.jsxs("div",{className:"settings-field",children:[m.jsxs("label",{className:"settings-label",children:["App PIN",m.jsx("button",{className:"settings-show-btn",onClick:()=>Ne(j=>!j),type:"button",children:ue?" Hide":" Show"})]}),m.jsx("input",{type:ue?"text":"password",className:"settings-input",value:ce,onChange:j=>oe(j.target.value),placeholder:re?"Enter new PIN (leave blank to keep current)":"Enter PIN",autoComplete:"off"}),m.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"10px",alignItems:"center"},children:[m.jsxs("label",{style:{display:"flex",gap:"8px",alignItems:"center",fontSize:"12px",color:"#88ddff"},children:[m.jsx("input",{type:"checkbox",checked:H,onChange:j=>{const B=j.target.checked;ie(B);const fe=es();fe&&m0(fe,{remember:B})}}),"Remember PIN on this device"]}),m.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:"10px"},children:[m.jsx("button",{className:"settings-btn-small",type:"button",onClick:()=>{const j=ce.trim();j&&(m0(j,{remember:H}),X(!0),oe(""),(async()=>{try{const B=await Oa("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:{APP_PIN:j}})});if(!B.ok){const fe=await B.text();throw new Error(fe||`HTTP ${B.status}`)}v("PIN saved (server + this device)."),setTimeout(()=>v(null),3e3)}catch{v("PIN saved on this device. Server PIN update failed."),setTimeout(()=>v(null),4e3)}finally{I()}})())},style:{background:"rgba(0, 200, 150, 0.1)",borderColor:"rgba(0, 200, 150, 0.4)",color:"#00c896"},disabled:!ce.trim(),children:" Save PIN"}),m.jsx("button",{className:"settings-btn-small",type:"button",onClick:()=>{C1(),X(!1),oe(""),ie(!1),v("PIN cleared."),setTimeout(()=>v(null),3e3)},style:{background:"rgba(199, 95, 95, 0.12)",borderColor:"rgba(199, 95, 95, 0.45)",color:"#c75f5f"},disabled:!re,children:"Clear"})]})]}),m.jsx("div",{style:{marginTop:"8px",fontSize:"11px",color:"#666"},children:re?`PIN is saved (${H?"remembered":"this session"}).`:"No PIN saved."})]})]})]}),m.jsxs("div",{className:"settings-backup-section",children:[m.jsx("span",{className:"settings-backup-label",children:" Backup & Restore"}),m.jsxs("div",{className:"settings-backup-buttons",children:[m.jsx("button",{className:"settings-btn-small settings-btn-export",onClick:Pe,children:" Export Backup"}),m.jsx("button",{className:"settings-btn-small settings-btn-import",onClick:()=>F.current?.click(),children:" Import Backup"}),m.jsx("input",{ref:F,type:"file",accept:".json",style:{display:"none"},onChange:Nt})]})]}),m.jsxs("div",{className:"settings-category",children:[m.jsxs("div",{className:"settings-category-header",onClick:()=>Dt("Performance"),style:{background:"linear-gradient(135deg, rgba(255, 170, 0, 0.15), rgba(255, 100, 50, 0.1))"},children:[m.jsxs("span",{children:[N.Performance?"":""," Performance Mode"]}),window.getPerformanceMode?.()&&m.jsx("span",{style:{fontSize:"10px",color:"#10b981"},children:" ACTIVE"})]}),N.Performance&&m.jsxs("div",{className:"settings-category-content",children:[m.jsxs("div",{className:"settings-info",style:{fontSize:"11px",color:"#ffaa00",marginBottom:"12px",padding:"10px",background:"rgba(255, 170, 0, 0.1)",borderRadius:"4px",border:"1px solid rgba(255, 170, 0, 0.2)"},children:[" ",m.jsx("strong",{children:"Enable this if you experience lag or high GPU usage with many nodes."}),m.jsx("br",{}),m.jsx("br",{}),"Performance Mode disables:",m.jsxs("ul",{style:{margin:"8px 0 0 0",paddingLeft:"20px"},children:[m.jsx("li",{children:"Backdrop blur effects on nodes (biggest impact)"}),m.jsx("li",{children:"Complex glow shadows"}),m.jsx("li",{children:"Infinite pulse/glow animations"}),m.jsx("li",{children:"Transition effects on nodes"})]})]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px",background:"rgba(0, 0, 0, 0.3)",borderRadius:"6px"},children:[m.jsxs("div",{children:[m.jsx("div",{style:{color:"#e0e0e0",fontSize:"13px",fontWeight:"500"},children:"Performance Mode"}),m.jsx("div",{style:{color:"#888",fontSize:"11px",marginTop:"2px"},children:"Recommended for 40+ nodes"})]}),m.jsxs("label",{style:{position:"relative",display:"inline-block",width:"50px",height:"26px"},children:[m.jsx("input",{type:"checkbox",checked:window.getPerformanceMode?.()||!1,onChange:j=>{window.setPerformanceMode?.(j.target.checked),Z(B=>({...B}))},style:{opacity:0,width:0,height:0}}),m.jsx("span",{style:{position:"absolute",cursor:"pointer",top:0,left:0,right:0,bottom:0,background:window.getPerformanceMode?.()?"#10b981":"#444",transition:"background 0.2s",borderRadius:"26px"},children:m.jsx("span",{style:{position:"absolute",content:"",height:"20px",width:"20px",left:window.getPerformanceMode?.()?"26px":"3px",bottom:"3px",background:"#fff",transition:"left 0.2s",borderRadius:"50%"}})})]})]}),m.jsx("div",{style:{marginTop:"12px",fontSize:"10px",color:"#666",textAlign:"center"},children:"Changes apply immediately. Look for  indicator in bottom-left when active."})]})]}),m.jsxs("div",{className:"settings-category",children:[m.jsx("div",{className:"settings-category-header",onClick:()=>Dt("Discovery"),children:m.jsxs("span",{children:[N.Discovery?"":""," Network Device Discovery"]})}),N.Discovery&&m.jsx("div",{className:"settings-category-content",children:m.jsx(BC,{})})]}),m.jsxs("div",{className:"settings-category",children:[m.jsxs("div",{className:"settings-category-header",onClick:()=>Dt("Theme"),children:[m.jsxs("span",{children:[N.Theme?"":""," Node Theme Settings"]}),je&&m.jsx("span",{style:{fontSize:"10px",color:"#d4a054"},children:" unsaved"})]}),N.Theme&&m.jsxs("div",{className:"settings-category-content",children:[m.jsx("div",{className:"settings-info",style:{fontSize:"11px",color:"#8a959e",marginBottom:"12px",padding:"8px",background:"rgba(95, 179, 179, 0.1)",borderRadius:"4px"},children:" Theme settings are stored locally. Refresh the page after saving to apply changes."}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:au.map(j=>m.jsxs("div",{className:"settings-field",style:{marginBottom:"8px"},children:[m.jsx("label",{className:"settings-label",style:{fontSize:"10px"},children:j.label}),j.type==="color"?m.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[m.jsx("input",{type:"color",value:_e[j.key]||j.default,onChange:B=>he(j.key,B.target.value),style:{width:"40px",height:"30px",border:"none",borderRadius:"4px",cursor:"pointer",background:"transparent"}}),m.jsx("input",{type:"text",value:_e[j.key]||j.default,onChange:B=>he(j.key,B.target.value),className:"settings-input",style:{flex:1,fontFamily:"monospace",fontSize:"11px"}})]}):j.type==="range"?m.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[m.jsx("input",{type:"range",min:j.min,max:j.max,value:_e[j.key]||j.default,onChange:B=>he(j.key,parseInt(B.target.value)),style:{flex:1}}),m.jsxs("span",{style:{minWidth:"35px",textAlign:"right",color:"#c5cdd3",fontSize:"12px"},children:[_e[j.key]||j.default,"%"]})]}):null]},j.key))}),m.jsxs("div",{style:{marginTop:"12px",padding:"12px",background:_e.background,borderRadius:"8px",border:`1px solid rgba(95, 179, 179, ${(_e.borderOpacity||25)/100})`},children:[m.jsx("div",{style:{fontSize:"10px",color:_e.textMuted,marginBottom:"8px"},children:"PREVIEW"}),m.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",alignItems:"center"},children:[m.jsx("div",{style:{padding:"8px 12px",background:_e.surface,color:_e.text,borderRadius:"4px",fontSize:"12px"},children:"Surface"}),m.jsx("div",{style:{padding:"8px 12px",background:_e.surfaceLight,color:_e.text,borderRadius:"4px",fontSize:"12px"},children:"Elevated"}),m.jsx("span",{style:{color:_e.primary},children:"Primary"}),m.jsx("span",{style:{color:_e.success},children:"Success"}),m.jsx("span",{style:{color:_e.warning},children:"Warning"}),m.jsx("span",{style:{color:_e.error},children:"Error"})]})]}),m.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"12px",justifyContent:"flex-end"},children:[m.jsx("button",{className:"settings-btn-small",onClick:D,style:{background:"rgba(199, 95, 95, 0.15)",borderColor:"rgba(199, 95, 95, 0.5)",color:"#c75f5f"},children:"Reset to Defaults"}),m.jsx("button",{className:"settings-btn-small",onClick:q,style:{background:"rgba(95, 170, 125, 0.15)",borderColor:"rgba(95, 170, 125, 0.5)",color:"#5faa7d"},children:" Save Theme"})]})]})]}),m.jsxs("div",{className:"settings-category",children:[m.jsxs("div",{className:"settings-category-header",onClick:()=>Dt("CategoryColors"),children:[m.jsxs("span",{children:[N.CategoryColors?"":""," Category Accent Colors"]}),be&&m.jsx("span",{style:{fontSize:"10px",color:"#d4a054"},children:" unsaved"})]}),N.CategoryColors&&m.jsxs("div",{className:"settings-category-content",children:[m.jsx("div",{className:"settings-info",style:{fontSize:"11px",color:"#8a959e",marginBottom:"12px",padding:"8px",background:"rgba(95, 179, 179, 0.1)",borderRadius:"4px"},children:" Set accent (border/header) and background colors for each node category."}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:Object.entries(le).map(([j,B])=>m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 8px",background:B.background||"#0a0f14",borderRadius:"4px",border:`1px solid ${B.accent}55`},children:[m.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"2px"},children:[m.jsx("input",{type:"color",value:B.accent,onChange:fe=>W(j,"accent",fe.target.value),title:"Accent color (borders, headers)",style:{width:"24px",height:"24px",border:"none",borderRadius:"4px",cursor:"pointer",background:"transparent"}}),m.jsx("span",{style:{fontSize:"8px",color:"#666"},children:"Accent"})]}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"2px"},children:[m.jsx("input",{type:"color",value:B.background||"#0a0f14",onChange:fe=>W(j,"background",fe.target.value),title:"Background color",style:{width:"24px",height:"24px",border:"1px solid #333",borderRadius:"4px",cursor:"pointer",background:"transparent"}}),m.jsx("span",{style:{fontSize:"8px",color:"#666"},children:"BG"})]}),m.jsx("div",{style:{flex:1,minWidth:0},children:m.jsxs("div",{style:{fontSize:"11px",color:B.accent,fontWeight:"600",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[B.icon," ",j]})})]},j))}),m.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"12px",justifyContent:"flex-end"},children:[m.jsx("button",{className:"settings-btn-small",onClick:He,style:{background:"rgba(199, 95, 95, 0.15)",borderColor:"rgba(199, 95, 95, 0.5)",color:"#c75f5f"},children:"Reset to Defaults"}),m.jsx("button",{className:"settings-btn-small",onClick:Ue,style:{background:"rgba(95, 170, 125, 0.15)",borderColor:"rgba(95, 170, 125, 0.5)",color:"#5faa7d"},children:" Save Category Colors"})]})]})]}),m.jsxs("div",{className:"settings-category",children:[m.jsxs("div",{className:"settings-category-header",onClick:()=>Dt("SocketColors"),children:[m.jsxs("span",{children:[N.SocketColors?"":""," Socket Colors"]}),Oe&&m.jsx("span",{style:{fontSize:"10px",color:"#d4a054"},children:" unsaved"})]}),N.SocketColors&&m.jsxs("div",{className:"settings-category-content",children:[m.jsx("div",{className:"settings-info",style:{fontSize:"11px",color:"#8a959e",marginBottom:"12px",padding:"8px",background:"rgba(95, 130, 179, 0.1)",borderRadius:"4px"},children:" Customize socket connector colors by data type. These appear on all nodes."}),m.jsxs("div",{style:{background:"linear-gradient(145deg, #1e2428, #2a3238)",border:"1px solid rgba(95, 179, 179, 0.3)",borderRadius:"8px",padding:"12px",marginBottom:"16px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.4)"},children:[m.jsxs("div",{style:{fontSize:"11px",color:"#5fb3b3",marginBottom:"10px",fontWeight:"600",display:"flex",alignItems:"center",gap:"6px"},children:[m.jsx("span",{children:""})," Preview Node"]}),m.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:Object.entries(G).slice(0,3).map(([j,B])=>m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",background:`linear-gradient(145deg, ${B.color}, ${g0(B.color)})`,border:`2px solid ${v0(B.color)}`,boxShadow:`0 0 8px ${B.color}80`}}),m.jsx("span",{style:{fontSize:"10px",color:"#8a959e"},children:j})]},j))}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",alignItems:"flex-end"},children:Object.entries(G).slice(3).map(([j,B])=>m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx("span",{style:{fontSize:"10px",color:"#8a959e"},children:j}),m.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",background:`linear-gradient(145deg, ${B.color}, ${g0(B.color)})`,border:`2px solid ${v0(B.color)}`,boxShadow:`0 0 8px ${B.color}80`}})]},j))})]})]}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:Object.entries(G).map(([j,B])=>m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 10px",background:"#0a0f14",borderRadius:"4px",border:`1px solid ${B.color}55`},children:[m.jsx("input",{type:"color",value:B.color,onChange:fe=>We(j,fe.target.value),title:`${j} socket color`,style:{width:"28px",height:"28px",border:"none",borderRadius:"50%",cursor:"pointer",background:"transparent"}}),m.jsxs("div",{style:{flex:1,minWidth:0},children:[m.jsxs("div",{style:{fontSize:"12px",color:B.color,fontWeight:"600"},children:[B.icon," ",j]}),m.jsx("div",{style:{fontSize:"9px",color:"#666",marginTop:"2px"},children:B.description})]})]},j))}),m.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"12px",justifyContent:"flex-end"},children:[m.jsx("button",{className:"settings-btn-small",onClick:cn,style:{background:"rgba(199, 95, 95, 0.15)",borderColor:"rgba(199, 95, 95, 0.5)",color:"#c75f5f"},children:"Reset to Defaults"}),m.jsx("button",{className:"settings-btn-small",onClick:mt,style:{background:"rgba(95, 170, 125, 0.15)",borderColor:"rgba(95, 170, 125, 0.5)",color:"#5faa7d"},children:" Save Socket Colors"})]})]})]}),UC.map(j=>m.jsxs("div",{className:"settings-category",children:[m.jsxs("div",{className:"settings-category-header",onClick:()=>Dt(j.category),children:[m.jsxs("span",{children:[N[j.category]?"":"",j.icon," ",j.category]}),j.testable&&N[j.category]&&m.jsx("button",{className:`settings-test-btn ${L[j.testable]?.success?"success":L[j.testable]?.success===!1?"error":""}`,onClick:B=>{B.stopPropagation(),et(j.testable)},disabled:J[j.testable],children:J[j.testable]?" Testing...":" Test Connection"})]}),N[j.category]&&m.jsxs("div",{className:"settings-category-content",children:[L[j.testable]&&m.jsxs("div",{className:`settings-test-result ${L[j.testable].success?"success":"error"}`,children:[L[j.testable].success?"":""," ",L[j.testable].message,L[j.testable].details&&m.jsx("div",{className:"settings-test-details",children:L[j.testable].details})]}),j.category==="Location"&&m.jsxs("div",{className:"settings-location-search",children:[m.jsx("p",{style:{fontSize:"0.85rem",color:"#aaa",margin:"0 0 10px 0"},children:' Enter your city name and click "Search" to auto-fill coordinates.'}),m.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"10px"},children:[m.jsx("input",{type:"text",className:"settings-input",value:r.LOCATION_CITY||"",onChange:B=>K("LOCATION_CITY",B.target.value),placeholder:"e.g., Dallas, TX, USA",style:{flex:1},onKeyDown:B=>{B.key==="Enter"&&xe()}}),m.jsx("button",{className:"settings-test-btn",onClick:xe,disabled:Be,style:{whiteSpace:"nowrap"},children:Be?" Searching...":" Search City"})]}),Ee&&m.jsxs("div",{className:"settings-test-result error",style:{marginBottom:"10px"},children:[" ",Ee]}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[m.jsxs("div",{className:"settings-field",children:[m.jsx("label",{className:"settings-label",children:"Latitude"}),m.jsx("input",{type:"text",className:"settings-input",value:r.LOCATION_LATITUDE||"",onChange:B=>K("LOCATION_LATITUDE",B.target.value),placeholder:"32.7767"})]}),m.jsxs("div",{className:"settings-field",children:[m.jsx("label",{className:"settings-label",children:"Longitude"}),m.jsx("input",{type:"text",className:"settings-input",value:r.LOCATION_LONGITUDE||"",onChange:B=>K("LOCATION_LONGITUDE",B.target.value),placeholder:"-96.7970"})]})]}),m.jsxs("div",{className:"settings-field",style:{marginTop:"10px"},children:[m.jsx("label",{className:"settings-label",children:"Timezone"}),m.jsx("input",{type:"text",className:"settings-input",value:r.LOCATION_TIMEZONE||"",onChange:B=>K("LOCATION_TIMEZONE",B.target.value),placeholder:"America/Chicago"}),m.jsx("span",{className:"settings-key-hint",children:"Common: America/New_York, America/Chicago, America/Denver, America/Los_Angeles"})]})]}),j.category!=="Location"&&j.settings.map(B=>m.jsxs("div",{className:"settings-field",children:[m.jsxs("label",{className:"settings-label",children:[B.label,B.isSecret&&m.jsx("button",{className:"settings-show-btn",onClick:()=>It(B.key),type:"button",children:S[B.key]?" Hide":" Show"})]}),B.type==="select"?m.jsxs("select",{className:"settings-input",value:r[B.key]||"",onChange:fe=>K(B.key,fe.target.value),children:[m.jsx("option",{value:"",children:"Select..."}),B.options.map(fe=>m.jsx("option",{value:fe,children:fe},fe))]}):m.jsx("input",{type:B.isSecret&&!S[B.key]?"password":"text",className:"settings-input",value:r[B.key]||"",onChange:fe=>K(B.key,fe.target.value),placeholder:B.placeholder}),m.jsx("span",{className:"settings-key-hint",children:B.key})]},B.key))]})]},j.category))]})}),m.jsxs("div",{className:"settings-footer",children:[m.jsx("button",{className:"settings-btn settings-btn-secondary",onClick:n,children:"Cancel"}),m.jsx("button",{className:"settings-btn settings-btn-primary",onClick:ae,disabled:f||l,children:f?"Saving...":" Save Settings"})]})]})}),document.body):null}const HC=[{category:"Selection & Editing",items:[{keys:["Delete","Backspace"],action:"Delete selected nodes"},{keys:["Ctrl","C"],action:"Copy selected nodes"},{keys:["Ctrl","V"],action:"Paste nodes at cursor"},{keys:["Ctrl","Z"],action:"Undo last delete"},{keys:["Ctrl","A"],action:"Select all nodes"},{keys:["Shift","Click"],action:"Add to selection"},{keys:["Drag"],action:"Lasso select multiple nodes"}]},{category:"Navigation",items:[{keys:["Scroll"],action:"Zoom in/out"},{keys:["Middle-click","Drag"],action:"Pan canvas"},{keys:["Home"],action:"Reset viewport to origin"},{keys:["F5"],action:"Reset editor view (fix frozen pan)"},{keys:["Escape"],action:"Cancel/reset drag state"}]},{category:"Node Operations",items:[{keys:["Right-click"],action:"Open context menu"},{keys:["Right-click node"],action:"Node context menu"},{keys:["Double-click"],action:"Edit node properties (where available)"}]},{category:"Graph Management",items:[{keys:["?"],action:"Show this help dialog"}]}];function IC({isOpen:a,onClose:n}){if(E.useEffect(()=>{if(!a)return;const s=l=>{l.key==="Escape"&&n()};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[a,n]),!a)return null;const r=s=>{s.target===s.currentTarget&&n()};return Eh.createPortal(m.jsx("div",{className:"shortcuts-modal-overlay",onClick:r,children:m.jsxs("div",{className:"shortcuts-modal",children:[m.jsxs("div",{className:"shortcuts-modal-header",children:[m.jsx("h2",{children:" Keyboard Shortcuts"}),m.jsx("button",{className:"shortcuts-close-btn",onClick:n,children:" Close"})]}),m.jsx("div",{className:"shortcuts-modal-body",children:HC.map((s,l)=>m.jsxs("div",{className:"shortcuts-section",children:[m.jsx("h3",{children:s.category}),m.jsx("div",{className:"shortcuts-list",children:s.items.map((u,f)=>m.jsxs("div",{className:"shortcut-row",children:[m.jsx("div",{className:"shortcut-keys",children:u.keys.map((h,p)=>m.jsxs(ga.Fragment,{children:[m.jsx("kbd",{children:h}),p<u.keys.length-1&&m.jsx("span",{className:"key-separator",children:"+"})]},p))}),m.jsx("div",{className:"shortcut-action",children:u.action})]},f))})]},l))}),m.jsx("div",{className:"shortcuts-modal-footer",children:m.jsxs("p",{children:["Press ",m.jsx("kbd",{children:"?"})," anytime to show this dialog"]})})]})}),document.body)}function VC({isExpanded:a,onToggle:n}){const[r,s]=E.useState([]),[l,u]=E.useState([]),[f,h]=E.useState(!0),[p,y]=E.useState(!1),[b,v]=E.useState(null),[S,k]=E.useState(!1),[N,Z]=E.useState(null),[L,Q]=E.useState(null),[J,V]=E.useState({username:"",password:"",name:""}),[F,ce]=E.useState({username:"",password:""}),[oe,H]=E.useState(""),[ie,re]=E.useState(5e3),[X,ue]=E.useState(null),Ne=E.useRef(null),[_e,Ge]=E.useState({});E.useEffect(()=>(je(),()=>{Ne.current&&clearInterval(Ne.current)}),[]),E.useEffect(()=>(Ne.current&&clearInterval(Ne.current),a&&r.length>0&&ie>0&&(Ne.current=setInterval(()=>{Ge(_=>{const G={..._};return r.forEach(pe=>{G[pe.ip]=Date.now()}),G})},ie)),()=>{Ne.current&&clearInterval(Ne.current)}),[a,r,ie]);const je=async()=>{try{h(!0);const _=await Qi("/api/cameras");if(_.ok){const G=await _.json();s(G.cameras||[]),G.defaultCredentials&&ce(pe=>({...pe,username:G.defaultCredentials.username||""}))}}catch{v("Failed to load cameras")}finally{h(!1)}},C=async()=>{y(!0),v(null);try{const _=await Qi("/api/cameras/discover",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});if(_.ok){const G=await _.json();if(G.found&&G.found.length>0){const pe=r.map(Ve=>Ve.ip),Oe=G.found.filter(Ve=>!pe.includes(Ve.ip));u(Oe),window.T2Toast&&(Oe.length>0?window.T2Toast.success(`Found ${Oe.length} new camera(s)! Click to configure.`):window.T2Toast.info(`Found ${G.found.length} cameras, all already configured.`))}else u([]),window.T2Toast&&window.T2Toast.info("No cameras found on network")}}catch{v("Discovery failed")}finally{y(!1)}},U=async()=>{try{await Qi("/api/cameras/credentials",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)}),window.T2Toast&&window.T2Toast.success("Credentials saved")}catch{v("Failed to save credentials")}},le=async(_,G,pe)=>{try{await Qi("/api/cameras",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ip:_,name:G||`Camera ${_.split(".").pop()}`,username:pe?.username||F.username,password:pe?.password||F.password})}),u(Oe=>Oe.filter(Ve=>Ve.ip!==_)),Z(null),H(""),await je(),window.T2Toast&&window.T2Toast.success(`Camera ${_} added!`)}catch{v("Failed to add camera")}},ye=async _=>{try{await fetch(`/api/cameras/${_}`,{method:"DELETE"}),await je(),X===_&&ue(null)}catch{v("Failed to remove camera")}},be=async()=>{if(L)try{await Qi("/api/cameras",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ip:L,name:J.name,username:J.username,password:J.password})}),Q(null),Ge(_=>({..._,[L]:Date.now()})),await je(),window.T2Toast&&window.T2Toast.success(`Camera ${L} updated!`)}catch{v("Failed to update camera")}},x={container:{background:"linear-gradient(180deg, rgba(12, 20, 35, 0.95) 0%, rgba(8, 15, 28, 0.98) 100%)",borderRadius:"12px",border:"1px solid rgba(0, 200, 255, 0.2)",overflow:"hidden",marginBottom:"8px"},header:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 14px",background:"linear-gradient(90deg, rgba(0, 150, 200, 0.15), transparent)",borderBottom:"1px solid rgba(0, 200, 255, 0.1)",cursor:"pointer"},title:{display:"flex",alignItems:"center",gap:"8px",color:"#00d4ff",fontSize:"14px",fontWeight:600},icon:{fontSize:"16px"},badge:{background:"rgba(0, 200, 255, 0.2)",color:"#00d4ff",padding:"2px 8px",borderRadius:"10px",fontSize:"11px"},content:{padding:a?"12px":"0",maxHeight:a?"400px":"0",overflow:"auto",transition:"all 0.3s ease"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"10px"},cameraCard:{background:"rgba(0, 0, 0, 0.3)",borderRadius:"8px",overflow:"hidden",border:"1px solid rgba(0, 200, 255, 0.15)",cursor:"pointer",transition:"all 0.2s ease"},cameraCardSelected:{border:"2px solid #00d4ff",boxShadow:"0 0 10px rgba(0, 200, 255, 0.3)"},cameraImage:{width:"100%",height:"100px",objectFit:"cover",background:"#111"},cameraInfo:{padding:"6px 8px",display:"flex",justifyContent:"space-between",alignItems:"center"},cameraName:{color:"#b8e6ea",fontSize:"11px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},deleteBtn:{background:"rgba(255, 80, 80, 0.2)",border:"none",color:"#ff6b6b",padding:"2px 6px",borderRadius:"4px",cursor:"pointer",fontSize:"10px"},toolbar:{display:"flex",gap:"8px",marginBottom:"10px",flexWrap:"wrap"},btn:{background:"rgba(0, 200, 255, 0.15)",border:"1px solid rgba(0, 200, 255, 0.3)",color:"#00d4ff",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",fontSize:"12px",display:"flex",alignItems:"center",gap:"4px"},btnActive:{background:"rgba(0, 200, 255, 0.3)"},settings:{background:"rgba(0, 0, 0, 0.2)",borderRadius:"8px",padding:"12px",marginBottom:"10px"},inputGroup:{marginBottom:"8px"},label:{color:"#8899aa",fontSize:"11px",marginBottom:"4px",display:"block"},input:{width:"100%",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 200, 255, 0.2)",borderRadius:"4px",padding:"6px 10px",color:"#fff",fontSize:"12px",boxSizing:"border-box"},fullView:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.9)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:1e4},fullImage:{maxWidth:"90vw",maxHeight:"80vh",objectFit:"contain"},closeBtn:{position:"absolute",top:"20px",right:"20px",background:"rgba(255, 255, 255, 0.1)",border:"none",color:"#fff",padding:"10px 20px",borderRadius:"8px",cursor:"pointer",fontSize:"14px"},emptyState:{textAlign:"center",padding:"20px",color:"#667788"},refreshSelect:{background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 200, 255, 0.2)",borderRadius:"4px",padding:"6px",color:"#fff",fontSize:"11px"}},R=_=>{const G=_e[_]||Date.now();return`/api/cameras/snapshot/${_}?t=${G}`};return m.jsxs("div",{style:x.container,children:[m.jsxs("div",{style:x.header,onClick:n,children:[m.jsxs("div",{style:x.title,children:[m.jsx("span",{style:x.icon,children:""}),m.jsx("span",{children:"Cameras"}),r.length>0&&m.jsx("span",{style:x.badge,children:r.length})]}),m.jsx("span",{style:{color:"#00d4ff"},children:a?"":""})]}),a&&m.jsxs("div",{style:x.content,children:[m.jsxs("div",{style:x.toolbar,children:[m.jsx("button",{style:{...x.btn,...p?x.btnActive:{}},onClick:C,disabled:p,children:p?" Scanning...":" Discover"}),m.jsx("button",{style:{...x.btn,...S?x.btnActive:{}},onClick:()=>k(!S),children:" Settings"}),m.jsxs("select",{style:x.refreshSelect,value:ie,onChange:_=>re(Number(_.target.value)),title:"Refresh interval",children:[m.jsx("option",{value:0,children:"Manual"}),m.jsx("option",{value:2e3,children:"2s"}),m.jsx("option",{value:5e3,children:"5s"}),m.jsx("option",{value:1e4,children:"10s"}),m.jsx("option",{value:3e4,children:"30s"})]})]}),S&&m.jsxs("div",{style:x.settings,children:[m.jsxs("div",{style:x.inputGroup,children:[m.jsx("label",{style:x.label,children:"Select Camera to Configure"}),m.jsxs("select",{style:{...x.input,cursor:"pointer"},value:L||"",onChange:_=>{const G=_.target.value;if(!G){Q(null),V({username:"",password:"",name:""});return}const pe=r.find(Oe=>Oe.ip===G);pe?(Q(G),V({name:pe.name||"",username:pe.username||"",password:""})):(Q(G),V({name:`Camera ${G.split(".").pop()}`,username:F.username||"",password:F.password||""}))},children:[m.jsx("option",{value:"",children:"-- Select a camera --"}),r.length>0&&m.jsx("optgroup",{label:" Configured Cameras",children:r.map(_=>m.jsxs("option",{value:_.ip,children:[_.name," (",_.ip,")"]},_.ip))}),l.length>0&&m.jsx("optgroup",{label:" Discovered (Not Configured)",children:l.map(_=>m.jsxs("option",{value:_.ip,children:[_.ip," (Ports: ",_.ports.join(", "),")"]},_.ip))})]})]}),L&&m.jsxs("div",{style:{background:"rgba(0, 0, 0, 0.2)",borderRadius:"6px",padding:"10px",marginTop:"8px"},children:[m.jsxs("div",{style:x.inputGroup,children:[m.jsx("label",{style:x.label,children:"Camera Name"}),m.jsx("input",{type:"text",style:x.input,value:J.name,onChange:_=>V(G=>({...G,name:_.target.value})),placeholder:"Front Door"})]}),m.jsxs("div",{style:x.inputGroup,children:[m.jsx("label",{style:x.label,children:"Username"}),m.jsx("input",{type:"text",style:x.input,value:J.username,onChange:_=>V(G=>({...G,username:_.target.value})),placeholder:"admin"})]}),m.jsxs("div",{style:x.inputGroup,children:[m.jsxs("label",{style:x.label,children:["Password ",r.find(_=>_.ip===L)?"(leave blank to keep current)":""]}),m.jsx("input",{type:"password",style:x.input,value:J.password,onChange:_=>V(G=>({...G,password:_.target.value})),placeholder:""})]}),m.jsx("div",{style:{display:"flex",gap:"8px",marginTop:"8px"},children:m.jsx("button",{style:{...x.btn,flex:1,justifyContent:"center"},onClick:()=>{!r.find(G=>G.ip===L)?le(L,J.name,J):be()},children:r.find(_=>_.ip===L)?" Save Changes":" Add Camera"})})]}),m.jsxs("div",{style:{borderTop:"1px solid rgba(0, 200, 255, 0.15)",marginTop:"12px",paddingTop:"12px"},children:[m.jsx("div",{style:{color:"#8899aa",fontSize:"11px",marginBottom:"8px"},children:"Default credentials (used for new cameras)"}),m.jsxs("div",{style:{display:"flex",gap:"8px"},children:[m.jsx("input",{type:"text",style:{...x.input,flex:1},value:F.username,onChange:_=>ce(G=>({...G,username:_.target.value})),placeholder:"Username"}),m.jsx("input",{type:"password",style:{...x.input,flex:1},value:F.password,onChange:_=>ce(G=>({...G,password:_.target.value})),placeholder:"Password"}),m.jsx("button",{style:x.btn,onClick:U,title:"Save as default",children:""})]})]}),m.jsxs("div",{style:{borderTop:"1px solid rgba(0, 200, 255, 0.15)",marginTop:"12px",paddingTop:"12px"},children:[m.jsx("div",{style:{color:"#8899aa",fontSize:"11px",marginBottom:"8px"},children:"Add camera by IP (if not discovered)"}),m.jsxs("div",{style:{display:"flex",gap:"8px"},children:[m.jsx("input",{type:"text",id:"addCameraIp",style:{...x.input,flex:1},placeholder:"192.168.1.100",onKeyDown:_=>{if(_.key==="Enter"&&_.target.value){const G=_.target.value;!l.find(pe=>pe.ip===G)&&!r.find(pe=>pe.ip===G)&&u(pe=>[...pe,{ip:G,ports:["manual"]}]),Q(G),V({name:`Camera ${G.split(".").pop()}`,username:F.username||"",password:F.password||""}),_.target.value=""}}}),m.jsx("button",{style:x.btn,onClick:()=>{const _=document.getElementById("addCameraIp"),G=_?.value;G&&(!l.find(pe=>pe.ip===G)&&!r.find(pe=>pe.ip===G)&&u(pe=>[...pe,{ip:G,ports:["manual"]}]),Q(G),V({name:`Camera ${G.split(".").pop()}`,username:F.username||"",password:F.password||""}),_.value="")},children:"Configure"})]})]})]}),b&&m.jsxs("div",{style:{color:"#ff6b6b",padding:"8px",fontSize:"12px"},children:[" ",b]}),f?m.jsx("div",{style:x.emptyState,children:"Loading cameras..."}):r.length===0&&l.length===0?m.jsxs("div",{style:x.emptyState,children:[m.jsx("p",{children:"No cameras configured"}),m.jsx("p",{style:{fontSize:"11px"},children:"Click Discover to scan your network"})]}):m.jsx("div",{style:x.grid,children:r.map(_=>m.jsxs("div",{style:{...x.cameraCard,...X===_.ip?x.cameraCardSelected:{}},onClick:()=>ue(_.ip),children:[m.jsx("img",{src:R(_.ip),alt:_.name,style:x.cameraImage,onError:G=>{G.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect fill="%23222" width="100" height="100"/><text x="50" y="55" text-anchor="middle" fill="%23666" font-size="12">No Signal</text></svg>'}}),m.jsxs("div",{style:x.cameraInfo,children:[m.jsx("span",{style:x.cameraName,title:_.ip,children:_.name}),m.jsxs("div",{style:{display:"flex",gap:"4px"},children:[m.jsx("button",{style:{...x.deleteBtn,background:"rgba(0, 150, 255, 0.2)",color:"#00aaff"},onClick:G=>{G.stopPropagation(),k(!0),Q(_.ip),V({name:_.name||"",username:_.username||"",password:""})},title:"Edit credentials",children:""}),m.jsx("button",{style:x.deleteBtn,onClick:G=>{G.stopPropagation(),ye(_.ip)},title:"Remove camera",children:""})]})]})]},_.ip))})]}),X&&m.jsxs("div",{style:x.fullView,onClick:()=>ue(null),children:[m.jsx("img",{src:R(X),alt:"Camera feed",style:x.fullImage}),m.jsx("button",{style:x.closeBtn,onClick:()=>ue(null),children:" Close"}),m.jsx("div",{style:{color:"#fff",marginTop:"10px"},children:r.find(_=>_.ip===X)?.name||X})]})]})}const ja=Object.create(null);ja.open="0";ja.close="1";ja.ping="2";ja.pong="3";ja.message="4";ja.upgrade="5";ja.noop="6";const mu=Object.create(null);Object.keys(ja).forEach(a=>{mu[ja[a]]=a});const ah={type:"error",data:"parser error"},T1=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",O1=typeof ArrayBuffer=="function",N1=a=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(a):a&&a.buffer instanceof ArrayBuffer,Hh=({type:a,data:n},r,s)=>T1&&n instanceof Blob?r?s(n):b0(n,s):O1&&(n instanceof ArrayBuffer||N1(n))?r?s(n):b0(new Blob([n]),s):s(ja[a]+(n||"")),b0=(a,n)=>{const r=new FileReader;return r.onload=function(){const s=r.result.split(",")[1];n("b"+(s||""))},r.readAsDataURL(a)};function w0(a){return a instanceof Uint8Array?a:a instanceof ArrayBuffer?new Uint8Array(a):new Uint8Array(a.buffer,a.byteOffset,a.byteLength)}let Td;function qC(a,n){if(T1&&a.data instanceof Blob)return a.data.arrayBuffer().then(w0).then(n);if(O1&&(a.data instanceof ArrayBuffer||N1(a.data)))return n(w0(a.data));Hh(a,!1,r=>{Td||(Td=new TextEncoder),n(Td.encode(r))})}const S0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",mo=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let a=0;a<S0.length;a++)mo[S0.charCodeAt(a)]=a;const YC=a=>{let n=a.length*.75,r=a.length,s,l=0,u,f,h,p;a[a.length-1]==="="&&(n--,a[a.length-2]==="="&&n--);const y=new ArrayBuffer(n),b=new Uint8Array(y);for(s=0;s<r;s+=4)u=mo[a.charCodeAt(s)],f=mo[a.charCodeAt(s+1)],h=mo[a.charCodeAt(s+2)],p=mo[a.charCodeAt(s+3)],b[l++]=u<<2|f>>4,b[l++]=(f&15)<<4|h>>2,b[l++]=(h&3)<<6|p&63;return y},GC=typeof ArrayBuffer=="function",Ih=(a,n)=>{if(typeof a!="string")return{type:"message",data:j1(a,n)};const r=a.charAt(0);return r==="b"?{type:"message",data:ZC(a.substring(1),n)}:mu[r]?a.length>1?{type:mu[r],data:a.substring(1)}:{type:mu[r]}:ah},ZC=(a,n)=>{if(GC){const r=YC(a);return j1(r,n)}else return{base64:!0,data:a}},j1=(a,n)=>{switch(n){case"blob":return a instanceof Blob?a:new Blob([a]);case"arraybuffer":default:return a instanceof ArrayBuffer?a:a.buffer}},A1="",PC=(a,n)=>{const r=a.length,s=new Array(r);let l=0;a.forEach((u,f)=>{Hh(u,!1,h=>{s[f]=h,++l===r&&n(s.join(A1))})})},FC=(a,n)=>{const r=a.split(A1),s=[];for(let l=0;l<r.length;l++){const u=Ih(r[l],n);if(s.push(u),u.type==="error")break}return s};function XC(){return new TransformStream({transform(a,n){qC(a,r=>{const s=r.length;let l;if(s<126)l=new Uint8Array(1),new DataView(l.buffer).setUint8(0,s);else if(s<65536){l=new Uint8Array(3);const u=new DataView(l.buffer);u.setUint8(0,126),u.setUint16(1,s)}else{l=new Uint8Array(9);const u=new DataView(l.buffer);u.setUint8(0,127),u.setBigUint64(1,BigInt(s))}a.data&&typeof a.data!="string"&&(l[0]|=128),n.enqueue(l),n.enqueue(r)})}})}let Od;function ru(a){return a.reduce((n,r)=>n+r.length,0)}function iu(a,n){if(a[0].length===n)return a.shift();const r=new Uint8Array(n);let s=0;for(let l=0;l<n;l++)r[l]=a[0][s++],s===a[0].length&&(a.shift(),s=0);return a.length&&s<a[0].length&&(a[0]=a[0].slice(s)),r}function KC(a,n){Od||(Od=new TextDecoder);const r=[];let s=0,l=-1,u=!1;return new TransformStream({transform(f,h){for(r.push(f);;){if(s===0){if(ru(r)<1)break;const p=iu(r,1);u=(p[0]&128)===128,l=p[0]&127,l<126?s=3:l===126?s=1:s=2}else if(s===1){if(ru(r)<2)break;const p=iu(r,2);l=new DataView(p.buffer,p.byteOffset,p.length).getUint16(0),s=3}else if(s===2){if(ru(r)<8)break;const p=iu(r,8),y=new DataView(p.buffer,p.byteOffset,p.length),b=y.getUint32(0);if(b>Math.pow(2,21)-1){h.enqueue(ah);break}l=b*Math.pow(2,32)+y.getUint32(4),s=3}else{if(ru(r)<l)break;const p=iu(r,l);h.enqueue(Ih(u?p:Od.decode(p),n)),s=0}if(l===0||l>a){h.enqueue(ah);break}}}})}const _1=4;function sn(a){if(a)return QC(a)}function QC(a){for(var n in sn.prototype)a[n]=sn.prototype[n];return a}sn.prototype.on=sn.prototype.addEventListener=function(a,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+a]=this._callbacks["$"+a]||[]).push(n),this};sn.prototype.once=function(a,n){function r(){this.off(a,r),n.apply(this,arguments)}return r.fn=n,this.on(a,r),this};sn.prototype.off=sn.prototype.removeListener=sn.prototype.removeAllListeners=sn.prototype.removeEventListener=function(a,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+a];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+a],this;for(var s,l=0;l<r.length;l++)if(s=r[l],s===n||s.fn===n){r.splice(l,1);break}return r.length===0&&delete this._callbacks["$"+a],this};sn.prototype.emit=function(a){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),r=this._callbacks["$"+a],s=1;s<arguments.length;s++)n[s-1]=arguments[s];if(r){r=r.slice(0);for(var s=0,l=r.length;s<l;++s)r[s].apply(this,n)}return this};sn.prototype.emitReserved=sn.prototype.emit;sn.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks["$"+a]||[]};sn.prototype.hasListeners=function(a){return!!this.listeners(a).length};const $u=typeof Promise=="function"&&typeof Promise.resolve=="function"?n=>Promise.resolve().then(n):(n,r)=>r(n,0),ia=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),JC="arraybuffer";function D1(a,...n){return n.reduce((r,s)=>(a.hasOwnProperty(s)&&(r[s]=a[s]),r),{})}const WC=ia.setTimeout,eT=ia.clearTimeout;function Hu(a,n){n.useNativeTimers?(a.setTimeoutFn=WC.bind(ia),a.clearTimeoutFn=eT.bind(ia)):(a.setTimeoutFn=ia.setTimeout.bind(ia),a.clearTimeoutFn=ia.clearTimeout.bind(ia))}const tT=1.33;function nT(a){return typeof a=="string"?aT(a):Math.ceil((a.byteLength||a.size)*tT)}function aT(a){let n=0,r=0;for(let s=0,l=a.length;s<l;s++)n=a.charCodeAt(s),n<128?r+=1:n<2048?r+=2:n<55296||n>=57344?r+=3:(s++,r+=4);return r}function M1(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function rT(a){let n="";for(let r in a)a.hasOwnProperty(r)&&(n.length&&(n+="&"),n+=encodeURIComponent(r)+"="+encodeURIComponent(a[r]));return n}function iT(a){let n={},r=a.split("&");for(let s=0,l=r.length;s<l;s++){let u=r[s].split("=");n[decodeURIComponent(u[0])]=decodeURIComponent(u[1])}return n}class sT extends Error{constructor(n,r,s){super(n),this.description=r,this.context=s,this.type="TransportError"}}class Vh extends sn{constructor(n){super(),this.writable=!1,Hu(this,n),this.opts=n,this.query=n.query,this.socket=n.socket,this.supportsBinary=!n.forceBase64}onError(n,r,s){return super.emitReserved("error",new sT(n,r,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(n){this.readyState==="open"&&this.write(n)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(n){const r=Ih(n,this.socket.binaryType);this.onPacket(r)}onPacket(n){super.emitReserved("packet",n)}onClose(n){this.readyState="closed",super.emitReserved("close",n)}pause(n){}createUri(n,r={}){return n+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const n=this.opts.hostname;return n.indexOf(":")===-1?n:"["+n+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(n){const r=rT(n);return r.length?"?"+r:""}}class oT extends Vh{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(n){this.readyState="pausing";const r=()=>{this.readyState="paused",n()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||r()})),this.writable||(s++,this.once("drain",function(){--s||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(n){const r=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};FC(n,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const n=()=>{this.write([{type:"close"}])};this.readyState==="open"?n():this.once("open",n)}write(n){this.writable=!1,PC(n,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const n=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=M1()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(n,r)}}let R1=!1;try{R1=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const lT=R1;function uT(){}class cT extends oT{constructor(n){if(super(n),typeof location<"u"){const r=location.protocol==="https:";let s=location.port;s||(s=r?"443":"80"),this.xd=typeof location<"u"&&n.hostname!==location.hostname||s!==n.port}}doWrite(n,r){const s=this.request({method:"POST",data:n});s.on("success",r),s.on("error",(l,u)=>{this.onError("xhr post error",l,u)})}doPoll(){const n=this.request();n.on("data",this.onData.bind(this)),n.on("error",(r,s)=>{this.onError("xhr poll error",r,s)}),this.pollXhr=n}}class Na extends sn{constructor(n,r,s){super(),this.createRequest=n,Hu(this,s),this._opts=s,this._method=s.method||"GET",this._uri=r,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var n;const r=D1(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(r);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let l in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(l)&&s.setRequestHeader(l,this._opts.extraHeaders[l])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(n=this._opts.cookieJar)===null||n===void 0||n.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var l;s.readyState===3&&((l=this._opts.cookieJar)===null||l===void 0||l.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(l){this.setTimeoutFn(()=>{this._onError(l)},0);return}typeof document<"u"&&(this._index=Na.requestsCount++,Na.requests[this._index]=this)}_onError(n){this.emitReserved("error",n,this._xhr),this._cleanup(!0)}_cleanup(n){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=uT,n)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Na.requests[this._index],this._xhr=null}}_onLoad(){const n=this._xhr.responseText;n!==null&&(this.emitReserved("data",n),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Na.requestsCount=0;Na.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",x0);else if(typeof addEventListener=="function"){const a="onpagehide"in ia?"pagehide":"unload";addEventListener(a,x0,!1)}}function x0(){for(let a in Na.requests)Na.requests.hasOwnProperty(a)&&Na.requests[a].abort()}const fT=(function(){const a=z1({xdomain:!1});return a&&a.responseType!==null})();class dT extends cT{constructor(n){super(n);const r=n&&n.forceBase64;this.supportsBinary=fT&&!r}request(n={}){return Object.assign(n,{xd:this.xd},this.opts),new Na(z1,this.uri(),n)}}function z1(a){const n=a.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!n||lT))return new XMLHttpRequest}catch{}if(!n)try{return new ia[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const L1=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class hT extends Vh{get name(){return"websocket"}doOpen(){const n=this.uri(),r=this.opts.protocols,s=L1?{}:D1(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(n,r,s)}catch(l){return this.emitReserved("error",l)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n}),this.ws.onmessage=n=>this.onData(n.data),this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=!1;for(let r=0;r<n.length;r++){const s=n[r],l=r===n.length-1;Hh(s,this.supportsBinary,u=>{try{this.doWrite(s,u)}catch{}l&&$u(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const n=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=M1()),this.supportsBinary||(r.b64=1),this.createUri(n,r)}}const Nd=ia.WebSocket||ia.MozWebSocket;class pT extends hT{createSocket(n,r,s){return L1?new Nd(n,r,s):r?new Nd(n,r):new Nd(n)}doWrite(n,r){this.ws.send(r)}}class mT extends Vh{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(n){return this.emitReserved("error",n)}this._transport.closed.then(()=>{this.onClose()}).catch(n=>{this.onError("webtransport error",n)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(n=>{const r=KC(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=n.readable.pipeThrough(r).getReader(),l=XC();l.readable.pipeTo(n.writable),this._writer=l.writable.getWriter();const u=()=>{s.read().then(({done:h,value:p})=>{h||(this.onPacket(p),u())}).catch(h=>{})};u();const f={type:"open"};this.query.sid&&(f.data=`{"sid":"${this.query.sid}"}`),this._writer.write(f).then(()=>this.onOpen())})})}write(n){this.writable=!1;for(let r=0;r<n.length;r++){const s=n[r],l=r===n.length-1;this._writer.write(s).then(()=>{l&&$u(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var n;(n=this._transport)===null||n===void 0||n.close()}}const yT={websocket:pT,webtransport:mT,polling:dT},gT=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,vT=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function rh(a){if(a.length>8e3)throw"URI too long";const n=a,r=a.indexOf("["),s=a.indexOf("]");r!=-1&&s!=-1&&(a=a.substring(0,r)+a.substring(r,s).replace(/:/g,";")+a.substring(s,a.length));let l=gT.exec(a||""),u={},f=14;for(;f--;)u[vT[f]]=l[f]||"";return r!=-1&&s!=-1&&(u.source=n,u.host=u.host.substring(1,u.host.length-1).replace(/;/g,":"),u.authority=u.authority.replace("[","").replace("]","").replace(/;/g,":"),u.ipv6uri=!0),u.pathNames=bT(u,u.path),u.queryKey=wT(u,u.query),u}function bT(a,n){const r=/\/{2,9}/g,s=n.replace(r,"/").split("/");return(n.slice(0,1)=="/"||n.length===0)&&s.splice(0,1),n.slice(-1)=="/"&&s.splice(s.length-1,1),s}function wT(a,n){const r={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,l,u){l&&(r[l]=u)}),r}const ih=typeof addEventListener=="function"&&typeof removeEventListener=="function",yu=[];ih&&addEventListener("offline",()=>{yu.forEach(a=>a())},!1);class Rr extends sn{constructor(n,r){if(super(),this.binaryType=JC,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,n&&typeof n=="object"&&(r=n,n=null),n){const s=rh(n);r.hostname=s.host,r.secure=s.protocol==="https"||s.protocol==="wss",r.port=s.port,s.query&&(r.query=s.query)}else r.host&&(r.hostname=rh(r.host).host);Hu(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(s=>{const l=s.prototype.name;this.transports.push(l),this._transportsByName[l]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=iT(this.opts.query)),ih&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},yu.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(n){const r=Object.assign({},this.opts.query);r.EIO=_1,r.transport=n,this.id&&(r.sid=this.id);const s=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[n]);return new this._transportsByName[n](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const n=this.opts.rememberUpgrade&&Rr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(n);r.open(),this.setTransport(r)}setTransport(n){this.transport&&this.transport.removeAllListeners(),this.transport=n,n.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Rr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",n),this.emitReserved("heartbeat"),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=n.data,this._onError(r);break;case"message":this.emitReserved("data",n.data),this.emitReserved("message",n.data);break}}onHandshake(n){this.emitReserved("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this._pingInterval=n.pingInterval,this._pingTimeout=n.pingTimeout,this._maxPayload=n.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const n=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+n,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},n),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const n=this._getWritablePackets();this.transport.send(n),this._prevBufferLen=n.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let s=0;s<this.writeBuffer.length;s++){const l=this.writeBuffer[s].data;if(l&&(r+=nT(l)),s>0&&r>this._maxPayload)return this.writeBuffer.slice(0,s);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const n=Date.now()>this._pingTimeoutTime;return n&&(this._pingTimeoutTime=0,$u(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),n}write(n,r,s){return this._sendPacket("message",n,r,s),this}send(n,r,s){return this._sendPacket("message",n,r,s),this}_sendPacket(n,r,s,l){if(typeof r=="function"&&(l=r,r=void 0),typeof s=="function"&&(l=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const u={type:n,data:r,options:s};this.emitReserved("packetCreate",u),this.writeBuffer.push(u),l&&this.once("flush",l),this.flush()}close(){const n=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),n()},s=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():n()}):this.upgrading?s():n()),this}_onError(n){if(Rr.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",n),this._onClose("transport error",n)}_onClose(n,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),ih&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=yu.indexOf(this._offlineEventListener);s!==-1&&yu.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",n,r),this.writeBuffer=[],this._prevBufferLen=0}}}Rr.protocol=_1;class ST extends Rr{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let n=0;n<this._upgrades.length;n++)this._probe(this._upgrades[n])}_probe(n){let r=this.createTransport(n),s=!1;Rr.priorWebsocketSuccess=!1;const l=()=>{s||(r.send([{type:"ping",data:"probe"}]),r.once("packet",v=>{if(!s)if(v.type==="pong"&&v.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Rr.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(b(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const S=new Error("probe error");S.transport=r.name,this.emitReserved("upgradeError",S)}}))};function u(){s||(s=!0,b(),r.close(),r=null)}const f=v=>{const S=new Error("probe error: "+v);S.transport=r.name,u(),this.emitReserved("upgradeError",S)};function h(){f("transport closed")}function p(){f("socket closed")}function y(v){r&&v.name!==r.name&&u()}const b=()=>{r.removeListener("open",l),r.removeListener("error",f),r.removeListener("close",h),this.off("close",p),this.off("upgrading",y)};r.once("open",l),r.once("error",f),r.once("close",h),this.once("close",p),this.once("upgrading",y),this._upgrades.indexOf("webtransport")!==-1&&n!=="webtransport"?this.setTimeoutFn(()=>{s||r.open()},200):r.open()}onHandshake(n){this._upgrades=this._filterUpgrades(n.upgrades),super.onHandshake(n)}_filterUpgrades(n){const r=[];for(let s=0;s<n.length;s++)~this.transports.indexOf(n[s])&&r.push(n[s]);return r}}let xT=class extends ST{constructor(n,r={}){const s=typeof n=="object"?n:r;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(l=>yT[l]).filter(l=>!!l)),super(n,s)}};function ET(a,n="",r){let s=a;r=r||typeof location<"u"&&location,a==null&&(a=r.protocol+"//"+r.host),typeof a=="string"&&(a.charAt(0)==="/"&&(a.charAt(1)==="/"?a=r.protocol+a:a=r.host+a),/^(https?|wss?):\/\//.test(a)||(typeof r<"u"?a=r.protocol+"//"+a:a="https://"+a),s=rh(a)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const u=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+u+":"+s.port+n,s.href=s.protocol+"://"+u+(r&&r.port===s.port?"":":"+s.port),s}const kT=typeof ArrayBuffer=="function",CT=a=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(a):a.buffer instanceof ArrayBuffer,B1=Object.prototype.toString,TT=typeof Blob=="function"||typeof Blob<"u"&&B1.call(Blob)==="[object BlobConstructor]",OT=typeof File=="function"||typeof File<"u"&&B1.call(File)==="[object FileConstructor]";function qh(a){return kT&&(a instanceof ArrayBuffer||CT(a))||TT&&a instanceof Blob||OT&&a instanceof File}function gu(a,n){if(!a||typeof a!="object")return!1;if(Array.isArray(a)){for(let r=0,s=a.length;r<s;r++)if(gu(a[r]))return!0;return!1}if(qh(a))return!0;if(a.toJSON&&typeof a.toJSON=="function"&&arguments.length===1)return gu(a.toJSON(),!0);for(const r in a)if(Object.prototype.hasOwnProperty.call(a,r)&&gu(a[r]))return!0;return!1}function NT(a){const n=[],r=a.data,s=a;return s.data=sh(r,n),s.attachments=n.length,{packet:s,buffers:n}}function sh(a,n){if(!a)return a;if(qh(a)){const r={_placeholder:!0,num:n.length};return n.push(a),r}else if(Array.isArray(a)){const r=new Array(a.length);for(let s=0;s<a.length;s++)r[s]=sh(a[s],n);return r}else if(typeof a=="object"&&!(a instanceof Date)){const r={};for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=sh(a[s],n));return r}return a}function jT(a,n){return a.data=oh(a.data,n),delete a.attachments,a}function oh(a,n){if(!a)return a;if(a&&a._placeholder===!0){if(typeof a.num=="number"&&a.num>=0&&a.num<n.length)return n[a.num];throw new Error("illegal attachments")}else if(Array.isArray(a))for(let r=0;r<a.length;r++)a[r]=oh(a[r],n);else if(typeof a=="object")for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&(a[r]=oh(a[r],n));return a}const AT=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],_T=5;var ht;(function(a){a[a.CONNECT=0]="CONNECT",a[a.DISCONNECT=1]="DISCONNECT",a[a.EVENT=2]="EVENT",a[a.ACK=3]="ACK",a[a.CONNECT_ERROR=4]="CONNECT_ERROR",a[a.BINARY_EVENT=5]="BINARY_EVENT",a[a.BINARY_ACK=6]="BINARY_ACK"})(ht||(ht={}));class DT{constructor(n){this.replacer=n}encode(n){return(n.type===ht.EVENT||n.type===ht.ACK)&&gu(n)?this.encodeAsBinary({type:n.type===ht.EVENT?ht.BINARY_EVENT:ht.BINARY_ACK,nsp:n.nsp,data:n.data,id:n.id}):[this.encodeAsString(n)]}encodeAsString(n){let r=""+n.type;return(n.type===ht.BINARY_EVENT||n.type===ht.BINARY_ACK)&&(r+=n.attachments+"-"),n.nsp&&n.nsp!=="/"&&(r+=n.nsp+","),n.id!=null&&(r+=n.id),n.data!=null&&(r+=JSON.stringify(n.data,this.replacer)),r}encodeAsBinary(n){const r=NT(n),s=this.encodeAsString(r.packet),l=r.buffers;return l.unshift(s),l}}function E0(a){return Object.prototype.toString.call(a)==="[object Object]"}class Yh extends sn{constructor(n){super(),this.reviver=n}add(n){let r;if(typeof n=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(n);const s=r.type===ht.BINARY_EVENT;s||r.type===ht.BINARY_ACK?(r.type=s?ht.EVENT:ht.ACK,this.reconstructor=new MT(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(qh(n)||n.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(n),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+n)}decodeString(n){let r=0;const s={type:Number(n.charAt(0))};if(ht[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===ht.BINARY_EVENT||s.type===ht.BINARY_ACK){const u=r+1;for(;n.charAt(++r)!=="-"&&r!=n.length;);const f=n.substring(u,r);if(f!=Number(f)||n.charAt(r)!=="-")throw new Error("Illegal attachments");s.attachments=Number(f)}if(n.charAt(r+1)==="/"){const u=r+1;for(;++r&&!(n.charAt(r)===","||r===n.length););s.nsp=n.substring(u,r)}else s.nsp="/";const l=n.charAt(r+1);if(l!==""&&Number(l)==l){const u=r+1;for(;++r;){const f=n.charAt(r);if(f==null||Number(f)!=f){--r;break}if(r===n.length)break}s.id=Number(n.substring(u,r+1))}if(n.charAt(++r)){const u=this.tryParse(n.substr(r));if(Yh.isPayloadValid(s.type,u))s.data=u;else throw new Error("invalid payload")}return s}tryParse(n){try{return JSON.parse(n,this.reviver)}catch{return!1}}static isPayloadValid(n,r){switch(n){case ht.CONNECT:return E0(r);case ht.DISCONNECT:return r===void 0;case ht.CONNECT_ERROR:return typeof r=="string"||E0(r);case ht.EVENT:case ht.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&AT.indexOf(r[0])===-1);case ht.ACK:case ht.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class MT{constructor(n){this.packet=n,this.buffers=[],this.reconPack=n}takeBinaryData(n){if(this.buffers.push(n),this.buffers.length===this.reconPack.attachments){const r=jT(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const RT=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Yh,Encoder:DT,get PacketType(){return ht},protocol:_T},Symbol.toStringTag,{value:"Module"}));function pa(a,n,r){return a.on(n,r),function(){a.off(n,r)}}const zT=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class U1 extends sn{constructor(n,r,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=n,this.nsp=r,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const n=this.io;this.subs=[pa(n,"open",this.onopen.bind(this)),pa(n,"packet",this.onpacket.bind(this)),pa(n,"error",this.onerror.bind(this)),pa(n,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...n){return n.unshift("message"),this.emit.apply(this,n),this}emit(n,...r){var s,l,u;if(zT.hasOwnProperty(n))throw new Error('"'+n.toString()+'" is a reserved event name');if(r.unshift(n),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const f={type:ht.EVENT,data:r};if(f.options={},f.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const b=this.ids++,v=r.pop();this._registerAckCallback(b,v),f.id=b}const h=(l=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||l===void 0?void 0:l.writable,p=this.connected&&!(!((u=this.io.engine)===null||u===void 0)&&u._hasPingExpired());return this.flags.volatile&&!h||(p?(this.notifyOutgoingListeners(f),this.packet(f)):this.sendBuffer.push(f)),this.flags={},this}_registerAckCallback(n,r){var s;const l=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(l===void 0){this.acks[n]=r;return}const u=this.io.setTimeoutFn(()=>{delete this.acks[n];for(let h=0;h<this.sendBuffer.length;h++)this.sendBuffer[h].id===n&&this.sendBuffer.splice(h,1);r.call(this,new Error("operation has timed out"))},l),f=(...h)=>{this.io.clearTimeoutFn(u),r.apply(this,h)};f.withError=!0,this.acks[n]=f}emitWithAck(n,...r){return new Promise((s,l)=>{const u=(f,h)=>f?l(f):s(h);u.withError=!0,r.push(u),this.emit(n,...r)})}_addToQueue(n){let r;typeof n[n.length-1]=="function"&&(r=n.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:n,flags:Object.assign({fromQueue:!0},this.flags)};n.push((l,...u)=>s!==this._queue[0]?void 0:(l!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(l)):(this._queue.shift(),r&&r(null,...u)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(n=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!n||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(n){n.nsp=this.nsp,this.io._packet(n)}onopen(){typeof this.auth=="function"?this.auth(n=>{this._sendConnectPacket(n)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(n){this.packet({type:ht.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},n):n})}onerror(n){this.connected||this.emitReserved("connect_error",n)}onclose(n,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",n,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(n=>{if(!this.sendBuffer.some(s=>String(s.id)===n)){const s=this.acks[n];delete this.acks[n],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(n){if(n.nsp===this.nsp)switch(n.type){case ht.CONNECT:n.data&&n.data.sid?this.onconnect(n.data.sid,n.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ht.EVENT:case ht.BINARY_EVENT:this.onevent(n);break;case ht.ACK:case ht.BINARY_ACK:this.onack(n);break;case ht.DISCONNECT:this.ondisconnect();break;case ht.CONNECT_ERROR:this.destroy();const s=new Error(n.data.message);s.data=n.data.data,this.emitReserved("connect_error",s);break}}onevent(n){const r=n.data||[];n.id!=null&&r.push(this.ack(n.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(n){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const s of r)s.apply(this,n)}super.emit.apply(this,n),this._pid&&n.length&&typeof n[n.length-1]=="string"&&(this._lastOffset=n[n.length-1])}ack(n){const r=this;let s=!1;return function(...l){s||(s=!0,r.packet({type:ht.ACK,id:n,data:l}))}}onack(n){const r=this.acks[n.id];typeof r=="function"&&(delete this.acks[n.id],r.withError&&n.data.unshift(null),r.apply(this,n.data))}onconnect(n,r){this.id=n,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(n=>this.emitEvent(n)),this.receiveBuffer=[],this.sendBuffer.forEach(n=>{this.notifyOutgoingListeners(n),this.packet(n)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(n=>n()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ht.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(n){return this.flags.compress=n,this}get volatile(){return this.flags.volatile=!0,this}timeout(n){return this.flags.timeout=n,this}onAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(n),this}prependAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(n),this}offAny(n){if(!this._anyListeners)return this;if(n){const r=this._anyListeners;for(let s=0;s<r.length;s++)if(n===r[s])return r.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(n),this}prependAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(n),this}offAnyOutgoing(n){if(!this._anyOutgoingListeners)return this;if(n){const r=this._anyOutgoingListeners;for(let s=0;s<r.length;s++)if(n===r[s])return r.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(n){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const s of r)s.apply(this,n.data)}}}function ps(a){a=a||{},this.ms=a.min||100,this.max=a.max||1e4,this.factor=a.factor||2,this.jitter=a.jitter>0&&a.jitter<=1?a.jitter:0,this.attempts=0}ps.prototype.duration=function(){var a=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),r=Math.floor(n*this.jitter*a);a=(Math.floor(n*10)&1)==0?a-r:a+r}return Math.min(a,this.max)|0};ps.prototype.reset=function(){this.attempts=0};ps.prototype.setMin=function(a){this.ms=a};ps.prototype.setMax=function(a){this.max=a};ps.prototype.setJitter=function(a){this.jitter=a};class lh extends sn{constructor(n,r){var s;super(),this.nsps={},this.subs=[],n&&typeof n=="object"&&(r=n,n=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Hu(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((s=r.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new ps({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=n;const l=r.parser||RT;this.encoder=new l.Encoder,this.decoder=new l.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(n){return arguments.length?(this._reconnection=!!n,n||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(n){return n===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=n,this)}reconnectionDelay(n){var r;return n===void 0?this._reconnectionDelay:(this._reconnectionDelay=n,(r=this.backoff)===null||r===void 0||r.setMin(n),this)}randomizationFactor(n){var r;return n===void 0?this._randomizationFactor:(this._randomizationFactor=n,(r=this.backoff)===null||r===void 0||r.setJitter(n),this)}reconnectionDelayMax(n){var r;return n===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=n,(r=this.backoff)===null||r===void 0||r.setMax(n),this)}timeout(n){return arguments.length?(this._timeout=n,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(n){if(~this._readyState.indexOf("open"))return this;this.engine=new xT(this.uri,this.opts);const r=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const l=pa(r,"open",function(){s.onopen(),n&&n()}),u=h=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",h),n?n(h):this.maybeReconnectOnOpen()},f=pa(r,"error",u);if(this._timeout!==!1){const h=this._timeout,p=this.setTimeoutFn(()=>{l(),u(new Error("timeout")),r.close()},h);this.opts.autoUnref&&p.unref(),this.subs.push(()=>{this.clearTimeoutFn(p)})}return this.subs.push(l),this.subs.push(f),this}connect(n){return this.open(n)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const n=this.engine;this.subs.push(pa(n,"ping",this.onping.bind(this)),pa(n,"data",this.ondata.bind(this)),pa(n,"error",this.onerror.bind(this)),pa(n,"close",this.onclose.bind(this)),pa(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(n){try{this.decoder.add(n)}catch(r){this.onclose("parse error",r)}}ondecoded(n){$u(()=>{this.emitReserved("packet",n)},this.setTimeoutFn)}onerror(n){this.emitReserved("error",n)}socket(n,r){let s=this.nsps[n];return s?this._autoConnect&&!s.active&&s.connect():(s=new U1(this,n,r),this.nsps[n]=s),s}_destroy(n){const r=Object.keys(this.nsps);for(const s of r)if(this.nsps[s].active)return;this._close()}_packet(n){const r=this.encoder.encode(n);for(let s=0;s<r.length;s++)this.engine.write(r[s],n.options)}cleanup(){this.subs.forEach(n=>n()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(n,r){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",n,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const n=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{n.skipReconnect||(this.emitReserved("reconnect_attempt",n.backoff.attempts),!n.skipReconnect&&n.open(l=>{l?(n._reconnecting=!1,n.reconnect(),this.emitReserved("reconnect_error",l)):n.onreconnect()}))},r);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const n=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",n)}}const fo={};function vu(a,n){typeof a=="object"&&(n=a,a=void 0),n=n||{};const r=ET(a,n.path||"/socket.io"),s=r.source,l=r.id,u=r.path,f=fo[l]&&u in fo[l].nsps,h=n.forceNew||n["force new connection"]||n.multiplex===!1||f;let p;return h?p=new lh(s,n):(fo[l]||(fo[l]=new lh(s,n)),p=fo[l]),r.query&&!n.query&&(n.query=r.queryKey),p.socket(r.path,n)}Object.assign(vu,{Manager:lh,Socket:U1,io:vu,connect:vu});const LT=typeof window<"u"?window.location.origin:"http://localhost:3000",k0=Uu(),BT=k0?`${k0}/socket.io`:"/socket.io",Ce=vu(LT,{path:BT,autoConnect:!1,reconnection:!0,reconnectionAttempts:10,reconnectionDelay:1e3}),UT=()=>{Ce.connected||Ce.connect()},$T=()=>{Ce.connected&&Ce.disconnect()};class HT{constructor(){this.nodes=new Map}register(n,r){typeof n=="object"&&r===void 0&&(r=n,n=r.label?r.label.replace(/\s+/g,""):"Node_"+Math.random().toString(36).substr(2,9)),this.nodes.set(n,r)}get(n){return this.nodes.get(n)}getAll(){return Array.from(this.nodes.values()).filter(n=>n)}getByLabel(n){for(const r of this.nodes.values())if(r.label===n)return r;return null}getByInstance(n){for(const r of this.nodes.values())if(r.nodeClass&&n instanceof r.nodeClass)return r;return null}}const xn=new HT;class ui extends Error{}class IT extends ui{constructor(n){super(`Invalid DateTime: ${n.toMessage()}`)}}class VT extends ui{constructor(n){super(`Invalid Interval: ${n.toMessage()}`)}}class qT extends ui{constructor(n){super(`Invalid Duration: ${n.toMessage()}`)}}class Wi extends ui{}class $1 extends ui{constructor(n){super(`Invalid unit ${n}`)}}class En extends ui{}class Nr extends ui{constructor(){super("Zone is an abstract class")}}const we="numeric",va="short",Zn="long",Nu={year:we,month:we,day:we},H1={year:we,month:va,day:we},YT={year:we,month:va,day:we,weekday:va},I1={year:we,month:Zn,day:we},V1={year:we,month:Zn,day:we,weekday:Zn},q1={hour:we,minute:we},Y1={hour:we,minute:we,second:we},G1={hour:we,minute:we,second:we,timeZoneName:va},Z1={hour:we,minute:we,second:we,timeZoneName:Zn},P1={hour:we,minute:we,hourCycle:"h23"},F1={hour:we,minute:we,second:we,hourCycle:"h23"},X1={hour:we,minute:we,second:we,hourCycle:"h23",timeZoneName:va},K1={hour:we,minute:we,second:we,hourCycle:"h23",timeZoneName:Zn},Q1={year:we,month:we,day:we,hour:we,minute:we},J1={year:we,month:we,day:we,hour:we,minute:we,second:we},W1={year:we,month:va,day:we,hour:we,minute:we},ew={year:we,month:va,day:we,hour:we,minute:we,second:we},GT={year:we,month:va,day:we,weekday:va,hour:we,minute:we},tw={year:we,month:Zn,day:we,hour:we,minute:we,timeZoneName:va},nw={year:we,month:Zn,day:we,hour:we,minute:we,second:we,timeZoneName:va},aw={year:we,month:Zn,day:we,weekday:Zn,hour:we,minute:we,timeZoneName:Zn},rw={year:we,month:Zn,day:we,weekday:Zn,hour:we,minute:we,second:we,timeZoneName:Zn};class ms{get type(){throw new Nr}get name(){throw new Nr}get ianaName(){return this.name}get isUniversal(){throw new Nr}offsetName(n,r){throw new Nr}formatOffset(n,r){throw new Nr}offset(n){throw new Nr}equals(n){throw new Nr}get isValid(){throw new Nr}}let jd=null;class Ao extends ms{static get instance(){return jd===null&&(jd=new Ao),jd}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(n,{format:r,locale:s}){return yw(n,r,s)}formatOffset(n,r){return Eo(this.offset(n),r)}offset(n){return-new Date(n).getTimezoneOffset()}equals(n){return n.type==="system"}get isValid(){return!0}}const uh=new Map;function ZT(a){let n=uh.get(a);return n===void 0&&(n=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:a,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),uh.set(a,n)),n}const PT={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function FT(a,n){const r=a.format(n).replace(/\u200E/g,""),s=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,l,u,f,h,p,y,b]=s;return[f,l,u,h,p,y,b]}function XT(a,n){const r=a.formatToParts(n),s=[];for(let l=0;l<r.length;l++){const{type:u,value:f}=r[l],h=PT[u];u==="era"?s[h]=f:Ze(h)||(s[h]=parseInt(f,10))}return s}const Ad=new Map;class Aa extends ms{static create(n){let r=Ad.get(n);return r===void 0&&Ad.set(n,r=new Aa(n)),r}static resetCache(){Ad.clear(),uh.clear()}static isValidSpecifier(n){return this.isValidZone(n)}static isValidZone(n){if(!n)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:n}).format(),!0}catch{return!1}}constructor(n){super(),this.zoneName=n,this.valid=Aa.isValidZone(n)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(n,{format:r,locale:s}){return yw(n,r,s,this.name)}formatOffset(n,r){return Eo(this.offset(n),r)}offset(n){if(!this.valid)return NaN;const r=new Date(n);if(isNaN(r))return NaN;const s=ZT(this.name);let[l,u,f,h,p,y,b]=s.formatToParts?XT(s,r):FT(s,r);h==="BC"&&(l=-Math.abs(l)+1);const S=Vu({year:l,month:u,day:f,hour:p===24?0:p,minute:y,second:b,millisecond:0});let k=+r;const N=k%1e3;return k-=N>=0?N:1e3+N,(S-k)/(60*1e3)}equals(n){return n.type==="iana"&&n.name===this.name}get isValid(){return this.valid}}let C0={};function KT(a,n={}){const r=JSON.stringify([a,n]);let s=C0[r];return s||(s=new Intl.ListFormat(a,n),C0[r]=s),s}const ch=new Map;function fh(a,n={}){const r=JSON.stringify([a,n]);let s=ch.get(r);return s===void 0&&(s=new Intl.DateTimeFormat(a,n),ch.set(r,s)),s}const dh=new Map;function QT(a,n={}){const r=JSON.stringify([a,n]);let s=dh.get(r);return s===void 0&&(s=new Intl.NumberFormat(a,n),dh.set(r,s)),s}const hh=new Map;function JT(a,n={}){const{base:r,...s}=n,l=JSON.stringify([a,s]);let u=hh.get(l);return u===void 0&&(u=new Intl.RelativeTimeFormat(a,n),hh.set(l,u)),u}let yo=null;function WT(){return yo||(yo=new Intl.DateTimeFormat().resolvedOptions().locale,yo)}const ph=new Map;function iw(a){let n=ph.get(a);return n===void 0&&(n=new Intl.DateTimeFormat(a).resolvedOptions(),ph.set(a,n)),n}const mh=new Map;function eO(a){let n=mh.get(a);if(!n){const r=new Intl.Locale(a);n="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,"minimalDays"in n||(n={...sw,...n}),mh.set(a,n)}return n}function tO(a){const n=a.indexOf("-x-");n!==-1&&(a=a.substring(0,n));const r=a.indexOf("-u-");if(r===-1)return[a];{let s,l;try{s=fh(a).resolvedOptions(),l=a}catch{const p=a.substring(0,r);s=fh(p).resolvedOptions(),l=p}const{numberingSystem:u,calendar:f}=s;return[l,u,f]}}function nO(a,n,r){return(r||n)&&(a.includes("-u-")||(a+="-u"),r&&(a+=`-ca-${r}`),n&&(a+=`-nu-${n}`)),a}function aO(a){const n=[];for(let r=1;r<=12;r++){const s=Fe.utc(2009,r,1);n.push(a(s))}return n}function rO(a){const n=[];for(let r=1;r<=7;r++){const s=Fe.utc(2016,11,13+r);n.push(a(s))}return n}function su(a,n,r,s){const l=a.listingMode();return l==="error"?null:l==="en"?r(n):s(n)}function iO(a){return a.numberingSystem&&a.numberingSystem!=="latn"?!1:a.numberingSystem==="latn"||!a.locale||a.locale.startsWith("en")||iw(a.locale).numberingSystem==="latn"}class sO{constructor(n,r,s){this.padTo=s.padTo||0,this.floor=s.floor||!1;const{padTo:l,floor:u,...f}=s;if(!r||Object.keys(f).length>0){const h={useGrouping:!1,...s};s.padTo>0&&(h.minimumIntegerDigits=s.padTo),this.inf=QT(n,h)}}format(n){if(this.inf){const r=this.floor?Math.floor(n):n;return this.inf.format(r)}else{const r=this.floor?Math.floor(n):Xh(n,3);return an(r,this.padTo)}}}class oO{constructor(n,r,s){this.opts=s,this.originalZone=void 0;let l;if(this.opts.timeZone)this.dt=n;else if(n.zone.type==="fixed"){const f=-1*(n.offset/60),h=f>=0?`Etc/GMT+${f}`:`Etc/GMT${f}`;n.offset!==0&&Aa.create(h).valid?(l=h,this.dt=n):(l="UTC",this.dt=n.offset===0?n:n.setZone("UTC").plus({minutes:n.offset}),this.originalZone=n.zone)}else n.zone.type==="system"?this.dt=n:n.zone.type==="iana"?(this.dt=n,l=n.zone.name):(l="UTC",this.dt=n.setZone("UTC").plus({minutes:n.offset}),this.originalZone=n.zone);const u={...this.opts};u.timeZone=u.timeZone||l,this.dtf=fh(r,u)}format(){return this.originalZone?this.formatToParts().map(({value:n})=>n).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const n=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?n.map(r=>{if(r.type==="timeZoneName"){const s=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:s}}else return r}):n}resolvedOptions(){return this.dtf.resolvedOptions()}}class lO{constructor(n,r,s){this.opts={style:"long",...s},!r&&pw()&&(this.rtf=JT(n,s))}format(n,r){return this.rtf?this.rtf.format(n,r):jO(r,n,this.opts.numeric,this.opts.style!=="long")}formatToParts(n,r){return this.rtf?this.rtf.formatToParts(n,r):[]}}const sw={firstDay:1,minimalDays:4,weekend:[6,7]};class Et{static fromOpts(n){return Et.create(n.locale,n.numberingSystem,n.outputCalendar,n.weekSettings,n.defaultToEN)}static create(n,r,s,l,u=!1){const f=n||Zt.defaultLocale,h=f||(u?"en-US":WT()),p=r||Zt.defaultNumberingSystem,y=s||Zt.defaultOutputCalendar,b=gh(l)||Zt.defaultWeekSettings;return new Et(h,p,y,b,f)}static resetCache(){yo=null,ch.clear(),dh.clear(),hh.clear(),ph.clear(),mh.clear()}static fromObject({locale:n,numberingSystem:r,outputCalendar:s,weekSettings:l}={}){return Et.create(n,r,s,l)}constructor(n,r,s,l,u){const[f,h,p]=tO(n);this.locale=f,this.numberingSystem=r||h||null,this.outputCalendar=s||p||null,this.weekSettings=l,this.intl=nO(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=u,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=iO(this)),this.fastNumbersCached}listingMode(){const n=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return n&&r?"en":"intl"}clone(n){return!n||Object.getOwnPropertyNames(n).length===0?this:Et.create(n.locale||this.specifiedLocale,n.numberingSystem||this.numberingSystem,n.outputCalendar||this.outputCalendar,gh(n.weekSettings)||this.weekSettings,n.defaultToEN||!1)}redefaultToEN(n={}){return this.clone({...n,defaultToEN:!0})}redefaultToSystem(n={}){return this.clone({...n,defaultToEN:!1})}months(n,r=!1){return su(this,n,bw,()=>{const s=this.intl==="ja"||this.intl.startsWith("ja-");r&=!s;const l=r?{month:n,day:"numeric"}:{month:n},u=r?"format":"standalone";if(!this.monthsCache[u][n]){const f=s?h=>this.dtFormatter(h,l).format():h=>this.extract(h,l,"month");this.monthsCache[u][n]=aO(f)}return this.monthsCache[u][n]})}weekdays(n,r=!1){return su(this,n,xw,()=>{const s=r?{weekday:n,year:"numeric",month:"long",day:"numeric"}:{weekday:n},l=r?"format":"standalone";return this.weekdaysCache[l][n]||(this.weekdaysCache[l][n]=rO(u=>this.extract(u,s,"weekday"))),this.weekdaysCache[l][n]})}meridiems(){return su(this,void 0,()=>Ew,()=>{if(!this.meridiemCache){const n={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Fe.utc(2016,11,13,9),Fe.utc(2016,11,13,19)].map(r=>this.extract(r,n,"dayperiod"))}return this.meridiemCache})}eras(n){return su(this,n,kw,()=>{const r={era:n};return this.eraCache[n]||(this.eraCache[n]=[Fe.utc(-40,1,1),Fe.utc(2017,1,1)].map(s=>this.extract(s,r,"era"))),this.eraCache[n]})}extract(n,r,s){const l=this.dtFormatter(n,r),u=l.formatToParts(),f=u.find(h=>h.type.toLowerCase()===s);return f?f.value:null}numberFormatter(n={}){return new sO(this.intl,n.forceSimple||this.fastNumbers,n)}dtFormatter(n,r={}){return new oO(n,this.intl,r)}relFormatter(n={}){return new lO(this.intl,this.isEnglish(),n)}listFormatter(n={}){return KT(this.intl,n)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||iw(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:mw()?eO(this.locale):sw}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(n){return this.locale===n.locale&&this.numberingSystem===n.numberingSystem&&this.outputCalendar===n.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let _d=null;class Cn extends ms{static get utcInstance(){return _d===null&&(_d=new Cn(0)),_d}static instance(n){return n===0?Cn.utcInstance:new Cn(n)}static parseSpecifier(n){if(n){const r=n.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new Cn(qu(r[1],r[2]))}return null}constructor(n){super(),this.fixed=n}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Eo(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Eo(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(n,r){return Eo(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(n){return n.type==="fixed"&&n.fixed===this.fixed}get isValid(){return!0}}class ow extends ms{constructor(n){super(),this.zoneName=n}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Dr(a,n){if(Ze(a)||a===null)return n;if(a instanceof ms)return a;if(pO(a)){const r=a.toLowerCase();return r==="default"?n:r==="local"||r==="system"?Ao.instance:r==="utc"||r==="gmt"?Cn.utcInstance:Cn.parseSpecifier(r)||Aa.create(a)}else return zr(a)?Cn.instance(a):typeof a=="object"&&"offset"in a&&typeof a.offset=="function"?a:new ow(a)}const Gh={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},T0={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},uO=Gh.hanidec.replace(/[\[|\]]/g,"").split("");function cO(a){let n=parseInt(a,10);if(isNaN(n)){n="";for(let r=0;r<a.length;r++){const s=a.charCodeAt(r);if(a[r].search(Gh.hanidec)!==-1)n+=uO.indexOf(a[r]);else for(const l in T0){const[u,f]=T0[l];s>=u&&s<=f&&(n+=s-u)}}return parseInt(n,10)}else return n}const yh=new Map;function fO(){yh.clear()}function da({numberingSystem:a},n=""){const r=a||"latn";let s=yh.get(r);s===void 0&&(s=new Map,yh.set(r,s));let l=s.get(n);return l===void 0&&(l=new RegExp(`${Gh[r]}${n}`),s.set(n,l)),l}let O0=()=>Date.now(),N0="system",j0=null,A0=null,_0=null,D0=60,M0,R0=null;class Zt{static get now(){return O0}static set now(n){O0=n}static set defaultZone(n){N0=n}static get defaultZone(){return Dr(N0,Ao.instance)}static get defaultLocale(){return j0}static set defaultLocale(n){j0=n}static get defaultNumberingSystem(){return A0}static set defaultNumberingSystem(n){A0=n}static get defaultOutputCalendar(){return _0}static set defaultOutputCalendar(n){_0=n}static get defaultWeekSettings(){return R0}static set defaultWeekSettings(n){R0=gh(n)}static get twoDigitCutoffYear(){return D0}static set twoDigitCutoffYear(n){D0=n%100}static get throwOnInvalid(){return M0}static set throwOnInvalid(n){M0=n}static resetCaches(){Et.resetCache(),Aa.resetCache(),Fe.resetCache(),fO()}}class ma{constructor(n,r){this.reason=n,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const lw=[0,31,59,90,120,151,181,212,243,273,304,334],uw=[0,31,60,91,121,152,182,213,244,274,305,335];function sa(a,n){return new ma("unit out of range",`you specified ${n} (of type ${typeof n}) as a ${a}, which is invalid`)}function Zh(a,n,r){const s=new Date(Date.UTC(a,n-1,r));a<100&&a>=0&&s.setUTCFullYear(s.getUTCFullYear()-1900);const l=s.getUTCDay();return l===0?7:l}function cw(a,n,r){return r+(_o(a)?uw:lw)[n-1]}function fw(a,n){const r=_o(a)?uw:lw,s=r.findIndex(u=>u<n),l=n-r[s];return{month:s+1,day:l}}function Ph(a,n){return(a-n+7)%7+1}function ju(a,n=4,r=1){const{year:s,month:l,day:u}=a,f=cw(s,l,u),h=Ph(Zh(s,l,u),r);let p=Math.floor((f-h+14-n)/7),y;return p<1?(y=s-1,p=Oo(y,n,r)):p>Oo(s,n,r)?(y=s+1,p=1):y=s,{weekYear:y,weekNumber:p,weekday:h,...Yu(a)}}function z0(a,n=4,r=1){const{weekYear:s,weekNumber:l,weekday:u}=a,f=Ph(Zh(s,1,n),r),h=ts(s);let p=l*7+u-f-7+n,y;p<1?(y=s-1,p+=ts(y)):p>h?(y=s+1,p-=ts(s)):y=s;const{month:b,day:v}=fw(y,p);return{year:y,month:b,day:v,...Yu(a)}}function Dd(a){const{year:n,month:r,day:s}=a,l=cw(n,r,s);return{year:n,ordinal:l,...Yu(a)}}function L0(a){const{year:n,ordinal:r}=a,{month:s,day:l}=fw(n,r);return{year:n,month:s,day:l,...Yu(a)}}function B0(a,n){if(!Ze(a.localWeekday)||!Ze(a.localWeekNumber)||!Ze(a.localWeekYear)){if(!Ze(a.weekday)||!Ze(a.weekNumber)||!Ze(a.weekYear))throw new Wi("Cannot mix locale-based week fields with ISO-based week fields");return Ze(a.localWeekday)||(a.weekday=a.localWeekday),Ze(a.localWeekNumber)||(a.weekNumber=a.localWeekNumber),Ze(a.localWeekYear)||(a.weekYear=a.localWeekYear),delete a.localWeekday,delete a.localWeekNumber,delete a.localWeekYear,{minDaysInFirstWeek:n.getMinDaysInFirstWeek(),startOfWeek:n.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function dO(a,n=4,r=1){const s=Iu(a.weekYear),l=oa(a.weekNumber,1,Oo(a.weekYear,n,r)),u=oa(a.weekday,1,7);return s?l?u?!1:sa("weekday",a.weekday):sa("week",a.weekNumber):sa("weekYear",a.weekYear)}function hO(a){const n=Iu(a.year),r=oa(a.ordinal,1,ts(a.year));return n?r?!1:sa("ordinal",a.ordinal):sa("year",a.year)}function dw(a){const n=Iu(a.year),r=oa(a.month,1,12),s=oa(a.day,1,Au(a.year,a.month));return n?r?s?!1:sa("day",a.day):sa("month",a.month):sa("year",a.year)}function hw(a){const{hour:n,minute:r,second:s,millisecond:l}=a,u=oa(n,0,23)||n===24&&r===0&&s===0&&l===0,f=oa(r,0,59),h=oa(s,0,59),p=oa(l,0,999);return u?f?h?p?!1:sa("millisecond",l):sa("second",s):sa("minute",r):sa("hour",n)}function Ze(a){return typeof a>"u"}function zr(a){return typeof a=="number"}function Iu(a){return typeof a=="number"&&a%1===0}function pO(a){return typeof a=="string"}function mO(a){return Object.prototype.toString.call(a)==="[object Date]"}function pw(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function mw(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function yO(a){return Array.isArray(a)?a:[a]}function U0(a,n,r){if(a.length!==0)return a.reduce((s,l)=>{const u=[n(l),l];return s&&r(s[0],u[0])===s[0]?s:u},null)[1]}function gO(a,n){return n.reduce((r,s)=>(r[s]=a[s],r),{})}function cs(a,n){return Object.prototype.hasOwnProperty.call(a,n)}function gh(a){if(a==null)return null;if(typeof a!="object")throw new En("Week settings must be an object");if(!oa(a.firstDay,1,7)||!oa(a.minimalDays,1,7)||!Array.isArray(a.weekend)||a.weekend.some(n=>!oa(n,1,7)))throw new En("Invalid week settings");return{firstDay:a.firstDay,minimalDays:a.minimalDays,weekend:Array.from(a.weekend)}}function oa(a,n,r){return Iu(a)&&a>=n&&a<=r}function vO(a,n){return a-n*Math.floor(a/n)}function an(a,n=2){const r=a<0;let s;return r?s="-"+(""+-a).padStart(n,"0"):s=(""+a).padStart(n,"0"),s}function _r(a){if(!(Ze(a)||a===null||a===""))return parseInt(a,10)}function ei(a){if(!(Ze(a)||a===null||a===""))return parseFloat(a)}function Fh(a){if(!(Ze(a)||a===null||a==="")){const n=parseFloat("0."+a)*1e3;return Math.floor(n)}}function Xh(a,n,r="round"){const s=10**n;switch(r){case"expand":return a>0?Math.ceil(a*s)/s:Math.floor(a*s)/s;case"trunc":return Math.trunc(a*s)/s;case"round":return Math.round(a*s)/s;case"floor":return Math.floor(a*s)/s;case"ceil":return Math.ceil(a*s)/s;default:throw new RangeError(`Value rounding ${r} is out of range`)}}function _o(a){return a%4===0&&(a%100!==0||a%400===0)}function ts(a){return _o(a)?366:365}function Au(a,n){const r=vO(n-1,12)+1,s=a+(n-r)/12;return r===2?_o(s)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function Vu(a){let n=Date.UTC(a.year,a.month-1,a.day,a.hour,a.minute,a.second,a.millisecond);return a.year<100&&a.year>=0&&(n=new Date(n),n.setUTCFullYear(a.year,a.month-1,a.day)),+n}function $0(a,n,r){return-Ph(Zh(a,1,n),r)+n-1}function Oo(a,n=4,r=1){const s=$0(a,n,r),l=$0(a+1,n,r);return(ts(a)-s+l)/7}function vh(a){return a>99?a:a>Zt.twoDigitCutoffYear?1900+a:2e3+a}function yw(a,n,r,s=null){const l=new Date(a),u={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};s&&(u.timeZone=s);const f={timeZoneName:n,...u},h=new Intl.DateTimeFormat(r,f).formatToParts(l).find(p=>p.type.toLowerCase()==="timezonename");return h?h.value:null}function qu(a,n){let r=parseInt(a,10);Number.isNaN(r)&&(r=0);const s=parseInt(n,10)||0,l=r<0||Object.is(r,-0)?-s:s;return r*60+l}function gw(a){const n=Number(a);if(typeof a=="boolean"||a===""||!Number.isFinite(n))throw new En(`Invalid unit value ${a}`);return n}function _u(a,n){const r={};for(const s in a)if(cs(a,s)){const l=a[s];if(l==null)continue;r[n(s)]=gw(l)}return r}function Eo(a,n){const r=Math.trunc(Math.abs(a/60)),s=Math.trunc(Math.abs(a%60)),l=a>=0?"+":"-";switch(n){case"short":return`${l}${an(r,2)}:${an(s,2)}`;case"narrow":return`${l}${r}${s>0?`:${s}`:""}`;case"techie":return`${l}${an(r,2)}${an(s,2)}`;default:throw new RangeError(`Value format ${n} is out of range for property format`)}}function Yu(a){return gO(a,["hour","minute","second","millisecond"])}const bO=["January","February","March","April","May","June","July","August","September","October","November","December"],vw=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wO=["J","F","M","A","M","J","J","A","S","O","N","D"];function bw(a){switch(a){case"narrow":return[...wO];case"short":return[...vw];case"long":return[...bO];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const ww=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Sw=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],SO=["M","T","W","T","F","S","S"];function xw(a){switch(a){case"narrow":return[...SO];case"short":return[...Sw];case"long":return[...ww];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Ew=["AM","PM"],xO=["Before Christ","Anno Domini"],EO=["BC","AD"],kO=["B","A"];function kw(a){switch(a){case"narrow":return[...kO];case"short":return[...EO];case"long":return[...xO];default:return null}}function CO(a){return Ew[a.hour<12?0:1]}function TO(a,n){return xw(n)[a.weekday-1]}function OO(a,n){return bw(n)[a.month-1]}function NO(a,n){return kw(n)[a.year<0?0:1]}function jO(a,n,r="always",s=!1){const l={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},u=["hours","minutes","seconds"].indexOf(a)===-1;if(r==="auto"&&u){const v=a==="days";switch(n){case 1:return v?"tomorrow":`next ${l[a][0]}`;case-1:return v?"yesterday":`last ${l[a][0]}`;case 0:return v?"today":`this ${l[a][0]}`}}const f=Object.is(n,-0)||n<0,h=Math.abs(n),p=h===1,y=l[a],b=s?p?y[1]:y[2]||y[1]:p?l[a][0]:a;return f?`${h} ${b} ago`:`in ${h} ${b}`}function H0(a,n){let r="";for(const s of a)s.literal?r+=s.val:r+=n(s.val);return r}const AO={D:Nu,DD:H1,DDD:I1,DDDD:V1,t:q1,tt:Y1,ttt:G1,tttt:Z1,T:P1,TT:F1,TTT:X1,TTTT:K1,f:Q1,ff:W1,fff:tw,ffff:aw,F:J1,FF:ew,FFF:nw,FFFF:rw};class kn{static create(n,r={}){return new kn(n,r)}static parseFormat(n){let r=null,s="",l=!1;const u=[];for(let f=0;f<n.length;f++){const h=n.charAt(f);h==="'"?((s.length>0||l)&&u.push({literal:l||/^\s+$/.test(s),val:s===""?"'":s}),r=null,s="",l=!l):l||h===r?s+=h:(s.length>0&&u.push({literal:/^\s+$/.test(s),val:s}),s=h,r=h)}return s.length>0&&u.push({literal:l||/^\s+$/.test(s),val:s}),u}static macroTokenToFormatOpts(n){return AO[n]}constructor(n,r){this.opts=r,this.loc=n,this.systemLoc=null}formatWithSystemDefault(n,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(n,{...this.opts,...r}).format()}dtFormatter(n,r={}){return this.loc.dtFormatter(n,{...this.opts,...r})}formatDateTime(n,r){return this.dtFormatter(n,r).format()}formatDateTimeParts(n,r){return this.dtFormatter(n,r).formatToParts()}formatInterval(n,r){return this.dtFormatter(n.start,r).dtf.formatRange(n.start.toJSDate(),n.end.toJSDate())}resolvedOptions(n,r){return this.dtFormatter(n,r).resolvedOptions()}num(n,r=0,s=void 0){if(this.opts.forceSimple)return an(n,r);const l={...this.opts};return r>0&&(l.padTo=r),s&&(l.signDisplay=s),this.loc.numberFormatter(l).format(n)}formatDateTimeFromString(n,r){const s=this.loc.listingMode()==="en",l=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",u=(k,N)=>this.loc.extract(n,k,N),f=k=>n.isOffsetFixed&&n.offset===0&&k.allowZ?"Z":n.isValid?n.zone.formatOffset(n.ts,k.format):"",h=()=>s?CO(n):u({hour:"numeric",hourCycle:"h12"},"dayperiod"),p=(k,N)=>s?OO(n,k):u(N?{month:k}:{month:k,day:"numeric"},"month"),y=(k,N)=>s?TO(n,k):u(N?{weekday:k}:{weekday:k,month:"long",day:"numeric"},"weekday"),b=k=>{const N=kn.macroTokenToFormatOpts(k);return N?this.formatWithSystemDefault(n,N):k},v=k=>s?NO(n,k):u({era:k},"era"),S=k=>{switch(k){case"S":return this.num(n.millisecond);case"u":case"SSS":return this.num(n.millisecond,3);case"s":return this.num(n.second);case"ss":return this.num(n.second,2);case"uu":return this.num(Math.floor(n.millisecond/10),2);case"uuu":return this.num(Math.floor(n.millisecond/100));case"m":return this.num(n.minute);case"mm":return this.num(n.minute,2);case"h":return this.num(n.hour%12===0?12:n.hour%12);case"hh":return this.num(n.hour%12===0?12:n.hour%12,2);case"H":return this.num(n.hour);case"HH":return this.num(n.hour,2);case"Z":return f({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return f({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return f({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return n.zone.offsetName(n.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return n.zone.offsetName(n.ts,{format:"long",locale:this.loc.locale});case"z":return n.zoneName;case"a":return h();case"d":return l?u({day:"numeric"},"day"):this.num(n.day);case"dd":return l?u({day:"2-digit"},"day"):this.num(n.day,2);case"c":return this.num(n.weekday);case"ccc":return y("short",!0);case"cccc":return y("long",!0);case"ccccc":return y("narrow",!0);case"E":return this.num(n.weekday);case"EEE":return y("short",!1);case"EEEE":return y("long",!1);case"EEEEE":return y("narrow",!1);case"L":return l?u({month:"numeric",day:"numeric"},"month"):this.num(n.month);case"LL":return l?u({month:"2-digit",day:"numeric"},"month"):this.num(n.month,2);case"LLL":return p("short",!0);case"LLLL":return p("long",!0);case"LLLLL":return p("narrow",!0);case"M":return l?u({month:"numeric"},"month"):this.num(n.month);case"MM":return l?u({month:"2-digit"},"month"):this.num(n.month,2);case"MMM":return p("short",!1);case"MMMM":return p("long",!1);case"MMMMM":return p("narrow",!1);case"y":return l?u({year:"numeric"},"year"):this.num(n.year);case"yy":return l?u({year:"2-digit"},"year"):this.num(n.year.toString().slice(-2),2);case"yyyy":return l?u({year:"numeric"},"year"):this.num(n.year,4);case"yyyyyy":return l?u({year:"numeric"},"year"):this.num(n.year,6);case"G":return v("short");case"GG":return v("long");case"GGGGG":return v("narrow");case"kk":return this.num(n.weekYear.toString().slice(-2),2);case"kkkk":return this.num(n.weekYear,4);case"W":return this.num(n.weekNumber);case"WW":return this.num(n.weekNumber,2);case"n":return this.num(n.localWeekNumber);case"nn":return this.num(n.localWeekNumber,2);case"ii":return this.num(n.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(n.localWeekYear,4);case"o":return this.num(n.ordinal);case"ooo":return this.num(n.ordinal,3);case"q":return this.num(n.quarter);case"qq":return this.num(n.quarter,2);case"X":return this.num(Math.floor(n.ts/1e3));case"x":return this.num(n.ts);default:return b(k)}};return H0(kn.parseFormat(r),S)}formatDurationFromString(n,r){const s=this.opts.signMode==="negativeLargestOnly"?-1:1,l=b=>{switch(b[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"w":return"weeks";case"M":return"months";case"y":return"years";default:return null}},u=(b,v)=>S=>{const k=l(S);if(k){const N=v.isNegativeDuration&&k!==v.largestUnit?s:1;let Z;return this.opts.signMode==="negativeLargestOnly"&&k!==v.largestUnit?Z="never":this.opts.signMode==="all"?Z="always":Z="auto",this.num(b.get(k)*N,S.length,Z)}else return S},f=kn.parseFormat(r),h=f.reduce((b,{literal:v,val:S})=>v?b:b.concat(S),[]),p=n.shiftTo(...h.map(l).filter(b=>b)),y={isNegativeDuration:p<0,largestUnit:Object.keys(p.values)[0]};return H0(f,u(p,y))}}const Cw=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function ys(...a){const n=a.reduce((r,s)=>r+s.source,"");return RegExp(`^${n}$`)}function gs(...a){return n=>a.reduce(([r,s,l],u)=>{const[f,h,p]=u(n,l);return[{...r,...f},h||s,p]},[{},null,1]).slice(0,2)}function vs(a,...n){if(a==null)return[null,null];for(const[r,s]of n){const l=r.exec(a);if(l)return s(l)}return[null,null]}function Tw(...a){return(n,r)=>{const s={};let l;for(l=0;l<a.length;l++)s[a[l]]=_r(n[r+l]);return[s,null,r+l]}}const Ow=/(?:([Zz])|([+-]\d\d)(?::?(\d\d))?)/,_O=`(?:${Ow.source}?(?:\\[(${Cw.source})\\])?)?`,Kh=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Nw=RegExp(`${Kh.source}${_O}`),Qh=RegExp(`(?:[Tt]${Nw.source})?`),DO=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,MO=/(\d{4})-?W(\d\d)(?:-?(\d))?/,RO=/(\d{4})-?(\d{3})/,zO=Tw("weekYear","weekNumber","weekDay"),LO=Tw("year","ordinal"),BO=/(\d{4})-(\d\d)-(\d\d)/,jw=RegExp(`${Kh.source} ?(?:${Ow.source}|(${Cw.source}))?`),UO=RegExp(`(?: ${jw.source})?`);function ns(a,n,r){const s=a[n];return Ze(s)?r:_r(s)}function $O(a,n){return[{year:ns(a,n),month:ns(a,n+1,1),day:ns(a,n+2,1)},null,n+3]}function bs(a,n){return[{hours:ns(a,n,0),minutes:ns(a,n+1,0),seconds:ns(a,n+2,0),milliseconds:Fh(a[n+3])},null,n+4]}function Do(a,n){const r=!a[n]&&!a[n+1],s=qu(a[n+1],a[n+2]),l=r?null:Cn.instance(s);return[{},l,n+3]}function Mo(a,n){const r=a[n]?Aa.create(a[n]):null;return[{},r,n+1]}const HO=RegExp(`^T?${Kh.source}$`),IO=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function VO(a){const[n,r,s,l,u,f,h,p,y]=a,b=n[0]==="-",v=p&&p[0]==="-",S=(k,N=!1)=>k!==void 0&&(N||k&&b)?-k:k;return[{years:S(ei(r)),months:S(ei(s)),weeks:S(ei(l)),days:S(ei(u)),hours:S(ei(f)),minutes:S(ei(h)),seconds:S(ei(p),p==="-0"),milliseconds:S(Fh(y),v)}]}const qO={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Jh(a,n,r,s,l,u,f){const h={year:n.length===2?vh(_r(n)):_r(n),month:vw.indexOf(r)+1,day:_r(s),hour:_r(l),minute:_r(u)};return f&&(h.second=_r(f)),a&&(h.weekday=a.length>3?ww.indexOf(a)+1:Sw.indexOf(a)+1),h}const YO=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function GO(a){const[,n,r,s,l,u,f,h,p,y,b,v]=a,S=Jh(n,l,s,r,u,f,h);let k;return p?k=qO[p]:y?k=0:k=qu(b,v),[S,new Cn(k)]}function ZO(a){return a.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const PO=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,FO=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,XO=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function I0(a){const[,n,r,s,l,u,f,h]=a;return[Jh(n,l,s,r,u,f,h),Cn.utcInstance]}function KO(a){const[,n,r,s,l,u,f,h]=a;return[Jh(n,h,r,s,l,u,f),Cn.utcInstance]}const QO=ys(DO,Qh),JO=ys(MO,Qh),WO=ys(RO,Qh),eN=ys(Nw),Aw=gs($O,bs,Do,Mo),tN=gs(zO,bs,Do,Mo),nN=gs(LO,bs,Do,Mo),aN=gs(bs,Do,Mo);function rN(a){return vs(a,[QO,Aw],[JO,tN],[WO,nN],[eN,aN])}function iN(a){return vs(ZO(a),[YO,GO])}function sN(a){return vs(a,[PO,I0],[FO,I0],[XO,KO])}function oN(a){return vs(a,[IO,VO])}const lN=gs(bs);function uN(a){return vs(a,[HO,lN])}const cN=ys(BO,UO),fN=ys(jw),dN=gs(bs,Do,Mo);function hN(a){return vs(a,[cN,Aw],[fN,dN])}const V0="Invalid Duration",_w={weeks:{days:7,hours:168,minutes:10080,seconds:10080*60,milliseconds:10080*60*1e3},days:{hours:24,minutes:1440,seconds:1440*60,milliseconds:1440*60*1e3},hours:{minutes:60,seconds:3600,milliseconds:3600*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},pN={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:2184*60,seconds:2184*60*60,milliseconds:2184*60*60*1e3},months:{weeks:4,days:30,hours:720,minutes:720*60,seconds:720*60*60,milliseconds:720*60*60*1e3},..._w},ra=146097/400,Pi=146097/4800,mN={years:{quarters:4,months:12,weeks:ra/7,days:ra,hours:ra*24,minutes:ra*24*60,seconds:ra*24*60*60,milliseconds:ra*24*60*60*1e3},quarters:{months:3,weeks:ra/28,days:ra/4,hours:ra*24/4,minutes:ra*24*60/4,seconds:ra*24*60*60/4,milliseconds:ra*24*60*60*1e3/4},months:{weeks:Pi/7,days:Pi,hours:Pi*24,minutes:Pi*24*60,seconds:Pi*24*60*60,milliseconds:Pi*24*60*60*1e3},..._w},ri=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],yN=ri.slice(0).reverse();function er(a,n,r=!1){const s={values:r?n.values:{...a.values,...n.values||{}},loc:a.loc.clone(n.loc),conversionAccuracy:n.conversionAccuracy||a.conversionAccuracy,matrix:n.matrix||a.matrix};return new pt(s)}function Dw(a,n){let r=n.milliseconds??0;for(const s of yN.slice(1))n[s]&&(r+=n[s]*a[s].milliseconds);return r}function q0(a,n){const r=Dw(a,n)<0?-1:1;ri.reduceRight((s,l)=>{if(Ze(n[l]))return s;if(s){const u=n[s]*r,f=a[l][s],h=Math.floor(u/f);n[l]+=h*r,n[s]-=h*f*r}return l},null),ri.reduce((s,l)=>{if(Ze(n[l]))return s;if(s){const u=n[s]%1;n[s]-=u,n[l]+=u*a[s][l]}return l},null)}function Y0(a){const n={};for(const[r,s]of Object.entries(a))s!==0&&(n[r]=s);return n}class pt{constructor(n){const r=n.conversionAccuracy==="longterm"||!1;let s=r?mN:pN;n.matrix&&(s=n.matrix),this.values=n.values,this.loc=n.loc||Et.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=n.invalid||null,this.matrix=s,this.isLuxonDuration=!0}static fromMillis(n,r){return pt.fromObject({milliseconds:n},r)}static fromObject(n,r={}){if(n==null||typeof n!="object")throw new En(`Duration.fromObject: argument expected to be an object, got ${n===null?"null":typeof n}`);return new pt({values:_u(n,pt.normalizeUnit),loc:Et.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(n){if(zr(n))return pt.fromMillis(n);if(pt.isDuration(n))return n;if(typeof n=="object")return pt.fromObject(n);throw new En(`Unknown duration argument ${n} of type ${typeof n}`)}static fromISO(n,r){const[s]=oN(n);return s?pt.fromObject(s,r):pt.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static fromISOTime(n,r){const[s]=uN(n);return s?pt.fromObject(s,r):pt.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static invalid(n,r=null){if(!n)throw new En("need to specify a reason the Duration is invalid");const s=n instanceof ma?n:new ma(n,r);if(Zt.throwOnInvalid)throw new qT(s);return new pt({invalid:s})}static normalizeUnit(n){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[n&&n.toLowerCase()];if(!r)throw new $1(n);return r}static isDuration(n){return n&&n.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(n,r={}){const s={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?kn.create(this.loc,s).formatDurationFromString(this,n):V0}toHuman(n={}){if(!this.isValid)return V0;const r=n.showZeros!==!1,s=ri.map(l=>{const u=this.values[l];return Ze(u)||u===0&&!r?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...n,unit:l.slice(0,-1)}).format(u)}).filter(l=>l);return this.loc.listFormatter({type:"conjunction",style:n.listStyle||"narrow",...n}).format(s)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let n="P";return this.years!==0&&(n+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(n+=this.months+this.quarters*3+"M"),this.weeks!==0&&(n+=this.weeks+"W"),this.days!==0&&(n+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(n+="T"),this.hours!==0&&(n+=this.hours+"H"),this.minutes!==0&&(n+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(n+=Xh(this.seconds+this.milliseconds/1e3,3)+"S"),n==="P"&&(n+="T0S"),n}toISOTime(n={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(n={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...n,includeOffset:!1},Fe.fromMillis(r,{zone:"UTC"}).toISOTime(n))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Dw(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(n){if(!this.isValid)return this;const r=pt.fromDurationLike(n),s={};for(const l of ri)(cs(r.values,l)||cs(this.values,l))&&(s[l]=r.get(l)+this.get(l));return er(this,{values:s},!0)}minus(n){if(!this.isValid)return this;const r=pt.fromDurationLike(n);return this.plus(r.negate())}mapUnits(n){if(!this.isValid)return this;const r={};for(const s of Object.keys(this.values))r[s]=gw(n(this.values[s],s));return er(this,{values:r},!0)}get(n){return this[pt.normalizeUnit(n)]}set(n){if(!this.isValid)return this;const r={...this.values,..._u(n,pt.normalizeUnit)};return er(this,{values:r})}reconfigure({locale:n,numberingSystem:r,conversionAccuracy:s,matrix:l}={}){const f={loc:this.loc.clone({locale:n,numberingSystem:r}),matrix:l,conversionAccuracy:s};return er(this,f)}as(n){return this.isValid?this.shiftTo(n).get(n):NaN}normalize(){if(!this.isValid)return this;const n=this.toObject();return q0(this.matrix,n),er(this,{values:n},!0)}rescale(){if(!this.isValid)return this;const n=Y0(this.normalize().shiftToAll().toObject());return er(this,{values:n},!0)}shiftTo(...n){if(!this.isValid)return this;if(n.length===0)return this;n=n.map(f=>pt.normalizeUnit(f));const r={},s={},l=this.toObject();let u;for(const f of ri)if(n.indexOf(f)>=0){u=f;let h=0;for(const y in s)h+=this.matrix[y][f]*s[y],s[y]=0;zr(l[f])&&(h+=l[f]);const p=Math.trunc(h);r[f]=p,s[f]=(h*1e3-p*1e3)/1e3}else zr(l[f])&&(s[f]=l[f]);for(const f in s)s[f]!==0&&(r[u]+=f===u?s[f]:s[f]/this.matrix[u][f]);return q0(this.matrix,r),er(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=this.values[r]===0?0:-this.values[r];return er(this,{values:n},!0)}removeZeros(){if(!this.isValid)return this;const n=Y0(this.values);return er(this,{values:n},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(n){if(!this.isValid||!n.isValid||!this.loc.equals(n.loc))return!1;function r(s,l){return s===void 0||s===0?l===void 0||l===0:s===l}for(const s of ri)if(!r(this.values[s],n.values[s]))return!1;return!0}}const Fi="Invalid Interval";function gN(a,n){return!a||!a.isValid?Gt.invalid("missing or invalid start"):!n||!n.isValid?Gt.invalid("missing or invalid end"):n<a?Gt.invalid("end before start",`The end of an interval must be after its start, but you had start=${a.toISO()} and end=${n.toISO()}`):null}class Gt{constructor(n){this.s=n.start,this.e=n.end,this.invalid=n.invalid||null,this.isLuxonInterval=!0}static invalid(n,r=null){if(!n)throw new En("need to specify a reason the Interval is invalid");const s=n instanceof ma?n:new ma(n,r);if(Zt.throwOnInvalid)throw new VT(s);return new Gt({invalid:s})}static fromDateTimes(n,r){const s=ho(n),l=ho(r),u=gN(s,l);return u??new Gt({start:s,end:l})}static after(n,r){const s=pt.fromDurationLike(r),l=ho(n);return Gt.fromDateTimes(l,l.plus(s))}static before(n,r){const s=pt.fromDurationLike(r),l=ho(n);return Gt.fromDateTimes(l.minus(s),l)}static fromISO(n,r){const[s,l]=(n||"").split("/",2);if(s&&l){let u,f;try{u=Fe.fromISO(s,r),f=u.isValid}catch{f=!1}let h,p;try{h=Fe.fromISO(l,r),p=h.isValid}catch{p=!1}if(f&&p)return Gt.fromDateTimes(u,h);if(f){const y=pt.fromISO(l,r);if(y.isValid)return Gt.after(u,y)}else if(p){const y=pt.fromISO(s,r);if(y.isValid)return Gt.before(h,y)}}return Gt.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static isInterval(n){return n&&n.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(n="milliseconds"){return this.isValid?this.toDuration(n).get(n):NaN}count(n="milliseconds",r){if(!this.isValid)return NaN;const s=this.start.startOf(n,r);let l;return r?.useLocaleWeeks?l=this.end.reconfigure({locale:s.locale}):l=this.end,l=l.startOf(n,r),Math.floor(l.diff(s,n).get(n))+(l.valueOf()!==this.end.valueOf())}hasSame(n){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,n):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(n){return this.isValid?this.s>n:!1}isBefore(n){return this.isValid?this.e<=n:!1}contains(n){return this.isValid?this.s<=n&&this.e>n:!1}set({start:n,end:r}={}){return this.isValid?Gt.fromDateTimes(n||this.s,r||this.e):this}splitAt(...n){if(!this.isValid)return[];const r=n.map(ho).filter(f=>this.contains(f)).sort((f,h)=>f.toMillis()-h.toMillis()),s=[];let{s:l}=this,u=0;for(;l<this.e;){const f=r[u]||this.e,h=+f>+this.e?this.e:f;s.push(Gt.fromDateTimes(l,h)),l=h,u+=1}return s}splitBy(n){const r=pt.fromDurationLike(n);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s}=this,l=1,u;const f=[];for(;s<this.e;){const h=this.start.plus(r.mapUnits(p=>p*l));u=+h>+this.e?this.e:h,f.push(Gt.fromDateTimes(s,u)),s=u,l+=1}return f}divideEqually(n){return this.isValid?this.splitBy(this.length()/n).slice(0,n):[]}overlaps(n){return this.e>n.s&&this.s<n.e}abutsStart(n){return this.isValid?+this.e==+n.s:!1}abutsEnd(n){return this.isValid?+n.e==+this.s:!1}engulfs(n){return this.isValid?this.s<=n.s&&this.e>=n.e:!1}equals(n){return!this.isValid||!n.isValid?!1:this.s.equals(n.s)&&this.e.equals(n.e)}intersection(n){if(!this.isValid)return this;const r=this.s>n.s?this.s:n.s,s=this.e<n.e?this.e:n.e;return r>=s?null:Gt.fromDateTimes(r,s)}union(n){if(!this.isValid)return this;const r=this.s<n.s?this.s:n.s,s=this.e>n.e?this.e:n.e;return Gt.fromDateTimes(r,s)}static merge(n){const[r,s]=n.sort((l,u)=>l.s-u.s).reduce(([l,u],f)=>u?u.overlaps(f)||u.abutsStart(f)?[l,u.union(f)]:[l.concat([u]),f]:[l,f],[[],null]);return s&&r.push(s),r}static xor(n){let r=null,s=0;const l=[],u=n.map(p=>[{time:p.s,type:"s"},{time:p.e,type:"e"}]),f=Array.prototype.concat(...u),h=f.sort((p,y)=>p.time-y.time);for(const p of h)s+=p.type==="s"?1:-1,s===1?r=p.time:(r&&+r!=+p.time&&l.push(Gt.fromDateTimes(r,p.time)),r=null);return Gt.merge(l)}difference(...n){return Gt.xor([this].concat(n)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:Fi}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(n=Nu,r={}){return this.isValid?kn.create(this.s.loc.clone(r),n).formatInterval(this):Fi}toISO(n){return this.isValid?`${this.s.toISO(n)}/${this.e.toISO(n)}`:Fi}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Fi}toISOTime(n){return this.isValid?`${this.s.toISOTime(n)}/${this.e.toISOTime(n)}`:Fi}toFormat(n,{separator:r="  "}={}){return this.isValid?`${this.s.toFormat(n)}${r}${this.e.toFormat(n)}`:Fi}toDuration(n,r){return this.isValid?this.e.diff(this.s,n,r):pt.invalid(this.invalidReason)}mapEndpoints(n){return Gt.fromDateTimes(n(this.s),n(this.e))}}class go{static hasDST(n=Zt.defaultZone){const r=Fe.now().setZone(n).set({month:12});return!n.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(n){return Aa.isValidZone(n)}static normalizeZone(n){return Dr(n,Zt.defaultZone)}static getStartOfWeek({locale:n=null,locObj:r=null}={}){return(r||Et.create(n)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:n=null,locObj:r=null}={}){return(r||Et.create(n)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:n=null,locObj:r=null}={}){return(r||Et.create(n)).getWeekendDays().slice()}static months(n="long",{locale:r=null,numberingSystem:s=null,locObj:l=null,outputCalendar:u="gregory"}={}){return(l||Et.create(r,s,u)).months(n)}static monthsFormat(n="long",{locale:r=null,numberingSystem:s=null,locObj:l=null,outputCalendar:u="gregory"}={}){return(l||Et.create(r,s,u)).months(n,!0)}static weekdays(n="long",{locale:r=null,numberingSystem:s=null,locObj:l=null}={}){return(l||Et.create(r,s,null)).weekdays(n)}static weekdaysFormat(n="long",{locale:r=null,numberingSystem:s=null,locObj:l=null}={}){return(l||Et.create(r,s,null)).weekdays(n,!0)}static meridiems({locale:n=null}={}){return Et.create(n).meridiems()}static eras(n="short",{locale:r=null}={}){return Et.create(r,null,"gregory").eras(n)}static features(){return{relative:pw(),localeWeek:mw()}}}function G0(a,n){const r=l=>l.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),s=r(n)-r(a);return Math.floor(pt.fromMillis(s).as("days"))}function vN(a,n,r){const s=[["years",(p,y)=>y.year-p.year],["quarters",(p,y)=>y.quarter-p.quarter+(y.year-p.year)*4],["months",(p,y)=>y.month-p.month+(y.year-p.year)*12],["weeks",(p,y)=>{const b=G0(p,y);return(b-b%7)/7}],["days",G0]],l={},u=a;let f,h;for(const[p,y]of s)r.indexOf(p)>=0&&(f=p,l[p]=y(a,n),h=u.plus(l),h>n?(l[p]--,a=u.plus(l),a>n&&(h=a,l[p]--,a=u.plus(l))):a=h);return[a,l,h,f]}function bN(a,n,r,s){let[l,u,f,h]=vN(a,n,r);const p=n-l,y=r.filter(v=>["hours","minutes","seconds","milliseconds"].indexOf(v)>=0);y.length===0&&(f<n&&(f=l.plus({[h]:1})),f!==l&&(u[h]=(u[h]||0)+p/(f-l)));const b=pt.fromObject(u,s);return y.length>0?pt.fromMillis(p,s).shiftTo(...y).plus(b):b}const wN="missing Intl.DateTimeFormat.formatToParts support";function wt(a,n=r=>r){return{regex:a,deser:([r])=>n(cO(r))}}const SN="",Mw=`[ ${SN}]`,Rw=new RegExp(Mw,"g");function xN(a){return a.replace(/\./g,"\\.?").replace(Rw,Mw)}function Z0(a){return a.replace(/\./g,"").replace(Rw," ").toLowerCase()}function ha(a,n){return a===null?null:{regex:RegExp(a.map(xN).join("|")),deser:([r])=>a.findIndex(s=>Z0(r)===Z0(s))+n}}function P0(a,n){return{regex:a,deser:([,r,s])=>qu(r,s),groups:n}}function ou(a){return{regex:a,deser:([n])=>n}}function EN(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function kN(a,n){const r=da(n),s=da(n,"{2}"),l=da(n,"{3}"),u=da(n,"{4}"),f=da(n,"{6}"),h=da(n,"{1,2}"),p=da(n,"{1,3}"),y=da(n,"{1,6}"),b=da(n,"{1,9}"),v=da(n,"{2,4}"),S=da(n,"{4,6}"),k=L=>({regex:RegExp(EN(L.val)),deser:([Q])=>Q,literal:!0}),Z=(L=>{if(a.literal)return k(L);switch(L.val){case"G":return ha(n.eras("short"),0);case"GG":return ha(n.eras("long"),0);case"y":return wt(y);case"yy":return wt(v,vh);case"yyyy":return wt(u);case"yyyyy":return wt(S);case"yyyyyy":return wt(f);case"M":return wt(h);case"MM":return wt(s);case"MMM":return ha(n.months("short",!0),1);case"MMMM":return ha(n.months("long",!0),1);case"L":return wt(h);case"LL":return wt(s);case"LLL":return ha(n.months("short",!1),1);case"LLLL":return ha(n.months("long",!1),1);case"d":return wt(h);case"dd":return wt(s);case"o":return wt(p);case"ooo":return wt(l);case"HH":return wt(s);case"H":return wt(h);case"hh":return wt(s);case"h":return wt(h);case"mm":return wt(s);case"m":return wt(h);case"q":return wt(h);case"qq":return wt(s);case"s":return wt(h);case"ss":return wt(s);case"S":return wt(p);case"SSS":return wt(l);case"u":return ou(b);case"uu":return ou(h);case"uuu":return wt(r);case"a":return ha(n.meridiems(),0);case"kkkk":return wt(u);case"kk":return wt(v,vh);case"W":return wt(h);case"WW":return wt(s);case"E":case"c":return wt(r);case"EEE":return ha(n.weekdays("short",!1),1);case"EEEE":return ha(n.weekdays("long",!1),1);case"ccc":return ha(n.weekdays("short",!0),1);case"cccc":return ha(n.weekdays("long",!0),1);case"Z":case"ZZ":return P0(new RegExp(`([+-]${h.source})(?::(${s.source}))?`),2);case"ZZZ":return P0(new RegExp(`([+-]${h.source})(${s.source})?`),2);case"z":return ou(/[a-z_+-/]{1,256}?/i);case" ":return ou(/[^\S\n\r]/);default:return k(L)}})(a)||{invalidReason:wN};return Z.token=a,Z}const CN={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function TN(a,n,r){const{type:s,value:l}=a;if(s==="literal"){const p=/^\s+$/.test(l);return{literal:!p,val:p?" ":l}}const u=n[s];let f=s;s==="hour"&&(n.hour12!=null?f=n.hour12?"hour12":"hour24":n.hourCycle!=null?n.hourCycle==="h11"||n.hourCycle==="h12"?f="hour12":f="hour24":f=r.hour12?"hour12":"hour24");let h=CN[f];if(typeof h=="object"&&(h=h[u]),h)return{literal:!1,val:h}}function ON(a){return[`^${a.map(r=>r.regex).reduce((r,s)=>`${r}(${s.source})`,"")}$`,a]}function NN(a,n,r){const s=a.match(n);if(s){const l={};let u=1;for(const f in r)if(cs(r,f)){const h=r[f],p=h.groups?h.groups+1:1;!h.literal&&h.token&&(l[h.token.val[0]]=h.deser(s.slice(u,u+p))),u+=p}return[s,l]}else return[s,{}]}function jN(a){const n=u=>{switch(u){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,s;return Ze(a.z)||(r=Aa.create(a.z)),Ze(a.Z)||(r||(r=new Cn(a.Z)),s=a.Z),Ze(a.q)||(a.M=(a.q-1)*3+1),Ze(a.h)||(a.h<12&&a.a===1?a.h+=12:a.h===12&&a.a===0&&(a.h=0)),a.G===0&&a.y&&(a.y=-a.y),Ze(a.u)||(a.S=Fh(a.u)),[Object.keys(a).reduce((u,f)=>{const h=n(f);return h&&(u[h]=a[f]),u},{}),r,s]}let Md=null;function AN(){return Md||(Md=Fe.fromMillis(1555555555555)),Md}function _N(a,n){if(a.literal)return a;const r=kn.macroTokenToFormatOpts(a.val),s=Uw(r,n);return s==null||s.includes(void 0)?a:s}function zw(a,n){return Array.prototype.concat(...a.map(r=>_N(r,n)))}class Lw{constructor(n,r){if(this.locale=n,this.format=r,this.tokens=zw(kn.parseFormat(r),n),this.units=this.tokens.map(s=>kN(s,n)),this.disqualifyingUnit=this.units.find(s=>s.invalidReason),!this.disqualifyingUnit){const[s,l]=ON(this.units);this.regex=RegExp(s,"i"),this.handlers=l}}explainFromTokens(n){if(this.isValid){const[r,s]=NN(n,this.regex,this.handlers),[l,u,f]=s?jN(s):[null,null,void 0];if(cs(s,"a")&&cs(s,"H"))throw new Wi("Can't include meridiem when specifying 24-hour format");return{input:n,tokens:this.tokens,regex:this.regex,rawMatches:r,matches:s,result:l,zone:u,specificOffset:f}}else return{input:n,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function Bw(a,n,r){return new Lw(a,r).explainFromTokens(n)}function DN(a,n,r){const{result:s,zone:l,specificOffset:u,invalidReason:f}=Bw(a,n,r);return[s,l,u,f]}function Uw(a,n){if(!a)return null;const s=kn.create(n,a).dtFormatter(AN()),l=s.formatToParts(),u=s.resolvedOptions();return l.map(f=>TN(f,a,u))}const Rd="Invalid DateTime",F0=864e13;function vo(a){return new ma("unsupported zone",`the zone "${a.name}" is not supported`)}function zd(a){return a.weekData===null&&(a.weekData=ju(a.c)),a.weekData}function Ld(a){return a.localWeekData===null&&(a.localWeekData=ju(a.c,a.loc.getMinDaysInFirstWeek(),a.loc.getStartOfWeek())),a.localWeekData}function ti(a,n){const r={ts:a.ts,zone:a.zone,c:a.c,o:a.o,loc:a.loc,invalid:a.invalid};return new Fe({...r,...n,old:r})}function $w(a,n,r){let s=a-n*60*1e3;const l=r.offset(s);if(n===l)return[s,n];s-=(l-n)*60*1e3;const u=r.offset(s);return l===u?[s,l]:[a-Math.min(l,u)*60*1e3,Math.max(l,u)]}function lu(a,n){a+=n*60*1e3;const r=new Date(a);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function bu(a,n,r){return $w(Vu(a),n,r)}function X0(a,n){const r=a.o,s=a.c.year+Math.trunc(n.years),l=a.c.month+Math.trunc(n.months)+Math.trunc(n.quarters)*3,u={...a.c,year:s,month:l,day:Math.min(a.c.day,Au(s,l))+Math.trunc(n.days)+Math.trunc(n.weeks)*7},f=pt.fromObject({years:n.years-Math.trunc(n.years),quarters:n.quarters-Math.trunc(n.quarters),months:n.months-Math.trunc(n.months),weeks:n.weeks-Math.trunc(n.weeks),days:n.days-Math.trunc(n.days),hours:n.hours,minutes:n.minutes,seconds:n.seconds,milliseconds:n.milliseconds}).as("milliseconds"),h=Vu(u);let[p,y]=$w(h,r,a.zone);return f!==0&&(p+=f,y=a.zone.offset(p)),{ts:p,o:y}}function Xi(a,n,r,s,l,u){const{setZone:f,zone:h}=r;if(a&&Object.keys(a).length!==0||n){const p=n||h,y=Fe.fromObject(a,{...r,zone:p,specificOffset:u});return f?y:y.setZone(h)}else return Fe.invalid(new ma("unparsable",`the input "${l}" can't be parsed as ${s}`))}function uu(a,n,r=!0){return a.isValid?kn.create(Et.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(a,n):null}function Bd(a,n,r){const s=a.c.year>9999||a.c.year<0;let l="";if(s&&a.c.year>=0&&(l+="+"),l+=an(a.c.year,s?6:4),r==="year")return l;if(n){if(l+="-",l+=an(a.c.month),r==="month")return l;l+="-"}else if(l+=an(a.c.month),r==="month")return l;return l+=an(a.c.day),l}function K0(a,n,r,s,l,u,f){let h=!r||a.c.millisecond!==0||a.c.second!==0,p="";switch(f){case"day":case"month":case"year":break;default:if(p+=an(a.c.hour),f==="hour")break;if(n){if(p+=":",p+=an(a.c.minute),f==="minute")break;h&&(p+=":",p+=an(a.c.second))}else{if(p+=an(a.c.minute),f==="minute")break;h&&(p+=an(a.c.second))}if(f==="second")break;h&&(!s||a.c.millisecond!==0)&&(p+=".",p+=an(a.c.millisecond,3))}return l&&(a.isOffsetFixed&&a.offset===0&&!u?p+="Z":a.o<0?(p+="-",p+=an(Math.trunc(-a.o/60)),p+=":",p+=an(Math.trunc(-a.o%60))):(p+="+",p+=an(Math.trunc(a.o/60)),p+=":",p+=an(Math.trunc(a.o%60)))),u&&(p+="["+a.zone.ianaName+"]"),p}const Hw={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},MN={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},RN={ordinal:1,hour:0,minute:0,second:0,millisecond:0},wu=["year","month","day","hour","minute","second","millisecond"],zN=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],LN=["year","ordinal","hour","minute","second","millisecond"];function Su(a){const n={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[a.toLowerCase()];if(!n)throw new $1(a);return n}function Q0(a){switch(a.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return Su(a)}}function BN(a){if(bo===void 0&&(bo=Zt.now()),a.type!=="iana")return a.offset(bo);const n=a.name;let r=bh.get(n);return r===void 0&&(r=a.offset(bo),bh.set(n,r)),r}function J0(a,n){const r=Dr(n.zone,Zt.defaultZone);if(!r.isValid)return Fe.invalid(vo(r));const s=Et.fromObject(n);let l,u;if(Ze(a.year))l=Zt.now();else{for(const p of wu)Ze(a[p])&&(a[p]=Hw[p]);const f=dw(a)||hw(a);if(f)return Fe.invalid(f);const h=BN(r);[l,u]=bu(a,h,r)}return new Fe({ts:l,zone:r,loc:s,o:u})}function W0(a,n,r){const s=Ze(r.round)?!0:r.round,l=Ze(r.rounding)?"trunc":r.rounding,u=(h,p)=>(h=Xh(h,s||r.calendary?0:2,r.calendary?"round":l),n.loc.clone(r).relFormatter(r).format(h,p)),f=h=>r.calendary?n.hasSame(a,h)?0:n.startOf(h).diff(a.startOf(h),h).get(h):n.diff(a,h).get(h);if(r.unit)return u(f(r.unit),r.unit);for(const h of r.units){const p=f(h);if(Math.abs(p)>=1)return u(p,h)}return u(a>n?-0:0,r.units[r.units.length-1])}function eb(a){let n={},r;return a.length>0&&typeof a[a.length-1]=="object"?(n=a[a.length-1],r=Array.from(a).slice(0,a.length-1)):r=Array.from(a),[n,r]}let bo;const bh=new Map;class Fe{constructor(n){const r=n.zone||Zt.defaultZone;let s=n.invalid||(Number.isNaN(n.ts)?new ma("invalid input"):null)||(r.isValid?null:vo(r));this.ts=Ze(n.ts)?Zt.now():n.ts;let l=null,u=null;if(!s)if(n.old&&n.old.ts===this.ts&&n.old.zone.equals(r))[l,u]=[n.old.c,n.old.o];else{const h=zr(n.o)&&!n.old?n.o:r.offset(this.ts);l=lu(this.ts,h),s=Number.isNaN(l.year)?new ma("invalid input"):null,l=s?null:l,u=s?null:h}this._zone=r,this.loc=n.loc||Et.create(),this.invalid=s,this.weekData=null,this.localWeekData=null,this.c=l,this.o=u,this.isLuxonDateTime=!0}static now(){return new Fe({})}static local(){const[n,r]=eb(arguments),[s,l,u,f,h,p,y]=r;return J0({year:s,month:l,day:u,hour:f,minute:h,second:p,millisecond:y},n)}static utc(){const[n,r]=eb(arguments),[s,l,u,f,h,p,y]=r;return n.zone=Cn.utcInstance,J0({year:s,month:l,day:u,hour:f,minute:h,second:p,millisecond:y},n)}static fromJSDate(n,r={}){const s=mO(n)?n.valueOf():NaN;if(Number.isNaN(s))return Fe.invalid("invalid input");const l=Dr(r.zone,Zt.defaultZone);return l.isValid?new Fe({ts:s,zone:l,loc:Et.fromObject(r)}):Fe.invalid(vo(l))}static fromMillis(n,r={}){if(zr(n))return n<-F0||n>F0?Fe.invalid("Timestamp out of range"):new Fe({ts:n,zone:Dr(r.zone,Zt.defaultZone),loc:Et.fromObject(r)});throw new En(`fromMillis requires a numerical input, but received a ${typeof n} with value ${n}`)}static fromSeconds(n,r={}){if(zr(n))return new Fe({ts:n*1e3,zone:Dr(r.zone,Zt.defaultZone),loc:Et.fromObject(r)});throw new En("fromSeconds requires a numerical input")}static fromObject(n,r={}){n=n||{};const s=Dr(r.zone,Zt.defaultZone);if(!s.isValid)return Fe.invalid(vo(s));const l=Et.fromObject(r),u=_u(n,Q0),{minDaysInFirstWeek:f,startOfWeek:h}=B0(u,l),p=Zt.now(),y=Ze(r.specificOffset)?s.offset(p):r.specificOffset,b=!Ze(u.ordinal),v=!Ze(u.year),S=!Ze(u.month)||!Ze(u.day),k=v||S,N=u.weekYear||u.weekNumber;if((k||b)&&N)throw new Wi("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(S&&b)throw new Wi("Can't mix ordinal dates with month/day");const Z=N||u.weekday&&!k;let L,Q,J=lu(p,y);Z?(L=zN,Q=MN,J=ju(J,f,h)):b?(L=LN,Q=RN,J=Dd(J)):(L=wu,Q=Hw);let V=!1;for(const X of L){const ue=u[X];Ze(ue)?V?u[X]=Q[X]:u[X]=J[X]:V=!0}const F=Z?dO(u,f,h):b?hO(u):dw(u),ce=F||hw(u);if(ce)return Fe.invalid(ce);const oe=Z?z0(u,f,h):b?L0(u):u,[H,ie]=bu(oe,y,s),re=new Fe({ts:H,zone:s,o:ie,loc:l});return u.weekday&&k&&n.weekday!==re.weekday?Fe.invalid("mismatched weekday",`you can't specify both a weekday of ${u.weekday} and a date of ${re.toISO()}`):re.isValid?re:Fe.invalid(re.invalid)}static fromISO(n,r={}){const[s,l]=rN(n);return Xi(s,l,r,"ISO 8601",n)}static fromRFC2822(n,r={}){const[s,l]=iN(n);return Xi(s,l,r,"RFC 2822",n)}static fromHTTP(n,r={}){const[s,l]=sN(n);return Xi(s,l,r,"HTTP",r)}static fromFormat(n,r,s={}){if(Ze(n)||Ze(r))throw new En("fromFormat requires an input string and a format");const{locale:l=null,numberingSystem:u=null}=s,f=Et.fromOpts({locale:l,numberingSystem:u,defaultToEN:!0}),[h,p,y,b]=DN(f,n,r);return b?Fe.invalid(b):Xi(h,p,s,`format ${r}`,n,y)}static fromString(n,r,s={}){return Fe.fromFormat(n,r,s)}static fromSQL(n,r={}){const[s,l]=hN(n);return Xi(s,l,r,"SQL",n)}static invalid(n,r=null){if(!n)throw new En("need to specify a reason the DateTime is invalid");const s=n instanceof ma?n:new ma(n,r);if(Zt.throwOnInvalid)throw new IT(s);return new Fe({invalid:s})}static isDateTime(n){return n&&n.isLuxonDateTime||!1}static parseFormatForOpts(n,r={}){const s=Uw(n,Et.fromObject(r));return s?s.map(l=>l?l.val:null).join(""):null}static expandFormat(n,r={}){return zw(kn.parseFormat(n),Et.fromObject(r)).map(l=>l.val).join("")}static resetCache(){bo=void 0,bh.clear()}get(n){return this[n]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?zd(this).weekYear:NaN}get weekNumber(){return this.isValid?zd(this).weekNumber:NaN}get weekday(){return this.isValid?zd(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Ld(this).weekday:NaN}get localWeekNumber(){return this.isValid?Ld(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Ld(this).weekYear:NaN}get ordinal(){return this.isValid?Dd(this.c).ordinal:NaN}get monthShort(){return this.isValid?go.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?go.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?go.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?go.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const n=864e5,r=6e4,s=Vu(this.c),l=this.zone.offset(s-n),u=this.zone.offset(s+n),f=this.zone.offset(s-l*r),h=this.zone.offset(s-u*r);if(f===h)return[this];const p=s-f*r,y=s-h*r,b=lu(p,f),v=lu(y,h);return b.hour===v.hour&&b.minute===v.minute&&b.second===v.second&&b.millisecond===v.millisecond?[ti(this,{ts:p}),ti(this,{ts:y})]:[this]}get isInLeapYear(){return _o(this.year)}get daysInMonth(){return Au(this.year,this.month)}get daysInYear(){return this.isValid?ts(this.year):NaN}get weeksInWeekYear(){return this.isValid?Oo(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Oo(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(n={}){const{locale:r,numberingSystem:s,calendar:l}=kn.create(this.loc.clone(n),n).resolvedOptions(this);return{locale:r,numberingSystem:s,outputCalendar:l}}toUTC(n=0,r={}){return this.setZone(Cn.instance(n),r)}toLocal(){return this.setZone(Zt.defaultZone)}setZone(n,{keepLocalTime:r=!1,keepCalendarTime:s=!1}={}){if(n=Dr(n,Zt.defaultZone),n.equals(this.zone))return this;if(n.isValid){let l=this.ts;if(r||s){const u=n.offset(this.ts),f=this.toObject();[l]=bu(f,u,n)}return ti(this,{ts:l,zone:n})}else return Fe.invalid(vo(n))}reconfigure({locale:n,numberingSystem:r,outputCalendar:s}={}){const l=this.loc.clone({locale:n,numberingSystem:r,outputCalendar:s});return ti(this,{loc:l})}setLocale(n){return this.reconfigure({locale:n})}set(n){if(!this.isValid)return this;const r=_u(n,Q0),{minDaysInFirstWeek:s,startOfWeek:l}=B0(r,this.loc),u=!Ze(r.weekYear)||!Ze(r.weekNumber)||!Ze(r.weekday),f=!Ze(r.ordinal),h=!Ze(r.year),p=!Ze(r.month)||!Ze(r.day),y=h||p,b=r.weekYear||r.weekNumber;if((y||f)&&b)throw new Wi("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(p&&f)throw new Wi("Can't mix ordinal dates with month/day");let v;u?v=z0({...ju(this.c,s,l),...r},s,l):Ze(r.ordinal)?(v={...this.toObject(),...r},Ze(r.day)&&(v.day=Math.min(Au(v.year,v.month),v.day))):v=L0({...Dd(this.c),...r});const[S,k]=bu(v,this.o,this.zone);return ti(this,{ts:S,o:k})}plus(n){if(!this.isValid)return this;const r=pt.fromDurationLike(n);return ti(this,X0(this,r))}minus(n){if(!this.isValid)return this;const r=pt.fromDurationLike(n).negate();return ti(this,X0(this,r))}startOf(n,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;const s={},l=pt.normalizeUnit(n);switch(l){case"years":s.month=1;case"quarters":case"months":s.day=1;case"weeks":case"days":s.hour=0;case"hours":s.minute=0;case"minutes":s.second=0;case"seconds":s.millisecond=0;break}if(l==="weeks")if(r){const u=this.loc.getStartOfWeek(),{weekday:f}=this;f<u&&(s.weekNumber=this.weekNumber-1),s.weekday=u}else s.weekday=1;if(l==="quarters"){const u=Math.ceil(this.month/3);s.month=(u-1)*3+1}return this.set(s)}endOf(n,r){return this.isValid?this.plus({[n]:1}).startOf(n,r).minus(1):this}toFormat(n,r={}){return this.isValid?kn.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,n):Rd}toLocaleString(n=Nu,r={}){return this.isValid?kn.create(this.loc.clone(r),n).formatDateTime(this):Rd}toLocaleParts(n={}){return this.isValid?kn.create(this.loc.clone(n),n).formatDateTimeParts(this):[]}toISO({format:n="extended",suppressSeconds:r=!1,suppressMilliseconds:s=!1,includeOffset:l=!0,extendedZone:u=!1,precision:f="milliseconds"}={}){if(!this.isValid)return null;f=Su(f);const h=n==="extended";let p=Bd(this,h,f);return wu.indexOf(f)>=3&&(p+="T"),p+=K0(this,h,r,s,l,u,f),p}toISODate({format:n="extended",precision:r="day"}={}){return this.isValid?Bd(this,n==="extended",Su(r)):null}toISOWeekDate(){return uu(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:n=!1,suppressSeconds:r=!1,includeOffset:s=!0,includePrefix:l=!1,extendedZone:u=!1,format:f="extended",precision:h="milliseconds"}={}){return this.isValid?(h=Su(h),(l&&wu.indexOf(h)>=3?"T":"")+K0(this,f==="extended",r,n,s,u,h)):null}toRFC2822(){return uu(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return uu(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Bd(this,!0):null}toSQLTime({includeOffset:n=!0,includeZone:r=!1,includeOffsetSpace:s=!0}={}){let l="HH:mm:ss.SSS";return(r||n)&&(s&&(l+=" "),r?l+="z":n&&(l+="ZZ")),uu(this,l,!0)}toSQL(n={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(n)}`:null}toString(){return this.isValid?this.toISO():Rd}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(n={}){if(!this.isValid)return{};const r={...this.c};return n.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(n,r="milliseconds",s={}){if(!this.isValid||!n.isValid)return pt.invalid("created by diffing an invalid DateTime");const l={locale:this.locale,numberingSystem:this.numberingSystem,...s},u=yO(r).map(pt.normalizeUnit),f=n.valueOf()>this.valueOf(),h=f?this:n,p=f?n:this,y=bN(h,p,u,l);return f?y.negate():y}diffNow(n="milliseconds",r={}){return this.diff(Fe.now(),n,r)}until(n){return this.isValid?Gt.fromDateTimes(this,n):this}hasSame(n,r,s){if(!this.isValid)return!1;const l=n.valueOf(),u=this.setZone(n.zone,{keepLocalTime:!0});return u.startOf(r,s)<=l&&l<=u.endOf(r,s)}equals(n){return this.isValid&&n.isValid&&this.valueOf()===n.valueOf()&&this.zone.equals(n.zone)&&this.loc.equals(n.loc)}toRelative(n={}){if(!this.isValid)return null;const r=n.base||Fe.fromObject({},{zone:this.zone}),s=n.padding?this<r?-n.padding:n.padding:0;let l=["years","months","days","hours","minutes","seconds"],u=n.unit;return Array.isArray(n.unit)&&(l=n.unit,u=void 0),W0(r,this.plus(s),{...n,numeric:"always",units:l,unit:u})}toRelativeCalendar(n={}){return this.isValid?W0(n.base||Fe.fromObject({},{zone:this.zone}),this,{...n,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...n){if(!n.every(Fe.isDateTime))throw new En("min requires all arguments be DateTimes");return U0(n,r=>r.valueOf(),Math.min)}static max(...n){if(!n.every(Fe.isDateTime))throw new En("max requires all arguments be DateTimes");return U0(n,r=>r.valueOf(),Math.max)}static fromFormatExplain(n,r,s={}){const{locale:l=null,numberingSystem:u=null}=s,f=Et.fromOpts({locale:l,numberingSystem:u,defaultToEN:!0});return Bw(f,n,r)}static fromStringExplain(n,r,s={}){return Fe.fromFormatExplain(n,r,s)}static buildFormatParser(n,r={}){const{locale:s=null,numberingSystem:l=null}=r,u=Et.fromOpts({locale:s,numberingSystem:l,defaultToEN:!0});return new Lw(u,n)}static fromFormatParser(n,r,s={}){if(Ze(n)||Ze(r))throw new En("fromFormatParser requires an input string and a format parser");const{locale:l=null,numberingSystem:u=null}=s,f=Et.fromOpts({locale:l,numberingSystem:u,defaultToEN:!0});if(!f.equals(r.locale))throw new En(`fromFormatParser called with a locale of ${f}, but the format parser was created for ${r.locale}`);const{result:h,zone:p,specificOffset:y,invalidReason:b}=r.explainFromTokens(n);return b?Fe.invalid(b):Xi(h,p,s,`format ${r.format}`,n,y)}static get DATE_SHORT(){return Nu}static get DATE_MED(){return H1}static get DATE_MED_WITH_WEEKDAY(){return YT}static get DATE_FULL(){return I1}static get DATE_HUGE(){return V1}static get TIME_SIMPLE(){return q1}static get TIME_WITH_SECONDS(){return Y1}static get TIME_WITH_SHORT_OFFSET(){return G1}static get TIME_WITH_LONG_OFFSET(){return Z1}static get TIME_24_SIMPLE(){return P1}static get TIME_24_WITH_SECONDS(){return F1}static get TIME_24_WITH_SHORT_OFFSET(){return X1}static get TIME_24_WITH_LONG_OFFSET(){return K1}static get DATETIME_SHORT(){return Q1}static get DATETIME_SHORT_WITH_SECONDS(){return J1}static get DATETIME_MED(){return W1}static get DATETIME_MED_WITH_SECONDS(){return ew}static get DATETIME_MED_WITH_WEEKDAY(){return GT}static get DATETIME_FULL(){return tw}static get DATETIME_FULL_WITH_SECONDS(){return nw}static get DATETIME_HUGE(){return aw}static get DATETIME_HUGE_WITH_SECONDS(){return rw}}function ho(a){if(Fe.isDateTime(a))return a;if(a&&a.valueOf&&zr(a.valueOf()))return Fe.fromJSDate(a);if(a&&typeof a=="object")return Fe.fromObject(a);throw new En(`Unknown datetime argument: ${a}, of type ${typeof a}`)}const UN="3.7.2",$N=Object.freeze(Object.defineProperty({__proto__:null,DateTime:Fe,Duration:pt,FixedOffsetZone:Cn,IANAZone:Aa,Info:go,Interval:Gt,InvalidZone:ow,Settings:Zt,SystemZone:Ao,VERSION:UN,Zone:ms},Symbol.toStringTag,{value:"Module"}));window.Rete=DE;window.React=aE;window.RefComponent=Bh;window.luxon=$N;window.nodeRegistry=xn;window.sockets=ls;window.socket=Ce;window.apiUrl=us;window.getApiBase=Uu;window.apiFetch=async function(a,n={}){const r=us(a);return fetch(r,n)};let oi={isLoading:!1,progress:0,status:"Ready",loadedCount:0,totalCount:0,failedPlugins:[],error:null};const wh=new Set;function Iw(a){return wh.add(a),a({...oi}),()=>wh.delete(a)}function Ki(a){oi={...oi,...a},wh.forEach(n=>n({...oi}))}function HN(){return{...oi}}async function IN(){Ki({isLoading:!0,progress:0,status:"Fetching plugin list...",error:null,failedPlugins:[]});try{const a=await fetch(us("/api/plugins"));if(!a.ok)throw new Error("Failed to fetch plugin list");const n=await a.json(),r=n.length;Ki({totalCount:r,status:`Loading ${r} plugins...`});let s=0;for(const u of n){const f=u.split("/").pop().replace(".js","");Ki({status:`Loading ${f}...`});try{await VN(us(u)),s++,Ki({loadedCount:s,progress:Math.round(s/r*100)})}catch(h){console.error(`[PluginLoader] Failed to load ${u}`,h),oi.failedPlugins.push({name:f,error:h.message})}}const l=oi.failedPlugins.length;Ki({isLoading:!1,progress:100,status:l>0?`Loaded ${s} plugins (${l} failed)`:`Loaded ${s} plugins`})}catch(a){console.error("[PluginLoader] Error loading plugins:",a),Ki({isLoading:!1,error:a.message,status:"Failed to load plugins"})}}function VN(a){return new Promise((n,r)=>{const s=document.createElement("script");s.src=a,s.onload=n,s.onerror=r,document.body.appendChild(s)})}const Vw=E.createContext(null),tb={success:{icon:"",className:"toast-success"},error:{icon:"",className:"toast-error"},warning:{icon:"",className:"toast-warning"},info:{icon:"",className:"toast-info"}};function qN({id:a,type:n,message:r,duration:s,onRemove:l,action:u,actionLabel:f}){const[h,p]=E.useState(!1),y=tb[n]||tb.info;E.useEffect(()=>{if(s>0){const S=setTimeout(()=>{p(!0),setTimeout(()=>l(a),300)},s);return()=>clearTimeout(S)}},[a,s,l]);const b=()=>{p(!0),setTimeout(()=>l(a),300)},v=()=>{u&&u(),b()};return m.jsxs("div",{className:`toast ${y.className} ${h?"toast-exit":""}`,children:[m.jsx("span",{className:"toast-icon",children:y.icon}),m.jsx("span",{className:"toast-message",children:r}),u&&f&&m.jsx("button",{className:"toast-action",onClick:v,children:f}),m.jsx("button",{className:"toast-close",onClick:b,children:""})]})}function YN({children:a}){const[n,r]=E.useState([]);let s=0;const l=E.useCallback((h,p,y={})=>{const b=++s,v=typeof y=="number"?y:y.duration??4e3,S=typeof y=="object"?y.action:null,k=typeof y=="object"?y.actionLabel:null;return r(N=>[...N,{id:b,type:h,message:p,duration:v,action:S,actionLabel:k}]),b},[]),u=E.useCallback(h=>{r(p=>p.filter(y=>y.id!==h))},[]),f={success:(h,p)=>l("success",h,p),error:(h,p)=>l("error",h,typeof p=="number"?p:{duration:6e3,...p}),warning:(h,p)=>l("warning",h,p),info:(h,p)=>l("info",h,p),dismiss:u,dismissAll:()=>r([])};return m.jsxs(Vw.Provider,{value:f,children:[a,m.jsx("div",{className:"toast-container",children:n.map(h=>m.jsx(qN,{id:h.id,type:h.type,message:h.message,duration:h.duration,onRemove:u,action:h.action,actionLabel:h.actionLabel},h.id))})]})}function Wh(){const a=E.useContext(Vw);return a||{success:()=>{},error:()=>{},warning:()=>{},info:()=>{},dismiss:()=>{},dismissAll:()=>{}}}function GN(){const a=Wh();return E.useEffect(()=>(typeof window<"u"&&(window.T2Toast=a),()=>{typeof window<"u"&&(window.T2Toast=null)}),[a]),null}typeof window<"u"&&(window.T2Toast=null);function ZN({onSave:a,onLoad:n,onClear:r,onExport:s,onImport:l,hasUnsavedChanges:u,isMerged:f=!1,onToggleMerged:h}){const[p,y]=E.useState(!1),[b,v]=E.useState(!1),[S,k]=E.useState(!1),[N,Z]=E.useState(!1),L=Wh(),[Q,J]=E.useState(()=>{const Ee=localStorage.getItem("dock-position");return Ee?JSON.parse(Ee):{x:20,y:20}}),[V,F]=E.useState(!1),[ce,oe]=E.useState({x:0,y:0}),[H,ie]=E.useState(!0),[re,X]=E.useState(!0),[ue,Ne]=E.useState(!1),[_e,Ge]=E.useState(new Date),[je,C]=E.useState({backend:Ce.connected,ha:{connected:!1,wsConnected:!1,deviceCount:0},hue:{connected:!1,deviceCount:0},kasa:{connected:!1,deviceCount:0},shelly:{connected:!1,deviceCount:0}}),[U,le]=E.useState({loaded:0,failed:0,total:0});let ye;const be=E.useRef(null),x=E.useRef(null);E.useEffect(()=>{ye=Iw(qe=>{let I=0,ae=qe.totalCount||0;window.nodeRegistry&&typeof window.nodeRegistry.getAll=="function"?(I=window.nodeRegistry.getAll().length,(!ae||I>ae)&&(ae=I)):I=qe.loadedCount,le({loaded:I,failed:qe.failedPlugins?.length||0,total:ae})});const Ee=qe=>{qe.target.tagName==="INPUT"||qe.target.tagName==="TEXTAREA"||qe.target.isContentEditable||(qe.key==="?"||qe.shiftKey&&qe.code==="Slash")&&(qe.preventDefault(),v(!0))};return window.addEventListener("keydown",Ee),()=>window.removeEventListener("keydown",Ee)},[]),E.useEffect(()=>{const Ee=()=>{C(D=>({...D,backend:!0})),Ce.emit("request-hue-status")},qe=()=>C(D=>({...D,backend:!1})),I=D=>C(W=>({...W,ha:{connected:D.connected,wsConnected:D.wsConnected,deviceCount:D.deviceCount||0}})),ae=D=>{D.hue&&C(W=>({...W,hue:D.hue})),D.kasa&&C(W=>({...W,kasa:D.kasa})),D.shelly&&C(W=>({...W,shelly:D.shelly}))},K=D=>{C(W=>({...W,hue:{connected:D.connected,deviceCount:D.deviceCount||0,bridgeIp:D.bridgeIp||null}}))};Ce.on("connect",Ee),Ce.on("disconnect",qe),Ce.on("ha-connection-status",I),Ce.on("device-counts",ae),Ce.on("hue-connection-status",K),C(D=>({...D,backend:Ce.connected})),Ce.connected&&Ce.emit("request-hue-status");const xe=HN();let he=0,q=xe.totalCount||0;return window.nodeRegistry&&typeof window.nodeRegistry.getAll=="function"?(he=window.nodeRegistry.getAll().length,(!q||he>q)&&(q=he)):he=xe.loadedCount,le({loaded:he,failed:xe.failedPlugins?.length||0,total:q}),()=>{Ce.off("connect",Ee),Ce.off("disconnect",qe),Ce.off("ha-connection-status",I),Ce.off("device-counts",ae),Ce.off("hue-connection-status",K),ye&&ye()}},[]),E.useEffect(()=>{const Ee=setInterval(()=>{Ge(new Date)},1e3);return()=>clearInterval(Ee)},[]);const R=()=>{const Ee={weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"};return _e.toLocaleDateString("en-US",Ee)};E.useEffect(()=>{localStorage.setItem("dock-position",JSON.stringify(Q))},[Q]);const _=Ee=>{f||Ee.target.closest(".dock-header")&&(F(!0),oe({x:Ee.clientX-Q.x,y:Ee.clientY-Q.y}))},G=Ee=>{V&&J({x:Ee.clientX-ce.x,y:Ee.clientY-ce.y})},pe=()=>{F(!1)};E.useEffect(()=>{if(V)return window.addEventListener("mousemove",G),window.addEventListener("mouseup",pe),()=>{window.removeEventListener("mousemove",G),window.removeEventListener("mouseup",pe)}},[V,ce]);const Oe=()=>{x.current?.click()},Ve=Ee=>{const qe=Ee.target.files?.[0];if(qe){const I=new FileReader;I.onload=ae=>{try{const K=JSON.parse(ae.target.result);l(K)}catch(K){console.error("Failed to parse JSON:",K),alert("Invalid JSON file")}},I.readAsText(qe)}Ee.target.value=""},Be=async()=>{if(!S){k(!0);try{const Ee=await Oa("/api/update/check?force=true");if(!Ee.ok){const I=await Ee.text();throw new Error(I||`HTTP ${Ee.status}`)}const qe=await Ee.json();qe.hasUpdate?L.info(` Update available: ${qe.currentVersion}  ${qe.newVersion}`,{duration:0,actionLabel:"View Details",action:()=>{Ce.emit("request-show-update-modal",qe),window.dispatchEvent(new CustomEvent("showUpdateModal",{detail:qe}))}}):L.success(` You're up to date! (v${qe.currentVersion})`,4e3)}catch(Ee){console.error("Failed to check for updates:",Ee),L.error("Failed to check for updates: "+Ee.message,5e3)}finally{k(!1)}}},Le=async()=>{if(!N){Z(!0);try{const Ee=await Oa("/api/update/plugins/check");if(!Ee.ok)throw new Error(`HTTP ${Ee.status}`);const qe=await Ee.json();if(!qe.hasUpdates){L.success(" Plugins are up to date!",3e3);return}const I=(qe.newPlugins?.length||0)+(qe.modifiedPlugins?.length||0);L.info(` ${I} plugin update(s) available. Downloading...`,3e3);const ae=await Oa("/api/update/plugins",{method:"POST"});if(!ae.ok)throw new Error(`HTTP ${ae.status}`);const K=await ae.json();K.success&&K.updated?.length>0?L.success(` Updated ${K.updated.length} plugin(s). Refresh page to load them.`,{duration:0,actionLabel:"Refresh Now",action:()=>window.location.reload()}):K.updated?.length===0?L.info("No plugins needed updating",3e3):L.error("Plugin update failed: "+(K.error||"Unknown error"),5e3)}catch(Ee){console.error("Failed to update plugins:",Ee),L.error("Failed to update plugins: "+Ee.message,5e3)}finally{Z(!1)}}};return m.jsxs("div",{ref:be,className:`dock-container ${f?"dock-merged":""}`,style:{...f?{cursor:"default"}:{left:`${Q.x}px`,top:`${Q.y}px`,cursor:V?"grabbing":"default"}},onMouseDown:_,children:[m.jsxs("div",{className:"dock-header",style:{cursor:f?"default":"grab"},children:[m.jsxs("div",{className:"dock-header-row",children:[m.jsx("span",{className:"dock-title",children:" Control Panel"}),m.jsx("button",{type:"button",className:"dock-btn-small",onClick:Ee=>{Ee.stopPropagation(),h?.()},onMouseDown:Ee=>Ee.stopPropagation(),title:f?"Pop Control Panel back out":"Merge Control Panel into the Forecast panel",children:f?"Pop out":"Merge"})]}),m.jsx("span",{className:"dock-datetime",children:R()})]}),m.jsxs("div",{className:"dock-section",children:[m.jsx("div",{className:"dock-section-header",onClick:()=>ie(!H),children:m.jsxs("span",{children:[H?"":""," Graph Tools ",u&&m.jsx("span",{className:"unsaved-dot",title:"Unsaved changes",children:""})]})}),H&&m.jsxs("div",{className:"dock-section-content",children:[m.jsxs("button",{onClick:a,className:`dock-btn ${u?"dock-btn-unsaved":""}`,children:[" Save ",u&&"*"]}),m.jsx("button",{onClick:n,className:"dock-btn",children:" Load Last"}),m.jsx("button",{onClick:Oe,className:"dock-btn",children:" Import File"}),m.jsx("button",{onClick:r,className:"dock-btn",children:" Clear"}),m.jsx("input",{ref:x,type:"file",accept:".json",style:{display:"none"},onChange:Ve})]})]}),m.jsxs("div",{className:"dock-section",children:[m.jsx("div",{className:"dock-section-header",onClick:()=>X(!re),children:m.jsxs("span",{children:[re?"":""," Connection Status"]})}),re&&m.jsxs("div",{className:"dock-section-content dock-status-grid",children:[m.jsxs("div",{className:`dock-status-item ${je.backend?"connected":"disconnected"}`,children:[m.jsx("span",{className:"dock-status-dot"}),m.jsx("span",{className:"dock-status-label",children:"Backend"}),m.jsx("span",{className:"dock-status-value",children:je.backend?"Connected":"Offline"})]}),m.jsxs("div",{className:`dock-status-item ${je.ha.connected?"connected":"disconnected"}`,children:[m.jsx("span",{className:"dock-status-dot"}),m.jsx("span",{className:"dock-status-label",children:"Home Assistant"}),m.jsx("span",{className:"dock-status-value",children:je.ha.connected?`${je.ha.deviceCount} devices`:"Offline"})]}),m.jsxs("div",{className:`dock-status-item ${je.hue.connected?"connected":"disconnected"}`,children:[m.jsx("span",{className:"dock-status-dot"}),m.jsx("span",{className:"dock-status-label",children:"Philips Hue"}),m.jsx("span",{className:"dock-status-value",children:je.hue.connected?`${je.hue.deviceCount||0} lights${je.hue.bridgeIp?` (${je.hue.bridgeIp})`:""}`:"Offline"})]}),je.kasa.deviceCount>0&&m.jsxs("div",{className:`dock-status-item ${je.kasa.connected?"connected":"disconnected"}`,children:[m.jsx("span",{className:"dock-status-dot"}),m.jsx("span",{className:"dock-status-label",children:"Kasa"}),m.jsxs("span",{className:"dock-status-value",children:[je.kasa.deviceCount," devices"]})]}),m.jsxs("div",{className:"dock-status-item plugins",children:[m.jsx("span",{className:"dock-status-dot",style:{background:U.failed>0?"#f59e0b":"#10b981"}}),m.jsx("span",{className:"dock-status-label",children:"Plugins"}),m.jsx("span",{className:"dock-status-value",children:U.total>0?`${U.loaded} / ${U.total} loaded${U.failed>0?` (${U.failed} failed)`:""}`:`${U.loaded} loaded`})]})]})]}),m.jsx(VC,{isExpanded:ue,onToggle:()=>Ne(!ue)}),m.jsx("div",{className:"dock-section",children:m.jsxs("div",{className:"dock-section-content",children:[m.jsx("button",{onClick:()=>y(!0),className:"dock-btn dock-btn-settings",children:" Settings & API Keys"}),m.jsx("button",{onClick:()=>v(!0),className:"dock-btn dock-btn-help",children:" Keyboard Shortcuts"}),m.jsx("button",{onClick:Be,disabled:S,className:"dock-btn dock-btn-update",title:"Check for available updates (full rebuild)",children:S?" Checking...":" Check for Updates"}),m.jsx("button",{onClick:Le,disabled:N,className:"dock-btn dock-btn-plugins",title:"Hot-update plugins without restart",children:N?" Updating...":" Update Plugins"})]})}),m.jsx($C,{isOpen:p,onClose:()=>y(!1)}),m.jsx(IC,{isOpen:b,onClose:()=>v(!1)})]})}function PN({dockSlotRef:a}){const[n,r]=E.useState(!0),[s,l]=E.useState(!0),[u,f]=E.useState(null),[h,p]=E.useState(null),[y,b]=E.useState(Ce?.connected??!1),[v,S]=E.useState({connected:!1,wsConnected:!1,deviceCount:0}),[k,N]=E.useState(new Map),[Z,L]=E.useState(()=>parseInt(localStorage.getItem("forecastPanelWidth"))||320),[Q,J]=E.useState(()=>parseInt(localStorage.getItem("devicesOnHeight"))||200),V=E.useRef(null);E.useEffect(()=>{if(!Ce)return;const X=()=>{b(!0),Ce.emit("request-ha-status")},ue=()=>{b(!1),S({connected:!1,wsConnected:!1,deviceCount:0})},Ne=Ge=>{S(Ge)};Ce.on("connect",X),Ce.on("disconnect",ue),Ce.on("ha-connection-status",Ne),Ce.on("forecast-update",Ge=>{f(Ge)});const _e=Ge=>{const{id:je,state:C,on:U,name:le}=Ge;if(!je)return;const ye=U!==void 0?U:C==="on"||C==="playing"||C==="open",be=le||Ge.friendly_name||Ge.attributes?.friendly_name||je.replace("ha_","").replace("kasa_","").replace(/\./g," ").replace(/_/g," ");(je.includes("light.")||je.includes("switch.")||je.startsWith("kasa_"))&&N(R=>{const _=new Map(R);return ye?_.set(je,{name:be,on:!0}):_.delete(je),_})};return Ce.on("device-state-update",_e),Ce.emit("request-forecast"),Ce.connected&&(b(!0),Ce.emit("request-ha-status")),()=>{Ce.off("connect",X),Ce.off("disconnect",ue),Ce.off("ha-connection-status",Ne),Ce.off("forecast-update"),Ce.off("device-state-update",_e)}},[]);const F=()=>{Ce?.emit("request-forecast")},ce=X=>{const ue=(X||"").toLowerCase();return ue.includes("clear")||ue.includes("sun")?m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#FFD700",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"12",cy:"12",r:"5"}),m.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),m.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),m.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),m.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),m.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),m.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),m.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),m.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):ue.includes("rain")||ue.includes("drizzle")||ue.includes("shower")?m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#4facfe",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M20 16.2A4.5 4.5 0 0 0 17.5 8h-1.8A7 7 0 1 0 4 14.9"}),m.jsx("line",{x1:"8",y1:"19",x2:"8",y2:"21"}),m.jsx("line",{x1:"8",y1:"13",x2:"8",y2:"15"}),m.jsx("line",{x1:"16",y1:"19",x2:"16",y2:"21"}),m.jsx("line",{x1:"16",y1:"13",x2:"16",y2:"15"}),m.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),m.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"17"})]}):ue.includes("partly")||ue.includes("partial")||ue.includes("few")?m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M13 2v2",stroke:"#FFD700"}),m.jsx("path",{d:"M3 13h2",stroke:"#FFD700"}),m.jsx("path",{d:"M20 13h2",stroke:"#FFD700"}),m.jsx("path",{d:"M5.6 5.6l1.4 1.4",stroke:"#FFD700"}),m.jsx("path",{d:"M18.4 5.6l-1.4 1.4",stroke:"#FFD700"}),m.jsx("circle",{cx:"13",cy:"9",r:"4",stroke:"#FFD700"}),m.jsx("path",{d:"M17 17h-10a4 4 0 0 1 0-8h.5a5.5 5.5 0 0 1 10.5 3h.5a3 3 0 0 1 0 6z",stroke:"#B0C4DE",fill:"none"})]}):ue.includes("snow")||ue.includes("flurr")?m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#B0E0E6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"}),m.jsx("line",{x1:"8",y1:"16",x2:"8",y2:"16.01"}),m.jsx("line",{x1:"8",y1:"20",x2:"8",y2:"20.01"}),m.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"18.01"}),m.jsx("line",{x1:"12",y1:"22",x2:"12",y2:"22.01"}),m.jsx("line",{x1:"16",y1:"16",x2:"16",y2:"16.01"}),m.jsx("line",{x1:"16",y1:"20",x2:"16",y2:"20.01"})]}):ue.includes("thunder")||ue.includes("storm")?m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#9370DB",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"}),m.jsx("polyline",{points:"13 11 9 17 15 17 11 23",stroke:"#FFD700",fill:"none"})]}):ue.includes("fog")||ue.includes("mist")||ue.includes("haze")?m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#A9A9A9",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"}),m.jsx("line",{x1:"3",y1:"20",x2:"21",y2:"20"}),m.jsx("line",{x1:"3",y1:"17",x2:"21",y2:"17"})]}):m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#B0C4DE",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"})})},oe=X=>{if(!X)return{day:"",date:""};let ue;if(typeof X=="string"&&X.match(/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun)/i)){const Ge=X.match(/(\w+),\s*(\w+)\s*(\d+)/);return Ge?{day:`${Ge[1]}, ${Ge[2]}`,date:Ge[3]}:{day:X,date:""}}if(ue=new Date(parseInt(X)||X),isNaN(ue.getTime()))return{day:X,date:""};const Ne=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],_e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return{day:`${Ne[ue.getDay()]}, ${_e[ue.getMonth()]}`,date:`${ue.getDate()}`}},H=()=>{if(!u||!u.length)return m.jsx("div",{className:"forecast-empty",children:"No forecast data"});if(h!==null){const X=u[h],ue=oe(X.date||X.day);return m.jsxs("div",{className:"forecast-detail",children:[m.jsxs("div",{className:"forecast-detail-header",children:[m.jsx("button",{className:"detail-back-btn",onClick:()=>p(null),children:" Back"}),m.jsxs("span",{className:"detail-date",children:[ue.day," ",ue.date]})]}),m.jsxs("div",{className:"detail-main",children:[m.jsx("div",{className:"detail-icon",children:ce(X.conditions||X.condition)}),m.jsxs("div",{className:"detail-temps",children:[m.jsxs("div",{className:"detail-high",children:[X.high,""]}),m.jsxs("div",{className:"detail-low",children:[X.low,""]})]}),m.jsx("div",{className:"detail-condition",children:X.conditions||X.condition||"N/A"})]}),X.description&&m.jsx("div",{className:"detail-description",children:X.description}),m.jsxs("div",{className:"detail-stats",children:[m.jsxs("div",{className:"detail-stat",children:[m.jsx("span",{className:"stat-label",children:"Precipitation"}),m.jsx("span",{className:"stat-value",children:X.precipitation||X.precip||"0%"})]}),X.humidity&&m.jsxs("div",{className:"detail-stat",children:[m.jsx("span",{className:"stat-label",children:"Humidity"}),m.jsxs("span",{className:"stat-value",children:[X.humidity,"%"]})]}),X.wind&&m.jsxs("div",{className:"detail-stat",children:[m.jsx("span",{className:"stat-label",children:"Wind"}),m.jsx("span",{className:"stat-value",children:X.wind})]}),(X.sunrise||X.sunset)&&m.jsxs("div",{className:"detail-sun-times",children:[X.sunrise&&m.jsxs("div",{className:"detail-stat",children:[m.jsx("span",{className:"stat-label",children:" Sunrise"}),m.jsx("span",{className:"stat-value",children:X.sunrise})]}),X.sunset&&m.jsxs("div",{className:"detail-stat",children:[m.jsx("span",{className:"stat-label",children:" Sunset"}),m.jsx("span",{className:"stat-value",children:X.sunset})]})]})]})]})}return u.slice(0,5).map((X,ue)=>{const Ne=oe(X.date||X.day);return m.jsxs("div",{className:"forecast-card",onClick:()=>p(ue),children:[m.jsxs("div",{className:"forecast-row-top",children:[m.jsxs("div",{className:"forecast-date",children:[m.jsx("span",{className:"date-day",children:Ne.day}),m.jsx("span",{className:"date-num",children:Ne.date})]}),m.jsx("div",{className:"forecast-icon",children:ce(X.conditions||X.condition)})]}),m.jsxs("div",{className:"forecast-row-bottom",children:[m.jsxs("span",{className:"temp-low",children:[X.low,""]}),m.jsxs("span",{className:"temp-high",children:[X.high,""]}),m.jsxs("span",{className:"precip-group",children:[m.jsxs("svg",{className:"precip-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M20 16.2A4.5 4.5 0 0 0 17.5 8h-1.8A7 7 0 1 0 4 14.9"}),m.jsx("path",{d:"M16 14v4"}),m.jsx("path",{d:"M8 14v4"}),m.jsx("path",{d:"M12 16v4"})]}),m.jsx("span",{className:"precip-value",children:X.precipitation||X.precip||"0%"})]})]})]},ue)})},ie=X=>{X.preventDefault();const ue=X.clientX,Ne=Z,_e=je=>{const C=ue-je.clientX,U=Math.max(250,Math.min(500,Ne+C));L(U),localStorage.setItem("forecastPanelWidth",U)},Ge=()=>{document.removeEventListener("mousemove",_e),document.removeEventListener("mouseup",Ge)};document.addEventListener("mousemove",_e),document.addEventListener("mouseup",Ge)},re=X=>{X.preventDefault(),X.stopPropagation();const ue=X.clientY,Ne=Q,_e=je=>{const C=ue-je.clientY,U=Math.max(100,Math.min(500,Ne+C));J(U),localStorage.setItem("devicesOnHeight",U)},Ge=()=>{document.removeEventListener("mousemove",_e),document.removeEventListener("mouseup",Ge)};document.addEventListener("mousemove",_e),document.addEventListener("mouseup",Ge)};return m.jsxs("div",{className:"forecast-panel",style:{width:Z},children:[m.jsx("div",{className:"forecast-resize-handle",ref:V,onMouseDown:ie,children:m.jsx("div",{className:"forecast-resize-grip"})}),m.jsxs("div",{className:"forecast-panel-header",onClick:()=>r(!n),children:[m.jsx("span",{children:"5-Day Forecast"}),m.jsx("button",{onClick:X=>{X.stopPropagation(),F()},className:"forecast-refresh-btn",children:"Refresh"})]}),n&&m.jsx("div",{className:"forecast-panel-content",children:H()}),m.jsx("div",{className:"forecast-dock-slot",ref:a}),m.jsxs("div",{className:"devices-on-section",style:{height:s?Q:"auto"},children:[m.jsx("div",{className:"devices-resize-handle",onMouseDown:re,children:m.jsx("div",{className:"devices-resize-grip"})}),m.jsxs("div",{className:"devices-on-header",onClick:()=>l(!s),children:[m.jsxs("span",{children:["Devices ON (",k.size,")"]}),m.jsx("span",{className:"expand-icon",children:s?"":""})]}),s&&m.jsx("div",{className:"devices-on-list",children:k.size===0?m.jsx("div",{className:"no-devices",children:"All devices off"}):Array.from(k.values()).sort((X,ue)=>X.name.localeCompare(ue.name)).map((X,ue)=>m.jsxs("div",{className:"device-on-item",children:[m.jsx("span",{className:"device-on-indicator"}),m.jsx("span",{className:"device-on-name",children:X.name})]},ue))})]}),m.jsxs("div",{className:"status-indicators",children:[m.jsx("div",{className:`connection-status ${y?"connected":"disconnected"}`,children:y?"Backend":"Backend X"}),m.jsx("div",{className:`connection-status ${v.connected?"connected":"disconnected"}`,children:v.connected?`HA (${v.deviceCount})`:"HA X"})]})]})}function FN({width:a=180,panelRef:n,dropActive:r=!1,favoriteGroups:s=[],onAddFavorite:l,onRemoveFavorite:u,onCreateNode:f}){const h=window.T2Controls?.Tooltip,p=`Drag a node onto this panel to add it to Favorites.
Click a favorite to add that node to the canvas.
Right-click a favorite to remove it.`,y=(s||[]).reduce((v,S)=>v+(S?.labels||[]).length,0),b=v=>{const S=(v||"").toString().trim();S&&u?.(S)};return m.jsxs("div",{ref:n,className:`favorites-panel ${r?"drop-active":""}`,style:{width:a},onMouseDown:v=>v.stopPropagation(),children:[m.jsx("div",{className:"favorites-header",children:m.jsxs("div",{className:"favorites-header-row",children:[m.jsx("span",{className:"favorites-title",children:" Favorites"}),h?m.jsx(h,{text:p,position:"bottom",children:m.jsx("span",{className:"favorites-help-fallback",children:"?"})}):m.jsx("span",{className:"favorites-help-fallback",title:p,children:"?"})]})}),m.jsx("div",{className:"favorites-list",children:y===0?m.jsx("div",{className:"favorites-empty",children:"No favorites yet"}):s.map(v=>{const S=(v?.category||"Other").toString(),k=Array.isArray(v?.labels)?v.labels:[];return k.length===0?null:m.jsxs("div",{className:"favorites-group",children:[m.jsx("div",{className:"favorites-divider",children:m.jsx("span",{className:"favorites-divider-text",children:S})}),k.map(N=>m.jsx("button",{type:"button",className:"favorites-item-btn",onClick:()=>f?.(N),onContextMenu:Z=>{Z.preventDefault(),Z.stopPropagation(),b(N)},title:"Click: add to canvas  Right-click: remove",children:N},`${S}:${N}`))]},S)})})]})}function XN({visible:a,position:n,items:r,onClose:s,onSelect:l}){const u=E.useRef(null),f=E.useRef(null),[h,p]=E.useState(null),[y,b]=E.useState({x:0,y:0}),[v,S]=E.useState(""),k=E.useRef(null),N=E.useRef(null);E.useEffect(()=>{a&&(S(""),p(null),setTimeout(()=>{f.current?.focus()},50))},[a]);const Z=E.useMemo(()=>{if(!v.trim())return r;const H=v.toLowerCase(),ie=[];for(const re of r)if(re.subitems)for(const X of re.subitems)X.label&&X.label.toLowerCase().includes(H)&&ie.push({...X,categoryHint:re.label});else re.label&&re.label.toLowerCase().includes(H)&&ie.push(re);return ie},[r,v]),L=v.trim().length>0;E.useEffect(()=>{if(!a)return;const H=re=>{u.current&&!u.current.contains(re.target)&&s()},ie=re=>{re.key==="Escape"&&s()};return document.addEventListener("mousedown",H),document.addEventListener("keydown",ie),()=>{document.removeEventListener("mousedown",H),document.removeEventListener("keydown",ie)}},[a,s]),E.useEffect(()=>()=>{k.current&&clearTimeout(k.current),N.current&&clearTimeout(N.current)},[]);const Q=E.useCallback((H,ie,re)=>{N.current&&(clearTimeout(N.current),N.current=null),ie.subitems&&ie.subitems.length>0?p(re):p(null)},[]),J=E.useCallback(()=>{N.current=setTimeout(()=>{p(null)},150)},[]),V=E.useCallback(()=>{N.current&&(clearTimeout(N.current),N.current=null)},[]),F=E.useCallback(()=>{N.current=setTimeout(()=>{p(null)},100)},[]),ce=E.useCallback(H=>{H.subitems&&H.subitems.length>0||(l(H),s())},[l,s]);if(!a)return null;const oe={...n};if(typeof window<"u"){const ie=Math.min(Z.length*36+50,400);n.x+220>window.innerWidth&&(oe.x=window.innerWidth-220-10),n.y+ie>window.innerHeight&&(oe.y=Math.max(10,window.innerHeight-ie-10))}return m.jsxs("div",{ref:u,className:"fast-context-menu",style:{left:oe.x,top:oe.y},children:[m.jsxs("div",{className:"fast-menu-search",children:[m.jsx("input",{ref:f,type:"text",placeholder:"Search nodes...",value:v,onChange:H=>S(H.target.value),onClick:H=>H.stopPropagation(),onKeyDown:H=>{if(H.key==="Enter"&&Z.length===1){const ie=Z[0];ie.subitems||ce(ie)}H.stopPropagation()}}),v&&m.jsx("span",{className:"search-clear",onClick:H=>{H.stopPropagation(),S(""),f.current?.focus()},children:""})]}),m.jsx("div",{className:"fast-menu-results",children:Z.length===0?m.jsx("div",{className:"fast-menu-empty",children:"No nodes found"}):L?Z.map((H,ie)=>m.jsxs("div",{className:"fast-menu-item search-result",onClick:()=>ce(H),children:[m.jsx("span",{className:"menu-label",children:H.label}),H.categoryHint&&m.jsx("span",{className:"category-hint",children:H.categoryHint})]},H.label||ie)):Z.map((H,ie)=>m.jsxs("div",{className:`fast-menu-item ${H.subitems?"has-submenu":""} ${h===ie?"active":""}`,onMouseEnter:re=>Q(re,H,ie),onMouseLeave:J,onClick:()=>ce(H),children:[H.icon&&m.jsx("span",{className:"menu-icon",children:H.icon}),m.jsx("span",{className:"menu-label",children:H.label}),H.subitems&&m.jsx("span",{className:"submenu-arrow",children:""}),h===ie&&H.subitems&&m.jsx("div",{className:"fast-submenu",onMouseEnter:V,onMouseLeave:F,children:H.subitems.map((re,X)=>m.jsx("div",{className:"fast-menu-item",onClick:ue=>{ue.stopPropagation(),ce(re)},children:m.jsx("span",{className:"menu-label",children:re.label})},re.label||X))})]},H.label||ie))})]})}function nb(a){const n=[],r=[];if(!a||typeof a!="object")return{valid:!1,errors:["Graph data is not an object"],warnings:[]};if(!Array.isArray(a.nodes))n.push('Missing or invalid "nodes" array');else{const s=new Set;a.nodes.forEach((l,u)=>{l.id?(s.has(l.id)&&n.push(`Duplicate node ID: ${l.id}`),s.add(l.id)):n.push(`Node at index ${u} is missing "id"`),l.label||n.push(`Node ${l.id||u} is missing "label"`),(!l.position||typeof l.position.x!="number"||typeof l.position.y!="number")&&r.push(`Node ${l.id||u} has invalid position`),l.position&&(!Number.isFinite(l.position.x)||!Number.isFinite(l.position.y))&&n.push(`Node ${l.id||u} has NaN or Infinity in position`)})}if(!Array.isArray(a.connections))n.push('Missing or invalid "connections" array');else{const s=new Set(a.nodes?.map(u=>u.id)||[]),l=new Set;a.connections.forEach((u,f)=>{u.source?s.has(u.source)||n.push(`Connection ${f} references non-existent source node: ${u.source}`):n.push(`Connection at index ${f} is missing "source"`),u.target?s.has(u.target)||n.push(`Connection ${f} references non-existent target node: ${u.target}`):n.push(`Connection at index ${f} is missing "target"`),u.sourceOutput||r.push(`Connection ${f} is missing "sourceOutput"`),u.targetInput||r.push(`Connection ${f} is missing "targetInput"`);const h=`${u.source}:${u.sourceOutput}->${u.target}:${u.targetInput}`;l.has(h)&&r.push(`Duplicate connection: ${h}`),l.add(h),u.source===u.target&&r.push(`Self-connection detected on node ${u.source}`)})}return a.viewport&&((typeof a.viewport.k!="number"||a.viewport.k<=0)&&r.push("Invalid viewport zoom value"),(!Number.isFinite(a.viewport.x)||!Number.isFinite(a.viewport.y))&&r.push("Invalid viewport position")),{valid:n.length===0,errors:n,warnings:r}}function ab(a){const n=[];let r=!1;const s=JSON.parse(JSON.stringify(a));Array.isArray(s.nodes)||(s.nodes=[],n.push("Created empty nodes array"),r=!0),Array.isArray(s.connections)||(s.connections=[],n.push("Created empty connections array"),r=!0);const l=new Set,u=new Set;return s.nodes=s.nodes.filter((f,h)=>{if(!f.id)return n.push(`Removed node at index ${h} (missing ID)`),r=!0,!1;if(u.has(f.id)){const p=`${f.id}_${Date.now()}_${h}`;n.push(`Renamed duplicate node ID ${f.id} to ${p}`),f.id=p,r=!0}return u.add(f.id),l.add(f.id),f.label||(f.label="Unknown Node",n.push(`Set label for node ${f.id} to "Unknown Node"`),r=!0),!f.position||typeof f.position!="object"?(f.position={x:0,y:0},n.push(`Reset position for node ${f.id}`),r=!0):(Number.isFinite(f.position.x)||(f.position.x=0,n.push(`Fixed NaN x position for node ${f.id}`),r=!0),Number.isFinite(f.position.y)||(f.position.y=0,n.push(`Fixed NaN y position for node ${f.id}`),r=!0)),!0}),s.connections=s.connections.filter((f,h)=>l.has(f.source)?l.has(f.target)?!0:(n.push(`Removed connection ${h} (invalid target: ${f.target})`),r=!0,!1):(n.push(`Removed connection ${h} (invalid source: ${f.source})`),r=!0,!1)),s.viewport&&(Number.isFinite(s.viewport.x)||(s.viewport.x=0,n.push("Fixed viewport x position"),r=!0),Number.isFinite(s.viewport.y)||(s.viewport.y=0,n.push("Fixed viewport y position"),r=!0),(!Number.isFinite(s.viewport.k)||s.viewport.k<=0)&&(s.viewport.k=1,n.push("Fixed viewport zoom level"),r=!0)),{repaired:r,graphData:s,fixes:n}}class Sj extends Ot.Control{constructor(n,r){super(),this.label=n,this.onClick=r}}function KN({data:a}){return m.jsx("button",{onPointerDown:n=>n.stopPropagation(),onDoubleClick:n=>n.stopPropagation(),onClick:a.onClick,style:{width:"100%",padding:"8px",marginBottom:"5px",background:"rgba(0, 243, 255, 0.1)",border:"1px solid rgba(0, 243, 255, 0.4)",color:"#00f3ff",borderRadius:"20px",cursor:"pointer",fontWeight:"600",textTransform:"uppercase",fontSize:"12px",transition:"all 0.2s"},onMouseOver:n=>{n.currentTarget.style.background="rgba(0, 243, 255, 0.25)",n.currentTarget.style.boxShadow="0 0 12px rgba(0, 243, 255, 0.4)"},onMouseOut:n=>{n.currentTarget.style.background="rgba(0, 243, 255, 0.1)",n.currentTarget.style.boxShadow="none"},children:a.label})}class xj extends Ot.Control{constructor(n,r,s,l){super(),this.label=n,this.values=r,this.value=s,this.onChange=l}setValue(n){this.value=n}}function QN({data:a}){const[,n]=E.useReducer(f=>f+1,0),[r,s]=E.useState(a.value);E.useEffect(()=>{s(a.value)},[a.value]),E.useEffect(()=>{n()},[a]);const l=f=>{const h=f.target.value;s(h),typeof a.setValue=="function"?a.setValue(h):a.value=h,a.onChange&&a.onChange(h)},u=a.values||[];return m.jsxs("div",{style:{marginBottom:"5px"},children:[a.label&&m.jsx("label",{style:{display:"block",fontSize:"10px",color:"#00f3ff",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.5px"},children:a.label}),m.jsx("select",{value:r,onChange:l,onPointerDown:f=>f.stopPropagation(),onDoubleClick:f=>f.stopPropagation(),style:{width:"100%",background:"#0a0f14",color:"#00f3ff",border:"1px solid rgba(0, 243, 255, 0.3)",padding:"6px",borderRadius:"4px",outline:"none",fontSize:"12px"},children:u.map(f=>m.jsx("option",{value:f,style:{background:"#0a0f14",color:"#00f3ff"},children:f},f))})]})}class Ej extends Ot.Control{constructor(n,r,s){super(),this.label=n,this.value=r,this.onChange=s}}function JN({data:a}){const[n,r]=E.useState(a.value),s=l=>{const u=l.target.value;r(u),a.value=u,a.onChange&&a.onChange(u)};return m.jsxs("div",{style:{marginBottom:"5px"},children:[a.label&&m.jsx("label",{style:{display:"block",fontSize:"10px",color:"#00f3ff",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.5px"},children:a.label}),m.jsx("input",{type:"text",value:n,onChange:s,onPointerDown:l=>l.stopPropagation(),onDoubleClick:l=>l.stopPropagation(),style:{width:"100%",background:"#0a0f14",color:"#00f3ff",border:"1px solid rgba(0, 243, 255, 0.3)",padding:"6px",borderRadius:"4px",outline:"none",fontSize:"12px"}})]})}class kj extends Ot.Control{constructor(n,r,s){super(),this.label=n,this.value=r,this.onChange=s}}function WN({data:a}){const[n,r]=E.useState(a.value),s=l=>{const u=l.target.checked;r(u),a.value=u,a.onChange&&a.onChange(u)};return m.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"5px"},children:[m.jsx("input",{type:"checkbox",checked:n,onChange:s,onPointerDown:l=>l.stopPropagation(),onDoubleClick:l=>l.stopPropagation(),style:{accentColor:"#00f3ff"}}),m.jsx("span",{style:{marginLeft:"5px",fontSize:"12px",color:"#00f3ff",textTransform:"uppercase",letterSpacing:"0.5px"},children:a.label})]})}class Cj extends Ot.Control{constructor(n,r,s,l={}){super(),this.label=n,this.value=r,this.onChange=s,this.options=l}}function ej({data:a}){const[n,r]=E.useState(a.value),s=l=>{const u=Number(l.target.value);r(u),a.value=u,a.onChange&&a.onChange(u)};return m.jsxs("div",{style:{marginBottom:"5px"},children:[a.label&&m.jsx("label",{style:{display:"block",fontSize:"10px",color:"#00f3ff",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.5px"},children:a.label}),m.jsx("input",{type:"number",value:n,onChange:s,min:a.options.min,max:a.options.max,step:a.options.step,onPointerDown:l=>l.stopPropagation(),onDoubleClick:l=>l.stopPropagation(),style:{width:"100%",background:"#0a0f14",color:"#00f3ff",border:"1px solid rgba(0, 243, 255, 0.3)",padding:"6px",borderRadius:"4px",outline:"none",fontSize:"12px"}})]})}class Tj extends Ot.Control{constructor(n,r,s,l="text"){super(),this.label=n,this.value=r,this.onChange=s,this.type=l}}function tj({data:a}){const[n,r]=E.useState(a.value);E.useEffect(()=>{r(a.value)},[a.value]);const s=l=>{let u=l.target.value;a.type==="number"&&(u=Number(u)),r(u),a.value=u,a.onChange&&a.onChange(u)};return m.jsxs("div",{style:{marginBottom:"5px"},children:[a.label&&m.jsx("label",{style:{display:"block",fontSize:"10px",color:"#00f3ff",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.5px"},children:a.label}),m.jsx("input",{type:a.type||"text",value:n,onChange:s,onPointerDown:l=>l.stopPropagation(),onDoubleClick:l=>l.stopPropagation(),style:{width:"100%",background:"#0a0f14",color:"#00f3ff",border:"1px solid rgba(0, 243, 255, 0.3)",padding:"6px",borderRadius:"4px",outline:"none",fontSize:"12px"}})]})}class Oj extends Ot.Control{constructor(n,r){super(),this.deviceId=n,this.getState=r}}function nj({data:a}){const n=a.getState?a.getState(a.deviceId):null,r=document.body.classList.contains("performance-mode");if(!n)return m.jsx("div",{style:{padding:"4px 8px",background:"rgba(0, 20, 30, 0.6)",borderRadius:"4px",marginBottom:"4px",display:"flex",alignItems:"center",justifyContent:"space-between",minHeight:"24px",border:"1px solid rgba(0, 243, 255, 0.1)"},children:m.jsx("span",{style:{fontSize:"11px",color:"rgba(0, 243, 255, 0.5)"},children:"No state data"})});const s=n.on||n.state==="on",l=n.brightness?Math.round(n.brightness/255*100):0,u=n.hs_color||[0,0],[f,h]=u;let p="#e74c3c";s&&(h===0?p="#f1c40f":p=`hsl(${f}, ${h}%, 50%)`);const y={width:"14px",height:"14px",borderRadius:"50%",background:p,border:"1px solid rgba(255,255,255,0.3)",animation:s&&!r?"flash-pulse 2s infinite ease-in-out":"none",color:p,marginRight:"8px",flexShrink:0,boxShadow:s?`0 0 5px ${p}`:"none"};return m.jsxs("div",{style:{padding:"6px 8px",background:"rgba(0, 20, 30, 0.6)",borderRadius:"4px",marginBottom:"4px",border:"1px solid rgba(0, 243, 255, 0.2)",display:"flex",flexDirection:"column"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:s?"4px":"0"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",flex:1,overflow:"hidden"},children:[m.jsx("div",{style:y}),m.jsx("span",{style:{fontSize:"12px",color:"#e0f7fa",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginRight:"8px"},children:n.name||a.deviceId})]}),m.jsx("span",{style:{fontSize:"10px",color:"#00f3ff",fontFamily:"monospace",whiteSpace:"nowrap"},children:s?`${l}%`:"Off"})]}),s&&m.jsx("div",{style:{width:"100%",height:"4px",background:"rgba(0, 243, 255, 0.1)",borderRadius:"2px",overflow:"hidden"},children:m.jsx("div",{style:{width:`${l}%`,height:"100%",background:`linear-gradient(90deg, rgba(0, 243, 255, 0.2), ${p})`,transition:"width 0.3s ease-out"}})})]})}function aj(a){const{state:n,color:r}=a.data.data||{},s=n==="on"||n==="open"||n==="playing",l=r||(s?"#00f3ff":"#333");return m.jsxs("div",{className:"status-indicator-control",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"5px",width:"100%"},onPointerDown:u=>u.stopPropagation(),children:[m.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:s?l:"rgba(0, 20, 30, 0.8)",boxShadow:s?`0 0 10px ${l}, 0 0 20px ${l}`:"none",transition:"all 0.3s ease",border:"1px solid rgba(0, 243, 255, 0.3)",animation:s?"pulse 2s infinite":"none"}}),m.jsx("style",{children:`
                @keyframes pulse {
                    0% { opacity: 1; transform: scale(1); }
                    50% { opacity: 0.7; transform: scale(0.9); }
                    100% { opacity: 1; transform: scale(1); }
                }
            `})]})}function rj(a){const{brightness:n,hs_color:r,entityType:s}=a.data.data||{};let l="#444";r&&r.length===2?l=`hsl(${r[0]}, ${r[1]}%, 50%)`:s==="light"&&(l="#ffaa00");const u=n?n/255*100:0;return m.jsx("div",{className:"color-bar-control",style:{width:"100%",height:"8px",backgroundColor:"rgba(0, 20, 30, 0.6)",borderRadius:"4px",overflow:"hidden",marginTop:"5px",border:"1px solid rgba(0, 243, 255, 0.2)"},onPointerDown:f=>f.stopPropagation(),children:m.jsx("div",{style:{width:`${u}%`,height:"100%",backgroundColor:l,transition:"all 0.3s ease",boxShadow:`0 0 10px ${l}`}})})}function ij(a){const{power:n,energy:r}=a.data.data||{};return n===null&&r===null?m.jsx("div",{className:"power-stats-control",style:{fontSize:"10px",color:"#777",marginTop:"5px",fontFamily:"monospace"},children:"-- W / -- kWh"}):m.jsxs("div",{className:"power-stats-control",style:{display:"flex",flexDirection:"column",fontSize:"10px",color:"#e0f7fa",marginTop:"5px",fontFamily:"monospace"},onPointerDown:s=>s.stopPropagation(),children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[m.jsx("span",{children:"PWR:"}),m.jsx("span",{style:{color:"#00f3ff"},children:n!==null?`${n} W`:"--"})]}),r!==null&&m.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[m.jsx("span",{children:"NRG:"}),m.jsxs("span",{style:{color:"#ffaa00"},children:[r," kWh"]})]})]})}window.EDITOR_DEBUG=!1;const sj=window.EDITOR_DEBUG,Te=(...a)=>sj&&console.debug("[Editor]",...a),oj=ga.memo(({data:a,socketKey:n,side:r})=>{let l=a?.name||"any";if(n&&typeof n=="string"){const f=n.toLowerCase();f.includes("hsv")||f.includes("color")?l="hsv_info":f.includes("trigger")||f.includes("enable")||f.includes("active")?l="boolean":(f.includes("light")||f.includes("device"))&&(l="light_info")}const u=`${n||"socket"} (${l})`;return ga.createElement("div",{className:"rete-socket","data-socket-type":l,title:u})});function lj(){const a=E.useRef(null),[n,r]=E.useState(null),[s,l]=E.useState(null),[u,f]=E.useState(null),[h,p]=E.useState(null),[y,b]=E.useState(()=>{try{return localStorage.getItem("dockMergedIntoForecast")==="true"}catch{return!1}}),v=E.useRef(null),S=E.useRef(null);E.useEffect(()=>{try{localStorage.setItem("dockMergedIntoForecast",String(y))}catch{}},[y]);const k=E.useRef(!1),N=E.useRef(new Set),Z=E.useRef(null),L=E.useRef(!1),Q=E.useRef(null),J=E.useRef(null),V=E.useRef(null),F=E.useRef({x:0,y:0}),ce=E.useRef(!1),oe=E.useRef([]),[H,ie]=E.useState({visible:!1,position:{x:0,y:0},items:[],nodeContext:null}),re=180,X="favoriteNodes",[ue,Ne]=E.useState(()=>{try{const I=localStorage.getItem(X),ae=I?JSON.parse(I):null,K=q=>{const D=[];for(const W of Array.isArray(q)?q:[]){if(typeof W!="string")continue;const ge=W.trim();ge&&(D.includes(ge)||D.push(ge))}return D};if(Array.isArray(ae)){const q=K(ae);return q.length?[{category:"Other",labels:q}]:[]}const xe=Array.isArray(ae?.groups)?ae.groups:Array.isArray(ae?.favoriteGroups)?ae.favoriteGroups:Array.isArray(ae)?ae:null;if(!xe)return[];const he=[];for(const q of xe){const D=(q?.category||"Other").toString().trim()||"Other",W=K(q?.labels);W.length!==0&&he.push({category:D,labels:W})}return he}catch{return[]}}),_e=E.useRef(null),[Ge,je]=E.useState(!1),C=E.useRef(null);E.useEffect(()=>{try{localStorage.setItem(X,JSON.stringify({version:2,groups:ue}))}catch{}},[ue]);const U=E.useCallback(I=>{const ae=(I||"").toString().trim();if(!ae)return;const xe=(xn.getByLabel(ae)?.category||"Other").toString().trim()||"Other";Ne(he=>{for(const W of he)if(Array.isArray(W?.labels)&&W.labels.includes(ae))return he;const q=he.map(W=>({category:W.category,labels:[...W.labels]})),D=q.findIndex(W=>W.category===xe);return D===-1?q.push({category:xe,labels:[ae]}):q[D].labels.push(ae),q})},[]),le=E.useCallback(I=>{const ae=(I||"").toString().trim();ae&&Ne(K=>{const xe=[];for(const he of K){const q=(he?.labels||[]).filter(D=>D!==ae);q.length!==0&&xe.push({category:he.category,labels:q})}return xe})},[]),ye=E.useCallback(async I=>{const ae=a.current,K=Q.current,xe=J.current;if(!ae||!K||!xe)return;const he=ae.getBoundingClientRect(),q={x:he.left+he.width/2,y:he.top+he.height/2};try{const ge=window._t2GetMenuItems;if(typeof ge=="function"){const Se=ge();for(const vt of Se||[])for(const Ue of vt.subitems||[])if(Ue.label===I&&typeof Ue.handler=="function"){await Ue.handler(q);return}}}catch(ge){console.warn("[Favorites] Failed to create via context handlers:",ge)}const D=xn.getByLabel(I);if(!D)return;const W=()=>{try{Z.current?.()}catch{}};try{const ge=D.factory(W);await K.addNode(ge);const Se=xe.area.transform,vt=(q.x-Se.x)/Se.k,Ue=(q.y-Se.y)/Se.k;await xe.translate(ge.id,{x:vt,y:Ue})}catch(ge){console.warn("[Favorites] Fallback create failed:",ge)}},[]);E.useEffect(()=>{try{const I=xn.getAll();if(I.length===0)return;const ae=new Map;for(const K of I)K?.label&&ae.set(K.label,(K.category||"Other").toString().trim()||"Other");Ne(K=>{const xe=[],he=new Map,q=(D,W)=>{he.has(D)||(he.set(D,[]),xe.push(D));const ge=he.get(D);ge.includes(W)||ge.push(W)};for(const D of K)for(const W of D?.labels||[]){const ge=ae.get(W);ge&&q(ge,W)}return xe.map(D=>({category:D,labels:he.get(D)})).filter(D=>D.labels.length>0)})}catch{}},[n]);const be=E.useCallback(async I=>{await new Promise(P=>{const se=()=>{const de=I.getBoundingClientRect();de.width>0&&de.height>0?P():requestAnimationFrame(se)};requestAnimationFrame(se)});const ae=new Lr,K=new Ob(I),xe=new b2,he=new kC({createRoot:sb.createRoot}),q=new zC;ae.use(q);let D=null,W=!1;const ge=async()=>{W||(W=!0,D&&clearTimeout(D),D=setTimeout(async()=>{W=!1,D=null;const P=ae.getNodes(),se=ae.getConnections();window._debugProcess&&(console.log("[Editor] process() - nodes:",P.map(me=>`${me.id}:${me.label}`)),console.log("[Editor] process() - connections:",se.map(me=>`${me.source}:${me.sourceOutput} -> ${me.target}:${me.targetInput}`)),window._debugProcess=!1),q.reset();for(const me of P)try{await q.fetch(me.id)}catch{}},16))},Se=async()=>{D&&(clearTimeout(D),D=null),W=!1,q.reset();for(const P of ae.getNodes())try{await q.fetch(P.id)}catch{}},vt=new Set;let Ue=null;const He=P=>{vt.add(P),Ue||(Ue=setTimeout(()=>{Ue=null,vt.forEach(se=>{K.update("node",se)}),vt.clear(),ge()},16))},We=()=>{ge()},zt=()=>{const P=xn.getAll(),se={};P.forEach(ze=>{const Ke=ze.category||"Other";se[Ke]||(se[Ke]=[]),se[Ke].push({label:ze.label,handler:async Vt=>{let Yt;const ln=()=>{ze.updateStrategy==="dataflow"?We():He(Yt.id)};Yt=ze.factory(ln),await ae.addNode(Yt);const Jt=K.area.transform,Xt=(Vt.x-Jt.x)/Jt.k,St=(Vt.y-Jt.y)/Jt.k;await K.translate(Yt.id,{x:Xt,y:St})}})});const de=window.T2Controls?.THEME?.categories||{};return Object.entries(se).map(([ze,Ke])=>({label:ze,icon:de[ze]?.icon||"",subitems:Ke.sort((Vt,Yt)=>Vt.label.localeCompare(Yt.label))})).sort((ze,Ke)=>ze.label.localeCompare(Ke.label))};window._t2GetMenuItems=zt,window._t2Editor=ae,window._t2Area=K;const Re=jr.selector();he.addPreset(Cd.classic.setup({customize:{node(P){const se=xn.getByInstance(P.payload);return se?se.component:Cd.classic.Node},socket(P){const se=P.key,de=P.side;return function({data:ze}){return ga.createElement(oj,{data:ze,socketKey:se,side:de})}},control(P){if(P.payload instanceof Ot.Control){const de=P.payload.constructor.name;if(de==="ButtonControl")return KN;if(de==="DropdownControl")return QN;if(de==="TextControl")return JN;if(de==="SwitchControl")return WN;if(de==="NumberControl")return ej;if(de==="InputControl")return tj;if(de==="DeviceStateControl")return nj;if(de==="StatusIndicatorControl")return aj;if(de==="ColorBarControl")return rj;if(de==="PowerStatsControl")return ij}return Cd.classic.Control}}})),xe.addPreset(p2.classic.setup()),ae.use(K),K.use(xe),K.use(he),jr.selectableNodes(K,Re,{accumulating:jr.accumulateOnCtrl()}),jr.simpleNodesOrder(K),ae.addPipe(P=>{if(P.type==="nodecreated"){const se=P.data,de=xn.getByInstance(se);de&&de.isBackdrop&&setTimeout(()=>{const me=K.nodeViews.get(se.id);me&&me.element&&(me.element.style.zIndex="-10",Te("[Backdrop] Set z-index on creation for:",se.id))},50)}return P});let Qe=!1,mt=!1,cn={x:0,y:0};xe.addPipe(P=>(P.type==="connectionpick"?(Qe=!0,Te(" Connection pick - wire dragging started")):P.type==="connectiondrop"&&(Qe=!1,mt=!1,Te(" Connection drop - wire dragging ended")),P));const Dt=P=>{if(Qe)if(P.ctrlKey||P.metaKey)if(!mt)mt=!0,cn={x:P.clientX,y:P.clientY},I.style.cursor="grab";else{const se=P.clientX-cn.x,de=P.clientY-cn.y;if(se!==0||de!==0){const me=K.area.transform;K.area.translate(me.x+se,me.y+de),cn={x:P.clientX,y:P.clientY}}}else mt&&(mt=!1,I.style.cursor="")},It=P=>{(P.key==="Control"||P.key==="Meta")&&mt&&(mt=!1,I.style.cursor="")};window.addEventListener("pointermove",Dt),window.addEventListener("keyup",It);let et=!1,Pe=!1,Nt=null,j=!1,B={x:0,y:0},fe={x:0,y:0};const Ae=P=>{P.code==="Space"&&et&&Nt&&(j=!0,fe={x:0,y:0},P.preventDefault())},tt=P=>{if(P.code==="Space"&&(j=!1,Pe&&Nt)){const se=K.nodeViews.get(Nt);if(se){const de=K.area.transform,me=fe.x/de.k,ze=fe.y/de.k,Ke={x:se.position.x-me,y:se.position.y-ze};k.current=!0,K.translate(Nt,Ke).finally(()=>{k.current=!1})}Pe=!1,I.style.cursor=""}},pn=P=>{if(!(!et||!Nt))if(j)if(!Pe)Pe=!0,B={x:P.clientX,y:P.clientY},fe={x:0,y:0},I.style.cursor="grab";else{const se=P.clientX-B.x,de=P.clientY-B.y;if(se!==0||de!==0){const me=K.area.transform;K.area.translate(me.x+se,me.y+de),fe.x+=se,fe.y+=de,B={x:P.clientX,y:P.clientY}}}else Pe&&(Pe=!1,I.style.cursor="")};window.addEventListener("keydown",Ae,!0),window.addEventListener("keyup",tt,!0),I.addEventListener("pointermove",pn,!0);const Lt=document.createElement("div");Lt.classList.add("selection-box"),I.appendChild(Lt);let Ie=!1,Bt={x:0,y:0};const it=N.current,kt=()=>{Ie&&(Te(" Safety reset: clearing stuck lasso selection"),Ie=!1,Lt.style.display="none")},ws=()=>{kt(),window.resetEditorDragState&&window.resetEditorDragState()},ci=()=>{document.hidden&&(kt(),window.resetEditorDragState&&window.resetEditorDragState())};window.addEventListener("blur",ws),document.addEventListener("visibilitychange",ci);const ar=P=>{try{const se=P.target;se&&(se.tagName==="INPUT"||se.tagName==="TEXTAREA"||se.isContentEditable)||(I.tabIndex=-1,I.focus())}catch{}if((P.ctrlKey||P.metaKey)&&P.button===0){P.stopPropagation(),P.preventDefault(),Ie=!0;const se=I.getBoundingClientRect();Bt={x:P.clientX-se.left,y:P.clientY-se.top},Lt.style.display="block",Lt.style.left=`${Bt.x}px`,Lt.style.top=`${Bt.y}px`,Lt.style.width="0px",Lt.style.height="0px",P.shiftKey||(it.forEach(de=>{const me=K.nodeViews.get(de);me&&me.element&&(me.element.classList.remove("selected"),me.element.style.outline="")}),it.clear(),Re&&Re.entities&&Array.from(Re.entities).forEach(de=>Re.remove(de)))}},Ro=P=>{if(!Ie)return;const se=I.getBoundingClientRect(),de=P.clientX-se.left,me=P.clientY-se.top,ze=Math.min(Bt.x,de),Ke=Math.min(Bt.y,me),Vt=Math.abs(de-Bt.x),Yt=Math.abs(me-Bt.y);Lt.style.left=`${ze}px`,Lt.style.top=`${Ke}px`,Lt.style.width=`${Vt}px`,Lt.style.height=`${Yt}px`},Ss=P=>{if(!Ie)return;const se=Lt.getBoundingClientRect();if(Ie=!1,Lt.style.display="none",se.width<5&&se.height<5)return;const de=[];ae.getNodes().forEach(me=>{const ze=K.nodeViews.get(me.id);if(ze&&ze.element){const Ke=ze.element.getBoundingClientRect();se.left<=Ke.left&&se.right>=Ke.right&&se.top<=Ke.top&&se.bottom>=Ke.bottom&&de.push({node:me,view:ze})}}),de.forEach(({node:me,view:ze})=>{it.add(me.id),Re.add({id:me.id,label:"node",translate(Ke,Vt){},unselect(){ze.element.classList.remove("selected"),ze.element.style.outline=""}},!1),ze.element.classList.add("selected"),ze.element.style.outline="3px solid #00f3ff"})},zo=()=>{it.size>0&&(it.forEach(P=>{const se=K.nodeViews.get(P);se&&se.element&&(se.element.classList.remove("selected"),se.element.style.outline="")}),it.clear()),Re&&Re.entities&&(Re.entities instanceof Map?Array.from(Re.entities.values()):Array.from(Re.entities)).forEach(se=>{se.unselect&&se.unselect(),Re.remove(se)}),ae.getNodes().forEach(P=>{const se=K.nodeViews.get(P.id);se&&se.element&&se.element.classList.remove("selected")})},fi=P=>{if(!P.ctrlKey&&!P.metaKey&&!Ie){let se=!1;for(const[de,me]of K.nodeViews)if(me.element.contains(P.target)){se=!0;break}if(!se){const de=P.target;(de===I||de.classList.contains("rete-area")||de.closest('[data-testid="area"]'))&&zo()}}};I.addEventListener("pointerdown",ar,{capture:!0}),I.addEventListener("click",fi),window.addEventListener("pointermove",Ro),window.addEventListener("pointerup",Ss),ae.addPipe(P=>((P.type==="connectioncreated"||P.type==="connectionremoved")&&ge(),P));let Pn={activeBackdropId:null,isDragging:!1},rr=!1,ba=null;const jn=P=>{rr=P,ba&&(clearTimeout(ba),ba=null),P&&(ba=setTimeout(()=>{rr&&(Te(" Safety reset: clearing stuck isGroupMoving"),rr=!1),ba=null},500))},on=()=>{Ie&&(Te(" Resetting stuck lasso selection"),Ie=!1,Lt.style.display="none"),rr&&(Te(" Resetting stuck group moving"),jn(!1)),Pn.isDragging&&(Te(" Resetting stuck backdrop drag"),Pn.isDragging=!1,Pn.activeBackdropId=null)};window.resetEditorDragState=on;function fn(){const P=ae.getNodes(),se=P.filter(me=>{const ze=xn.getByInstance(me);return ze&&ze.isBackdrop}),de=P.filter(me=>{const ze=xn.getByInstance(me);return!ze||!ze.isBackdrop});se.forEach(me=>{const ze=K.nodeViews.get(me.id);if(!ze)return;ze.element&&(ze.element.style.zIndex="-10");const Ke=ze.position,Vt=[],Yt=me.properties.width||400,ln=me.properties.height||300;de.forEach(Xt=>{const St=K.nodeViews.get(Xt.id);if(!St)return;St.element&&parseInt(St.element.style.zIndex||"0",10)<0&&(St.element.style.zIndex="1");const Da=St.position,Lo=Xt.width||180,Ma=Xt.height||100,Ra=Da.x+Lo/2,Bo=Da.y+Ma/2;Ra>=Ke.x&&Ra<=Ke.x+Yt&&Bo>=Ke.y&&Bo<=Ke.y+ln&&Vt.push(Xt.id)});const Jt=me.properties.capturedNodes.length;me.properties.capturedNodes=Vt,Jt!==Vt.length&&me.changeCallback&&me.changeCallback()})}return K.updateBackdropCaptures=fn,K.addPipe(P=>{if(P.type==="nodepicked"){const se=P.data.id,de=ae.getNode(se);et=!0,Nt=se,Pe=!1;try{if(de&&C?.current!==void 0){const ze=K.nodeViews.get(se)?.position||{x:0,y:0};C.current={nodeId:se,label:de.label,startPos:ze,active:!1,over:!1}}}catch{}if(de){const ze=xn.getByInstance(de);if(ze&&ze.isBackdrop&&de.properties.locked)return}!ce.current&&!it.has(se)&&(it.forEach(ze=>{const Ke=K.nodeViews.get(ze);Ke&&Ke.element&&(Ke.element.classList.remove("selected"),Ke.element.style.outline="")}),it.clear()),it.add(se);const me=K.nodeViews.get(se);me&&me.element&&(me.element.classList.add("selected"),me.element.style.outline="3px solid #00f3ff")}return P}),K.addPipe(P=>{try{if(k.current)return P;const se=de=>{const me=_e.current?.getBoundingClientRect();if(!me)return!1;const Ke=K.nodeViews.get(de)?.element;if(!Ke)return!1;const Vt=Ke.getBoundingClientRect(),Yt=Vt.left+Vt.width/2,ln=Vt.top+Vt.height/2;return Yt>=me.left&&Yt<=me.right&&ln>=me.top&&ln<=me.bottom};if(P.type==="nodetranslate"){const de=C.current;if(!de)return P;const me=P.data?.id;if(!me||de.nodeId!==me)return P;de.active||(de.active=!0,!de.startPos&&P.data?.previous&&(de.startPos=P.data.previous));const ze=se(me);return ze!==de.over&&(de.over=ze,je(ze)),P}if(P.type==="nodedragged"){const de=C.current;if(!de)return P;const me=P.data?.id;if(!me||de.nodeId!==me)return P;if(de.active&&se(me)){U(de.label);const Ke=de.startPos;Ke&&setTimeout(()=>{try{K.translate(me,Ke)}catch{}},0)}return C.current=null,je(!1),P}}catch{}return P}),K.addPipe(P=>{if(P.type==="render"&&P.data?.payload){const se=P.data.payload,de=xn.getByInstance(se);de&&de.isBackdrop&&setTimeout(()=>{const me=K.nodeViews.get(se.id);if(me&&me.element){me.element.style.zIndex!=="-10"&&(me.element.style.zIndex="-10");const ze=se.properties.locked?"none":"auto";me.element.style.pointerEvents!==ze&&(me.element.style.pointerEvents=ze)}},0)}if(P.type==="nodetranslate"){if(k.current||rr)return P;const se=P.data.id,de=ae.getNode(se);if(!de)return P;const me=P.data.position,ze=P.data.previous,Ke=me.x-ze.x,Vt=me.y-ze.y;if(Ke===0&&Vt===0)return P;if(Pe&&Nt===se)return{...P,data:{...P.data,position:P.data.previous}};if(it.size>1&&it.has(se)){jn(!0);const ln=[];return it.forEach(Jt=>{if(Jt!==se){const Xt=K.nodeViews.get(Jt);if(Xt){const St=Xt.position.x+Ke,Da=Xt.position.y+Vt;ln.push(K.translate(Jt,{x:St,y:Da}))}}}),Promise.all(ln).then(()=>{jn(!1)}),P}const Yt=xn.getByInstance(de);if(Yt&&Yt.isBackdrop){if(de.properties.locked)return{...P,data:{...P.data,position:P.data.previous}};if(Pn.activeBackdropId!==se&&(Pn.activeBackdropId=se,Pn.isDragging=!0,fn()),de.properties.capturedNodes.length>0){jn(!0);const ln=[];return de.properties.capturedNodes.forEach(Jt=>{if(!it.has(Jt)){const Xt=K.nodeViews.get(Jt);if(Xt){const St=Xt.position.x+Ke,Da=Xt.position.y+Vt;ln.push(K.translate(Jt,{x:St,y:Da}))}}}),Promise.all(ln).then(()=>{jn(!1)}),P}}}if(P.type==="nodedragged"){if(k.current)return P;Pn.isDragging=!1,Pn.activeBackdropId=null,et=!1,Nt=null,Pe&&(Pe=!1,I.style.cursor=""),fn()}return P}),Q.current=ae,J.current=K,V.current=Re,window.updateBackdropLockState=(P,se)=>{const de=K.nodeViews.get(P);de&&de.element&&(de.element.style.pointerEvents=se?"none":"auto",Te(" Updated backdrop lock state:",P,"locked:",se))},r(ae),l(K),f(q),{destroy:()=>{I.removeEventListener("pointerdown",ar,{capture:!0}),I.removeEventListener("click",fi),I.removeEventListener("pointermove",pn,!0),window.removeEventListener("pointermove",Ro),window.removeEventListener("pointerup",Ss),window.removeEventListener("pointermove",Dt),window.removeEventListener("keyup",It),window.removeEventListener("keydown",Ae,!0),window.removeEventListener("keyup",tt,!0),window.removeEventListener("blur",ws),document.removeEventListener("visibilitychange",ci),ba&&clearTimeout(ba),Lt.parentNode&&Lt.parentNode.removeChild(Lt),K.destroy()},selector:Re,editor:ae,area:K,engine:q,process:ge,processImmediate:Se}},[]);E.useEffect(()=>{const I=a.current;if(!I)return;let ae=null,K=null,xe=null;const he=new Map,q=Se=>{try{typeof Se.pointerId=="number"&&he.set(Se.pointerId,{el:Se.target,pointerType:Se.pointerType||"mouse"})}catch{}},D=Se=>{try{typeof Se.pointerId=="number"&&he.delete(Se.pointerId)}catch{}},W=Se=>{try{typeof Se.pointerId=="number"&&he.delete(Se.pointerId)}catch{}};I.addEventListener("gotpointercapture",q,!0),I.addEventListener("lostpointercapture",D,!0),window.addEventListener("pointerup",W,!0),window.addEventListener("pointercancel",W,!0),K=IN().then(()=>(Te(" External plugins loaded, now creating editor..."),be(I))).then(Se=>{Se.editor,ae=Se.area,Se.engine,Se.selector,r(Se.editor),l(Se.area),f(Se.engine),p(Se.selector),Z.current=Se.processImmediate,setTimeout(()=>{if(I){I.tabIndex=-1,I.focus();const Ue=I.getBoundingClientRect(),He=Ue.left+Ue.width/2,We=Ue.top+Ue.height/2,zt=new WheelEvent("wheel",{bubbles:!0,cancelable:!0,clientX:He,clientY:We,deltaY:0});I.dispatchEvent(zt),Te(" Container initialized and focused"),window.resetEditorView=()=>{Te(" Manual reset triggered"),requestAnimationFrame(()=>{window.resetEditorDragState&&window.resetEditorDragState();const Re=I.getBoundingClientRect(),Qe=Re.left+Re.width/2,mt=Re.top+Re.height/2;I.tabIndex=-1,I.focus();try{const Dt=Array.from(he.entries());he.clear(),Dt.forEach(([It,et])=>{const Pe=et?.el,Nt=et?.pointerType||"mouse";try{const j=new PointerEvent("pointercancel",{bubbles:!0,cancelable:!0,pointerId:It,pointerType:Nt});I.dispatchEvent(j)}catch{}try{I.releasePointerCapture(It)}catch{}try{Pe&&typeof Pe.releasePointerCapture=="function"&&Pe.releasePointerCapture(It)}catch{}})}catch{}try{for(let It=0;It<5;It++)try{I.releasePointerCapture(It)}catch{}I.querySelectorAll(".node, .connection, [data-drag]").forEach(It=>{try{It.releasePointerCapture(1)}catch{}})}catch{}if(ae){const Dt=new PointerEvent("pointercancel",{bubbles:!0,cancelable:!0,pointerId:1,pointerType:"mouse"});I.dispatchEvent(Dt);const It=new PointerEvent("lostpointercapture",{bubbles:!0,cancelable:!0,pointerId:1,pointerType:"mouse"});I.dispatchEvent(It)}setTimeout(()=>{const Dt=new PointerEvent("pointerdown",{bubbles:!0,cancelable:!0,clientX:Qe,clientY:mt,pointerId:1,pointerType:"mouse",isPrimary:!0,button:0,buttons:1}),It=new PointerEvent("pointerup",{bubbles:!0,cancelable:!0,clientX:Qe,clientY:mt,pointerId:1,pointerType:"mouse",isPrimary:!0,button:0,buttons:0});I.dispatchEvent(Dt),setTimeout(()=>{I.dispatchEvent(It);const et=new WheelEvent("wheel",{bubbles:!0,cancelable:!0,clientX:Qe,clientY:mt,deltaY:0});I.dispatchEvent(et),Te(" Reset complete")},50)},50)})}}},100);let vt=!1;return xe=new ResizeObserver(Ue=>{for(const He of Ue){const{width:We,height:zt}=He.contentRect;!vt&&We>0&&zt>0&&(vt=!0,Te(" ResizeObserver: Container now has size",We,zt),setTimeout(()=>{I.focus();const Re=I.getBoundingClientRect(),Qe=new WheelEvent("wheel",{bubbles:!0,cancelable:!0,clientX:Re.left+Re.width/2,clientY:Re.top+Re.height/2,deltaY:0});I.dispatchEvent(Qe)},50))}}),xe.observe(I),Se});const ge=()=>{Te(" graphLoadComplete event received - triggering view reset");const Se=()=>{window.resetEditorView&&window.resetEditorView()};Se(),setTimeout(Se,100),setTimeout(Se,500),setTimeout(Se,1e3)};return window.addEventListener("graphLoadComplete",ge),()=>{xe&&xe.disconnect(),window.removeEventListener("graphLoadComplete",ge),I.removeEventListener("gotpointercapture",q,!0),I.removeEventListener("lostpointercapture",D,!0),window.removeEventListener("pointerup",W,!0),window.removeEventListener("pointercancel",W,!0),K.then(Se=>Se.destroy())}},[be]),E.useEffect(()=>{if(!n||!s||!h)return;const I=async D=>{if(D.target.tagName==="INPUT"||D.target.tagName==="TEXTAREA"||D.target.isContentEditable)return;if(Te(` KeyDown: ${D.code} (Ctrl: ${D.ctrlKey}, Meta: ${D.metaKey})`),D.code==="F5"||(D.ctrlKey||D.metaKey)&&D.shiftKey&&D.code==="KeyR"){D.preventDefault(),Te(" View reset shortcut triggered"),window.resetEditorView&&window.resetEditorView();return}if(D.code==="KeyF"&&!D.ctrlKey&&!D.metaKey&&!D.altKey){D.preventDefault();const Ue=J.current,He=Q.current;if(Ue&&He){const We=He.getNodes();We.length>0&&(Te(" Zoom extents triggered (F key)"),jr.zoomAt(Ue,We,{scale:.9}).catch(zt=>{console.warn("[F key] zoomAt failed:",zt)}))}return}const W=Q.current,ge=J.current,Se=V.current;if(!W||!ge){Te(" No editor/area ref available");return}const vt=()=>{const Ue=new Set;if(Se&&Se.entities&&Se.entities instanceof Map)for(const[He,We]of Se.entities)W.getNode(He)&&Ue.add(He);for(const He of N.current){const We=W.getNode(He);Te(` Checking node ${He}: exists=${!!We}`),We&&Ue.add(He)}return Te(` Found ${Ue.size} selected nodes:`,Array.from(Ue)),Array.from(Ue)};if(D.code==="Delete"||D.code==="Backspace"){Te(" Delete key pressed. lassoSelectedNodesRef.current size:",N.current.size),Te(" lassoSelectedNodesRef.current contents:",Array.from(N.current));const Ue=vt();if(Te(` Deleting ${Ue.length} nodes:`,Ue),Ue.length>0){const He=[],We=[],zt=new Set(Ue);for(const Re of W.getConnections())(zt.has(Re.source)||zt.has(Re.target))&&We.push({source:Re.source,target:Re.target,sourceOutput:Re.sourceOutput,targetInput:Re.targetInput});for(const Re of Ue){const Qe=W.getNode(Re);Qe&&He.push({id:Re,label:Qe.label,position:ge.nodeViews.get(Re)?.position||{x:0,y:0},properties:JSON.parse(JSON.stringify(Qe.properties||{}))})}oe.current.push({type:"delete",nodes:He,connections:We}),Te(" Saved undo state:",oe.current.length,"items in stack");for(const Re of Ue){const Qe=W.getConnections().filter(mt=>mt.source===Re||mt.target===Re);for(const mt of Qe)await W.removeConnection(mt.id);await W.removeNode(Re),N.current.delete(Re)}}}if((D.ctrlKey||D.metaKey)&&D.code==="KeyZ"&&!D.shiftKey){if(D.preventDefault(),oe.current.length===0){Te(" Nothing to undo");return}const Ue=oe.current.pop();if(Te(" Undoing:",Ue.type,Ue.nodes.length,"nodes"),Ue.type==="delete"){const He={};k.current=!0;try{for(const We of Ue.nodes){const zt=xn.getByLabel(We.label);if(zt){let Re;const Qe=()=>{ge&&ge.update("node",Re.id),u&&W&&(u.reset(),setTimeout(()=>{W.getNodes().forEach(async cn=>{try{await u.fetch(cn.id)}catch{}})},0))},mt=()=>{zt.updateStrategy==="dataflow"?(u&&u.reset(),u&&W&&setTimeout(()=>{W.getNodes().forEach(async cn=>{try{await u.fetch(cn.id)}catch{}})},0)):Qe()};Re=zt.factory(mt),We.properties&&Object.assign(Re.properties,We.properties),await W.addNode(Re),await ge.translate(Re.id,We.position),He[We.id]=Re.id}}for(const We of Ue.connections){const zt=He[We.source]||We.source,Re=He[We.target]||We.target,Qe=W.getNode(zt),mt=W.getNode(Re);if(Qe&&mt)try{await W.addConnection(new Ot.Connection(Qe,We.sourceOutput,mt,We.targetInput))}catch(cn){console.warn("[Editor] Could not restore connection:",cn)}}Te(" Undo complete - restored",Ue.nodes.length,"nodes")}finally{k.current=!1,ge?.updateBackdropCaptures?.()}}}if((D.ctrlKey||D.metaKey)&&D.code==="KeyC")try{const Ue=vt();if(Ue.length===0){Te(" Nothing selected to copy");return}Te(` Copying ${Ue.length} nodes`);const He=[],We=new Set(Ue);for(const Qe of Ue){const mt=W.getNode(Qe);mt&&He.push({label:mt.label,position:ge.nodeViews.get(mt.id)?.position||{x:0,y:0},data:{id:mt.id,properties:JSON.parse(JSON.stringify(mt.properties||{}))}})}if(He.length===0){Te(" Nothing selected to copy (no nodes in selection)");return}const zt=[];for(const Qe of W.getConnections())We.has(Qe.source)&&We.has(Qe.target)&&zt.push({source:Qe.source,target:Qe.target,sourceOutput:Qe.sourceOutput,targetInput:Qe.targetInput});const Re={nodes:He,connections:zt};localStorage.setItem("rete-clipboard",JSON.stringify(Re)),Te("Copied to clipboard:",Re)}catch(Ue){console.error("[Editor] Copy failed:",Ue)}if((D.ctrlKey||D.metaKey)&&D.code==="KeyV"){const Ue=localStorage.getItem("rete-clipboard");if(!Ue){Te(" Clipboard empty");return}try{const He=JSON.parse(Ue),We={},Re=(J.current?.container||a.current)?.getBoundingClientRect()||{left:0,top:0},Qe=ge.area.transform,mt=(F.current.x-Re.left-Qe.x)/Qe.k,cn=(F.current.y-Re.top-Qe.y)/Qe.k;let Dt=1/0,It=1/0;for(const et of He.nodes)Dt=Math.min(Dt,et.position.x),It=Math.min(It,et.position.y);Se&&Se.entities&&Array.from(Se.entities).forEach(et=>Se.remove(et)),k.current=!0;try{for(const et of He.nodes){let Pe;const Nt=xn.getByLabel(et.label);if(Nt){const j=()=>{ge&&ge.update("node",Pe.id),u&&W&&(u.reset(),setTimeout(()=>{W.getNodes().forEach(async fe=>{try{await u.fetch(fe.id)}catch{}})},0))},B=()=>{Nt.updateStrategy==="dataflow"?(u&&u.reset(),u&&W&&setTimeout(()=>{W.getNodes().forEach(async fe=>{try{await u.fetch(fe.id)}catch{}})},0)):j()};Pe=Nt.factory(B)}if(Pe){typeof Pe.restore=="function"&&et.data?Pe.restore(et.data):et.data&&et.data.properties&&Pe.properties&&Object.assign(Pe.properties,et.data.properties),await W.addNode(Pe);const j=et.position.x-Dt,B=et.position.y-It,fe={x:mt+j,y:cn+B};await ge.translate(Pe.id,fe),We[et.data.id]=Pe.id,Se&&Se.add({id:Pe.id,label:"node",translate:()=>{},unmount:()=>{},unselect:()=>{}},!0)}}}finally{k.current=!1,ge?.updateBackdropCaptures?.()}for(const et of He.connections){const Pe=We[et.source],Nt=We[et.target];if(Pe&&Nt){const j=W.getNode(Pe),B=W.getNode(Nt);j&&B&&await W.addConnection(new Ot.Connection(j,et.sourceOutput,B,et.targetInput))}}if(u&&W){u.reset();for(const et of W.getNodes())try{await u.fetch(et.id)}catch{}}Te("Pasted from clipboard")}catch(He){console.error("[Editor] Paste failed:",He)}}D.code==="Home"&&(D.preventDefault(),ge.area&&(ge.area.zoom(1,0,0),ge.area.translate(0,0),Te(" Viewport reset via Home key"))),D.code==="Escape"&&window.resetEditorDragState&&(window.resetEditorDragState(),Te(" Drag state reset via Escape key"))},ae=D=>{F.current={x:D.clientX,y:D.clientY}},K=D=>{D.key==="Shift"&&(ce.current=!0)},xe=D=>{D.key==="Shift"&&(ce.current=!1)},he=()=>{Te(" Received delete from Electron IPC"),I({code:"Delete",ctrlKey:!1,metaKey:!1,target:{tagName:"DIV",isContentEditable:!1}})};let q=null;return window.api&&window.api.onDeleteKey&&(q=window.api.onDeleteKey(he)),window.addEventListener("keydown",I),window.addEventListener("keydown",K),window.addEventListener("keyup",xe),window.addEventListener("mousemove",ae),()=>{window.removeEventListener("keydown",I),window.removeEventListener("keydown",K),window.removeEventListener("keyup",xe),window.removeEventListener("mousemove",ae),q&&q()}},[n,s,u,h]),E.useEffect(()=>{const I=a.current;if(!I||!n||!s)return;const ae=K=>{const xe=K.target.closest('[data-testid="node"]');if(xe){K.preventDefault();const he=xe.dataset.nodeId||Array.from(s.nodeViews.entries()).find(([q,D])=>D.element===xe)?.[0];if(he){const q=n.getNode(he);ie({visible:!0,position:{x:K.clientX,y:K.clientY},items:[{label:"Delete",handler:async()=>{const D=n.getConnections().filter(W=>W.source===he||W.target===he);for(const W of D)await n.removeConnection(W.id);await n.removeNode(he)}}],nodeContext:q})}}else{K.preventDefault();const he=window._t2GetMenuItems?window._t2GetMenuItems():[];ie({visible:!0,position:{x:K.clientX,y:K.clientY},items:he,nodeContext:null})}};return I.addEventListener("contextmenu",ae),()=>{I.removeEventListener("contextmenu",ae)}},[n,s]);const x=E.useCallback(()=>{ie(I=>({...I,visible:!1}))},[]),R=E.useCallback(async I=>{I.handler&&await I.handler(H.position)},[H.position]),_=async()=>{if(!(!n||!s))try{const I=n.getNodes().map(ge=>{const Se=typeof ge.toJSON=="function"?ge.toJSON():{...ge};return ge.properties&&(Se.properties=ge.properties),{id:ge.id,label:ge.label,position:s.nodeViews.get(ge.id)?.position||{x:0,y:0},data:Se}}),ae=n.getConnections().map(ge=>({id:ge.id,source:ge.source,target:ge.target,sourceOutput:ge.sourceOutput,targetInput:ge.targetInput})),K=s.area?.transform?{x:s.area.transform.x,y:s.area.transform.y,k:s.area.transform.k}:{x:0,y:0,k:1},he=JSON.stringify({nodes:I,connections:ae,viewport:K},null,2);try{he.length<2e6&&(localStorage.removeItem("saved-graph"),localStorage.setItem("saved-graph",he))}catch{console.warn("localStorage skipped")}if(Te("Graph saved to localStorage"),window.api?.saveTempFile)try{await window.api.saveTempFile("autotron_graph.json",he),Te("[handleSave] Saved temp file for Electron reload")}catch(ge){console.warn("[handleSave] Failed to save temp file via Electron API",ge)}if(window.showSaveFilePicker)try{const Se=await(await window.showSaveFilePicker({suggestedName:"autotron_graph.json",types:[{description:"AutoTron Graph",accept:{"application/json":[".json"]}}]})).createWritable();await Se.write(he),await Se.close(),Te("Graph saved to file");return}catch(ge){if(ge.name==="AbortError")return;console.warn("File System Access API failed, falling back to download",ge)}const q=new Blob([he],{type:"application/json"}),D=URL.createObjectURL(q),W=document.createElement("a");W.href=D,W.download=`autotron_graph_${Date.now()}.json`,W.click(),URL.revokeObjectURL(D),Te("Graph saved via download")}catch(I){console.error("Failed to save graph:",I)}};E.useEffect(()=>(window.triggerGraphSave=async()=>{if(!(!n||!s))try{const I=n.getNodes().map(q=>{const D=typeof q.toJSON=="function"?q.toJSON():{...q};return q.properties&&(D.properties=q.properties),{id:q.id,label:q.label,position:s.nodeViews.get(q.id)?.position||{x:0,y:0},data:D}}),ae=n.getConnections().map(q=>({id:q.id,source:q.source,target:q.target,sourceOutput:q.sourceOutput,targetInput:q.targetInput})),K=s.area?.transform?{x:s.area.transform.x,y:s.area.transform.y,k:s.area.transform.k}:{x:0,y:0,k:1},xe={nodes:I,connections:ae,viewport:K,preUpdateSave:!0,timestamp:Date.now()},he=JSON.stringify(xe);he.length<2e6&&(localStorage.setItem("saved-graph",he),Te("[triggerGraphSave] Graph saved before update"))}catch(I){console.warn("[triggerGraphSave] Failed:",I)}},()=>{delete window.triggerGraphSave}),[n,s]);const[G,pe]=E.useState(!1),Oe=E.useRef(null),Ve=E.useRef(Date.now());E.useEffect(()=>{if(!n)return;const I=()=>{pe(!0)};n.addPipe(ae=>(["nodecreated","noderemoved","connectioncreated","connectionremoved"].includes(ae.type)&&I(),ae))},[n]),E.useEffect(()=>{if(!n||!s)return;const I=async()=>{if(!(window.graphLoading||L.current)&&G)try{const ae=n.getNodes().map(D=>{const W=typeof D.toJSON=="function"?D.toJSON():{...D};return D.properties&&(W.properties=D.properties),{id:D.id,label:D.label,position:s.nodeViews.get(D.id)?.position||{x:0,y:0},data:W}}),K=n.getConnections().map(D=>({id:D.id,source:D.source,target:D.target,sourceOutput:D.sourceOutput,targetInput:D.targetInput})),xe=s.area?.transform?{x:s.area.transform.x,y:s.area.transform.y,k:s.area.transform.k}:{x:0,y:0,k:1},he={nodes:ae,connections:K,viewport:xe,autoSaved:!0,timestamp:Date.now()},q=JSON.stringify(he);q.length<2e6&&(localStorage.setItem("saved-graph",q),Ve.current=Date.now(),pe(!1),window.T2Toast&&window.T2Toast.success("Auto-saved",2e3))}catch(ae){console.warn("[Auto-save] Failed:",ae)}};return Oe.current=setInterval(I,12e4),()=>{Oe.current&&clearInterval(Oe.current)}},[n,s,G]),E.useEffect(()=>{if(!n||!s||!u)return;if(sessionStorage.getItem("autoLoadAfterUpdate")==="true"){sessionStorage.removeItem("autoLoadAfterUpdate"),Te("[AutoLoad] Detected post-update reload, attempting to restore graph...");const ae=setTimeout(async()=>{try{const K=localStorage.getItem("saved-graph");if(K){Te("[AutoLoad] Found saved graph, loading...");const xe=JSON.parse(K);xe.nodes&&xe.nodes.length>0&&(window.T2Toast&&window.T2Toast.info("Restoring your graph after update...",3e3),document.dispatchEvent(new CustomEvent("autoLoadGraph")))}}catch(K){console.warn("[AutoLoad] Failed to auto-load graph:",K)}},1e3);return()=>clearTimeout(ae)}},[n,s,u]);const Be=async()=>{if(!n||!s||!u){console.error("[handleLoad] Missing instances:",{editor:!!n,area:!!s,engine:!!u});return}try{let I=localStorage.getItem("saved-graph");if(!I&&window.api?.readTempFile)try{const q=await window.api.readTempFile("autotron_graph.json");q?.success&&q.content&&(I=q.content,Te("[handleLoad] Loaded graph from Electron temp file"))}catch(q){console.warn("[handleLoad] Failed to read Electron temp file",q)}if(!I){alert("No saved graph found");return}const ae=JSON.parse(I);Te(`[handleLoad] Loading graph with ${ae.nodes?.length} nodes`);const K=nb(ae);if(!K.valid){console.warn("[handleLoad] Graph validation failed:",K.errors),window.T2Toast&&window.T2Toast.warning(`Graph has issues: ${K.errors.length} errors`,4e3);const q=ab(ae);q.repaired&&(Te("[handleLoad] Graph repaired:",q.fixes),window.T2Toast&&window.T2Toast.info(`Graph repaired: ${q.fixes.length} fixes applied`,3e3),Object.assign(ae,q.graphData))}K.warnings.length>0&&console.warn("[handleLoad] Graph warnings:",K.warnings),await Le();const xe=n.getNodes();if(xe.length>0){console.error("[handleLoad] Clear did not work! Still have",xe.length,"nodes");for(const q of xe)try{await n.removeNode(q.id)}catch(D){console.error("[handleLoad] Force remove failed:",D)}}if(k.current=!0,L.current=!0,s?.area)try{s.area.zoom(.1,0,0),s.area.translate(0,0)}catch{}try{for(const q of ae.nodes){let D;const W=xn.getByLabel(q.label);if(W){const ge=()=>{if(L.current){s&&s.update("node",q.id);return}s&&s.update("node",q.id),u&&n&&(u.reset(),setTimeout(()=>{n.getNodes().forEach(async Se=>{try{await u.fetch(Se.id)}catch{}})},0))};D=W.factory(ge)}D&&(D.id=q.id,typeof D.restore=="function"&&q.data?D.restore(q.data):q.data&&q.data.properties&&D.properties&&Object.assign(D.properties,q.data.properties),await n.addNode(D),await s.translate(D.id,q.position))}for(const q of ae.connections){const D=n.getNode(q.source),W=n.getNode(q.target);D&&W&&await n.addConnection(new Ot.Connection(D,q.sourceOutput,W,q.targetInput))}}finally{k.current=!1,s?.updateBackdropCaptures?.()}const he=n.getNodes();if(he.length>0&&s){Te("[handleLoad] Zooming to fit",he.length,"nodes...");try{await jr.zoomAt(s,he,{scale:.9})}catch(q){console.warn("[handleLoad] zoomAt failed:",q)}}Z.current&&(Te("[handleLoad] Processing graph immediately..."),await Z.current(),Te("[handleLoad] Graph processing complete")),L.current=!1,Te("[handleLoad] Setting up viewport restoration timer..."),setTimeout(()=>{if(Te("[handleLoad] Viewport restoration timer fired, areaInstance:",!!s,"area:",!!s?.area),s?.area){const q=ae.viewport||{x:0,y:0,k:1},D=q.k||1,W=q.x||0,ge=q.y||0;Te("[handleLoad] Restoring viewport:",{savedX:W,savedY:ge,savedK:D}),Te("[handleLoad] Current transform before restore:",{...s.area.transform});try{s.area.zoom(D,0,0),s.area.translate(W,ge)}catch(vt){console.warn("[handleLoad] Viewport restore failed:",vt)}Te("[handleLoad] Transform after restore:",{...s.area.transform});const Se=s.container;if(Se){Se.tabIndex=-1,Se.focus(),document.activeElement&&document.activeElement!==Se&&document.activeElement.tagName!=="BODY"&&document.activeElement.blur();const vt=()=>{window.resetEditorView&&window.resetEditorView()};setTimeout(vt,100),setTimeout(vt,500),setTimeout(vt,1e3)}n.getNodes().forEach(vt=>{const Ue=s.nodeViews.get(vt.id);if(Ue?.element)try{for(let He=0;He<10;He++)try{Ue.element.releasePointerCapture(He)}catch{}}catch{}})}},300),Te("Graph loaded")}catch(I){console.error("Failed to load graph:",I),L.current=!1,alert("Failed to load graph")}};E.useEffect(()=>{const I=()=>{Te("[AutoLoadEvent] Received autoLoadGraph event, calling handleLoad..."),Be()};return document.addEventListener("autoLoadGraph",I),()=>document.removeEventListener("autoLoadGraph",I)},[n,s,u]);const Le=async()=>{if(!n){console.warn("[handleClear] No editor instance!");return}try{const I=n.getConnections(),ae=n.getNodes();Te(`[handleClear] Removing ${I.length} connections and ${ae.length} nodes`);for(const xe of I)await n.removeConnection(xe.id);for(const xe of ae)await n.removeNode(xe.id);const K=n.getNodes();Te(`[handleClear] Complete. Remaining nodes: ${K.length}`),K.length>0&&console.error("[handleClear] Failed to remove all nodes! Remaining:",K.map(xe=>xe.id))}catch(I){console.error("Failed to clear graph:",I)}},Ee=()=>{if(!(!n||!s))try{const I=n.getNodes().map(W=>{const ge=typeof W.toJSON=="function"?W.toJSON():{...W};return W.properties&&(ge.properties=W.properties),{id:W.id,label:W.label,position:s.nodeViews.get(W.id)?.position||{x:0,y:0},data:ge}}),ae=n.getConnections().map(W=>({id:W.id,source:W.source,target:W.target,sourceOutput:W.sourceOutput,targetInput:W.targetInput})),K=s.area?.transform?{x:s.area.transform.x,y:s.area.transform.y,k:s.area.transform.k}:{x:0,y:0,k:1},xe={nodes:I,connections:ae,viewport:K},he=new Blob([JSON.stringify(xe,null,2)],{type:"application/json"}),q=URL.createObjectURL(he),D=document.createElement("a");D.href=q,D.download=`graph-${Date.now()}.json`,D.click(),URL.revokeObjectURL(q),Te("Graph exported")}catch(I){console.error("Failed to export graph:",I)}},qe=async I=>{const ae=nb(I);if(!ae.valid){console.warn("[handleImport] Graph validation failed:",ae.errors),window.T2Toast&&window.T2Toast.warning(`Graph has issues: ${ae.errors.length} errors`,4e3);const he=ab(I);if(he.repaired)Te("[handleImport] Graph repaired:",he.fixes),window.T2Toast&&window.T2Toast.info(`Graph repaired: ${he.fixes.length} fixes applied`,3e3),I=he.graphData;else if(!confirm(`Graph has ${ae.errors.length} errors. Continue anyway?`))return}const K={log:console.log,warn:console.warn,error:console.error};console.log=()=>{},console.warn=()=>{};let xe=0;if(console.error=(...he)=>{xe++<10&&K.error(...he)},K.log("%c IMPORT STARTED (console suppressed)","background: green; color: white; font-size: 16px;"),window.graphLoading=!0,!n||!s||!u){Object.assign(console,K);return}try{if(await Le(),k.current=!0,L.current=!0,s?.area)try{s.area.zoom(.1,0,0),s.area.translate(0,0)}catch{}try{for(const q of I.nodes){let D;const W=xn.getByLabel(q.label);if(!W){console.warn(`[handleImport] No definition found for node label: "${q.label}"`);continue}if(W){const ge=()=>{if(L.current||window.graphLoading){s&&s.update("node",q.id);return}if(s&&s.update("node",q.id),u&&n){if(window.graphLoading)return;u.reset(),setTimeout(()=>{window.graphLoading||n.getNodes().forEach(async Se=>{try{await u.fetch(Se.id)}catch{}})},0)}};D=W.factory(ge)}D&&(D.id=q.id,q.label==="Timeline Color"&&K.log("[DEBUG-IMPORT] Timeline Color restore check:",{hasRestore:typeof D.restore=="function",hasData:!!q.data,dataKeys:q.data?Object.keys(q.data):"N/A",propertiesKeys:q.data?.properties?Object.keys(q.data.properties):"N/A",previewModeValue:q.data?.properties?.previewMode}),typeof D.restore=="function"&&q.data?D.restore(q.data):q.data&&q.data.properties&&D.properties&&Object.assign(D.properties,q.data.properties),await n.addNode(D),await s.translate(D.id,q.position))}for(const q of I.connections){const D=n.getNode(q.source),W=n.getNode(q.target);D&&W?await n.addConnection(new Ot.Connection(D,q.sourceOutput,W,q.targetInput)):console.warn(`[handleImport] Connection skipped - missing node: source=${q.source} (${!!D}), target=${q.target} (${!!W})`)}}finally{k.current=!1,s?.updateBackdropCaptures?.()}const he=n.getNodes();if(he.length>0&&s)try{await jr.zoomAt(s,he,{scale:.9})}catch{}L.current=!1,setTimeout(()=>{window.graphLoading=!1,Te("[handleImport] Graph loading complete - API calls now enabled"),window.dispatchEvent(new CustomEvent("graphLoadComplete")),Z.current&&(Te("[handleImport] Running processImmediate to sync node states"),Z.current());const q=()=>{window.resetEditorView&&window.resetEditorView()};setTimeout(q,100),setTimeout(q,500)},2e3),Object.assign(console,K),console.log("%c IMPORT COMPLETE","background: green; color: white; font-size: 16px;"),Te("Graph imported successfully. Pan/zoom should work now.")}catch(he){window.graphLoading=!1,typeof K<"u"&&Object.assign(console,K),console.error("Failed to import graph:",he),L.current=!1,alert("Failed to import graph: "+he.message)}};return m.jsxs("div",{style:{width:"100%",height:"100%",position:"relative"},children:[m.jsx(FN,{width:re,panelRef:_e,dropActive:Ge,favoriteGroups:ue,onAddFavorite:U,onRemoveFavorite:le,onCreateNode:ye}),m.jsx("div",{ref:a,className:"rete-editor",style:{width:"100%",height:"100%",marginRight:"320px",marginLeft:`${re}px`}}),m.jsx("div",{ref:v}),(()=>{const I=y?S.current:v.current;return I?Mr.createPortal(m.jsx(ZN,{onSave:_,onLoad:Be,onClear:Le,onExport:Ee,onImport:qe,hasUnsavedChanges:G,isMerged:y,onToggleMerged:()=>b(ae=>!ae)}),I):null})(),m.jsx(PN,{dockSlotRef:S}),m.jsx(XN,{visible:H.visible,position:H.position,items:H.items,onClose:x,onSelect:R})]})}class uj extends ga.Component{constructor(n){super(n),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,r){console.error("[ErrorBoundary] Caught error:",n),console.error("[ErrorBoundary] Error info:",r),this.setState({error:n,errorInfo:r})}handleReload=()=>{window.location.reload()};handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){return this.state.hasError?m.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#1a1a2e",color:"#eee",fontFamily:"system-ui, -apple-system, sans-serif",padding:"20px",textAlign:"center"},children:m.jsxs("div",{style:{backgroundColor:"#252540",borderRadius:"12px",padding:"40px",maxWidth:"500px",boxShadow:"0 4px 20px rgba(0,0,0,0.3)"},children:[m.jsx("div",{style:{fontSize:"48px",marginBottom:"20px"},children:""}),m.jsx("h1",{style:{fontSize:"24px",marginBottom:"16px",color:"#ff6b6b"},children:"Something went wrong"}),m.jsx("p",{style:{fontSize:"14px",color:"#aaa",marginBottom:"24px",lineHeight:"1.5"},children:"The editor encountered an error and couldn't continue. This might be caused by a corrupted graph or a plugin issue."}),this.state.error&&m.jsxs("details",{style:{textAlign:"left",backgroundColor:"#1a1a2e",padding:"12px",borderRadius:"8px",marginBottom:"24px",fontSize:"12px",color:"#888"},children:[m.jsx("summary",{style:{cursor:"pointer",color:"#aaa",marginBottom:"8px"},children:"Error Details"}),m.jsxs("pre",{style:{overflow:"auto",maxHeight:"150px",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:[this.state.error.toString(),this.state.errorInfo?.componentStack]})]}),m.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[m.jsx("button",{onClick:this.handleReset,style:{padding:"12px 24px",fontSize:"14px",backgroundColor:"#3a3a5c",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:n=>n.target.style.backgroundColor="#4a4a6c",onMouseOut:n=>n.target.style.backgroundColor="#3a3a5c",children:"Try Again"}),m.jsx("button",{onClick:this.handleReload,style:{padding:"12px 24px",fontSize:"14px",backgroundColor:"#4dabf7",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:n=>n.target.style.backgroundColor="#339af0",onMouseOut:n=>n.target.style.backgroundColor="#4dabf7",children:"Reload Page"})]})]})}):this.props.children}}function cj({isLoading:a,progress:n=0,status:r="Initializing...",loadedCount:s=0,totalCount:l=0,error:u=null}){const[f,h]=E.useState(!1),[p,y]=E.useState(a);return E.useEffect(()=>{if(!a&&p){h(!0);const b=setTimeout(()=>{y(!1),h(!1)},500);return()=>clearTimeout(b)}else a&&!p&&y(!0)},[a,p]),p?m.jsxs("div",{className:`loading-overlay ${f?"fade-out":""}`,children:[m.jsx("div",{className:"loading-logo",children:""}),m.jsx("div",{className:"loading-title",children:"T2 AutoTron"}),m.jsx("div",{className:"loading-subtitle",children:"Visual Automation Editor"}),m.jsx("div",{className:"loading-progress-container",children:m.jsx("div",{className:"loading-progress-bar",children:m.jsx("div",{className:"loading-progress-fill",style:{width:`${Math.min(100,n)}%`}})})}),m.jsx("div",{className:"loading-status",children:r}),l>0&&m.jsxs("div",{className:"loading-count",children:[s," / ",l," plugins loaded"]}),u&&m.jsxs("div",{className:"loading-error",children:[" ",u]})]}):null}function fj({updateInfo:a,onClose:n,onApplyUpdate:r}){const[s,l]=E.useState(!1),[u,f]=E.useState("");if(!a||!a.hasUpdate)return null;const h=async()=>{l(!0),f("Saving current graph...");try{window.triggerGraphSave&&(await window.triggerGraphSave(),f("Graph saved! Starting update..."))}catch(y){console.warn("Pre-update graph save failed:",y)}sessionStorage.setItem("justUpdated","true"),sessionStorage.setItem("autoLoadAfterUpdate","true");try{const b=await(await Oa("/api/update/apply",{method:"POST",headers:{"Content-Type":"application/json"}})).json();f(b.message||"Updating... The app will restart shortly."),setTimeout(()=>{f("Update applied! Reloading page..."),setTimeout(()=>{const v=()=>{Oa("/api/health",{method:"GET"}).then(()=>window.location.reload()).catch(()=>setTimeout(v,2e3))};v()},3e3)},2e3)}catch(y){y.message.includes("fetch")||y.message.includes("network")?(f("Server restarting... Reloading page..."),setTimeout(()=>{const b=()=>{Oa("/api/health",{method:"GET"}).then(()=>window.location.reload()).catch(()=>setTimeout(b,2e3))};b()},3e3)):(f(`Update failed: ${y.message}`),l(!1))}},p=()=>{sessionStorage.setItem("updateSkipped",a.newVersion),n()};return m.jsx("div",{className:"update-modal-overlay",children:m.jsxs("div",{className:"update-modal",children:[m.jsxs("div",{className:"update-modal-header",children:[m.jsx("span",{className:"update-icon",children:""}),m.jsx("h2",{children:"Update Available!"})]}),m.jsxs("div",{className:"update-modal-version",children:[m.jsx("span",{className:"version-current",children:a.currentVersion}),m.jsx("span",{className:"version-arrow",children:""}),m.jsx("span",{className:"version-new",children:a.newVersion})]}),m.jsxs("div",{className:"update-modal-content",children:[m.jsx("h3",{children:"What's New:"}),m.jsx("div",{className:"changelog-content",children:m.jsx("pre",{children:a.changelog||"No changelog available."})})]}),u&&m.jsxs("div",{className:"update-status",children:[m.jsx("span",{className:"status-spinner",children:""}),u]}),m.jsx("div",{className:"update-modal-actions",children:s?m.jsx("div",{className:"updating-message",children:"Please wait while the update is being applied..."}):m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"update-btn update-btn-primary",onClick:h,children:"Update Now"}),m.jsx("button",{className:"update-btn update-btn-secondary",onClick:p,children:"Later"})]})})]})})}console.log("=== Socket Test ===");console.log("Singleton boolean socket:",ls.boolean);console.log("Singleton object socket:",ls.object);const qw=new Ot.Socket("boolean"),dj=new Ot.Socket("boolean"),hj=Ot.Socket.canConnect(qw,dj);console.log("Can two 'boolean' sockets connect?",hj);const pj=Ot.Socket.canConnect(ls.boolean,ls.boolean);console.log("Can singleton boolean sockets connect?",pj);const mj=new Ot.Socket("object"),yj=Ot.Socket.canConnect(qw,mj);console.log("Can 'boolean' and 'object' sockets connect?",yj);console.log("=== End Socket Test ===");const gj=()=>{try{localStorage.getItem("t2-performance-mode")==="true"&&document.body.classList.add("performance-mode")}catch(a){console.warn("Failed to apply performance mode:",a)}};gj();window.setPerformanceMode=a=>{a?(document.body.classList.add("performance-mode"),localStorage.setItem("t2-performance-mode","true")):(document.body.classList.remove("performance-mode"),localStorage.setItem("t2-performance-mode","false"))};window.getPerformanceMode=()=>document.body.classList.contains("performance-mode");const Yw=()=>{const a=r=>{const s=parseInt(r.slice(1,3),16),l=parseInt(r.slice(3,5),16),u=parseInt(r.slice(5,7),16);return`${s}, ${l}, ${u}`},n={"Home Assistant":"ha",Weather:"weather",Logic:"logic","Timer/Event":"timer",Color:"color",Utility:"utility",Inputs:"inputs",CC_Control_Nodes:"cc",Other:"other"};try{const r=localStorage.getItem("t2category-overrides");if(r){const s=JSON.parse(r),l=document.documentElement;for(const[u,f]of Object.entries(s)){const h=n[u];h&&(f.accent&&(l.style.setProperty(`--node-${h}-color`,f.accent),l.style.setProperty(`--node-${h}-color-rgb`,a(f.accent))),f.background&&l.style.setProperty(`--node-${h}-bg`,f.background))}}}catch(r){console.warn("Failed to apply stored category colors:",r)}},Gw=()=>{const a=u=>{const f=parseInt(u.slice(1,3),16),h=parseInt(u.slice(3,5),16),p=parseInt(u.slice(5,7),16);return`${f}, ${h}, ${p}`},n=(u,f=15)=>{const h=parseInt(u.slice(1),16),p=Math.max(0,(h>>16)-Math.round(255*f/100)),y=Math.max(0,(h>>8&255)-Math.round(255*f/100)),b=Math.max(0,(h&255)-Math.round(255*f/100));return`#${(16777216|p<<16|y<<8|b).toString(16).slice(1)}`},r=(u,f=20)=>{const h=parseInt(u.slice(1),16),p=Math.min(255,(h>>16)+Math.round(255*f/100)),y=Math.min(255,(h>>8&255)+Math.round(255*f/100)),b=Math.min(255,(h&255)+Math.round(255*f/100));return`#${(16777216|p<<16|y<<8|b).toString(16).slice(1)}`},s={Boolean:"boolean",Number:"number",String:"string","HSV Info":"hsv","Object/Any":"object","Light Info":"light"},l={Boolean:"#10b981",Number:"#3b82f6",String:"#f59e0b","HSV Info":"#8b5cf6","Object/Any":"#06b6d4","Light Info":"#eab308"};try{const u=localStorage.getItem("t2socket-colors"),f=u?JSON.parse(u):{},h=document.documentElement;for(const[p,y]of Object.entries(s)){const b=f[p]?.color||l[p];b&&(h.style.setProperty(`--socket-${y}-color`,b),h.style.setProperty(`--socket-${y}-dark`,n(b)),h.style.setProperty(`--socket-${y}-border`,r(b)),h.style.setProperty(`--socket-${y}-rgb`,a(b)))}}catch(u){console.warn("Failed to apply stored socket colors:",u)}};Yw();Gw();window.applyCategoryColors=Yw;window.applySocketColors=Gw;const Ud=new Map,$d=new Map;function vj(){const[a,n]=E.useState(Ce.connected),[r,s]=E.useState({connected:!1,wsConnected:!1,deviceCount:0}),[l,u]=E.useState([]),[f,h]=E.useState([]),[p,y]=E.useState(()=>parseInt(localStorage.getItem("panelHeight"))||150),[b,v]=E.useState(()=>parseInt(localStorage.getItem("panelFontSize"))||11),[S,k]=E.useState({isLoading:!0,progress:0,status:"Starting...",loadedCount:0,totalCount:0,error:null}),[N,Z]=E.useState(null),[L,Q]=E.useState(0),[J,V]=E.useState(()=>localStorage.getItem("eventLogFilter")||"all"),F=E.useRef(null),ce=E.useRef(null),oe=E.useRef({authenticated:!1,invalidPinNotified:!1}),H=100,ie=Wh();E.useEffect(()=>{const C=setInterval(()=>{Q(U=>U+1)},3e4);return()=>clearInterval(C)},[]),E.useEffect(()=>Iw(U=>{k(U),!U.isLoading&&U.progress===100&&U.failedPlugins?.length>0&&ie.warning(`Loaded ${U.loadedCount} plugins (${U.failedPlugins.length} failed)`),U.error&&ie.error(`Plugin loading failed: ${U.error}`)}),[ie]),E.useEffect(()=>{function C(){n(!0),ie.success("Connected to server"),re("system","Socket connected to server"),$d.clear();const Be=es();Be&&Ce.emit("authenticate",Be),Ce.emit("request-ha-status")}function U(){n(!1),s({connected:!1,wsConnected:!1,deviceCount:0}),oe.current.authenticated=!1,ie.warning("Disconnected from server"),re("system","Socket disconnected from server")}function le(Be){s(Be)}function ye(){oe.current.authenticated||(oe.current.authenticated=!0,oe.current.invalidPinNotified=!1,ie.success("Authenticated"))}function be(Be){oe.current.authenticated=!1;const Le=(Be?.error||"").toString();if(Le.toLowerCase().includes("invalid pin")){oe.current.invalidPinNotified||(oe.current.invalidPinNotified=!0,ie.error("Stored PIN is invalid. Update it in Settings  Security."));return}const Ee=Le?`Authentication failed: ${Le}`:"Authentication failed";ie.error(Ee)}function x(){if(!Ce.connected)return;oe.current.invalidPinNotified=!1;const Be=es();Be&&Ce.emit("authenticate",Be)}function R(Be){const{id:Le,state:Ee,on:qe,name:I,vendor:ae}=Be;if(!Le)return;const K=$d.get(Le),xe=qe!==void 0?qe:Ee==="on"||Ee==="playing"||Ee==="open",he=I||Be.friendly_name||Be.attributes?.friendly_name||Le.replace("ha_","").replace("kasa_","").replace("hue_","").replace(/\./g," ").replace(/_/g," ");if(K&&K.on===xe)return;$d.set(Le,{on:xe,state:Ee});const q=Ud.get(Le),D=xe?"ON":"OFF";let W=ae||"External";ae||(Le.startsWith("ha_")?W="HA":Le.startsWith("hue_")?W="Hue":Le.startsWith("kasa_")?W="Kasa":Le.startsWith("shelly_")&&(W="Shelly")),q&&Date.now()-q.timestamp<5e3?(re("device",`${he}  ${D}`,{source:"app",triggeredBy:q.nodeTitle}),Ud.delete(Le)):re("trigger",`${he}  ${D}`,{source:W})}function _(Be){}function G(Be){const{nodeId:Le,nodeLabel:Ee,result:qe}=Be;re("node",`${Ee||Le} executed`,qe)}function pe(Be){Array.isArray(Be)&&h(Be.slice(0,20))}function Oe(Be){const{type:Le,name:Ee,value:qe}=Be;re("trigger",`${Le}: ${Ee}`,qe)}function Ve(Be){if(sessionStorage.getItem("justUpdated")==="true"){sessionStorage.removeItem("justUpdated");return}sessionStorage.getItem("updateSkipped")!==Be.newVersion&&ie.info(` Update available: ${Be.currentVersion}  ${Be.newVersion}`,{duration:0,actionLabel:"View Details",action:()=>Z(Be)})}return Ce.on("connect",C),Ce.on("disconnect",U),Ce.on("auth-success",ye),Ce.on("auth-failed",be),Ce.on("ha-connection-status",le),Ce.on("device-state-update",R),Ce.on("device_state_change",_),Ce.on("node_executed",G),Ce.on("scheduled_events",pe),Ce.on("trigger_event",Oe),Ce.on("update-available",Ve),window.addEventListener("t2-pin-changed",x),UT(),()=>{Ce.off("connect",C),Ce.off("disconnect",U),Ce.off("auth-success",ye),Ce.off("auth-failed",be),Ce.off("ha-connection-status",le),Ce.off("device-state-update",R),Ce.off("device_state_change",_),Ce.off("node_executed",G),Ce.off("scheduled_events",pe),Ce.off("trigger_event",Oe),Ce.off("update-available",Ve),window.removeEventListener("t2-pin-changed",x),$T()}},[]);const re=(C,U,le=null)=>{const ye=new Date().toLocaleTimeString();u(be=>[{timestamp:ye,type:C,message:U,details:le},...be].slice(0,H))},X=E.useRef({}),ue=E.useCallback((C,U)=>{const le=U.map(R=>({...R,nodeId:C}));X.current[C]=le;const ye=[];Object.values(X.current).forEach(R=>{Array.isArray(R)&&ye.push(...R)});const be=new Date,x=ye.filter(R=>R.time&&new Date(R.time)>be).sort((R,_)=>new Date(R.time)-new Date(_.time)).slice(0,20);h(x)},[]),Ne=E.useCallback(C=>{delete X.current[C],ue(C,[])},[ue]);E.useEffect(()=>(window.addEventLog=re,window.setUpcomingEvents=h,window.registerScheduledEvents=ue,window.unregisterScheduledEvents=Ne,window.T2Toast=ie,window.registerPendingCommand=(C,U,le)=>{Ud.set(C,{nodeTitle:U,action:le,timestamp:Date.now()})},()=>{delete window.addEventLog,delete window.setUpcomingEvents,delete window.registerScheduledEvents,delete window.unregisterScheduledEvents,delete window.registerPendingCommand,delete window.T2Toast}),[ue,Ne,ie]);const _e=C=>{if(!C)return"";const U=new Date(C),ye=U-new Date,be=Math.floor(ye/6e4),x=Math.floor(be/60),R=Math.floor(x/24);let _="";return R>0?_=`${R}d ${x%24}h`:x>0?_=`${x}h ${be%60}m`:be>0?_=`${be}m`:_="<1m",`${U.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})} (${_})`},Ge=E.useCallback(async C=>{if(!C)return;const U=window._t2Area,le=window._t2Editor;if(!U||!le){console.warn("[focusNode] Editor not ready");return}const ye=le.getNode(C);if(!ye){console.warn("[focusNode] Node not found:",C);return}try{const{AreaExtensions:be}=await Qg(async()=>{const{AreaExtensions:x}=await Promise.resolve().then(()=>Ev);return{AreaExtensions:x}},void 0,import.meta.url);await be.zoomAt(U,[ye],{scale:1})}catch(be){console.warn("[focusNode] Failed to zoom to node:",be)}},[]),je=E.useCallback(async()=>{const C=window._t2Area,U=window._t2Editor;if(!C||!U){console.warn("[zoomExtents] Editor not ready");return}const le=U.getNodes();if(le.length===0){console.warn("[zoomExtents] No nodes in graph");return}try{const{AreaExtensions:ye}=await Qg(async()=>{const{AreaExtensions:be}=await Promise.resolve().then(()=>Ev);return{AreaExtensions:be}},void 0,import.meta.url);await ye.zoomAt(C,le,{scale:.7})}catch(ye){console.warn("[zoomExtents] Failed to zoom:",ye)}},[]);return m.jsxs("div",{className:"app-container",children:[N&&N.hasUpdate&&m.jsx(fj,{updateInfo:N,onClose:()=>Z(null)}),m.jsx(cj,{isLoading:S.isLoading,progress:S.progress,status:S.status,loadedCount:S.loadedCount,totalCount:S.totalCount,error:S.error}),m.jsx("div",{className:"editor-wrapper",children:m.jsx(lj,{})}),m.jsx("div",{className:"resize-handle",ref:ce,onMouseDown:C=>{C.preventDefault();const U=C.clientY,le=p,ye=x=>{const R=U-x.clientY,_=Math.max(80,Math.min(400,le+R));y(_),localStorage.setItem("panelHeight",_)},be=()=>{document.removeEventListener("mousemove",ye),document.removeEventListener("mouseup",be)};document.addEventListener("mousemove",ye),document.addEventListener("mouseup",be)},children:m.jsx("div",{className:"resize-handle-grip"})}),m.jsxs("div",{className:"bottom-panels",style:{height:p,fontSize:b},children:[m.jsxs("div",{className:"panel event-log-panel",children:[m.jsxs("div",{className:"panel-header",children:[m.jsx("span",{className:"panel-title",children:"Event Log"}),m.jsxs("div",{className:"panel-controls",children:[m.jsxs("div",{className:"filter-buttons",children:[m.jsx("button",{className:`filter-btn ${J==="all"?"active":""}`,onClick:()=>{V("all"),localStorage.setItem("eventLogFilter","all")},children:"All"}),m.jsx("button",{className:`filter-btn ${J==="app"?"active":""}`,onClick:()=>{V("app"),localStorage.setItem("eventLogFilter","app")},children:"App"}),m.jsx("button",{className:`filter-btn ${J==="ha"?"active":""}`,onClick:()=>{V("ha"),localStorage.setItem("eventLogFilter","ha")},children:"HA"})]}),m.jsx("button",{className:"font-size-btn",onClick:()=>{const C=Math.max(8,b-1);v(C),localStorage.setItem("panelFontSize",C)},children:"A-"}),m.jsxs("span",{className:"font-size-label",children:[b,"px"]}),m.jsx("button",{className:"font-size-btn",onClick:()=>{const C=Math.min(16,b+1);v(C),localStorage.setItem("panelFontSize",C)},children:"A+"}),m.jsx("button",{className:"panel-clear-btn",onClick:()=>u([]),children:"Clear"})]})]}),m.jsx("div",{className:"panel-content",ref:F,children:l.length===0?m.jsx("div",{className:"empty-message",children:"No events yet..."}):l.filter(C=>J==="all"?!0:J==="app"?C.details?.triggeredBy||C.details?.source==="app":J==="ha"?C.details?.source&&C.details.source!=="app"&&!C.details?.triggeredBy:!0).map((C,U)=>m.jsxs("div",{className:`log-entry log-${C.type}`,title:C.details?.triggeredBy?`Triggered by: ${C.details.triggeredBy}`:C.details?.source&&C.details.source!=="app"?`Triggered externally via ${C.details.source}`:"",children:[m.jsx("span",{className:"log-time",children:C.timestamp}),m.jsx("span",{className:`log-type-badge ${C.type}`,children:C.type==="trigger"?"external":C.type}),m.jsx("span",{className:"log-message",children:C.message}),C.details?.triggeredBy&&m.jsxs("span",{className:"log-source app-source",children:["via ",C.details.triggeredBy]}),C.details?.source&&C.details.source!=="app"&&!C.details?.triggeredBy&&m.jsxs("span",{className:"log-source external-source",children:["via ",C.details.source]})]},U))})]}),m.jsxs("div",{className:"panel upcoming-events-panel",children:[m.jsx("div",{className:"panel-header clickable-header",onClick:je,title:"Click to zoom to fit all nodes",children:m.jsx("span",{className:"panel-title",children:"Upcoming Events"})}),m.jsx("div",{className:"panel-content",children:f.length===0?m.jsx("div",{className:"empty-message",children:"No scheduled events..."}):f.map((C,U)=>m.jsxs("div",{className:`event-entry event-${C.action||"unknown"}${C.nodeId?" clickable":""}`,onClick:()=>C.nodeId&&Ge(C.nodeId),title:C.nodeId?"Click to jump to this node":"",style:C.nodeId?{cursor:"pointer"}:{},children:[m.jsx("span",{className:"event-time",children:_e(C.time)}),m.jsx("span",{className:`event-action ${C.action}`,children:C.action||"event"}),m.jsx("span",{className:"event-device",children:C.deviceName||C.device||"Unknown"})]},U))})]})]})]})}function bj(){return m.jsx(uj,{children:m.jsxs(YN,{children:[m.jsx(GN,{}),m.jsx(vj,{})]})})}typeof window.api<"u"&&console.log("T2AutoTron running in Electron mode");sb.createRoot(document.getElementById("root")).render(m.jsx(E.StrictMode,{children:m.jsx(bj,{})}));
