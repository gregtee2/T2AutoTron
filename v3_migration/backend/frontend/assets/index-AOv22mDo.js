function ib(i,t){for(var r=0;r<t.length;r++){const a=t[r];if(typeof a!="string"&&!Array.isArray(a)){for(const l in a)if(l!=="default"&&!(l in i)){const u=Object.getOwnPropertyDescriptor(a,l);u&&Object.defineProperty(i,l,u.get?u:{enumerable:!0,get:()=>a[l]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&a(f)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();function uh(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Gf={exports:{}},no={};var Ey;function Fx(){if(Ey)return no;Ey=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(a,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var h in l)h!=="key"&&(u[h]=l[h])}else u=l;return l=u.ref,{$$typeof:i,type:a,key:f,ref:l!==void 0?l:null,props:u}}return no.Fragment=t,no.jsx=r,no.jsxs=r,no}var Ny;function Qx(){return Ny||(Ny=1,Gf.exports=Fx()),Gf.exports}var g=Qx(),Zf={exports:{}},Ee={};var ky;function Kx(){if(ky)return Ee;ky=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),b=Symbol.iterator;function x(k){return k===null||typeof k!="object"?null:(k=b&&k[b]||k["@@iterator"],typeof k=="function"?k:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function z(k,Y,te){this.props=k,this.context=Y,this.refs=T,this.updater=te||_}z.prototype.isReactComponent={},z.prototype.setState=function(k,Y){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,Y,"setState")},z.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function A(){}A.prototype=z.prototype;function B(k,Y,te){this.props=k,this.context=Y,this.refs=T,this.updater=te||_}var N=B.prototype=new A;N.constructor=B,E(N,z.prototype),N.isPureReactComponent=!0;var H=Array.isArray;function O(){}var R={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function Z(k,Y,te){var re=te.ref;return{$$typeof:i,type:k,key:Y,ref:re!==void 0?re:null,props:te}}function j(k,Y){return Z(k.type,Y,k.props)}function W(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function oe(k){var Y={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(te){return Y[te]})}var ue=/\/+/g;function de(k,Y){return typeof k=="object"&&k!==null&&k.key!=null?oe(""+k.key):Y.toString(36)}function pe(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(O,O):(k.status="pending",k.then(function(Y){k.status==="pending"&&(k.status="fulfilled",k.value=Y)},function(Y){k.status==="pending"&&(k.status="rejected",k.reason=Y)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function $(k,Y,te,re,be){var _e=typeof k;(_e==="undefined"||_e==="boolean")&&(k=null);var Ne=!1;if(k===null)Ne=!0;else switch(_e){case"bigint":case"string":case"number":Ne=!0;break;case"object":switch(k.$$typeof){case i:case t:Ne=!0;break;case v:return Ne=k._init,$(Ne(k._payload),Y,te,re,be)}}if(Ne)return be=be(k),Ne=re===""?"."+de(k,0):re,H(be)?(te="",Ne!=null&&(te=Ne.replace(ue,"$&/")+"/"),$(be,Y,te,"",function(ge){return ge})):be!=null&&(W(be)&&(be=j(be,te+(be.key==null||k&&k.key===be.key?"":(""+be.key).replace(ue,"$&/")+"/")+Ne)),Y.push(be)),1;Ne=0;var K=re===""?".":re+":";if(H(k))for(var J=0;J<k.length;J++)re=k[J],_e=K+de(re,J),Ne+=$(re,Y,te,_e,be);else if(J=x(k),typeof J=="function")for(k=J.call(k),J=0;!(re=k.next()).done;)re=re.value,_e=K+de(re,J++),Ne+=$(re,Y,te,_e,be);else if(_e==="object"){if(typeof k.then=="function")return $(pe(k),Y,te,re,be);throw Y=String(k),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ne}function X(k,Y,te){if(k==null)return k;var re=[],be=0;return $(k,re,"","",function(_e){return Y.call(te,_e,be++)}),re}function ee(k){if(k._status===-1){var Y=k._result;Y=Y(),Y.then(function(te){(k._status===0||k._status===-1)&&(k._status=1,k._result=te)},function(te){(k._status===0||k._status===-1)&&(k._status=2,k._result=te)}),k._status===-1&&(k._status=0,k._result=Y)}if(k._status===1)return k._result.default;throw k._result}var ae=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},me={map:X,forEach:function(k,Y,te){X(k,function(){Y.apply(this,arguments)},te)},count:function(k){var Y=0;return X(k,function(){Y++}),Y},toArray:function(k){return X(k,function(Y){return Y})||[]},only:function(k){if(!W(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Ee.Activity=S,Ee.Children=me,Ee.Component=z,Ee.Fragment=r,Ee.Profiler=l,Ee.PureComponent=B,Ee.StrictMode=a,Ee.Suspense=p,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(k){return R.H.useMemoCache(k)}},Ee.cache=function(k){return function(){return k.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(k,Y,te){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var re=E({},k.props),be=k.key;if(Y!=null)for(_e in Y.key!==void 0&&(be=""+Y.key),Y)!I.call(Y,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&Y.ref===void 0||(re[_e]=Y[_e]);var _e=arguments.length-2;if(_e===1)re.children=te;else if(1<_e){for(var Ne=Array(_e),K=0;K<_e;K++)Ne[K]=arguments[K+2];re.children=Ne}return Z(k.type,be,re)},Ee.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Ee.createElement=function(k,Y,te){var re,be={},_e=null;if(Y!=null)for(re in Y.key!==void 0&&(_e=""+Y.key),Y)I.call(Y,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(be[re]=Y[re]);var Ne=arguments.length-2;if(Ne===1)be.children=te;else if(1<Ne){for(var K=Array(Ne),J=0;J<Ne;J++)K[J]=arguments[J+2];be.children=K}if(k&&k.defaultProps)for(re in Ne=k.defaultProps,Ne)be[re]===void 0&&(be[re]=Ne[re]);return Z(k,_e,be)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(k){return{$$typeof:h,render:k}},Ee.isValidElement=W,Ee.lazy=function(k){return{$$typeof:v,_payload:{_status:-1,_result:k},_init:ee}},Ee.memo=function(k,Y){return{$$typeof:m,type:k,compare:Y===void 0?null:Y}},Ee.startTransition=function(k){var Y=R.T,te={};R.T=te;try{var re=k(),be=R.S;be!==null&&be(te,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(O,ae)}catch(_e){ae(_e)}finally{Y!==null&&te.types!==null&&(Y.types=te.types),R.T=Y}},Ee.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ee.use=function(k){return R.H.use(k)},Ee.useActionState=function(k,Y,te){return R.H.useActionState(k,Y,te)},Ee.useCallback=function(k,Y){return R.H.useCallback(k,Y)},Ee.useContext=function(k){return R.H.useContext(k)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(k,Y){return R.H.useDeferredValue(k,Y)},Ee.useEffect=function(k,Y){return R.H.useEffect(k,Y)},Ee.useEffectEvent=function(k){return R.H.useEffectEvent(k)},Ee.useId=function(){return R.H.useId()},Ee.useImperativeHandle=function(k,Y,te){return R.H.useImperativeHandle(k,Y,te)},Ee.useInsertionEffect=function(k,Y){return R.H.useInsertionEffect(k,Y)},Ee.useLayoutEffect=function(k,Y){return R.H.useLayoutEffect(k,Y)},Ee.useMemo=function(k,Y){return R.H.useMemo(k,Y)},Ee.useOptimistic=function(k,Y){return R.H.useOptimistic(k,Y)},Ee.useReducer=function(k,Y,te){return R.H.useReducer(k,Y,te)},Ee.useRef=function(k){return R.H.useRef(k)},Ee.useState=function(k){return R.H.useState(k)},Ee.useSyncExternalStore=function(k,Y,te){return R.H.useSyncExternalStore(k,Y,te)},Ee.useTransition=function(){return R.H.useTransition()},Ee.version="19.2.0",Ee}var jy;function ch(){return jy||(jy=1,Zf.exports=Kx()),Zf.exports}var D=ch();const Zr=uh(D),Wx=ib({__proto__:null,default:Zr},[D]);var Pf={exports:{}},io={},Xf={exports:{}},Ff={};var Dy;function Jx(){return Dy||(Dy=1,(function(i){function t($,X){var ee=$.length;$.push(X);e:for(;0<ee;){var ae=ee-1>>>1,me=$[ae];if(0<l(me,X))$[ae]=X,$[ee]=me,ee=ae;else break e}}function r($){return $.length===0?null:$[0]}function a($){if($.length===0)return null;var X=$[0],ee=$.pop();if(ee!==X){$[0]=ee;e:for(var ae=0,me=$.length,k=me>>>1;ae<k;){var Y=2*(ae+1)-1,te=$[Y],re=Y+1,be=$[re];if(0>l(te,ee))re<me&&0>l(be,te)?($[ae]=be,$[re]=ee,ae=re):($[ae]=te,$[Y]=ee,ae=Y);else if(re<me&&0>l(be,ee))$[ae]=be,$[re]=ee,ae=re;else break e}}return X}function l($,X){var ee=$.sortIndex-X.sortIndex;return ee!==0?ee:$.id-X.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,h=f.now();i.unstable_now=function(){return f.now()-h}}var p=[],m=[],v=1,S=null,b=3,x=!1,_=!1,E=!1,T=!1,z=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function N($){for(var X=r(m);X!==null;){if(X.callback===null)a(m);else if(X.startTime<=$)a(m),X.sortIndex=X.expirationTime,t(p,X);else break;X=r(m)}}function H($){if(E=!1,N($),!_)if(r(p)!==null)_=!0,O||(O=!0,oe());else{var X=r(m);X!==null&&pe(H,X.startTime-$)}}var O=!1,R=-1,I=5,Z=-1;function j(){return T?!0:!(i.unstable_now()-Z<I)}function W(){if(T=!1,O){var $=i.unstable_now();Z=$;var X=!0;try{e:{_=!1,E&&(E=!1,A(R),R=-1),x=!0;var ee=b;try{t:{for(N($),S=r(p);S!==null&&!(S.expirationTime>$&&j());){var ae=S.callback;if(typeof ae=="function"){S.callback=null,b=S.priorityLevel;var me=ae(S.expirationTime<=$);if($=i.unstable_now(),typeof me=="function"){S.callback=me,N($),X=!0;break t}S===r(p)&&a(p),N($)}else a(p);S=r(p)}if(S!==null)X=!0;else{var k=r(m);k!==null&&pe(H,k.startTime-$),X=!1}}break e}finally{S=null,b=ee,x=!1}X=void 0}}finally{X?oe():O=!1}}}var oe;if(typeof B=="function")oe=function(){B(W)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,de=ue.port2;ue.port1.onmessage=W,oe=function(){de.postMessage(null)}}else oe=function(){z(W,0)};function pe($,X){R=z(function(){$(i.unstable_now())},X)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<$?Math.floor(1e3/$):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function($){switch(b){case 1:case 2:case 3:var X=3;break;default:X=b}var ee=b;b=X;try{return $()}finally{b=ee}},i.unstable_requestPaint=function(){T=!0},i.unstable_runWithPriority=function($,X){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var ee=b;b=$;try{return X()}finally{b=ee}},i.unstable_scheduleCallback=function($,X,ee){var ae=i.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ae+ee:ae):ee=ae,$){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=ee+me,$={id:v++,callback:X,priorityLevel:$,startTime:ee,expirationTime:me,sortIndex:-1},ee>ae?($.sortIndex=ee,t(m,$),r(p)===null&&$===r(m)&&(E?(A(R),R=-1):E=!0,pe(H,ee-ae))):($.sortIndex=me,t(p,$),_||x||(_=!0,O||(O=!0,oe()))),$},i.unstable_shouldYield=j,i.unstable_wrapCallback=function($){var X=b;return function(){var ee=b;b=X;try{return $.apply(this,arguments)}finally{b=ee}}}})(Ff)),Ff}var My;function e_(){return My||(My=1,Xf.exports=Jx()),Xf.exports}var Qf={exports:{}},Pt={};var Ay;function t_(){if(Ay)return Pt;Ay=1;var i=ch();function t(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var a={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,m,v){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:p,containerInfo:m,implementation:v}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Pt.createPortal=function(p,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return u(p,m,null,v)},Pt.flushSync=function(p){var m=f.T,v=a.p;try{if(f.T=null,a.p=2,p)return p()}finally{f.T=m,a.p=v,a.d.f()}},Pt.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(p,m))},Pt.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},Pt.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var v=m.as,S=h(v,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?a.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:S,integrity:b,fetchPriority:x}):v==="script"&&a.d.X(p,{crossOrigin:S,integrity:b,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Pt.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=h(m.as,m.crossOrigin);a.d.M(p,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(p)},Pt.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,S=h(v,m.crossOrigin);a.d.L(p,v,{crossOrigin:S,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Pt.preloadModule=function(p,m){if(typeof p=="string")if(m){var v=h(m.as,m.crossOrigin);a.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(p)},Pt.requestFormReset=function(p){a.d.r(p)},Pt.unstable_batchedUpdates=function(p,m){return p(m)},Pt.useFormState=function(p,m,v){return f.H.useFormState(p,m,v)},Pt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Pt.version="19.2.0",Pt}var Ry;function rb(){if(Ry)return Qf.exports;Ry=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Qf.exports=t_(),Qf.exports}var zy;function n_(){if(zy)return io;zy=1;var i=e_(),t=ch(),r=rb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function f(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function h(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(a(188))}function m(e){var n=e.alternate;if(!n){if(n=u(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var c=s.return;if(c===null)break;var d=c.alternate;if(d===null){if(o=c.return,o!==null){s=o;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===s)return p(c),e;if(d===o)return p(c),n;d=d.sibling}throw Error(a(188))}if(s.return!==o.return)s=c,o=d;else{for(var y=!1,w=c.child;w;){if(w===s){y=!0,s=c,o=d;break}if(w===o){y=!0,o=c,s=d;break}w=w.sibling}if(!y){for(w=d.child;w;){if(w===s){y=!0,s=d,o=c;break}if(w===o){y=!0,o=d,s=c;break}w=w.sibling}if(!y)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),B=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function oe(e){return e===null||typeof e!="object"?null:(e=W&&e[W]||e["@@iterator"],typeof e=="function"?e:null)}var ue=Symbol.for("react.client.reference");function de(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ue?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case E:return"Fragment";case z:return"Profiler";case T:return"StrictMode";case H:return"Suspense";case O:return"SuspenseList";case Z:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case _:return"Portal";case B:return e.displayName||"Context";case A:return(e._context.displayName||"Context")+".Consumer";case N:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return n=e.displayName||null,n!==null?n:de(e.type)||"Memo";case I:n=e._payload,e=e._init;try{return de(e(n))}catch{}}return null}var pe=Array.isArray,$=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee={pending:!1,data:null,method:null,action:null},ae=[],me=-1;function k(e){return{current:e}}function Y(e){0>me||(e.current=ae[me],ae[me]=null,me--)}function te(e,n){me++,ae[me]=e.current,e.current=n}var re=k(null),be=k(null),_e=k(null),Ne=k(null);function K(e,n){switch(te(_e,n),te(be,e),te(re,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Qg(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Qg(n),e=Kg(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(re),te(re,e)}function J(){Y(re),Y(be),Y(_e)}function ge(e){e.memoizedState!==null&&te(Ne,e);var n=re.current,s=Kg(n,e.type);n!==s&&(te(be,e),te(re,s))}function ce(e){be.current===e&&(Y(re),Y(be)),Ne.current===e&&(Y(Ne),Ws._currentValue=ee)}var Oe,Ae;function Pe(e){if(Oe===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Oe=n&&n[1]||"",Ae=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Oe+e+Ae}var Ie=!1;function at(e,n){if(!e||Ie)return"";Ie=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(G){var q=G}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(G){q=G}e.call(Q.prototype)}}else{try{throw Error()}catch(G){q=G}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),y=d[0],w=d[1];if(y&&w){var C=y.split(`
`),V=w.split(`
`);for(c=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;if(o===C.length||c===V.length)for(o=C.length-1,c=V.length-1;1<=o&&0<=c&&C[o]!==V[c];)c--;for(;1<=o&&0<=c;o--,c--)if(C[o]!==V[c]){if(o!==1||c!==1)do if(o--,c--,0>c||C[o]!==V[c]){var P=`
`+C[o].replace(" at new "," at ");return e.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",e.displayName)),P}while(1<=o&&0<=c);break}}}finally{Ie=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Pe(s):""}function Rt(e,n){switch(e.tag){case 26:case 27:case 5:return Pe(e.type);case 16:return Pe("Lazy");case 13:return e.child!==n&&n!==null?Pe("Suspense Fallback"):Pe("Suspense");case 19:return Pe("SuspenseList");case 0:case 15:return at(e.type,!1);case 11:return at(e.type.render,!1);case 1:return at(e.type,!0);case 31:return Pe("Activity");default:return""}}function gt(e){try{var n="",s=null;do n+=Rt(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var yt=Object.prototype.hasOwnProperty,Mt=i.unstable_scheduleCallback,Kn=i.unstable_cancelCallback,Wn=i.unstable_shouldYield,zi=i.unstable_requestPaint,xt=i.unstable_now,nn=i.unstable_getCurrentPriorityLevel,fs=i.unstable_ImmediatePriority,yr=i.unstable_UserBlockingPriority,Kr=i.unstable_NormalPriority,Lt=i.unstable_LowPriority,Oo=i.unstable_IdlePriority,Co=i.log,Ru=i.unstable_setDisableYieldValue,vr=null,Se=null;function le(e){if(typeof Co=="function"&&Ru(e),Se&&typeof Se.setStrictMode=="function")try{Se.setStrictMode(vr,e)}catch{}}var xe=Math.clz32?Math.clz32:In,Bi=Math.log,ds=Math.LN2;function In(e){return e>>>=0,e===0?32:31-(Bi(e)/ds|0)|0}var Wr=256,zt=262144,ci=4194304;function xn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Jr(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var c=0,d=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var w=o&134217727;return w!==0?(o=w&~d,o!==0?c=xn(o):(y&=w,y!==0?c=xn(y):s||(s=w&~e,s!==0&&(c=xn(s))))):(w=o&~d,w!==0?c=xn(w):y!==0?c=xn(y):s||(s=o&~e,s!==0&&(c=xn(s)))),c===0?0:n!==0&&n!==c&&(n&d)===0&&(d=c&-c,s=n&-n,d>=s||d===32&&(s&4194048)!==0)?n:c}function Hi(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ln(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ea(){var e=ci;return ci<<=1,(ci&62914560)===0&&(ci=4194304),e}function fi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function dt(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Jt(e,n,s,o,c,d){var y=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var w=e.entanglements,C=e.expirationTimes,V=e.hiddenUpdates;for(s=y&~s;0<s;){var P=31-xe(s),Q=1<<P;w[P]=0,C[P]=-1;var q=V[P];if(q!==null)for(V[P]=null,P=0;P<q.length;P++){var G=q[P];G!==null&&(G.lane&=-536870913)}s&=~Q}o!==0&&ot(e,o,0),d!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=d&~(y&~n))}function ot(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-xe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function ht(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-xe(s),c=1<<o;c&n|e[o]&n&&(e[o]|=n),s&=~c}}function _n(e,n){var s=n&-n;return s=(s&42)!==0?1:rn(s),(s&(e.suspendedLanes|n))!==0?0:s}function rn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function br(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Eo(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:Sy(e.type))}function No(e,n){var s=X.p;try{return X.p=e,n()}finally{X.p=s}}var Ui=Math.random().toString(36).slice(2),Vt="__reactFiber$"+Ui,an="__reactProps$"+Ui,ta="__reactContainer$"+Ui,zu="__reactEvents$"+Ui,US="__reactListeners$"+Ui,IS="__reactHandles$"+Ui,Hh="__reactResources$"+Ui,hs="__reactMarker$"+Ui;function Bu(e){delete e[Vt],delete e[an],delete e[zu],delete e[US],delete e[IS]}function na(e){var n=e[Vt];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ta]||s[Vt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=ry(e);e!==null;){if(s=e[Vt])return s;e=ry(e)}return n}e=s,s=e.parentNode}return null}function ia(e){if(e=e[Vt]||e[ta]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function ps(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ra(e){var n=e[Hh];return n||(n=e[Hh]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Bt(e){e[hs]=!0}var Uh=new Set,Ih={};function Sr(e,n){aa(e,n),aa(e+"Capture",n)}function aa(e,n){for(Ih[e]=n,e=0;e<n.length;e++)Uh.add(n[e])}var LS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Lh={},Vh={};function VS(e){return yt.call(Vh,e)?!0:yt.call(Lh,e)?!1:LS.test(e)?Vh[e]=!0:(Lh[e]=!0,!1)}function ko(e,n,s){if(VS(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function jo(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function di(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Tn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $h(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function $S(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,d=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){s=""+y,d.call(this,y)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Hu(e){if(!e._valueTracker){var n=$h(e)?"checked":"value";e._valueTracker=$S(e,n,""+e[n])}}function qh(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=$h(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function Do(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var qS=/[\n"\\]/g;function On(e){return e.replace(qS,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Uu(e,n,s,o,c,d,y,w){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Tn(n)):e.value!==""+Tn(n)&&(e.value=""+Tn(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?Iu(e,y,Tn(n)):s!=null?Iu(e,y,Tn(s)):o!=null&&e.removeAttribute("value"),c==null&&d!=null&&(e.defaultChecked=!!d),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+Tn(w):e.removeAttribute("name")}function Yh(e,n,s,o,c,d,y,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||s!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){Hu(e);return}s=s!=null?""+Tn(s):"",n=n!=null?""+Tn(n):s,w||n===e.value||(e.value=n),e.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=w?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Hu(e)}function Iu(e,n,s){n==="number"&&Do(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function sa(e,n,s,o){if(e=e.options,n){n={};for(var c=0;c<s.length;c++)n["$"+s[c]]=!0;for(s=0;s<e.length;s++)c=n.hasOwnProperty("$"+e[s].value),e[s].selected!==c&&(e[s].selected=c),c&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Tn(s),n=null,c=0;c<e.length;c++){if(e[c].value===s){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Gh(e,n,s){if(n!=null&&(n=""+Tn(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Tn(s):""}function Zh(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(pe(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Tn(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Hu(e)}function oa(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var YS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ph(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||YS.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Xh(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&s[c]!==o&&Ph(e,c,o)}else for(var d in n)n.hasOwnProperty(d)&&Ph(e,d,n[d])}function Lu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var GS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ZS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mo(e){return ZS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function hi(){}var Vu=null;function $u(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var la=null,ua=null;function Fh(e){var n=ia(e);if(n&&(e=n.stateNode)){var s=e[an]||null;e:switch(e=n.stateNode,n.type){case"input":if(Uu(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+On(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var c=o[an]||null;if(!c)throw Error(a(90));Uu(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&qh(o)}break e;case"textarea":Gh(e,s.value,s.defaultValue);break e;case"select":n=s.value,n!=null&&sa(e,!!s.multiple,n,!1)}}}var qu=!1;function Qh(e,n,s){if(qu)return e(n,s);qu=!0;try{var o=e(n);return o}finally{if(qu=!1,(la!==null||ua!==null)&&(bl(),la&&(n=la,e=ua,ua=la=null,Fh(n),e)))for(n=0;n<e.length;n++)Fh(e[n])}}function ms(e,n){var s=e.stateNode;if(s===null)return null;var o=s[an]||null;if(o===null)return null;s=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yu=!1;if(pi)try{var gs={};Object.defineProperty(gs,"passive",{get:function(){Yu=!0}}),window.addEventListener("test",gs,gs),window.removeEventListener("test",gs,gs)}catch{Yu=!1}var Ii=null,Gu=null,Ao=null;function Kh(){if(Ao)return Ao;var e,n=Gu,s=n.length,o,c="value"in Ii?Ii.value:Ii.textContent,d=c.length;for(e=0;e<s&&n[e]===c[e];e++);var y=s-e;for(o=1;o<=y&&n[s-o]===c[d-o];o++);return Ao=c.slice(e,1<o?1-o:void 0)}function Ro(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function zo(){return!0}function Wh(){return!1}function sn(e){function n(s,o,c,d,y){this._reactName=s,this._targetInst=c,this.type=o,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(s=e[w],this[w]=s?s(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?zo:Wh,this.isPropagationStopped=Wh,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=zo)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=zo)},persist:function(){},isPersistent:zo}),n}var wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bo=sn(wr),ys=S({},wr,{view:0,detail:0}),PS=sn(ys),Zu,Pu,vs,Ho=S({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vs&&(vs&&e.type==="mousemove"?(Zu=e.screenX-vs.screenX,Pu=e.screenY-vs.screenY):Pu=Zu=0,vs=e),Zu)},movementY:function(e){return"movementY"in e?e.movementY:Pu}}),Jh=sn(Ho),XS=S({},Ho,{dataTransfer:0}),FS=sn(XS),QS=S({},ys,{relatedTarget:0}),Xu=sn(QS),KS=S({},wr,{animationName:0,elapsedTime:0,pseudoElement:0}),WS=sn(KS),JS=S({},wr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ew=sn(JS),tw=S({},wr,{data:0}),ep=sn(tw),nw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aw(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=rw[e])?!!n[e]:!1}function Fu(){return aw}var sw=S({},ys,{key:function(e){if(e.key){var n=nw[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Ro(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?iw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fu,charCode:function(e){return e.type==="keypress"?Ro(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ro(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ow=sn(sw),lw=S({},Ho,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tp=sn(lw),uw=S({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fu}),cw=sn(uw),fw=S({},wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),dw=sn(fw),hw=S({},Ho,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pw=sn(hw),mw=S({},wr,{newState:0,oldState:0}),gw=sn(mw),yw=[9,13,27,32],Qu=pi&&"CompositionEvent"in window,bs=null;pi&&"documentMode"in document&&(bs=document.documentMode);var vw=pi&&"TextEvent"in window&&!bs,np=pi&&(!Qu||bs&&8<bs&&11>=bs),ip=" ",rp=!1;function ap(e,n){switch(e){case"keyup":return yw.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ca=!1;function bw(e,n){switch(e){case"compositionend":return sp(n);case"keypress":return n.which!==32?null:(rp=!0,ip);case"textInput":return e=n.data,e===ip&&rp?null:e;default:return null}}function Sw(e,n){if(ca)return e==="compositionend"||!Qu&&ap(e,n)?(e=Kh(),Ao=Gu=Ii=null,ca=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return np&&n.locale!=="ko"?null:n.data;default:return null}}var ww={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function op(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!ww[e.type]:n==="textarea"}function lp(e,n,s,o){la?ua?ua.push(o):ua=[o]:la=o,n=Cl(n,"onChange"),0<n.length&&(s=new Bo("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Ss=null,ws=null;function xw(e){Yg(e,0)}function Uo(e){var n=ps(e);if(qh(n))return e}function up(e,n){if(e==="change")return n}var cp=!1;if(pi){var Ku;if(pi){var Wu="oninput"in document;if(!Wu){var fp=document.createElement("div");fp.setAttribute("oninput","return;"),Wu=typeof fp.oninput=="function"}Ku=Wu}else Ku=!1;cp=Ku&&(!document.documentMode||9<document.documentMode)}function dp(){Ss&&(Ss.detachEvent("onpropertychange",hp),ws=Ss=null)}function hp(e){if(e.propertyName==="value"&&Uo(ws)){var n=[];lp(n,ws,e,$u(e)),Qh(xw,n)}}function _w(e,n,s){e==="focusin"?(dp(),Ss=n,ws=s,Ss.attachEvent("onpropertychange",hp)):e==="focusout"&&dp()}function Tw(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Uo(ws)}function Ow(e,n){if(e==="click")return Uo(n)}function Cw(e,n){if(e==="input"||e==="change")return Uo(n)}function Ew(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var hn=typeof Object.is=="function"?Object.is:Ew;function xs(e,n){if(hn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var c=s[o];if(!yt.call(n,c)||!hn(e[c],n[c]))return!1}return!0}function pp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mp(e,n){var s=pp(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=pp(s)}}function gp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?gp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function yp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Do(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Do(e.document)}return n}function Ju(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Nw=pi&&"documentMode"in document&&11>=document.documentMode,fa=null,ec=null,_s=null,tc=!1;function vp(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;tc||fa==null||fa!==Do(o)||(o=fa,"selectionStart"in o&&Ju(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),_s&&xs(_s,o)||(_s=o,o=Cl(ec,"onSelect"),0<o.length&&(n=new Bo("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=fa)))}function xr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var da={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionrun:xr("Transition","TransitionRun"),transitionstart:xr("Transition","TransitionStart"),transitioncancel:xr("Transition","TransitionCancel"),transitionend:xr("Transition","TransitionEnd")},nc={},bp={};pi&&(bp=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function _r(e){if(nc[e])return nc[e];if(!da[e])return e;var n=da[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in bp)return nc[e]=n[s];return e}var Sp=_r("animationend"),wp=_r("animationiteration"),xp=_r("animationstart"),kw=_r("transitionrun"),jw=_r("transitionstart"),Dw=_r("transitioncancel"),_p=_r("transitionend"),Tp=new Map,ic="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ic.push("scrollEnd");function Vn(e,n){Tp.set(e,n),Sr(n,[e])}var Io=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cn=[],ha=0,rc=0;function Lo(){for(var e=ha,n=rc=ha=0;n<e;){var s=Cn[n];Cn[n++]=null;var o=Cn[n];Cn[n++]=null;var c=Cn[n];Cn[n++]=null;var d=Cn[n];if(Cn[n++]=null,o!==null&&c!==null){var y=o.pending;y===null?c.next=c:(c.next=y.next,y.next=c),o.pending=c}d!==0&&Op(s,c,d)}}function Vo(e,n,s,o){Cn[ha++]=e,Cn[ha++]=n,Cn[ha++]=s,Cn[ha++]=o,rc|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function ac(e,n,s,o){return Vo(e,n,s,o),$o(e)}function Tr(e,n){return Vo(e,null,null,n),$o(e)}function Op(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var c=!1,d=e.return;d!==null;)d.childLanes|=s,o=d.alternate,o!==null&&(o.childLanes|=s),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(c=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,c&&n!==null&&(c=31-xe(s),e=d.hiddenUpdates,o=e[c],o===null?e[c]=[n]:o.push(n),n.lane=s|536870912),d):null}function $o(e){if(50<Gs)throw Gs=0,mf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var pa={};function Mw(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,n,s,o){return new Mw(e,n,s,o)}function sc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mi(e,n){var s=e.alternate;return s===null?(s=pn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Cp(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function qo(e,n,s,o,c,d){var y=0;if(o=e,typeof e=="function")sc(e)&&(y=1);else if(typeof e=="string")y=Hx(e,s,re.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Z:return e=pn(31,s,n,c),e.elementType=Z,e.lanes=d,e;case E:return Or(s.children,c,d,n);case T:y=8,c|=24;break;case z:return e=pn(12,s,n,c|2),e.elementType=z,e.lanes=d,e;case H:return e=pn(13,s,n,c),e.elementType=H,e.lanes=d,e;case O:return e=pn(19,s,n,c),e.elementType=O,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B:y=10;break e;case A:y=9;break e;case N:y=11;break e;case R:y=14;break e;case I:y=16,o=null;break e}y=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=pn(y,s,n,c),n.elementType=e,n.type=o,n.lanes=d,n}function Or(e,n,s,o){return e=pn(7,e,o,n),e.lanes=s,e}function oc(e,n,s){return e=pn(6,e,null,n),e.lanes=s,e}function Ep(e){var n=pn(18,null,null,0);return n.stateNode=e,n}function lc(e,n,s){return n=pn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Np=new WeakMap;function En(e,n){if(typeof e=="object"&&e!==null){var s=Np.get(e);return s!==void 0?s:(n={value:e,source:n,stack:gt(n)},Np.set(e,n),n)}return{value:e,source:n,stack:gt(n)}}var ma=[],ga=0,Yo=null,Ts=0,Nn=[],kn=0,Li=null,Jn=1,ei="";function gi(e,n){ma[ga++]=Ts,ma[ga++]=Yo,Yo=e,Ts=n}function kp(e,n,s){Nn[kn++]=Jn,Nn[kn++]=ei,Nn[kn++]=Li,Li=e;var o=Jn;e=ei;var c=32-xe(o)-1;o&=~(1<<c),s+=1;var d=32-xe(n)+c;if(30<d){var y=c-c%5;d=(o&(1<<y)-1).toString(32),o>>=y,c-=y,Jn=1<<32-xe(n)+c|s<<c|o,ei=d+e}else Jn=1<<d|s<<c|o,ei=e}function uc(e){e.return!==null&&(gi(e,1),kp(e,1,0))}function cc(e){for(;e===Yo;)Yo=ma[--ga],ma[ga]=null,Ts=ma[--ga],ma[ga]=null;for(;e===Li;)Li=Nn[--kn],Nn[kn]=null,ei=Nn[--kn],Nn[kn]=null,Jn=Nn[--kn],Nn[kn]=null}function jp(e,n){Nn[kn++]=Jn,Nn[kn++]=ei,Nn[kn++]=Li,Jn=n.id,ei=n.overflow,Li=e}var $t=null,ut=null,$e=!1,Vi=null,jn=!1,fc=Error(a(519));function $i(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Os(En(n,e)),fc}function Dp(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Vt]=e,n[an]=o,s){case"dialog":ze("cancel",n),ze("close",n);break;case"iframe":case"object":case"embed":ze("load",n);break;case"video":case"audio":for(s=0;s<Ps.length;s++)ze(Ps[s],n);break;case"source":ze("error",n);break;case"img":case"image":case"link":ze("error",n),ze("load",n);break;case"details":ze("toggle",n);break;case"input":ze("invalid",n),Yh(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":ze("invalid",n);break;case"textarea":ze("invalid",n),Zh(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Xg(n.textContent,s)?(o.popover!=null&&(ze("beforetoggle",n),ze("toggle",n)),o.onScroll!=null&&ze("scroll",n),o.onScrollEnd!=null&&ze("scrollend",n),o.onClick!=null&&(n.onclick=hi),n=!0):n=!1,n||$i(e,!0)}function Mp(e){for($t=e.return;$t;)switch($t.tag){case 5:case 31:case 13:jn=!1;return;case 27:case 3:jn=!0;return;default:$t=$t.return}}function ya(e){if(e!==$t)return!1;if(!$e)return Mp(e),$e=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||jf(e.type,e.memoizedProps)),s=!s),s&&ut&&$i(e),Mp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ut=iy(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ut=iy(e)}else n===27?(n=ut,nr(e.type)?(e=zf,zf=null,ut=e):ut=n):ut=$t?Mn(e.stateNode.nextSibling):null;return!0}function Cr(){ut=$t=null,$e=!1}function dc(){var e=Vi;return e!==null&&(cn===null?cn=e:cn.push.apply(cn,e),Vi=null),e}function Os(e){Vi===null?Vi=[e]:Vi.push(e)}var hc=k(null),Er=null,yi=null;function qi(e,n,s){te(hc,n._currentValue),n._currentValue=s}function vi(e){e._currentValue=hc.current,Y(hc)}function pc(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function mc(e,n,s,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var d=c.dependencies;if(d!==null){var y=c.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=c;for(var C=0;C<n.length;C++)if(w.context===n[C]){d.lanes|=s,w=d.alternate,w!==null&&(w.lanes|=s),pc(d.return,s,e),o||(y=null);break e}d=w.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=s,d=y.alternate,d!==null&&(d.lanes|=s),pc(y,s,e),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===e){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function va(e,n,s,o){e=null;for(var c=n,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var w=c.type;hn(c.pendingProps.value,y.value)||(e!==null?e.push(w):e=[w])}}else if(c===Ne.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Ws):e=[Ws])}c=c.return}e!==null&&mc(n,e,s,o),n.flags|=262144}function Go(e){for(e=e.firstContext;e!==null;){if(!hn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Nr(e){Er=e,yi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qt(e){return Ap(Er,e)}function Zo(e,n){return Er===null&&Nr(e),Ap(e,n)}function Ap(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},yi===null){if(e===null)throw Error(a(308));yi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else yi=yi.next=n;return s}var Aw=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},Rw=i.unstable_scheduleCallback,zw=i.unstable_NormalPriority,Ot={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gc(){return{controller:new Aw,data:new Map,refCount:0}}function Cs(e){e.refCount--,e.refCount===0&&Rw(zw,function(){e.controller.abort()})}var Es=null,yc=0,ba=0,Sa=null;function Bw(e,n){if(Es===null){var s=Es=[];yc=0,ba=wf(),Sa={status:"pending",value:void 0,then:function(o){s.push(o)}}}return yc++,n.then(Rp,Rp),n}function Rp(){if(--yc===0&&Es!==null){Sa!==null&&(Sa.status="fulfilled");var e=Es;Es=null,ba=0,Sa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Hw(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(c){s.push(c)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<s.length;c++)(0,s[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<s.length;c++)(0,s[c])(void 0)}),o}var zp=$.S;$.S=function(e,n){vg=xt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Bw(e,n),zp!==null&&zp(e,n)};var kr=k(null);function vc(){var e=kr.current;return e!==null?e:st.pooledCache}function Po(e,n){n===null?te(kr,kr.current):te(kr,n.pool)}function Bp(){var e=vc();return e===null?null:{parent:Ot._currentValue,pool:e}}var wa=Error(a(460)),bc=Error(a(474)),Xo=Error(a(542)),Fo={then:function(){}};function Hp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Up(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(hi,hi),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Lp(e),e;default:if(typeof n.status=="string")n.then(hi,hi);else{if(e=st,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Lp(e),e}throw Dr=n,wa}}function jr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Dr=s,wa):s}}var Dr=null;function Ip(){if(Dr===null)throw Error(a(459));var e=Dr;return Dr=null,e}function Lp(e){if(e===wa||e===Xo)throw Error(a(483))}var xa=null,Ns=0;function Qo(e){var n=Ns;return Ns+=1,xa===null&&(xa=[]),Up(xa,e,n)}function ks(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ko(e,n){throw n.$$typeof===b?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Vp(e){function n(U,M){if(e){var L=U.deletions;L===null?(U.deletions=[M],U.flags|=16):L.push(M)}}function s(U,M){if(!e)return null;for(;M!==null;)n(U,M),M=M.sibling;return null}function o(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function c(U,M){return U=mi(U,M),U.index=0,U.sibling=null,U}function d(U,M,L){return U.index=L,e?(L=U.alternate,L!==null?(L=L.index,L<M?(U.flags|=67108866,M):L):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function y(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function w(U,M,L,F){return M===null||M.tag!==6?(M=oc(L,U.mode,F),M.return=U,M):(M=c(M,L),M.return=U,M)}function C(U,M,L,F){var we=L.type;return we===E?P(U,M,L.props.children,F,L.key):M!==null&&(M.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===I&&jr(we)===M.type)?(M=c(M,L.props),ks(M,L),M.return=U,M):(M=qo(L.type,L.key,L.props,null,U.mode,F),ks(M,L),M.return=U,M)}function V(U,M,L,F){return M===null||M.tag!==4||M.stateNode.containerInfo!==L.containerInfo||M.stateNode.implementation!==L.implementation?(M=lc(L,U.mode,F),M.return=U,M):(M=c(M,L.children||[]),M.return=U,M)}function P(U,M,L,F,we){return M===null||M.tag!==7?(M=Or(L,U.mode,F,we),M.return=U,M):(M=c(M,L),M.return=U,M)}function Q(U,M,L){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=oc(""+M,U.mode,L),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case x:return L=qo(M.type,M.key,M.props,null,U.mode,L),ks(L,M),L.return=U,L;case _:return M=lc(M,U.mode,L),M.return=U,M;case I:return M=jr(M),Q(U,M,L)}if(pe(M)||oe(M))return M=Or(M,U.mode,L,null),M.return=U,M;if(typeof M.then=="function")return Q(U,Qo(M),L);if(M.$$typeof===B)return Q(U,Zo(U,M),L);Ko(U,M)}return null}function q(U,M,L,F){var we=M!==null?M.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return we!==null?null:w(U,M,""+L,F);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case x:return L.key===we?C(U,M,L,F):null;case _:return L.key===we?V(U,M,L,F):null;case I:return L=jr(L),q(U,M,L,F)}if(pe(L)||oe(L))return we!==null?null:P(U,M,L,F,null);if(typeof L.then=="function")return q(U,M,Qo(L),F);if(L.$$typeof===B)return q(U,M,Zo(U,L),F);Ko(U,L)}return null}function G(U,M,L,F,we){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return U=U.get(L)||null,w(M,U,""+F,we);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case x:return U=U.get(F.key===null?L:F.key)||null,C(M,U,F,we);case _:return U=U.get(F.key===null?L:F.key)||null,V(M,U,F,we);case I:return F=jr(F),G(U,M,L,F,we)}if(pe(F)||oe(F))return U=U.get(L)||null,P(M,U,F,we,null);if(typeof F.then=="function")return G(U,M,L,Qo(F),we);if(F.$$typeof===B)return G(U,M,L,Zo(M,F),we);Ko(M,F)}return null}function fe(U,M,L,F){for(var we=null,Ge=null,ve=M,De=M=0,Ve=null;ve!==null&&De<L.length;De++){ve.index>De?(Ve=ve,ve=null):Ve=ve.sibling;var Ze=q(U,ve,L[De],F);if(Ze===null){ve===null&&(ve=Ve);break}e&&ve&&Ze.alternate===null&&n(U,ve),M=d(Ze,M,De),Ge===null?we=Ze:Ge.sibling=Ze,Ge=Ze,ve=Ve}if(De===L.length)return s(U,ve),$e&&gi(U,De),we;if(ve===null){for(;De<L.length;De++)ve=Q(U,L[De],F),ve!==null&&(M=d(ve,M,De),Ge===null?we=ve:Ge.sibling=ve,Ge=ve);return $e&&gi(U,De),we}for(ve=o(ve);De<L.length;De++)Ve=G(ve,U,De,L[De],F),Ve!==null&&(e&&Ve.alternate!==null&&ve.delete(Ve.key===null?De:Ve.key),M=d(Ve,M,De),Ge===null?we=Ve:Ge.sibling=Ve,Ge=Ve);return e&&ve.forEach(function(or){return n(U,or)}),$e&&gi(U,De),we}function Te(U,M,L,F){if(L==null)throw Error(a(151));for(var we=null,Ge=null,ve=M,De=M=0,Ve=null,Ze=L.next();ve!==null&&!Ze.done;De++,Ze=L.next()){ve.index>De?(Ve=ve,ve=null):Ve=ve.sibling;var or=q(U,ve,Ze.value,F);if(or===null){ve===null&&(ve=Ve);break}e&&ve&&or.alternate===null&&n(U,ve),M=d(or,M,De),Ge===null?we=or:Ge.sibling=or,Ge=or,ve=Ve}if(Ze.done)return s(U,ve),$e&&gi(U,De),we;if(ve===null){for(;!Ze.done;De++,Ze=L.next())Ze=Q(U,Ze.value,F),Ze!==null&&(M=d(Ze,M,De),Ge===null?we=Ze:Ge.sibling=Ze,Ge=Ze);return $e&&gi(U,De),we}for(ve=o(ve);!Ze.done;De++,Ze=L.next())Ze=G(ve,U,De,Ze.value,F),Ze!==null&&(e&&Ze.alternate!==null&&ve.delete(Ze.key===null?De:Ze.key),M=d(Ze,M,De),Ge===null?we=Ze:Ge.sibling=Ze,Ge=Ze);return e&&ve.forEach(function(Xx){return n(U,Xx)}),$e&&gi(U,De),we}function rt(U,M,L,F){if(typeof L=="object"&&L!==null&&L.type===E&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case x:e:{for(var we=L.key;M!==null;){if(M.key===we){if(we=L.type,we===E){if(M.tag===7){s(U,M.sibling),F=c(M,L.props.children),F.return=U,U=F;break e}}else if(M.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===I&&jr(we)===M.type){s(U,M.sibling),F=c(M,L.props),ks(F,L),F.return=U,U=F;break e}s(U,M);break}else n(U,M);M=M.sibling}L.type===E?(F=Or(L.props.children,U.mode,F,L.key),F.return=U,U=F):(F=qo(L.type,L.key,L.props,null,U.mode,F),ks(F,L),F.return=U,U=F)}return y(U);case _:e:{for(we=L.key;M!==null;){if(M.key===we)if(M.tag===4&&M.stateNode.containerInfo===L.containerInfo&&M.stateNode.implementation===L.implementation){s(U,M.sibling),F=c(M,L.children||[]),F.return=U,U=F;break e}else{s(U,M);break}else n(U,M);M=M.sibling}F=lc(L,U.mode,F),F.return=U,U=F}return y(U);case I:return L=jr(L),rt(U,M,L,F)}if(pe(L))return fe(U,M,L,F);if(oe(L)){if(we=oe(L),typeof we!="function")throw Error(a(150));return L=we.call(L),Te(U,M,L,F)}if(typeof L.then=="function")return rt(U,M,Qo(L),F);if(L.$$typeof===B)return rt(U,M,Zo(U,L),F);Ko(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,M!==null&&M.tag===6?(s(U,M.sibling),F=c(M,L),F.return=U,U=F):(s(U,M),F=oc(L,U.mode,F),F.return=U,U=F),y(U)):s(U,M)}return function(U,M,L,F){try{Ns=0;var we=rt(U,M,L,F);return xa=null,we}catch(ve){if(ve===wa||ve===Xo)throw ve;var Ge=pn(29,ve,null,U.mode);return Ge.lanes=F,Ge.return=U,Ge}finally{}}}var Mr=Vp(!0),$p=Vp(!1),Yi=!1;function Sc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Gi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Zi(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Xe&2)!==0){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=$o(e),Op(e,null,s),n}return Vo(e,o,n,s),$o(e)}function js(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,ht(e,s)}}function xc(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var c=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};d===null?c=d=y:d=d.next=y,s=s.next}while(s!==null);d===null?c=d=n:d=d.next=n}else c=d=n;s={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var _c=!1;function Ds(){if(_c){var e=Sa;if(e!==null)throw e}}function Ms(e,n,s,o){_c=!1;var c=e.updateQueue;Yi=!1;var d=c.firstBaseUpdate,y=c.lastBaseUpdate,w=c.shared.pending;if(w!==null){c.shared.pending=null;var C=w,V=C.next;C.next=null,y===null?d=V:y.next=V,y=C;var P=e.alternate;P!==null&&(P=P.updateQueue,w=P.lastBaseUpdate,w!==y&&(w===null?P.firstBaseUpdate=V:w.next=V,P.lastBaseUpdate=C))}if(d!==null){var Q=c.baseState;y=0,P=V=C=null,w=d;do{var q=w.lane&-536870913,G=q!==w.lane;if(G?(Le&q)===q:(o&q)===q){q!==0&&q===ba&&(_c=!0),P!==null&&(P=P.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var fe=e,Te=w;q=n;var rt=s;switch(Te.tag){case 1:if(fe=Te.payload,typeof fe=="function"){Q=fe.call(rt,Q,q);break e}Q=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=Te.payload,q=typeof fe=="function"?fe.call(rt,Q,q):fe,q==null)break e;Q=S({},Q,q);break e;case 2:Yi=!0}}q=w.callback,q!==null&&(e.flags|=64,G&&(e.flags|=8192),G=c.callbacks,G===null?c.callbacks=[q]:G.push(q))}else G={lane:q,tag:w.tag,payload:w.payload,callback:w.callback,next:null},P===null?(V=P=G,C=Q):P=P.next=G,y|=q;if(w=w.next,w===null){if(w=c.shared.pending,w===null)break;G=w,w=G.next,G.next=null,c.lastBaseUpdate=G,c.shared.pending=null}}while(!0);P===null&&(C=Q),c.baseState=C,c.firstBaseUpdate=V,c.lastBaseUpdate=P,d===null&&(c.shared.lanes=0),Ki|=y,e.lanes=y,e.memoizedState=Q}}function qp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Yp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)qp(s[e],n)}var _a=k(null),Wo=k(0);function Gp(e,n){e=Ei,te(Wo,e),te(_a,n),Ei=e|n.baseLanes}function Tc(){te(Wo,Ei),te(_a,_a.current)}function Oc(){Ei=Wo.current,Y(_a),Y(Wo)}var mn=k(null),Dn=null;function Pi(e){var n=e.alternate;te(_t,_t.current&1),te(mn,e),Dn===null&&(n===null||_a.current!==null||n.memoizedState!==null)&&(Dn=e)}function Cc(e){te(_t,_t.current),te(mn,e),Dn===null&&(Dn=e)}function Zp(e){e.tag===22?(te(_t,_t.current),te(mn,e),Dn===null&&(Dn=e)):Xi()}function Xi(){te(_t,_t.current),te(mn,mn.current)}function gn(e){Y(mn),Dn===e&&(Dn=null),Y(_t)}var _t=k(0);function Jo(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Af(s)||Rf(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var bi=0,je=null,nt=null,Ct=null,el=!1,Ta=!1,Ar=!1,tl=0,As=0,Oa=null,Uw=0;function St(){throw Error(a(321))}function Ec(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!hn(e[s],n[s]))return!1;return!0}function Nc(e,n,s,o,c,d){return bi=d,je=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,$.H=e===null||e.memoizedState===null?km:qc,Ar=!1,d=s(o,c),Ar=!1,Ta&&(d=Xp(n,s,o,c)),Pp(e),d}function Pp(e){$.H=Bs;var n=nt!==null&&nt.next!==null;if(bi=0,Ct=nt=je=null,el=!1,As=0,Oa=null,n)throw Error(a(300));e===null||Et||(e=e.dependencies,e!==null&&Go(e)&&(Et=!0))}function Xp(e,n,s,o){je=e;var c=0;do{if(Ta&&(Oa=null),As=0,Ta=!1,25<=c)throw Error(a(301));if(c+=1,Ct=nt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=jm,d=n(s,o)}while(Ta);return d}function Iw(){var e=$.H,n=e.useState()[0];return n=typeof n.then=="function"?Rs(n):n,e=e.useState()[0],(nt!==null?nt.memoizedState:null)!==e&&(je.flags|=1024),n}function kc(){var e=tl!==0;return tl=0,e}function jc(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Dc(e){if(el){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}el=!1}bi=0,Ct=nt=je=null,Ta=!1,As=tl=0,Oa=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?je.memoizedState=Ct=e:Ct=Ct.next=e,Ct}function Tt(){if(nt===null){var e=je.alternate;e=e!==null?e.memoizedState:null}else e=nt.next;var n=Ct===null?je.memoizedState:Ct.next;if(n!==null)Ct=n,nt=e;else{if(e===null)throw je.alternate===null?Error(a(467)):Error(a(310));nt=e,e={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Ct===null?je.memoizedState=Ct=e:Ct=Ct.next=e}return Ct}function nl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rs(e){var n=As;return As+=1,Oa===null&&(Oa=[]),e=Up(Oa,e,n),n=je,(Ct===null?n.memoizedState:Ct.next)===null&&(n=n.alternate,$.H=n===null||n.memoizedState===null?km:qc),e}function il(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Rs(e);if(e.$$typeof===B)return qt(e)}throw Error(a(438,String(e)))}function Mc(e){var n=null,s=je.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=je.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=nl(),je.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=j;return n.index++,s}function Si(e,n){return typeof n=="function"?n(e):n}function rl(e){var n=Tt();return Ac(n,nt,e)}function Ac(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var c=e.baseQueue,d=o.pending;if(d!==null){if(c!==null){var y=c.next;c.next=d.next,d.next=y}n.baseQueue=c=d,o.pending=null}if(d=e.baseState,c===null)e.memoizedState=d;else{n=c.next;var w=y=null,C=null,V=n,P=!1;do{var Q=V.lane&-536870913;if(Q!==V.lane?(Le&Q)===Q:(bi&Q)===Q){var q=V.revertLane;if(q===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),Q===ba&&(P=!0);else if((bi&q)===q){V=V.next,q===ba&&(P=!0);continue}else Q={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},C===null?(w=C=Q,y=d):C=C.next=Q,je.lanes|=q,Ki|=q;Q=V.action,Ar&&s(d,Q),d=V.hasEagerState?V.eagerState:s(d,Q)}else q={lane:Q,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},C===null?(w=C=q,y=d):C=C.next=q,je.lanes|=Q,Ki|=Q;V=V.next}while(V!==null&&V!==n);if(C===null?y=d:C.next=w,!hn(d,e.memoizedState)&&(Et=!0,P&&(s=Sa,s!==null)))throw s;e.memoizedState=d,e.baseState=y,e.baseQueue=C,o.lastRenderedState=d}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Rc(e){var n=Tt(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,c=s.pending,d=n.memoizedState;if(c!==null){s.pending=null;var y=c=c.next;do d=e(d,y.action),y=y.next;while(y!==c);hn(d,n.memoizedState)||(Et=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,o]}function Fp(e,n,s){var o=je,c=Tt(),d=$e;if(d){if(s===void 0)throw Error(a(407));s=s()}else s=n();var y=!hn((nt||c).memoizedState,s);if(y&&(c.memoizedState=s,Et=!0),c=c.queue,Hc(Wp.bind(null,o,c,e),[e]),c.getSnapshot!==n||y||Ct!==null&&Ct.memoizedState.tag&1){if(o.flags|=2048,Ca(9,{destroy:void 0},Kp.bind(null,o,c,s,n),null),st===null)throw Error(a(349));d||(bi&127)!==0||Qp(o,n,s)}return s}function Qp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=je.updateQueue,n===null?(n=nl(),je.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Kp(e,n,s,o){n.value=s,n.getSnapshot=o,Jp(n)&&em(e)}function Wp(e,n,s){return s(function(){Jp(n)&&em(e)})}function Jp(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!hn(e,s)}catch{return!0}}function em(e){var n=Tr(e,2);n!==null&&fn(n,e,2)}function zc(e){var n=en();if(typeof e=="function"){var s=e;if(e=s(),Ar){le(!0);try{s()}finally{le(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:e},n}function tm(e,n,s,o){return e.baseState=s,Ac(e,nt,typeof o=="function"?o:Si)}function Lw(e,n,s,o,c){if(ol(e))throw Error(a(485));if(e=n.action,e!==null){var d={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};$.T!==null?s(!0):d.isTransition=!1,o(d),s=n.pending,s===null?(d.next=n.pending=d,nm(n,d)):(d.next=s.next,n.pending=s.next=d)}}function nm(e,n){var s=n.action,o=n.payload,c=e.state;if(n.isTransition){var d=$.T,y={};$.T=y;try{var w=s(c,o),C=$.S;C!==null&&C(y,w),im(e,n,w)}catch(V){Bc(e,n,V)}finally{d!==null&&y.types!==null&&(d.types=y.types),$.T=d}}else try{d=s(c,o),im(e,n,d)}catch(V){Bc(e,n,V)}}function im(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){rm(e,n,o)},function(o){return Bc(e,n,o)}):rm(e,n,s)}function rm(e,n,s){n.status="fulfilled",n.value=s,am(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,nm(e,s)))}function Bc(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,am(n),n=n.next;while(n!==o)}e.action=null}function am(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function sm(e,n){return n}function om(e,n){if($e){var s=st.formState;if(s!==null){e:{var o=je;if($e){if(ut){t:{for(var c=ut,d=jn;c.nodeType!==8;){if(!d){c=null;break t}if(c=Mn(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){ut=Mn(c.nextSibling),o=c.data==="F!";break e}}$i(o)}o=!1}o&&(n=s[0])}}return s=en(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sm,lastRenderedState:n},s.queue=o,s=Cm.bind(null,je,o),o.dispatch=s,o=zc(!1),d=$c.bind(null,je,!1,o.queue),o=en(),c={state:n,dispatch:null,action:e,pending:null},o.queue=c,s=Lw.bind(null,je,c,d,s),c.dispatch=s,o.memoizedState=e,[n,s,!1]}function lm(e){var n=Tt();return um(n,nt,e)}function um(e,n,s){if(n=Ac(e,n,sm)[0],e=rl(Si)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Rs(n)}catch(y){throw y===wa?Xo:y}else o=n;n=Tt();var c=n.queue,d=c.dispatch;return s!==n.memoizedState&&(je.flags|=2048,Ca(9,{destroy:void 0},Vw.bind(null,c,s),null)),[o,d,e]}function Vw(e,n){e.action=n}function cm(e){var n=Tt(),s=nt;if(s!==null)return um(n,s,e);Tt(),n=n.memoizedState,s=Tt();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Ca(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=je.updateQueue,n===null&&(n=nl(),je.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function fm(){return Tt().memoizedState}function al(e,n,s,o){var c=en();je.flags|=e,c.memoizedState=Ca(1|n,{destroy:void 0},s,o===void 0?null:o)}function sl(e,n,s,o){var c=Tt();o=o===void 0?null:o;var d=c.memoizedState.inst;nt!==null&&o!==null&&Ec(o,nt.memoizedState.deps)?c.memoizedState=Ca(n,d,s,o):(je.flags|=e,c.memoizedState=Ca(1|n,d,s,o))}function dm(e,n){al(8390656,8,e,n)}function Hc(e,n){sl(2048,8,e,n)}function $w(e){je.flags|=4;var n=je.updateQueue;if(n===null)n=nl(),je.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function hm(e){var n=Tt().memoizedState;return $w({ref:n,nextImpl:e}),function(){if((Xe&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function pm(e,n){return sl(4,2,e,n)}function mm(e,n){return sl(4,4,e,n)}function gm(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ym(e,n,s){s=s!=null?s.concat([e]):null,sl(4,4,gm.bind(null,n,e),s)}function Uc(){}function vm(e,n){var s=Tt();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&Ec(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function bm(e,n){var s=Tt();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&Ec(n,o[1]))return o[0];if(o=e(),Ar){le(!0);try{e()}finally{le(!1)}}return s.memoizedState=[o,n],o}function Ic(e,n,s){return s===void 0||(bi&1073741824)!==0&&(Le&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Sg(),je.lanes|=e,Ki|=e,s)}function Sm(e,n,s,o){return hn(s,n)?s:_a.current!==null?(e=Ic(e,s,o),hn(e,n)||(Et=!0),e):(bi&42)===0||(bi&1073741824)!==0&&(Le&261930)===0?(Et=!0,e.memoizedState=s):(e=Sg(),je.lanes|=e,Ki|=e,n)}function wm(e,n,s,o,c){var d=X.p;X.p=d!==0&&8>d?d:8;var y=$.T,w={};$.T=w,$c(e,!1,n,s);try{var C=c(),V=$.S;if(V!==null&&V(w,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var P=Hw(C,o);zs(e,n,P,bn(e))}else zs(e,n,o,bn(e))}catch(Q){zs(e,n,{then:function(){},status:"rejected",reason:Q},bn())}finally{X.p=d,y!==null&&w.types!==null&&(y.types=w.types),$.T=y}}function qw(){}function Lc(e,n,s,o){if(e.tag!==5)throw Error(a(476));var c=xm(e).queue;wm(e,c,n,ee,s===null?qw:function(){return _m(e),s(o)})}function xm(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ee,baseState:ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:ee},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Si,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function _m(e){var n=xm(e);n.next===null&&(n=e.alternate.memoizedState),zs(e,n.next.queue,{},bn())}function Vc(){return qt(Ws)}function Tm(){return Tt().memoizedState}function Om(){return Tt().memoizedState}function Yw(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=bn();e=Gi(s);var o=Zi(n,e,s);o!==null&&(fn(o,n,s),js(o,n,s)),n={cache:gc()},e.payload=n;return}n=n.return}}function Gw(e,n,s){var o=bn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ol(e)?Em(n,s):(s=ac(e,n,s,o),s!==null&&(fn(s,e,o),Nm(s,n,o)))}function Cm(e,n,s){var o=bn();zs(e,n,s,o)}function zs(e,n,s,o){var c={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(ol(e))Em(n,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var y=n.lastRenderedState,w=d(y,s);if(c.hasEagerState=!0,c.eagerState=w,hn(w,y))return Vo(e,n,c,0),st===null&&Lo(),!1}catch{}finally{}if(s=ac(e,n,c,o),s!==null)return fn(s,e,o),Nm(s,n,o),!0}return!1}function $c(e,n,s,o){if(o={lane:2,revertLane:wf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ol(e)){if(n)throw Error(a(479))}else n=ac(e,s,o,2),n!==null&&fn(n,e,2)}function ol(e){var n=e.alternate;return e===je||n!==null&&n===je}function Em(e,n){Ta=el=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Nm(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,ht(e,s)}}var Bs={readContext:qt,use:il,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useLayoutEffect:St,useInsertionEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useSyncExternalStore:St,useId:St,useHostTransitionStatus:St,useFormState:St,useActionState:St,useOptimistic:St,useMemoCache:St,useCacheRefresh:St};Bs.useEffectEvent=St;var km={readContext:qt,use:il,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:qt,useEffect:dm,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,al(4194308,4,gm.bind(null,n,e),s)},useLayoutEffect:function(e,n){return al(4194308,4,e,n)},useInsertionEffect:function(e,n){al(4,2,e,n)},useMemo:function(e,n){var s=en();n=n===void 0?null:n;var o=e();if(Ar){le(!0);try{e()}finally{le(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=en();if(s!==void 0){var c=s(n);if(Ar){le(!0);try{s(n)}finally{le(!1)}}}else c=n;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=Gw.bind(null,je,e),[o.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=zc(e);var n=e.queue,s=Cm.bind(null,je,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Uc,useDeferredValue:function(e,n){var s=en();return Ic(s,e,n)},useTransition:function(){var e=zc(!1);return e=wm.bind(null,je,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=je,c=en();if($e){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),st===null)throw Error(a(349));(Le&127)!==0||Qp(o,n,s)}c.memoizedState=s;var d={value:s,getSnapshot:n};return c.queue=d,dm(Wp.bind(null,o,d,e),[e]),o.flags|=2048,Ca(9,{destroy:void 0},Kp.bind(null,o,d,s,n),null),s},useId:function(){var e=en(),n=st.identifierPrefix;if($e){var s=ei,o=Jn;s=(o&~(1<<32-xe(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=tl++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=Uw++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Vc,useFormState:om,useActionState:om,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=$c.bind(null,je,!0,s),s.dispatch=n,[e,n]},useMemoCache:Mc,useCacheRefresh:function(){return en().memoizedState=Yw.bind(null,je)},useEffectEvent:function(e){var n=en(),s={impl:e};return n.memoizedState=s,function(){if((Xe&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},qc={readContext:qt,use:il,useCallback:vm,useContext:qt,useEffect:Hc,useImperativeHandle:ym,useInsertionEffect:pm,useLayoutEffect:mm,useMemo:bm,useReducer:rl,useRef:fm,useState:function(){return rl(Si)},useDebugValue:Uc,useDeferredValue:function(e,n){var s=Tt();return Sm(s,nt.memoizedState,e,n)},useTransition:function(){var e=rl(Si)[0],n=Tt().memoizedState;return[typeof e=="boolean"?e:Rs(e),n]},useSyncExternalStore:Fp,useId:Tm,useHostTransitionStatus:Vc,useFormState:lm,useActionState:lm,useOptimistic:function(e,n){var s=Tt();return tm(s,nt,e,n)},useMemoCache:Mc,useCacheRefresh:Om};qc.useEffectEvent=hm;var jm={readContext:qt,use:il,useCallback:vm,useContext:qt,useEffect:Hc,useImperativeHandle:ym,useInsertionEffect:pm,useLayoutEffect:mm,useMemo:bm,useReducer:Rc,useRef:fm,useState:function(){return Rc(Si)},useDebugValue:Uc,useDeferredValue:function(e,n){var s=Tt();return nt===null?Ic(s,e,n):Sm(s,nt.memoizedState,e,n)},useTransition:function(){var e=Rc(Si)[0],n=Tt().memoizedState;return[typeof e=="boolean"?e:Rs(e),n]},useSyncExternalStore:Fp,useId:Tm,useHostTransitionStatus:Vc,useFormState:cm,useActionState:cm,useOptimistic:function(e,n){var s=Tt();return nt!==null?tm(s,nt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Mc,useCacheRefresh:Om};jm.useEffectEvent=hm;function Yc(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:S({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Gc={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=bn(),c=Gi(o);c.payload=n,s!=null&&(c.callback=s),n=Zi(e,c,o),n!==null&&(fn(n,e,o),js(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=bn(),c=Gi(o);c.tag=1,c.payload=n,s!=null&&(c.callback=s),n=Zi(e,c,o),n!==null&&(fn(n,e,o),js(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=bn(),o=Gi(s);o.tag=2,n!=null&&(o.callback=n),n=Zi(e,o,s),n!==null&&(fn(n,e,s),js(n,e,s))}};function Dm(e,n,s,o,c,d,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,y):n.prototype&&n.prototype.isPureReactComponent?!xs(s,o)||!xs(c,d):!0}function Mm(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Gc.enqueueReplaceState(n,n.state,null)}function Rr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=S({},s));for(var c in e)s[c]===void 0&&(s[c]=e[c])}return s}function Am(e){Io(e)}function Rm(e){console.error(e)}function zm(e){Io(e)}function ll(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Bm(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Zc(e,n,s){return s=Gi(s),s.tag=3,s.payload={element:null},s.callback=function(){ll(e,n)},s}function Hm(e){return e=Gi(e),e.tag=3,e}function Um(e,n,s,o){var c=s.type.getDerivedStateFromError;if(typeof c=="function"){var d=o.value;e.payload=function(){return c(d)},e.callback=function(){Bm(n,s,o)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Bm(n,s,o),typeof c!="function"&&(Wi===null?Wi=new Set([this]):Wi.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})})}function Zw(e,n,s,o,c){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&va(n,s,c,!0),s=mn.current,s!==null){switch(s.tag){case 31:case 13:return Dn===null?Sl():s.alternate===null&&wt===0&&(wt=3),s.flags&=-257,s.flags|=65536,s.lanes=c,o===Fo?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),vf(e,o,c)),!1;case 22:return s.flags|=65536,o===Fo?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),vf(e,o,c)),!1}throw Error(a(435,s.tag))}return vf(e,o,c),Sl(),!1}if($e)return n=mn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==fc&&(e=Error(a(422),{cause:o}),Os(En(e,s)))):(o!==fc&&(n=Error(a(423),{cause:o}),Os(En(n,s))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=En(o,s),c=Zc(e.stateNode,o,c),xc(e,c),wt!==4&&(wt=2)),!1;var d=Error(a(520),{cause:o});if(d=En(d,s),Ys===null?Ys=[d]:Ys.push(d),wt!==4&&(wt=2),n===null)return!0;o=En(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=c&-c,s.lanes|=e,e=Zc(s.stateNode,o,e),xc(s,e),!1;case 1:if(n=s.type,d=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Wi===null||!Wi.has(d))))return s.flags|=65536,c&=-c,s.lanes|=c,c=Hm(c),Um(c,e,s,o),xc(s,c),!1}s=s.return}while(s!==null);return!1}var Pc=Error(a(461)),Et=!1;function Yt(e,n,s,o){n.child=e===null?$p(n,null,s,o):Mr(n,e.child,s,o)}function Im(e,n,s,o,c){s=s.render;var d=n.ref;if("ref"in o){var y={};for(var w in o)w!=="ref"&&(y[w]=o[w])}else y=o;return Nr(n),o=Nc(e,n,s,y,d,c),w=kc(),e!==null&&!Et?(jc(e,n,c),wi(e,n,c)):($e&&w&&uc(n),n.flags|=1,Yt(e,n,o,c),n.child)}function Lm(e,n,s,o,c){if(e===null){var d=s.type;return typeof d=="function"&&!sc(d)&&d.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=d,Vm(e,n,d,o,c)):(e=qo(s.type,null,o,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!tf(e,c)){var y=d.memoizedProps;if(s=s.compare,s=s!==null?s:xs,s(y,o)&&e.ref===n.ref)return wi(e,n,c)}return n.flags|=1,e=mi(d,o),e.ref=n.ref,e.return=n,n.child=e}function Vm(e,n,s,o,c){if(e!==null){var d=e.memoizedProps;if(xs(d,o)&&e.ref===n.ref)if(Et=!1,n.pendingProps=o=d,tf(e,c))(e.flags&131072)!==0&&(Et=!0);else return n.lanes=e.lanes,wi(e,n,c)}return Xc(e,n,s,o,c)}function $m(e,n,s,o){var c=o.children,d=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|s:s,e!==null){for(o=n.child=e.child,c=0;o!==null;)c=c|o.lanes|o.childLanes,o=o.sibling;o=c&~d}else o=0,n.child=null;return qm(e,n,d,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Po(n,d!==null?d.cachePool:null),d!==null?Gp(n,d):Tc(),Zp(n);else return o=n.lanes=536870912,qm(e,n,d!==null?d.baseLanes|s:s,s,o)}else d!==null?(Po(n,d.cachePool),Gp(n,d),Xi(),n.memoizedState=null):(e!==null&&Po(n,null),Tc(),Xi());return Yt(e,n,c,s),n.child}function Hs(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function qm(e,n,s,o,c){var d=vc();return d=d===null?null:{parent:Ot._currentValue,pool:d},n.memoizedState={baseLanes:s,cachePool:d},e!==null&&Po(n,null),Tc(),Zp(n),e!==null&&va(e,n,o,!0),n.childLanes=c,null}function ul(e,n){return n=fl({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Ym(e,n,s){return Mr(n,e.child,null,s),e=ul(n,n.pendingProps),e.flags|=2,gn(n),n.memoizedState=null,e}function Pw(e,n,s){var o=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,e===null){if($e){if(o.mode==="hidden")return e=ul(n,o),n.lanes=536870912,Hs(null,e);if(Cc(n),(e=ut)?(e=ny(e,jn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Li!==null?{id:Jn,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},s=Ep(e),s.return=n,n.child=s,$t=n,ut=null)):e=null,e===null)throw $i(n);return n.lanes=536870912,null}return ul(n,o)}var d=e.memoizedState;if(d!==null){var y=d.dehydrated;if(Cc(n),c)if(n.flags&256)n.flags&=-257,n=Ym(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Et||va(e,n,s,!1),c=(s&e.childLanes)!==0,Et||c){if(o=st,o!==null&&(y=_n(o,s),y!==0&&y!==d.retryLane))throw d.retryLane=y,Tr(e,y),fn(o,e,y),Pc;Sl(),n=Ym(e,n,s)}else e=d.treeContext,ut=Mn(y.nextSibling),$t=n,$e=!0,Vi=null,jn=!1,e!==null&&jp(n,e),n=ul(n,o),n.flags|=4096;return n}return e=mi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function cl(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Xc(e,n,s,o,c){return Nr(n),s=Nc(e,n,s,o,void 0,c),o=kc(),e!==null&&!Et?(jc(e,n,c),wi(e,n,c)):($e&&o&&uc(n),n.flags|=1,Yt(e,n,s,c),n.child)}function Gm(e,n,s,o,c,d){return Nr(n),n.updateQueue=null,s=Xp(n,o,s,c),Pp(e),o=kc(),e!==null&&!Et?(jc(e,n,d),wi(e,n,d)):($e&&o&&uc(n),n.flags|=1,Yt(e,n,s,d),n.child)}function Zm(e,n,s,o,c){if(Nr(n),n.stateNode===null){var d=pa,y=s.contextType;typeof y=="object"&&y!==null&&(d=qt(y)),d=new s(o,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Gc,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=o,d.state=n.memoizedState,d.refs={},Sc(n),y=s.contextType,d.context=typeof y=="object"&&y!==null?qt(y):pa,d.state=n.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Yc(n,s,y,o),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&Gc.enqueueReplaceState(d,d.state,null),Ms(n,o,d,c),Ds(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){d=n.stateNode;var w=n.memoizedProps,C=Rr(s,w);d.props=C;var V=d.context,P=s.contextType;y=pa,typeof P=="object"&&P!==null&&(y=qt(P));var Q=s.getDerivedStateFromProps;P=typeof Q=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=n.pendingProps!==w,P||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||V!==y)&&Mm(n,d,o,y),Yi=!1;var q=n.memoizedState;d.state=q,Ms(n,o,d,c),Ds(),V=n.memoizedState,w||q!==V||Yi?(typeof Q=="function"&&(Yc(n,s,Q,o),V=n.memoizedState),(C=Yi||Dm(n,s,C,o,q,V,y))?(P||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=V),d.props=o,d.state=V,d.context=y,o=C):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{d=n.stateNode,wc(e,n),y=n.memoizedProps,P=Rr(s,y),d.props=P,Q=n.pendingProps,q=d.context,V=s.contextType,C=pa,typeof V=="object"&&V!==null&&(C=qt(V)),w=s.getDerivedStateFromProps,(V=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==Q||q!==C)&&Mm(n,d,o,C),Yi=!1,q=n.memoizedState,d.state=q,Ms(n,o,d,c),Ds();var G=n.memoizedState;y!==Q||q!==G||Yi||e!==null&&e.dependencies!==null&&Go(e.dependencies)?(typeof w=="function"&&(Yc(n,s,w,o),G=n.memoizedState),(P=Yi||Dm(n,s,P,o,q,G,C)||e!==null&&e.dependencies!==null&&Go(e.dependencies))?(V||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,G,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,G,C)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&q===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&q===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=G),d.props=o,d.state=G,d.context=C,o=P):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&q===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&q===e.memoizedState||(n.flags|=1024),o=!1)}return d=o,cl(e,n),o=(n.flags&128)!==0,d||o?(d=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&o?(n.child=Mr(n,e.child,null,c),n.child=Mr(n,null,s,c)):Yt(e,n,s,c),n.memoizedState=d.state,e=n.child):e=wi(e,n,c),e}function Pm(e,n,s,o){return Cr(),n.flags|=256,Yt(e,n,s,o),n.child}var Fc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qc(e){return{baseLanes:e,cachePool:Bp()}}function Kc(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=vn),e}function Xm(e,n,s){var o=n.pendingProps,c=!1,d=(n.flags&128)!==0,y;if((y=d)||(y=e!==null&&e.memoizedState===null?!1:(_t.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if($e){if(c?Pi(n):Xi(),(e=ut)?(e=ny(e,jn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Li!==null?{id:Jn,overflow:ei}:null,retryLane:536870912,hydrationErrors:null},s=Ep(e),s.return=n,n.child=s,$t=n,ut=null)):e=null,e===null)throw $i(n);return Rf(e)?n.lanes=32:n.lanes=536870912,null}var w=o.children;return o=o.fallback,c?(Xi(),c=n.mode,w=fl({mode:"hidden",children:w},c),o=Or(o,c,s,null),w.return=n,o.return=n,w.sibling=o,n.child=w,o=n.child,o.memoizedState=Qc(s),o.childLanes=Kc(e,y,s),n.memoizedState=Fc,Hs(null,o)):(Pi(n),Wc(n,w))}var C=e.memoizedState;if(C!==null&&(w=C.dehydrated,w!==null)){if(d)n.flags&256?(Pi(n),n.flags&=-257,n=Jc(e,n,s)):n.memoizedState!==null?(Xi(),n.child=e.child,n.flags|=128,n=null):(Xi(),w=o.fallback,c=n.mode,o=fl({mode:"visible",children:o.children},c),w=Or(w,c,s,null),w.flags|=2,o.return=n,w.return=n,o.sibling=w,n.child=o,Mr(n,e.child,null,s),o=n.child,o.memoizedState=Qc(s),o.childLanes=Kc(e,y,s),n.memoizedState=Fc,n=Hs(null,o));else if(Pi(n),Rf(w)){if(y=w.nextSibling&&w.nextSibling.dataset,y)var V=y.dgst;y=V,o=Error(a(419)),o.stack="",o.digest=y,Os({value:o,source:null,stack:null}),n=Jc(e,n,s)}else if(Et||va(e,n,s,!1),y=(s&e.childLanes)!==0,Et||y){if(y=st,y!==null&&(o=_n(y,s),o!==0&&o!==C.retryLane))throw C.retryLane=o,Tr(e,o),fn(y,e,o),Pc;Af(w)||Sl(),n=Jc(e,n,s)}else Af(w)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,ut=Mn(w.nextSibling),$t=n,$e=!0,Vi=null,jn=!1,e!==null&&jp(n,e),n=Wc(n,o.children),n.flags|=4096);return n}return c?(Xi(),w=o.fallback,c=n.mode,C=e.child,V=C.sibling,o=mi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,V!==null?w=mi(V,w):(w=Or(w,c,s,null),w.flags|=2),w.return=n,o.return=n,o.sibling=w,n.child=o,Hs(null,o),o=n.child,w=e.child.memoizedState,w===null?w=Qc(s):(c=w.cachePool,c!==null?(C=Ot._currentValue,c=c.parent!==C?{parent:C,pool:C}:c):c=Bp(),w={baseLanes:w.baseLanes|s,cachePool:c}),o.memoizedState=w,o.childLanes=Kc(e,y,s),n.memoizedState=Fc,Hs(e.child,o)):(Pi(n),s=e.child,e=s.sibling,s=mi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=s,n.memoizedState=null,s)}function Wc(e,n){return n=fl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function fl(e,n){return e=pn(22,e,null,n),e.lanes=0,e}function Jc(e,n,s){return Mr(n,e.child,null,s),e=Wc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Fm(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),pc(e.return,n,s)}function ef(e,n,s,o,c,d){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:c,treeForkCount:d}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=s,y.tailMode=c,y.treeForkCount=d)}function Qm(e,n,s){var o=n.pendingProps,c=o.revealOrder,d=o.tail;o=o.children;var y=_t.current,w=(y&2)!==0;if(w?(y=y&1|2,n.flags|=128):y&=1,te(_t,y),Yt(e,n,o,s),o=$e?Ts:0,!w&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fm(e,s,n);else if(e.tag===19)Fm(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(s=n.child,c=null;s!==null;)e=s.alternate,e!==null&&Jo(e)===null&&(c=s),s=s.sibling;s=c,s===null?(c=n.child,n.child=null):(c=s.sibling,s.sibling=null),ef(n,!1,c,s,d,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&Jo(e)===null){n.child=c;break}e=c.sibling,c.sibling=s,s=c,c=e}ef(n,!0,s,null,d,o);break;case"together":ef(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function wi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Ki|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(va(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=mi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=mi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function tf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Go(e)))}function Xw(e,n,s){switch(n.tag){case 3:K(n,n.stateNode.containerInfo),qi(n,Ot,e.memoizedState.cache),Cr();break;case 27:case 5:ge(n);break;case 4:K(n,n.stateNode.containerInfo);break;case 10:qi(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Cc(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Pi(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Xm(e,n,s):(Pi(n),e=wi(e,n,s),e!==null?e.sibling:null);Pi(n);break;case 19:var c=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(va(e,n,s,!1),o=(s&n.childLanes)!==0),c){if(o)return Qm(e,n,s);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),te(_t,_t.current),o)break;return null;case 22:return n.lanes=0,$m(e,n,s,n.pendingProps);case 24:qi(n,Ot,e.memoizedState.cache)}return wi(e,n,s)}function Km(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Et=!0;else{if(!tf(e,s)&&(n.flags&128)===0)return Et=!1,Xw(e,n,s);Et=(e.flags&131072)!==0}else Et=!1,$e&&(n.flags&1048576)!==0&&kp(n,Ts,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(e=jr(n.elementType),n.type=e,typeof e=="function")sc(e)?(o=Rr(e,o),n.tag=1,n=Zm(null,n,e,o,s)):(n.tag=0,n=Xc(null,n,e,o,s));else{if(e!=null){var c=e.$$typeof;if(c===N){n.tag=11,n=Im(null,n,e,o,s);break e}else if(c===R){n.tag=14,n=Lm(null,n,e,o,s);break e}}throw n=de(e)||e,Error(a(306,n,""))}}return n;case 0:return Xc(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,c=Rr(o,n.pendingProps),Zm(e,n,o,c,s);case 3:e:{if(K(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var d=n.memoizedState;c=d.element,wc(e,n),Ms(n,o,null,s);var y=n.memoizedState;if(o=y.cache,qi(n,Ot,o),o!==d.cache&&mc(n,[Ot],s,!0),Ds(),o=y.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=Pm(e,n,o,s);break e}else if(o!==c){c=En(Error(a(424)),n),Os(c),n=Pm(e,n,o,s);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ut=Mn(e.firstChild),$t=n,$e=!0,Vi=null,jn=!0,s=$p(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling}else{if(Cr(),o===c){n=wi(e,n,s);break e}Yt(e,n,o,s)}n=n.child}return n;case 26:return cl(e,n),e===null?(s=ly(n.type,null,n.pendingProps,null))?n.memoizedState=s:$e||(s=n.type,e=n.pendingProps,o=El(_e.current).createElement(s),o[Vt]=n,o[an]=e,Gt(o,s,e),Bt(o),n.stateNode=o):n.memoizedState=ly(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ge(n),e===null&&$e&&(o=n.stateNode=ay(n.type,n.pendingProps,_e.current),$t=n,jn=!0,c=ut,nr(n.type)?(zf=c,ut=Mn(o.firstChild)):ut=c),Yt(e,n,n.pendingProps.children,s),cl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&$e&&((c=o=ut)&&(o=Tx(o,n.type,n.pendingProps,jn),o!==null?(n.stateNode=o,$t=n,ut=Mn(o.firstChild),jn=!1,c=!0):c=!1),c||$i(n)),ge(n),c=n.type,d=n.pendingProps,y=e!==null?e.memoizedProps:null,o=d.children,jf(c,d)?o=null:y!==null&&jf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=Nc(e,n,Iw,null,null,s),Ws._currentValue=c),cl(e,n),Yt(e,n,o,s),n.child;case 6:return e===null&&$e&&((e=s=ut)&&(s=Ox(s,n.pendingProps,jn),s!==null?(n.stateNode=s,$t=n,ut=null,e=!0):e=!1),e||$i(n)),null;case 13:return Xm(e,n,s);case 4:return K(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Mr(n,null,o,s):Yt(e,n,o,s),n.child;case 11:return Im(e,n,n.type,n.pendingProps,s);case 7:return Yt(e,n,n.pendingProps,s),n.child;case 8:return Yt(e,n,n.pendingProps.children,s),n.child;case 12:return Yt(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,qi(n,n.type,o.value),Yt(e,n,o.children,s),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,Nr(n),c=qt(c),o=o(c),n.flags|=1,Yt(e,n,o,s),n.child;case 14:return Lm(e,n,n.type,n.pendingProps,s);case 15:return Vm(e,n,n.type,n.pendingProps,s);case 19:return Qm(e,n,s);case 31:return Pw(e,n,s);case 22:return $m(e,n,s,n.pendingProps);case 24:return Nr(n),o=qt(Ot),e===null?(c=vc(),c===null&&(c=st,d=gc(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=s),c=d),n.memoizedState={parent:o,cache:c},Sc(n),qi(n,Ot,c)):((e.lanes&s)!==0&&(wc(e,n),Ms(n,null,null,s),Ds()),c=e.memoizedState,d=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),qi(n,Ot,o)):(o=d.cache,qi(n,Ot,o),o!==c.cache&&mc(n,[Ot],s,!0))),Yt(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function xi(e){e.flags|=4}function nf(e,n,s,o,c){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Tg())e.flags|=8192;else throw Dr=Fo,bc}else e.flags&=-16777217}function Wm(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!hy(n))if(Tg())e.flags|=8192;else throw Dr=Fo,bc}function dl(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ea():536870912,e.lanes|=n,ja|=n)}function Us(e,n){if(!$e)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ct(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var c=e.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)s|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function Fw(e,n,s){var o=n.pendingProps;switch(cc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(n),null;case 1:return ct(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),vi(Ot),J(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ya(n)?xi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,dc())),ct(n),null;case 26:var c=n.type,d=n.memoizedState;return e===null?(xi(n),d!==null?(ct(n),Wm(n,d)):(ct(n),nf(n,c,null,o,s))):d?d!==e.memoizedState?(xi(n),ct(n),Wm(n,d)):(ct(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&xi(n),ct(n),nf(n,c,e,o,s)),null;case 27:if(ce(n),s=_e.current,c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&xi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ct(n),null}e=re.current,ya(n)?Dp(n):(e=ay(c,o,s),n.stateNode=e,xi(n))}return ct(n),null;case 5:if(ce(n),c=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&xi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ct(n),null}if(d=re.current,ya(n))Dp(n);else{var y=El(_e.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?y.createElement(c,{is:o.is}):y.createElement(c)}}d[Vt]=n,d[an]=o;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=d;e:switch(Gt(d,c,o),c){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&xi(n)}}return ct(n),nf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&xi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=_e.current,ya(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,c=$t,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[Vt]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Xg(e.nodeValue,s)),e||$i(n,!0)}else e=El(e).createTextNode(o),e[Vt]=n,n.stateNode=e}return ct(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=ya(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Vt]=n}else Cr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ct(n),e=!1}else s=dc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(gn(n),n):(gn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ct(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=ya(n),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[Vt]=n}else Cr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ct(n),c=!1}else c=dc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(gn(n),n):(gn(n),null)}return gn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==c&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),dl(n,n.updateQueue),ct(n),null);case 4:return J(),e===null&&Of(n.stateNode.containerInfo),ct(n),null;case 10:return vi(n.type),ct(n),null;case 19:if(Y(_t),o=n.memoizedState,o===null)return ct(n),null;if(c=(n.flags&128)!==0,d=o.rendering,d===null)if(c)Us(o,!1);else{if(wt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=Jo(e),d!==null){for(n.flags|=128,Us(o,!1),e=d.updateQueue,n.updateQueue=e,dl(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Cp(s,e),s=s.sibling;return te(_t,_t.current&1|2),$e&&gi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&xt()>yl&&(n.flags|=128,c=!0,Us(o,!1),n.lanes=4194304)}else{if(!c)if(e=Jo(d),e!==null){if(n.flags|=128,c=!0,e=e.updateQueue,n.updateQueue=e,dl(n,e),Us(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!$e)return ct(n),null}else 2*xt()-o.renderingStartTime>yl&&s!==536870912&&(n.flags|=128,c=!0,Us(o,!1),n.lanes=4194304);o.isBackwards?(d.sibling=n.child,n.child=d):(e=o.last,e!==null?e.sibling=d:n.child=d,o.last=d)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=xt(),e.sibling=null,s=_t.current,te(_t,c?s&1|2:s&1),$e&&gi(n,o.treeForkCount),e):(ct(n),null);case 22:case 23:return gn(n),Oc(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ct(n),n.subtreeFlags&6&&(n.flags|=8192)):ct(n),s=n.updateQueue,s!==null&&dl(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&Y(kr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),vi(Ot),ct(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Qw(e,n){switch(cc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return vi(Ot),J(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return ce(n),null;case 31:if(n.memoizedState!==null){if(gn(n),n.alternate===null)throw Error(a(340));Cr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(gn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Cr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(_t),null;case 4:return J(),null;case 10:return vi(n.type),null;case 22:case 23:return gn(n),Oc(),e!==null&&Y(kr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return vi(Ot),null;case 25:return null;default:return null}}function Jm(e,n){switch(cc(n),n.tag){case 3:vi(Ot),J();break;case 26:case 27:case 5:ce(n);break;case 4:J();break;case 31:n.memoizedState!==null&&gn(n);break;case 13:gn(n);break;case 19:Y(_t);break;case 10:vi(n.type);break;case 22:case 23:gn(n),Oc(),e!==null&&Y(kr);break;case 24:vi(Ot)}}function Is(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var c=o.next;s=c;do{if((s.tag&e)===e){o=void 0;var d=s.create,y=s.inst;o=d(),y.destroy=o}s=s.next}while(s!==c)}}catch(w){tt(n,n.return,w)}}function Fi(e,n,s){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var d=c.next;o=d;do{if((o.tag&e)===e){var y=o.inst,w=y.destroy;if(w!==void 0){y.destroy=void 0,c=n;var C=s,V=w;try{V()}catch(P){tt(c,C,P)}}}o=o.next}while(o!==d)}}catch(P){tt(n,n.return,P)}}function eg(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Yp(n,s)}catch(o){tt(e,e.return,o)}}}function tg(e,n,s){s.props=Rr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){tt(e,n,o)}}function Ls(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(c){tt(e,n,c)}}function ti(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(c){tt(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(c){tt(e,n,c)}else s.current=null}function ng(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break e;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(c){tt(e,e.return,c)}}function rf(e,n,s){try{var o=e.stateNode;vx(o,e.type,s,n),o[an]=n}catch(c){tt(e,e.return,c)}}function ig(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&nr(e.type)||e.tag===4}function af(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ig(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&nr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=hi));else if(o!==4&&(o===27&&nr(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(sf(e,n,s),e=e.sibling;e!==null;)sf(e,n,s),e=e.sibling}function hl(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&nr(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(hl(e,n,s),e=e.sibling;e!==null;)hl(e,n,s),e=e.sibling}function rg(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);Gt(n,o,s),n[Vt]=e,n[an]=s}catch(d){tt(e,e.return,d)}}var _i=!1,Nt=!1,of=!1,ag=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function Kw(e,n){if(e=e.containerInfo,Nf=Rl,e=yp(e),Ju(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var c=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var y=0,w=-1,C=-1,V=0,P=0,Q=e,q=null;t:for(;;){for(var G;Q!==s||c!==0&&Q.nodeType!==3||(w=y+c),Q!==d||o!==0&&Q.nodeType!==3||(C=y+o),Q.nodeType===3&&(y+=Q.nodeValue.length),(G=Q.firstChild)!==null;)q=Q,Q=G;for(;;){if(Q===e)break t;if(q===s&&++V===c&&(w=y),q===d&&++P===o&&(C=y),(G=Q.nextSibling)!==null)break;Q=q,q=Q.parentNode}Q=G}s=w===-1||C===-1?null:{start:w,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(kf={focusedElem:e,selectionRange:s},Rl=!1,Ht=n;Ht!==null;)if(n=Ht,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ht=e;else for(;Ht!==null;){switch(n=Ht,d=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)c=e[s],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,s=n,c=d.memoizedProps,d=d.memoizedState,o=s.stateNode;try{var fe=Rr(s.type,c);e=o.getSnapshotBeforeUpdate(fe,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(Te){tt(s,s.return,Te)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Mf(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Mf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ht=e;break}Ht=n.return}}function sg(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Oi(e,s),o&4&&Is(5,s);break;case 1:if(Oi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(y){tt(s,s.return,y)}else{var c=Rr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){tt(s,s.return,y)}}o&64&&eg(s),o&512&&Ls(s,s.return);break;case 3:if(Oi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Yp(e,n)}catch(y){tt(s,s.return,y)}}break;case 27:n===null&&o&4&&rg(s);case 26:case 5:Oi(e,s),n===null&&o&4&&ng(s),o&512&&Ls(s,s.return);break;case 12:Oi(e,s);break;case 31:Oi(e,s),o&4&&ug(e,s);break;case 13:Oi(e,s),o&4&&cg(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=sx.bind(null,s),Cx(e,s))));break;case 22:if(o=s.memoizedState!==null||_i,!o){n=n!==null&&n.memoizedState!==null||Nt,c=_i;var d=Nt;_i=o,(Nt=n)&&!d?Ci(e,s,(s.subtreeFlags&8772)!==0):Oi(e,s),_i=c,Nt=d}break;case 30:break;default:Oi(e,s)}}function og(e){var n=e.alternate;n!==null&&(e.alternate=null,og(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Bu(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var pt=null,on=!1;function Ti(e,n,s){for(s=s.child;s!==null;)lg(e,n,s),s=s.sibling}function lg(e,n,s){if(Se&&typeof Se.onCommitFiberUnmount=="function")try{Se.onCommitFiberUnmount(vr,s)}catch{}switch(s.tag){case 26:Nt||ti(s,n),Ti(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Nt||ti(s,n);var o=pt,c=on;nr(s.type)&&(pt=s.stateNode,on=!1),Ti(e,n,s),Fs(s.stateNode),pt=o,on=c;break;case 5:Nt||ti(s,n);case 6:if(o=pt,c=on,pt=null,Ti(e,n,s),pt=o,on=c,pt!==null)if(on)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(s.stateNode)}catch(d){tt(s,n,d)}else try{pt.removeChild(s.stateNode)}catch(d){tt(s,n,d)}break;case 18:pt!==null&&(on?(e=pt,ey(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ua(e)):ey(pt,s.stateNode));break;case 4:o=pt,c=on,pt=s.stateNode.containerInfo,on=!0,Ti(e,n,s),pt=o,on=c;break;case 0:case 11:case 14:case 15:Fi(2,s,n),Nt||Fi(4,s,n),Ti(e,n,s);break;case 1:Nt||(ti(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&tg(s,n,o)),Ti(e,n,s);break;case 21:Ti(e,n,s);break;case 22:Nt=(o=Nt)||s.memoizedState!==null,Ti(e,n,s),Nt=o;break;default:Ti(e,n,s)}}function ug(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ua(e)}catch(s){tt(n,n.return,s)}}}function cg(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ua(e)}catch(s){tt(n,n.return,s)}}function Ww(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ag),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ag),n;default:throw Error(a(435,e.tag))}}function pl(e,n){var s=Ww(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var c=ox.bind(null,e,o);o.then(c,c)}})}function ln(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var c=s[o],d=e,y=n,w=y;e:for(;w!==null;){switch(w.tag){case 27:if(nr(w.type)){pt=w.stateNode,on=!1;break e}break;case 5:pt=w.stateNode,on=!1;break e;case 3:case 4:pt=w.stateNode.containerInfo,on=!0;break e}w=w.return}if(pt===null)throw Error(a(160));lg(d,y,c),pt=null,on=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)fg(n,e),n=n.sibling}var $n=null;function fg(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(n,e),un(e),o&4&&(Fi(3,e,e.return),Is(3,e),Fi(5,e,e.return));break;case 1:ln(n,e),un(e),o&512&&(Nt||s===null||ti(s,s.return)),o&64&&_i&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var c=$n;if(ln(n,e),un(e),o&512&&(Nt||s===null||ti(s,s.return)),o&4){var d=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){e:{o=e.type,s=e.memoizedProps,c=c.ownerDocument||c;t:switch(o){case"title":d=c.getElementsByTagName("title")[0],(!d||d[hs]||d[Vt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(o),c.head.insertBefore(d,c.querySelector("head > title"))),Gt(d,o,s),d[Vt]=e,Bt(d),o=d;break e;case"link":var y=fy("link","href",c).get(o+(s.href||""));if(y){for(var w=0;w<y.length;w++)if(d=y[w],d.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&d.getAttribute("rel")===(s.rel==null?null:s.rel)&&d.getAttribute("title")===(s.title==null?null:s.title)&&d.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(w,1);break t}}d=c.createElement(o),Gt(d,o,s),c.head.appendChild(d);break;case"meta":if(y=fy("meta","content",c).get(o+(s.content||""))){for(w=0;w<y.length;w++)if(d=y[w],d.getAttribute("content")===(s.content==null?null:""+s.content)&&d.getAttribute("name")===(s.name==null?null:s.name)&&d.getAttribute("property")===(s.property==null?null:s.property)&&d.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&d.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(w,1);break t}}d=c.createElement(o),Gt(d,o,s),c.head.appendChild(d);break;default:throw Error(a(468,o))}d[Vt]=e,Bt(d),o=d}e.stateNode=o}else dy(c,e.type,e.stateNode);else e.stateNode=cy(c,o,e.memoizedProps);else d!==o?(d===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):d.count--,o===null?dy(c,e.type,e.stateNode):cy(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&rf(e,e.memoizedProps,s.memoizedProps)}break;case 27:ln(n,e),un(e),o&512&&(Nt||s===null||ti(s,s.return)),s!==null&&o&4&&rf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(ln(n,e),un(e),o&512&&(Nt||s===null||ti(s,s.return)),e.flags&32){c=e.stateNode;try{oa(c,"")}catch(fe){tt(e,e.return,fe)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,rf(e,c,s!==null?s.memoizedProps:c)),o&1024&&(of=!0);break;case 6:if(ln(n,e),un(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(fe){tt(e,e.return,fe)}}break;case 3:if(jl=null,c=$n,$n=Nl(n.containerInfo),ln(n,e),$n=c,un(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ua(n.containerInfo)}catch(fe){tt(e,e.return,fe)}of&&(of=!1,dg(e));break;case 4:o=$n,$n=Nl(e.stateNode.containerInfo),ln(n,e),un(e),$n=o;break;case 12:ln(n,e),un(e);break;case 31:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,pl(e,o)));break;case 13:ln(n,e),un(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(gl=xt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,pl(e,o)));break;case 22:c=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,V=_i,P=Nt;if(_i=V||c,Nt=P||C,ln(n,e),Nt=P,_i=V,un(e),o&8192)e:for(n=e.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(s===null||C||_i||Nt||zr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(d=C.stateNode,c)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{w=C.stateNode;var Q=C.memoizedProps.style,q=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;w.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(fe){tt(C,C.return,fe)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=c?"":C.memoizedProps}catch(fe){tt(C,C.return,fe)}}}else if(n.tag===18){if(s===null){C=n;try{var G=C.stateNode;c?ty(G,!0):ty(C.stateNode,!1)}catch(fe){tt(C,C.return,fe)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,pl(e,s))));break;case 19:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,pl(e,o)));break;case 30:break;case 21:break;default:ln(n,e),un(e)}}function un(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(ig(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var c=s.stateNode,d=af(e);hl(e,d,c);break;case 5:var y=s.stateNode;s.flags&32&&(oa(y,""),s.flags&=-33);var w=af(e);hl(e,w,y);break;case 3:case 4:var C=s.stateNode.containerInfo,V=af(e);sf(e,V,C);break;default:throw Error(a(161))}}catch(P){tt(e,e.return,P)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function dg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;dg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Oi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)sg(e,n.alternate,n),n=n.sibling}function zr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Fi(4,n,n.return),zr(n);break;case 1:ti(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&tg(n,n.return,s),zr(n);break;case 27:Fs(n.stateNode);case 26:case 5:ti(n,n.return),zr(n);break;case 22:n.memoizedState===null&&zr(n);break;case 30:zr(n);break;default:zr(n)}e=e.sibling}}function Ci(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=e,d=n,y=d.flags;switch(d.tag){case 0:case 11:case 15:Ci(c,d,s),Is(4,d);break;case 1:if(Ci(c,d,s),o=d,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(V){tt(o,o.return,V)}if(o=d,c=o.updateQueue,c!==null){var w=o.stateNode;try{var C=c.shared.hiddenCallbacks;if(C!==null)for(c.shared.hiddenCallbacks=null,c=0;c<C.length;c++)qp(C[c],w)}catch(V){tt(o,o.return,V)}}s&&y&64&&eg(d),Ls(d,d.return);break;case 27:rg(d);case 26:case 5:Ci(c,d,s),s&&o===null&&y&4&&ng(d),Ls(d,d.return);break;case 12:Ci(c,d,s);break;case 31:Ci(c,d,s),s&&y&4&&ug(c,d);break;case 13:Ci(c,d,s),s&&y&4&&cg(c,d);break;case 22:d.memoizedState===null&&Ci(c,d,s),Ls(d,d.return);break;case 30:break;default:Ci(c,d,s)}n=n.sibling}}function lf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Cs(s))}function uf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Cs(e))}function qn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)hg(e,n,s,o),n=n.sibling}function hg(e,n,s,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:qn(e,n,s,o),c&2048&&Is(9,n);break;case 1:qn(e,n,s,o);break;case 3:qn(e,n,s,o),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Cs(e)));break;case 12:if(c&2048){qn(e,n,s,o),e=n.stateNode;try{var d=n.memoizedProps,y=d.id,w=d.onPostCommit;typeof w=="function"&&w(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){tt(n,n.return,C)}}else qn(e,n,s,o);break;case 31:qn(e,n,s,o);break;case 13:qn(e,n,s,o);break;case 23:break;case 22:d=n.stateNode,y=n.alternate,n.memoizedState!==null?d._visibility&2?qn(e,n,s,o):Vs(e,n):d._visibility&2?qn(e,n,s,o):(d._visibility|=2,Ea(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),c&2048&&lf(y,n);break;case 24:qn(e,n,s,o),c&2048&&uf(n.alternate,n);break;default:qn(e,n,s,o)}}function Ea(e,n,s,o,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=e,y=n,w=s,C=o,V=y.flags;switch(y.tag){case 0:case 11:case 15:Ea(d,y,w,C,c),Is(8,y);break;case 23:break;case 22:var P=y.stateNode;y.memoizedState!==null?P._visibility&2?Ea(d,y,w,C,c):Vs(d,y):(P._visibility|=2,Ea(d,y,w,C,c)),c&&V&2048&&lf(y.alternate,y);break;case 24:Ea(d,y,w,C,c),c&&V&2048&&uf(y.alternate,y);break;default:Ea(d,y,w,C,c)}n=n.sibling}}function Vs(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,c=o.flags;switch(o.tag){case 22:Vs(s,o),c&2048&&lf(o.alternate,o);break;case 24:Vs(s,o),c&2048&&uf(o.alternate,o);break;default:Vs(s,o)}n=n.sibling}}var $s=8192;function Na(e,n,s){if(e.subtreeFlags&$s)for(e=e.child;e!==null;)pg(e,n,s),e=e.sibling}function pg(e,n,s){switch(e.tag){case 26:Na(e,n,s),e.flags&$s&&e.memoizedState!==null&&Ux(s,$n,e.memoizedState,e.memoizedProps);break;case 5:Na(e,n,s);break;case 3:case 4:var o=$n;$n=Nl(e.stateNode.containerInfo),Na(e,n,s),$n=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=$s,$s=16777216,Na(e,n,s),$s=o):Na(e,n,s));break;default:Na(e,n,s)}}function mg(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function qs(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ht=o,yg(o,e)}mg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gg(e),e=e.sibling}function gg(e){switch(e.tag){case 0:case 11:case 15:qs(e),e.flags&2048&&Fi(9,e,e.return);break;case 3:qs(e);break;case 12:qs(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ml(e)):qs(e);break;default:qs(e)}}function ml(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ht=o,yg(o,e)}mg(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Fi(8,n,n.return),ml(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,ml(n));break;default:ml(n)}e=e.sibling}}function yg(e,n){for(;Ht!==null;){var s=Ht;switch(s.tag){case 0:case 11:case 15:Fi(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Cs(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ht=o;else e:for(s=e;Ht!==null;){o=Ht;var c=o.sibling,d=o.return;if(og(o),o===s){Ht=null;break e}if(c!==null){c.return=d,Ht=c;break e}Ht=d}}}var Jw={getCacheForType:function(e){var n=qt(Ot),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return qt(Ot).controller.signal}},ex=typeof WeakMap=="function"?WeakMap:Map,Xe=0,st=null,Re=null,Le=0,et=0,yn=null,Qi=!1,ka=!1,cf=!1,Ei=0,wt=0,Ki=0,Br=0,ff=0,vn=0,ja=0,Ys=null,cn=null,df=!1,gl=0,vg=0,yl=1/0,vl=null,Wi=null,At=0,Ji=null,Da=null,Ni=0,hf=0,pf=null,bg=null,Gs=0,mf=null;function bn(){return(Xe&2)!==0&&Le!==0?Le&-Le:$.T!==null?wf():Eo()}function Sg(){if(vn===0)if((Le&536870912)===0||$e){var e=zt;zt<<=1,(zt&3932160)===0&&(zt=262144),vn=e}else vn=536870912;return e=mn.current,e!==null&&(e.flags|=32),vn}function fn(e,n,s){(e===st&&(et===2||et===9)||e.cancelPendingCommit!==null)&&(Ma(e,0),er(e,Le,vn,!1)),dt(e,s),((Xe&2)===0||e!==st)&&(e===st&&((Xe&2)===0&&(Br|=s),wt===4&&er(e,Le,vn,!1)),ni(e))}function wg(e,n,s){if((Xe&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Hi(e,n),c=o?ix(e,n):yf(e,n,!0),d=o;do{if(c===0){ka&&!o&&er(e,n,0,!1);break}else{if(s=e.current.alternate,d&&!tx(s)){c=yf(e,n,!1),d=!1;continue}if(c===2){if(d=n,e.errorRecoveryDisabledLanes&d)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var w=e;c=Ys;var C=w.current.memoizedState.isDehydrated;if(C&&(Ma(w,y).flags|=256),y=yf(w,y,!1),y!==2){if(cf&&!C){w.errorRecoveryDisabledLanes|=d,Br|=d,c=4;break e}d=cn,cn=c,d!==null&&(cn===null?cn=d:cn.push.apply(cn,d))}c=y}if(d=!1,c!==2)continue}}if(c===1){Ma(e,0),er(e,n,0,!0);break}e:{switch(o=e,d=c,d){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:er(o,n,vn,!Qi);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=gl+300-xt(),10<c)){if(er(o,n,vn,!Qi),Jr(o,0,!0)!==0)break e;Ni=n,o.timeoutHandle=Wg(xg.bind(null,o,s,cn,vl,df,n,vn,Br,ja,Qi,d,"Throttled",-0,0),c);break e}xg(o,s,cn,vl,df,n,vn,Br,ja,Qi,d,null,-0,0)}}break}while(!0);ni(e)}function xg(e,n,s,o,c,d,y,w,C,V,P,Q,q,G){if(e.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hi},pg(n,d,Q);var fe=(d&62914560)===d?gl-xt():(d&4194048)===d?vg-xt():0;if(fe=Ix(Q,fe),fe!==null){Ni=d,e.cancelPendingCommit=fe(jg.bind(null,e,n,d,s,o,c,y,w,C,P,Q,null,q,G)),er(e,d,y,!V);return}}jg(e,n,d,s,o,c,y,w,C)}function tx(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var c=s[o],d=c.getSnapshot;c=c.value;try{if(!hn(d(),c))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function er(e,n,s,o){n&=~ff,n&=~Br,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var c=n;0<c;){var d=31-xe(c),y=1<<d;o[d]=-1,c&=~y}s!==0&&ot(e,s,n)}function bl(){return(Xe&6)===0?(Zs(0),!1):!0}function gf(){if(Re!==null){if(et===0)var e=Re.return;else e=Re,yi=Er=null,Dc(e),xa=null,Ns=0,e=Re;for(;e!==null;)Jm(e.alternate,e),e=e.return;Re=null}}function Ma(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,wx(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Ni=0,gf(),st=e,Re=s=mi(e.current,null),Le=n,et=0,yn=null,Qi=!1,ka=Hi(e,n),cf=!1,ja=vn=ff=Br=Ki=wt=0,cn=Ys=null,df=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var c=31-xe(o),d=1<<c;n|=e[c],o&=~d}return Ei=n,Lo(),s}function _g(e,n){je=null,$.H=Bs,n===wa||n===Xo?(n=Ip(),et=3):n===bc?(n=Ip(),et=4):et=n===Pc?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,yn=n,Re===null&&(wt=1,ll(e,En(n,e.current)))}function Tg(){var e=mn.current;return e===null?!0:(Le&4194048)===Le?Dn===null:(Le&62914560)===Le||(Le&536870912)!==0?e===Dn:!1}function Og(){var e=$.H;return $.H=Bs,e===null?Bs:e}function Cg(){var e=$.A;return $.A=Jw,e}function Sl(){wt=4,Qi||(Le&4194048)!==Le&&mn.current!==null||(ka=!0),(Ki&134217727)===0&&(Br&134217727)===0||st===null||er(st,Le,vn,!1)}function yf(e,n,s){var o=Xe;Xe|=2;var c=Og(),d=Cg();(st!==e||Le!==n)&&(vl=null,Ma(e,n)),n=!1;var y=wt;e:do try{if(et!==0&&Re!==null){var w=Re,C=yn;switch(et){case 8:gf(),y=6;break e;case 3:case 2:case 9:case 6:mn.current===null&&(n=!0);var V=et;if(et=0,yn=null,Aa(e,w,C,V),s&&ka){y=0;break e}break;default:V=et,et=0,yn=null,Aa(e,w,C,V)}}nx(),y=wt;break}catch(P){_g(e,P)}while(!0);return n&&e.shellSuspendCounter++,yi=Er=null,Xe=o,$.H=c,$.A=d,Re===null&&(st=null,Le=0,Lo()),y}function nx(){for(;Re!==null;)Eg(Re)}function ix(e,n){var s=Xe;Xe|=2;var o=Og(),c=Cg();st!==e||Le!==n?(vl=null,yl=xt()+500,Ma(e,n)):ka=Hi(e,n);e:do try{if(et!==0&&Re!==null){n=Re;var d=yn;t:switch(et){case 1:et=0,yn=null,Aa(e,n,d,1);break;case 2:case 9:if(Hp(d)){et=0,yn=null,Ng(n);break}n=function(){et!==2&&et!==9||st!==e||(et=7),ni(e)},d.then(n,n);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Hp(d)?(et=0,yn=null,Ng(n)):(et=0,yn=null,Aa(e,n,d,7));break;case 5:var y=null;switch(Re.tag){case 26:y=Re.memoizedState;case 5:case 27:var w=Re;if(y?hy(y):w.stateNode.complete){et=0,yn=null;var C=w.sibling;if(C!==null)Re=C;else{var V=w.return;V!==null?(Re=V,wl(V)):Re=null}break t}}et=0,yn=null,Aa(e,n,d,5);break;case 6:et=0,yn=null,Aa(e,n,d,6);break;case 8:gf(),wt=6;break e;default:throw Error(a(462))}}rx();break}catch(P){_g(e,P)}while(!0);return yi=Er=null,$.H=o,$.A=c,Xe=s,Re!==null?0:(st=null,Le=0,Lo(),wt)}function rx(){for(;Re!==null&&!Wn();)Eg(Re)}function Eg(e){var n=Km(e.alternate,e,Ei);e.memoizedProps=e.pendingProps,n===null?wl(e):Re=n}function Ng(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Gm(s,n,n.pendingProps,n.type,void 0,Le);break;case 11:n=Gm(s,n,n.pendingProps,n.type.render,n.ref,Le);break;case 5:Dc(n);default:Jm(s,n),n=Re=Cp(n,Ei),n=Km(s,n,Ei)}e.memoizedProps=e.pendingProps,n===null?wl(e):Re=n}function Aa(e,n,s,o){yi=Er=null,Dc(n),xa=null,Ns=0;var c=n.return;try{if(Zw(e,c,n,s,Le)){wt=1,ll(e,En(s,e.current)),Re=null;return}}catch(d){if(c!==null)throw Re=c,d;wt=1,ll(e,En(s,e.current)),Re=null;return}n.flags&32768?($e||o===1?e=!0:ka||(Le&536870912)!==0?e=!1:(Qi=e=!0,(o===2||o===9||o===3||o===6)&&(o=mn.current,o!==null&&o.tag===13&&(o.flags|=16384))),kg(n,e)):wl(n)}function wl(e){var n=e;do{if((n.flags&32768)!==0){kg(n,Qi);return}e=n.return;var s=Fw(n.alternate,n,Ei);if(s!==null){Re=s;return}if(n=n.sibling,n!==null){Re=n;return}Re=n=e}while(n!==null);wt===0&&(wt=5)}function kg(e,n){do{var s=Qw(e.alternate,e);if(s!==null){s.flags&=32767,Re=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Re=e;return}Re=e=s}while(e!==null);wt=6,Re=null}function jg(e,n,s,o,c,d,y,w,C){e.cancelPendingCommit=null;do xl();while(At!==0);if((Xe&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(d=n.lanes|n.childLanes,d|=rc,Jt(e,s,d,y,w,C),e===st&&(Re=st=null,Le=0),Da=n,Ji=e,Ni=s,hf=d,pf=c,bg=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,lx(Kr,function(){return zg(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=$.T,$.T=null,c=X.p,X.p=2,y=Xe,Xe|=4;try{Kw(e,n,s)}finally{Xe=y,X.p=c,$.T=o}}At=1,Dg(),Mg(),Ag()}}function Dg(){if(At===1){At=0;var e=Ji,n=Da,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=$.T,$.T=null;var o=X.p;X.p=2;var c=Xe;Xe|=4;try{fg(n,e);var d=kf,y=yp(e.containerInfo),w=d.focusedElem,C=d.selectionRange;if(y!==w&&w&&w.ownerDocument&&gp(w.ownerDocument.documentElement,w)){if(C!==null&&Ju(w)){var V=C.start,P=C.end;if(P===void 0&&(P=V),"selectionStart"in w)w.selectionStart=V,w.selectionEnd=Math.min(P,w.value.length);else{var Q=w.ownerDocument||document,q=Q&&Q.defaultView||window;if(q.getSelection){var G=q.getSelection(),fe=w.textContent.length,Te=Math.min(C.start,fe),rt=C.end===void 0?Te:Math.min(C.end,fe);!G.extend&&Te>rt&&(y=rt,rt=Te,Te=y);var U=mp(w,Te),M=mp(w,rt);if(U&&M&&(G.rangeCount!==1||G.anchorNode!==U.node||G.anchorOffset!==U.offset||G.focusNode!==M.node||G.focusOffset!==M.offset)){var L=Q.createRange();L.setStart(U.node,U.offset),G.removeAllRanges(),Te>rt?(G.addRange(L),G.extend(M.node,M.offset)):(L.setEnd(M.node,M.offset),G.addRange(L))}}}}for(Q=[],G=w;G=G.parentNode;)G.nodeType===1&&Q.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<Q.length;w++){var F=Q[w];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Rl=!!Nf,kf=Nf=null}finally{Xe=c,X.p=o,$.T=s}}e.current=n,At=2}}function Mg(){if(At===2){At=0;var e=Ji,n=Da,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=$.T,$.T=null;var o=X.p;X.p=2;var c=Xe;Xe|=4;try{sg(e,n.alternate,n)}finally{Xe=c,X.p=o,$.T=s}}At=3}}function Ag(){if(At===4||At===3){At=0,zi();var e=Ji,n=Da,s=Ni,o=bg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?At=5:(At=0,Da=Ji=null,Rg(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Wi=null),br(s),n=n.stateNode,Se&&typeof Se.onCommitFiberRoot=="function")try{Se.onCommitFiberRoot(vr,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=$.T,c=X.p,X.p=2,$.T=null;try{for(var d=e.onRecoverableError,y=0;y<o.length;y++){var w=o[y];d(w.value,{componentStack:w.stack})}}finally{$.T=n,X.p=c}}(Ni&3)!==0&&xl(),ni(e),c=e.pendingLanes,(s&261930)!==0&&(c&42)!==0?e===mf?Gs++:(Gs=0,mf=e):Gs=0,Zs(0)}}function Rg(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Cs(n)))}function xl(){return Dg(),Mg(),Ag(),zg()}function zg(){if(At!==5)return!1;var e=Ji,n=hf;hf=0;var s=br(Ni),o=$.T,c=X.p;try{X.p=32>s?32:s,$.T=null,s=pf,pf=null;var d=Ji,y=Ni;if(At=0,Da=Ji=null,Ni=0,(Xe&6)!==0)throw Error(a(331));var w=Xe;if(Xe|=4,gg(d.current),hg(d,d.current,y,s),Xe=w,Zs(0,!1),Se&&typeof Se.onPostCommitFiberRoot=="function")try{Se.onPostCommitFiberRoot(vr,d)}catch{}return!0}finally{X.p=c,$.T=o,Rg(e,n)}}function Bg(e,n,s){n=En(s,n),n=Zc(e.stateNode,n,2),e=Zi(e,n,2),e!==null&&(dt(e,2),ni(e))}function tt(e,n,s){if(e.tag===3)Bg(e,e,s);else for(;n!==null;){if(n.tag===3){Bg(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Wi===null||!Wi.has(o))){e=En(s,e),s=Hm(2),o=Zi(n,s,2),o!==null&&(Um(s,o,n,e),dt(o,2),ni(o));break}}n=n.return}}function vf(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new ex;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(s)||(cf=!0,c.add(s),e=ax.bind(null,e,n,s),n.then(e,e))}function ax(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,st===e&&(Le&s)===s&&(wt===4||wt===3&&(Le&62914560)===Le&&300>xt()-gl?(Xe&2)===0&&Ma(e,0):ff|=s,ja===Le&&(ja=0)),ni(e)}function Hg(e,n){n===0&&(n=ea()),e=Tr(e,n),e!==null&&(dt(e,n),ni(e))}function sx(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Hg(e,s)}function ox(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(s=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Hg(e,s)}function lx(e,n){return Mt(e,n)}var _l=null,Ra=null,bf=!1,Tl=!1,Sf=!1,tr=0;function ni(e){e!==Ra&&e.next===null&&(Ra===null?_l=Ra=e:Ra=Ra.next=e),Tl=!0,bf||(bf=!0,cx())}function Zs(e,n){if(!Sf&&Tl){Sf=!0;do for(var s=!1,o=_l;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var d=0;else{var y=o.suspendedLanes,w=o.pingedLanes;d=(1<<31-xe(42|e)+1)-1,d&=c&~(y&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(s=!0,Vg(o,d))}else d=Le,d=Jr(o,o===st?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Hi(o,d)||(s=!0,Vg(o,d));o=o.next}while(s);Sf=!1}}function ux(){Ug()}function Ug(){Tl=bf=!1;var e=0;tr!==0&&Sx()&&(e=tr);for(var n=xt(),s=null,o=_l;o!==null;){var c=o.next,d=Ig(o,n);d===0?(o.next=null,s===null?_l=c:s.next=c,c===null&&(Ra=s)):(s=o,(e!==0||(d&3)!==0)&&(Tl=!0)),o=c}At!==0&&At!==5||Zs(e),tr!==0&&(tr=0)}function Ig(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var y=31-xe(d),w=1<<y,C=c[y];C===-1?((w&s)===0||(w&o)!==0)&&(c[y]=Ln(w,n)):C<=n&&(e.expiredLanes|=w),d&=~w}if(n=st,s=Le,s=Jr(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(et===2||et===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Kn(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Hi(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&Kn(o),br(s)){case 2:case 8:s=yr;break;case 32:s=Kr;break;case 268435456:s=Oo;break;default:s=Kr}return o=Lg.bind(null,e),s=Mt(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&Kn(o),e.callbackPriority=2,e.callbackNode=null,2}function Lg(e,n){if(At!==0&&At!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(xl()&&e.callbackNode!==s)return null;var o=Le;return o=Jr(e,e===st?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(wg(e,o,n),Ig(e,xt()),e.callbackNode!=null&&e.callbackNode===s?Lg.bind(null,e):null)}function Vg(e,n){if(xl())return null;wg(e,n,!0)}function cx(){xx(function(){(Xe&6)!==0?Mt(fs,ux):Ug()})}function wf(){if(tr===0){var e=ba;e===0&&(e=Wr,Wr<<=1,(Wr&261888)===0&&(Wr=256)),tr=e}return tr}function $g(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Mo(""+e)}function qg(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function fx(e,n,s,o,c){if(n==="submit"&&s&&s.stateNode===c){var d=$g((c[an]||null).action),y=o.submitter;y&&(n=(n=y[an]||null)?$g(n.formAction):y.getAttribute("formAction"),n!==null&&(d=n,y=null));var w=new Bo("action","action",null,o,c);e.push({event:w,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(tr!==0){var C=y?qg(c,y):new FormData(c);Lc(s,{pending:!0,data:C,method:c.method,action:d},null,C)}}else typeof d=="function"&&(w.preventDefault(),C=y?qg(c,y):new FormData(c),Lc(s,{pending:!0,data:C,method:c.method,action:d},d,C))},currentTarget:c}]})}}for(var xf=0;xf<ic.length;xf++){var _f=ic[xf],dx=_f.toLowerCase(),hx=_f[0].toUpperCase()+_f.slice(1);Vn(dx,"on"+hx)}Vn(Sp,"onAnimationEnd"),Vn(wp,"onAnimationIteration"),Vn(xp,"onAnimationStart"),Vn("dblclick","onDoubleClick"),Vn("focusin","onFocus"),Vn("focusout","onBlur"),Vn(kw,"onTransitionRun"),Vn(jw,"onTransitionStart"),Vn(Dw,"onTransitionCancel"),Vn(_p,"onTransitionEnd"),aa("onMouseEnter",["mouseout","mouseover"]),aa("onMouseLeave",["mouseout","mouseover"]),aa("onPointerEnter",["pointerout","pointerover"]),aa("onPointerLeave",["pointerout","pointerover"]),Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ps="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),px=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ps));function Yg(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],c=o.event;o=o.listeners;e:{var d=void 0;if(n)for(var y=o.length-1;0<=y;y--){var w=o[y],C=w.instance,V=w.currentTarget;if(w=w.listener,C!==d&&c.isPropagationStopped())break e;d=w,c.currentTarget=V;try{d(c)}catch(P){Io(P)}c.currentTarget=null,d=C}else for(y=0;y<o.length;y++){if(w=o[y],C=w.instance,V=w.currentTarget,w=w.listener,C!==d&&c.isPropagationStopped())break e;d=w,c.currentTarget=V;try{d(c)}catch(P){Io(P)}c.currentTarget=null,d=C}}}}function ze(e,n){var s=n[zu];s===void 0&&(s=n[zu]=new Set);var o=e+"__bubble";s.has(o)||(Gg(n,e,2,!1),s.add(o))}function Tf(e,n,s){var o=0;n&&(o|=4),Gg(s,e,o,n)}var Ol="_reactListening"+Math.random().toString(36).slice(2);function Of(e){if(!e[Ol]){e[Ol]=!0,Uh.forEach(function(s){s!=="selectionchange"&&(px.has(s)||Tf(s,!1,e),Tf(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Ol]||(n[Ol]=!0,Tf("selectionchange",!1,n))}}function Gg(e,n,s,o){switch(Sy(n)){case 2:var c=$x;break;case 8:c=qx;break;default:c=Lf}s=c.bind(null,n,s,e),c=void 0,!Yu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(n,s,{capture:!0,passive:c}):e.addEventListener(n,s,!0):c!==void 0?e.addEventListener(n,s,{passive:c}):e.addEventListener(n,s,!1)}function Cf(e,n,s,o,c){var d=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var w=o.stateNode.containerInfo;if(w===c)break;if(y===4)for(y=o.return;y!==null;){var C=y.tag;if((C===3||C===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;w!==null;){if(y=na(w),y===null)return;if(C=y.tag,C===5||C===6||C===26||C===27){o=d=y;continue e}w=w.parentNode}}o=o.return}Qh(function(){var V=d,P=$u(s),Q=[];e:{var q=Tp.get(e);if(q!==void 0){var G=Bo,fe=e;switch(e){case"keypress":if(Ro(s)===0)break e;case"keydown":case"keyup":G=ow;break;case"focusin":fe="focus",G=Xu;break;case"focusout":fe="blur",G=Xu;break;case"beforeblur":case"afterblur":G=Xu;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Jh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=FS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=cw;break;case Sp:case wp:case xp:G=WS;break;case _p:G=dw;break;case"scroll":case"scrollend":G=PS;break;case"wheel":G=pw;break;case"copy":case"cut":case"paste":G=ew;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=tp;break;case"toggle":case"beforetoggle":G=gw}var Te=(n&4)!==0,rt=!Te&&(e==="scroll"||e==="scrollend"),U=Te?q!==null?q+"Capture":null:q;Te=[];for(var M=V,L;M!==null;){var F=M;if(L=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||L===null||U===null||(F=ms(M,U),F!=null&&Te.push(Xs(M,F,L))),rt)break;M=M.return}0<Te.length&&(q=new G(q,fe,null,s,P),Q.push({event:q,listeners:Te}))}}if((n&7)===0){e:{if(q=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",q&&s!==Vu&&(fe=s.relatedTarget||s.fromElement)&&(na(fe)||fe[ta]))break e;if((G||q)&&(q=P.window===P?P:(q=P.ownerDocument)?q.defaultView||q.parentWindow:window,G?(fe=s.relatedTarget||s.toElement,G=V,fe=fe?na(fe):null,fe!==null&&(rt=u(fe),Te=fe.tag,fe!==rt||Te!==5&&Te!==27&&Te!==6)&&(fe=null)):(G=null,fe=V),G!==fe)){if(Te=Jh,F="onMouseLeave",U="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(Te=tp,F="onPointerLeave",U="onPointerEnter",M="pointer"),rt=G==null?q:ps(G),L=fe==null?q:ps(fe),q=new Te(F,M+"leave",G,s,P),q.target=rt,q.relatedTarget=L,F=null,na(P)===V&&(Te=new Te(U,M+"enter",fe,s,P),Te.target=L,Te.relatedTarget=rt,F=Te),rt=F,G&&fe)t:{for(Te=mx,U=G,M=fe,L=0,F=U;F;F=Te(F))L++;F=0;for(var we=M;we;we=Te(we))F++;for(;0<L-F;)U=Te(U),L--;for(;0<F-L;)M=Te(M),F--;for(;L--;){if(U===M||M!==null&&U===M.alternate){Te=U;break t}U=Te(U),M=Te(M)}Te=null}else Te=null;G!==null&&Zg(Q,q,G,Te,!1),fe!==null&&rt!==null&&Zg(Q,rt,fe,Te,!0)}}e:{if(q=V?ps(V):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var Ge=up;else if(op(q))if(cp)Ge=Cw;else{Ge=Tw;var ve=_w}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?V&&Lu(V.elementType)&&(Ge=up):Ge=Ow;if(Ge&&(Ge=Ge(e,V))){lp(Q,Ge,s,P);break e}ve&&ve(e,q,V),e==="focusout"&&V&&q.type==="number"&&V.memoizedProps.value!=null&&Iu(q,"number",q.value)}switch(ve=V?ps(V):window,e){case"focusin":(op(ve)||ve.contentEditable==="true")&&(fa=ve,ec=V,_s=null);break;case"focusout":_s=ec=fa=null;break;case"mousedown":tc=!0;break;case"contextmenu":case"mouseup":case"dragend":tc=!1,vp(Q,s,P);break;case"selectionchange":if(Nw)break;case"keydown":case"keyup":vp(Q,s,P)}var De;if(Qu)e:{switch(e){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else ca?ap(e,s)&&(Ve="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ve="onCompositionStart");Ve&&(np&&s.locale!=="ko"&&(ca||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&ca&&(De=Kh()):(Ii=P,Gu="value"in Ii?Ii.value:Ii.textContent,ca=!0)),ve=Cl(V,Ve),0<ve.length&&(Ve=new ep(Ve,e,null,s,P),Q.push({event:Ve,listeners:ve}),De?Ve.data=De:(De=sp(s),De!==null&&(Ve.data=De)))),(De=vw?bw(e,s):Sw(e,s))&&(Ve=Cl(V,"onBeforeInput"),0<Ve.length&&(ve=new ep("onBeforeInput","beforeinput",null,s,P),Q.push({event:ve,listeners:Ve}),ve.data=De)),fx(Q,e,V,s,P)}Yg(Q,n)})}function Xs(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Cl(e,n){for(var s=n+"Capture",o=[];e!==null;){var c=e,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=ms(e,s),c!=null&&o.unshift(Xs(e,c,d)),c=ms(e,n),c!=null&&o.push(Xs(e,c,d))),e.tag===3)return o;e=e.return}return[]}function mx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Zg(e,n,s,o,c){for(var d=n._reactName,y=[];s!==null&&s!==o;){var w=s,C=w.alternate,V=w.stateNode;if(w=w.tag,C!==null&&C===o)break;w!==5&&w!==26&&w!==27||V===null||(C=V,c?(V=ms(s,d),V!=null&&y.unshift(Xs(s,V,C))):c||(V=ms(s,d),V!=null&&y.push(Xs(s,V,C)))),s=s.return}y.length!==0&&e.push({event:n,listeners:y})}var gx=/\r\n?/g,yx=/\u0000|\uFFFD/g;function Pg(e){return(typeof e=="string"?e:""+e).replace(gx,`
`).replace(yx,"")}function Xg(e,n){return n=Pg(n),Pg(e)===n}function it(e,n,s,o,c,d){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||oa(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&oa(e,""+o);break;case"className":jo(e,"class",o);break;case"tabIndex":jo(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":jo(e,s,o);break;case"style":Xh(e,o,d);break;case"data":if(n!=="object"){jo(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Mo(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(s==="formAction"?(n!=="input"&&it(e,n,"name",c.name,c,null),it(e,n,"formEncType",c.formEncType,c,null),it(e,n,"formMethod",c.formMethod,c,null),it(e,n,"formTarget",c.formTarget,c,null)):(it(e,n,"encType",c.encType,c,null),it(e,n,"method",c.method,c,null),it(e,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=Mo(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=hi);break;case"onScroll":o!=null&&ze("scroll",e);break;case"onScrollEnd":o!=null&&ze("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=Mo(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":ze("beforetoggle",e),ze("toggle",e),ko(e,"popover",o);break;case"xlinkActuate":di(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":di(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":di(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":di(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":di(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":di(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":di(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":di(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":di(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ko(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=GS.get(s)||s,ko(e,s,o))}}function Ef(e,n,s,o,c,d){switch(s){case"style":Xh(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(c.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?oa(e,o):(typeof o=="number"||typeof o=="bigint")&&oa(e,""+o);break;case"onScroll":o!=null&&ze("scroll",e);break;case"onScrollEnd":o!=null&&ze("scrollend",e);break;case"onClick":o!=null&&(e.onclick=hi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ih.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(c=s.endsWith("Capture"),n=s.slice(2,c?s.length-7:void 0),d=e[an]||null,d=d!=null?d[s]:null,typeof d=="function"&&e.removeEventListener(n,d,c),typeof o=="function")){typeof d!="function"&&d!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,c);break e}s in e?e[s]=o:o===!0?e.setAttribute(s,""):ko(e,s,o)}}}function Gt(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",e),ze("load",e);var o=!1,c=!1,d;for(d in s)if(s.hasOwnProperty(d)){var y=s[d];if(y!=null)switch(d){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:it(e,n,d,y,s,null)}}c&&it(e,n,"srcSet",s.srcSet,s,null),o&&it(e,n,"src",s.src,s,null);return;case"input":ze("invalid",e);var w=d=y=c=null,C=null,V=null;for(o in s)if(s.hasOwnProperty(o)){var P=s[o];if(P!=null)switch(o){case"name":c=P;break;case"type":y=P;break;case"checked":C=P;break;case"defaultChecked":V=P;break;case"value":d=P;break;case"defaultValue":w=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,n));break;default:it(e,n,o,P,s,null)}}Yh(e,d,w,C,V,y,c,!1);return;case"select":ze("invalid",e),o=y=d=null;for(c in s)if(s.hasOwnProperty(c)&&(w=s[c],w!=null))switch(c){case"value":d=w;break;case"defaultValue":y=w;break;case"multiple":o=w;default:it(e,n,c,w,s,null)}n=d,s=y,e.multiple=!!o,n!=null?sa(e,!!o,n,!1):s!=null&&sa(e,!!o,s,!0);return;case"textarea":ze("invalid",e),d=c=o=null;for(y in s)if(s.hasOwnProperty(y)&&(w=s[y],w!=null))switch(y){case"value":o=w;break;case"defaultValue":c=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(91));break;default:it(e,n,y,w,s,null)}Zh(e,o,c,d);return;case"option":for(C in s)if(s.hasOwnProperty(C)&&(o=s[C],o!=null))switch(C){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:it(e,n,C,o,s,null)}return;case"dialog":ze("beforetoggle",e),ze("toggle",e),ze("cancel",e),ze("close",e);break;case"iframe":case"object":ze("load",e);break;case"video":case"audio":for(o=0;o<Ps.length;o++)ze(Ps[o],e);break;case"image":ze("error",e),ze("load",e);break;case"details":ze("toggle",e);break;case"embed":case"source":case"link":ze("error",e),ze("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in s)if(s.hasOwnProperty(V)&&(o=s[V],o!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:it(e,n,V,o,s,null)}return;default:if(Lu(n)){for(P in s)s.hasOwnProperty(P)&&(o=s[P],o!==void 0&&Ef(e,n,P,o,s,void 0));return}}for(w in s)s.hasOwnProperty(w)&&(o=s[w],o!=null&&it(e,n,w,o,s,null))}function vx(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,y=null,w=null,C=null,V=null,P=null;for(G in s){var Q=s[G];if(s.hasOwnProperty(G)&&Q!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=Q;default:o.hasOwnProperty(G)||it(e,n,G,null,o,Q)}}for(var q in o){var G=o[q];if(Q=s[q],o.hasOwnProperty(q)&&(G!=null||Q!=null))switch(q){case"type":d=G;break;case"name":c=G;break;case"checked":V=G;break;case"defaultChecked":P=G;break;case"value":y=G;break;case"defaultValue":w=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:G!==Q&&it(e,n,q,G,o,Q)}}Uu(e,y,w,C,V,P,d,c);return;case"select":G=y=w=q=null;for(d in s)if(C=s[d],s.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":G=C;default:o.hasOwnProperty(d)||it(e,n,d,null,o,C)}for(c in o)if(d=o[c],C=s[c],o.hasOwnProperty(c)&&(d!=null||C!=null))switch(c){case"value":q=d;break;case"defaultValue":w=d;break;case"multiple":y=d;default:d!==C&&it(e,n,c,d,o,C)}n=w,s=y,o=G,q!=null?sa(e,!!s,q,!1):!!o!=!!s&&(n!=null?sa(e,!!s,n,!0):sa(e,!!s,s?[]:"",!1));return;case"textarea":G=q=null;for(w in s)if(c=s[w],s.hasOwnProperty(w)&&c!=null&&!o.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:it(e,n,w,null,o,c)}for(y in o)if(c=o[y],d=s[y],o.hasOwnProperty(y)&&(c!=null||d!=null))switch(y){case"value":q=c;break;case"defaultValue":G=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==d&&it(e,n,y,c,o,d)}Gh(e,q,G);return;case"option":for(var fe in s)if(q=s[fe],s.hasOwnProperty(fe)&&q!=null&&!o.hasOwnProperty(fe))switch(fe){case"selected":e.selected=!1;break;default:it(e,n,fe,null,o,q)}for(C in o)if(q=o[C],G=s[C],o.hasOwnProperty(C)&&q!==G&&(q!=null||G!=null))switch(C){case"selected":e.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:it(e,n,C,q,o,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in s)q=s[Te],s.hasOwnProperty(Te)&&q!=null&&!o.hasOwnProperty(Te)&&it(e,n,Te,null,o,q);for(V in o)if(q=o[V],G=s[V],o.hasOwnProperty(V)&&q!==G&&(q!=null||G!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:it(e,n,V,q,o,G)}return;default:if(Lu(n)){for(var rt in s)q=s[rt],s.hasOwnProperty(rt)&&q!==void 0&&!o.hasOwnProperty(rt)&&Ef(e,n,rt,void 0,o,q);for(P in o)q=o[P],G=s[P],!o.hasOwnProperty(P)||q===G||q===void 0&&G===void 0||Ef(e,n,P,q,o,G);return}}for(var U in s)q=s[U],s.hasOwnProperty(U)&&q!=null&&!o.hasOwnProperty(U)&&it(e,n,U,null,o,q);for(Q in o)q=o[Q],G=s[Q],!o.hasOwnProperty(Q)||q===G||q==null&&G==null||it(e,n,Q,q,o,G)}function Fg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function bx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var c=s[o],d=c.transferSize,y=c.initiatorType,w=c.duration;if(d&&w&&Fg(y)){for(y=0,w=c.responseEnd,o+=1;o<s.length;o++){var C=s[o],V=C.startTime;if(V>w)break;var P=C.transferSize,Q=C.initiatorType;P&&Fg(Q)&&(C=C.responseEnd,y+=P*(C<w?1:(w-V)/(C-V)))}if(--o,n+=8*(d+y)/(c.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Nf=null,kf=null;function El(e){return e.nodeType===9?e:e.ownerDocument}function Qg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kg(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function jf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Df=null;function Sx(){var e=window.event;return e&&e.type==="popstate"?e===Df?!1:(Df=e,!0):(Df=null,!1)}var Wg=typeof setTimeout=="function"?setTimeout:void 0,wx=typeof clearTimeout=="function"?clearTimeout:void 0,Jg=typeof Promise=="function"?Promise:void 0,xx=typeof queueMicrotask=="function"?queueMicrotask:typeof Jg<"u"?function(e){return Jg.resolve(null).then(e).catch(_x)}:Wg;function _x(e){setTimeout(function(){throw e})}function nr(e){return e==="head"}function ey(e,n){var s=n,o=0;do{var c=s.nextSibling;if(e.removeChild(s),c&&c.nodeType===8)if(s=c.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(c),Ua(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")Fs(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,Fs(s);for(var d=s.firstChild;d;){var y=d.nextSibling,w=d.nodeName;d[hs]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||s.removeChild(d),d=y}}else s==="body"&&Fs(e.ownerDocument.body);s=c}while(s);Ua(n)}function ty(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function Mf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Mf(s),Bu(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Tx(e,n,s,o){for(;e.nodeType===1;){var c=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[hs])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Mn(e.nextSibling),e===null)break}return null}function Ox(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Mn(e.nextSibling),e===null))return null;return e}function ny(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Mn(e.nextSibling),e===null))return null;return e}function Af(e){return e.data==="$?"||e.data==="$~"}function Rf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Cx(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Mn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var zf=null;function iy(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Mn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function ry(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function ay(e,n,s){switch(n=El(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Fs(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Bu(e)}var An=new Map,sy=new Set;function Nl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ki=X.d;X.d={f:Ex,r:Nx,D:kx,C:jx,L:Dx,m:Mx,X:Rx,S:Ax,M:zx};function Ex(){var e=ki.f(),n=bl();return e||n}function Nx(e){var n=ia(e);n!==null&&n.tag===5&&n.type==="form"?_m(n):ki.r(e)}var za=typeof document>"u"?null:document;function oy(e,n,s){var o=za;if(o&&typeof n=="string"&&n){var c=On(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof s=="string"&&(c+='[crossorigin="'+s+'"]'),sy.has(c)||(sy.add(c),e={rel:e,crossOrigin:s,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),Gt(n,"link",e),Bt(n),o.head.appendChild(n)))}}function kx(e){ki.D(e),oy("dns-prefetch",e,null)}function jx(e,n){ki.C(e,n),oy("preconnect",e,n)}function Dx(e,n,s){ki.L(e,n,s);var o=za;if(o&&e&&n){var c='link[rel="preload"][as="'+On(n)+'"]';n==="image"&&s&&s.imageSrcSet?(c+='[imagesrcset="'+On(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(c+='[imagesizes="'+On(s.imageSizes)+'"]')):c+='[href="'+On(e)+'"]';var d=c;switch(n){case"style":d=Ba(e);break;case"script":d=Ha(e)}An.has(d)||(e=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),An.set(d,e),o.querySelector(c)!==null||n==="style"&&o.querySelector(Qs(d))||n==="script"&&o.querySelector(Ks(d))||(n=o.createElement("link"),Gt(n,"link",e),Bt(n),o.head.appendChild(n)))}}function Mx(e,n){ki.m(e,n);var s=za;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+On(o)+'"][href="'+On(e)+'"]',d=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ha(e)}if(!An.has(d)&&(e=S({rel:"modulepreload",href:e},n),An.set(d,e),s.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Ks(d)))return}o=s.createElement("link"),Gt(o,"link",e),Bt(o),s.head.appendChild(o)}}}function Ax(e,n,s){ki.S(e,n,s);var o=za;if(o&&e){var c=ra(o).hoistableStyles,d=Ba(e);n=n||"default";var y=c.get(d);if(!y){var w={loading:0,preload:null};if(y=o.querySelector(Qs(d)))w.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},s),(s=An.get(d))&&Bf(e,s);var C=y=o.createElement("link");Bt(C),Gt(C,"link",e),C._p=new Promise(function(V,P){C.onload=V,C.onerror=P}),C.addEventListener("load",function(){w.loading|=1}),C.addEventListener("error",function(){w.loading|=2}),w.loading|=4,kl(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:w},c.set(d,y)}}}function Rx(e,n){ki.X(e,n);var s=za;if(s&&e){var o=ra(s).hoistableScripts,c=Ha(e),d=o.get(c);d||(d=s.querySelector(Ks(c)),d||(e=S({src:e,async:!0},n),(n=An.get(c))&&Hf(e,n),d=s.createElement("script"),Bt(d),Gt(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(c,d))}}function zx(e,n){ki.M(e,n);var s=za;if(s&&e){var o=ra(s).hoistableScripts,c=Ha(e),d=o.get(c);d||(d=s.querySelector(Ks(c)),d||(e=S({src:e,async:!0,type:"module"},n),(n=An.get(c))&&Hf(e,n),d=s.createElement("script"),Bt(d),Gt(d,"link",e),s.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(c,d))}}function ly(e,n,s,o){var c=(c=_e.current)?Nl(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ba(s.href),s=ra(c).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ba(s.href);var d=ra(c).hoistableStyles,y=d.get(e);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,y),(d=c.querySelector(Qs(e)))&&!d._p&&(y.instance=d,y.state.loading=5),An.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},An.set(e,s),d||Bx(c,e,s,y.state))),n&&o===null)throw Error(a(528,""));return y}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ha(s),s=ra(c).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ba(e){return'href="'+On(e)+'"'}function Qs(e){return'link[rel="stylesheet"]['+e+"]"}function uy(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Bx(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Gt(n,"link",s),Bt(n),e.head.appendChild(n))}function Ha(e){return'[src="'+On(e)+'"]'}function Ks(e){return"script[async]"+e}function cy(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+On(s.href)+'"]');if(o)return n.instance=o,Bt(o),o;var c=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Bt(o),Gt(o,"style",c),kl(o,s.precedence,e),n.instance=o;case"stylesheet":c=Ba(s.href);var d=e.querySelector(Qs(c));if(d)return n.state.loading|=4,n.instance=d,Bt(d),d;o=uy(s),(c=An.get(c))&&Bf(o,c),d=(e.ownerDocument||e).createElement("link"),Bt(d);var y=d;return y._p=new Promise(function(w,C){y.onload=w,y.onerror=C}),Gt(d,"link",o),n.state.loading|=4,kl(d,s.precedence,e),n.instance=d;case"script":return d=Ha(s.src),(c=e.querySelector(Ks(d)))?(n.instance=c,Bt(c),c):(o=s,(c=An.get(d))&&(o=S({},s),Hf(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),Bt(c),Gt(c,"link",o),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,kl(o,s.precedence,e));return n.instance}function kl(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,d=c,y=0;y<o.length;y++){var w=o[y];if(w.dataset.precedence===n)d=w;else if(d!==c)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Bf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Hf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var jl=null;function fy(e,n,s){if(jl===null){var o=new Map,c=jl=new Map;c.set(s,o)}else c=jl,o=c.get(s),o||(o=new Map,c.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),c=0;c<s.length;c++){var d=s[c];if(!(d[hs]||d[Vt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(n)||"";y=e+y;var w=o.get(y);w?w.push(d):o.set(y,[d])}}return o}function dy(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function Hx(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function hy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Ux(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var c=Ba(o.href),d=n.querySelector(Qs(c));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Dl.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=d,Bt(d);return}d=n.ownerDocument||n,o=uy(o),(c=An.get(c))&&Bf(o,c),d=d.createElement("link"),Bt(d);var y=d;y._p=new Promise(function(w,C){y.onload=w,y.onerror=C}),Gt(d,"link",o),s.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Dl.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Uf=0;function Ix(e,n){return e.stylesheets&&e.count===0&&Al(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&Al(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+n);0<e.imgBytes&&Uf===0&&(Uf=62500*bx());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Al(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Uf?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(c)}}:null}function Dl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Al(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ml=null;function Al(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ml=new Map,n.forEach(Lx,e),Ml=null,Dl.call(e))}function Lx(e,n){if(!(n.state.loading&4)){var s=Ml.get(e);if(s)var o=s.get(null);else{s=new Map,Ml.set(e,s);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var y=c[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),o=y)}o&&s.set(null,o)}c=n.instance,y=c.getAttribute("data-precedence"),d=s.get(y)||o,d===o&&s.set(null,c),s.set(y,c),this.count++,o=Dl.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),d?d.parentNode.insertBefore(c,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var Ws={$$typeof:B,Provider:null,Consumer:null,_currentValue:ee,_currentValue2:ee,_threadCount:0};function Vx(e,n,s,o,c,d,y,w,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function py(e,n,s,o,c,d,y,w,C,V,P,Q){return e=new Vx(e,n,s,y,C,V,P,Q,w),n=1,d===!0&&(n|=24),d=pn(3,null,null,n),e.current=d,d.stateNode=e,n=gc(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:o,isDehydrated:s,cache:n},Sc(d),e}function my(e){return e?(e=pa,e):pa}function gy(e,n,s,o,c,d){c=my(c),o.context===null?o.context=c:o.pendingContext=c,o=Gi(n),o.payload={element:s},d=d===void 0?null:d,d!==null&&(o.callback=d),s=Zi(e,o,n),s!==null&&(fn(s,e,n),js(s,e,n))}function yy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function If(e,n){yy(e,n),(e=e.alternate)&&yy(e,n)}function vy(e){if(e.tag===13||e.tag===31){var n=Tr(e,67108864);n!==null&&fn(n,e,67108864),If(e,67108864)}}function by(e){if(e.tag===13||e.tag===31){var n=bn();n=rn(n);var s=Tr(e,n);s!==null&&fn(s,e,n),If(e,n)}}var Rl=!0;function $x(e,n,s,o){var c=$.T;$.T=null;var d=X.p;try{X.p=2,Lf(e,n,s,o)}finally{X.p=d,$.T=c}}function qx(e,n,s,o){var c=$.T;$.T=null;var d=X.p;try{X.p=8,Lf(e,n,s,o)}finally{X.p=d,$.T=c}}function Lf(e,n,s,o){if(Rl){var c=Vf(o);if(c===null)Cf(e,n,o,zl,s),wy(e,o);else if(Gx(c,e,n,s,o))o.stopPropagation();else if(wy(e,o),n&4&&-1<Yx.indexOf(e)){for(;c!==null;){var d=ia(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=xn(d.pendingLanes);if(y!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;y;){var C=1<<31-xe(y);w.entanglements[1]|=C,y&=~C}ni(d),(Xe&6)===0&&(yl=xt()+500,Zs(0))}}break;case 31:case 13:w=Tr(d,2),w!==null&&fn(w,d,2),bl(),If(d,2)}if(d=Vf(o),d===null&&Cf(e,n,o,zl,s),d===c)break;c=d}c!==null&&o.stopPropagation()}else Cf(e,n,o,null,s)}}function Vf(e){return e=$u(e),$f(e)}var zl=null;function $f(e){if(zl=null,e=na(e),e!==null){var n=u(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=f(n),e!==null)return e;e=null}else if(s===31){if(e=h(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return zl=e,null}function Sy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nn()){case fs:return 2;case yr:return 8;case Kr:case Lt:return 32;case Oo:return 268435456;default:return 32}default:return 32}}var qf=!1,ir=null,rr=null,ar=null,Js=new Map,eo=new Map,sr=[],Yx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wy(e,n){switch(e){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":Js.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":eo.delete(n.pointerId)}}function to(e,n,s,o,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:d,targetContainers:[c]},n!==null&&(n=ia(n),n!==null&&vy(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function Gx(e,n,s,o,c){switch(n){case"focusin":return ir=to(ir,e,n,s,o,c),!0;case"dragenter":return rr=to(rr,e,n,s,o,c),!0;case"mouseover":return ar=to(ar,e,n,s,o,c),!0;case"pointerover":var d=c.pointerId;return Js.set(d,to(Js.get(d)||null,e,n,s,o,c)),!0;case"gotpointercapture":return d=c.pointerId,eo.set(d,to(eo.get(d)||null,e,n,s,o,c)),!0}return!1}function xy(e){var n=na(e.target);if(n!==null){var s=u(n);if(s!==null){if(n=s.tag,n===13){if(n=f(s),n!==null){e.blockedOn=n,No(e.priority,function(){by(s)});return}}else if(n===31){if(n=h(s),n!==null){e.blockedOn=n,No(e.priority,function(){by(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bl(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Vf(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Vu=o,s.target.dispatchEvent(o),Vu=null}else return n=ia(s),n!==null&&vy(n),e.blockedOn=s,!1;n.shift()}return!0}function _y(e,n,s){Bl(e)&&s.delete(n)}function Zx(){qf=!1,ir!==null&&Bl(ir)&&(ir=null),rr!==null&&Bl(rr)&&(rr=null),ar!==null&&Bl(ar)&&(ar=null),Js.forEach(_y),eo.forEach(_y)}function Hl(e,n){e.blockedOn===n&&(e.blockedOn=null,qf||(qf=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Zx)))}var Ul=null;function Ty(e){Ul!==e&&(Ul=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ul===e&&(Ul=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],c=e[n+2];if(typeof o!="function"){if($f(o||s)===null)continue;break}var d=ia(s);d!==null&&(e.splice(n,3),n-=3,Lc(d,{pending:!0,data:c,method:s.method,action:o},o,c))}}))}function Ua(e){function n(C){return Hl(C,e)}ir!==null&&Hl(ir,e),rr!==null&&Hl(rr,e),ar!==null&&Hl(ar,e),Js.forEach(n),eo.forEach(n);for(var s=0;s<sr.length;s++){var o=sr[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<sr.length&&(s=sr[0],s.blockedOn===null);)xy(s),s.blockedOn===null&&sr.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var c=s[o],d=s[o+1],y=c[an]||null;if(typeof d=="function")y||Ty(s);else if(y){var w=null;if(d&&d.hasAttribute("formAction")){if(c=d,y=d[an]||null)w=y.formAction;else if($f(c)!==null)continue}else w=y.action;typeof w=="function"?s[o+1]=w:(s.splice(o,3),o-=3),Ty(s)}}}function Oy(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return c=y})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Yf(e){this._internalRoot=e}Il.prototype.render=Yf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=bn();gy(s,o,e,n,null,null)},Il.prototype.unmount=Yf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;gy(e.current,2,null,e,null,null),bl(),n[ta]=null}};function Il(e){this._internalRoot=e}Il.prototype.unstable_scheduleHydration=function(e){if(e){var n=Eo();e={blockedOn:null,target:e,priority:n};for(var s=0;s<sr.length&&n!==0&&n<sr[s].priority;s++);sr.splice(s,0,e),s===0&&xy(e)}};var Cy=t.version;if(Cy!=="19.2.0")throw Error(a(527,Cy,"19.2.0"));X.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=m(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Px={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ll=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ll.isDisabled&&Ll.supportsFiber)try{vr=Ll.inject(Px),Se=Ll}catch{}}return io.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",c=Am,d=Rm,y=zm;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=py(e,1,!1,null,null,s,o,null,c,d,y,Oy),e[ta]=n.current,Of(e),new Yf(n)},io.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,c="",d=Am,y=Rm,w=zm,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=py(e,1,!0,n,s??null,o,c,C,d,y,w,Oy),n.context=my(null),s=n.current,o=bn(),o=rn(o),c=Gi(o),c.callback=null,Zi(s,c,o),s=o,n.current.lanes=s,dt(n,s),ni(n),e[ta]=n.current,Of(e),new Il(n)},io.version="19.2.0",io}var By;function i_(){if(By)return Pf.exports;By=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Pf.exports=n_(),Pf.exports}var ab=i_();function Hy(i,t,r,a,l,u,f){try{var h=i[u](f),p=h.value}catch(m){return void r(m)}h.done?t(p):Promise.resolve(p).then(a,l)}function ke(i){return function(){var t=this,r=arguments;return new Promise(function(a,l){var u=i.apply(t,r);function f(p){Hy(u,a,l,f,h,"next",p)}function h(p){Hy(u,a,l,f,h,"throw",p)}f(void 0)})}}function He(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}function It(i){"@babel/helpers - typeof";return It=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},It(i)}function r_(i,t){if(It(i)!="object"||!i)return i;var r=i[Symbol.toPrimitive];if(r!==void 0){var a=r.call(i,t);if(It(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function sb(i){var t=r_(i,"string");return It(t)=="symbol"?t:t+""}function a_(i,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,sb(a.key),a)}}function Ue(i,t,r){return t&&a_(i.prototype,t),Object.defineProperty(i,"prototype",{writable:!1}),i}function s_(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}function Qn(i,t){if(t&&(It(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s_(i)}function Je(i){return Je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Je(i)}function go(i,t){return go=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,a){return r.__proto__=a,r},go(i,t)}function tn(i,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(t&&t.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),t&&go(i,t)}function ye(i,t,r){return(t=sb(t))in i?Object.defineProperty(i,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[t]=r,i}var Kf={exports:{}},Wf={exports:{}},Uy;function ob(){return Uy||(Uy=1,(function(i){function t(r,a){this.v=r,this.k=a}i.exports=t,i.exports.__esModule=!0,i.exports.default=i.exports})(Wf)),Wf.exports}var Jf={exports:{}},ed={exports:{}},Iy;function lb(){return Iy||(Iy=1,(function(i){function t(r,a,l,u){var f=Object.defineProperty;try{f({},"",{})}catch{f=0}i.exports=t=function(p,m,v,S){function b(x,_){t(p,x,function(E){return this._invoke(x,_,E)})}m?f?f(p,m,{value:v,enumerable:!S,configurable:!S,writable:!S}):p[m]=v:(b("next",0),b("throw",1),b("return",2))},i.exports.__esModule=!0,i.exports.default=i.exports,t(r,a,l,u)}i.exports=t,i.exports.__esModule=!0,i.exports.default=i.exports})(ed)),ed.exports}var Ly;function ub(){return Ly||(Ly=1,(function(i){var t=lb();function r(){var a,l,u=typeof Symbol=="function"?Symbol:{},f=u.iterator||"@@iterator",h=u.toStringTag||"@@toStringTag";function p(T,z,A,B){var N=z&&z.prototype instanceof v?z:v,H=Object.create(N.prototype);return t(H,"_invoke",(function(O,R,I){var Z,j,W,oe=0,ue=I||[],de=!1,pe={p:0,n:0,v:a,a:$,f:$.bind(a,4),d:function(ee,ae){return Z=ee,j=0,W=a,pe.n=ae,m}};function $(X,ee){for(j=X,W=ee,l=0;!de&&oe&&!ae&&l<ue.length;l++){var ae,me=ue[l],k=pe.p,Y=me[2];X>3?(ae=Y===ee)&&(W=me[(j=me[4])?5:(j=3,3)],me[4]=me[5]=a):me[0]<=k&&((ae=X<2&&k<me[1])?(j=0,pe.v=ee,pe.n=me[1]):k<Y&&(ae=X<3||me[0]>ee||ee>Y)&&(me[4]=X,me[5]=ee,pe.n=Y,j=0))}if(ae||X>1)return m;throw de=!0,ee}return function(X,ee,ae){if(oe>1)throw TypeError("Generator is already running");for(de&&ee===1&&$(ee,ae),j=ee,W=ae;(l=j<2?a:W)||!de;){Z||(j?j<3?(j>1&&(pe.n=-1),$(j,W)):pe.n=W:pe.v=W);try{if(oe=2,Z){if(j||(X="next"),l=Z[X]){if(!(l=l.call(Z,W)))throw TypeError("iterator result is not an object");if(!l.done)return l;W=l.value,j<2&&(j=0)}else j===1&&(l=Z.return)&&l.call(Z),j<2&&(W=TypeError("The iterator does not provide a '"+X+"' method"),j=1);Z=a}else if((l=(de=pe.n<0)?W:O.call(R,pe))!==m)break}catch(me){Z=a,j=1,W=me}finally{oe=1}}return{value:l,done:de}}})(T,A,B),!0),H}var m={};function v(){}function S(){}function b(){}l=Object.getPrototypeOf;var x=[][f]?l(l([][f]())):(t(l={},f,function(){return this}),l),_=b.prototype=v.prototype=Object.create(x);function E(T){return Object.setPrototypeOf?Object.setPrototypeOf(T,b):(T.__proto__=b,t(T,h,"GeneratorFunction")),T.prototype=Object.create(_),T}return S.prototype=b,t(_,"constructor",b),t(b,"constructor",S),S.displayName="GeneratorFunction",t(b,h,"GeneratorFunction"),t(_),t(_,h,"Generator"),t(_,f,function(){return this}),t(_,"toString",function(){return"[object Generator]"}),(i.exports=r=function(){return{w:p,m:E}},i.exports.__esModule=!0,i.exports.default=i.exports)()}i.exports=r,i.exports.__esModule=!0,i.exports.default=i.exports})(Jf)),Jf.exports}var td={exports:{}},nd={exports:{}},id={exports:{}},Vy;function cb(){return Vy||(Vy=1,(function(i){var t=ob(),r=lb();function a(l,u){function f(p,m,v,S){try{var b=l[p](m),x=b.value;return x instanceof t?u.resolve(x.v).then(function(_){f("next",_,v,S)},function(_){f("throw",_,v,S)}):u.resolve(x).then(function(_){b.value=_,v(b)},function(_){return f("throw",_,v,S)})}catch(_){S(_)}}var h;this.next||(r(a.prototype),r(a.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),r(this,"_invoke",function(p,m,v){function S(){return new u(function(b,x){f(p,v,b,x)})}return h=h?h.then(S,S):S()},!0)}i.exports=a,i.exports.__esModule=!0,i.exports.default=i.exports})(id)),id.exports}var $y;function fb(){return $y||($y=1,(function(i){var t=ub(),r=cb();function a(l,u,f,h,p){return new r(t().w(l,u,f,h),p||Promise)}i.exports=a,i.exports.__esModule=!0,i.exports.default=i.exports})(nd)),nd.exports}var qy;function o_(){return qy||(qy=1,(function(i){var t=fb();function r(a,l,u,f,h){var p=t(a,l,u,f,h);return p.next().then(function(m){return m.done?m.value:p.next()})}i.exports=r,i.exports.__esModule=!0,i.exports.default=i.exports})(td)),td.exports}var rd={exports:{}},Yy;function l_(){return Yy||(Yy=1,(function(i){function t(r){var a=Object(r),l=[];for(var u in a)l.unshift(u);return function f(){for(;l.length;)if((u=l.pop())in a)return f.value=u,f.done=!1,f;return f.done=!0,f}}i.exports=t,i.exports.__esModule=!0,i.exports.default=i.exports})(rd)),rd.exports}var ad={exports:{}},sd={exports:{}},Gy;function u_(){return Gy||(Gy=1,(function(i){function t(r){"@babel/helpers - typeof";return i.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},i.exports.__esModule=!0,i.exports.default=i.exports,t(r)}i.exports=t,i.exports.__esModule=!0,i.exports.default=i.exports})(sd)),sd.exports}var Zy;function c_(){return Zy||(Zy=1,(function(i){var t=u_().default;function r(a){if(a!=null){var l=a[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],u=0;if(l)return l.call(a);if(typeof a.next=="function")return a;if(!isNaN(a.length))return{next:function(){return a&&u>=a.length&&(a=void 0),{value:a&&a[u++],done:!a}}}}throw new TypeError(t(a)+" is not iterable")}i.exports=r,i.exports.__esModule=!0,i.exports.default=i.exports})(ad)),ad.exports}var Py;function f_(){return Py||(Py=1,(function(i){var t=ob(),r=ub(),a=o_(),l=fb(),u=cb(),f=l_(),h=c_();function p(){var m=r(),v=m.m(p),S=(Object.getPrototypeOf?Object.getPrototypeOf(v):v.__proto__).constructor;function b(E){var T=typeof E=="function"&&E.constructor;return!!T&&(T===S||(T.displayName||T.name)==="GeneratorFunction")}var x={throw:1,return:2,break:3,continue:3};function _(E){var T,z;return function(A){T||(T={stop:function(){return z(A.a,2)},catch:function(){return A.v},abrupt:function(N,H){return z(A.a,x[N],H)},delegateYield:function(N,H,O){return T.resultName=H,z(A.d,h(N),O)},finish:function(N){return z(A.f,N)}},z=function(N,H,O){A.p=T.prev,A.n=T.next;try{return N(H,O)}finally{T.next=A.n}}),T.resultName&&(T[T.resultName]=A.v,T.resultName=void 0),T.sent=A.v,T.next=A.n;try{return E.call(this,T)}finally{A.p=T.prev,A.n=T.next}}}return(i.exports=p=function(){return{wrap:function(z,A,B,N){return m.w(_(z),A,B,N&&N.reverse())},isGeneratorFunction:b,mark:m.m,awrap:function(z,A){return new t(z,A)},AsyncIterator:u,async:function(z,A,B,N,H){return(b(A)?l:a)(_(z),A,B,N,H)},keys:f,values:h}},i.exports.__esModule=!0,i.exports.default=i.exports)()}i.exports=p,i.exports.__esModule=!0,i.exports.default=i.exports})(Kf)),Kf.exports}var od,Xy;function d_(){if(Xy)return od;Xy=1;var i=f_()();od=i;try{regeneratorRuntime=i}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}return od}var h_=d_();const ie=uh(h_);function p_(i,t){var r=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!r){if(Array.isArray(i)||(r=m_(i))||t){r&&(i=r);var a=0,l=function(){};return{s:l,n:function(){return a>=i.length?{done:!0}:{done:!1,value:i[a++]}},e:function(m){throw m},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,f=!0,h=!1;return{s:function(){r=r.call(i)},n:function(){var m=r.next();return f=m.done,m},e:function(m){h=!0,u=m},f:function(){try{f||r.return==null||r.return()}finally{if(h)throw u}}}}function m_(i,t){if(i){if(typeof i=="string")return Fy(i,t);var r={}.toString.call(i).slice(8,-1);return r==="Object"&&i.constructor&&(r=i.constructor.name),r==="Map"||r==="Set"?Array.from(i):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fy(i,t):void 0}}function Fy(i,t){(t==null||t>i.length)&&(t=i.length);for(var r=0,a=Array(t);r<t;r++)a[r]=i[r];return a}function g_(){return{debug:function(t){}}}var db=(function(){function i(){He(this,i),ye(this,"pipes",[])}return Ue(i,[{key:"addPipe",value:function(r){this.pipes.push(r)}},{key:"emit",value:(function(){var t=ke(ie.mark(function a(l){var u,f,h,p;return ie.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:u=l,f=p_(this.pipes),v.prev=2,f.s();case 4:if((h=f.n()).done){v.next=13;break}return p=h.value,v.next=8,p(u);case 8:if(u=v.sent,!(typeof u>"u")){v.next=11;break}return v.abrupt("return");case 11:v.next=4;break;case 13:v.next=18;break;case 15:v.prev=15,v.t0=v.catch(2),f.e(v.t0);case 18:return v.prev=18,f.f(),v.finish(18);case 21:return v.abrupt("return",u);case 22:case"end":return v.stop()}},a,this,[[2,15,18,21]])}));function r(a){return t.apply(this,arguments)}return r})()}])})(),Xr=(function(){function i(t){He(this,i),ye(this,"signal",new db),this.name=t}return Ue(i,[{key:"addPipe",value:function(r){this.signal.addPipe(r)}},{key:"use",value:function(r){if(!(r instanceof i))throw new Error("cannot use non-Scope instance");return r.setParent(this),this.addPipe(function(a){return r.signal.emit(a)}),g_()}},{key:"setParent",value:function(r){this.parent=r}},{key:"emit",value:function(r){return this.signal.emit(r)}},{key:"hasParent",value:function(){return!!this.parent}},{key:"parentScope",value:function(r){if(!this.parent)throw new Error("cannot find parent");if(r&&this.parent instanceof r)return this.parent;if(r)throw new Error("actual parent is not instance of type");return this.parent}}])})();function Qy(i,t){var r=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!r){if(Array.isArray(i)||(r=y_(i))||t){r&&(i=r);var a=0,l=function(){};return{s:l,n:function(){return a>=i.length?{done:!0}:{done:!1,value:i[a++]}},e:function(m){throw m},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,f=!0,h=!1;return{s:function(){r=r.call(i)},n:function(){var m=r.next();return f=m.done,m},e:function(m){h=!0,u=m},f:function(){try{f||r.return==null||r.return()}finally{if(h)throw u}}}}function y_(i,t){if(i){if(typeof i=="string")return Ky(i,t);var r={}.toString.call(i).slice(8,-1);return r==="Object"&&i.constructor&&(r=i.constructor.name),r==="Map"||r==="Set"?Array.from(i):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ky(i,t):void 0}}function Ky(i,t){(t==null||t>i.length)&&(t=i.length);for(var r=0,a=Array(t);r<t;r++)a[r]=i[r];return a}function v_(i,t,r){return t=Je(t),Qn(i,hb()?Reflect.construct(t,r||[],Je(i).constructor):t.apply(i,r))}function hb(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hb=function(){return!!i})()}var Ri=(function(i){function t(){var r;return He(this,t),r=v_(this,t,["NodeEditor"]),ye(r,"nodes",[]),ye(r,"connections",[]),r}return tn(t,i),Ue(t,[{key:"getNode",value:function(a){return this.nodes.find(function(l){return l.id===a})}},{key:"getNodes",value:function(){return this.nodes.slice()}},{key:"getConnections",value:function(){return this.connections.slice()}},{key:"getConnection",value:function(a){return this.connections.find(function(l){return l.id===a})}},{key:"addNode",value:(function(){var r=ke(ie.mark(function l(u){return ie.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!this.getNode(u.id)){h.next=2;break}throw new Error("node has already been added");case 2:return h.next=4,this.emit({type:"nodecreate",data:u});case 4:if(h.sent){h.next=6;break}return h.abrupt("return",!1);case 6:return this.nodes.push(u),h.next=9,this.emit({type:"nodecreated",data:u});case 9:return h.abrupt("return",!0);case 10:case"end":return h.stop()}},l,this)}));function a(l){return r.apply(this,arguments)}return a})()},{key:"addConnection",value:(function(){var r=ke(ie.mark(function l(u){return ie.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!this.getConnection(u.id)){h.next=2;break}throw new Error("connection has already been added");case 2:return h.next=4,this.emit({type:"connectioncreate",data:u});case 4:if(h.sent){h.next=6;break}return h.abrupt("return",!1);case 6:return this.connections.push(u),h.next=9,this.emit({type:"connectioncreated",data:u});case 9:return h.abrupt("return",!0);case 10:case"end":return h.stop()}},l,this)}));function a(l){return r.apply(this,arguments)}return a})()},{key:"removeNode",value:(function(){var r=ke(ie.mark(function l(u){var f,h;return ie.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(f=this.nodes.find(function(v){return v.id===u}),f){m.next=3;break}throw new Error("cannot find node");case 3:return m.next=5,this.emit({type:"noderemove",data:f});case 5:if(m.sent){m.next=7;break}return m.abrupt("return",!1);case 7:return h=this.nodes.indexOf(f),this.nodes.splice(h,1),m.next=11,this.emit({type:"noderemoved",data:f});case 11:return m.abrupt("return",!0);case 12:case"end":return m.stop()}},l,this)}));function a(l){return r.apply(this,arguments)}return a})()},{key:"removeConnection",value:(function(){var r=ke(ie.mark(function l(u){var f,h;return ie.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(f=this.connections.find(function(v){return v.id===u}),f){m.next=3;break}throw new Error("cannot find connection");case 3:return m.next=5,this.emit({type:"connectionremove",data:f});case 5:if(m.sent){m.next=7;break}return m.abrupt("return",!1);case 7:return h=this.connections.indexOf(f),this.connections.splice(h,1),m.next=11,this.emit({type:"connectionremoved",data:f});case 11:return m.abrupt("return",!0);case 12:case"end":return m.stop()}},l,this)}));function a(l){return r.apply(this,arguments)}return a})()},{key:"clear",value:(function(){var r=ke(ie.mark(function l(){var u,f,h,p,m,v;return ie.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,this.emit({type:"clear"});case 2:if(b.sent){b.next=6;break}return b.next=5,this.emit({type:"clearcancelled"});case 5:return b.abrupt("return",!1);case 6:u=Qy(this.connections.slice()),b.prev=7,u.s();case 9:if((f=u.n()).done){b.next=15;break}return h=f.value,b.next=13,this.removeConnection(h.id);case 13:b.next=9;break;case 15:b.next=20;break;case 17:b.prev=17,b.t0=b.catch(7),u.e(b.t0);case 20:return b.prev=20,u.f(),b.finish(20);case 23:p=Qy(this.nodes.slice()),b.prev=24,p.s();case 26:if((m=p.n()).done){b.next=32;break}return v=m.value,b.next=30,this.removeNode(v.id);case 30:b.next=26;break;case 32:b.next=37;break;case 34:b.prev=34,b.t1=b.catch(24),p.e(b.t1);case 37:return b.prev=37,p.f(),b.finish(37);case 40:return b.next=42,this.emit({type:"cleared"});case 42:return b.abrupt("return",!0);case 43:case"end":return b.stop()}},l,this,[[7,17,20,23],[24,34,37,40]])}));function a(){return r.apply(this,arguments)}return a})()}])})(Xr),ld=globalThis.crypto;function gr(){if("randomBytes"in ld)return ld.randomBytes(8).toString("hex");var i=ld.getRandomValues(new Uint8Array(8)),t=Array.from(i),r=t.map(function(a){return a.toString(16).padStart(2,"0")});return r.join("")}function fh(i,t,r){return t=Je(t),Qn(i,pb()?Reflect.construct(t,r||[],Je(i).constructor):t.apply(i,r))}function pb(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pb=function(){return!!i})()}var b_=Ue(function i(t){He(this,i),this.name=t}),dh=Ue(function i(t,r,a){He(this,i),this.socket=t,this.label=r,this.multipleConnections=a,this.id=gr()}),S_=(function(i){function t(r,a,l){var u;return He(this,t),u=fh(this,t,[r,a,l]),ye(u,"control",null),ye(u,"showControl",!0),u.socket=r,u.label=a,u.multipleConnections=l,u}return tn(t,i),Ue(t,[{key:"addControl",value:function(a){if(this.control)throw new Error("control already added for this input");this.control=a}},{key:"removeControl",value:function(){this.control=null}}])})(dh),w_=(function(i){function t(r,a,l){return He(this,t),fh(this,t,[r,a,l!==!1])}return tn(t,i),Ue(t)})(dh),mb=Ue(function i(){He(this,i),this.id=gr()}),x_=(function(i){function t(r,a){var l,u;return He(this,t),u=fh(this,t),u.type=r,u.options=a,u.id=gr(),u.readonly=(l=a?.readonly)!==null&&l!==void 0?l:!1,typeof a?.initial<"u"&&(u.value=a.initial),u}return tn(t,i),Ue(t,[{key:"setValue",value:function(a){var l;this.value=a,(l=this.options)!==null&&l!==void 0&&l.change&&this.options.change(a)}}])})(mb),__=(function(){function i(t){He(this,i),ye(this,"inputs",{}),ye(this,"outputs",{}),ye(this,"controls",{}),this.label=t,this.id=gr()}return Ue(i,[{key:"hasInput",value:function(r){return Object.prototype.hasOwnProperty.call(this.inputs,r)}},{key:"addInput",value:function(r,a){if(this.hasInput(r))throw new Error("input with key '".concat(String(r),"' already added"));Object.defineProperty(this.inputs,r,{value:a,enumerable:!0,configurable:!0})}},{key:"removeInput",value:function(r){delete this.inputs[r]}},{key:"hasOutput",value:function(r){return Object.prototype.hasOwnProperty.call(this.outputs,r)}},{key:"addOutput",value:function(r,a){if(this.hasOutput(r))throw new Error("output with key '".concat(String(r),"' already added"));Object.defineProperty(this.outputs,r,{value:a,enumerable:!0,configurable:!0})}},{key:"removeOutput",value:function(r){delete this.outputs[r]}},{key:"hasControl",value:function(r){return Object.prototype.hasOwnProperty.call(this.controls,r)}},{key:"addControl",value:function(r,a){if(this.hasControl(r))throw new Error("control with key '".concat(String(r),"' already added"));Object.defineProperty(this.controls,r,{value:a,enumerable:!0,configurable:!0})}},{key:"removeControl",value:function(r){delete this.controls[r]}}])})(),T_=Ue(function i(t,r,a,l){if(He(this,i),this.sourceOutput=r,this.targetInput=l,!t.outputs[r])throw new Error("source node doesn't have output with a key ".concat(String(r)));if(!a.inputs[l])throw new Error("target node doesn't have input with a key ".concat(String(l)));this.id=gr(),this.source=t.id,this.target=a.id}),ne=Object.freeze({__proto__:null,Socket:b_,Port:dh,Input:S_,Output:w_,Control:mb,InputControl:x_,Node:__,Connection:T_});const O_=Object.freeze(Object.defineProperty({__proto__:null,ClassicPreset:ne,NodeEditor:Ri,Scope:Xr,Signal:db,getUID:gr},Symbol.toStringTag,{value:"Module"}));function Nd(i,t){(t==null||t>i.length)&&(t=i.length);for(var r=0,a=Array(t);r<t;r++)a[r]=i[r];return a}function C_(i){if(Array.isArray(i))return Nd(i)}function E_(i){if(typeof Symbol<"u"&&i[Symbol.iterator]!=null||i["@@iterator"]!=null)return Array.from(i)}function gb(i,t){if(i){if(typeof i=="string")return Nd(i,t);var r={}.toString.call(i).slice(8,-1);return r==="Object"&&i.constructor&&(r=i.constructor.name),r==="Map"||r==="Set"?Array.from(i):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Nd(i,t):void 0}}function N_(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fr(i){return C_(i)||E_(i)||gb(i)||N_()}var k_=(function(){function i(t){He(this,i),this.reordered=t,this.holder=document.createElement("div"),this.holder.style.transformOrigin="0 0"}return Ue(i,[{key:"getPointerFrom",value:function(r){var a=this.holder.getBoundingClientRect(),l=a.left,u=a.top,f=r.clientX-l,h=r.clientY-u;return{x:f,y:h}}},{key:"add",value:function(r){this.holder.appendChild(r)}},{key:"reorder",value:(function(){var t=ke(ie.mark(function a(l,u){return ie.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(this.holder.contains(l)){h.next=2;break}throw new Error("content doesn't have 'target' for reordering");case 2:if(!(u!==null&&!this.holder.contains(u))){h.next=4;break}throw new Error("content doesn't have 'next' for reordering");case 4:return this.holder.insertBefore(l,u),h.next=7,this.reordered(l);case 7:case"end":return h.stop()}},a,this)}));function r(a,l){return t.apply(this,arguments)}return r})()},{key:"remove",value:function(r){this.holder.contains(r)&&this.holder.removeChild(r)}}])})();function j_(i,t){var r=function(f){t.move(f)},a=function(f){window.removeEventListener("pointermove",r),window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",a),t.up(f)},l=function(f){window.addEventListener("pointermove",r),window.addEventListener("pointerup",a),window.addEventListener("pointercancel",a),t.down(f)};return i.addEventListener("pointerdown",l),{destroy:function(){i.removeEventListener("pointerdown",l),window.removeEventListener("pointermove",r),window.removeEventListener("pointerup",a),window.removeEventListener("pointercancel",a)}}}var Wy=function(t){return t.length===0?0:Math.min.apply(Math,Fr(t))},Jy=function(t){return t.length===0?0:Math.max.apply(Math,Fr(t))};function yb(i){var t=Wy(i.map(function(u){return u.position.x})),r=Wy(i.map(function(u){return u.position.y})),a=Jy(i.map(function(u){return u.position.x+u.width})),l=Jy(i.map(function(u){return u.position.y+u.height}));return{left:t,right:a,top:r,bottom:l,width:Math.abs(t-a),height:Math.abs(r-l),center:{x:(t+a)/2,y:(r+l)/2}}}function ev(i,t){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),r.push.apply(r,a)}return r}function D_(i){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ev(Object(r),!0).forEach(function(a){ye(i,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):ev(Object(r)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(r,a))})}return i}var vb=(function(){function i(t){var r=this;He(this,i),ye(this,"down",function(a){r.guards.down(a)&&(a.stopPropagation(),r.pointerStart={x:a.pageX,y:a.pageY},r.startPosition=D_({},r.config.getCurrentPosition()),r.events.start(a))}),ye(this,"move",function(a){if(!(!r.pointerStart||!r.startPosition)&&r.guards.move(a)){a.preventDefault();var l={x:a.pageX-r.pointerStart.x,y:a.pageY-r.pointerStart.y},u=r.config.getZoom(),f=r.startPosition.x+l.x/u,h=r.startPosition.y+l.y/u;r.events.translate(f,h,a)}}),ye(this,"up",function(a){r.pointerStart&&(delete r.pointerStart,r.events.drag(a))}),this.guards=t||{down:function(l){return!(l.pointerType==="mouse"&&l.button!==0)},move:function(){return!0}}}return Ue(i,[{key:"initialize",value:function(r,a,l){this.config=a,this.events=l,r.style.touchAction="none",this.pointerListener=j_(r,{down:this.down,move:this.move,up:this.up})}},{key:"destroy",value:function(){this.pointerListener.destroy()}}])})(),M_=(function(){function i(t){var r=this;He(this,i),ye(this,"previous",null),ye(this,"pointers",[]),ye(this,"wheel",function(a){a.preventDefault();var l=r.element.getBoundingClientRect(),u=l.left,f=l.top,h=a.deltaY<0,p=h?r.intensity:-r.intensity,m=(u-a.clientX)*p,v=(f-a.clientY)*p;r.onzoom(p,m,v,"wheel")}),ye(this,"down",function(a){r.pointers.push(a)}),ye(this,"move",function(a){if(r.pointers=r.pointers.map(function(_){return _.pointerId===a.pointerId?a:_}),!!r.isTranslating()){var l=r.element.getBoundingClientRect(),u=l.left,f=l.top,h=r.getTouches(),p=h.cx,m=h.cy,v=h.distance;if(r.previous!==null&&r.previous.distance>0){var S=v/r.previous.distance-1,b=(u-p)*S,x=(f-m)*S;r.onzoom(S,b-(r.previous.cx-p),x-(r.previous.cy-m),"touch")}r.previous={cx:p,cy:m,distance:v}}}),ye(this,"contextmenu",function(){r.pointers=[]}),ye(this,"up",function(a){r.previous=null,r.pointers=r.pointers.filter(function(l){return l.pointerId!==a.pointerId})}),ye(this,"dblclick",function(a){a.preventDefault();var l=r.element.getBoundingClientRect(),u=l.left,f=l.top,h=4*r.intensity,p=(u-a.clientX)*h,m=(f-a.clientY)*h;r.onzoom(h,p,m,"dblclick")}),this.intensity=t}return Ue(i,[{key:"initialize",value:function(r,a,l){this.container=r,this.element=a,this.onzoom=l,this.container.addEventListener("wheel",this.wheel),this.container.addEventListener("pointerdown",this.down),this.container.addEventListener("dblclick",this.dblclick),window.addEventListener("pointermove",this.move),window.addEventListener("pointerup",this.up),window.addEventListener("pointercancel",this.up),window.addEventListener("contextmenu",this.contextmenu)}},{key:"getTouches",value:function(){var r={touches:this.pointers},a=[r.touches[0].clientX,r.touches[0].clientY],l=a[0],u=a[1],f=[r.touches[1].clientX,r.touches[1].clientY],h=f[0],p=f[1],m=Math.sqrt(Math.pow(l-h,2)+Math.pow(u-p,2));return{cx:(l+h)/2,cy:(u+p)/2,distance:m}}},{key:"isTranslating",value:function(){return this.pointers.length>=2}},{key:"destroy",value:function(){this.container.removeEventListener("wheel",this.wheel),this.container.removeEventListener("pointerdown",this.down),this.container.removeEventListener("dblclick",this.dblclick),window.removeEventListener("pointermove",this.move),window.removeEventListener("pointerup",this.up),window.removeEventListener("pointercancel",this.up),window.removeEventListener("contextmenu",this.contextmenu)}}])})(),A_=(function(){function i(t,r,a){var l=this;He(this,i),ye(this,"transform",{k:1,x:0,y:0}),ye(this,"pointer",{x:0,y:0}),ye(this,"zoomHandler",null),ye(this,"dragHandler",null),ye(this,"pointerdown",function(u){l.setPointerFrom(u),l.events.pointerDown(l.pointer,u)}),ye(this,"pointermove",function(u){l.setPointerFrom(u),l.events.pointerMove(l.pointer,u)}),ye(this,"pointerup",function(u){l.setPointerFrom(u),l.events.pointerUp(l.pointer,u)}),ye(this,"resize",function(u){l.events.resize(u)}),ye(this,"onTranslate",function(u,f){var h;(h=l.zoomHandler)!==null&&h!==void 0&&h.isTranslating()||l.translate(u,f)}),ye(this,"onZoom",function(u,f,h,p){l.zoom(l.transform.k*(1+u),f,h,p),l.update()}),this.container=t,this.events=r,this.guards=a,this.content=new k_(function(u){return l.events.reordered(u)}),this.content.holder.style.transformOrigin="0 0",this.setZoomHandler(new M_(.1)),this.setDragHandler(new vb),this.container.addEventListener("pointerdown",this.pointerdown),this.container.addEventListener("pointermove",this.pointermove),window.addEventListener("pointerup",this.pointerup),window.addEventListener("resize",this.resize),t.appendChild(this.content.holder),this.update()}return Ue(i,[{key:"update",value:function(){var r=this.transform,a=r.x,l=r.y,u=r.k;this.content.holder.style.transform="translate(".concat(a,"px, ").concat(l,"px) scale(").concat(u,")")}},{key:"setDragHandler",value:function(r){var a=this;this.dragHandler&&this.dragHandler.destroy(),this.dragHandler=r,this.dragHandler&&this.dragHandler.initialize(this.container,{getCurrentPosition:function(){return a.transform},getZoom:function(){return 1}},{start:function(){return null},translate:this.onTranslate,drag:function(){return null}})}},{key:"setZoomHandler",value:function(r){this.zoomHandler&&this.zoomHandler.destroy(),this.zoomHandler=r,this.zoomHandler&&this.zoomHandler.initialize(this.container,this.content.holder,this.onZoom)}},{key:"setPointerFrom",value:function(r){var a=this.content.getPointerFrom(r),l=a.x,u=a.y,f=this.transform.k;this.pointer={x:l/f,y:u/f}}},{key:"translate",value:(function(){var t=ke(ie.mark(function a(l,u){var f,h;return ie.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return f={x:l,y:u},m.next=3,this.guards.translate({previous:this.transform,position:f});case 3:if(h=m.sent,h){m.next=6;break}return m.abrupt("return",!1);case 6:return this.transform.x=h.data.position.x,this.transform.y=h.data.position.y,this.update(),m.next=11,this.events.translated(h.data);case 11:return m.abrupt("return",!0);case 12:case"end":return m.stop()}},a,this)}));function r(a,l){return t.apply(this,arguments)}return r})()},{key:"zoom",value:(function(){var t=ke(ie.mark(function a(l){var u,f,h,p,m,v,S=arguments;return ie.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return u=S.length>1&&S[1]!==void 0?S[1]:0,f=S.length>2&&S[2]!==void 0?S[2]:0,h=S.length>3?S[3]:void 0,p=this.transform.k,x.next=6,this.guards.zoom({previous:this.transform,zoom:l,source:h});case 6:if(m=x.sent,m){x.next=9;break}return x.abrupt("return",!0);case 9:return v=(p-m.data.zoom)/(p-l||1),this.transform.k=m.data.zoom||1,this.transform.x+=u*v,this.transform.y+=f*v,this.update(),x.next=16,this.events.zoomed(m.data);case 16:return x.abrupt("return",!1);case 17:case"end":return x.stop()}},a,this)}));function r(a){return t.apply(this,arguments)}return r})()},{key:"destroy",value:function(){this.container.removeEventListener("pointerdown",this.pointerdown),this.container.removeEventListener("pointermove",this.pointermove),window.removeEventListener("pointerup",this.pointerup),window.removeEventListener("resize",this.resize),this.dragHandler&&this.dragHandler.destroy(),this.zoomHandler&&this.zoomHandler.destroy(),this.content.holder.innerHTML=""}}])})();function R_(i,t,r){return t=Je(t),Qn(i,bb()?Reflect.construct(t,r||[],Je(i).constructor):t.apply(i,r))}function bb(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bb=function(){return!!i})()}var is=(function(i){function t(){return He(this,t),R_(this,t,arguments)}return tn(t,i),Ue(t)})(Xr),z_=Ue(function i(t){He(this,i),this.element=document.createElement("div"),this.element.style.position="absolute",this.element.style.left="0",this.element.style.top="0",this.element.addEventListener("contextmenu",function(r){return t.contextmenu(r)})}),B_=(function(){function i(){He(this,i),ye(this,"views",new WeakMap),ye(this,"viewsElements",new Map)}return Ue(i,[{key:"set",value:function(r){var a=r.element,l=r.type,u=r.payload;u!=null&&u.id&&(this.views.set(a,r),this.viewsElements.set("".concat(l,"_").concat(u.id),a))}},{key:"get",value:function(r,a){var l=this.viewsElements.get("".concat(r,"_").concat(a));return l&&this.views.get(l)}},{key:"delete",value:function(r){var a,l=this.views.get(r);l&&(a=l.payload)!==null&&a!==void 0&&a.id&&(this.views.delete(r),this.viewsElements.delete("".concat(l.type,"_").concat(l.payload.id)))}}])})();function tv(i,t){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),r.push.apply(r,a)}return r}function nv(i){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tv(Object(r),!0).forEach(function(a){ye(i,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):tv(Object(r)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(r,a))})}return i}var H_=(function(){function i(t,r,a){var l=this;He(this,i),ye(this,"translate",(function(){var u=ke(ie.mark(function f(h,p){var m,v;return ie.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return m=nv({},l.position),b.next=3,l.guards.translate({previous:m,position:{x:h,y:p}});case 3:if(v=b.sent,v){b.next=6;break}return b.abrupt("return",!1);case 6:return l.position=nv({},v.data.position),l.element.style.transform="translate(".concat(l.position.x,"px, ").concat(l.position.y,"px)"),b.next=10,l.events.translated({position:l.position,previous:m});case 10:return b.abrupt("return",!0);case 11:case"end":return b.stop()}},f)}));return function(f,h){return u.apply(this,arguments)}})()),ye(this,"resize",(function(){var u=ke(ie.mark(function f(h,p){var m,v;return ie.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return m={width:h,height:p},b.next=3,l.guards.resize({size:m});case 3:if(b.sent){b.next=5;break}return b.abrupt("return",!1);case 5:if(v=l.element.querySelector("*:not(span):not([fragment])"),!(!v||!(v instanceof HTMLElement))){b.next=8;break}return b.abrupt("return",!1);case 8:return v.style.width="".concat(h,"px"),v.style.height="".concat(p,"px"),b.next=12,l.events.resized({size:m});case 12:return b.abrupt("return",!0);case 13:case"end":return b.stop()}},f)}));return function(f,h){return u.apply(this,arguments)}})()),this.getZoom=t,this.events=r,this.guards=a,this.element=document.createElement("div"),this.element.style.position="absolute",this.position={x:0,y:0},this.translate(0,0),this.element.addEventListener("contextmenu",function(u){return l.events.contextmenu(u)}),this.dragHandler=new vb,this.dragHandler.initialize(this.element,{getCurrentPosition:function(){return l.position},getZoom:function(){return l.getZoom()}},{start:this.events.picked,translate:this.translate,drag:this.events.dragged})}return Ue(i,[{key:"destroy",value:function(){this.dragHandler.destroy()}}])})();function Sb(i,t){return i.map(function(r){return{view:t.get(r.id),node:r}}).filter(function(r){return r.view}).map(function(r){var a=r.view,l=r.node,u=l.width,f=l.height;return typeof u<"u"&&typeof f<"u"?{position:a.position,width:u,height:f}:{position:a.position,width:a.element.clientWidth,height:a.element.clientHeight}})}function U_(i,t){var r=i.parentScope(Ri),a=t.map(function(u){return It(u)==="object"?u:r.getNode(u)}),l=Sb(a,i.nodeViews);return yb(l)}function I_(i){var t=i;t.addPipe(function(r){if(!r||It(r)!=="object"||!("type"in r))return r;if(r.type==="nodepicked"){var a=t.nodeViews.get(r.data.id),l=t.area.content;a&&l.reorder(a.element,null)}if(r.type==="connectioncreated"){var u=t.connectionViews.get(r.data.id),f=t.area.content;u&&f.reorder(u.element,f.holder.firstChild)}return r})}function iv(i,t){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),r.push.apply(r,a)}return r}function ji(i){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iv(Object(r),!0).forEach(function(a){ye(i,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):iv(Object(r)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(r,a))})}return i}function L_(i,t){var r=t!=null&&t.scaling?t.scaling===!0?{min:.1,max:1}:t.scaling:!1,a=t!=null&&t.translation?t.translation===!0?{left:0,top:0,right:1e3,bottom:1e3}:t.translation:!1;function l(f){if(!r)throw new Error("scaling param isnt defined");var h=typeof r=="function"?r():r,p=h.min,m=h.max;return f<p?p:f>m?m:f}function u(f){if(!a)throw new Error("translation param isnt defined");var h=ji({},f),p=typeof a=="function"?a():a,m=p.left,v=p.top,S=p.right,b=p.bottom;return h.x<m&&(h.x=m),h.x>S&&(h.x=S),h.y<v&&(h.y=v),h.y>b&&(h.y=b),h}i.addPipe(function(f){if(!f||It(f)!=="object"||!("type"in f))return f;if(r&&f.type==="zoom")return ji(ji({},f),{},{data:ji(ji({},f.data),{},{zoom:l(f.data.zoom)})});if(a&&f.type==="zoomed"){var h=u(i.area.transform);i.area.translate(h.x,h.y)}return a&&f.type==="translate"?ji(ji({},f),{},{data:ji(ji({},f.data),{},{position:u(f.data.position)})}):f})}function V_(){var i=!1;function t(a){(a.key==="Control"||a.key==="Meta")&&(i=!0)}function r(a){(a.key==="Control"||a.key==="Meta")&&(i=!1)}return document.addEventListener("keydown",t),document.addEventListener("keyup",r),{active:function(){return i},destroy:function(){document.removeEventListener("keydown",t),document.removeEventListener("keyup",r)}}}var wb=(function(){function i(){He(this,i),ye(this,"entities",new Map),ye(this,"pickId",null)}return Ue(i,[{key:"isSelected",value:function(r){return this.entities.has("".concat(r.label,"_").concat(r.id))}},{key:"add",value:(function(){var t=ke(ie.mark(function a(l,u){return ie.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(u){h.next=3;break}return h.next=3,this.unselectAll();case 3:this.entities.set("".concat(l.label,"_").concat(l.id),l);case 4:case"end":return h.stop()}},a,this)}));function r(a,l){return t.apply(this,arguments)}return r})()},{key:"remove",value:(function(){var t=ke(ie.mark(function a(l){var u,f;return ie.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(u="".concat(l.label,"_").concat(l.id),f=this.entities.get(u),!f){p.next=6;break}return this.entities.delete(u),p.next=6,f.unselect();case 6:case"end":return p.stop()}},a,this)}));function r(a){return t.apply(this,arguments)}return r})()},{key:"unselectAll",value:(function(){var t=ke(ie.mark(function a(){var l=this;return ie.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,Promise.all(Fr(Array.from(this.entities.values())).map(function(h){return l.remove(h)}));case 2:case"end":return f.stop()}},a,this)}));function r(){return t.apply(this,arguments)}return r})()},{key:"translate",value:(function(){var t=ke(ie.mark(function a(l,u){var f=this;return ie.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,Promise.all(Array.from(this.entities.values()).map(function(m){return!f.isPicked(m)&&m.translate(l,u)}));case 2:case"end":return p.stop()}},a,this)}));function r(a,l){return t.apply(this,arguments)}return r})()},{key:"pick",value:function(r){this.pickId="".concat(r.label,"_").concat(r.id)}},{key:"release",value:function(){this.pickId=null}},{key:"isPicked",value:function(r){return this.pickId==="".concat(r.label,"_").concat(r.id)}}])})();function $_(){return new wb}function q_(i,t,r){var a=null,l=i,u=function(){return a||(a=l.parentScope(Ri))},f=0;function h(x){x.selected||(x.selected=!0,l.update("node",x.id))}function p(x){x.selected&&(x.selected=!1,l.update("node",x.id))}function m(x,_){return v.apply(this,arguments)}function v(){return v=ke(ie.mark(function x(_,E){var T;return ie.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(T=u().getNode(_),T){A.next=3;break}return A.abrupt("return");case 3:return A.next=5,t.add({label:"node",id:T.id,translate:function(N,H){return ke(ie.mark(function O(){var R,I;return ie.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(R=l.nodeViews.get(T.id),I=R?.position,!I){j.next=5;break}return j.next=5,R.translate(I.x+N,I.y+H);case 5:case"end":return j.stop()}},O)}))()},unselect:function(){p(T)}},E);case 5:h(T);case 6:case"end":return A.stop()}},x)})),v.apply(this,arguments)}function S(x){return b.apply(this,arguments)}function b(){return b=ke(ie.mark(function x(_){return ie.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,t.remove({id:_,label:"node"});case 2:case"end":return T.stop()}},x)})),b.apply(this,arguments)}return l.addPipe((function(){var x=ke(ie.mark(function _(E){var T,z,A,B,N,H,O,R;return ie.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(!(!E||It(E)!=="object"||!("type"in E))){Z.next=2;break}return Z.abrupt("return",E);case 2:if(E.type!=="nodepicked"){Z.next=11;break}return T=E.data.id,z=r.accumulating.active(),t.pick({id:T,label:"node"}),f=null,Z.next=9,m(T,z);case 9:Z.next=33;break;case 11:if(E.type!=="nodetranslated"){Z.next=20;break}if(A=E.data,B=A.id,N=A.position,H=A.previous,O=N.x-H.x,R=N.y-H.y,!t.isPicked({id:B,label:"node"})){Z.next=18;break}return Z.next=18,t.translate(O,R);case 18:Z.next=33;break;case 20:if(E.type!=="pointerdown"){Z.next=24;break}f=0,Z.next=33;break;case 24:if(E.type!=="pointermove"){Z.next=28;break}f!==null&&f++,Z.next=33;break;case 28:if(E.type!=="pointerup"){Z.next=33;break}if(!(f!==null&&f<4)){Z.next=32;break}return Z.next=32,t.unselectAll();case 32:f=null;case 33:return Z.abrupt("return",E);case 34:case"end":return Z.stop()}},_)}));return function(_){return x.apply(this,arguments)}})()),{select:m,unselect:S}}function Y_(i,t){var r=null,a=function(){return r||(r=i.parentScope(Ri))};function l(u,f){var h=a().getNode(u);if(h){var p=h.inputs[f];if(!p)throw new Error("cannot find input");var m=p.showControl,v=a().getConnections(),S=!!v.find(function(b){return b.target===u&&b.targetInput===f});p.showControl=t?t({hasAnyConnection:S,input:p}):!S,p.showControl!==m&&i.update("node",h.id)}}i.addPipe(function(u){return(u.type==="connectioncreated"||u.type==="connectionremoved")&&l(u.data.target,u.data.targetInput),u})}function rv(i,t){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),r.push.apply(r,a)}return r}function Vl(i){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rv(Object(r),!0).forEach(function(a){ye(i,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):rv(Object(r)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(r,a))})}return i}function G_(i,t){var r=i,a=typeof t?.size>"u"?16:t.size,l=typeof t?.dynamic>"u"?!0:t.dynamic;function u(f){return Math.round(f/a)*a}r.addPipe(function(f){if(!f||It(f)!=="object"||!("type"in f))return f;if(l&&f.type==="nodetranslate"){var h=f.data.position,p=u(h.x),m=u(h.y);return Vl(Vl({},f),{},{data:Vl(Vl({},f.data),{},{position:{x:p,y:m}})})}if(!l&&f.type==="nodedragged"){var v=r.nodeViews.get(f.data.id);if(v){var S=v.position,b=S.x,x=S.y;v.translate(u(b),u(x))}}return f})}function Z_(i,t,r){return kd.apply(this,arguments)}function kd(){return kd=ke(ie.mark(function i(t,r,a){var l,u,f,h,p,m,v,S,b,x,_,E,T;return ie.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return l=a||{},u=l.scale,f=u===void 0?.9:u,h=t.parentScope(Ri),p=r.map(function(B){return It(B)==="object"?B:h.getNode(B)}),m=Sb(p,t.nodeViews),v=yb(m),S=[t.container.clientWidth,t.container.clientHeight],b=S[0],x=S[1],_=b/v.width,E=x/v.height,T=Math.min(E*f,_*f,1),t.area.transform.x=b/2-v.center.x*T,t.area.transform.y=x/2-v.center.y*T,A.next=12,t.area.zoom(T,0,0);case 12:case"end":return A.stop()}},i)})),kd.apply(this,arguments)}var $l=Object.freeze({__proto__:null,getBoundingBox:U_,simpleNodesOrder:I_,restrictor:L_,accumulateOnCtrl:V_,selectableNodes:q_,Selector:wb,selector:$_,showInputControl:Y_,snapGrid:G_,zoomAt:Z_});function av(i,t){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),r.push.apply(r,a)}return r}function sv(i){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?av(Object(r),!0).forEach(function(a){ye(i,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):av(Object(r)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(r,a))})}return i}function P_(i,t,r){return t=Je(t),Qn(i,xb()?Reflect.construct(t,r||[],Je(i).constructor):t.apply(i,r))}function xb(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xb=function(){return!!i})()}var X_=(function(i){function t(r){var a;return He(this,t),a=P_(this,t,["area"]),ye(a,"nodeViews",new Map),ye(a,"connectionViews",new Map),ye(a,"elements",new B_),ye(a,"onContextMenu",function(l){a.emit({type:"contextmenu",data:{event:l,context:"root"}})}),a.container=r,r.style.overflow="hidden",r.addEventListener("contextmenu",a.onContextMenu),a.addPipe(function(l){return!l||!(It(l)==="object"&&"type"in l)||(l.type==="nodecreated"&&a.addNodeView(l.data),l.type==="noderemoved"&&a.removeNodeView(l.data.id),l.type==="connectioncreated"&&a.addConnectionView(l.data),l.type==="connectionremoved"&&a.removeConnectionView(l.data.id),l.type==="render"&&a.elements.set(l.data),l.type==="unmount"&&a.elements.delete(l.data.element)),l}),a.area=new A_(r,{zoomed:function(u){return a.emit({type:"zoomed",data:u})},pointerDown:function(u,f){return void a.emit({type:"pointerdown",data:{position:u,event:f}})},pointerMove:function(u,f){return void a.emit({type:"pointermove",data:{position:u,event:f}})},pointerUp:function(u,f){return void a.emit({type:"pointerup",data:{position:u,event:f}})},resize:function(u){return void a.emit({type:"resized",data:{event:u}})},translated:function(u){return a.emit({type:"translated",data:u})},reordered:function(u){return a.emit({type:"reordered",data:{element:u}})}},{translate:function(u){return a.emit({type:"translate",data:u})},zoom:function(u){return a.emit({type:"zoom",data:u})}}),a}return tn(t,i),Ue(t,[{key:"addNodeView",value:function(a){var l=this,u=a.id,f=new H_(function(){return l.area.transform.k},{picked:function(){return void l.emit({type:"nodepicked",data:{id:u}})},translated:function(p){return l.emit({type:"nodetranslated",data:sv({id:u},p)})},dragged:function(){return void l.emit({type:"nodedragged",data:a})},contextmenu:function(p){return void l.emit({type:"contextmenu",data:{event:p,context:a}})},resized:function(p){var m=p.size;return l.emit({type:"noderesized",data:{id:a.id,size:m}})}},{translate:function(p){return l.emit({type:"nodetranslate",data:sv({id:u},p)})},resize:function(p){var m=p.size;return l.emit({type:"noderesize",data:{id:a.id,size:m}})}});return this.nodeViews.set(u,f),this.area.content.add(f.element),this.emit({type:"render",data:{element:f.element,type:"node",payload:a}}),f}},{key:"removeNodeView",value:function(a){var l=this.nodeViews.get(a);l&&(this.emit({type:"unmount",data:{element:l.element}}),this.nodeViews.delete(a),this.area.content.remove(l.element))}},{key:"addConnectionView",value:function(a){var l=this,u=new z_({contextmenu:function(h){return void l.emit({type:"contextmenu",data:{event:h,context:a}})}});return this.connectionViews.set(a.id,u),this.area.content.add(u.element),this.emit({type:"render",data:{element:u.element,type:"connection",payload:a}}),u}},{key:"removeConnectionView",value:function(a){var l=this.connectionViews.get(a);l&&(this.emit({type:"unmount",data:{element:l.element}}),this.connectionViews.delete(a),this.area.content.remove(l.element))}},{key:"update",value:(function(){var r=ke(ie.mark(function l(u,f){var h;return ie.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(h=this.elements.get(u,f),!h){m.next=4;break}return m.next=4,this.emit({type:"render",data:h});case 4:case"end":return m.stop()}},l,this)}));function a(l,u){return r.apply(this,arguments)}return a})()},{key:"resize",value:(function(){var r=ke(ie.mark(function l(u,f,h){var p;return ie.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(p=this.nodeViews.get(u),!p){v.next=5;break}return v.next=4,p.resize(f,h);case 4:return v.abrupt("return",v.sent);case 5:case"end":return v.stop()}},l,this)}));function a(l,u,f){return r.apply(this,arguments)}return a})()},{key:"translate",value:(function(){var r=ke(ie.mark(function l(u,f){var h,p,m;return ie.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(h=f.x,p=f.y,m=this.nodeViews.get(u),!m){S.next=6;break}return S.next=5,m.translate(h,p);case 5:return S.abrupt("return",S.sent);case 6:case"end":return S.stop()}},l,this)}));function a(l,u){return r.apply(this,arguments)}return a})()},{key:"destroy",value:function(){var a=this;this.container.removeEventListener("contextmenu",this.onContextMenu),Array.from(this.connectionViews.keys()).forEach(function(l){return a.removeConnectionView(l)}),Array.from(this.nodeViews.keys()).forEach(function(l){return a.removeNodeView(l)}),this.area.destroy()}}])})(is);function F_(i,t){for(;!{}.hasOwnProperty.call(i,t)&&(i=Je(i))!==null;);return i}function Qa(){return Qa=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(i,t,r){var a=F_(i,t);if(a){var l=Object.getOwnPropertyDescriptor(a,t);return l.get?l.get.call(arguments.length<3?i:r):l.value}},Qa.apply(null,arguments)}function Q_(i){if(Array.isArray(i))return i}function K_(i,t){var r=i==null?null:typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(r!=null){var a,l,u,f,h=[],p=!0,m=!1;try{if(u=(r=r.call(i)).next,t!==0)for(;!(p=(a=u.call(r)).done)&&(h.push(a.value),h.length!==t);p=!0);}catch(v){m=!0,l=v}finally{try{if(!p&&r.return!=null&&(f=r.return(),Object(f)!==f))return}finally{if(m)throw l}}return h}}function W_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kt(i,t){return Q_(i)||K_(i,t)||gb(i,t)||W_()}function ov(i,t){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),r.push.apply(r,a)}return r}function ud(i){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ov(Object(r),!0).forEach(function(a){ye(i,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):ov(Object(r)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(r,a))})}return i}function J_(i){var t=null,r=null;function a(u){r&&u.removeConnectionView(r),t=null,r=null}function l(u){a(u),r="pseudo_".concat(gr())}return{isMounted:function(){return!!r},mount:l,render:function(f,h,p){var m=h.x,v=h.y,S=p.side==="output",b={x:m+(S?-3:3),y:v};if(!r)throw new Error("pseudo connection id wasn't generated");var x=S?ud({id:r,source:p.nodeId,sourceOutput:p.key,target:"",targetInput:""},i??{}):ud({id:r,target:p.nodeId,targetInput:p.key,source:"",sourceOutput:""},i??{});if(!t){var _=f.addConnectionView(x);t=_.element}t&&f.emit({type:"render",data:ud({element:t,type:"connection",payload:x},S?{end:b}:{start:b})})},unmount:a}}function eT(i,t){var r=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!r){if(Array.isArray(i)||(r=tT(i))||t){r&&(i=r);var a=0,l=function(){};return{s:l,n:function(){return a>=i.length?{done:!0}:{done:!1,value:i[a++]}},e:function(m){throw m},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,f=!0,h=!1;return{s:function(){r=r.call(i)},n:function(){var m=r.next();return f=m.done,m},e:function(m){h=!0,u=m},f:function(){try{f||r.return==null||r.return()}finally{if(h)throw u}}}}function tT(i,t){if(i){if(typeof i=="string")return lv(i,t);var r={}.toString.call(i).slice(8,-1);return r==="Object"&&i.constructor&&(r=i.constructor.name),r==="Map"||r==="Set"?Array.from(i):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?lv(i,t):void 0}}function lv(i,t){(t==null||t>i.length)&&(t=i.length);for(var r=0,a=Array(t);r<t;r++)a[r]=i[r];return a}function nT(i,t){var r=eT(t),a;try{for(r.s();!(a=r.n()).done;){var l=a.value,u=i.get(l);if(u)return u}}catch(f){r.e(f)}finally{r.f()}}function _b(i,t){var r,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document,l=a.elementsFromPoint(i,t),u=(r=l[0])===null||r===void 0?void 0:r.shadowRoot;return u&&u!==a&&l.unshift.apply(l,Fr(_b(i,t,u))),l}var hh=(function(){function i(){He(this,i)}return Ue(i,[{key:"setContext",value:function(r){this.context=r}}])})();function Tb(i,t){var r=i.side==="output"&&t.side==="input",a=i.side==="input"&&t.side==="output",l=r?[i,t]:a?[t,i]:[],u=Kt(l,2),f=u[0],h=u[1];if(f&&h)return[f,h]}function iT(i,t){return!!Tb(i,t)}function rT(i,t,r){var a=Tb(i,t)||[null,null],l=Kt(a,2),u=l[0],f=l[1];if(u&&f)return r.editor.addConnection({id:gr(),source:u.nodeId,sourceOutput:u.key,target:f.nodeId,targetInput:f.key}),!0}function aT(i,t){var r=t.getNode(i.nodeId);if(!r)throw new Error("cannot find node");var a=i.side==="input"?r.inputs:r.outputs;return a[i.key]}function sT(i,t){var r=i.nodeId,a=i.side,l=i.key;return t.getConnections().filter(function(u){if(a==="input")return u.target===r&&u.targetInput===l;if(a==="output")return u.source===r&&u.sourceOutput===l})}function jd(i,t){var r=i.map(function(a){var l=aT(a,t),u=l?.multipleConnections;return u?[]:sT(a,t)}).flat();return{commit:function(){var l=Array.from(new Set(r.map(function(u){var f=u.id;return f})));l.forEach(function(u){return void t.removeConnection(u)})}}}function ph(i,t,r){return t=Je(t),Qn(i,Ob()?Reflect.construct(t,[],Je(i).constructor):t.apply(i,r))}function Ob(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ob=function(){return!!i})()}var oT=(function(i){function t(r,a){var l;return He(this,t),l=ph(this,t),l.initial=r,l.params=a,l}return tn(t,i),Ue(t,[{key:"pick",value:(function(){var r=ke(ie.mark(function l(u,f){var h,p;return ie.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:h=u.socket,this.params.canMakeConnection(this.initial,h)&&(jd([this.initial,h],f.editor).commit(),p=this.params.makeConnection(this.initial,h,f),this.drop(f,p?h:null,p));case 2:case"end":return v.stop()}},l,this)}));function a(l,u){return r.apply(this,arguments)}return a})()},{key:"drop",value:function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.initial&&a.scope.emit({type:"connectiondrop",data:{initial:this.initial,socket:l,created:u}}),this.context.switchTo(new mh(this.params))}}])})(hh),lT=(function(i){function t(r,a,l){var u;He(this,t),u=ph(this,t),u.connection=r,u.params=a;var f=Array.from(l.socketsCache.values()).find(function(h){return h.nodeId===u.connection.source&&h.side==="output"&&h.key===u.connection.sourceOutput});if(!f)throw new Error("cannot find output socket");return u.outputSocket=f,u}return tn(t,i),Ue(t,[{key:"init",value:(function(){var r=ke(ie.mark(function l(u){var f=this;return ie.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:u.scope.emit({type:"connectionpick",data:{socket:this.outputSocket}}).then(function(m){m?(u.editor.removeConnection(f.connection.id),f.initial=f.outputSocket):f.drop(u)});case 1:case"end":return p.stop()}},l,this)}));function a(l){return r.apply(this,arguments)}return a})()},{key:"pick",value:(function(){var r=ke(ie.mark(function l(u,f){var h,p,m,v,S,b;return ie.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:h=u.socket,p=u.event,this.initial&&!(h.side==="input"&&this.connection.target===h.nodeId&&this.connection.targetInput===h.key)?this.params.canMakeConnection(this.initial,h)&&(jd([this.initial,h],f.editor).commit(),m=this.params.makeConnection(this.initial,h,f),v=m?h:null,this.drop(f,v,m)):p==="down"&&this.initial&&(jd([this.initial,h],f.editor).commit(),S=this.params.makeConnection(this.initial,h,f),b=S?null:h,this.drop(f,b,S));case 2:case"end":return _.stop()}},l,this)}));function a(l,u){return r.apply(this,arguments)}return a})()},{key:"drop",value:function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.initial&&a.scope.emit({type:"connectiondrop",data:{initial:this.initial,socket:l,created:u}}),this.context.switchTo(new mh(this.params))}}])})(hh),mh=(function(i){function t(r){var a;return He(this,t),a=ph(this,t),a.params=r,a}return tn(t,i),Ue(t,[{key:"pick",value:(function(){var r=ke(ie.mark(function l(u,f){var h,p,m,v;return ie.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(h=u.socket,p=u.event,p==="down"){b.next=3;break}return b.abrupt("return");case 3:if(h.side!=="input"){b.next=11;break}if(m=f.editor.getConnections().find(function(x){return x.target===h.nodeId&&x.targetInput===h.key}),!m){b.next=11;break}return v=new lT(m,this.params,f),b.next=9,v.init(f);case 9:return this.context.switchTo(v),b.abrupt("return");case 11:return b.next=13,f.scope.emit({type:"connectionpick",data:{socket:h}});case 13:if(!b.sent){b.next=17;break}this.context.switchTo(new oT(h,this.params)),b.next=18;break;case 17:this.drop(f);case 18:case"end":return b.stop()}},l,this)}));function a(l,u){return r.apply(this,arguments)}return a})()},{key:"drop",value:function(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.initial&&a.scope.emit({type:"connectiondrop",data:{initial:this.initial,socket:l,created:u}}),delete this.initial}}])})(hh),uT=(function(){function i(t){He(this,i);var r=t?.canMakeConnection||iT,a=t?.makeConnection||rT;this.switchTo(new mh({canMakeConnection:r,makeConnection:a}))}return Ue(i,[{key:"pick",value:(function(){var t=ke(ie.mark(function a(l,u){return ie.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.currentState.pick(l,u);case 2:case"end":return h.stop()}},a,this)}));function r(a,l){return t.apply(this,arguments)}return r})()},{key:"getPickedSocket",value:function(){return this.currentState.initial}},{key:"switchTo",value:function(r){r.setContext(this),this.currentState=r}},{key:"drop",value:function(r){this.currentState.drop(r)}}])})();function cT(){return function(){return new uT}}var fT=Object.freeze({__proto__:null,setup:cT}),dT=Object.freeze({__proto__:null,classic:fT});function hT(i,t){var r=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!r){if(Array.isArray(i)||(r=pT(i))||t){r&&(i=r);var a=0,l=function(){};return{s:l,n:function(){return a>=i.length?{done:!0}:{done:!1,value:i[a++]}},e:function(m){throw m},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,f=!0,h=!1;return{s:function(){r=r.call(i)},n:function(){var m=r.next();return f=m.done,m},e:function(m){h=!0,u=m},f:function(){try{f||r.return==null||r.return()}finally{if(h)throw u}}}}function pT(i,t){if(i){if(typeof i=="string")return uv(i,t);var r={}.toString.call(i).slice(8,-1);return r==="Object"&&i.constructor&&(r=i.constructor.name),r==="Map"||r==="Set"?Array.from(i):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?uv(i,t):void 0}}function uv(i,t){(t==null||t>i.length)&&(t=i.length);for(var r=0,a=Array(t);r<t;r++)a[r]=i[r];return a}function mT(i,t,r){return t=Je(t),Qn(i,Cb()?Reflect.construct(t,r||[],Je(i).constructor):t.apply(i,r))}function Cb(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cb=function(){return!!i})()}function gT(i,t,r,a){var l=Qa(Je(i.prototype),t,r);return typeof l=="function"?function(u){return l.apply(r,u)}:l}var yT=(function(i){function t(){var r;return He(this,t),r=mT(this,t,["connection"]),ye(r,"presets",[]),ye(r,"currentFlow",null),ye(r,"preudoconnection",J_({isPseudo:!0})),ye(r,"socketsCache",new Map),r}return tn(t,i),Ue(t,[{key:"addPreset",value:function(a){this.presets.push(a)}},{key:"findPreset",value:function(a){var l=hT(this.presets),u;try{for(l.s();!(u=l.n()).done;){var f=u.value,h=f(a);if(h)return h}}catch(p){l.e(p)}finally{l.f()}return null}},{key:"update",value:function(){if(this.currentFlow){var a=this.currentFlow.getPickedSocket();a&&this.preudoconnection.render(this.areaPlugin,this.areaPlugin.area.pointer,a)}}},{key:"drop",value:function(){var a={editor:this.editor,scope:this,socketsCache:this.socketsCache};this.currentFlow&&(this.currentFlow.drop(a),this.preudoconnection.unmount(this.areaPlugin),this.currentFlow=null)}},{key:"pick",value:(function(){var r=ke(ie.mark(function l(u,f){var h,p,m;return ie.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(h={editor:this.editor,scope:this,socketsCache:this.socketsCache},p=_b(u.clientX,u.clientY),m=nT(this.socketsCache,p),!m){S.next=13;break}if(u.preventDefault(),u.stopPropagation(),this.currentFlow=this.currentFlow||this.findPreset(m),!this.currentFlow){S.next=11;break}return S.next=10,this.currentFlow.pick({socket:m,event:f},h);case 10:this.preudoconnection.mount(this.areaPlugin);case 11:S.next=14;break;case 13:this.currentFlow&&this.currentFlow.drop(h);case 14:this.currentFlow&&!this.currentFlow.getPickedSocket()&&(this.preudoconnection.unmount(this.areaPlugin),this.currentFlow=null),this.update();case 16:case"end":return S.stop()}},l,this)}));function a(l,u){return r.apply(this,arguments)}return a})()},{key:"setParent",value:function(a){var l=this;gT(t,"setParent",this)([a]),this.areaPlugin=this.parentScope(is),this.editor=this.areaPlugin.parentScope(Ri);var u=function(h){l.pick(h,"down")};this.addPipe(function(f){if(!f||It(f)!=="object"||!("type"in f))return f;if(f.type==="pointermove")l.update();else if(f.type==="pointerup")l.pick(f.data.event,"up");else if(f.type==="render"){if(f.data.type==="socket"){var h=f.data.element;h.addEventListener("pointerdown",u),l.socketsCache.set(h,f.data)}}else if(f.type==="unmount"){var p=f.data.element;p.removeEventListener("pointerdown",u),l.socketsCache.delete(p)}return f})}}])})(Xr),Lr=rb();const vT=uh(Lr),cv=ib({__proto__:null,default:vT},[Lr]);function bT(i,t){var r=Kt(i,2),a=r[0],l=a.x,u=a.y,f=r[1],h=f.x,p=f.y,m=Math.abs(u-p),v=l+Math.max(m/2,Math.abs(h-l))*t,S=h-Math.max(m/2,Math.abs(h-l))*t;return"M ".concat(l," ").concat(u," C ").concat(v," ").concat(u," ").concat(S," ").concat(p," ").concat(h," ").concat(p)}function ST(i,t,r){var a=Kt(i,2),l=a[0],u=l.x,f=l.y,h=a[1],p=h.x,m=h.y,v=m>f?1:-1,S=r+Math.abs(u-p)/(r/2),b=(u+p)/2,x=f-v*S,_=(m-f)*t;return`
        M `.concat(u," ").concat(f,`
        C `).concat(u+S," ").concat(f,`
        `).concat(u+S," ").concat(x-_,`
        `).concat(b," ").concat(x,`
        C `).concat(p-S," ").concat(x+_,`
        `).concat(p-S," ").concat(m,`
        `).concat(p," ").concat(m,`
    `)}function wT(i,t){return Dd.apply(this,arguments)}function Dd(){return Dd=ke(ie.mark(function i(t,r){var a,l,u,f,h;return ie.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(t.offsetParent){m.next=5;break}return m.next=3,new Promise(function(v){return setTimeout(v,0)});case 3:m.next=0;break;case 5:if(a=t.offsetLeft,l=t.offsetTop,u=t.offsetParent,u){m.next=10;break}throw new Error("child has null offsetParent");case 10:for(;u!==null&&u!==r;)a+=u.offsetLeft+u.clientLeft,l+=u.offsetTop+u.clientTop,u=u.offsetParent;return f=t.offsetWidth,h=t.offsetHeight,m.abrupt("return",{x:a+f/2,y:l+h/2});case 14:case"end":return m.stop()}},i)})),Dd.apply(this,arguments)}var xT=(function(){function i(){He(this,i),ye(this,"listeners",new Set)}return Ue(i,[{key:"emit",value:function(r){this.listeners.forEach(function(a){a(r)})}},{key:"listen",value:function(r){var a=this;return this.listeners.add(r),function(){a.listeners.delete(r)}}}])})(),_T=(function(){function i(){He(this,i),ye(this,"elements",new Map)}return Ue(i,[{key:"getPosition",value:function(r){var a,l,u=Array.from(this.elements.values()).flat(),f=u.filter(function(h){return h.side===r.side&&h.nodeId===r.nodeId&&h.key===r.key});return f.length>1&&console.warn(["Found more than one element for socket with same key and side.","Probably it was not unmounted correctly"].join(" "),r),(a=(l=f.pop())===null||l===void 0?void 0:l.position)!==null&&a!==void 0?a:null}},{key:"add",value:function(r){var a=this.elements.get(r.element);this.elements.set(r.element,a?[].concat(Fr(a.filter(function(l){return!(l.nodeId===r.nodeId&&l.key===r.key&&l.side===r.side)})),[r]):[r])}},{key:"remove",value:function(r){this.elements.delete(r)}},{key:"snapshot",value:function(){return Array.from(this.elements.values()).flat()}}])})(),TT=(function(){function i(){He(this,i),ye(this,"sockets",new _T),ye(this,"emitter",new xT),ye(this,"area",null)}return Ue(i,[{key:"attach",value:function(r){var a=this;this.area||r.hasParent()&&(this.area=r.parentScope(is),this.area.addPipe((function(){var l=ke(ie.mark(function u(f){var h,p,m,v,S,b,x,_,E,T,z;return ie.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(!(f.type==="rendered"&&f.data.type==="socket")){B.next=8;break}return h=f.data,p=h.nodeId,m=h.key,v=h.side,S=h.element,B.next=4,a.calculatePosition(p,v,m,S);case 4:b=B.sent,b&&(a.sockets.add({nodeId:p,key:m,side:v,element:S,position:b}),a.emitter.emit({nodeId:p,key:m,side:v})),B.next=24;break;case 8:if(f.type!=="unmount"){B.next=12;break}a.sockets.remove(f.data.element),B.next=24;break;case 12:if(f.type!=="nodetranslated"){B.next=16;break}a.emitter.emit({nodeId:f.data.id}),B.next=24;break;case 16:if(f.type!=="noderesized"){B.next=23;break}return x=f.data.id,B.next=20,Promise.all(a.sockets.snapshot().filter(function(N){return N.nodeId===f.data.id&&N.side==="output"}).map((function(){var N=ke(ie.mark(function H(O){var R,I,Z,j;return ie.wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return R=O.side,I=O.key,Z=O.element,oe.next=3,a.calculatePosition(x,R,I,Z);case 3:j=oe.sent,j&&(O.position=j);case 5:case"end":return oe.stop()}},H)}));return function(H){return N.apply(this,arguments)}})()));case 20:a.emitter.emit({nodeId:x}),B.next=24;break;case 23:f.type==="render"&&f.data.type==="connection"&&(_=f.data.payload,E=_.source,T=_.target,z=E||T,a.emitter.emit({nodeId:z}));case 24:return B.abrupt("return",f);case 25:case"end":return B.stop()}},u)}));return function(u){return l.apply(this,arguments)}})()))}},{key:"listen",value:function(r,a,l,u){var f=this,h=this.emitter.listen(function(p){if(p.nodeId===r&&(!p.key||p.side===a)&&(!p.side||p.key===l)){var m,v=f.sockets.getPosition({side:a,nodeId:r,key:l});if(!v)return;var S=v.x,b=v.y,x=(m=f.area)===null||m===void 0?void 0:m.nodeViews.get(r);x&&u({x:S+x.position.x,y:b+x.position.y})}});return this.sockets.snapshot().forEach(function(p){p.nodeId===r&&f.emitter.emit(p)}),h}}])})();function OT(i,t,r){return t=Je(t),Qn(i,Eb()?Reflect.construct(t,[],Je(i).constructor):t.apply(i,r))}function Eb(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Eb=function(){return!!i})()}var CT=(function(i){function t(r){var a;return He(this,t),a=OT(this,t),a.props=r,a}return tn(t,i),Ue(t,[{key:"calculatePosition",value:(function(){var r=ke(ie.mark(function l(u,f,h,p){var m,v,S,b;return ie.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(S=(m=this.area)===null||m===void 0?void 0:m.nodeViews.get(u),S!=null&&S.element){_.next=3;break}return _.abrupt("return",null);case 3:return _.next=5,wT(p,S.element);case 5:if(b=_.sent,!((v=this.props)!==null&&v!==void 0&&v.offset)){_.next=8;break}return _.abrupt("return",this.props.offset(b,u,f,h));case 8:return _.abrupt("return",{x:b.x+12*(f==="input"?-1:1),y:b.y});case 9:case"end":return _.stop()}},l,this)}));function a(l,u,f,h){return r.apply(this,arguments)}return a})()}])})(TT);function ET(i){return new CT(i)}function Zt(i,t){return t||(t=i.slice(0)),Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(t)}}))}var dn=function(){return dn=Object.assign||function(t){for(var r,a=1,l=arguments.length;a<l;a++){r=arguments[a];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(t[u]=r[u])}return t},dn.apply(this,arguments)};function pu(i,t,r){if(r||arguments.length===2)for(var a=0,l=t.length,u;a<l;a++)(u||!(a in t))&&(u||(u=Array.prototype.slice.call(t,0,a)),u[a]=t[a]);return i.concat(u||Array.prototype.slice.call(t))}var ft="-ms-",ho="-moz-",Ke="-webkit-",Nb="comm",xu="rule",gh="decl",NT="@import",kb="@keyframes",kT="@layer",jb=Math.abs,yh=String.fromCharCode,Md=Object.assign;function jT(i,t){return Ut(i,0)^45?(((t<<2^Ut(i,0))<<2^Ut(i,1))<<2^Ut(i,2))<<2^Ut(i,3):0}function Db(i){return i.trim()}function Mi(i,t){return(i=t.exec(i))?i[0]:i}function Me(i,t,r){return i.replace(t,r)}function nu(i,t,r){return i.indexOf(t,r)}function Ut(i,t){return i.charCodeAt(t)|0}function Ka(i,t,r){return i.slice(t,r)}function ri(i){return i.length}function Mb(i){return i.length}function so(i,t){return t.push(i),i}function DT(i,t){return i.map(t).join("")}function fv(i,t){return i.filter(function(r){return!Mi(r,t)})}var _u=1,Wa=1,Ab=0,Un=0,jt=0,rs="";function Tu(i,t,r,a,l,u,f,h){return{value:i,root:t,parent:r,type:a,props:l,children:u,line:_u,column:Wa,length:f,return:"",siblings:h}}function cr(i,t){return Md(Tu("",null,null,"",null,null,0,i.siblings),i,{length:-i.length},t)}function Ia(i){for(;i.root;)i=cr(i.root,{children:[i]});so(i,i.siblings)}function MT(){return jt}function AT(){return jt=Un>0?Ut(rs,--Un):0,Wa--,jt===10&&(Wa=1,_u--),jt}function Xn(){return jt=Un<Ab?Ut(rs,Un++):0,Wa++,jt===10&&(Wa=1,_u++),jt}function Yr(){return Ut(rs,Un)}function iu(){return Un}function Ou(i,t){return Ka(rs,i,t)}function Ad(i){switch(i){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function RT(i){return _u=Wa=1,Ab=ri(rs=i),Un=0,[]}function zT(i){return rs="",i}function cd(i){return Db(Ou(Un-1,Rd(i===91?i+2:i===40?i+1:i)))}function BT(i){for(;(jt=Yr())&&jt<33;)Xn();return Ad(i)>2||Ad(jt)>3?"":" "}function HT(i,t){for(;--t&&Xn()&&!(jt<48||jt>102||jt>57&&jt<65||jt>70&&jt<97););return Ou(i,iu()+(t<6&&Yr()==32&&Xn()==32))}function Rd(i){for(;Xn();)switch(jt){case i:return Un;case 34:case 39:i!==34&&i!==39&&Rd(jt);break;case 40:i===41&&Rd(i);break;case 92:Xn();break}return Un}function UT(i,t){for(;Xn()&&i+jt!==57;)if(i+jt===84&&Yr()===47)break;return"/*"+Ou(t,Un-1)+"*"+yh(i===47?i:Xn())}function IT(i){for(;!Ad(Yr());)Xn();return Ou(i,Un)}function LT(i){return zT(ru("",null,null,null,[""],i=RT(i),0,[0],i))}function ru(i,t,r,a,l,u,f,h,p){for(var m=0,v=0,S=f,b=0,x=0,_=0,E=1,T=1,z=1,A=0,B="",N=l,H=u,O=a,R=B;T;)switch(_=A,A=Xn()){case 40:if(_!=108&&Ut(R,S-1)==58){nu(R+=Me(cd(A),"&","&\f"),"&\f",jb(m?h[m-1]:0))!=-1&&(z=-1);break}case 34:case 39:case 91:R+=cd(A);break;case 9:case 10:case 13:case 32:R+=BT(_);break;case 92:R+=HT(iu()-1,7);continue;case 47:switch(Yr()){case 42:case 47:so(VT(UT(Xn(),iu()),t,r,p),p);break;default:R+="/"}break;case 123*E:h[m++]=ri(R)*z;case 125*E:case 59:case 0:switch(A){case 0:case 125:T=0;case 59+v:z==-1&&(R=Me(R,/\f/g,"")),x>0&&ri(R)-S&&so(x>32?hv(R+";",a,r,S-1,p):hv(Me(R," ","")+";",a,r,S-2,p),p);break;case 59:R+=";";default:if(so(O=dv(R,t,r,m,v,l,h,B,N=[],H=[],S,u),u),A===123)if(v===0)ru(R,t,O,O,N,u,S,h,H);else switch(b===99&&Ut(R,3)===110?100:b){case 100:case 108:case 109:case 115:ru(i,O,O,a&&so(dv(i,O,O,0,0,l,h,B,l,N=[],S,H),H),l,H,S,h,a?N:H);break;default:ru(R,O,O,O,[""],H,0,h,H)}}m=v=x=0,E=z=1,B=R="",S=f;break;case 58:S=1+ri(R),x=_;default:if(E<1){if(A==123)--E;else if(A==125&&E++==0&&AT()==125)continue}switch(R+=yh(A),A*E){case 38:z=v>0?1:(R+="\f",-1);break;case 44:h[m++]=(ri(R)-1)*z,z=1;break;case 64:Yr()===45&&(R+=cd(Xn())),b=Yr(),v=S=ri(B=R+=IT(iu())),A++;break;case 45:_===45&&ri(R)==2&&(E=0)}}return u}function dv(i,t,r,a,l,u,f,h,p,m,v,S){for(var b=l-1,x=l===0?u:[""],_=Mb(x),E=0,T=0,z=0;E<a;++E)for(var A=0,B=Ka(i,b+1,b=jb(T=f[E])),N=i;A<_;++A)(N=Db(T>0?x[A]+" "+B:Me(B,/&\f/g,x[A])))&&(p[z++]=N);return Tu(i,t,r,l===0?xu:h,p,m,v,S)}function VT(i,t,r,a){return Tu(i,t,r,Nb,yh(MT()),Ka(i,2,-2),0,a)}function hv(i,t,r,a,l){return Tu(i,t,r,gh,Ka(i,0,a),Ka(i,a+1,-1),a,l)}function Rb(i,t,r){switch(jT(i,t)){case 5103:return Ke+"print-"+i+i;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ke+i+i;case 4789:return ho+i+i;case 5349:case 4246:case 4810:case 6968:case 2756:return Ke+i+ho+i+ft+i+i;case 5936:switch(Ut(i,t+11)){case 114:return Ke+i+ft+Me(i,/[svh]\w+-[tblr]{2}/,"tb")+i;case 108:return Ke+i+ft+Me(i,/[svh]\w+-[tblr]{2}/,"tb-rl")+i;case 45:return Ke+i+ft+Me(i,/[svh]\w+-[tblr]{2}/,"lr")+i}case 6828:case 4268:case 2903:return Ke+i+ft+i+i;case 6165:return Ke+i+ft+"flex-"+i+i;case 5187:return Ke+i+Me(i,/(\w+).+(:[^]+)/,Ke+"box-$1$2"+ft+"flex-$1$2")+i;case 5443:return Ke+i+ft+"flex-item-"+Me(i,/flex-|-self/g,"")+(Mi(i,/flex-|baseline/)?"":ft+"grid-row-"+Me(i,/flex-|-self/g,""))+i;case 4675:return Ke+i+ft+"flex-line-pack"+Me(i,/align-content|flex-|-self/g,"")+i;case 5548:return Ke+i+ft+Me(i,"shrink","negative")+i;case 5292:return Ke+i+ft+Me(i,"basis","preferred-size")+i;case 6060:return Ke+"box-"+Me(i,"-grow","")+Ke+i+ft+Me(i,"grow","positive")+i;case 4554:return Ke+Me(i,/([^-])(transform)/g,"$1"+Ke+"$2")+i;case 6187:return Me(Me(Me(i,/(zoom-|grab)/,Ke+"$1"),/(image-set)/,Ke+"$1"),i,"")+i;case 5495:case 3959:return Me(i,/(image-set\([^]*)/,Ke+"$1$`$1");case 4968:return Me(Me(i,/(.+:)(flex-)?(.*)/,Ke+"box-pack:$3"+ft+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ke+i+i;case 4200:if(!Mi(i,/flex-|baseline/))return ft+"grid-column-align"+Ka(i,t)+i;break;case 2592:case 3360:return ft+Me(i,"template-","")+i;case 4384:case 3616:return r&&r.some(function(a,l){return t=l,Mi(a.props,/grid-\w+-end/)})?~nu(i+(r=r[t].value),"span",0)?i:ft+Me(i,"-start","")+i+ft+"grid-row-span:"+(~nu(r,"span",0)?Mi(r,/\d+/):+Mi(r,/\d+/)-+Mi(i,/\d+/))+";":ft+Me(i,"-start","")+i;case 4896:case 4128:return r&&r.some(function(a){return Mi(a.props,/grid-\w+-start/)})?i:ft+Me(Me(i,"-end","-span"),"span ","")+i;case 4095:case 3583:case 4068:case 2532:return Me(i,/(.+)-inline(.+)/,Ke+"$1$2")+i;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ri(i)-1-t>6)switch(Ut(i,t+1)){case 109:if(Ut(i,t+4)!==45)break;case 102:return Me(i,/(.+:)(.+)-([^]+)/,"$1"+Ke+"$2-$3$1"+ho+(Ut(i,t+3)==108?"$3":"$2-$3"))+i;case 115:return~nu(i,"stretch",0)?Rb(Me(i,"stretch","fill-available"),t,r)+i:i}break;case 5152:case 5920:return Me(i,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(a,l,u,f,h,p,m){return ft+l+":"+u+m+(f?ft+l+"-span:"+(h?p:+p-+u)+m:"")+i});case 4949:if(Ut(i,t+6)===121)return Me(i,":",":"+Ke)+i;break;case 6444:switch(Ut(i,Ut(i,14)===45?18:11)){case 120:return Me(i,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Ke+(Ut(i,14)===45?"inline-":"")+"box$3$1"+Ke+"$2$3$1"+ft+"$2box$3")+i;case 100:return Me(i,":",":"+ft)+i}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Me(i,"scroll-","scroll-snap-")+i}return i}function mu(i,t){for(var r="",a=0;a<i.length;a++)r+=t(i[a],a,i,t)||"";return r}function $T(i,t,r,a){switch(i.type){case kT:if(i.children.length)break;case NT:case gh:return i.return=i.return||i.value;case Nb:return"";case kb:return i.return=i.value+"{"+mu(i.children,a)+"}";case xu:if(!ri(i.value=i.props.join(",")))return""}return ri(r=mu(i.children,a))?i.return=i.value+"{"+r+"}":""}function qT(i){var t=Mb(i);return function(r,a,l,u){for(var f="",h=0;h<t;h++)f+=i[h](r,a,l,u)||"";return f}}function YT(i){return function(t){t.root||(t=t.return)&&i(t)}}function GT(i,t,r,a){if(i.length>-1&&!i.return)switch(i.type){case gh:i.return=Rb(i.value,i.length,r);return;case kb:return mu([cr(i,{value:Me(i.value,"@","@"+Ke)})],a);case xu:if(i.length)return DT(r=i.props,function(l){switch(Mi(l,a=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Ia(cr(i,{props:[Me(l,/:(read-\w+)/,":"+ho+"$1")]})),Ia(cr(i,{props:[l]})),Md(i,{props:fv(r,a)});break;case"::placeholder":Ia(cr(i,{props:[Me(l,/:(plac\w+)/,":"+Ke+"input-$1")]})),Ia(cr(i,{props:[Me(l,/:(plac\w+)/,":"+ho+"$1")]})),Ia(cr(i,{props:[Me(l,/:(plac\w+)/,ft+"input-$1")]})),Ia(cr(i,{props:[l]})),Md(i,{props:fv(r,a)});break}return""})}}var ZT={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Sn={},Ja=typeof process<"u"&&Sn!==void 0&&(Sn.REACT_APP_SC_ATTR||Sn.SC_ATTR)||"data-styled",zb="active",Bb="data-styled-version",Cu="6.1.19",vh=`/*!sc*/
`,gu=typeof window<"u"&&typeof document<"u",PT=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Sn!==void 0&&Sn.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Sn.REACT_APP_SC_DISABLE_SPEEDY!==""?Sn.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Sn.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Sn!==void 0&&Sn.SC_DISABLE_SPEEDY!==void 0&&Sn.SC_DISABLE_SPEEDY!==""&&Sn.SC_DISABLE_SPEEDY!=="false"&&Sn.SC_DISABLE_SPEEDY),Eu=Object.freeze([]),es=Object.freeze({});function XT(i,t,r){return r===void 0&&(r=es),i.theme!==r.theme&&i.theme||t||r.theme}var Hb=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),FT=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,QT=/(^-|-$)/g;function pv(i){return i.replace(FT,"-").replace(QT,"")}var KT=/(a)(d)/gi,ql=52,mv=function(i){return String.fromCharCode(i+(i>25?39:97))};function zd(i){var t,r="";for(t=Math.abs(i);t>ql;t=t/ql|0)r=mv(t%ql)+r;return(mv(t%ql)+r).replace(KT,"$1-$2")}var fd,Ub=5381,Ya=function(i,t){for(var r=t.length;r;)i=33*i^t.charCodeAt(--r);return i},Ib=function(i){return Ya(Ub,i)};function WT(i){return zd(Ib(i)>>>0)}function JT(i){return i.displayName||i.name||"Component"}function dd(i){return typeof i=="string"&&!0}var Lb=typeof Symbol=="function"&&Symbol.for,Vb=Lb?Symbol.for("react.memo"):60115,eO=Lb?Symbol.for("react.forward_ref"):60112,tO={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},nO={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},$b={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},iO=((fd={})[eO]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},fd[Vb]=$b,fd);function gv(i){return("type"in(t=i)&&t.type.$$typeof)===Vb?$b:"$$typeof"in i?iO[i.$$typeof]:tO;var t}var rO=Object.defineProperty,aO=Object.getOwnPropertyNames,yv=Object.getOwnPropertySymbols,sO=Object.getOwnPropertyDescriptor,oO=Object.getPrototypeOf,vv=Object.prototype;function qb(i,t,r){if(typeof t!="string"){if(vv){var a=oO(t);a&&a!==vv&&qb(i,a,r)}var l=aO(t);yv&&(l=l.concat(yv(t)));for(var u=gv(i),f=gv(t),h=0;h<l.length;++h){var p=l[h];if(!(p in nO||r&&r[p]||f&&p in f||u&&p in u)){var m=sO(t,p);try{rO(i,p,m)}catch{}}}}return i}function ts(i){return typeof i=="function"}function bh(i){return typeof i=="object"&&"styledComponentId"in i}function Vr(i,t){return i&&t?"".concat(i," ").concat(t):i||t||""}function bv(i,t){if(i.length===0)return"";for(var r=i[0],a=1;a<i.length;a++)r+=i[a];return r}function yo(i){return i!==null&&typeof i=="object"&&i.constructor.name===Object.name&&!("props"in i&&i.$$typeof)}function Bd(i,t,r){if(r===void 0&&(r=!1),!r&&!yo(i)&&!Array.isArray(i))return t;if(Array.isArray(t))for(var a=0;a<t.length;a++)i[a]=Bd(i[a],t[a]);else if(yo(t))for(var a in t)i[a]=Bd(i[a],t[a]);return i}function Sh(i,t){Object.defineProperty(i,"toString",{value:t})}function So(i){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(i," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var lO=(function(){function i(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return i.prototype.indexOfGroup=function(t){for(var r=0,a=0;a<t;a++)r+=this.groupSizes[a];return r},i.prototype.insertRules=function(t,r){if(t>=this.groupSizes.length){for(var a=this.groupSizes,l=a.length,u=l;t>=u;)if((u<<=1)<0)throw So(16,"".concat(t));this.groupSizes=new Uint32Array(u),this.groupSizes.set(a),this.length=u;for(var f=l;f<u;f++)this.groupSizes[f]=0}for(var h=this.indexOfGroup(t+1),p=(f=0,r.length);f<p;f++)this.tag.insertRule(h,r[f])&&(this.groupSizes[t]++,h++)},i.prototype.clearGroup=function(t){if(t<this.length){var r=this.groupSizes[t],a=this.indexOfGroup(t),l=a+r;this.groupSizes[t]=0;for(var u=a;u<l;u++)this.tag.deleteRule(a)}},i.prototype.getGroup=function(t){var r="";if(t>=this.length||this.groupSizes[t]===0)return r;for(var a=this.groupSizes[t],l=this.indexOfGroup(t),u=l+a,f=l;f<u;f++)r+="".concat(this.tag.getRule(f)).concat(vh);return r},i})(),au=new Map,yu=new Map,su=1,Yl=function(i){if(au.has(i))return au.get(i);for(;yu.has(su);)su++;var t=su++;return au.set(i,t),yu.set(t,i),t},uO=function(i,t){su=t+1,au.set(i,t),yu.set(t,i)},cO="style[".concat(Ja,"][").concat(Bb,'="').concat(Cu,'"]'),fO=new RegExp("^".concat(Ja,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),dO=function(i,t,r){for(var a,l=r.split(","),u=0,f=l.length;u<f;u++)(a=l[u])&&i.registerName(t,a)},hO=function(i,t){for(var r,a=((r=t.textContent)!==null&&r!==void 0?r:"").split(vh),l=[],u=0,f=a.length;u<f;u++){var h=a[u].trim();if(h){var p=h.match(fO);if(p){var m=0|parseInt(p[1],10),v=p[2];m!==0&&(uO(v,m),dO(i,v,p[3]),i.getTag().insertRules(m,l)),l.length=0}else l.push(h)}}},Sv=function(i){for(var t=document.querySelectorAll(cO),r=0,a=t.length;r<a;r++){var l=t[r];l&&l.getAttribute(Ja)!==zb&&(hO(i,l),l.parentNode&&l.parentNode.removeChild(l))}};function pO(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Yb=function(i){var t=document.head,r=i||t,a=document.createElement("style"),l=(function(h){var p=Array.from(h.querySelectorAll("style[".concat(Ja,"]")));return p[p.length-1]})(r),u=l!==void 0?l.nextSibling:null;a.setAttribute(Ja,zb),a.setAttribute(Bb,Cu);var f=pO();return f&&a.setAttribute("nonce",f),r.insertBefore(a,u),a},mO=(function(){function i(t){this.element=Yb(t),this.element.appendChild(document.createTextNode("")),this.sheet=(function(r){if(r.sheet)return r.sheet;for(var a=document.styleSheets,l=0,u=a.length;l<u;l++){var f=a[l];if(f.ownerNode===r)return f}throw So(17)})(this.element),this.length=0}return i.prototype.insertRule=function(t,r){try{return this.sheet.insertRule(r,t),this.length++,!0}catch{return!1}},i.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},i.prototype.getRule=function(t){var r=this.sheet.cssRules[t];return r&&r.cssText?r.cssText:""},i})(),gO=(function(){function i(t){this.element=Yb(t),this.nodes=this.element.childNodes,this.length=0}return i.prototype.insertRule=function(t,r){if(t<=this.length&&t>=0){var a=document.createTextNode(r);return this.element.insertBefore(a,this.nodes[t]||null),this.length++,!0}return!1},i.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},i.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},i})(),yO=(function(){function i(t){this.rules=[],this.length=0}return i.prototype.insertRule=function(t,r){return t<=this.length&&(this.rules.splice(t,0,r),this.length++,!0)},i.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},i.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},i})(),wv=gu,vO={isServer:!gu,useCSSOMInjection:!PT},Gb=(function(){function i(t,r,a){t===void 0&&(t=es),r===void 0&&(r={});var l=this;this.options=dn(dn({},vO),t),this.gs=r,this.names=new Map(a),this.server=!!t.isServer,!this.server&&gu&&wv&&(wv=!1,Sv(this)),Sh(this,function(){return(function(u){for(var f=u.getTag(),h=f.length,p="",m=function(S){var b=(function(z){return yu.get(z)})(S);if(b===void 0)return"continue";var x=u.names.get(b),_=f.getGroup(S);if(x===void 0||!x.size||_.length===0)return"continue";var E="".concat(Ja,".g").concat(S,'[id="').concat(b,'"]'),T="";x!==void 0&&x.forEach(function(z){z.length>0&&(T+="".concat(z,","))}),p+="".concat(_).concat(E,'{content:"').concat(T,'"}').concat(vh)},v=0;v<h;v++)m(v);return p})(l)})}return i.registerId=function(t){return Yl(t)},i.prototype.rehydrate=function(){!this.server&&gu&&Sv(this)},i.prototype.reconstructWithOptions=function(t,r){return r===void 0&&(r=!0),new i(dn(dn({},this.options),t),this.gs,r&&this.names||void 0)},i.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},i.prototype.getTag=function(){return this.tag||(this.tag=(t=(function(r){var a=r.useCSSOMInjection,l=r.target;return r.isServer?new yO(l):a?new mO(l):new gO(l)})(this.options),new lO(t)));var t},i.prototype.hasNameForId=function(t,r){return this.names.has(t)&&this.names.get(t).has(r)},i.prototype.registerName=function(t,r){if(Yl(t),this.names.has(t))this.names.get(t).add(r);else{var a=new Set;a.add(r),this.names.set(t,a)}},i.prototype.insertRules=function(t,r,a){this.registerName(t,r),this.getTag().insertRules(Yl(t),a)},i.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},i.prototype.clearRules=function(t){this.getTag().clearGroup(Yl(t)),this.clearNames(t)},i.prototype.clearTag=function(){this.tag=void 0},i})(),bO=/&/g,SO=/^\s*\/\/.*$/gm;function Zb(i,t){return i.map(function(r){return r.type==="rule"&&(r.value="".concat(t," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(t," ")),r.props=r.props.map(function(a){return"".concat(t," ").concat(a)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=Zb(r.children,t)),r})}function wO(i){var t,r,a,l=es,u=l.options,f=u===void 0?es:u,h=l.plugins,p=h===void 0?Eu:h,m=function(b,x,_){return _.startsWith(r)&&_.endsWith(r)&&_.replaceAll(r,"").length>0?".".concat(t):b},v=p.slice();v.push(function(b){b.type===xu&&b.value.includes("&")&&(b.props[0]=b.props[0].replace(bO,r).replace(a,m))}),f.prefix&&v.push(GT),v.push($T);var S=function(b,x,_,E){x===void 0&&(x=""),_===void 0&&(_=""),E===void 0&&(E="&"),t=E,r=x,a=new RegExp("\\".concat(r,"\\b"),"g");var T=b.replace(SO,""),z=LT(_||x?"".concat(_," ").concat(x," { ").concat(T," }"):T);f.namespace&&(z=Zb(z,f.namespace));var A=[];return mu(z,qT(v.concat(YT(function(B){return A.push(B)})))),A};return S.hash=p.length?p.reduce(function(b,x){return x.name||So(15),Ya(b,x.name)},Ub).toString():"",S}var xO=new Gb,Hd=wO(),Pb=Zr.createContext({shouldForwardProp:void 0,styleSheet:xO,stylis:Hd});Pb.Consumer;Zr.createContext(void 0);function xv(){return D.useContext(Pb)}var _O=(function(){function i(t,r){var a=this;this.inject=function(l,u){u===void 0&&(u=Hd);var f=a.name+u.hash;l.hasNameForId(a.id,f)||l.insertRules(a.id,f,u(a.rules,f,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=r,Sh(this,function(){throw So(12,String(a.name))})}return i.prototype.getName=function(t){return t===void 0&&(t=Hd),this.name+t.hash},i})(),TO=function(i){return i>="A"&&i<="Z"};function _v(i){for(var t="",r=0;r<i.length;r++){var a=i[r];if(r===1&&a==="-"&&i[0]==="-")return i;TO(a)?t+="-"+a.toLowerCase():t+=a}return t.startsWith("ms-")?"-"+t:t}var Xb=function(i){return i==null||i===!1||i===""},Fb=function(i){var t,r,a=[];for(var l in i){var u=i[l];i.hasOwnProperty(l)&&!Xb(u)&&(Array.isArray(u)&&u.isCss||ts(u)?a.push("".concat(_v(l),":"),u,";"):yo(u)?a.push.apply(a,pu(pu(["".concat(l," {")],Fb(u),!1),["}"],!1)):a.push("".concat(_v(l),": ").concat((t=l,(r=u)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||t in ZT||t.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return a};function Gr(i,t,r,a){if(Xb(i))return[];if(bh(i))return[".".concat(i.styledComponentId)];if(ts(i)){if(!ts(u=i)||u.prototype&&u.prototype.isReactComponent||!t)return[i];var l=i(t);return Gr(l,t,r,a)}var u;return i instanceof _O?r?(i.inject(r,a),[i.getName(a)]):[i]:yo(i)?Fb(i):Array.isArray(i)?Array.prototype.concat.apply(Eu,i.map(function(f){return Gr(f,t,r,a)})):[i.toString()]}function OO(i){for(var t=0;t<i.length;t+=1){var r=i[t];if(ts(r)&&!bh(r))return!1}return!0}var CO=Ib(Cu),EO=(function(){function i(t,r,a){this.rules=t,this.staticRulesId="",this.isStatic=(a===void 0||a.isStatic)&&OO(t),this.componentId=r,this.baseHash=Ya(CO,r),this.baseStyle=a,Gb.registerId(r)}return i.prototype.generateAndInjectStyles=function(t,r,a){var l=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,r,a):"";if(this.isStatic&&!a.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))l=Vr(l,this.staticRulesId);else{var u=bv(Gr(this.rules,t,r,a)),f=zd(Ya(this.baseHash,u)>>>0);if(!r.hasNameForId(this.componentId,f)){var h=a(u,".".concat(f),void 0,this.componentId);r.insertRules(this.componentId,f,h)}l=Vr(l,f),this.staticRulesId=f}else{for(var p=Ya(this.baseHash,a.hash),m="",v=0;v<this.rules.length;v++){var S=this.rules[v];if(typeof S=="string")m+=S;else if(S){var b=bv(Gr(S,t,r,a));p=Ya(p,b+v),m+=b}}if(m){var x=zd(p>>>0);r.hasNameForId(this.componentId,x)||r.insertRules(this.componentId,x,a(m,".".concat(x),void 0,this.componentId)),l=Vr(l,x)}}return l},i})(),Qb=Zr.createContext(void 0);Qb.Consumer;var hd={};function NO(i,t,r){var a=bh(i),l=i,u=!dd(i),f=t.attrs,h=f===void 0?Eu:f,p=t.componentId,m=p===void 0?(function(N,H){var O=typeof N!="string"?"sc":pv(N);hd[O]=(hd[O]||0)+1;var R="".concat(O,"-").concat(WT(Cu+O+hd[O]));return H?"".concat(H,"-").concat(R):R})(t.displayName,t.parentComponentId):p,v=t.displayName,S=v===void 0?(function(N){return dd(N)?"styled.".concat(N):"Styled(".concat(JT(N),")")})(i):v,b=t.displayName&&t.componentId?"".concat(pv(t.displayName),"-").concat(t.componentId):t.componentId||m,x=a&&l.attrs?l.attrs.concat(h).filter(Boolean):h,_=t.shouldForwardProp;if(a&&l.shouldForwardProp){var E=l.shouldForwardProp;if(t.shouldForwardProp){var T=t.shouldForwardProp;_=function(N,H){return E(N,H)&&T(N,H)}}else _=E}var z=new EO(r,b,a?l.componentStyle:void 0);function A(N,H){return(function(O,R,I){var Z=O.attrs,j=O.componentStyle,W=O.defaultProps,oe=O.foldedComponentIds,ue=O.styledComponentId,de=O.target,pe=Zr.useContext(Qb),$=xv(),X=O.shouldForwardProp||$.shouldForwardProp,ee=XT(R,pe,W)||es,ae=(function(be,_e,Ne){for(var K,J=dn(dn({},_e),{className:void 0,theme:Ne}),ge=0;ge<be.length;ge+=1){var ce=ts(K=be[ge])?K(J):K;for(var Oe in ce)J[Oe]=Oe==="className"?Vr(J[Oe],ce[Oe]):Oe==="style"?dn(dn({},J[Oe]),ce[Oe]):ce[Oe]}return _e.className&&(J.className=Vr(J.className,_e.className)),J})(Z,R,ee),me=ae.as||de,k={};for(var Y in ae)ae[Y]===void 0||Y[0]==="$"||Y==="as"||Y==="theme"&&ae.theme===ee||(Y==="forwardedAs"?k.as=ae.forwardedAs:X&&!X(Y,me)||(k[Y]=ae[Y]));var te=(function(be,_e){var Ne=xv(),K=be.generateAndInjectStyles(_e,Ne.styleSheet,Ne.stylis);return K})(j,ae),re=Vr(oe,ue);return te&&(re+=" "+te),ae.className&&(re+=" "+ae.className),k[dd(me)&&!Hb.has(me)?"class":"className"]=re,I&&(k.ref=I),D.createElement(me,k)})(B,N,H)}A.displayName=S;var B=Zr.forwardRef(A);return B.attrs=x,B.componentStyle=z,B.displayName=S,B.shouldForwardProp=_,B.foldedComponentIds=a?Vr(l.foldedComponentIds,l.styledComponentId):"",B.styledComponentId=b,B.target=a?l.target:i,Object.defineProperty(B,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(N){this._foldedDefaultProps=a?(function(H){for(var O=[],R=1;R<arguments.length;R++)O[R-1]=arguments[R];for(var I=0,Z=O;I<Z.length;I++)Bd(H,Z[I],!0);return H})({},l.defaultProps,N):N}}),Sh(B,function(){return".".concat(B.styledComponentId)}),u&&qb(B,i,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),B}function Tv(i,t){for(var r=[i[0]],a=0,l=t.length;a<l;a+=1)r.push(t[a],i[a+1]);return r}var Ov=function(i){return Object.assign(i,{isCss:!0})};function wh(i){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(ts(i)||yo(i))return Ov(Gr(Tv(Eu,pu([i],t,!0))));var a=i;return t.length===0&&a.length===1&&typeof a[0]=="string"?Gr(a):Ov(Gr(Tv(a,t)))}function Ud(i,t,r){if(r===void 0&&(r=es),!t)throw So(1,t);var a=function(l){for(var u=[],f=1;f<arguments.length;f++)u[f-1]=arguments[f];return i(t,r,wh.apply(void 0,pu([l],u,!1)))};return a.attrs=function(l){return Ud(i,t,dn(dn({},r),{attrs:Array.prototype.concat(r.attrs,l).filter(Boolean)}))},a.withConfig=function(l){return Ud(i,t,dn(dn({},r),l))},a}var Kb=function(i){return Ud(NO,i)},Wt=Kb;Hb.forEach(function(i){Wt[i]=Kb(i)});function Pr(){return Pr=Object.assign?Object.assign.bind():function(i){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(i[a]=r[a])}return i},Pr.apply(null,arguments)}function kO(i,t){if(i==null)return{};var r={};for(var a in i)if({}.hasOwnProperty.call(i,a)){if(t.indexOf(a)!==-1)continue;r[a]=i[a]}return r}function xh(i,t){if(i==null)return{};var r,a,l=kO(i,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(a=0;a<u.length;a++)r=u[a],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(i,r)&&(l[r]=i[r])}return l}function jO(i){var t=i?.createRoot,r=new WeakMap;function a(f){var h=r.get(f);if(h)return h;var p=document.createElement("span");return f.appendChild(p),r.set(f,p),p}function l(f){var h=r.get(f);h&&(h.remove(),r.delete(f))}if(t){var u=new WeakMap;return{mount:function(h,p){var m,v=a(p),S=u.get(v);return S||(S=t(v),u.set(v,S)),S.render(h),(m=v.firstElementChild)!==null&&m!==void 0?m:v},unmount:function(h){var p=a(h),m=u.get(p);m&&(m.unmount(),u.delete(p)),l(h)}}}return{mount:function(h,p){var m=a(p);if("render"in cv&&typeof Lr.render=="function"){var v=Lr.render(h,m);return v||m}throw new Error("ReactDOM.render is not available")},unmount:function(h){var p=a(h);if("unmountComponentAtNode"in cv&&typeof Lr.unmountComponentAtNode=="function")Lr.unmountComponentAtNode(p);else throw new Error("ReactDOM.unmountComponentAtNode is not available");l(h)}}}function DO(i){var t=i.children,r=i.rendered;return D.useEffect(function(){r()}),t}function MO(){var i=D.useRef(!1);return D.useEffect(function(){i.current=!0},[]),{apply:function(r){i.current?queueMicrotask(function(){Lr.flushSync(r)}):r()}}}var Wb=D.createContext({start:null,end:null,path:null});function AO(i){var t=i.children,r=D.useState(null),a=Kt(r,2),l=a[0],u=a[1],f=D.useState(null),h=Kt(f,2),p=h[0],m=h[1],v=D.useState(null),S=Kt(v,2),b=S[0],x=S[1],_="x"in i.start?i.start:l,E="x"in i.end?i.end:p,T=MO();return D.useEffect(function(){var z=typeof i.start=="function"&&i.start(function(B){T.apply(function(){u(B)})}),A=typeof i.end=="function"&&i.end(function(B){T.apply(function(){m(B)})});return function(){z&&z(),A&&A()}},[]),D.useEffect(function(){_&&E&&i.path(_,E).then(function(z){T.apply(function(){x(z)})})},[_,E]),D.createElement(Wb.Provider,{value:{start:_,end:E,path:b}},t)}function Jb(){return D.useContext(Wb)}var Cv,Ev,RO=Wt.svg(Cv||(Cv=Zt([`
    overflow: visible !important;
    position: absolute;
    pointer-events: none;
    width: 9999px;
    height: 9999px;
`]))),zO=Wt.path(Ev||(Ev=Zt([`
    fill: none;
    stroke-width: 5px;
    stroke: steelblue;
    pointer-events: auto;
    `,`
`])),function(i){var t;return(t=i.styles)===null||t===void 0?void 0:t.call(i,i)});function e1(i){var t=Jb(),r=t.path;return r?D.createElement(RO,{"data-testid":"connection"},D.createElement(zO,{styles:i.styles,d:r})):null}function BO(i,t){var r=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!r){if(Array.isArray(i)||(r=HO(i))||t){r&&(i=r);var a=0,l=function(){};return{s:l,n:function(){return a>=i.length?{done:!0}:{done:!1,value:i[a++]}},e:function(m){throw m},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,f=!0,h=!1;return{s:function(){r=r.call(i)},n:function(){var m=r.next();return f=m.done,m},e:function(m){h=!0,u=m},f:function(){try{f||r.return==null||r.return()}finally{if(h)throw u}}}}function HO(i,t){if(i){if(typeof i=="string")return Nv(i,t);var r={}.toString.call(i).slice(8,-1);return r==="Object"&&i.constructor&&(r=i.constructor.name),r==="Map"||r==="Set"?Array.from(i):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Nv(i,t):void 0}}function Nv(i,t){(t==null||t>i.length)&&(t=i.length);for(var r=0,a=Array(t);r<t;r++)a[r]=i[r];return a}function UO(i){for(var t=new i.constructor(i.type),r=t;r=Object.getPrototypeOf(r);){var a=Object.getOwnPropertyNames(r),l=BO(a),u;try{for(l.s();!(u=l.n()).done;){var f=u.value,h=t[f];typeof h!="function"&&Object.defineProperty(t,f,{value:i[f]})}}catch(p){l.e(p)}finally{l.f()}}return t}var IO="__reactContainer$";function LO(i){for(var t=i;t;){if(t._reactRootContainer||Object.keys(t).some(function(r){return r.startsWith(IO)}))return t;t=t.parentElement}}function kv(i,t){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),r.push.apply(r,a)}return r}function jv(i){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kv(Object(r),!0).forEach(function(a){ye(i,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):kv(Object(r)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(r,a))})}return i}function t1(i,t){return{start:function(a){var l=jv({},t(a));function u(h){var p=jv({},t(h)),m=p.x-l.x,v=p.y-l.y;l=p,i(m,v)}function f(){window.removeEventListener("pointermove",u),window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",f)}window.addEventListener("pointermove",u),window.addEventListener("pointerup",f),window.addEventListener("pointercancel",f)}}}function VO(i,t){D.useEffect(function(){var r=function(u){if(!t){var f=LO(u.target),h=D.version.startsWith("16")?document:f;h&&(u.stopPropagation(),h.dispatchEvent(UO(u)))}},a=i.current;return a?.addEventListener("pointerdown",r),function(){a?.removeEventListener("pointerdown",r)}},[i,t])}var Dv,$O=Wt.input(Dv||(Dv=Zt([`
  width: 100%;
  border-radius: 30px;
  background-color: white;
  padding: 2px 6px;
  border: 1px solid #999;
  font-size: 110%;
  box-sizing: border-box;
  `,`
`])),function(i){var t;return(t=i.styles)===null||t===void 0?void 0:t.call(i,i)});function Id(i){var t=D.useState(i.data.value),r=Kt(t,2),a=r[0],l=r[1],u=D.useRef(null);return VO(u),D.useEffect(function(){l(i.data.value)},[i.data.value]),D.createElement($O,{value:a,type:i.data.type,ref:u,readOnly:i.data.readonly,onChange:function(h){var p=i.data.type==="number"?+h.target.value:h.target.value;l(p),i.data.setValue(p)},styles:i.styles})}var Ld="rgba(110,136,255,0.8)",n1="#ffd92c",ai=24,Ai=6,i1="#96b38a",r1=180,qO=Object.freeze({__proto__:null,$nodecolor:Ld,$nodecolorselected:n1,$socketsize:ai,$socketmargin:Ai,$socketcolor:i1,$nodewidth:r1}),YO=["init","unmount"];function Qe(i){var t=i.init,r=i.unmount,a=xh(i,YO),l=D.useRef(null);return D.useEffect(function(){var u=l.current;return function(){u&&r(u)}},[]),D.useEffect(function(){l.current&&t(l.current)}),D.createElement("span",Pr({},a,{ref:l}))}var GO=["name","emit","payload"];function Vd(i){var t=i.name,r=i.emit,a=i.payload,l=xh(i,GO);return D.createElement(Qe,Pr({},l,{className:t,init:function(f){r({type:"render",data:{type:"control",element:f,payload:a}})},unmount:function(f){r({type:"unmount",data:{element:f}})}}))}var ZO=["name","emit","nodeId","side","socketKey","payload"];function $d(i){var t=i.name,r=i.emit,a=i.nodeId,l=i.side,u=i.socketKey,f=i.payload,h=xh(i,ZO);return D.createElement(Qe,Pr({},h,{className:t,init:function(m){r({type:"render",data:{type:"socket",side:l,key:u,nodeId:a,element:m,payload:f}})},unmount:function(m){r({type:"unmount",data:{element:m}})}}))}var Mv,Av,a1=Wt.div(Mv||(Mv=Zt([`
    background: `,`;
    border: 2px solid #4e58bf;
    border-radius: 10px;
    cursor: pointer;
    box-sizing: border-box;
    width: `,`;
    height: `,`;
    padding-bottom: 6px;
    position: relative;
    user-select: none;
    line-height: initial;
    font-family: Arial;

    &:hover {
        background: lighten(`,`,4%);
    }
    `,`
    .title {
        color: white;
        font-family: sans-serif;
        font-size: 18px;
        padding: 8px;
    }
    .output {
        text-align: right;
    }
    .input {
        text-align: left;
    }
    .output-socket {
        text-align: right;
        margin-right: -`,`px;
        display: inline-block;
    }
    .input-socket {
        text-align: left;
        margin-left: -`,`px;
        display: inline-block;
    }
    .input-title,.output-title {
        vertical-align: middle;
        color: white;
        display: inline-block;
        font-family: sans-serif;
        font-size: 14px;
        margin: `,`px;
        line-height: `,`px;
    }
    .input-control {
        z-index: 1;
        width: calc(100% - `,`px);
        vertical-align: middle;
        display: inline-block;
    }
    .control {
        display: block;
        padding: `,"px ",`px;
    }
    `,`
`])),Ld,function(i){return Number.isFinite(i.width)?"".concat(i.width,"px"):"".concat(r1,"px")},function(i){return Number.isFinite(i.height)?"".concat(i.height,"px"):"auto"},Ld,function(i){return i.selected&&wh(Av||(Av=Zt([`
        background: `,`;
        border-color: #e3c000;
    `])),n1)},ai/2+Ai,ai/2+Ai,Ai,ai,ai+2*Ai,Ai,ai/2+Ai,function(i){var t;return(t=i.styles)===null||t===void 0?void 0:t.call(i,i)});function pd(i){i.sort(function(t,r){var a,l,u=((a=t[1])===null||a===void 0?void 0:a.index)||0,f=((l=r[1])===null||l===void 0?void 0:l.index)||0;return u-f})}function s1(i){var t=Object.entries(i.data.inputs),r=Object.entries(i.data.outputs),a=Object.entries(i.data.controls),l=i.data.selected||!1,u=i.data,f=u.id,h=u.label,p=u.width,m=u.height;return pd(t),pd(r),pd(a),D.createElement(a1,{selected:l,width:p,height:m,styles:i.styles,"data-testid":"node"},D.createElement("div",{className:"title","data-testid":"title"},h),r.map(function(v){var S=Kt(v,2),b=S[0],x=S[1];return x&&D.createElement("div",{className:"output",key:b,"data-testid":"output-".concat(b)},D.createElement("div",{className:"output-title","data-testid":"output-title"},x.label),D.createElement($d,{name:"output-socket",side:"output",socketKey:b,nodeId:f,emit:i.emit,payload:x.socket,"data-testid":"output-socket"}))}),a.map(function(v){var S=Kt(v,2),b=S[0],x=S[1];return x?D.createElement(Vd,{key:b,name:"control",emit:i.emit,payload:x,"data-testid":"control-".concat(b)}):null}),t.map(function(v){var S=Kt(v,2),b=S[0],x=S[1];return x&&D.createElement("div",{className:"input",key:b,"data-testid":"input-".concat(b)},D.createElement($d,{name:"input-socket",side:"input",socketKey:b,nodeId:f,emit:i.emit,payload:x.socket,"data-testid":"input-socket"}),x&&(!x.control||!x.showControl)&&D.createElement("div",{className:"input-title","data-testid":"input-title"},x.label),x.control&&x.showControl&&D.createElement(Vd,{key:b,name:"input-control",emit:i.emit,payload:x.control,"data-testid":"input-control"}))}))}var Rv,zv,o1=Wt.div(Rv||(Rv=Zt([`
    display: inline-block;
    cursor: pointer;
    border: 1px solid white;
    border-radius: `,`px;
    width: `,`px;
    height: `,`px;
    vertical-align: middle;
    background: `,`;
    z-index: 2;
    box-sizing: border-box;
    &:hover {
      border-width: 4px;
    }
    &.multiple {
      border-color: yellow;
    }
`])),ai/2,ai,ai,i1),PO=Wt.div(zv||(zv=Zt([`
    border-radius: `,`px;
    padding: `,`px;
    &:hover `,` {
      border-width: 4px;
    }
`])),(ai+Ai*2)/2,Ai,o1);function l1(i){return D.createElement(PO,null,D.createElement(o1,{title:i.data.name}))}function XO(i){var t=typeof i?.socketPositionWatcher>"u"?ET():i.socketPositionWatcher,r=i?.customize||{},a=r.node,l=r.connection,u=r.socket,f=r.control;return{attach:function(p){t.attach(p)},render:function(p,m){if(p.data.type==="node"){var v=m.parentScope(),S=a?a(p.data):s1;return S&&D.createElement(S,{data:p.data.payload,emit:function(H){return void v.emit(H)}})}else if(p.data.type==="connection"){var b=l?l(p.data):e1,x=p.data.payload,_=x.sourceOutput,E=x.targetInput,T=x.source,z=x.target;return b&&D.createElement(AO,{start:p.data.start||function(N){return t.listen(T,"output",_,N)},end:p.data.end||function(N){return t.listen(z,"input",E,N)},path:(function(){var N=ke(ie.mark(function H(O,R){var I,Z,j,W,oe;return ie.wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=1,m.emit({type:"connectionpath",data:{payload:x,points:[O,R]}});case 1:if(I=ue.sent,I){ue.next=2;break}return ue.abrupt("return","");case 2:if(Z=I.data,j=Z.path,W=Z.points,oe=.3,!(!j&&W.length!==2)){ue.next=3;break}throw new Error("cannot render connection with a custom number of points");case 3:if(j){ue.next=4;break}return ue.abrupt("return",x.isLoop?ST(W,oe,120):bT(W,oe));case 4:return ue.abrupt("return",j);case 5:case"end":return ue.stop()}},H)}));return function(H,O){return N.apply(this,arguments)}})()},D.createElement(b,{data:p.data.payload}))}else if(p.data.type==="socket"){var A=u?u(p.data):l1;return A&&p.data.payload&&D.createElement(A,{data:p.data.payload})}else if(p.data.type==="control"){var B=f&&p.data.payload?f(p.data):p.data.payload instanceof ne.InputControl?Id:null;return B&&D.createElement(B,{data:p.data.payload})}}}}var FO=Object.freeze({__proto__:null,vars:qO,setup:XO,Connection:e1,useConnection:Jb,Control:Id,InputControl:Id,Node:s1,NodeStyles:a1,RefControl:Vd,RefSocket:$d,Socket:l1});function u1(i,t){var r=D.useRef(void 0);function a(){r.current&&clearTimeout(r.current)}var l=function(){a(),r.current=setTimeout(function(){i()},t)};return D.useEffect(function(){return a},[]),[l,a]}var QO="rgba(110,136,255,0.8)",KO="rgba(130, 153, 255, 0.8)",WO="rgba(69, 103, 255, 0.8)",Gl="5px",qd=120,Bv,_h=Wt.div(Bv||(Bv=Zt([`
  color: #fff;
  padding: 4px;
  border-bottom: 1px solid `,`;
  background-color: `,`;
  cursor: pointer;
  width: 100%;
  position: relative;
  &:first-child {
    border-top-left-radius: `,`;
    border-top-right-radius: `,`;
  }
  &:last-child {
    border-bottom-left-radius: `,`;
    border-bottom-right-radius: `,`;
  }
  &:hover {
    background-color: `,`;
  }
`])),WO,QO,Gl,Gl,Gl,Gl,KO),Hv,Uv,Iv,c1=Wt(_h)(Hv||(Hv=Zt([`
    `,`
`])),function(i){return i.hasSubitems&&wh(Uv||(Uv=Zt([`&:after {
    content: '';
    position: absolute;
    opacity: 0.6;
    right: 5px;
    top: 5px;
    }`])))}),f1=Wt.div(Iv||(Iv=Zt([`
    position: absolute;
    top: 0;
    left: 100%;
    width: `,`px;
`])),qd);function d1(i){var t,r,a,l,u=D.useState(!1),f=Kt(u,2),h=f[0],p=f[1],m=D.useCallback(function(){p(!1)},[p]),v=u1(m,i.delay),S=Kt(v,2),b=S[0],x=S[1],_=((t=i.components)===null||t===void 0||(r=t.item)===null||r===void 0?void 0:r.call(t,i.data))||c1,E=((a=i.components)===null||a===void 0||(l=a.subitems)===null||l===void 0?void 0:l.call(a,i.data))||f1;return D.createElement(_,{onClick:function(z){z.stopPropagation(),i.data.handler(),i.hide()},hasSubitems:!!i.data.subitems,onPointerDown:function(z){z.stopPropagation()},onPointerOver:function(){x(),p(!0)},onPointerLeave:function(){b&&b()},"data-testid":"context-menu-item"},i.children,i.data.subitems&&h&&D.createElement(E,null,i.data.subitems.map(function(T){return D.createElement(d1,{key:T.key,data:T,delay:i.delay,hide:i.hide,components:i.components},T.label)})))}var Lv,h1=Wt.input(Lv||(Lv=Zt([`
  color: white;
  padding: 1px 8px;
  border: 1px solid white;
  border-radius: 10px;
  font-size: 16px;
  font-family: serif;
  width: 100%;
  box-sizing: border-box;
  background: transparent;
`])));function JO(i){var t=i.component||h1;return D.createElement(t,{value:i.value,onInput:function(a){i.onChange(a.target.value)},onPointerDown:function(a){a.stopPropagation()},"data-testid":"context-menu-search-input"})}var Vv,p1=Wt.div(Vv||(Vv=Zt([`
  padding: 10px;
  width: `,`px;
  margin-top: -20px;
  margin-left: -`,`px;
`])),qd,qd/2);function eC(i){var t,r,a,l,u,f,h=u1(i.onHide,i.delay),p=Kt(h,2),m=p[0],v=p[1],S=D.useState(""),b=Kt(S,2),x=b[0],_=b[1],E=new RegExp(x,"i"),T=i.items.filter(function(B){return B.label.match(E)}),z=((t=i.components)===null||t===void 0||(r=t.main)===null||r===void 0?void 0:r.call(t))||p1,A=((a=i.components)===null||a===void 0||(l=a.common)===null||l===void 0?void 0:l.call(a))||_h;return D.createElement(z,{onMouseOver:function(){v()},onMouseLeave:function(){m?.()},onWheel:function(N){N.stopPropagation()},"data-testid":"context-menu"},i.searchBar&&D.createElement(A,null,D.createElement(JO,{value:x,onChange:_,component:(u=i.components)===null||u===void 0||(f=u.search)===null||f===void 0?void 0:f.call(u)})),T.map(function(B){return D.createElement(d1,{key:B.key,data:B,delay:i.delay,hide:i.onHide,components:i.components},B.label)}))}function tC(i){var t=typeof i?.delay>"u"?1e3:i.delay;return{render:function(a){if(a.data.type==="contextmenu")return D.createElement(eC,{items:a.data.items,delay:t,searchBar:a.data.searchBar,onHide:a.data.onHide,components:i?.customize})}}}var nC=Object.freeze({__proto__:null,setup:tC,Item:c1,Subitems:f1,Menu:p1,Search:h1,Common:_h}),Zl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},iC=typeof Zl=="object"&&Zl&&Zl.Object===Object&&Zl,rC=typeof self=="object"&&self&&self.Object===Object&&self;iC||rC||Function("return this")();function aC(){const i=D.useRef(!1);return D.useEffect(()=>(i.current=!0,()=>{i.current=!1}),[]),D.useCallback(()=>i.current,[])}var $v={width:void 0,height:void 0};function sC(i){const{ref:t,box:r="content-box"}=i,[{width:a,height:l},u]=D.useState($v),f=aC(),h=D.useRef({...$v}),p=D.useRef(void 0);return p.current=i.onResize,D.useEffect(()=>{if(!t.current||typeof window>"u"||!("ResizeObserver"in window))return;const m=new ResizeObserver(([v])=>{const S=r==="border-box"?"borderBoxSize":r==="device-pixel-content-box"?"devicePixelContentBoxSize":"contentBoxSize",b=qv(v,S,"inlineSize"),x=qv(v,S,"blockSize");if(h.current.width!==b||h.current.height!==x){const E={width:b,height:x};h.current.width=b,h.current.height=x,p.current?p.current(E):f()&&u(E)}});return m.observe(t.current,{box:r}),()=>{m.disconnect()}},[r,t,f]),{width:a,height:l}}function qv(i,t,r){return i[t]?Array.isArray(i[t])?i[t][0][r]:i[t][r]:t==="contentBoxSize"?i.contentRect[r==="inlineSize"?"width":"height"]:void 0}function si(i){return"".concat(i,"px")}var Yv,oC=Wt.div(Yv||(Yv=Zt([`
    position: absolute;
    background: rgba(110, 136, 255, 0.8);
    border: 1px solid rgb(192 206 212 / 60%);
`])));function lC(i){return D.createElement(oC,{style:{left:si(i.left),top:si(i.top),width:si(i.width),height:si(i.height)},"data-testid":"minimap-node"})}var Gv,uC=Wt.div(Gv||(Gv=Zt([`
  position: absolute;
  background: rgba(255, 251, 128, 0.32);
  border: 1px solid #ffe52b;
`])));function cC(i){var t=function(u){return u*i.containerWidth},r=function(u){return u/i.containerWidth},a=t1(function(l,u){i.translate(r(-l),r(-u))},function(l){return{x:l.pageX,y:l.pageY}});return D.createElement(uC,{onPointerDown:a.start,style:{left:si(t(i.left)),top:si(t(i.top)),width:si(t(i.width)),height:si(t(i.height))},"data-testid":"minimap-viewport"})}var Zv,fC=Wt.div(Zv||(Zv=Zt([`
    position: absolute;
    right: 24px;
    bottom: 24px;
    background: rgba(229, 234, 239, 0.65);
    padding: 20px;
    overflow: hidden;
    border: 1px solid #b1b7ff;
    border-radius: 8px;
    box-sizing: border-box;
`])));function dC(i){var t,r=D.useRef(null),a=sC({ref:r}),l=a.width,u=l===void 0?0:l,f=((t=r.current)===null||t===void 0?void 0:t.clientWidth)||u,h=D.useCallback(function(p){return p*f},[f]);return D.createElement(fC,{size:i.size,style:{width:si(i.size*i.ratio),height:si(i.size)},onPointerDown:function(m){m.stopPropagation(),m.preventDefault()},onDoubleClick:function(m){if(m.stopPropagation(),m.preventDefault(),!!r.current){var v=r.current.getBoundingClientRect(),S=(m.clientX-v.left)/(i.size*i.ratio),b=(m.clientY-v.top)/(i.size*i.ratio);i.point(S,b)}},ref:r,"data-testid":"minimap"},f?i.nodes.map(function(p,m){return D.createElement(lC,{key:m,left:h(p.left),top:h(p.top),width:h(p.width),height:h(p.height)})}):null,D.createElement(cC,Pr({},i.viewport,{start:i.start,containerWidth:f,translate:i.translate})))}function hC(i){return{render:function(r){if(r.data.type==="minimap")return D.createElement(dC,{nodes:r.data.nodes,size:i?.size||200,ratio:r.data.ratio,viewport:r.data.viewport,start:r.data.start,translate:r.data.translate,point:r.data.point})}}}var pC=Object.freeze({__proto__:null,setup:hC}),Pv,po=20,mC=Wt.div(Pv||(Pv=Zt([`
  width: `,`px;
  height: `,`px;
  box-sizing: border-box;
  background: `,`;
  border: 2px solid white;
  border-radius: `,`px;
`])),po,po,function(i){return i.selected?"#ffd92c":"steelblue"},po);function gC(i){var t=t1(function(u,f){i.translate(u,f)},i.pointer),r=i.position,a=r.x,l=r.y;return D.createElement(mC,{onPointerDown:function(f){f.stopPropagation(),f.preventDefault(),t.start(f),i.pointerdown()},onContextMenu:function(f){f.stopPropagation(),f.preventDefault(),i.contextMenu()},selected:i.selected,style:{position:"absolute",top:"".concat(l-po/2,"px"),left:"".concat(a-po/2,"px")},"data-testid":"pin"})}function yC(i){function t(r,a){return D.createElement(D.Fragment,null,r.pins.map(function(l){return D.createElement(gC,Pr({},l,{key:l.id,contextMenu:function(){var f;i==null||(f=i.contextMenu)===null||f===void 0||f.call(i,l.id)},translate:function(f,h){var p;i==null||(p=i.translate)===null||p===void 0||p.call(i,l.id,f,h)},pointerdown:function(){var f;i==null||(f=i.pointerdown)===null||f===void 0||f.call(i,l.id)},pointer:a}))}))}return{render:function(a,l){var u=a.data,f=l.parentScope(is);if(u.type==="reroute-pins")return t(u.data,function(){return f.area.pointer})}}}var vC=Object.freeze({__proto__:null,setup:yC}),Pl=Object.freeze({__proto__:null,classic:FO,contextMenu:nC,minimap:pC,reroute:vC});function bC(i,t){var r=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!r){if(Array.isArray(i)||(r=SC(i))||t){r&&(i=r);var a=0,l=function(){};return{s:l,n:function(){return a>=i.length?{done:!0}:{done:!1,value:i[a++]}},e:function(m){throw m},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,f=!0,h=!1;return{s:function(){r=r.call(i)},n:function(){var m=r.next();return f=m.done,m},e:function(m){h=!0,u=m},f:function(){try{f||r.return==null||r.return()}finally{if(h)throw u}}}}function SC(i,t){if(i){if(typeof i=="string")return Xv(i,t);var r={}.toString.call(i).slice(8,-1);return r==="Object"&&i.constructor&&(r=i.constructor.name),r==="Map"||r==="Set"?Array.from(i):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Xv(i,t):void 0}}function Xv(i,t){(t==null||t>i.length)&&(t=i.length);for(var r=0,a=Array(t);r<t;r++)a[r]=i[r];return a}function Fv(i,t){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),r.push.apply(r,a)}return r}function Xl(i){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fv(Object(r),!0).forEach(function(a){ye(i,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):Fv(Object(r)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(r,a))})}return i}function wC(i,t,r){return t=Je(t),Qn(i,m1()?Reflect.construct(t,r||[],Je(i).constructor):t.apply(i,r))}function m1(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m1=function(){return!!i})()}function xC(i,t,r,a){var l=Qa(Je(i.prototype),t,r);return typeof l=="function"?function(u){return l.apply(r,u)}:l}var _C=(function(i){function t(){for(var r,a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];var f=l[0];return He(this,t),r=wC(this,t,["react-render"]),ye(r,"presets",[]),r.renderer=jO({createRoot:f?.createRoot}),r.addPipe(function(h){if(!h||It(h)!=="object"||!("type"in h))return h;if(h.type==="unmount")r.unmount(h.data.element);else if(h.type==="render"){if("filled"in h.data&&h.data.filled)return h;if(r.mount(h.data.element,h))return Xl(Xl({},h),{},{data:Xl(Xl({},h.data),{},{filled:!0})})}return h}),r}return tn(t,i),Ue(t,[{key:"setParent",value:function(a){var l=this;xC(t,"setParent",this)([a]),this.presets.forEach(function(u){u.attach&&u.attach(l)})}},{key:"mount",value:function(a,l){var u=this.parentScope(),f=bC(this.presets),h;try{for(f.s();!(h=f.n()).done;){var p=h.value,m=p.render(l,this);if(m){var v=D.createElement(DO,{rendered:function(){return void u.emit({type:"rendered",data:l.data})}},m);return this.renderer.mount(v,a),!0}}}catch(S){f.e(S)}finally{f.f()}}},{key:"unmount",value:function(a){this.renderer.unmount(a)}},{key:"addPreset",value:function(a){var l=a;l.attach&&l.attach(this),this.presets.push(l)}}])})(Xr);function Qv(i,t){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(i);t&&(a=a.filter(function(l){return Object.getOwnPropertyDescriptor(i,l).enumerable})),r.push.apply(r,a)}return r}function Fl(i){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Qv(Object(r),!0).forEach(function(a){ye(i,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):Qv(Object(r)).forEach(function(a){Object.defineProperty(i,a,Object.getOwnPropertyDescriptor(r,a))})}return i}function g1(i,t,r){var a=Kt(i,2),l=a[0],u=a[1],f={label:l,key:String(t),handler:function(){}};return typeof u=="function"?Fl(Fl({},f),{},{handler:function(){return ke(ie.mark(function p(){var m;return ie.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,u();case 2:return m=S.sent,S.next=5,r.editor.addNode(m);case 5:r.area.translate(m.id,r.area.area.pointer);case 6:case"end":return S.stop()}},p)}))()}}):Fl(Fl({},f),{},{handler:function(){},subitems:u.map(function(h,p){return g1(h,p,r)})})}function TC(i,t){var r=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!r){if(Array.isArray(i)||(r=OC(i))||t){r&&(i=r);var a=0,l=function(){};return{s:l,n:function(){return a>=i.length?{done:!0}:{done:!1,value:i[a++]}},e:function(m){throw m},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,f=!0,h=!1;return{s:function(){r=r.call(i)},n:function(){var m=r.next();return f=m.done,m},e:function(m){h=!0,u=m},f:function(){try{f||r.return==null||r.return()}finally{if(h)throw u}}}}function OC(i,t){if(i){if(typeof i=="string")return Kv(i,t);var r={}.toString.call(i).slice(8,-1);return r==="Object"&&i.constructor&&(r=i.constructor.name),r==="Map"||r==="Set"?Array.from(i):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Kv(i,t):void 0}}function Kv(i,t){(t==null||t>i.length)&&(t=i.length);for(var r=0,a=Array(t);r<t;r++)a[r]=i[r];return a}function CC(i){return function(t,r){var a,l=r.parentScope(is),u=l.parentScope(Ri);if(t==="root")return{searchBar:!0,list:i.map(function(m,v){return g1(m,v,{editor:u,area:l})})};var f={label:"Delete",key:"delete",handler:function(){return ke(ie.mark(function v(){var S,b,x,_,E,T;return ie.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(!("source"in t&&"target"in t)){A.next=6;break}return S=t.id,A.next=4,u.removeConnection(S);case 4:A.next=27;break;case 6:b=t.id,x=u.getConnections().filter(function(B){return B.source===b||B.target===b}),_=TC(x),A.prev=9,_.s();case 11:if((E=_.n()).done){A.next=17;break}return T=E.value,A.next=15,u.removeConnection(T.id);case 15:A.next=11;break;case 17:A.next=22;break;case 19:A.prev=19,A.t0=A.catch(9),_.e(A.t0);case 22:return A.prev=22,_.f(),A.finish(22);case 25:return A.next=27,u.removeNode(b);case 27:case"end":return A.stop()}},v,null,[[9,19,22,25]])}))()}},h=(a=t.clone)===null||a===void 0?void 0:a.bind(t),p=h&&{label:"Clone",key:"clone",handler:function(){return ke(ie.mark(function v(){var S;return ie.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return S=h(),x.next=3,u.addNode(S);case 3:l.translate(S.id,l.area.pointer);case 4:case"end":return x.stop()}},v)}))()}};return{searchBar:!1,list:[f].concat(Fr(p?[p]:[]))}}}var EC=Object.freeze({__proto__:null,setup:CC}),NC=Object.freeze({__proto__:null,classic:EC});function kC(i,t,r){return t=Je(t),Qn(i,y1()?Reflect.construct(t,r||[],Je(i).constructor):t.apply(i,r))}function y1(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(y1=function(){return!!i})()}function jC(i,t,r,a){var l=Qa(Je(i.prototype),t,r);return typeof l=="function"?function(u){return l.apply(r,u)}:l}var DC=(function(i){function t(r){var a;return He(this,t),a=kC(this,t,["context-menu"]),a.props=r,a}return tn(t,i),Ue(t,[{key:"setParent",value:function(a){var l=this;jC(t,"setParent",this)([a]);var u=this.parentScope(is),f=u.container;if(!f||!(f instanceof HTMLElement))throw new Error("container expected");var h=document.createElement("div");h.style.display="none",h.style.position="fixed",this.addPipe(function(p){var m=l.parentScope();if(!p||It(p)!=="object"||!("type"in p))return p;if(p.type==="unmount")p.data.element===h&&(h.style.display="none");else if(p.type==="contextmenu"){p.data.event.preventDefault(),p.data.event.stopPropagation();var v=l.props.items(p.data.context,l),S=v.searchBar,b=v.list;f.appendChild(h),h.style.left="".concat(p.data.event.clientX,"px"),h.style.top="".concat(p.data.event.clientY,"px"),h.style.display="",m.emit({type:"render",data:{type:"contextmenu",element:h,searchBar:S,onHide:function(){m.emit({type:"unmount",data:{element:h}})},items:b}})}else p.type==="pointerdown"&&(p.data.event.composedPath().includes(h)||m.emit({type:"unmount",data:{element:h}}));return p})}}])})(Xr);function MC(i){try{return Function.toString.call(i).indexOf("[native code]")!==-1}catch{return typeof i=="function"}}function v1(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v1=function(){return!!i})()}function AC(i,t,r){if(v1())return Reflect.construct.apply(null,arguments);var a=[null];a.push.apply(a,t);var l=new(i.bind.apply(i,a));return r&&go(l,r.prototype),l}function Yd(i){var t=typeof Map=="function"?new Map:void 0;return Yd=function(a){if(a===null||!MC(a))return a;if(typeof a!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(a))return t.get(a);t.set(a,l)}function l(){return AC(a,arguments,Je(this).constructor)}return l.prototype=Object.create(a.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),go(l,a)},Yd(i)}function RC(i,t){var r=typeof Symbol<"u"&&i[Symbol.iterator]||i["@@iterator"];if(!r){if(Array.isArray(i)||(r=zC(i))||t){r&&(i=r);var a=0,l=function(){};return{s:l,n:function(){return a>=i.length?{done:!0}:{done:!1,value:i[a++]}},e:function(m){throw m},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,f=!0,h=!1;return{s:function(){r=r.call(i)},n:function(){var m=r.next();return f=m.done,m},e:function(m){h=!0,u=m},f:function(){try{f||r.return==null||r.return()}finally{if(h)throw u}}}}function zC(i,t){if(i){if(typeof i=="string")return Wv(i,t);var r={}.toString.call(i).slice(8,-1);return r==="Object"&&i.constructor&&(r=i.constructor.name),r==="Map"||r==="Set"?Array.from(i):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Wv(i,t):void 0}}function Wv(i,t){(t==null||t>i.length)&&(t=i.length);for(var r=0,a=Array(t);r<t;r++)a[r]=i[r];return a}var BC=(function(){function i(t){He(this,i),ye(this,"setups",new Map),this.editor=t}return Ue(i,[{key:"add",value:function(r,a){var l=this.setups.get(r.id);if(l)throw new Error("already processed");this.setups.set(r.id,a)}},{key:"remove",value:function(r){this.setups.delete(r)}},{key:"fetchInputs",value:(function(){var t=ke(ie.mark(function a(l){var u=this,f,h,p,m,v,S,b,x,_,E,T,z;return ie.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(f=this.setups.get(l),f){B.next=3;break}throw new Error("node is not initialized");case 3:return h=f.inputs(),p=this.editor.getConnections().filter(function(N){return N.target===l&&h.includes(N.targetInput)}),m={},B.next=8,Promise.all(p.map((function(){var N=ke(ie.mark(function H(O){return ie.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.t0=O,I.next=3,u.fetch(O.source);case 3:return I.t1=I.sent,I.abrupt("return",{c:I.t0,sourceData:I.t1});case 5:case"end":return I.stop()}},H)}));return function(H){return N.apply(this,arguments)}})()));case 8:v=B.sent,S=RC(v);try{for(S.s();!(b=S.n()).done;)x=b.value,_=x.c,E=x.sourceData,T=m[_.targetInput]?m[_.targetInput]:[],z=m,z[_.targetInput]=[].concat(Fr(T),[E[_.sourceOutput]])}catch(N){S.e(N)}finally{S.f()}return B.abrupt("return",m);case 12:case"end":return B.stop()}},a,this)}));function r(a){return t.apply(this,arguments)}return r})()},{key:"fetch",value:(function(){var t=ke(ie.mark(function a(l){var u=this,f,h,p,m;return ie.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(f=this.setups.get(l),f){S.next=3;break}throw new Error("node is not initialized");case 3:return h=f.outputs(),S.next=6,f.data(function(){return u.fetchInputs(l)});case 6:if(p=S.sent,m=Object.keys(p),h.every(function(b){return m.includes(b)})){S.next=10;break}throw new Error('dataflow node "'.concat(l,`" doesn't return all of required properties. Expected "`).concat(h.join('", "'),'". Got "').concat(m.join('", "'),'"'));case 10:return S.abrupt("return",p);case 11:case"end":return S.stop()}},a,this)}));function r(a){return t.apply(this,arguments)}return r})()}])})(),HC=(function(){function i(t){He(this,i),ye(this,"cache",new Map),this.onDelete=t}return Ue(i,[{key:"get",value:function(r){return this.cache.get(r)}},{key:"add",value:function(r,a){if(this.cache.has(r))throw new Error("cache already exists");this.cache.set(r,a)}},{key:"patch",value:function(r,a){this.cache.set(r,a)}},{key:"delete",value:function(r){var a=this.cache.get(r);this.cache.delete(r),this.onDelete&&this.onDelete(a)}},{key:"clear",value:function(){var r=this;Array.from(this.cache.keys()).forEach(function(a){r.delete(a)})}}])})();function UC(i,t,r){return t=Je(t),Qn(i,b1()?Reflect.construct(t,r||[],Je(i).constructor):t.apply(i,r))}function b1(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b1=function(){return!!i})()}var Jv=(function(i){function t(){return He(this,t),UC(this,t,["cancelled"])}return tn(t,i),Ue(t)})(Yd(Error));function IC(){var i=!1;function t(p){if(i)throw new Jv;return p}for(var r,a=new Promise(function(p,m){r=m,p()}),l=arguments.length,u=new Array(l),f=0;f<l;f++)u[f]=arguments[f];var h=u.reduce(function(p,m){var v=p.then(m).then(t);return v},a);return h.cancel=function(){i||r(new Jv),i=!0},h}function LC(i,t,r){return t=Je(t),Qn(i,S1()?Reflect.construct(t,r||[],Je(i).constructor):t.apply(i,r))}function S1(){try{var i=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S1=function(){return!!i})()}function VC(i,t,r,a){var l=Qa(Je(i.prototype),t,r);return typeof l=="function"?function(u){return l.apply(r,u)}:l}var $C=(function(i){function t(r){var a;return He(this,t),a=LC(this,t,["dataflow-engine"]),ye(a,"cache",new HC(function(l){return l?.cancel&&l.cancel()})),a.configure=r,a.addPipe(function(l){return l.type==="nodecreated"&&a.add(l.data),l.type==="noderemoved"&&a.remove(l.data),l}),a}return tn(t,i),Ue(t,[{key:"setParent",value:function(a){VC(t,"setParent",this)([a]),this.editor=this.parentScope(Ri),this.dataflow=new BC(this.editor)}},{key:"getDataflow",value:function(){if(!this.dataflow)throw new Error("DataflowEngine isn't attached to NodeEditor");return this.dataflow}},{key:"add",value:function(a){var l=this,u=this.configure?this.configure(a):{inputs:function(){return Object.keys(a.inputs)},outputs:function(){return Object.keys(a.outputs)}};this.getDataflow().add(a,{inputs:u.inputs,outputs:u.outputs,data:(function(){var f=ke(ie.mark(function p(m){var v,S;return ie.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(v=l.cache.get(a.id),!v){x.next=3;break}return x.abrupt("return",v);case 3:return S=IC(function(){return m()},function(_){return a.data(_)}),l.cache.add(a.id,S),x.abrupt("return",S);case 6:case"end":return x.stop()}},p)}));function h(p){return f.apply(this,arguments)}return h})()})}},{key:"remove",value:function(a){this.getDataflow().remove(a.id)}},{key:"reset",value:function(a){var l=this;if(a){var u=this.getDataflow().setups.get(a);if(!u)throw new Error("setup");var f=u.outputs();this.cache.delete(a),this.editor.getConnections().filter(function(h){return h.source===a&&f.includes(h.sourceOutput)}).forEach(function(h){l.reset(h.target)})}else this.cache.clear()}},{key:"fetchInputs",value:(function(){var r=ke(ie.mark(function l(u){var f;return ie.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return f=It(u)==="object"?u.id:u,p.abrupt("return",this.getDataflow().fetchInputs(f));case 2:case"end":return p.stop()}},l,this)}));function a(l){return r.apply(this,arguments)}return a})()},{key:"fetch",value:(function(){var r=ke(ie.mark(function l(u){var f;return ie.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return f=It(u)==="object"?u.id:u,p.abrupt("return",this.getDataflow().fetch(f));case 2:case"end":return p.stop()}},l,this)}));function a(l){return r.apply(this,arguments)}return a})()}])})(Xr);console.log("[Sockets] Initializing socket patch...");const e0=ne.Socket.canConnect;ne.Socket.canConnect=function(i,t){if(console.log(`[Socket Check] ${i.name} <-> ${t.name}`),e0&&e0(i,t))return console.log("  -> Connected via original method (same instance)"),!0;if(i.name==="any"||t.name==="any")return console.log("  -> Connected via 'any' wildcard"),!0;const r=i.name===t.name;return console.log(r?"  -> Connected via name match":"  -> Connection failed"),r};ne.Socket.prototype.canConnectTo=function(i){return console.log(`[Socket Instance Check] ${this.name} -> ${i.name}`),ne.Socket.canConnect(this,i)};const Be={boolean:new ne.Socket("boolean"),number:new ne.Socket("number"),object:new ne.Socket("object"),lightInfo:new ne.Socket("light_info"),any:new ne.Socket("any")};Object.values(Be).forEach(i=>{i.canConnectTo=function(t){return console.log(`[Socket Instance Direct] ${this.name} -> ${t.name}`),this.name===t.name||this.name==="any"||t.name==="any"}});function qC({onSave:i,onLoad:t,onClear:r,onExport:a,onImport:l}){const[u,f]=D.useState(()=>{const N=localStorage.getItem("dock-position");return N?JSON.parse(N):{x:20,y:20}}),[h,p]=D.useState(!1),[m,v]=D.useState({x:0,y:0}),[S,b]=D.useState(!0),x=D.useRef(null),_=D.useRef(null);D.useEffect(()=>{localStorage.setItem("dock-position",JSON.stringify(u))},[u]);const E=N=>{N.target.closest(".dock-header")&&(p(!0),v({x:N.clientX-u.x,y:N.clientY-u.y}))},T=N=>{h&&f({x:N.clientX-m.x,y:N.clientY-m.y})},z=()=>{p(!1)};D.useEffect(()=>{if(h)return window.addEventListener("mousemove",T),window.addEventListener("mouseup",z),()=>{window.removeEventListener("mousemove",T),window.removeEventListener("mouseup",z)}},[h,m]);const A=()=>{_.current?.click()},B=N=>{const H=N.target.files?.[0];if(H){const O=new FileReader;O.onload=R=>{try{const I=JSON.parse(R.target.result);l(I)}catch(I){console.error("Failed to parse JSON:",I),alert("Invalid JSON file")}},O.readAsText(H)}N.target.value=""};return g.jsxs("div",{ref:x,className:"dock-container",style:{left:`${u.x}px`,top:`${u.y}px`,cursor:h?"grabbing":"default"},onMouseDown:E,children:[g.jsx("div",{className:"dock-header",style:{cursor:"grab"},children:g.jsx("span",{children:" Control Panel"})}),g.jsxs("div",{className:"dock-section",children:[g.jsx("div",{className:"dock-section-header",onClick:()=>b(!S),children:g.jsxs("span",{children:[S?"":""," Graph Tools"]})}),S&&g.jsxs("div",{className:"dock-section-content",children:[g.jsx("button",{onClick:i,className:"dock-btn",children:" Save"}),g.jsx("button",{onClick:A,className:"dock-btn",children:" Load"}),g.jsx("button",{onClick:r,className:"dock-btn",children:" Clear"}),g.jsx("input",{ref:_,type:"file",accept:".json",style:{display:"none"},onChange:B})]})]})]})}const li=Object.create(null);li.open="0";li.close="1";li.ping="2";li.pong="3";li.message="4";li.upgrade="5";li.noop="6";const ou=Object.create(null);Object.keys(li).forEach(i=>{ou[li[i]]=i});const Gd={type:"error",data:"parser error"},w1=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",x1=typeof ArrayBuffer=="function",_1=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i&&i.buffer instanceof ArrayBuffer,Th=({type:i,data:t},r,a)=>w1&&t instanceof Blob?r?a(t):t0(t,a):x1&&(t instanceof ArrayBuffer||_1(t))?r?a(t):t0(new Blob([t]),a):a(li[i]+(t||"")),t0=(i,t)=>{const r=new FileReader;return r.onload=function(){const a=r.result.split(",")[1];t("b"+(a||""))},r.readAsDataURL(i)};function n0(i){return i instanceof Uint8Array?i:i instanceof ArrayBuffer?new Uint8Array(i):new Uint8Array(i.buffer,i.byteOffset,i.byteLength)}let md;function YC(i,t){if(w1&&i.data instanceof Blob)return i.data.arrayBuffer().then(n0).then(t);if(x1&&(i.data instanceof ArrayBuffer||_1(i.data)))return t(n0(i.data));Th(i,!1,r=>{md||(md=new TextEncoder),t(md.encode(r))})}const i0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",oo=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let i=0;i<i0.length;i++)oo[i0.charCodeAt(i)]=i;const GC=i=>{let t=i.length*.75,r=i.length,a,l=0,u,f,h,p;i[i.length-1]==="="&&(t--,i[i.length-2]==="="&&t--);const m=new ArrayBuffer(t),v=new Uint8Array(m);for(a=0;a<r;a+=4)u=oo[i.charCodeAt(a)],f=oo[i.charCodeAt(a+1)],h=oo[i.charCodeAt(a+2)],p=oo[i.charCodeAt(a+3)],v[l++]=u<<2|f>>4,v[l++]=(f&15)<<4|h>>2,v[l++]=(h&3)<<6|p&63;return m},ZC=typeof ArrayBuffer=="function",Oh=(i,t)=>{if(typeof i!="string")return{type:"message",data:T1(i,t)};const r=i.charAt(0);return r==="b"?{type:"message",data:PC(i.substring(1),t)}:ou[r]?i.length>1?{type:ou[r],data:i.substring(1)}:{type:ou[r]}:Gd},PC=(i,t)=>{if(ZC){const r=GC(i);return T1(r,t)}else return{base64:!0,data:i}},T1=(i,t)=>{switch(t){case"blob":return i instanceof Blob?i:new Blob([i]);case"arraybuffer":default:return i instanceof ArrayBuffer?i:i.buffer}},O1="",XC=(i,t)=>{const r=i.length,a=new Array(r);let l=0;i.forEach((u,f)=>{Th(u,!1,h=>{a[f]=h,++l===r&&t(a.join(O1))})})},FC=(i,t)=>{const r=i.split(O1),a=[];for(let l=0;l<r.length;l++){const u=Oh(r[l],t);if(a.push(u),u.type==="error")break}return a};function QC(){return new TransformStream({transform(i,t){YC(i,r=>{const a=r.length;let l;if(a<126)l=new Uint8Array(1),new DataView(l.buffer).setUint8(0,a);else if(a<65536){l=new Uint8Array(3);const u=new DataView(l.buffer);u.setUint8(0,126),u.setUint16(1,a)}else{l=new Uint8Array(9);const u=new DataView(l.buffer);u.setUint8(0,127),u.setBigUint64(1,BigInt(a))}i.data&&typeof i.data!="string"&&(l[0]|=128),t.enqueue(l),t.enqueue(r)})}})}let gd;function Ql(i){return i.reduce((t,r)=>t+r.length,0)}function Kl(i,t){if(i[0].length===t)return i.shift();const r=new Uint8Array(t);let a=0;for(let l=0;l<t;l++)r[l]=i[0][a++],a===i[0].length&&(i.shift(),a=0);return i.length&&a<i[0].length&&(i[0]=i[0].slice(a)),r}function KC(i,t){gd||(gd=new TextDecoder);const r=[];let a=0,l=-1,u=!1;return new TransformStream({transform(f,h){for(r.push(f);;){if(a===0){if(Ql(r)<1)break;const p=Kl(r,1);u=(p[0]&128)===128,l=p[0]&127,l<126?a=3:l===126?a=1:a=2}else if(a===1){if(Ql(r)<2)break;const p=Kl(r,2);l=new DataView(p.buffer,p.byteOffset,p.length).getUint16(0),a=3}else if(a===2){if(Ql(r)<8)break;const p=Kl(r,8),m=new DataView(p.buffer,p.byteOffset,p.length),v=m.getUint32(0);if(v>Math.pow(2,21)-1){h.enqueue(Gd);break}l=v*Math.pow(2,32)+m.getUint32(4),a=3}else{if(Ql(r)<l)break;const p=Kl(r,l);h.enqueue(Oh(u?p:gd.decode(p),t)),a=0}if(l===0||l>i){h.enqueue(Gd);break}}}})}const C1=4;function Dt(i){if(i)return WC(i)}function WC(i){for(var t in Dt.prototype)i[t]=Dt.prototype[t];return i}Dt.prototype.on=Dt.prototype.addEventListener=function(i,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(t),this};Dt.prototype.once=function(i,t){function r(){this.off(i,r),t.apply(this,arguments)}return r.fn=t,this.on(i,r),this};Dt.prototype.off=Dt.prototype.removeListener=Dt.prototype.removeAllListeners=Dt.prototype.removeEventListener=function(i,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+i];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var a,l=0;l<r.length;l++)if(a=r[l],a===t||a.fn===t){r.splice(l,1);break}return r.length===0&&delete this._callbacks["$"+i],this};Dt.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+i],a=1;a<arguments.length;a++)t[a-1]=arguments[a];if(r){r=r.slice(0);for(var a=0,l=r.length;a<l;++a)r[a].apply(this,t)}return this};Dt.prototype.emitReserved=Dt.prototype.emit;Dt.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]};Dt.prototype.hasListeners=function(i){return!!this.listeners(i).length};const Nu=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),zn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),JC="arraybuffer";function E1(i,...t){return t.reduce((r,a)=>(i.hasOwnProperty(a)&&(r[a]=i[a]),r),{})}const eE=zn.setTimeout,tE=zn.clearTimeout;function ku(i,t){t.useNativeTimers?(i.setTimeoutFn=eE.bind(zn),i.clearTimeoutFn=tE.bind(zn)):(i.setTimeoutFn=zn.setTimeout.bind(zn),i.clearTimeoutFn=zn.clearTimeout.bind(zn))}const nE=1.33;function iE(i){return typeof i=="string"?rE(i):Math.ceil((i.byteLength||i.size)*nE)}function rE(i){let t=0,r=0;for(let a=0,l=i.length;a<l;a++)t=i.charCodeAt(a),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(a++,r+=4);return r}function N1(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function aE(i){let t="";for(let r in i)i.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(i[r]));return t}function sE(i){let t={},r=i.split("&");for(let a=0,l=r.length;a<l;a++){let u=r[a].split("=");t[decodeURIComponent(u[0])]=decodeURIComponent(u[1])}return t}class oE extends Error{constructor(t,r,a){super(t),this.description=r,this.context=a,this.type="TransportError"}}class Ch extends Dt{constructor(t){super(),this.writable=!1,ku(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,a){return super.emitReserved("error",new oE(t,r,a)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=Oh(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=aE(t);return r.length?"?"+r:""}}class lE extends Ch{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let a=0;this._polling&&(a++,this.once("pollComplete",function(){--a||r()})),this.writable||(a++,this.once("drain",function(){--a||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=a=>{if(this.readyState==="opening"&&a.type==="open"&&this.onOpen(),a.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(a)};FC(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,XC(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=N1()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let k1=!1;try{k1=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const uE=k1;function cE(){}class fE extends lE{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let a=location.port;a||(a=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||a!==t.port}}doWrite(t,r){const a=this.request({method:"POST",data:t});a.on("success",r),a.on("error",(l,u)=>{this.onError("xhr post error",l,u)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,a)=>{this.onError("xhr poll error",r,a)}),this.pollXhr=t}}class oi extends Dt{constructor(t,r,a){super(),this.createRequest=t,ku(this,a),this._opts=a,this._method=a.method||"GET",this._uri=r,this._data=a.data!==void 0?a.data:null,this._create()}_create(){var t;const r=E1(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const a=this._xhr=this.createRequest(r);try{a.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){a.setDisableHeaderCheck&&a.setDisableHeaderCheck(!0);for(let l in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(l)&&a.setRequestHeader(l,this._opts.extraHeaders[l])}}catch{}if(this._method==="POST")try{a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{a.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(a),"withCredentials"in a&&(a.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(a.timeout=this._opts.requestTimeout),a.onreadystatechange=()=>{var l;a.readyState===3&&((l=this._opts.cookieJar)===null||l===void 0||l.parseCookies(a.getResponseHeader("set-cookie"))),a.readyState===4&&(a.status===200||a.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof a.status=="number"?a.status:0)},0))},a.send(this._data)}catch(l){this.setTimeoutFn(()=>{this._onError(l)},0);return}typeof document<"u"&&(this._index=oi.requestsCount++,oi.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=cE,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete oi.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}oi.requestsCount=0;oi.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",r0);else if(typeof addEventListener=="function"){const i="onpagehide"in zn?"pagehide":"unload";addEventListener(i,r0,!1)}}function r0(){for(let i in oi.requests)oi.requests.hasOwnProperty(i)&&oi.requests[i].abort()}const dE=(function(){const i=j1({xdomain:!1});return i&&i.responseType!==null})();class hE extends fE{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=dE&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new oi(j1,this.uri(),t)}}function j1(i){const t=i.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||uE))return new XMLHttpRequest}catch{}if(!t)try{return new zn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const D1=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class pE extends Ch{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,a=D1?{}:E1(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(a.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,a)}catch(l){return this.emitReserved("error",l)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const a=t[r],l=r===t.length-1;Th(a,this.supportsBinary,u=>{try{this.doWrite(a,u)}catch{}l&&Nu(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=N1()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const yd=zn.WebSocket||zn.MozWebSocket;class mE extends pE{createSocket(t,r,a){return D1?new yd(t,r,a):r?new yd(t,r):new yd(t)}doWrite(t,r){this.ws.send(r)}}class gE extends Ch{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=KC(Number.MAX_SAFE_INTEGER,this.socket.binaryType),a=t.readable.pipeThrough(r).getReader(),l=QC();l.readable.pipeTo(t.writable),this._writer=l.writable.getWriter();const u=()=>{a.read().then(({done:h,value:p})=>{h||(this.onPacket(p),u())}).catch(h=>{})};u();const f={type:"open"};this.query.sid&&(f.data=`{"sid":"${this.query.sid}"}`),this._writer.write(f).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const a=t[r],l=r===t.length-1;this._writer.write(a).then(()=>{l&&Nu(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const yE={websocket:mE,webtransport:gE,polling:hE},vE=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,bE=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Zd(i){if(i.length>8e3)throw"URI too long";const t=i,r=i.indexOf("["),a=i.indexOf("]");r!=-1&&a!=-1&&(i=i.substring(0,r)+i.substring(r,a).replace(/:/g,";")+i.substring(a,i.length));let l=vE.exec(i||""),u={},f=14;for(;f--;)u[bE[f]]=l[f]||"";return r!=-1&&a!=-1&&(u.source=t,u.host=u.host.substring(1,u.host.length-1).replace(/;/g,":"),u.authority=u.authority.replace("[","").replace("]","").replace(/;/g,":"),u.ipv6uri=!0),u.pathNames=SE(u,u.path),u.queryKey=wE(u,u.query),u}function SE(i,t){const r=/\/{2,9}/g,a=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&a.splice(0,1),t.slice(-1)=="/"&&a.splice(a.length-1,1),a}function wE(i,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,l,u){l&&(r[l]=u)}),r}const Pd=typeof addEventListener=="function"&&typeof removeEventListener=="function",lu=[];Pd&&addEventListener("offline",()=>{lu.forEach(i=>i())},!1);class pr extends Dt{constructor(t,r){if(super(),this.binaryType=JC,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const a=Zd(t);r.hostname=a.host,r.secure=a.protocol==="https"||a.protocol==="wss",r.port=a.port,a.query&&(r.query=a.query)}else r.host&&(r.hostname=Zd(r.host).host);ku(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(a=>{const l=a.prototype.name;this.transports.push(l),this._transportsByName[l]=a}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=sE(this.opts.query)),Pd&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},lu.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=C1,r.transport=t,this.id&&(r.sid=this.id);const a=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](a)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&pr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",pr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let a=0;a<this.writeBuffer.length;a++){const l=this.writeBuffer[a].data;if(l&&(r+=iE(l)),a>0&&r>this._maxPayload)return this.writeBuffer.slice(0,a);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Nu(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,a){return this._sendPacket("message",t,r,a),this}send(t,r,a){return this._sendPacket("message",t,r,a),this}_sendPacket(t,r,a,l){if(typeof r=="function"&&(l=r,r=void 0),typeof a=="function"&&(l=a,a=null),this.readyState==="closing"||this.readyState==="closed")return;a=a||{},a.compress=a.compress!==!1;const u={type:t,data:r,options:a};this.emitReserved("packetCreate",u),this.writeBuffer.push(u),l&&this.once("flush",l),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},a=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?a():t()}):this.upgrading?a():t()),this}_onError(t){if(pr.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Pd&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const a=lu.indexOf(this._offlineEventListener);a!==-1&&lu.splice(a,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}pr.protocol=C1;class xE extends pr{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),a=!1;pr.priorWebsocketSuccess=!1;const l=()=>{a||(r.send([{type:"ping",data:"probe"}]),r.once("packet",S=>{if(!a)if(S.type==="pong"&&S.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;pr.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{a||this.readyState!=="closed"&&(v(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const b=new Error("probe error");b.transport=r.name,this.emitReserved("upgradeError",b)}}))};function u(){a||(a=!0,v(),r.close(),r=null)}const f=S=>{const b=new Error("probe error: "+S);b.transport=r.name,u(),this.emitReserved("upgradeError",b)};function h(){f("transport closed")}function p(){f("socket closed")}function m(S){r&&S.name!==r.name&&u()}const v=()=>{r.removeListener("open",l),r.removeListener("error",f),r.removeListener("close",h),this.off("close",p),this.off("upgrading",m)};r.once("open",l),r.once("error",f),r.once("close",h),this.once("close",p),this.once("upgrading",m),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{a||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let a=0;a<t.length;a++)~this.transports.indexOf(t[a])&&r.push(t[a]);return r}}let _E=class extends xE{constructor(t,r={}){const a=typeof t=="object"?t:r;(!a.transports||a.transports&&typeof a.transports[0]=="string")&&(a.transports=(a.transports||["polling","websocket","webtransport"]).map(l=>yE[l]).filter(l=>!!l)),super(t,a)}};function TE(i,t="",r){let a=i;r=r||typeof location<"u"&&location,i==null&&(i=r.protocol+"//"+r.host),typeof i=="string"&&(i.charAt(0)==="/"&&(i.charAt(1)==="/"?i=r.protocol+i:i=r.host+i),/^(https?|wss?):\/\//.test(i)||(typeof r<"u"?i=r.protocol+"//"+i:i="https://"+i),a=Zd(i)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const u=a.host.indexOf(":")!==-1?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+u+":"+a.port+t,a.href=a.protocol+"://"+u+(r&&r.port===a.port?"":":"+a.port),a}const OE=typeof ArrayBuffer=="function",CE=i=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(i):i.buffer instanceof ArrayBuffer,M1=Object.prototype.toString,EE=typeof Blob=="function"||typeof Blob<"u"&&M1.call(Blob)==="[object BlobConstructor]",NE=typeof File=="function"||typeof File<"u"&&M1.call(File)==="[object FileConstructor]";function Eh(i){return OE&&(i instanceof ArrayBuffer||CE(i))||EE&&i instanceof Blob||NE&&i instanceof File}function uu(i,t){if(!i||typeof i!="object")return!1;if(Array.isArray(i)){for(let r=0,a=i.length;r<a;r++)if(uu(i[r]))return!0;return!1}if(Eh(i))return!0;if(i.toJSON&&typeof i.toJSON=="function"&&arguments.length===1)return uu(i.toJSON(),!0);for(const r in i)if(Object.prototype.hasOwnProperty.call(i,r)&&uu(i[r]))return!0;return!1}function kE(i){const t=[],r=i.data,a=i;return a.data=Xd(r,t),a.attachments=t.length,{packet:a,buffers:t}}function Xd(i,t){if(!i)return i;if(Eh(i)){const r={_placeholder:!0,num:t.length};return t.push(i),r}else if(Array.isArray(i)){const r=new Array(i.length);for(let a=0;a<i.length;a++)r[a]=Xd(i[a],t);return r}else if(typeof i=="object"&&!(i instanceof Date)){const r={};for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&(r[a]=Xd(i[a],t));return r}return i}function jE(i,t){return i.data=Fd(i.data,t),delete i.attachments,i}function Fd(i,t){if(!i)return i;if(i&&i._placeholder===!0){if(typeof i.num=="number"&&i.num>=0&&i.num<t.length)return t[i.num];throw new Error("illegal attachments")}else if(Array.isArray(i))for(let r=0;r<i.length;r++)i[r]=Fd(i[r],t);else if(typeof i=="object")for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&(i[r]=Fd(i[r],t));return i}const DE=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],ME=5;var qe;(function(i){i[i.CONNECT=0]="CONNECT",i[i.DISCONNECT=1]="DISCONNECT",i[i.EVENT=2]="EVENT",i[i.ACK=3]="ACK",i[i.CONNECT_ERROR=4]="CONNECT_ERROR",i[i.BINARY_EVENT=5]="BINARY_EVENT",i[i.BINARY_ACK=6]="BINARY_ACK"})(qe||(qe={}));class AE{constructor(t){this.replacer=t}encode(t){return(t.type===qe.EVENT||t.type===qe.ACK)&&uu(t)?this.encodeAsBinary({type:t.type===qe.EVENT?qe.BINARY_EVENT:qe.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===qe.BINARY_EVENT||t.type===qe.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=kE(t),a=this.encodeAsString(r.packet),l=r.buffers;return l.unshift(a),l}}function a0(i){return Object.prototype.toString.call(i)==="[object Object]"}class Nh extends Dt{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const a=r.type===qe.BINARY_EVENT;a||r.type===qe.BINARY_ACK?(r.type=a?qe.EVENT:qe.ACK,this.reconstructor=new RE(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Eh(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const a={type:Number(t.charAt(0))};if(qe[a.type]===void 0)throw new Error("unknown packet type "+a.type);if(a.type===qe.BINARY_EVENT||a.type===qe.BINARY_ACK){const u=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const f=t.substring(u,r);if(f!=Number(f)||t.charAt(r)!=="-")throw new Error("Illegal attachments");a.attachments=Number(f)}if(t.charAt(r+1)==="/"){const u=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););a.nsp=t.substring(u,r)}else a.nsp="/";const l=t.charAt(r+1);if(l!==""&&Number(l)==l){const u=r+1;for(;++r;){const f=t.charAt(r);if(f==null||Number(f)!=f){--r;break}if(r===t.length)break}a.id=Number(t.substring(u,r+1))}if(t.charAt(++r)){const u=this.tryParse(t.substr(r));if(Nh.isPayloadValid(a.type,u))a.data=u;else throw new Error("invalid payload")}return a}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case qe.CONNECT:return a0(r);case qe.DISCONNECT:return r===void 0;case qe.CONNECT_ERROR:return typeof r=="string"||a0(r);case qe.EVENT:case qe.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&DE.indexOf(r[0])===-1);case qe.ACK:case qe.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class RE{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=jE(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const zE=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Nh,Encoder:AE,get PacketType(){return qe},protocol:ME},Symbol.toStringTag,{value:"Module"}));function Zn(i,t,r){return i.on(t,r),function(){i.off(t,r)}}const BE=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class A1 extends Dt{constructor(t,r,a){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,a&&a.auth&&(this.auth=a.auth),this._opts=Object.assign({},a),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Zn(t,"open",this.onopen.bind(this)),Zn(t,"packet",this.onpacket.bind(this)),Zn(t,"error",this.onerror.bind(this)),Zn(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var a,l,u;if(BE.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const f={type:qe.EVENT,data:r};if(f.options={},f.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const v=this.ids++,S=r.pop();this._registerAckCallback(v,S),f.id=v}const h=(l=(a=this.io.engine)===null||a===void 0?void 0:a.transport)===null||l===void 0?void 0:l.writable,p=this.connected&&!(!((u=this.io.engine)===null||u===void 0)&&u._hasPingExpired());return this.flags.volatile&&!h||(p?(this.notifyOutgoingListeners(f),this.packet(f)):this.sendBuffer.push(f)),this.flags={},this}_registerAckCallback(t,r){var a;const l=(a=this.flags.timeout)!==null&&a!==void 0?a:this._opts.ackTimeout;if(l===void 0){this.acks[t]=r;return}const u=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let h=0;h<this.sendBuffer.length;h++)this.sendBuffer[h].id===t&&this.sendBuffer.splice(h,1);r.call(this,new Error("operation has timed out"))},l),f=(...h)=>{this.io.clearTimeoutFn(u),r.apply(this,h)};f.withError=!0,this.acks[t]=f}emitWithAck(t,...r){return new Promise((a,l)=>{const u=(f,h)=>f?l(f):a(h);u.withError=!0,r.push(u),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const a={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((l,...u)=>a!==this._queue[0]?void 0:(l!==null?a.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(l)):(this._queue.shift(),r&&r(null,...u)),a.pending=!1,this._drainQueue())),this._queue.push(a),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:qe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(a=>String(a.id)===t)){const a=this.acks[t];delete this.acks[t],a.withError&&a.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case qe.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case qe.EVENT:case qe.BINARY_EVENT:this.onevent(t);break;case qe.ACK:case qe.BINARY_ACK:this.onack(t);break;case qe.DISCONNECT:this.ondisconnect();break;case qe.CONNECT_ERROR:this.destroy();const a=new Error(t.data.message);a.data=t.data.data,this.emitReserved("connect_error",a);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const a of r)a.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let a=!1;return function(...l){a||(a=!0,r.packet({type:qe.ACK,id:t,data:l}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:qe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let a=0;a<r.length;a++)if(t===r[a])return r.splice(a,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let a=0;a<r.length;a++)if(t===r[a])return r.splice(a,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const a of r)a.apply(this,t.data)}}}function as(i){i=i||{},this.ms=i.min||100,this.max=i.max||1e4,this.factor=i.factor||2,this.jitter=i.jitter>0&&i.jitter<=1?i.jitter:0,this.attempts=0}as.prototype.duration=function(){var i=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*i);i=(Math.floor(t*10)&1)==0?i-r:i+r}return Math.min(i,this.max)|0};as.prototype.reset=function(){this.attempts=0};as.prototype.setMin=function(i){this.ms=i};as.prototype.setMax=function(i){this.max=i};as.prototype.setJitter=function(i){this.jitter=i};class Qd extends Dt{constructor(t,r){var a;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,ku(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((a=r.randomizationFactor)!==null&&a!==void 0?a:.5),this.backoff=new as({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const l=r.parser||zE;this.encoder=new l.Encoder,this.decoder=new l.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new _E(this.uri,this.opts);const r=this.engine,a=this;this._readyState="opening",this.skipReconnect=!1;const l=Zn(r,"open",function(){a.onopen(),t&&t()}),u=h=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",h),t?t(h):this.maybeReconnectOnOpen()},f=Zn(r,"error",u);if(this._timeout!==!1){const h=this._timeout,p=this.setTimeoutFn(()=>{l(),u(new Error("timeout")),r.close()},h);this.opts.autoUnref&&p.unref(),this.subs.push(()=>{this.clearTimeoutFn(p)})}return this.subs.push(l),this.subs.push(f),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Zn(t,"ping",this.onping.bind(this)),Zn(t,"data",this.ondata.bind(this)),Zn(t,"error",this.onerror.bind(this)),Zn(t,"close",this.onclose.bind(this)),Zn(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){Nu(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let a=this.nsps[t];return a?this._autoConnect&&!a.active&&a.connect():(a=new A1(this,t,r),this.nsps[t]=a),a}_destroy(t){const r=Object.keys(this.nsps);for(const a of r)if(this.nsps[a].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let a=0;a<r.length;a++)this.engine.write(r[a],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var a;this.cleanup(),(a=this.engine)===null||a===void 0||a.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const a=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(l=>{l?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",l)):t.onreconnect()}))},r);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const ro={};function cu(i,t){typeof i=="object"&&(t=i,i=void 0),t=t||{};const r=TE(i,t.path||"/socket.io"),a=r.source,l=r.id,u=r.path,f=ro[l]&&u in ro[l].nsps,h=t.forceNew||t["force new connection"]||t.multiplex===!1||f;let p;return h?p=new Qd(a,t):(ro[l]||(ro[l]=new Qd(a,t)),p=ro[l]),r.query&&!t.query&&(t.query=r.queryKey),p.socket(r.path,t)}Object.assign(cu,{Manager:Qd,Socket:A1,io:cu,connect:cu});const HE="http://localhost:3000",mt=cu(HE,{autoConnect:!1,reconnection:!0,reconnectionAttempts:10,reconnectionDelay:1e3}),UE=()=>{mt.connected||mt.connect()},IE=()=>{mt.connected&&mt.disconnect()};function LE(){const[i,t]=D.useState(!0),[r,a]=D.useState(null);D.useEffect(()=>{if(mt)return mt.on("forecast-update",p=>{console.log("Forecast received:",p),a(p)}),mt.emit("request-forecast"),()=>{mt.off("forecast-update")}},[]);const l=()=>{mt?.emit("request-forecast")},u=p=>{if(!p)return"";const m=p.toLowerCase();return m.includes("rain")||m.includes("shower")?"":m.includes("cloud")?"":m.includes("sun")||m.includes("clear")?"":m.includes("snow")?"":m.includes("storm")||m.includes("thunder")?"":""},f=p=>{if(!p)return"";if(typeof p=="string"&&p.match(/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun)/i))return p;const m=new Date(parseInt(p)||p);if(isNaN(m.getTime()))return p;const v=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return`${v[m.getDay()]}, ${S[m.getMonth()]} ${m.getDate()}`},h=()=>!r||!r.length?g.jsx("div",{className:"forecast-empty",children:"No forecast data"}):r.slice(0,5).map((p,m)=>g.jsxs("div",{className:"forecast-card",children:[g.jsx("div",{className:"forecast-date",children:f(p.date||p.day)}),g.jsx("div",{className:"forecast-icon",children:u(p.conditions||p.condition)}),g.jsxs("div",{className:"forecast-temps",children:[g.jsxs("span",{className:"temp-high",children:[p.high,""]}),g.jsxs("span",{className:"temp-low",children:[p.low,""]}),g.jsx("span",{className:"precip",children:p.precipitation||p.precip||"0%"})]})]},m));return g.jsxs("div",{className:"forecast-panel",children:[g.jsxs("div",{className:"forecast-panel-header",onClick:()=>t(!i),children:[g.jsx("span",{children:"5-Day Forecast"}),g.jsx("button",{onClick:p=>{p.stopPropagation(),l()},className:"forecast-refresh-btn",children:"Refresh"})]}),i&&g.jsx("div",{className:"forecast-panel-content",children:h()})]})}class VE{constructor(){this.nodes=new Map}register(t,r){typeof t=="object"&&r===void 0&&(r=t,t=r.label?r.label.replace(/\s+/g,""):"Node_"+Math.random().toString(36).substr(2,9)),this.nodes.set(t,r)}get(t){return this.nodes.get(t)}getAll(){return Array.from(this.nodes.values()).filter(t=>t)}getByLabel(t){for(const r of this.nodes.values())if(r.label===t)return r;return null}getByInstance(t){for(const r of this.nodes.values())if(r.nodeClass&&t instanceof r.nodeClass)return r;return null}}const lt=new VE;class hr extends ne.Control{constructor(t,r){super(),this.label=t,this.onClick=r}}function $E({data:i}){return g.jsx("button",{onPointerDown:t=>t.stopPropagation(),onDoubleClick:t=>t.stopPropagation(),onClick:i.onClick,style:{width:"100%",padding:"8px",marginBottom:"5px",background:"rgba(0, 243, 255, 0.1)",border:"1px solid rgba(0, 243, 255, 0.4)",color:"#00f3ff",borderRadius:"20px",cursor:"pointer",fontWeight:"600",textTransform:"uppercase",fontSize:"12px",transition:"all 0.2s"},onMouseOver:t=>{t.currentTarget.style.background="rgba(0, 243, 255, 0.25)",t.currentTarget.style.boxShadow="0 0 12px rgba(0, 243, 255, 0.4)"},onMouseOut:t=>{t.currentTarget.style.background="rgba(0, 243, 255, 0.1)",t.currentTarget.style.boxShadow="none"},children:i.label})}class $r extends ne.Control{constructor(t,r,a,l){super(),this.label=t,this.values=r,this.value=a,this.onChange=l}setValue(t){this.value=t}}function qE({data:i}){const[,t]=D.useReducer(f=>f+1,0),[r,a]=D.useState(i.value);D.useEffect(()=>{a(i.value)},[i.value]),D.useEffect(()=>{t()},[i]);const l=f=>{const h=f.target.value;a(h),typeof i.setValue=="function"?i.setValue(h):i.value=h,i.onChange&&i.onChange(h)},u=i.values||[];return g.jsxs("div",{style:{marginBottom:"5px"},children:[i.label&&g.jsx("label",{style:{display:"block",fontSize:"10px",color:"#00f3ff",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.5px"},children:i.label}),g.jsx("select",{value:r,onChange:l,onPointerDown:f=>f.stopPropagation(),onDoubleClick:f=>f.stopPropagation(),style:{width:"100%",background:"#0a0f14",color:"#00f3ff",border:"1px solid rgba(0, 243, 255, 0.3)",padding:"6px",borderRadius:"4px",outline:"none",fontSize:"12px"},children:u.map(f=>g.jsx("option",{value:f,style:{background:"#0a0f14",color:"#00f3ff"},children:f},f))})]})}class YE extends ne.Control{constructor(t,r,a){super(),this.label=t,this.value=r,this.onChange=a}}function GE({data:i}){const[t,r]=D.useState(i.value),a=l=>{const u=l.target.checked;r(u),i.value=u,i.onChange&&i.onChange(u)};return g.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"5px"},children:[g.jsx("input",{type:"checkbox",checked:t,onChange:a,onPointerDown:l=>l.stopPropagation(),onDoubleClick:l=>l.stopPropagation(),style:{accentColor:"#00f3ff"}}),g.jsx("span",{style:{marginLeft:"5px",fontSize:"12px",color:"#00f3ff",textTransform:"uppercase",letterSpacing:"0.5px"},children:i.label})]})}class ZE extends ne.Control{constructor(t,r,a,l={}){super(),this.label=t,this.value=r,this.onChange=a,this.options=l}}function PE({data:i}){const[t,r]=D.useState(i.value),a=l=>{const u=Number(l.target.value);r(u),i.value=u,i.onChange&&i.onChange(u)};return g.jsxs("div",{style:{marginBottom:"5px"},children:[i.label&&g.jsx("label",{style:{display:"block",fontSize:"10px",color:"#00f3ff",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.5px"},children:i.label}),g.jsx("input",{type:"number",value:t,onChange:a,min:i.options.min,max:i.options.max,step:i.options.step,onPointerDown:l=>l.stopPropagation(),onDoubleClick:l=>l.stopPropagation(),style:{width:"100%",background:"#0a0f14",color:"#00f3ff",border:"1px solid rgba(0, 243, 255, 0.3)",padding:"6px",borderRadius:"4px",outline:"none",fontSize:"12px"}})]})}class s0 extends ne.Control{constructor(t,r){super(),this.deviceId=t,this.getState=r}}function XE({data:i}){const t=i.getState?i.getState(i.deviceId):null;if(Zr.useEffect(()=>{const m=document.createElement("style");return m.innerHTML=`
            @keyframes flash-pulse {
                0% { opacity: 1; box-shadow: 0 0 5px currentColor; }
                50% { opacity: 0.6; box-shadow: 0 0 2px currentColor; }
                100% { opacity: 1; box-shadow: 0 0 5px currentColor; }
            }
        `,document.head.appendChild(m),()=>document.head.removeChild(m)},[]),!t)return g.jsx("div",{style:{padding:"4px 8px",background:"rgba(0, 20, 30, 0.6)",borderRadius:"4px",marginBottom:"4px",display:"flex",alignItems:"center",justifyContent:"space-between",minHeight:"24px",border:"1px solid rgba(0, 243, 255, 0.1)"},children:g.jsx("span",{style:{fontSize:"11px",color:"rgba(0, 243, 255, 0.5)"},children:"No state data"})});const r=t.on||t.state==="on",a=t.brightness?Math.round(t.brightness/255*100):0,l=t.hs_color||[0,0],[u,f]=l;let h="#e74c3c";r&&(f===0?h="#f1c40f":h=`hsl(${u}, ${f}%, 50%)`);const p={width:"14px",height:"14px",borderRadius:"50%",background:h,border:"1px solid rgba(255,255,255,0.3)",animation:r?"flash-pulse 2s infinite ease-in-out":"none",color:h,marginRight:"8px",flexShrink:0,boxShadow:r?`0 0 5px ${h}`:"none"};return g.jsxs("div",{style:{padding:"6px 8px",background:"rgba(0, 20, 30, 0.6)",borderRadius:"4px",marginBottom:"4px",border:"1px solid rgba(0, 243, 255, 0.2)",display:"flex",flexDirection:"column"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:r?"4px":"0"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",flex:1,overflow:"hidden"},children:[g.jsx("div",{style:p}),g.jsx("span",{style:{fontSize:"12px",color:"#e0f7fa",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginRight:"8px"},children:t.name||i.deviceId})]}),g.jsx("span",{style:{fontSize:"10px",color:"#00f3ff",fontFamily:"monospace",whiteSpace:"nowrap"},children:r?`${a}%`:"Off"})]}),r&&g.jsx("div",{style:{width:"100%",height:"4px",background:"rgba(0, 243, 255, 0.1)",borderRadius:"2px",overflow:"hidden"},children:g.jsx("div",{style:{width:`${a}%`,height:"100%",background:`linear-gradient(90deg, rgba(0, 243, 255, 0.2), ${h})`,transition:"width 0.3s ease-out"}})})]})}class Kd extends ne.Control{constructor(t){super(),this.data=t}}class FE extends ne.Control{constructor(t){super(),this.data=t}}class vo extends ne.Control{constructor(t){super(),this.data=t}}class Pa extends ne.Node{constructor(t){super("HA Generic Device"),this.width=420,this.changeCallback=t,this.properties={selectedDeviceIds:[],selectedDeviceNames:[],status:"Initializing...",debug:!0,haToken:localStorage.getItem("ha_token")||"",transitionTime:1e3,filterType:"All",triggerMode:"Follow",autoRefreshInterval:3e4},this.lastTriggerValue=!1,this.lastHsvInfo=null,this.devices=[],this.perDeviceState={},this.intervalId=null,console.log("[HAGenericDeviceNode] sockets.boolean:",Be.boolean),console.log("[HAGenericDeviceNode] sockets.object:",Be.object),this.addInput("trigger",new ne.Input(Be.boolean,"Trigger")),this.addInput("hsv_info",new ne.Input(Be.object,"HSV Info")),this.addOutput("all_devices",new ne.Output(Be.lightInfo,"All Devices")),this.setupControls(),this.initializeSocketIO(),this.startAutoRefresh()}static compareNames(t="",r=""){return t.localeCompare(r,void 0,{sensitivity:"base"})}normalizeSelectedDeviceNames(){const t=this.getAllDevicesWithUniqueNames(),r=new Map(t.map(a=>[a.device.id,a.displayName]));this.properties.selectedDeviceIds.forEach((a,l)=>{if(!a)return;const u=r.get(a);u&&(this.properties.selectedDeviceNames[l]=u)})}startAutoRefresh(){this.intervalId&&clearInterval(this.intervalId),this.intervalId=setInterval(()=>this.fetchDevices(),this.properties.autoRefreshInterval)}restore(t){t.properties&&Object.assign(this.properties,t.properties);const r=this.controls.filter;r&&(r.value=this.properties.filterType);const a=this.controls.trigger_mode;a&&(a.value=this.properties.triggerMode||"Toggle");const l=this.controls.transition;l&&(l.value=this.properties.transitionTime);const u=this.controls.debug;u&&(u.value=this.properties.debug),this.properties.selectedDeviceIds.forEach((f,h)=>{const p=`device_${h}_`,m=this.properties.selectedDeviceNames[h]||"Device "+(h+1);f&&f.split(".")[0],this.addControl(`${p}select`,new $r(`Device ${h+1}`,["Select Device",...this.getDeviceOptions()],m,v=>this.onDeviceSelected(v,h))),this.addControl(`${p}power`,new vo({power:null,energy:null})),this.addControl(`${p}state`,new s0(f,v=>this.perDeviceState[v])),this.addOutput(`device_out_${h}`,new ne.Output(Be.lightInfo,`Device ${h+1}`)),f&&this.fetchDeviceState(f)}),this.fetchDevices()}async data(t){const r=t.hsv_info?.[0],l=t.trigger?.[0]??!1;let u=!1;if(r&&typeof r=="object"){const S=JSON.stringify(r);S!==this.lastHsvInfo&&(console.log("[HAGenericDeviceNode] New HSV Info detected:",r),this.lastHsvInfo=S,await this.applyHSVInput(r),u=!0)}const f=l&&!this.lastTriggerValue,h=!l&&this.lastTriggerValue,p=this.properties.triggerMode||"Toggle";p==="Toggle"?f&&(console.log("[HAGenericDeviceNode] Toggle Mode: Rising Edge -> Toggling"),await this.onTrigger(),u=!0):p==="Follow"?(f||h)&&(console.log(`[HAGenericDeviceNode] Follow Mode: Input ${l?"High":"Low"} -> Setting ${l?"On":"Off"}`),await this.setDevicesState(l),u=!0):p==="Turn On"?f&&(console.log("[HAGenericDeviceNode] Turn On Mode: Rising Edge -> Turning On"),await this.setDevicesState(!0),u=!0):p==="Turn Off"&&f&&(console.log("[HAGenericDeviceNode] Turn Off Mode: Rising Edge -> Turning Off"),await this.setDevicesState(!1),u=!0),this.lastTriggerValue=!!l;const m={},v=[];return this.properties.selectedDeviceIds.forEach((S,b)=>{if(S){const x=this.perDeviceState[S]||{on:!1,state:"off"};m[`device_out_${b}`]=x,v.push(x)}else m[`device_out_${b}`]=null}),m.all_devices=v.length>0?v:null,u&&this.triggerUpdate(),m}triggerUpdate(){this.changeCallback&&this.changeCallback()}setupControls(){this.addControl("filter",new $r("Filter Devices",["All","Light","Switch"],"All",t=>{this.properties.filterType=t,this.updateDeviceSelectorOptions(),this.triggerUpdate()})),this.addControl("trigger_mode",new $r("Input Mode",["Toggle","Follow","Turn On","Turn Off"],"Follow",t=>{this.properties.triggerMode=t})),this.addControl("add_device",new hr(" Add Device",()=>this.onAddDevice())),this.addControl("remove_device",new hr(" Remove Device",()=>this.onRemoveDevice())),this.addControl("refresh",new hr(" Refresh",()=>this.fetchDevices())),this.addControl("trigger_btn",new hr(" Manual Trigger",()=>this.onTrigger())),this.addControl("transition",new ZE("Transition (ms)",1e3,t=>this.properties.transitionTime=t,{min:0,max:1e4})),this.addControl("debug",new YE("Debug Logs",!0,t=>this.properties.debug=t))}initializeSocketIO(){mt.on("device-state-update",t=>this.handleDeviceStateUpdate(t)),mt.connected&&this.fetchDevices(),mt.on("connect",()=>this.fetchDevices())}async fetchDevices(){try{const r=await(await fetch("http://localhost:3000/api/lights/ha/",{headers:{Authorization:`Bearer ${this.properties.haToken}`}})).json();r.success&&Array.isArray(r.devices)?(this.devices=[...r.devices].sort((a,l)=>Pa.compareNames(a.name||a.id,l.name||l.id)),this.normalizeSelectedDeviceNames(),this.updateStatus(`Loaded ${r.devices.length} devices`),this.updateDeviceSelectorOptions(),this.triggerUpdate()):this.updateStatus("Failed to load devices")}catch(t){console.error("Fetch devices error:",t),this.updateStatus("Connection failed")}}updateStatus(t){this.properties.status=t,this.triggerUpdate()}onAddDevice(){const t=this.properties.selectedDeviceIds.length;this.properties.selectedDeviceIds.push(null),this.properties.selectedDeviceNames.push(null);const r=`device_${t}_`;this.addControl(`${r}select`,new $r(`Device ${t+1}`,["Select Device",...this.getDeviceOptions()],"Select Device",a=>this.onDeviceSelected(a,t))),this.addControl(`${r}power`,new vo({power:null,energy:null})),this.addControl(`${r}state`,new s0(null,a=>this.perDeviceState[a])),this.addOutput(`device_out_${t}`,new ne.Output(Be.lightInfo,`Device ${t+1}`)),this.triggerUpdate()}onRemoveDevice(){if(this.properties.selectedDeviceIds.length===0)return;const t=this.properties.selectedDeviceIds.length-1,r=`device_${t}_`;this.properties.selectedDeviceIds.pop(),this.properties.selectedDeviceNames.pop(),this.removeControl(`${r}select`),this.removeControl(`${r}power`),this.removeControl(`${r}state`),this.removeOutput(`device_out_${t}`),this.triggerUpdate()}getAllDevicesWithUniqueNames(){const t=this.devices||[],r=t.reduce((a,l)=>{const u=(l.name||l.id||"").trim();return a[u]=(a[u]||0)+1,a},{});return t.map(a=>{const l=(a.name||a.id||"").trim(),u=r[l]>1?`${l} (${a.id})`:l;return{device:a,displayName:u}}).sort((a,l)=>Pa.compareNames(a.displayName,l.displayName))}getDeviceOptions(){let t=this.getAllDevicesWithUniqueNames();if(this.properties.filterType!=="All"){const r=this.properties.filterType.toLowerCase();t=t.filter(a=>a.device.type?.toLowerCase()===r)}return t.sort((r,a)=>r.displayName.toLowerCase().localeCompare(a.displayName.toLowerCase())),t.map(r=>r.displayName)}updateDeviceSelectorOptions(){this.properties.selectedDeviceIds.forEach((t,r)=>{const a=this.controls[`device_${r}_select`];if(!a)return;const l=a.value||"Select Device",u=this.getDeviceOptions();let f=[...u];l!=="Select Device"&&!u.includes(l)&&(f=[...f,l].sort((h,p)=>Pa.compareNames(h,p))),a.values=["Select Device",...f],a.value=l})}async onDeviceSelected(t,r){if(t==="Select Device"){this.properties.selectedDeviceIds[r]=null;return}const a=this.getAllDevicesWithUniqueNames().find(f=>f.displayName===t);if(!a)return;const l=a.device;this.properties.selectedDeviceIds[r]=l.id,this.properties.selectedDeviceNames[r]=a.displayName||l.name;const u=this.controls[`device_${r}_state`];u&&(u.deviceId=l.id),await this.fetchDeviceState(l.id),this.triggerUpdate()}async fetchDeviceState(t){if(t)try{const a=await(await fetch(`http://localhost:3000/api/lights/ha/${t}/state`,{headers:{Authorization:`Bearer ${this.properties.haToken}`}})).json();a.success&&a.state&&(this.perDeviceState[t]=a.state,this.updateDeviceControls(t,a.state),this.triggerUpdate())}catch(r){console.error("Failed to fetch state for",t,r)}}async applyHSVInput(t){if(!t||typeof t!="object")return;const r=this.properties.transitionTime>0?this.properties.transitionTime:void 0,a=this.properties.selectedDeviceIds.filter(Boolean);a.length!==0&&(this.updateStatus("Applying control..."),await Promise.all(a.map(async l=>{const u=l.split(".")[0],f=u==="light"||u==="ha_light";let h=t.on??!0,p=null,m=null,v=null;t.mode==="temp"&&t.colorTemp?m=t.colorTemp:Array.isArray(t.hs_color)?p=t.hs_color:t.h!==void 0&&t.s!==void 0?p=[t.h,(t.s??0)*100]:t.hue!==void 0&&t.saturation!==void 0&&(p=[t.hue*360,t.saturation*100]),t.brightness!==void 0?v=t.brightness:t.v!==void 0&&(v=Math.round((t.v??0)*255)),v===0&&(h=!1);const b={on:h,state:h?"on":"off"};h&&f&&(m?b.color_temp_kelvin=m:p&&(b.hs_color=p),v!==null&&(b.brightness=Math.max(0,Math.min(255,Math.round(v)))),r&&(b.transition=r));try{await fetch(`http://localhost:3000/api/lights/ha/${l}/state`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.properties.haToken}`},body:JSON.stringify(b)});const x=this.perDeviceState[l]||{};this.perDeviceState[l]={...x,on:h,state:b.state,...p?{hs_color:p}:{},...m?{color_temp_kelvin:m}:{},...v!==null?{brightness:v}:{}},this.updateDeviceControls(l,this.perDeviceState[l])}catch(x){console.error(`Control apply failed for ${l}`,x)}})),this.triggerUpdate(),setTimeout(()=>this.updateStatus(`Control applied to ${a.length} devices`),600))}async setDevicesState(t){this.updateStatus(t?"Turning On...":"Turning Off...");const r=this.properties.selectedDeviceIds.filter(Boolean);if(r.length===0)return;const a=this.properties.transitionTime>0?this.properties.transitionTime:void 0;await Promise.all(r.map(async l=>{const u={on:t,state:t?"on":"off"};t&&a&&(u.transition=a);try{await fetch(`http://localhost:3000/api/lights/ha/${l}/state`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.properties.haToken}`},body:JSON.stringify(u)}),this.perDeviceState[l]={...this.perDeviceState[l],on:t,state:u.state},this.updateDeviceControls(l,this.perDeviceState[l])}catch(f){console.error(`Set state failed for ${l}`,f)}})),this.triggerUpdate(),setTimeout(()=>this.updateStatus(t?"Turned On":"Turned Off"),600)}async onTrigger(){this.updateStatus("Toggling...");const t=this.properties.selectedDeviceIds.filter(Boolean);if(console.log("[HAGenericDeviceNode] onTrigger called. IDs:",t),t.length===0){console.warn("[HAGenericDeviceNode] No devices selected to toggle."),this.updateStatus("No devices selected");return}const r=this.properties.transitionTime>0?this.properties.transitionTime:void 0;await Promise.all(t.map(async a=>{const u=!(this.perDeviceState[a]||{on:!1}).on,f={on:u,state:u?"on":"off"};u&&r&&(f.transition=r);try{await fetch(`http://localhost:3000/api/lights/ha/${a}/state`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.properties.haToken}`},body:JSON.stringify(f)}),this.perDeviceState[a]={...this.perDeviceState[a],on:u,state:f.state},this.updateDeviceControls(a,this.perDeviceState[a])}catch(h){console.error(`Toggle failed for ${a}`,h)}})),this.triggerUpdate(),setTimeout(()=>this.updateStatus(`Toggled ${t.length} device(s)`),600)}handleDeviceStateUpdate(t){let r,a;if(t.id)r=t.id,a={...t,state:t.state||(t.on?"on":"off")};else if(t.entity_id&&t.new_state){r=t.entity_id;const l=t.new_state.attributes||{};a={on:t.new_state.state==="on",state:t.new_state.state,brightness:l.brightness??0,hs_color:l.hs_color??[0,0],power:l.power||l.current_power_w||l.load_power||null,energy:l.energy||l.energy_kwh||l.total_energy_kwh||null}}r&&this.properties.selectedDeviceIds.includes(r)&&(this.perDeviceState[r]={...this.perDeviceState[r],...a},this.updateDeviceControls(r,a),this.triggerUpdate())}updateDeviceControls(t,r){this.properties.selectedDeviceIds.forEach((a,l)=>{if(a!==t)return;const u=`device_${l}_`,f=this.controls[`${u}power`];f&&(f.data={power:r.power??null,energy:r.energy??null})})}destroy(){this.intervalId&&clearInterval(this.intervalId),super.destroy?.()}}function QE({data:i,emit:t}){const[r,a]=D.useState(0),[l,u]=D.useState(!1);D.useEffect(()=>(i.changeCallback=()=>a(z=>z+1),()=>{i.changeCallback=null}),[i]);const f=Object.entries(i.inputs),h=Object.entries(i.outputs),p=Object.entries(i.controls),m=[],v={};p.forEach(([z,A])=>{if(z.startsWith("device_")){const N=z.split("_")[1];v[N]||(v[N]=[]),v[N].push({key:z,control:A})}else m.push({key:z,control:A})});const S={background:"#0a0f14",border:"1px solid #00f3ff",borderRadius:"8px",color:"#e0f7fa",minWidth:"350px",display:"flex",flexDirection:"column",boxShadow:"0 0 15px rgba(0, 243, 255, 0.2)"},b={padding:"10px",background:"linear-gradient(90deg, rgba(0, 243, 255, 0.1), rgba(0, 243, 255, 0.0))",borderBottom:"1px solid rgba(0, 243, 255, 0.3)",borderTopLeftRadius:"8px",borderTopRightRadius:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},x={padding:"10px",display:"flex",justifyContent:"space-between",gap:"20px",background:"rgba(0, 0, 0, 0.2)"},_={display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},E={padding:"10px",background:"rgba(0, 10, 15, 0.4)",borderTop:"1px solid rgba(0, 243, 255, 0.2)",borderBottomLeftRadius:"8px",borderBottomRightRadius:"8px",display:"flex",flexDirection:"column",gap:"8px"},T={padding:"10px",background:"rgba(0, 10, 15, 0.4)",borderTop:"1px solid rgba(0, 243, 255, 0.2)",borderBottomLeftRadius:"8px",borderBottomRightRadius:"8px",display:"flex",flexDirection:"column",gap:"4px"};return g.jsxs("div",{style:S,children:[g.jsxs("div",{style:b,children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx("div",{style:{cursor:"pointer",fontSize:"12px",userSelect:"none"},onPointerDown:z=>{z.stopPropagation(),u(!l)},children:l?"":""}),g.jsx("div",{style:{fontWeight:"bold"},children:i.label||"HA Generic Device"})]}),g.jsx("div",{style:{fontSize:"0.8em",color:"#aaa"},children:i.properties.status})]}),g.jsxs("div",{style:x,children:[g.jsx("div",{className:"inputs",children:f.map(([z,A])=>g.jsxs("div",{style:_,children:[g.jsx(Qe,{init:B=>t({type:"render",data:{type:"socket",element:B,payload:A.socket,nodeId:i.id,side:"input",key:z}}),unmount:B=>t({type:"unmount",data:{element:B}})}),g.jsx("span",{style:{fontSize:"0.8em"},children:A.label})]},z))}),g.jsx("div",{className:"outputs",children:h.map(([z,A])=>g.jsxs("div",{style:{..._,justifyContent:"flex-end"},children:[g.jsx("span",{style:{fontSize:"0.8em"},children:A.label}),g.jsx(Qe,{init:B=>t({type:"render",data:{type:"socket",element:B,payload:A.socket,nodeId:i.id,side:"output",key:z}}),unmount:B=>t({type:"unmount",data:{element:B}})})]},z))})]}),l&&g.jsxs("div",{style:T,children:[Object.entries(v).map(([z,A])=>{const B=A.find(Z=>Z.key.endsWith("_select")),N=A.find(Z=>Z.key.endsWith("_state")),H=B?.control?.value||`Device ${parseInt(z)+1}`,O=N?.control?.deviceId,R=O?i.perDeviceState?.[O]:null,I=R?.state==="on"||R?.on===!0;return H==="Select Device"?null:g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"11px",color:"#e0f7fa"},children:[g.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:I?"#00f3ff":"#333",boxShadow:I?"0 0 5px #00f3ff":"none"}}),g.jsx("span",{children:H})]},z)}),Object.keys(v).length===0&&g.jsx("div",{style:{fontSize:"11px",color:"#aaa"},children:"No devices added"})]}),!l&&g.jsxs("div",{style:E,children:[m.map(({key:z,control:A})=>g.jsx(Qe,{init:B=>t({type:"render",data:{type:"control",element:B,payload:A}}),unmount:B=>t({type:"unmount",data:{element:B}})},z)),Object.entries(v).map(([z,A])=>{const B=R=>A.find(I=>I.key.endsWith(R)),N=B("_select"),H=B("_power"),O=B("_state");return g.jsxs("div",{style:{border:"1px solid rgba(0, 243, 255, 0.2)",padding:"8px",borderRadius:"6px",marginTop:"8px",background:"rgba(0, 20, 30, 0.4)"},children:[N&&g.jsx("div",{style:{marginBottom:"5px"},children:g.jsx(Qe,{init:R=>t({type:"render",data:{type:"control",element:R,payload:N.control}}),unmount:R=>t({type:"unmount",data:{element:R}})},N.key)}),H&&H.control.data.power!==null&&g.jsx("div",{style:{marginBottom:"5px"},children:g.jsx(Qe,{init:R=>t({type:"render",data:{type:"control",element:R,payload:H.control}}),unmount:R=>t({type:"unmount",data:{element:R}})},H.key)}),O&&g.jsx("div",{children:g.jsx(Qe,{init:R=>t({type:"render",data:{type:"control",element:R,payload:O.control}}),unmount:R=>t({type:"unmount",data:{element:R}})},O.key)})]},z)})]})]})}class o0 extends ne.Node{constructor(t){super("Kasa Plug Control"),this.width=400,this.changeCallback=t,this.properties={selectedPlugIds:[],selectedPlugNames:[],status:"Initializing...",triggerMode:"Follow",autoRefreshInterval:5e3},this.plugs=[],this.perPlugState={},this.intervalId=null,this.addInput("trigger",new ne.Input(Be.boolean,"Trigger")),this.addOutput("plug_info",new ne.Output(Be.object,"Plug Info")),this.setupControls(),this.initializeSocketIO(),this.startAutoRefresh()}startAutoRefresh(){this.intervalId&&clearInterval(this.intervalId),this.intervalId=setInterval(()=>this.fetchPlugs(),this.properties.autoRefreshInterval)}restore(t){t.properties&&Object.assign(this.properties,t.properties);const r=this.controls.trigger_mode;r&&(r.value=this.properties.triggerMode||"Follow"),this.properties.selectedPlugIds.forEach((a,l)=>{const u=`plug_${l}_`,f=this.properties.selectedPlugNames[l]||"Plug "+(l+1);this.addControl(`${u}select`,new $r(`Plug ${l+1}`,["Select Plug",...this.getPlugOptions()],f,h=>this.onPlugSelected(h,l))),this.addControl(`${u}indicator`,new Kd({state:"off"})),this.addControl(`${u}power`,new vo({power:null,energy:null})),a&&this.fetchPlugState(a)}),this.fetchPlugs()}async data(t){const a=t.trigger?.[0]??!1,l=a&&!this.lastTriggerValue,u=!a&&this.lastTriggerValue,f=this.properties.triggerMode||"Toggle";f==="Toggle"?l&&await this.onTrigger():f==="Follow"?(l||u)&&await this.setPlugsState(a):f==="Turn On"?l&&await this.setPlugsState(!0):f==="Turn Off"&&l&&await this.setPlugsState(!1),this.lastTriggerValue=!!a;const h=[];return this.properties.selectedPlugIds.forEach((p,m)=>{if(p){const v=this.perPlugState[p]||null;v&&h.push(v)}}),{plug_info:h.length>0?h:null}}triggerUpdate(){this.changeCallback&&this.changeCallback()}setupControls(){this.addControl("trigger_mode",new $r("Input Mode",["Toggle","Follow","Turn On","Turn Off"],"Follow",t=>{this.properties.triggerMode=t})),this.addControl("add_plug",new hr(" Add Plug",()=>this.onAddPlug())),this.addControl("remove_plug",new hr(" Remove Plug",()=>this.onRemovePlug())),this.addControl("refresh",new hr(" Refresh",()=>this.fetchPlugs())),this.addControl("trigger_btn",new hr(" Manual Toggle",()=>this.onTrigger()))}initializeSocketIO(){mt.on("device-state-update",t=>this.handleDeviceStateUpdate(t)),mt.connected&&this.fetchPlugs(),mt.on("connect",()=>this.fetchPlugs())}async fetchPlugs(){try{const r=await(await fetch("http://localhost:3000/api/lights/kasa")).json();r.success&&Array.isArray(r.lights)&&(this.plugs=r.lights.filter(a=>a.type==="plug"),this.updateStatus(`Loaded ${this.plugs.length} plugs`),this.updatePlugSelectorOptions(),this.triggerUpdate())}catch(t){console.error("Fetch plugs error:",t),this.updateStatus("Connection failed")}}updateStatus(t){this.properties.status=t,this.triggerUpdate()}onAddPlug(){const t=this.properties.selectedPlugIds.length;this.properties.selectedPlugIds.push(null),this.properties.selectedPlugNames.push(null);const r=`plug_${t}_`;this.addControl(`${r}select`,new $r(`Plug ${t+1}`,["Select Plug",...this.getPlugOptions()],"Select Plug",a=>this.onPlugSelected(a,t))),this.addControl(`${r}indicator`,new Kd({state:"off"})),this.addControl(`${r}power`,new vo({power:null,energy:null})),this.triggerUpdate()}onRemovePlug(){if(this.properties.selectedPlugIds.length===0)return;const r=`plug_${this.properties.selectedPlugIds.length-1}_`;this.properties.selectedPlugIds.pop(),this.properties.selectedPlugNames.pop(),this.removeControl(`${r}select`),this.removeControl(`${r}indicator`),this.removeControl(`${r}power`),this.triggerUpdate()}getPlugOptions(){return this.plugs.map(t=>t.name)}updatePlugSelectorOptions(){this.properties.selectedPlugIds.forEach((t,r)=>{const a=this.controls[`plug_${r}_select`];if(!a)return;const l=a.value||"Select Plug",u=["Select Plug",...this.getPlugOptions()];l!=="Select Plug"&&!u.includes(l)&&u.push(l),a.values=u,a.value=l})}async onPlugSelected(t,r){if(t==="Select Plug"){this.properties.selectedPlugIds[r]=null;return}const a=this.plugs.find(l=>l.name===t);a&&(this.properties.selectedPlugIds[r]=a.id,this.properties.selectedPlugNames[r]=a.name,await this.fetchPlugState(a.id),this.triggerUpdate())}async fetchPlugState(t){if(!t)return;const r=t.replace("kasa_","");try{const l=await(await fetch(`http://localhost:3000/api/lights/kasa/${r}/state`)).json(),f=await(await fetch(`http://localhost:3000/api/lights/kasa/${r}/energy`)).json();if(l.success){const h={...this.perPlugState[t],on:l.state.on,state:l.state.on?"on":"off",energyUsage:f.success?f.energyData:null};this.perPlugState[t]=h,this.updatePlugControls(t,h),this.triggerUpdate()}}catch(a){console.error("Failed to fetch plug state",t,a)}}async setPlugsState(t){const r=this.properties.selectedPlugIds.filter(Boolean);r.length!==0&&(await Promise.all(r.map(async a=>{const l=a.replace("kasa_",""),u=t?"on":"off";try{await fetch(`http://localhost:3000/api/lights/kasa/${l}/${u}`,{method:"POST"}),this.perPlugState[a]={...this.perPlugState[a],on:t,state:t?"on":"off"},this.updatePlugControls(a,this.perPlugState[a])}catch(f){console.error(`Set state failed for ${a}`,f)}})),this.triggerUpdate())}async onTrigger(){const t=this.properties.selectedPlugIds.filter(Boolean);t.length!==0&&(await Promise.all(t.map(async r=>{const l=!(this.perPlugState[r]||{on:!1}).on,u=r.replace("kasa_",""),f=l?"on":"off";try{await fetch(`http://localhost:3000/api/lights/kasa/${u}/${f}`,{method:"POST"}),this.perPlugState[r]={...this.perPlugState[r],on:l,state:l?"on":"off"},this.updatePlugControls(r,this.perPlugState[r])}catch(h){console.error(`Toggle failed for ${r}`,h)}})),this.triggerUpdate())}handleDeviceStateUpdate(t){if(!t.id||!t.id.startsWith("kasa_"))return;const r=t.id;if(this.properties.selectedPlugIds.includes(r)){const a={...this.perPlugState[r],on:t.on,state:t.on?"on":"off",energyUsage:t.energyUsage||this.perPlugState[r]?.energyUsage};this.perPlugState[r]=a,this.updatePlugControls(r,a),this.triggerUpdate()}}updatePlugControls(t,r){this.properties.selectedPlugIds.forEach((a,l)=>{if(a!==t)return;const u=`plug_${l}_`,f=this.controls[`${u}indicator`],h=this.controls[`${u}power`];f&&(f.data={state:r.on?"on":"off"}),h&&r.energyUsage&&(h.data={power:r.energyUsage.power?parseFloat(r.energyUsage.power).toFixed(2):null,energy:r.energyUsage.total?parseFloat(r.energyUsage.total).toFixed(2):null})})}destroy(){this.intervalId&&clearInterval(this.intervalId),super.destroy?.()}}function KE({data:i,emit:t}){const[r,a]=D.useState(0),[l,u]=D.useState(!1);D.useEffect(()=>(i.changeCallback=()=>a(E=>E+1),()=>{i.changeCallback=null}),[i]);const f=Object.entries(i.inputs),h=Object.entries(i.outputs),p=Object.entries(i.controls),m=[],v={};p.forEach(([E,T])=>{if(E.startsWith("plug_")){const A=E.split("_")[1];v[A]||(v[A]=[]),v[A].push({key:E,control:T})}else m.push({key:E,control:T})});const S={background:"#002b36",border:"1px solid #2aa198",borderRadius:"8px",color:"#e0f7fa",minWidth:"350px",display:"flex",flexDirection:"column",boxShadow:"0 0 15px rgba(42, 161, 152, 0.2)"},b={padding:"10px",background:"linear-gradient(90deg, rgba(42, 161, 152, 0.2), rgba(0, 0, 0, 0))",borderBottom:"1px solid rgba(42, 161, 152, 0.3)",borderTopLeftRadius:"8px",borderTopRightRadius:"8px",display:"flex",justifyContent:"space-between",alignItems:"center"},x={padding:"10px",background:"rgba(0, 20, 30, 0.4)",display:"flex",flexDirection:"column",gap:"8px"},_={padding:"10px",background:"rgba(0, 10, 15, 0.4)",borderTop:"1px solid rgba(42, 161, 152, 0.2)",borderBottomLeftRadius:"8px",borderBottomRightRadius:"8px",display:"flex",flexDirection:"column",gap:"4px"};return g.jsxs("div",{style:S,children:[g.jsxs("div",{style:b,children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx("div",{style:{cursor:"pointer",fontSize:"12px",userSelect:"none"},onPointerDown:E=>{E.stopPropagation(),u(!l)},children:l?"":""}),g.jsx("div",{style:{fontWeight:"bold"},children:i.label})]}),g.jsx("div",{style:{fontSize:"0.8em",color:"#aaa"},children:i.properties.status})]}),g.jsxs("div",{style:{padding:"10px",display:"flex",justifyContent:"space-between",background:"rgba(0,0,0,0.2)"},children:[g.jsx("div",{className:"inputs",children:f.map(([E,T])=>g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx(Qe,{init:z=>t({type:"render",data:{type:"socket",element:z,payload:T.socket,nodeId:i.id,side:"input",key:E}}),unmount:z=>t({type:"unmount",data:{element:z}})}),g.jsx("span",{style:{fontSize:"0.8em"},children:T.label})]},E))}),g.jsx("div",{className:"outputs",children:h.map(([E,T])=>g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",justifyContent:"flex-end"},children:[g.jsx("span",{style:{fontSize:"0.8em"},children:T.label}),g.jsx(Qe,{init:z=>t({type:"render",data:{type:"socket",element:z,payload:T.socket,nodeId:i.id,side:"output",key:E}}),unmount:z=>t({type:"unmount",data:{element:z}})})]},E))})]}),l&&g.jsxs("div",{style:_,children:[Object.entries(v).map(([E,T])=>{const z=T.find(H=>H.key.endsWith("_select")),A=T.find(H=>H.key.endsWith("_indicator")),B=z?.control?.value||`Plug ${parseInt(E)+1}`,N=A?.control?.data?.state==="on";return B==="Select Plug"?null:g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"11px",color:"#e0f7fa"},children:[g.jsx("div",{style:{width:"8px",height:"8px",borderRadius:"50%",background:N?"#00f3ff":"#333",boxShadow:N?"0 0 5px #00f3ff":"none"}}),g.jsx("span",{children:B})]},E)}),Object.keys(v).length===0&&g.jsx("div",{style:{fontSize:"11px",color:"#aaa"},children:"No plugs added"})]}),!l&&g.jsxs("div",{style:x,children:[m.map(({key:E,control:T})=>g.jsx(Qe,{init:z=>t({type:"render",data:{type:"control",element:z,payload:T}}),unmount:z=>t({type:"unmount",data:{element:z}})},E)),Object.entries(v).map(([E,T])=>{const z=H=>T.find(O=>O.key.endsWith(H)),A=z("_select"),B=z("_indicator"),N=z("_power");return g.jsxs("div",{style:{border:"1px solid rgba(42, 161, 152, 0.2)",padding:"8px",borderRadius:"6px",marginTop:"8px",background:"rgba(0, 43, 54, 0.4)"},children:[A&&g.jsx(Qe,{init:H=>t({type:"render",data:{type:"control",element:H,payload:A.control}}),unmount:H=>t({type:"unmount",data:{element:H}})},A.key),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginTop:"5px"},children:[B&&g.jsx(Qe,{init:H=>t({type:"render",data:{type:"control",element:H,payload:B.control}}),unmount:H=>t({type:"unmount",data:{element:H}})},B.key),N&&g.jsx(Qe,{init:H=>t({type:"render",data:{type:"control",element:H,payload:N.control}}),unmount:H=>t({type:"unmount",data:{element:H}})},N.key)]})]},E)})]})]})}class Qr extends Error{}class WE extends Qr{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class JE extends Qr{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class e2 extends Qr{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class Ga extends Qr{}class R1 extends Qr{constructor(t){super(`Invalid unit ${t}`)}}class Xt extends Qr{}class lr extends Qr{constructor(){super("Zone is an abstract class")}}const se="numeric",Fn="short",wn="long",vu={year:se,month:se,day:se},z1={year:se,month:Fn,day:se},t2={year:se,month:Fn,day:se,weekday:Fn},B1={year:se,month:wn,day:se},H1={year:se,month:wn,day:se,weekday:wn},U1={hour:se,minute:se},I1={hour:se,minute:se,second:se},L1={hour:se,minute:se,second:se,timeZoneName:Fn},V1={hour:se,minute:se,second:se,timeZoneName:wn},$1={hour:se,minute:se,hourCycle:"h23"},q1={hour:se,minute:se,second:se,hourCycle:"h23"},Y1={hour:se,minute:se,second:se,hourCycle:"h23",timeZoneName:Fn},G1={hour:se,minute:se,second:se,hourCycle:"h23",timeZoneName:wn},Z1={year:se,month:se,day:se,hour:se,minute:se},P1={year:se,month:se,day:se,hour:se,minute:se,second:se},X1={year:se,month:Fn,day:se,hour:se,minute:se},F1={year:se,month:Fn,day:se,hour:se,minute:se,second:se},n2={year:se,month:Fn,day:se,weekday:Fn,hour:se,minute:se},Q1={year:se,month:wn,day:se,hour:se,minute:se,timeZoneName:Fn},K1={year:se,month:wn,day:se,hour:se,minute:se,second:se,timeZoneName:Fn},W1={year:se,month:wn,day:se,weekday:wn,hour:se,minute:se,timeZoneName:wn},J1={year:se,month:wn,day:se,weekday:wn,hour:se,minute:se,second:se,timeZoneName:wn};class ss{get type(){throw new lr}get name(){throw new lr}get ianaName(){return this.name}get isUniversal(){throw new lr}offsetName(t,r){throw new lr}formatOffset(t,r){throw new lr}offset(t){throw new lr}equals(t){throw new lr}get isValid(){throw new lr}}let vd=null;class wo extends ss{static get instance(){return vd===null&&(vd=new wo),vd}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:r,locale:a}){return fS(t,r,a)}formatOffset(t,r){return mo(this.offset(t),r)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}}const Wd=new Map;function i2(i){let t=Wd.get(i);return t===void 0&&(t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:i,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),Wd.set(i,t)),t}const r2={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function a2(i,t){const r=i.format(t).replace(/\u200E/g,""),a=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,l,u,f,h,p,m,v]=a;return[f,l,u,h,p,m,v]}function s2(i,t){const r=i.formatToParts(t),a=[];for(let l=0;l<r.length;l++){const{type:u,value:f}=r[l],h=r2[u];u==="era"?a[h]=f:Ce(h)||(a[h]=parseInt(f,10))}return a}const bd=new Map;class ui extends ss{static create(t){let r=bd.get(t);return r===void 0&&bd.set(t,r=new ui(t)),r}static resetCache(){bd.clear(),Wd.clear()}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch{return!1}}constructor(t){super(),this.zoneName=t,this.valid=ui.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:r,locale:a}){return fS(t,r,a,this.name)}formatOffset(t,r){return mo(this.offset(t),r)}offset(t){if(!this.valid)return NaN;const r=new Date(t);if(isNaN(r))return NaN;const a=i2(this.name);let[l,u,f,h,p,m,v]=a.formatToParts?s2(a,r):a2(a,r);h==="BC"&&(l=-Math.abs(l)+1);const b=Du({year:l,month:u,day:f,hour:p===24?0:p,minute:m,second:v,millisecond:0});let x=+r;const _=x%1e3;return x-=_>=0?_:1e3+_,(b-x)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}}let l0={};function o2(i,t={}){const r=JSON.stringify([i,t]);let a=l0[r];return a||(a=new Intl.ListFormat(i,t),l0[r]=a),a}const Jd=new Map;function eh(i,t={}){const r=JSON.stringify([i,t]);let a=Jd.get(r);return a===void 0&&(a=new Intl.DateTimeFormat(i,t),Jd.set(r,a)),a}const th=new Map;function l2(i,t={}){const r=JSON.stringify([i,t]);let a=th.get(r);return a===void 0&&(a=new Intl.NumberFormat(i,t),th.set(r,a)),a}const nh=new Map;function u2(i,t={}){const{base:r,...a}=t,l=JSON.stringify([i,a]);let u=nh.get(l);return u===void 0&&(u=new Intl.RelativeTimeFormat(i,t),nh.set(l,u)),u}let lo=null;function c2(){return lo||(lo=new Intl.DateTimeFormat().resolvedOptions().locale,lo)}const ih=new Map;function eS(i){let t=ih.get(i);return t===void 0&&(t=new Intl.DateTimeFormat(i).resolvedOptions(),ih.set(i,t)),t}const rh=new Map;function f2(i){let t=rh.get(i);if(!t){const r=new Intl.Locale(i);t="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,"minimalDays"in t||(t={...tS,...t}),rh.set(i,t)}return t}function d2(i){const t=i.indexOf("-x-");t!==-1&&(i=i.substring(0,t));const r=i.indexOf("-u-");if(r===-1)return[i];{let a,l;try{a=eh(i).resolvedOptions(),l=i}catch{const p=i.substring(0,r);a=eh(p).resolvedOptions(),l=p}const{numberingSystem:u,calendar:f}=a;return[l,u,f]}}function h2(i,t,r){return(r||t)&&(i.includes("-u-")||(i+="-u"),r&&(i+=`-ca-${r}`),t&&(i+=`-nu-${t}`)),i}function p2(i){const t=[];for(let r=1;r<=12;r++){const a=he.utc(2009,r,1);t.push(i(a))}return t}function m2(i){const t=[];for(let r=1;r<=7;r++){const a=he.utc(2016,11,13+r);t.push(i(a))}return t}function Wl(i,t,r,a){const l=i.listingMode();return l==="error"?null:l==="en"?r(t):a(t)}function g2(i){return i.numberingSystem&&i.numberingSystem!=="latn"?!1:i.numberingSystem==="latn"||!i.locale||i.locale.startsWith("en")||eS(i.locale).numberingSystem==="latn"}class y2{constructor(t,r,a){this.padTo=a.padTo||0,this.floor=a.floor||!1;const{padTo:l,floor:u,...f}=a;if(!r||Object.keys(f).length>0){const h={useGrouping:!1,...a};a.padTo>0&&(h.minimumIntegerDigits=a.padTo),this.inf=l2(t,h)}}format(t){if(this.inf){const r=this.floor?Math.floor(t):t;return this.inf.format(r)}else{const r=this.floor?Math.floor(t):Ah(t,3);return kt(r,this.padTo)}}}class v2{constructor(t,r,a){this.opts=a,this.originalZone=void 0;let l;if(this.opts.timeZone)this.dt=t;else if(t.zone.type==="fixed"){const f=-1*(t.offset/60),h=f>=0?`Etc/GMT+${f}`:`Etc/GMT${f}`;t.offset!==0&&ui.create(h).valid?(l=h,this.dt=t):(l="UTC",this.dt=t.offset===0?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else t.zone.type==="system"?this.dt=t:t.zone.type==="iana"?(this.dt=t,l=t.zone.name):(l="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const u={...this.opts};u.timeZone=u.timeZone||l,this.dtf=eh(r,u)}format(){return this.originalZone?this.formatToParts().map(({value:t})=>t).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map(r=>{if(r.type==="timeZoneName"){const a=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:a}}else return r}):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class b2{constructor(t,r,a){this.opts={style:"long",...a},!r&&uS()&&(this.rtf=u2(t,a))}format(t,r){return this.rtf?this.rtf.format(t,r):L2(r,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,r){return this.rtf?this.rtf.formatToParts(t,r):[]}}const tS={firstDay:1,minimalDays:4,weekend:[6,7]};class We{static fromOpts(t){return We.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,r,a,l,u=!1){const f=t||bt.defaultLocale,h=f||(u?"en-US":c2()),p=r||bt.defaultNumberingSystem,m=a||bt.defaultOutputCalendar,v=sh(l)||bt.defaultWeekSettings;return new We(h,p,m,v,f)}static resetCache(){lo=null,Jd.clear(),th.clear(),nh.clear(),ih.clear(),rh.clear()}static fromObject({locale:t,numberingSystem:r,outputCalendar:a,weekSettings:l}={}){return We.create(t,r,a,l)}constructor(t,r,a,l,u){const[f,h,p]=d2(t);this.locale=f,this.numberingSystem=r||h||null,this.outputCalendar=a||p||null,this.weekSettings=l,this.intl=h2(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=u,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=g2(this)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&r?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:We.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,sh(t.weekSettings)||this.weekSettings,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,r=!1){return Wl(this,t,pS,()=>{const a=this.intl==="ja"||this.intl.startsWith("ja-");r&=!a;const l=r?{month:t,day:"numeric"}:{month:t},u=r?"format":"standalone";if(!this.monthsCache[u][t]){const f=a?h=>this.dtFormatter(h,l).format():h=>this.extract(h,l,"month");this.monthsCache[u][t]=p2(f)}return this.monthsCache[u][t]})}weekdays(t,r=!1){return Wl(this,t,yS,()=>{const a=r?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},l=r?"format":"standalone";return this.weekdaysCache[l][t]||(this.weekdaysCache[l][t]=m2(u=>this.extract(u,a,"weekday"))),this.weekdaysCache[l][t]})}meridiems(){return Wl(this,void 0,()=>vS,()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[he.utc(2016,11,13,9),he.utc(2016,11,13,19)].map(r=>this.extract(r,t,"dayperiod"))}return this.meridiemCache})}eras(t){return Wl(this,t,bS,()=>{const r={era:t};return this.eraCache[t]||(this.eraCache[t]=[he.utc(-40,1,1),he.utc(2017,1,1)].map(a=>this.extract(a,r,"era"))),this.eraCache[t]})}extract(t,r,a){const l=this.dtFormatter(t,r),u=l.formatToParts(),f=u.find(h=>h.type.toLowerCase()===a);return f?f.value:null}numberFormatter(t={}){return new y2(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,r={}){return new v2(t,this.intl,r)}relFormatter(t={}){return new b2(this.intl,this.isEnglish(),t)}listFormatter(t={}){return o2(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||eS(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:cS()?f2(this.locale):tS}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let Sd=null;class Qt extends ss{static get utcInstance(){return Sd===null&&(Sd=new Qt(0)),Sd}static instance(t){return t===0?Qt.utcInstance:new Qt(t)}static parseSpecifier(t){if(t){const r=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new Qt(Mu(r[1],r[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${mo(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${mo(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,r){return mo(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}}class nS extends ss{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function dr(i,t){if(Ce(i)||i===null)return t;if(i instanceof ss)return i;if(O2(i)){const r=i.toLowerCase();return r==="default"?t:r==="local"||r==="system"?wo.instance:r==="utc"||r==="gmt"?Qt.utcInstance:Qt.parseSpecifier(r)||ui.create(i)}else return mr(i)?Qt.instance(i):typeof i=="object"&&"offset"in i&&typeof i.offset=="function"?i:new nS(i)}const kh={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},u0={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},S2=kh.hanidec.replace(/[\[|\]]/g,"").split("");function w2(i){let t=parseInt(i,10);if(isNaN(t)){t="";for(let r=0;r<i.length;r++){const a=i.charCodeAt(r);if(i[r].search(kh.hanidec)!==-1)t+=S2.indexOf(i[r]);else for(const l in u0){const[u,f]=u0[l];a>=u&&a<=f&&(t+=a-u)}}return parseInt(t,10)}else return t}const ah=new Map;function x2(){ah.clear()}function Yn({numberingSystem:i},t=""){const r=i||"latn";let a=ah.get(r);a===void 0&&(a=new Map,ah.set(r,a));let l=a.get(t);return l===void 0&&(l=new RegExp(`${kh[r]}${t}`),a.set(t,l)),l}let c0=()=>Date.now(),f0="system",d0=null,h0=null,p0=null,m0=60,g0,y0=null;class bt{static get now(){return c0}static set now(t){c0=t}static set defaultZone(t){f0=t}static get defaultZone(){return dr(f0,wo.instance)}static get defaultLocale(){return d0}static set defaultLocale(t){d0=t}static get defaultNumberingSystem(){return h0}static set defaultNumberingSystem(t){h0=t}static get defaultOutputCalendar(){return p0}static set defaultOutputCalendar(t){p0=t}static get defaultWeekSettings(){return y0}static set defaultWeekSettings(t){y0=sh(t)}static get twoDigitCutoffYear(){return m0}static set twoDigitCutoffYear(t){m0=t%100}static get throwOnInvalid(){return g0}static set throwOnInvalid(t){g0=t}static resetCaches(){We.resetCache(),ui.resetCache(),he.resetCache(),x2()}}class Pn{constructor(t,r){this.reason=t,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const iS=[0,31,59,90,120,151,181,212,243,273,304,334],rS=[0,31,60,91,121,152,182,213,244,274,305,335];function Bn(i,t){return new Pn("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${i}, which is invalid`)}function jh(i,t,r){const a=new Date(Date.UTC(i,t-1,r));i<100&&i>=0&&a.setUTCFullYear(a.getUTCFullYear()-1900);const l=a.getUTCDay();return l===0?7:l}function aS(i,t,r){return r+(xo(i)?rS:iS)[t-1]}function sS(i,t){const r=xo(i)?rS:iS,a=r.findIndex(u=>u<t),l=t-r[a];return{month:a+1,day:l}}function Dh(i,t){return(i-t+7)%7+1}function bu(i,t=4,r=1){const{year:a,month:l,day:u}=i,f=aS(a,l,u),h=Dh(jh(a,l,u),r);let p=Math.floor((f-h+14-t)/7),m;return p<1?(m=a-1,p=bo(m,t,r)):p>bo(a,t,r)?(m=a+1,p=1):m=a,{weekYear:m,weekNumber:p,weekday:h,...Au(i)}}function v0(i,t=4,r=1){const{weekYear:a,weekNumber:l,weekday:u}=i,f=Dh(jh(a,1,t),r),h=Xa(a);let p=l*7+u-f-7+t,m;p<1?(m=a-1,p+=Xa(m)):p>h?(m=a+1,p-=Xa(a)):m=a;const{month:v,day:S}=sS(m,p);return{year:m,month:v,day:S,...Au(i)}}function wd(i){const{year:t,month:r,day:a}=i,l=aS(t,r,a);return{year:t,ordinal:l,...Au(i)}}function b0(i){const{year:t,ordinal:r}=i,{month:a,day:l}=sS(t,r);return{year:t,month:a,day:l,...Au(i)}}function S0(i,t){if(!Ce(i.localWeekday)||!Ce(i.localWeekNumber)||!Ce(i.localWeekYear)){if(!Ce(i.weekday)||!Ce(i.weekNumber)||!Ce(i.weekYear))throw new Ga("Cannot mix locale-based week fields with ISO-based week fields");return Ce(i.localWeekday)||(i.weekday=i.localWeekday),Ce(i.localWeekNumber)||(i.weekNumber=i.localWeekNumber),Ce(i.localWeekYear)||(i.weekYear=i.localWeekYear),delete i.localWeekday,delete i.localWeekNumber,delete i.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function _2(i,t=4,r=1){const a=ju(i.weekYear),l=Hn(i.weekNumber,1,bo(i.weekYear,t,r)),u=Hn(i.weekday,1,7);return a?l?u?!1:Bn("weekday",i.weekday):Bn("week",i.weekNumber):Bn("weekYear",i.weekYear)}function T2(i){const t=ju(i.year),r=Hn(i.ordinal,1,Xa(i.year));return t?r?!1:Bn("ordinal",i.ordinal):Bn("year",i.year)}function oS(i){const t=ju(i.year),r=Hn(i.month,1,12),a=Hn(i.day,1,Su(i.year,i.month));return t?r?a?!1:Bn("day",i.day):Bn("month",i.month):Bn("year",i.year)}function lS(i){const{hour:t,minute:r,second:a,millisecond:l}=i,u=Hn(t,0,23)||t===24&&r===0&&a===0&&l===0,f=Hn(r,0,59),h=Hn(a,0,59),p=Hn(l,0,999);return u?f?h?p?!1:Bn("millisecond",l):Bn("second",a):Bn("minute",r):Bn("hour",t)}function Ce(i){return typeof i>"u"}function mr(i){return typeof i=="number"}function ju(i){return typeof i=="number"&&i%1===0}function O2(i){return typeof i=="string"}function C2(i){return Object.prototype.toString.call(i)==="[object Date]"}function uS(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function cS(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function E2(i){return Array.isArray(i)?i:[i]}function w0(i,t,r){if(i.length!==0)return i.reduce((a,l)=>{const u=[t(l),l];return a&&r(a[0],u[0])===a[0]?a:u},null)[1]}function N2(i,t){return t.reduce((r,a)=>(r[a]=i[a],r),{})}function ns(i,t){return Object.prototype.hasOwnProperty.call(i,t)}function sh(i){if(i==null)return null;if(typeof i!="object")throw new Xt("Week settings must be an object");if(!Hn(i.firstDay,1,7)||!Hn(i.minimalDays,1,7)||!Array.isArray(i.weekend)||i.weekend.some(t=>!Hn(t,1,7)))throw new Xt("Invalid week settings");return{firstDay:i.firstDay,minimalDays:i.minimalDays,weekend:Array.from(i.weekend)}}function Hn(i,t,r){return ju(i)&&i>=t&&i<=r}function k2(i,t){return i-t*Math.floor(i/t)}function kt(i,t=2){const r=i<0;let a;return r?a="-"+(""+-i).padStart(t,"0"):a=(""+i).padStart(t,"0"),a}function fr(i){if(!(Ce(i)||i===null||i===""))return parseInt(i,10)}function Hr(i){if(!(Ce(i)||i===null||i===""))return parseFloat(i)}function Mh(i){if(!(Ce(i)||i===null||i==="")){const t=parseFloat("0."+i)*1e3;return Math.floor(t)}}function Ah(i,t,r="round"){const a=10**t;switch(r){case"expand":return i>0?Math.ceil(i*a)/a:Math.floor(i*a)/a;case"trunc":return Math.trunc(i*a)/a;case"round":return Math.round(i*a)/a;case"floor":return Math.floor(i*a)/a;case"ceil":return Math.ceil(i*a)/a;default:throw new RangeError(`Value rounding ${r} is out of range`)}}function xo(i){return i%4===0&&(i%100!==0||i%400===0)}function Xa(i){return xo(i)?366:365}function Su(i,t){const r=k2(t-1,12)+1,a=i+(t-r)/12;return r===2?xo(a)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function Du(i){let t=Date.UTC(i.year,i.month-1,i.day,i.hour,i.minute,i.second,i.millisecond);return i.year<100&&i.year>=0&&(t=new Date(t),t.setUTCFullYear(i.year,i.month-1,i.day)),+t}function x0(i,t,r){return-Dh(jh(i,1,t),r)+t-1}function bo(i,t=4,r=1){const a=x0(i,t,r),l=x0(i+1,t,r);return(Xa(i)-a+l)/7}function oh(i){return i>99?i:i>bt.twoDigitCutoffYear?1900+i:2e3+i}function fS(i,t,r,a=null){const l=new Date(i),u={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};a&&(u.timeZone=a);const f={timeZoneName:t,...u},h=new Intl.DateTimeFormat(r,f).formatToParts(l).find(p=>p.type.toLowerCase()==="timezonename");return h?h.value:null}function Mu(i,t){let r=parseInt(i,10);Number.isNaN(r)&&(r=0);const a=parseInt(t,10)||0,l=r<0||Object.is(r,-0)?-a:a;return r*60+l}function dS(i){const t=Number(i);if(typeof i=="boolean"||i===""||!Number.isFinite(t))throw new Xt(`Invalid unit value ${i}`);return t}function wu(i,t){const r={};for(const a in i)if(ns(i,a)){const l=i[a];if(l==null)continue;r[t(a)]=dS(l)}return r}function mo(i,t){const r=Math.trunc(Math.abs(i/60)),a=Math.trunc(Math.abs(i%60)),l=i>=0?"+":"-";switch(t){case"short":return`${l}${kt(r,2)}:${kt(a,2)}`;case"narrow":return`${l}${r}${a>0?`:${a}`:""}`;case"techie":return`${l}${kt(r,2)}${kt(a,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function Au(i){return N2(i,["hour","minute","second","millisecond"])}const j2=["January","February","March","April","May","June","July","August","September","October","November","December"],hS=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],D2=["J","F","M","A","M","J","J","A","S","O","N","D"];function pS(i){switch(i){case"narrow":return[...D2];case"short":return[...hS];case"long":return[...j2];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const mS=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],gS=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],M2=["M","T","W","T","F","S","S"];function yS(i){switch(i){case"narrow":return[...M2];case"short":return[...gS];case"long":return[...mS];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const vS=["AM","PM"],A2=["Before Christ","Anno Domini"],R2=["BC","AD"],z2=["B","A"];function bS(i){switch(i){case"narrow":return[...z2];case"short":return[...R2];case"long":return[...A2];default:return null}}function B2(i){return vS[i.hour<12?0:1]}function H2(i,t){return yS(t)[i.weekday-1]}function U2(i,t){return pS(t)[i.month-1]}function I2(i,t){return bS(t)[i.year<0?0:1]}function L2(i,t,r="always",a=!1){const l={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},u=["hours","minutes","seconds"].indexOf(i)===-1;if(r==="auto"&&u){const S=i==="days";switch(t){case 1:return S?"tomorrow":`next ${l[i][0]}`;case-1:return S?"yesterday":`last ${l[i][0]}`;case 0:return S?"today":`this ${l[i][0]}`}}const f=Object.is(t,-0)||t<0,h=Math.abs(t),p=h===1,m=l[i],v=a?p?m[1]:m[2]||m[1]:p?l[i][0]:i;return f?`${h} ${v} ago`:`in ${h} ${v}`}function _0(i,t){let r="";for(const a of i)a.literal?r+=a.val:r+=t(a.val);return r}const V2={D:vu,DD:z1,DDD:B1,DDDD:H1,t:U1,tt:I1,ttt:L1,tttt:V1,T:$1,TT:q1,TTT:Y1,TTTT:G1,f:Z1,ff:X1,fff:Q1,ffff:W1,F:P1,FF:F1,FFF:K1,FFFF:J1};class Ft{static create(t,r={}){return new Ft(t,r)}static parseFormat(t){let r=null,a="",l=!1;const u=[];for(let f=0;f<t.length;f++){const h=t.charAt(f);h==="'"?((a.length>0||l)&&u.push({literal:l||/^\s+$/.test(a),val:a===""?"'":a}),r=null,a="",l=!l):l||h===r?a+=h:(a.length>0&&u.push({literal:/^\s+$/.test(a),val:a}),a=h,r=h)}return a.length>0&&u.push({literal:l||/^\s+$/.test(a),val:a}),u}static macroTokenToFormatOpts(t){return V2[t]}constructor(t,r){this.opts=r,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...r}).format()}dtFormatter(t,r={}){return this.loc.dtFormatter(t,{...this.opts,...r})}formatDateTime(t,r){return this.dtFormatter(t,r).format()}formatDateTimeParts(t,r){return this.dtFormatter(t,r).formatToParts()}formatInterval(t,r){return this.dtFormatter(t.start,r).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,r){return this.dtFormatter(t,r).resolvedOptions()}num(t,r=0,a=void 0){if(this.opts.forceSimple)return kt(t,r);const l={...this.opts};return r>0&&(l.padTo=r),a&&(l.signDisplay=a),this.loc.numberFormatter(l).format(t)}formatDateTimeFromString(t,r){const a=this.loc.listingMode()==="en",l=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",u=(x,_)=>this.loc.extract(t,x,_),f=x=>t.isOffsetFixed&&t.offset===0&&x.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,x.format):"",h=()=>a?B2(t):u({hour:"numeric",hourCycle:"h12"},"dayperiod"),p=(x,_)=>a?U2(t,x):u(_?{month:x}:{month:x,day:"numeric"},"month"),m=(x,_)=>a?H2(t,x):u(_?{weekday:x}:{weekday:x,month:"long",day:"numeric"},"weekday"),v=x=>{const _=Ft.macroTokenToFormatOpts(x);return _?this.formatWithSystemDefault(t,_):x},S=x=>a?I2(t,x):u({era:x},"era"),b=x=>{switch(x){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return f({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return f({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return f({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return h();case"d":return l?u({day:"numeric"},"day"):this.num(t.day);case"dd":return l?u({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return m("short",!0);case"cccc":return m("long",!0);case"ccccc":return m("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return m("short",!1);case"EEEE":return m("long",!1);case"EEEEE":return m("narrow",!1);case"L":return l?u({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return l?u({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return p("short",!0);case"LLLL":return p("long",!0);case"LLLLL":return p("narrow",!0);case"M":return l?u({month:"numeric"},"month"):this.num(t.month);case"MM":return l?u({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return p("short",!1);case"MMMM":return p("long",!1);case"MMMMM":return p("narrow",!1);case"y":return l?u({year:"numeric"},"year"):this.num(t.year);case"yy":return l?u({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return l?u({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return l?u({year:"numeric"},"year"):this.num(t.year,6);case"G":return S("short");case"GG":return S("long");case"GGGGG":return S("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return v(x)}};return _0(Ft.parseFormat(r),b)}formatDurationFromString(t,r){const a=this.opts.signMode==="negativeLargestOnly"?-1:1,l=v=>{switch(v[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"w":return"weeks";case"M":return"months";case"y":return"years";default:return null}},u=(v,S)=>b=>{const x=l(b);if(x){const _=S.isNegativeDuration&&x!==S.largestUnit?a:1;let E;return this.opts.signMode==="negativeLargestOnly"&&x!==S.largestUnit?E="never":this.opts.signMode==="all"?E="always":E="auto",this.num(v.get(x)*_,b.length,E)}else return b},f=Ft.parseFormat(r),h=f.reduce((v,{literal:S,val:b})=>S?v:v.concat(b),[]),p=t.shiftTo(...h.map(l).filter(v=>v)),m={isNegativeDuration:p<0,largestUnit:Object.keys(p.values)[0]};return _0(f,u(p,m))}}const SS=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function os(...i){const t=i.reduce((r,a)=>r+a.source,"");return RegExp(`^${t}$`)}function ls(...i){return t=>i.reduce(([r,a,l],u)=>{const[f,h,p]=u(t,l);return[{...r,...f},h||a,p]},[{},null,1]).slice(0,2)}function us(i,...t){if(i==null)return[null,null];for(const[r,a]of t){const l=r.exec(i);if(l)return a(l)}return[null,null]}function wS(...i){return(t,r)=>{const a={};let l;for(l=0;l<i.length;l++)a[i[l]]=fr(t[r+l]);return[a,null,r+l]}}const xS=/(?:([Zz])|([+-]\d\d)(?::?(\d\d))?)/,$2=`(?:${xS.source}?(?:\\[(${SS.source})\\])?)?`,Rh=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,_S=RegExp(`${Rh.source}${$2}`),zh=RegExp(`(?:[Tt]${_S.source})?`),q2=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Y2=/(\d{4})-?W(\d\d)(?:-?(\d))?/,G2=/(\d{4})-?(\d{3})/,Z2=wS("weekYear","weekNumber","weekDay"),P2=wS("year","ordinal"),X2=/(\d{4})-(\d\d)-(\d\d)/,TS=RegExp(`${Rh.source} ?(?:${xS.source}|(${SS.source}))?`),F2=RegExp(`(?: ${TS.source})?`);function Fa(i,t,r){const a=i[t];return Ce(a)?r:fr(a)}function Q2(i,t){return[{year:Fa(i,t),month:Fa(i,t+1,1),day:Fa(i,t+2,1)},null,t+3]}function cs(i,t){return[{hours:Fa(i,t,0),minutes:Fa(i,t+1,0),seconds:Fa(i,t+2,0),milliseconds:Mh(i[t+3])},null,t+4]}function _o(i,t){const r=!i[t]&&!i[t+1],a=Mu(i[t+1],i[t+2]),l=r?null:Qt.instance(a);return[{},l,t+3]}function To(i,t){const r=i[t]?ui.create(i[t]):null;return[{},r,t+1]}const K2=RegExp(`^T?${Rh.source}$`),W2=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function J2(i){const[t,r,a,l,u,f,h,p,m]=i,v=t[0]==="-",S=p&&p[0]==="-",b=(x,_=!1)=>x!==void 0&&(_||x&&v)?-x:x;return[{years:b(Hr(r)),months:b(Hr(a)),weeks:b(Hr(l)),days:b(Hr(u)),hours:b(Hr(f)),minutes:b(Hr(h)),seconds:b(Hr(p),p==="-0"),milliseconds:b(Mh(m),S)}]}const eN={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Bh(i,t,r,a,l,u,f){const h={year:t.length===2?oh(fr(t)):fr(t),month:hS.indexOf(r)+1,day:fr(a),hour:fr(l),minute:fr(u)};return f&&(h.second=fr(f)),i&&(h.weekday=i.length>3?mS.indexOf(i)+1:gS.indexOf(i)+1),h}const tN=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function nN(i){const[,t,r,a,l,u,f,h,p,m,v,S]=i,b=Bh(t,l,a,r,u,f,h);let x;return p?x=eN[p]:m?x=0:x=Mu(v,S),[b,new Qt(x)]}function iN(i){return i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const rN=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,aN=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,sN=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function T0(i){const[,t,r,a,l,u,f,h]=i;return[Bh(t,l,a,r,u,f,h),Qt.utcInstance]}function oN(i){const[,t,r,a,l,u,f,h]=i;return[Bh(t,h,r,a,l,u,f),Qt.utcInstance]}const lN=os(q2,zh),uN=os(Y2,zh),cN=os(G2,zh),fN=os(_S),OS=ls(Q2,cs,_o,To),dN=ls(Z2,cs,_o,To),hN=ls(P2,cs,_o,To),pN=ls(cs,_o,To);function mN(i){return us(i,[lN,OS],[uN,dN],[cN,hN],[fN,pN])}function gN(i){return us(iN(i),[tN,nN])}function yN(i){return us(i,[rN,T0],[aN,T0],[sN,oN])}function vN(i){return us(i,[W2,J2])}const bN=ls(cs);function SN(i){return us(i,[K2,bN])}const wN=os(X2,F2),xN=os(TS),_N=ls(cs,_o,To);function TN(i){return us(i,[wN,OS],[xN,_N])}const O0="Invalid Duration",CS={weeks:{days:7,hours:168,minutes:10080,seconds:10080*60,milliseconds:10080*60*1e3},days:{hours:24,minutes:1440,seconds:1440*60,milliseconds:1440*60*1e3},hours:{minutes:60,seconds:3600,milliseconds:3600*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},ON={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:2184*60,seconds:2184*60*60,milliseconds:2184*60*60*1e3},months:{weeks:4,days:30,hours:720,minutes:720*60,seconds:720*60*60,milliseconds:720*60*60*1e3},...CS},Rn=146097/400,La=146097/4800,CN={years:{quarters:4,months:12,weeks:Rn/7,days:Rn,hours:Rn*24,minutes:Rn*24*60,seconds:Rn*24*60*60,milliseconds:Rn*24*60*60*1e3},quarters:{months:3,weeks:Rn/28,days:Rn/4,hours:Rn*24/4,minutes:Rn*24*60/4,seconds:Rn*24*60*60/4,milliseconds:Rn*24*60*60*1e3/4},months:{weeks:La/7,days:La,hours:La*24,minutes:La*24*60,seconds:La*24*60*60,milliseconds:La*24*60*60*1e3},...CS},qr=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],EN=qr.slice(0).reverse();function Di(i,t,r=!1){const a={values:r?t.values:{...i.values,...t.values||{}},loc:i.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||i.conversionAccuracy,matrix:t.matrix||i.matrix};return new Ye(a)}function ES(i,t){let r=t.milliseconds??0;for(const a of EN.slice(1))t[a]&&(r+=t[a]*i[a].milliseconds);return r}function C0(i,t){const r=ES(i,t)<0?-1:1;qr.reduceRight((a,l)=>{if(Ce(t[l]))return a;if(a){const u=t[a]*r,f=i[l][a],h=Math.floor(u/f);t[l]+=h*r,t[a]-=h*f*r}return l},null),qr.reduce((a,l)=>{if(Ce(t[l]))return a;if(a){const u=t[a]%1;t[a]-=u,t[l]+=u*i[a][l]}return l},null)}function E0(i){const t={};for(const[r,a]of Object.entries(i))a!==0&&(t[r]=a);return t}class Ye{constructor(t){const r=t.conversionAccuracy==="longterm"||!1;let a=r?CN:ON;t.matrix&&(a=t.matrix),this.values=t.values,this.loc=t.loc||We.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=a,this.isLuxonDuration=!0}static fromMillis(t,r){return Ye.fromObject({milliseconds:t},r)}static fromObject(t,r={}){if(t==null||typeof t!="object")throw new Xt(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new Ye({values:wu(t,Ye.normalizeUnit),loc:We.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(t){if(mr(t))return Ye.fromMillis(t);if(Ye.isDuration(t))return t;if(typeof t=="object")return Ye.fromObject(t);throw new Xt(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,r){const[a]=vN(t);return a?Ye.fromObject(a,r):Ye.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,r){const[a]=SN(t);return a?Ye.fromObject(a,r):Ye.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,r=null){if(!t)throw new Xt("need to specify a reason the Duration is invalid");const a=t instanceof Pn?t:new Pn(t,r);if(bt.throwOnInvalid)throw new e2(a);return new Ye({invalid:a})}static normalizeUnit(t){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!r)throw new R1(t);return r}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,r={}){const a={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?Ft.create(this.loc,a).formatDurationFromString(this,t):O0}toHuman(t={}){if(!this.isValid)return O0;const r=t.showZeros!==!1,a=qr.map(l=>{const u=this.values[l];return Ce(u)||u===0&&!r?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:l.slice(0,-1)}).format(u)}).filter(l=>l);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(a)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=Ah(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1},he.fromMillis(r,{zone:"UTC"}).toISOTime(t))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?ES(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const r=Ye.fromDurationLike(t),a={};for(const l of qr)(ns(r.values,l)||ns(this.values,l))&&(a[l]=r.get(l)+this.get(l));return Di(this,{values:a},!0)}minus(t){if(!this.isValid)return this;const r=Ye.fromDurationLike(t);return this.plus(r.negate())}mapUnits(t){if(!this.isValid)return this;const r={};for(const a of Object.keys(this.values))r[a]=dS(t(this.values[a],a));return Di(this,{values:r},!0)}get(t){return this[Ye.normalizeUnit(t)]}set(t){if(!this.isValid)return this;const r={...this.values,...wu(t,Ye.normalizeUnit)};return Di(this,{values:r})}reconfigure({locale:t,numberingSystem:r,conversionAccuracy:a,matrix:l}={}){const f={loc:this.loc.clone({locale:t,numberingSystem:r}),matrix:l,conversionAccuracy:a};return Di(this,f)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return C0(this.matrix,t),Di(this,{values:t},!0)}rescale(){if(!this.isValid)return this;const t=E0(this.normalize().shiftToAll().toObject());return Di(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(f=>Ye.normalizeUnit(f));const r={},a={},l=this.toObject();let u;for(const f of qr)if(t.indexOf(f)>=0){u=f;let h=0;for(const m in a)h+=this.matrix[m][f]*a[m],a[m]=0;mr(l[f])&&(h+=l[f]);const p=Math.trunc(h);r[f]=p,a[f]=(h*1e3-p*1e3)/1e3}else mr(l[f])&&(a[f]=l[f]);for(const f in a)a[f]!==0&&(r[u]+=f===u?a[f]:a[f]/this.matrix[u][f]);return C0(this.matrix,r),Di(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const r of Object.keys(this.values))t[r]=this.values[r]===0?0:-this.values[r];return Di(this,{values:t},!0)}removeZeros(){if(!this.isValid)return this;const t=E0(this.values);return Di(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function r(a,l){return a===void 0||a===0?l===void 0||l===0:a===l}for(const a of qr)if(!r(this.values[a],t.values[a]))return!1;return!0}}const Va="Invalid Interval";function NN(i,t){return!i||!i.isValid?vt.invalid("missing or invalid start"):!t||!t.isValid?vt.invalid("missing or invalid end"):t<i?vt.invalid("end before start",`The end of an interval must be after its start, but you had start=${i.toISO()} and end=${t.toISO()}`):null}class vt{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,r=null){if(!t)throw new Xt("need to specify a reason the Interval is invalid");const a=t instanceof Pn?t:new Pn(t,r);if(bt.throwOnInvalid)throw new JE(a);return new vt({invalid:a})}static fromDateTimes(t,r){const a=ao(t),l=ao(r),u=NN(a,l);return u??new vt({start:a,end:l})}static after(t,r){const a=Ye.fromDurationLike(r),l=ao(t);return vt.fromDateTimes(l,l.plus(a))}static before(t,r){const a=Ye.fromDurationLike(r),l=ao(t);return vt.fromDateTimes(l.minus(a),l)}static fromISO(t,r){const[a,l]=(t||"").split("/",2);if(a&&l){let u,f;try{u=he.fromISO(a,r),f=u.isValid}catch{f=!1}let h,p;try{h=he.fromISO(l,r),p=h.isValid}catch{p=!1}if(f&&p)return vt.fromDateTimes(u,h);if(f){const m=Ye.fromISO(l,r);if(m.isValid)return vt.after(u,m)}else if(p){const m=Ye.fromISO(a,r);if(m.isValid)return vt.before(h,m)}}return vt.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",r){if(!this.isValid)return NaN;const a=this.start.startOf(t,r);let l;return r?.useLocaleWeeks?l=this.end.reconfigure({locale:a.locale}):l=this.end,l=l.startOf(t,r),Math.floor(l.diff(a,t).get(t))+(l.valueOf()!==this.end.valueOf())}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:r}={}){return this.isValid?vt.fromDateTimes(t||this.s,r||this.e):this}splitAt(...t){if(!this.isValid)return[];const r=t.map(ao).filter(f=>this.contains(f)).sort((f,h)=>f.toMillis()-h.toMillis()),a=[];let{s:l}=this,u=0;for(;l<this.e;){const f=r[u]||this.e,h=+f>+this.e?this.e:f;a.push(vt.fromDateTimes(l,h)),l=h,u+=1}return a}splitBy(t){const r=Ye.fromDurationLike(t);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s:a}=this,l=1,u;const f=[];for(;a<this.e;){const h=this.start.plus(r.mapUnits(p=>p*l));u=+h>+this.e?this.e:h,f.push(vt.fromDateTimes(a,u)),a=u,l+=1}return f}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;const r=this.s>t.s?this.s:t.s,a=this.e<t.e?this.e:t.e;return r>=a?null:vt.fromDateTimes(r,a)}union(t){if(!this.isValid)return this;const r=this.s<t.s?this.s:t.s,a=this.e>t.e?this.e:t.e;return vt.fromDateTimes(r,a)}static merge(t){const[r,a]=t.sort((l,u)=>l.s-u.s).reduce(([l,u],f)=>u?u.overlaps(f)||u.abutsStart(f)?[l,u.union(f)]:[l.concat([u]),f]:[l,f],[[],null]);return a&&r.push(a),r}static xor(t){let r=null,a=0;const l=[],u=t.map(p=>[{time:p.s,type:"s"},{time:p.e,type:"e"}]),f=Array.prototype.concat(...u),h=f.sort((p,m)=>p.time-m.time);for(const p of h)a+=p.type==="s"?1:-1,a===1?r=p.time:(r&&+r!=+p.time&&l.push(vt.fromDateTimes(r,p.time)),r=null);return vt.merge(l)}difference(...t){return vt.xor([this].concat(t)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:Va}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=vu,r={}){return this.isValid?Ft.create(this.s.loc.clone(r),t).formatInterval(this):Va}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:Va}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Va}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:Va}toFormat(t,{separator:r="  "}={}){return this.isValid?`${this.s.toFormat(t)}${r}${this.e.toFormat(t)}`:Va}toDuration(t,r){return this.isValid?this.e.diff(this.s,t,r):Ye.invalid(this.invalidReason)}mapEndpoints(t){return vt.fromDateTimes(t(this.s),t(this.e))}}class uo{static hasDST(t=bt.defaultZone){const r=he.now().setZone(t).set({month:12});return!t.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(t){return ui.isValidZone(t)}static normalizeZone(t){return dr(t,bt.defaultZone)}static getStartOfWeek({locale:t=null,locObj:r=null}={}){return(r||We.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:r=null}={}){return(r||We.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:r=null}={}){return(r||We.create(t)).getWeekendDays().slice()}static months(t="long",{locale:r=null,numberingSystem:a=null,locObj:l=null,outputCalendar:u="gregory"}={}){return(l||We.create(r,a,u)).months(t)}static monthsFormat(t="long",{locale:r=null,numberingSystem:a=null,locObj:l=null,outputCalendar:u="gregory"}={}){return(l||We.create(r,a,u)).months(t,!0)}static weekdays(t="long",{locale:r=null,numberingSystem:a=null,locObj:l=null}={}){return(l||We.create(r,a,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:r=null,numberingSystem:a=null,locObj:l=null}={}){return(l||We.create(r,a,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return We.create(t).meridiems()}static eras(t="short",{locale:r=null}={}){return We.create(r,null,"gregory").eras(t)}static features(){return{relative:uS(),localeWeek:cS()}}}function N0(i,t){const r=l=>l.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),a=r(t)-r(i);return Math.floor(Ye.fromMillis(a).as("days"))}function kN(i,t,r){const a=[["years",(p,m)=>m.year-p.year],["quarters",(p,m)=>m.quarter-p.quarter+(m.year-p.year)*4],["months",(p,m)=>m.month-p.month+(m.year-p.year)*12],["weeks",(p,m)=>{const v=N0(p,m);return(v-v%7)/7}],["days",N0]],l={},u=i;let f,h;for(const[p,m]of a)r.indexOf(p)>=0&&(f=p,l[p]=m(i,t),h=u.plus(l),h>t?(l[p]--,i=u.plus(l),i>t&&(h=i,l[p]--,i=u.plus(l))):i=h);return[i,l,h,f]}function jN(i,t,r,a){let[l,u,f,h]=kN(i,t,r);const p=t-l,m=r.filter(S=>["hours","minutes","seconds","milliseconds"].indexOf(S)>=0);m.length===0&&(f<t&&(f=l.plus({[h]:1})),f!==l&&(u[h]=(u[h]||0)+p/(f-l)));const v=Ye.fromObject(u,a);return m.length>0?Ye.fromMillis(p,a).shiftTo(...m).plus(v):v}const DN="missing Intl.DateTimeFormat.formatToParts support";function Fe(i,t=r=>r){return{regex:i,deser:([r])=>t(w2(r))}}const MN="",NS=`[ ${MN}]`,kS=new RegExp(NS,"g");function AN(i){return i.replace(/\./g,"\\.?").replace(kS,NS)}function k0(i){return i.replace(/\./g,"").replace(kS," ").toLowerCase()}function Gn(i,t){return i===null?null:{regex:RegExp(i.map(AN).join("|")),deser:([r])=>i.findIndex(a=>k0(r)===k0(a))+t}}function j0(i,t){return{regex:i,deser:([,r,a])=>Mu(r,a),groups:t}}function Jl(i){return{regex:i,deser:([t])=>t}}function RN(i){return i.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function zN(i,t){const r=Yn(t),a=Yn(t,"{2}"),l=Yn(t,"{3}"),u=Yn(t,"{4}"),f=Yn(t,"{6}"),h=Yn(t,"{1,2}"),p=Yn(t,"{1,3}"),m=Yn(t,"{1,6}"),v=Yn(t,"{1,9}"),S=Yn(t,"{2,4}"),b=Yn(t,"{4,6}"),x=T=>({regex:RegExp(RN(T.val)),deser:([z])=>z,literal:!0}),E=(T=>{if(i.literal)return x(T);switch(T.val){case"G":return Gn(t.eras("short"),0);case"GG":return Gn(t.eras("long"),0);case"y":return Fe(m);case"yy":return Fe(S,oh);case"yyyy":return Fe(u);case"yyyyy":return Fe(b);case"yyyyyy":return Fe(f);case"M":return Fe(h);case"MM":return Fe(a);case"MMM":return Gn(t.months("short",!0),1);case"MMMM":return Gn(t.months("long",!0),1);case"L":return Fe(h);case"LL":return Fe(a);case"LLL":return Gn(t.months("short",!1),1);case"LLLL":return Gn(t.months("long",!1),1);case"d":return Fe(h);case"dd":return Fe(a);case"o":return Fe(p);case"ooo":return Fe(l);case"HH":return Fe(a);case"H":return Fe(h);case"hh":return Fe(a);case"h":return Fe(h);case"mm":return Fe(a);case"m":return Fe(h);case"q":return Fe(h);case"qq":return Fe(a);case"s":return Fe(h);case"ss":return Fe(a);case"S":return Fe(p);case"SSS":return Fe(l);case"u":return Jl(v);case"uu":return Jl(h);case"uuu":return Fe(r);case"a":return Gn(t.meridiems(),0);case"kkkk":return Fe(u);case"kk":return Fe(S,oh);case"W":return Fe(h);case"WW":return Fe(a);case"E":case"c":return Fe(r);case"EEE":return Gn(t.weekdays("short",!1),1);case"EEEE":return Gn(t.weekdays("long",!1),1);case"ccc":return Gn(t.weekdays("short",!0),1);case"cccc":return Gn(t.weekdays("long",!0),1);case"Z":case"ZZ":return j0(new RegExp(`([+-]${h.source})(?::(${a.source}))?`),2);case"ZZZ":return j0(new RegExp(`([+-]${h.source})(${a.source})?`),2);case"z":return Jl(/[a-z_+-/]{1,256}?/i);case" ":return Jl(/[^\S\n\r]/);default:return x(T)}})(i)||{invalidReason:DN};return E.token=i,E}const BN={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function HN(i,t,r){const{type:a,value:l}=i;if(a==="literal"){const p=/^\s+$/.test(l);return{literal:!p,val:p?" ":l}}const u=t[a];let f=a;a==="hour"&&(t.hour12!=null?f=t.hour12?"hour12":"hour24":t.hourCycle!=null?t.hourCycle==="h11"||t.hourCycle==="h12"?f="hour12":f="hour24":f=r.hour12?"hour12":"hour24");let h=BN[f];if(typeof h=="object"&&(h=h[u]),h)return{literal:!1,val:h}}function UN(i){return[`^${i.map(r=>r.regex).reduce((r,a)=>`${r}(${a.source})`,"")}$`,i]}function IN(i,t,r){const a=i.match(t);if(a){const l={};let u=1;for(const f in r)if(ns(r,f)){const h=r[f],p=h.groups?h.groups+1:1;!h.literal&&h.token&&(l[h.token.val[0]]=h.deser(a.slice(u,u+p))),u+=p}return[a,l]}else return[a,{}]}function LN(i){const t=u=>{switch(u){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,a;return Ce(i.z)||(r=ui.create(i.z)),Ce(i.Z)||(r||(r=new Qt(i.Z)),a=i.Z),Ce(i.q)||(i.M=(i.q-1)*3+1),Ce(i.h)||(i.h<12&&i.a===1?i.h+=12:i.h===12&&i.a===0&&(i.h=0)),i.G===0&&i.y&&(i.y=-i.y),Ce(i.u)||(i.S=Mh(i.u)),[Object.keys(i).reduce((u,f)=>{const h=t(f);return h&&(u[h]=i[f]),u},{}),r,a]}let xd=null;function VN(){return xd||(xd=he.fromMillis(1555555555555)),xd}function $N(i,t){if(i.literal)return i;const r=Ft.macroTokenToFormatOpts(i.val),a=AS(r,t);return a==null||a.includes(void 0)?i:a}function jS(i,t){return Array.prototype.concat(...i.map(r=>$N(r,t)))}class DS{constructor(t,r){if(this.locale=t,this.format=r,this.tokens=jS(Ft.parseFormat(r),t),this.units=this.tokens.map(a=>zN(a,t)),this.disqualifyingUnit=this.units.find(a=>a.invalidReason),!this.disqualifyingUnit){const[a,l]=UN(this.units);this.regex=RegExp(a,"i"),this.handlers=l}}explainFromTokens(t){if(this.isValid){const[r,a]=IN(t,this.regex,this.handlers),[l,u,f]=a?LN(a):[null,null,void 0];if(ns(a,"a")&&ns(a,"H"))throw new Ga("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:this.tokens,regex:this.regex,rawMatches:r,matches:a,result:l,zone:u,specificOffset:f}}else return{input:t,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function MS(i,t,r){return new DS(i,r).explainFromTokens(t)}function qN(i,t,r){const{result:a,zone:l,specificOffset:u,invalidReason:f}=MS(i,t,r);return[a,l,u,f]}function AS(i,t){if(!i)return null;const a=Ft.create(t,i).dtFormatter(VN()),l=a.formatToParts(),u=a.resolvedOptions();return l.map(f=>HN(f,i,u))}const _d="Invalid DateTime",D0=864e13;function co(i){return new Pn("unsupported zone",`the zone "${i.name}" is not supported`)}function Td(i){return i.weekData===null&&(i.weekData=bu(i.c)),i.weekData}function Od(i){return i.localWeekData===null&&(i.localWeekData=bu(i.c,i.loc.getMinDaysInFirstWeek(),i.loc.getStartOfWeek())),i.localWeekData}function Ur(i,t){const r={ts:i.ts,zone:i.zone,c:i.c,o:i.o,loc:i.loc,invalid:i.invalid};return new he({...r,...t,old:r})}function RS(i,t,r){let a=i-t*60*1e3;const l=r.offset(a);if(t===l)return[a,t];a-=(l-t)*60*1e3;const u=r.offset(a);return l===u?[a,l]:[i-Math.min(l,u)*60*1e3,Math.max(l,u)]}function eu(i,t){i+=t*60*1e3;const r=new Date(i);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function fu(i,t,r){return RS(Du(i),t,r)}function M0(i,t){const r=i.o,a=i.c.year+Math.trunc(t.years),l=i.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,u={...i.c,year:a,month:l,day:Math.min(i.c.day,Su(a,l))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},f=Ye.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),h=Du(u);let[p,m]=RS(h,r,i.zone);return f!==0&&(p+=f,m=i.zone.offset(p)),{ts:p,o:m}}function $a(i,t,r,a,l,u){const{setZone:f,zone:h}=r;if(i&&Object.keys(i).length!==0||t){const p=t||h,m=he.fromObject(i,{...r,zone:p,specificOffset:u});return f?m:m.setZone(h)}else return he.invalid(new Pn("unparsable",`the input "${l}" can't be parsed as ${a}`))}function tu(i,t,r=!0){return i.isValid?Ft.create(We.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(i,t):null}function Cd(i,t,r){const a=i.c.year>9999||i.c.year<0;let l="";if(a&&i.c.year>=0&&(l+="+"),l+=kt(i.c.year,a?6:4),r==="year")return l;if(t){if(l+="-",l+=kt(i.c.month),r==="month")return l;l+="-"}else if(l+=kt(i.c.month),r==="month")return l;return l+=kt(i.c.day),l}function A0(i,t,r,a,l,u,f){let h=!r||i.c.millisecond!==0||i.c.second!==0,p="";switch(f){case"day":case"month":case"year":break;default:if(p+=kt(i.c.hour),f==="hour")break;if(t){if(p+=":",p+=kt(i.c.minute),f==="minute")break;h&&(p+=":",p+=kt(i.c.second))}else{if(p+=kt(i.c.minute),f==="minute")break;h&&(p+=kt(i.c.second))}if(f==="second")break;h&&(!a||i.c.millisecond!==0)&&(p+=".",p+=kt(i.c.millisecond,3))}return l&&(i.isOffsetFixed&&i.offset===0&&!u?p+="Z":i.o<0?(p+="-",p+=kt(Math.trunc(-i.o/60)),p+=":",p+=kt(Math.trunc(-i.o%60))):(p+="+",p+=kt(Math.trunc(i.o/60)),p+=":",p+=kt(Math.trunc(i.o%60)))),u&&(p+="["+i.zone.ianaName+"]"),p}const zS={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},YN={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},GN={ordinal:1,hour:0,minute:0,second:0,millisecond:0},du=["year","month","day","hour","minute","second","millisecond"],ZN=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],PN=["year","ordinal","hour","minute","second","millisecond"];function hu(i){const t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[i.toLowerCase()];if(!t)throw new R1(i);return t}function R0(i){switch(i.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return hu(i)}}function XN(i){if(fo===void 0&&(fo=bt.now()),i.type!=="iana")return i.offset(fo);const t=i.name;let r=lh.get(t);return r===void 0&&(r=i.offset(fo),lh.set(t,r)),r}function z0(i,t){const r=dr(t.zone,bt.defaultZone);if(!r.isValid)return he.invalid(co(r));const a=We.fromObject(t);let l,u;if(Ce(i.year))l=bt.now();else{for(const p of du)Ce(i[p])&&(i[p]=zS[p]);const f=oS(i)||lS(i);if(f)return he.invalid(f);const h=XN(r);[l,u]=fu(i,h,r)}return new he({ts:l,zone:r,loc:a,o:u})}function B0(i,t,r){const a=Ce(r.round)?!0:r.round,l=Ce(r.rounding)?"trunc":r.rounding,u=(h,p)=>(h=Ah(h,a||r.calendary?0:2,r.calendary?"round":l),t.loc.clone(r).relFormatter(r).format(h,p)),f=h=>r.calendary?t.hasSame(i,h)?0:t.startOf(h).diff(i.startOf(h),h).get(h):t.diff(i,h).get(h);if(r.unit)return u(f(r.unit),r.unit);for(const h of r.units){const p=f(h);if(Math.abs(p)>=1)return u(p,h)}return u(i>t?-0:0,r.units[r.units.length-1])}function H0(i){let t={},r;return i.length>0&&typeof i[i.length-1]=="object"?(t=i[i.length-1],r=Array.from(i).slice(0,i.length-1)):r=Array.from(i),[t,r]}let fo;const lh=new Map;class he{constructor(t){const r=t.zone||bt.defaultZone;let a=t.invalid||(Number.isNaN(t.ts)?new Pn("invalid input"):null)||(r.isValid?null:co(r));this.ts=Ce(t.ts)?bt.now():t.ts;let l=null,u=null;if(!a)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(r))[l,u]=[t.old.c,t.old.o];else{const h=mr(t.o)&&!t.old?t.o:r.offset(this.ts);l=eu(this.ts,h),a=Number.isNaN(l.year)?new Pn("invalid input"):null,l=a?null:l,u=a?null:h}this._zone=r,this.loc=t.loc||We.create(),this.invalid=a,this.weekData=null,this.localWeekData=null,this.c=l,this.o=u,this.isLuxonDateTime=!0}static now(){return new he({})}static local(){const[t,r]=H0(arguments),[a,l,u,f,h,p,m]=r;return z0({year:a,month:l,day:u,hour:f,minute:h,second:p,millisecond:m},t)}static utc(){const[t,r]=H0(arguments),[a,l,u,f,h,p,m]=r;return t.zone=Qt.utcInstance,z0({year:a,month:l,day:u,hour:f,minute:h,second:p,millisecond:m},t)}static fromJSDate(t,r={}){const a=C2(t)?t.valueOf():NaN;if(Number.isNaN(a))return he.invalid("invalid input");const l=dr(r.zone,bt.defaultZone);return l.isValid?new he({ts:a,zone:l,loc:We.fromObject(r)}):he.invalid(co(l))}static fromMillis(t,r={}){if(mr(t))return t<-D0||t>D0?he.invalid("Timestamp out of range"):new he({ts:t,zone:dr(r.zone,bt.defaultZone),loc:We.fromObject(r)});throw new Xt(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,r={}){if(mr(t))return new he({ts:t*1e3,zone:dr(r.zone,bt.defaultZone),loc:We.fromObject(r)});throw new Xt("fromSeconds requires a numerical input")}static fromObject(t,r={}){t=t||{};const a=dr(r.zone,bt.defaultZone);if(!a.isValid)return he.invalid(co(a));const l=We.fromObject(r),u=wu(t,R0),{minDaysInFirstWeek:f,startOfWeek:h}=S0(u,l),p=bt.now(),m=Ce(r.specificOffset)?a.offset(p):r.specificOffset,v=!Ce(u.ordinal),S=!Ce(u.year),b=!Ce(u.month)||!Ce(u.day),x=S||b,_=u.weekYear||u.weekNumber;if((x||v)&&_)throw new Ga("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(b&&v)throw new Ga("Can't mix ordinal dates with month/day");const E=_||u.weekday&&!x;let T,z,A=eu(p,m);E?(T=ZN,z=YN,A=bu(A,f,h)):v?(T=PN,z=GN,A=wd(A)):(T=du,z=zS);let B=!1;for(const j of T){const W=u[j];Ce(W)?B?u[j]=z[j]:u[j]=A[j]:B=!0}const N=E?_2(u,f,h):v?T2(u):oS(u),H=N||lS(u);if(H)return he.invalid(H);const O=E?v0(u,f,h):v?b0(u):u,[R,I]=fu(O,m,a),Z=new he({ts:R,zone:a,o:I,loc:l});return u.weekday&&x&&t.weekday!==Z.weekday?he.invalid("mismatched weekday",`you can't specify both a weekday of ${u.weekday} and a date of ${Z.toISO()}`):Z.isValid?Z:he.invalid(Z.invalid)}static fromISO(t,r={}){const[a,l]=mN(t);return $a(a,l,r,"ISO 8601",t)}static fromRFC2822(t,r={}){const[a,l]=gN(t);return $a(a,l,r,"RFC 2822",t)}static fromHTTP(t,r={}){const[a,l]=yN(t);return $a(a,l,r,"HTTP",r)}static fromFormat(t,r,a={}){if(Ce(t)||Ce(r))throw new Xt("fromFormat requires an input string and a format");const{locale:l=null,numberingSystem:u=null}=a,f=We.fromOpts({locale:l,numberingSystem:u,defaultToEN:!0}),[h,p,m,v]=qN(f,t,r);return v?he.invalid(v):$a(h,p,a,`format ${r}`,t,m)}static fromString(t,r,a={}){return he.fromFormat(t,r,a)}static fromSQL(t,r={}){const[a,l]=TN(t);return $a(a,l,r,"SQL",t)}static invalid(t,r=null){if(!t)throw new Xt("need to specify a reason the DateTime is invalid");const a=t instanceof Pn?t:new Pn(t,r);if(bt.throwOnInvalid)throw new WE(a);return new he({invalid:a})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,r={}){const a=AS(t,We.fromObject(r));return a?a.map(l=>l?l.val:null).join(""):null}static expandFormat(t,r={}){return jS(Ft.parseFormat(t),We.fromObject(r)).map(l=>l.val).join("")}static resetCache(){fo=void 0,lh.clear()}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Td(this).weekYear:NaN}get weekNumber(){return this.isValid?Td(this).weekNumber:NaN}get weekday(){return this.isValid?Td(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Od(this).weekday:NaN}get localWeekNumber(){return this.isValid?Od(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Od(this).weekYear:NaN}get ordinal(){return this.isValid?wd(this.c).ordinal:NaN}get monthShort(){return this.isValid?uo.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?uo.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?uo.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?uo.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,r=6e4,a=Du(this.c),l=this.zone.offset(a-t),u=this.zone.offset(a+t),f=this.zone.offset(a-l*r),h=this.zone.offset(a-u*r);if(f===h)return[this];const p=a-f*r,m=a-h*r,v=eu(p,f),S=eu(m,h);return v.hour===S.hour&&v.minute===S.minute&&v.second===S.second&&v.millisecond===S.millisecond?[Ur(this,{ts:p}),Ur(this,{ts:m})]:[this]}get isInLeapYear(){return xo(this.year)}get daysInMonth(){return Su(this.year,this.month)}get daysInYear(){return this.isValid?Xa(this.year):NaN}get weeksInWeekYear(){return this.isValid?bo(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?bo(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:r,numberingSystem:a,calendar:l}=Ft.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:r,numberingSystem:a,outputCalendar:l}}toUTC(t=0,r={}){return this.setZone(Qt.instance(t),r)}toLocal(){return this.setZone(bt.defaultZone)}setZone(t,{keepLocalTime:r=!1,keepCalendarTime:a=!1}={}){if(t=dr(t,bt.defaultZone),t.equals(this.zone))return this;if(t.isValid){let l=this.ts;if(r||a){const u=t.offset(this.ts),f=this.toObject();[l]=fu(f,u,t)}return Ur(this,{ts:l,zone:t})}else return he.invalid(co(t))}reconfigure({locale:t,numberingSystem:r,outputCalendar:a}={}){const l=this.loc.clone({locale:t,numberingSystem:r,outputCalendar:a});return Ur(this,{loc:l})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const r=wu(t,R0),{minDaysInFirstWeek:a,startOfWeek:l}=S0(r,this.loc),u=!Ce(r.weekYear)||!Ce(r.weekNumber)||!Ce(r.weekday),f=!Ce(r.ordinal),h=!Ce(r.year),p=!Ce(r.month)||!Ce(r.day),m=h||p,v=r.weekYear||r.weekNumber;if((m||f)&&v)throw new Ga("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(p&&f)throw new Ga("Can't mix ordinal dates with month/day");let S;u?S=v0({...bu(this.c,a,l),...r},a,l):Ce(r.ordinal)?(S={...this.toObject(),...r},Ce(r.day)&&(S.day=Math.min(Su(S.year,S.month),S.day))):S=b0({...wd(this.c),...r});const[b,x]=fu(S,this.o,this.zone);return Ur(this,{ts:b,o:x})}plus(t){if(!this.isValid)return this;const r=Ye.fromDurationLike(t);return Ur(this,M0(this,r))}minus(t){if(!this.isValid)return this;const r=Ye.fromDurationLike(t).negate();return Ur(this,M0(this,r))}startOf(t,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;const a={},l=Ye.normalizeUnit(t);switch(l){case"years":a.month=1;case"quarters":case"months":a.day=1;case"weeks":case"days":a.hour=0;case"hours":a.minute=0;case"minutes":a.second=0;case"seconds":a.millisecond=0;break}if(l==="weeks")if(r){const u=this.loc.getStartOfWeek(),{weekday:f}=this;f<u&&(a.weekNumber=this.weekNumber-1),a.weekday=u}else a.weekday=1;if(l==="quarters"){const u=Math.ceil(this.month/3);a.month=(u-1)*3+1}return this.set(a)}endOf(t,r){return this.isValid?this.plus({[t]:1}).startOf(t,r).minus(1):this}toFormat(t,r={}){return this.isValid?Ft.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,t):_d}toLocaleString(t=vu,r={}){return this.isValid?Ft.create(this.loc.clone(r),t).formatDateTime(this):_d}toLocaleParts(t={}){return this.isValid?Ft.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:r=!1,suppressMilliseconds:a=!1,includeOffset:l=!0,extendedZone:u=!1,precision:f="milliseconds"}={}){if(!this.isValid)return null;f=hu(f);const h=t==="extended";let p=Cd(this,h,f);return du.indexOf(f)>=3&&(p+="T"),p+=A0(this,h,r,a,l,u,f),p}toISODate({format:t="extended",precision:r="day"}={}){return this.isValid?Cd(this,t==="extended",hu(r)):null}toISOWeekDate(){return tu(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:r=!1,includeOffset:a=!0,includePrefix:l=!1,extendedZone:u=!1,format:f="extended",precision:h="milliseconds"}={}){return this.isValid?(h=hu(h),(l&&du.indexOf(h)>=3?"T":"")+A0(this,f==="extended",r,t,a,u,h)):null}toRFC2822(){return tu(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return tu(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Cd(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:r=!1,includeOffsetSpace:a=!0}={}){let l="HH:mm:ss.SSS";return(r||t)&&(a&&(l+=" "),r?l+="z":t&&(l+="ZZ")),tu(this,l,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():_d}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const r={...this.c};return t.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,r="milliseconds",a={}){if(!this.isValid||!t.isValid)return Ye.invalid("created by diffing an invalid DateTime");const l={locale:this.locale,numberingSystem:this.numberingSystem,...a},u=E2(r).map(Ye.normalizeUnit),f=t.valueOf()>this.valueOf(),h=f?this:t,p=f?t:this,m=jN(h,p,u,l);return f?m.negate():m}diffNow(t="milliseconds",r={}){return this.diff(he.now(),t,r)}until(t){return this.isValid?vt.fromDateTimes(this,t):this}hasSame(t,r,a){if(!this.isValid)return!1;const l=t.valueOf(),u=this.setZone(t.zone,{keepLocalTime:!0});return u.startOf(r,a)<=l&&l<=u.endOf(r,a)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const r=t.base||he.fromObject({},{zone:this.zone}),a=t.padding?this<r?-t.padding:t.padding:0;let l=["years","months","days","hours","minutes","seconds"],u=t.unit;return Array.isArray(t.unit)&&(l=t.unit,u=void 0),B0(r,this.plus(a),{...t,numeric:"always",units:l,unit:u})}toRelativeCalendar(t={}){return this.isValid?B0(t.base||he.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(he.isDateTime))throw new Xt("min requires all arguments be DateTimes");return w0(t,r=>r.valueOf(),Math.min)}static max(...t){if(!t.every(he.isDateTime))throw new Xt("max requires all arguments be DateTimes");return w0(t,r=>r.valueOf(),Math.max)}static fromFormatExplain(t,r,a={}){const{locale:l=null,numberingSystem:u=null}=a,f=We.fromOpts({locale:l,numberingSystem:u,defaultToEN:!0});return MS(f,t,r)}static fromStringExplain(t,r,a={}){return he.fromFormatExplain(t,r,a)}static buildFormatParser(t,r={}){const{locale:a=null,numberingSystem:l=null}=r,u=We.fromOpts({locale:a,numberingSystem:l,defaultToEN:!0});return new DS(u,t)}static fromFormatParser(t,r,a={}){if(Ce(t)||Ce(r))throw new Xt("fromFormatParser requires an input string and a format parser");const{locale:l=null,numberingSystem:u=null}=a,f=We.fromOpts({locale:l,numberingSystem:u,defaultToEN:!0});if(!f.equals(r.locale))throw new Xt(`fromFormatParser called with a locale of ${f}, but the format parser was created for ${r.locale}`);const{result:h,zone:p,specificOffset:m,invalidReason:v}=r.explainFromTokens(t);return v?he.invalid(v):$a(h,p,a,`format ${r.format}`,t,m)}static get DATE_SHORT(){return vu}static get DATE_MED(){return z1}static get DATE_MED_WITH_WEEKDAY(){return t2}static get DATE_FULL(){return B1}static get DATE_HUGE(){return H1}static get TIME_SIMPLE(){return U1}static get TIME_WITH_SECONDS(){return I1}static get TIME_WITH_SHORT_OFFSET(){return L1}static get TIME_WITH_LONG_OFFSET(){return V1}static get TIME_24_SIMPLE(){return $1}static get TIME_24_WITH_SECONDS(){return q1}static get TIME_24_WITH_SHORT_OFFSET(){return Y1}static get TIME_24_WITH_LONG_OFFSET(){return G1}static get DATETIME_SHORT(){return Z1}static get DATETIME_SHORT_WITH_SECONDS(){return P1}static get DATETIME_MED(){return X1}static get DATETIME_MED_WITH_SECONDS(){return F1}static get DATETIME_MED_WITH_WEEKDAY(){return n2}static get DATETIME_FULL(){return Q1}static get DATETIME_FULL_WITH_SECONDS(){return K1}static get DATETIME_HUGE(){return W1}static get DATETIME_HUGE_WITH_SECONDS(){return J1}}function ao(i){if(he.isDateTime(i))return i;if(i&&i.valueOf&&mr(i.valueOf()))return he.fromJSDate(i);if(i&&typeof i=="object")return he.fromObject(i);throw new Xt(`Unknown datetime argument: ${i}, of type ${typeof i}`)}const FN="3.7.2",QN=Object.freeze(Object.defineProperty({__proto__:null,DateTime:he,Duration:Ye,FixedOffsetZone:Qt,IANAZone:ui,Info:uo,Interval:vt,InvalidZone:nS,Settings:bt,SystemZone:wo,VERSION:FN,Zone:ss},Symbol.toStringTag,{value:"Module"}));class _k extends ne.Control{constructor(t,r){super(),this.render="react",this.component=t,this.props=r}}class U0 extends ne.Node{constructor(t){super("Sunrise/Sunset Trigger"),this.width=450,this.height=800,this.change=t,this.addOutput("state",new ne.Output(new ne.Socket("boolean"),"State")),this.properties={on_offset_hours:0,on_offset_minutes:30,on_offset_direction:"Before",on_enabled:!0,fixed_on_hour:6,fixed_on_minute:0,fixed_on_ampm:"PM",fixed_on_enabled:!1,off_offset_hours:0,off_offset_minutes:0,off_offset_direction:"Before",off_enabled:!0,fixed_stop_hour:10,fixed_stop_minute:30,fixed_stop_ampm:"PM",fixed_stop_enabled:!0,latitude:34.0522,longitude:-118.2437,city:"Los Angeles",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC",haToken:"",sunrise_time:null,sunset_time:null,next_on_date:null,next_off_date:null,currentState:!1,status:"Initializing...",debug:!1,pulseMode:!0}}data(){return{state:this.properties.currentState}}update(){this.change&&this.change()}}function KN(i){const{data:t,emit:r}=i,[a,l]=D.useState(t.properties),[u,f]=D.useState("Calculating...");D.useRef(t);const h=(j,W)=>{t.properties[j]=W,l(oe=>({...oe,[j]:W})),t.update(),["on_offset_hours","on_offset_minutes","on_offset_direction","on_enabled","fixed_on_hour","fixed_on_minute","fixed_on_ampm","fixed_on_enabled","off_offset_hours","off_offset_minutes","off_offset_direction","off_enabled","fixed_stop_hour","fixed_stop_minute","fixed_stop_ampm","fixed_stop_enabled","latitude","longitude","timezone"].includes(j)&&S()},p=(j,W="info")=>{(a.debug||W==="error")&&console.log(`[SunriseSunsetNode] ${j}`)},m=D.useCallback(()=>{p("Triggering Pulse..."),t.properties.pulseMode?(t.properties.currentState=!0,t.update(),setTimeout(()=>{t.properties.currentState=!1,t.update(),p("Pulse complete.")},500)):(t.properties.currentState=!t.properties.currentState,t.update())},[t]),v=D.useCallback(async()=>{h("status","Fetching sun times...");try{if(window.api&&window.api.fetchSunTimes){const j=await window.api.fetchSunTimes({latitude:a.latitude,longitude:a.longitude});if(j.success){const{sunrise:W,sunset:oe,timezone:ue}=j;h("sunrise_time",W?new Date(W):null),h("sunset_time",oe?new Date(oe):null),ue&&h("timezone",ue),h("status","Sun times fetched."),S()}else throw new Error(j.error||"Failed to fetch sun times")}else{h("status","API not available, using defaults.");const j=he.local();h("sunrise_time",j.set({hour:6,minute:0}).toJSDate()),h("sunset_time",j.set({hour:18,minute:0}).toJSDate()),S()}}catch(j){p(`Error fetching sun times: ${j.message}`,"error"),h("status",`Error: ${j.message}`)}},[a.latitude,a.longitude]),S=D.useCallback(()=>{if(!t.properties.sunrise_time||!t.properties.sunset_time)return;const j=he.local().setZone(t.properties.timezone),W=he.fromJSDate(t.properties.sunrise_time).setZone(t.properties.timezone).set({year:j.year,month:j.month,day:j.day}),oe=he.fromJSDate(t.properties.sunset_time).setZone(t.properties.timezone).set({year:j.year,month:j.month,day:j.day});let ue;if(t.properties.fixed_on_enabled){let pe=t.properties.fixed_on_hour%12;t.properties.fixed_on_ampm==="PM"&&(pe+=12),ue=j.set({hour:pe,minute:t.properties.fixed_on_minute,second:0}),ue<=j&&(ue=ue.plus({days:1}))}else t.properties.on_enabled&&(ue=oe.plus({hours:t.properties.on_offset_direction==="After"?t.properties.on_offset_hours:-t.properties.on_offset_hours,minutes:t.properties.on_offset_direction==="After"?t.properties.on_offset_minutes:-t.properties.on_offset_minutes}),ue<=j&&(ue=ue.plus({days:1})));let de;if(t.properties.fixed_stop_enabled){let pe=t.properties.fixed_stop_hour%12;t.properties.fixed_stop_ampm==="PM"&&(pe+=12),de=j.set({hour:pe,minute:t.properties.fixed_stop_minute,second:0}),de<=j&&(de=de.plus({days:1}))}else t.properties.off_enabled&&(de=W.plus({hours:t.properties.off_offset_direction==="After"?t.properties.off_offset_hours:-t.properties.off_offset_hours,minutes:t.properties.off_offset_direction==="After"?t.properties.off_offset_minutes:-t.properties.off_offset_minutes}),de<=j&&(de=de.plus({days:1})));h("next_on_date",ue?ue.toJSDate():null),h("next_off_date",de?de.toJSDate():null)},[t.properties]);D.useEffect(()=>{const j=setInterval(()=>{const W=he.local().setZone(t.properties.timezone),oe=t.properties.next_on_date?he.fromJSDate(t.properties.next_on_date).setZone(t.properties.timezone):null,ue=t.properties.next_off_date?he.fromJSDate(t.properties.next_off_date).setZone(t.properties.timezone):null;oe&&W>=oe&&(p("Hit Next On Time!"),m(),S()),ue&&W>=ue&&(p("Hit Next Off Time!"),m(),S());let de=null,pe="";if(oe&&ue?oe<ue?(de=oe,pe="Until On"):(de=ue,pe="Until Off"):oe?(de=oe,pe="Until On"):ue&&(de=ue,pe="Until Off"),de){const $=de.diff(W,["hours","minutes","seconds"]).toObject();f(`${pe}: ${Math.floor($.hours)}h ${Math.floor($.minutes)}m ${Math.floor($.seconds)}s`)}else f("Waiting for schedule...")},1e3);return()=>clearInterval(j)},[t.properties.next_on_date,t.properties.next_off_date,m,S]),D.useEffect(()=>{v()},[]),Object.entries(t.inputs).map(([j,W])=>({key:j,...W}));const b=Object.entries(t.outputs).map(([j,W])=>({key:j,...W})),x=a.timezone||Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC",_=a.next_on_date?he.fromJSDate(new Date(a.next_on_date)).setZone(x):null,E=a.next_off_date?he.fromJSDate(new Date(a.next_off_date)).setZone(x):null;let T=null;_&&E?T=_<=E?"on":"off":_?T="on":E&&(T="off");const z=a.fixed_on_enabled?"fixed":a.on_enabled?"offset":null,A=a.fixed_stop_enabled?"fixed":a.off_enabled?"offset":null,B=T==="on"&&z==="offset",N=T==="on"&&z==="fixed",H=T==="off"&&A==="offset",O=T==="off"&&A==="fixed",R={border:"1px solid #00FF00",borderRadius:"6px",padding:"8px",marginBottom:"10px",background:"rgba(0, 255, 0, 0.05)"},I={border:"1px solid transparent",padding:"8px",marginBottom:"10px"},Z=j=>j?he.fromJSDate(new Date(j)).setZone(x).toFormat("hh:mm a"):"N/A";return g.jsxs("div",{className:"sunrise-sunset-node",children:[g.jsxs("div",{className:"title",children:[t.label,g.jsx("div",{style:{float:"right",display:"flex",alignItems:"center"},children:b.map(j=>g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},"data-testid":"output",children:[g.jsx("div",{className:"output-label",style:{fontSize:"12px",marginRight:"5px"},children:j.label}),g.jsx(Qe,{init:W=>r({type:"render",data:{type:"socket",element:W,payload:j.socket,nodeId:t.id,side:"output",key:j.key}}),unmount:W=>r({type:"unmount",data:{element:W}})})]},j.key))})]}),g.jsxs("div",{className:"content",onPointerDown:j=>j.stopPropagation(),children:[g.jsxs("div",{className:"control-row",children:[g.jsx("span",{className:"control-label",children:"Pulse Mode"}),g.jsx("input",{type:"checkbox",checked:a.pulseMode,onChange:j=>h("pulseMode",j.target.checked)})]}),g.jsx("div",{className:"section-header",children:"Home Assistant"}),g.jsxs("div",{className:"control-row",children:[g.jsx("span",{className:"control-label",children:"HA Token"}),g.jsx("input",{type:"text",value:a.haToken?"********":"",onChange:j=>h("haToken",j.target.value),placeholder:"Enter Token",style:{width:"60%"}})]}),g.jsxs("div",{style:B?R:I,children:[g.jsx("div",{className:"section-header",children:"On Offset (Sunset)"}),g.jsxs("div",{className:"control-row",children:[g.jsx("span",{className:"control-label",children:"Enabled"}),g.jsx("input",{type:"checkbox",checked:a.on_enabled,onChange:j=>h("on_enabled",j.target.checked)})]}),g.jsxs("div",{className:"control-row",children:[g.jsxs("span",{className:"control-label",children:["Hours: ",a.on_offset_hours]}),g.jsx("input",{type:"range",min:"0",max:"23",value:a.on_offset_hours,onChange:j=>h("on_offset_hours",parseInt(j.target.value)),disabled:!a.on_enabled,style:{width:"60%"}})]}),g.jsxs("div",{className:"control-row",children:[g.jsxs("span",{className:"control-label",children:["Minutes: ",a.on_offset_minutes]}),g.jsx("input",{type:"range",min:"0",max:"59",value:a.on_offset_minutes,onChange:j=>h("on_offset_minutes",parseInt(j.target.value)),disabled:!a.on_enabled,style:{width:"60%"}})]}),g.jsxs("div",{className:"control-row",children:[g.jsx("span",{className:"control-label",children:"Direction"}),g.jsxs("select",{value:a.on_offset_direction,onChange:j=>h("on_offset_direction",j.target.value),disabled:!a.on_enabled,style:{width:"60%"},children:[g.jsx("option",{value:"Before",children:"Before"}),g.jsx("option",{value:"After",children:"After"})]})]})]}),g.jsxs("div",{style:N?R:I,children:[g.jsx("div",{className:"section-header",children:"Fixed On Time"}),g.jsxs("div",{className:"control-row",children:[g.jsx("span",{className:"control-label",children:"Enabled"}),g.jsx("input",{type:"checkbox",checked:a.fixed_on_enabled,onChange:j=>h("fixed_on_enabled",j.target.checked)})]}),g.jsxs("div",{className:"control-row",children:[g.jsxs("span",{className:"control-label",children:["Hour: ",a.fixed_on_hour]}),g.jsx("input",{type:"range",min:"1",max:"12",value:a.fixed_on_hour,onChange:j=>h("fixed_on_hour",parseInt(j.target.value)),disabled:!a.fixed_on_enabled,style:{width:"60%"}})]}),g.jsxs("div",{className:"control-row",children:[g.jsxs("span",{className:"control-label",children:["Minute: ",a.fixed_on_minute]}),g.jsx("input",{type:"range",min:"0",max:"59",value:a.fixed_on_minute,onChange:j=>h("fixed_on_minute",parseInt(j.target.value)),disabled:!a.fixed_on_enabled,style:{width:"60%"}})]}),g.jsxs("div",{className:"control-row",children:[g.jsx("span",{className:"control-label",children:"AM/PM"}),g.jsxs("select",{value:a.fixed_on_ampm,onChange:j=>h("fixed_on_ampm",j.target.value),disabled:!a.fixed_on_enabled,style:{width:"60%"},children:[g.jsx("option",{value:"AM",children:"AM"}),g.jsx("option",{value:"PM",children:"PM"})]})]})]}),g.jsxs("div",{style:H?R:I,children:[g.jsx("div",{className:"section-header",children:"Off Offset (Sunrise)"}),g.jsxs("div",{className:"control-row",children:[g.jsx("span",{className:"control-label",children:"Enabled"}),g.jsx("input",{type:"checkbox",checked:a.off_enabled,onChange:j=>h("off_enabled",j.target.checked)})]}),g.jsxs("div",{className:"control-row",children:[g.jsxs("span",{className:"control-label",children:["Hours: ",a.off_offset_hours]}),g.jsx("input",{type:"range",min:"0",max:"23",value:a.off_offset_hours,onChange:j=>h("off_offset_hours",parseInt(j.target.value)),disabled:!a.off_enabled,style:{width:"60%"}})]}),g.jsxs("div",{className:"control-row",children:[g.jsxs("span",{className:"control-label",children:["Minutes: ",a.off_offset_minutes]}),g.jsx("input",{type:"range",min:"0",max:"59",value:a.off_offset_minutes,onChange:j=>h("off_offset_minutes",parseInt(j.target.value)),disabled:!a.off_enabled,style:{width:"60%"}})]}),g.jsxs("div",{className:"control-row",children:[g.jsx("span",{className:"control-label",children:"Direction"}),g.jsxs("select",{value:a.off_offset_direction,onChange:j=>h("off_offset_direction",j.target.value),disabled:!a.off_enabled,style:{width:"60%"},children:[g.jsx("option",{value:"Before",children:"Before"}),g.jsx("option",{value:"After",children:"After"})]})]})]}),g.jsxs("div",{style:O?R:I,children:[g.jsx("div",{className:"section-header",children:"Fixed Stop Time"}),g.jsxs("div",{className:"control-row",children:[g.jsx("span",{className:"control-label",children:"Enabled"}),g.jsx("input",{type:"checkbox",checked:a.fixed_stop_enabled,onChange:j=>h("fixed_stop_enabled",j.target.checked)})]}),g.jsxs("div",{className:"control-row",children:[g.jsxs("span",{className:"control-label",children:["Hour: ",a.fixed_stop_hour]}),g.jsx("input",{type:"range",min:"1",max:"12",value:a.fixed_stop_hour,onChange:j=>h("fixed_stop_hour",parseInt(j.target.value)),disabled:!a.fixed_stop_enabled,style:{width:"60%"}})]}),g.jsxs("div",{className:"control-row",children:[g.jsxs("span",{className:"control-label",children:["Minute: ",a.fixed_stop_minute]}),g.jsx("input",{type:"range",min:"0",max:"59",value:a.fixed_stop_minute,onChange:j=>h("fixed_stop_minute",parseInt(j.target.value)),disabled:!a.fixed_stop_enabled,style:{width:"60%"}})]}),g.jsxs("div",{className:"control-row",children:[g.jsx("span",{className:"control-label",children:"AM/PM"}),g.jsxs("select",{value:a.fixed_stop_ampm,onChange:j=>h("fixed_stop_ampm",j.target.value),disabled:!a.fixed_stop_enabled,style:{width:"60%"},children:[g.jsx("option",{value:"AM",children:"AM"}),g.jsx("option",{value:"PM",children:"PM"})]})]})]}),g.jsx("div",{className:"section-header",children:"Location"}),g.jsxs("div",{className:"control-row",children:[g.jsxs("span",{className:"control-label",children:["Lat: ",a.latitude]}),g.jsxs("span",{className:"control-label",children:["Lon: ",a.longitude]})]}),g.jsx("div",{className:"control-row",children:g.jsxs("span",{className:"control-label",children:["City: ",a.city]})}),g.jsxs("div",{className:"info-display",children:[g.jsxs("div",{className:"info-row",children:[g.jsx("span",{className:"info-label",children:"Next On:"}),g.jsx("span",{className:"info-value",children:Z(a.next_on_date)})]}),g.jsxs("div",{className:"info-row",children:[g.jsx("span",{className:"info-label",children:"Next Off:"}),g.jsx("span",{className:"info-value",children:Z(a.next_off_date)})]}),g.jsx("div",{className:"countdown",children:u})]}),g.jsx("div",{className:`status-text ${a.status.includes("Error")?"error":"info"}`,children:a.status})]})]})}class I0 extends ne.Node{constructor(t){super("Time of Day"),this.width=450,this.height=950,this.change=t,this.addOutput("state",new ne.Output(new ne.Socket("boolean"),"State")),this.addOutput("startTime",new ne.Output(new ne.Socket("string"),"Start Time")),this.addOutput("endTime",new ne.Output(new ne.Socket("string"),"End Time")),this.properties={start_hour:8,start_minute:0,start_ampm:"AM",start_enabled:!0,stop_hour:6,stop_minute:0,stop_ampm:"PM",stop_enabled:!0,cycle_hour:4,cycle_minute:45,cycle_ampm:"AM",cycle_duration:10,cycle_enabled:!1,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone||"UTC",next_on_date:null,next_off_date:null,next_cycle_date:null,currentState:!1,status:"Initializing...",debug:!1,pulseMode:!0}}data(){const t=(l,u,f)=>{const h=String(u).padStart(2,"0");return`${l}:${h} ${f}`},r=t(this.properties.start_hour,this.properties.start_minute,this.properties.start_ampm),a=t(this.properties.stop_hour,this.properties.stop_minute,this.properties.stop_ampm);return{state:this.properties.currentState,startTime:r,endTime:a}}update(){this.change&&this.change()}}function WN(i){const{data:t,emit:r}=i,[a,l]=D.useState(t.properties),[u,f]=D.useState("Calculating..."),h=(b,x)=>{t.properties[b]=x,l(_=>({..._,[b]:x})),t.update(),["start_hour","start_minute","start_ampm","start_enabled","stop_hour","stop_minute","stop_ampm","stop_enabled","cycle_hour","cycle_minute","cycle_ampm","cycle_enabled","timezone"].includes(b)&&v()},p=(b,x="info")=>{(a.debug||x==="error")&&console.log(`[TimeOfDayNode] ${b}`)},m=D.useCallback(()=>{p("Triggering Pulse..."),t.properties.pulseMode?(t.properties.currentState=!0,t.update(),setTimeout(()=>{t.properties.currentState=!1,t.update(),p("Pulse complete.")},500)):(t.properties.currentState=!t.properties.currentState,t.update())},[t]),v=D.useCallback(()=>{const b=he.local().setZone(t.properties.timezone),x=(z,A,B)=>{let N=z%12;B==="PM"&&(N+=12);let H=b.set({hour:N,minute:A,second:0,millisecond:0});return H<=b&&(H=H.plus({days:1})),H};let _=t.properties.start_enabled?x(t.properties.start_hour,t.properties.start_minute,t.properties.start_ampm):null,E=t.properties.stop_enabled?x(t.properties.stop_hour,t.properties.stop_minute,t.properties.stop_ampm):null,T=t.properties.cycle_enabled?x(t.properties.cycle_hour,t.properties.cycle_minute,t.properties.cycle_ampm):null;h("next_on_date",_?_.toJSDate():null),h("next_off_date",E?E.toJSDate():null),h("next_cycle_date",T?T.toJSDate():null)},[t.properties]);D.useEffect(()=>{const b=setInterval(()=>{const x=he.local().setZone(t.properties.timezone),_=t.properties.next_on_date?he.fromJSDate(t.properties.next_on_date).setZone(t.properties.timezone):null,E=t.properties.next_off_date?he.fromJSDate(t.properties.next_off_date).setZone(t.properties.timezone):null,T=t.properties.next_cycle_date?he.fromJSDate(t.properties.next_cycle_date).setZone(t.properties.timezone):null;_&&x>=_&&(p("Hit Start Time!"),m(),v()),E&&x>=E&&(p("Hit Stop Time!"),m(),v()),T&&x>=T&&(p("Hit Cycle Time!"),m(),setTimeout(()=>{p("Cycle Duration Complete - Triggering ON"),m()},t.properties.cycle_duration*1e3),v());let z=null,A="";const B=[{date:_,label:"Until Start"},{date:E,label:"Until Stop"},{date:T,label:"Until Cycle"}].filter(N=>N.date!==null).sort((N,H)=>N.date-H.date);if(B.length>0&&(z=B[0].date,A=B[0].label),z){const N=z.diff(x,["hours","minutes","seconds"]).toObject();f(`${A}: ${Math.floor(N.hours)}h ${Math.floor(N.minutes)}m ${Math.floor(N.seconds)}s`)}else f("No events scheduled")},1e3);return()=>clearInterval(b)},[t.properties.next_on_date,t.properties.next_off_date,t.properties.next_cycle_date,m,v]),D.useEffect(()=>{v()},[]);const S=Object.entries(t.outputs).map(([b,x])=>({key:b,...x}));return g.jsxs("div",{className:"time-of-day-node",children:[g.jsx("div",{className:"title",children:t.label}),g.jsx("div",{className:"tod-outputs-section",children:S.map(b=>g.jsxs("div",{className:"tod-output-row",children:[g.jsx("span",{className:"tod-output-label",children:b.label}),g.jsx(Qe,{init:x=>r({type:"render",data:{type:"socket",element:x,payload:b.socket,nodeId:t.id,side:"output",key:b.key}}),unmount:x=>r({type:"unmount",data:{element:x}})})]},b.key))}),g.jsxs("div",{className:"content",onPointerDown:b=>b.stopPropagation(),children:[g.jsxs("div",{className:"control-row",children:[g.jsx("span",{className:"control-label",children:"Pulse Mode"}),g.jsx("input",{type:"checkbox",checked:a.pulseMode,onChange:b=>h("pulseMode",b.target.checked)})]}),g.jsx("div",{className:"section-header",children:"Start Time"}),g.jsxs("div",{className:"control-row",children:[g.jsx("span",{className:"control-label",children:"Enabled"}),g.jsx("input",{type:"checkbox",checked:a.start_enabled,onChange:b=>h("start_enabled",b.target.checked)})]}),g.jsxs("div",{className:"control-row",children:[g.jsxs("span",{className:"control-label",children:["Hour: ",a.start_hour]}),g.jsx("input",{type:"range",min:"1",max:"12",value:a.start_hour,onChange:b=>h("start_hour",parseInt(b.target.value)),disabled:!a.start_enabled,style:{width:"60%"}})]}),g.jsxs("div",{className:"control-row",children:[g.jsxs("span",{className:"control-label",children:["Minute: ",a.start_minute]}),g.jsx("input",{type:"range",min:"0",max:"59",value:a.start_minute,onChange:b=>h("start_minute",parseInt(b.target.value)),disabled:!a.start_enabled,style:{width:"60%"}})]}),g.jsxs("div",{className:"control-row",children:[g.jsx("span",{className:"control-label",children:"AM/PM"}),g.jsxs("select",{value:a.start_ampm,onChange:b=>h("start_ampm",b.target.value),disabled:!a.start_enabled,style:{width:"60%"},children:[g.jsx("option",{value:"AM",children:"AM"}),g.jsx("option",{value:"PM",children:"PM"})]})]}),g.jsx("div",{className:"section-header",children:"Stop Time"}),g.jsxs("div",{className:"control-row",children:[g.jsx("span",{className:"control-label",children:"Enabled"}),g.jsx("input",{type:"checkbox",checked:a.stop_enabled,onChange:b=>h("stop_enabled",b.target.checked)})]}),g.jsxs("div",{className:"control-row",children:[g.jsxs("span",{className:"control-label",children:["Hour: ",a.stop_hour]}),g.jsx("input",{type:"range",min:"1",max:"12",value:a.stop_hour,onChange:b=>h("stop_hour",parseInt(b.target.value)),disabled:!a.stop_enabled,style:{width:"60%"}})]}),g.jsxs("div",{className:"control-row",children:[g.jsxs("span",{className:"control-label",children:["Minute: ",a.stop_minute]}),g.jsx("input",{type:"range",min:"0",max:"59",value:a.stop_minute,onChange:b=>h("stop_minute",parseInt(b.target.value)),disabled:!a.stop_enabled,style:{width:"60%"}})]}),g.jsxs("div",{className:"control-row",children:[g.jsx("span",{className:"control-label",children:"AM/PM"}),g.jsxs("select",{value:a.stop_ampm,onChange:b=>h("stop_ampm",b.target.value),disabled:!a.stop_enabled,style:{width:"60%"},children:[g.jsx("option",{value:"AM",children:"AM"}),g.jsx("option",{value:"PM",children:"PM"})]})]}),g.jsx("div",{className:"section-header",children:"Power Cycle"}),g.jsxs("div",{className:"control-row",children:[g.jsx("span",{className:"control-label",children:"Enabled"}),g.jsx("input",{type:"checkbox",checked:a.cycle_enabled,onChange:b=>h("cycle_enabled",b.target.checked)})]}),g.jsxs("div",{className:"control-row",children:[g.jsxs("span",{className:"control-label",children:["Hour: ",a.cycle_hour]}),g.jsx("input",{type:"range",min:"1",max:"12",value:a.cycle_hour,onChange:b=>h("cycle_hour",parseInt(b.target.value)),disabled:!a.cycle_enabled,style:{width:"60%"}})]}),g.jsxs("div",{className:"control-row",children:[g.jsxs("span",{className:"control-label",children:["Minute: ",a.cycle_minute]}),g.jsx("input",{type:"range",min:"0",max:"59",value:a.cycle_minute,onChange:b=>h("cycle_minute",parseInt(b.target.value)),disabled:!a.cycle_enabled,style:{width:"60%"}})]}),g.jsxs("div",{className:"control-row",children:[g.jsx("span",{className:"control-label",children:"AM/PM"}),g.jsxs("select",{value:a.cycle_ampm,onChange:b=>h("cycle_ampm",b.target.value),disabled:!a.cycle_enabled,style:{width:"60%"},children:[g.jsx("option",{value:"AM",children:"AM"}),g.jsx("option",{value:"PM",children:"PM"})]})]}),g.jsxs("div",{className:"control-row",children:[g.jsx("span",{className:"control-label",children:"Duration (s)"}),g.jsx("input",{type:"number",min:"1",value:a.cycle_duration,onChange:b=>h("cycle_duration",parseInt(b.target.value)),disabled:!a.cycle_enabled,style:{width:"60%"}})]}),g.jsx("div",{className:"section-header",children:"Timezone"}),g.jsx("div",{className:"control-row",children:g.jsx("select",{value:a.timezone,onChange:b=>h("timezone",b.target.value),style:{width:"100%"},children:Intl.supportedValuesOf("timeZone").map(b=>g.jsx("option",{value:b,children:b},b))})}),g.jsxs("div",{className:"info-display",children:[g.jsxs("div",{className:"info-row",children:[g.jsx("span",{className:"info-label",children:"Next Start:"}),g.jsx("span",{className:"info-value",children:a.next_on_date?he.fromJSDate(a.next_on_date).toFormat("hh:mm a"):"N/A"})]}),g.jsxs("div",{className:"info-row",children:[g.jsx("span",{className:"info-label",children:"Next Stop:"}),g.jsx("span",{className:"info-value",children:a.next_off_date?he.fromJSDate(a.next_off_date).toFormat("hh:mm a"):"N/A"})]}),g.jsxs("div",{className:"info-row",children:[g.jsx("span",{className:"info-label",children:"Next Cycle:"}),g.jsx("span",{className:"info-value cycle",children:a.next_cycle_date?he.fromJSDate(a.next_cycle_date).toFormat("hh:mm a"):"N/A"})]}),g.jsx("div",{className:"countdown",children:u})]}),g.jsx("div",{className:`status-text ${a.status.includes("Error")?"error":"info"}`,children:a.status})]})]})}const qa={node:{background:"#0a0f14",border:"1px solid #00f3ff",borderRadius:"10px",boxShadow:"0 0 15px rgba(0, 243, 255, 0.2)",color:"#e0f7fa",minWidth:"200px",fontFamily:"monospace",overflow:"hidden",textAlign:"center",display:"flex",flexDirection:"column"},header:{background:"linear-gradient(90deg, rgba(0, 243, 255, 0.1), rgba(0, 243, 255, 0.0))",padding:"8px 12px",fontSize:"14px",fontWeight:"bold",color:"#00f3ff",borderBottom:"1px solid rgba(0, 243, 255, 0.3)",display:"flex",justifyContent:"space-between",alignItems:"center"},content:{padding:"15px",display:"flex",flexDirection:"column",alignItems:"center",gap:"15px",background:"rgba(0, 20, 30, 0.4)"},button:i=>({width:"80px",height:"80px",borderRadius:"50%",border:`3px solid ${i?"#00f3ff":"rgba(0, 243, 255, 0.3)"}`,background:i?"rgba(0, 243, 255, 0.2)":"rgba(0, 0, 0, 0.3)",color:i?"#fff":"rgba(0, 243, 255, 0.5)",fontSize:"18px",fontWeight:"bold",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",boxShadow:i?"0 0 20px rgba(0, 243, 255, 0.4)":"none",outline:"none"}),pulseControl:{display:"flex",alignItems:"center",gap:"8px",fontSize:"12px",color:"#00f3ff"},ioRow:{display:"flex",alignItems:"center",gap:"8px"}};class L0 extends ne.Node{constructor(t){super("Pushbutton"),this.width=220,this.changeCallback=t,this.properties={state:!1,pulseMode:!1,lastCommand:!1},this.addOutput("state",new ne.Output(Be.boolean,"State"))}data(t){return{state:this.properties.state}}triggerUpdate(){this.changeCallback&&this.changeCallback()}triggerUpdate(){this.changeCallback&&this.changeCallback()}}function JN({data:i,emit:t}){const[r,a]=D.useState(i.properties.lastCommand),[l,u]=D.useState(i.properties.pulseMode),f=D.useRef(null);D.useEffect(()=>{const v=i.changeCallback;return i.changeCallback=()=>{a(i.properties.lastCommand),u(i.properties.pulseMode),v&&v()},()=>{i.changeCallback=v}},[i]);const h=v=>{v.stopPropagation();const S=!r;l?(i.properties.lastCommand=!0,a(!0),i.properties.state=!0,i.triggerUpdate?.(),f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{i.properties.lastCommand=!1,a(!1),i.properties.state=!1,i.triggerUpdate?.()},500)):(i.properties.lastCommand=S,i.properties.state=S,a(S),i.triggerUpdate?.())},p=v=>{const S=v.target.checked;i.properties.pulseMode=S,u(S),S&&(i.properties.state=!1,a(!1)),i.triggerUpdate?.()};Object.entries(i.inputs);const m=Object.entries(i.outputs);return g.jsxs("div",{style:qa.node,children:[g.jsxs("div",{style:qa.header,children:[g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:g.jsx("span",{children:i.label})}),g.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"4px"},children:m.map(([v,S])=>g.jsxs("div",{style:qa.ioRow,children:[g.jsx("span",{style:{fontSize:"10px",opacity:.7},children:S.label}),g.jsx(Qe,{init:b=>t({type:"render",data:{type:"socket",element:b,payload:S.socket,nodeId:i.id,side:"output",key:v}}),unmount:b=>t({type:"unmount",data:{element:b}})})]},v))})]}),g.jsxs("div",{style:qa.content,onPointerDown:v=>v.stopPropagation(),children:[g.jsx("button",{style:qa.button(r),onClick:h,children:l?r?"TRIG":"PUSH":r?"ON":"OFF"}),g.jsxs("div",{style:qa.pulseControl,children:[g.jsx("input",{type:"checkbox",checked:l,onChange:p,style:{accentColor:"#00f3ff"}}),g.jsx("span",{children:"Pulse Mode"})]})]})]})}class V0 extends ne.Node{constructor(t){super("Display"),this.width=200,this.changeCallback=t,this.properties={value:"Waiting for data..."},this.addInput("input",new ne.Input(Be.boolean,"Input"))}data(t){const r=t.input?.[0];return console.log("[DisplayNode] Received value:",r),this.properties.value!==r&&(this.properties.value=r!==void 0?r:"No Data",this.changeCallback&&this.changeCallback()),{}}}function ek({data:i,emit:t}){const[r,a]=D.useState(i.properties.value);D.useEffect(()=>(i.changeCallback=()=>{a(i.properties.value)},()=>{i.changeCallback=null}),[i]);const l=Object.entries(i.inputs);return g.jsxs("div",{className:"display-node",children:[g.jsx("div",{className:"header",children:"Display"}),g.jsxs("div",{className:"content",children:[l.map(([u,f])=>g.jsxs("div",{className:"io-row input-row",children:[g.jsx(Qe,{init:h=>t({type:"render",data:{type:"socket",element:h,payload:f.socket,nodeId:i.id,side:"input",key:u}}),unmount:h=>t({type:"unmount",data:{element:h}})}),g.jsx("span",{className:"input-label",children:f.label||u})]},u)),g.jsx("div",{className:"display-box",onPointerDown:u=>u.stopPropagation(),children:r==null?"No Data":typeof r=="object"?JSON.stringify(r,null,2):String(r)})]})]})}const ii={rgbToHsv:(i,t,r)=>{i/=255,t/=255,r/=255;const a=Math.max(i,t,r),l=Math.min(i,t,r),u=a-l,f=a===0?0:u/a;let h=0;if(a!==l){switch(a){case i:h=(t-r)/u+(t<r?6:0);break;case t:h=(r-i)/u+2;break;case r:h=(i-t)/u+4;break}h/=6}return{hue:h,sat:f,val:a}},hsvToRgb:(i,t,r)=>{const a=Math.floor(i*6),l=i*6-a,u=r*(1-t),f=r*(1-l*t),h=r*(1-(1-l)*t);let p,m,v;switch(a%6){case 0:p=r,m=h,v=u;break;case 1:p=f,m=r,v=u;break;case 2:p=u,m=r,v=h;break;case 3:p=u,m=f,v=r;break;case 4:p=h,m=u,v=r;break;case 5:p=r,m=u,v=f;break}return[Math.round(p*255),Math.round(m*255),Math.round(v*255)]},kelvinToRGB:i=>{i=Math.max(1e3,Math.min(4e4,i));const t=i/100;let r,a,l;return t<=66?r=255:(r=t-60,r=329.698727446*Math.pow(r,-.1332047592),r=Math.max(0,Math.min(255,r))),t<=66?a=99.4708025861*Math.log(t)-161.1195681661:a=288.1221695283*Math.pow(t-60,-.0755148492),a=Math.max(0,Math.min(255,a)),t>=66?l=255:t<=19?l=0:l=138.5177312231*Math.log(t-10)-305.0447927307,l=Math.max(0,Math.min(255,l)),{r:Math.round(r),g:Math.round(a),b:Math.round(l)}},kelvinToHSV:i=>{const{r:t,g:r,b:a}=ii.kelvinToRGB(i),{hue:l,sat:u}=ii.rgbToHsv(t,r,a);return{hue:Math.round(l*360),saturation:Math.round(u*100)}},hexToRgb:i=>{const t=i.replace("#","");return{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16)}},interpolate:(i,t,r,a,l)=>a+(i-t)/(r-t)*(l-a)};class $0 extends ne.Node{constructor(t){super("All-in-One Color Control"),this.width=400,this.changeCallback=t,this.addInput("hsv_in",new ne.Input(Be.object,"HSV In")),this.addInput("scene_hsv",new ne.Input(Be.object,"Scene HSV")),this.addOutput("hsv_out",new ne.Output(Be.object,"HSV Info")),this.properties={red:128,green:128,blue:128,hueShift:10,saturation:20,brightness:128,colorTemp:4150,whiteAdjust:4e3,transitionTime:0,enableAutoTrigger:!1,autoInterval:5e3,showPalette:!0,activeMode:"color"}}async data(t){const r=t.scene_hsv?.[0];return r?{hsv_out:r}:{hsv_out:{hue:this.properties.hueShift/360,saturation:this.properties.saturation/100,brightness:this.properties.brightness,transition:this.properties.transitionTime,colorTemp:this.properties.colorTemp,mode:this.properties.activeMode,on:this.properties.brightness>0,h:this.properties.hueShift,s:this.properties.saturation/100,v:this.properties.brightness/255}}}restore(t){t.properties&&Object.assign(this.properties,t.properties)}}const ur=({label:i,value:t,min:r,max:a,onChange:l,step:u=1})=>g.jsxs("div",{className:"aio-slider-container",children:[g.jsx("span",{className:"aio-slider-label",children:i}),g.jsx("input",{type:"range",min:r,max:a,step:u,value:t,onChange:f=>l(Number(f.target.value)),className:"aio-range-input"}),g.jsx("span",{className:"aio-slider-value",children:t})]});function tk({data:i,emit:t}){const[r,a]=D.useState({...i.properties}),[l,u]=D.useState(!1),[f,h]=D.useState(null),p=D.useRef(0),m=D.useRef(null),v=D.useCallback(()=>{i.changeCallback&&i.changeCallback()},[i]),S=N=>{const H={...r,...N};a(H),Object.assign(i.properties,H);const O=Date.now(),R=50;O-p.current>=R?(v(),p.current=O):(m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{v(),p.current=Date.now()},R-(O-p.current)))};D.useEffect(()=>()=>{m.current&&clearTimeout(m.current)},[]),D.useEffect(()=>{if(r.enableAutoTrigger){const N=setInterval(()=>{i.changeCallback&&i.changeCallback()},r.autoInterval);return h(N),()=>clearInterval(N)}else f&&clearInterval(f),h(null)},[r.enableAutoTrigger,r.autoInterval]);const b=(N,H)=>{const O=N-H;let R=4150;return O>50?R=ii.interpolate(O,50,255,3e3,1800):O<-50&&(R=ii.interpolate(O,-255,-50,6500,5e3)),R=Math.round(R),Math.max(1800,Math.min(6500,R))},x=(N,H,O)=>{const{hue:R,sat:I,val:Z}=ii.rgbToHsv(N,H,O),j=b(N,O);S({red:N,green:H,blue:O,hueShift:Math.round(R*360),saturation:Math.round(I*100),brightness:Math.round(Z*255),colorTemp:j,activeMode:"color"})},_=(N,H,O)=>{const R=O/255,[I,Z,j]=ii.hsvToRgb(N/360,H/100,R),W=b(I,j);S({red:I,green:Z,blue:j,hueShift:N,saturation:H,brightness:O,colorTemp:W,activeMode:"color"})},E=(N,H=null)=>{const O=H!==null?H:r.brightness,R=ii.kelvinToRGB(N),{hue:I,sat:Z}=ii.rgbToHsv(R.r,R.g,R.b),j=O/255,[W,oe,ue]=ii.hsvToRgb(I,Z,j);S({colorTemp:N,red:W,green:oe,blue:ue,hueShift:Math.round(I*360),saturation:Math.round(Z*100),brightness:O,activeMode:"temp"})},T=N=>{r.activeMode==="temp"?E(r.colorTemp,N):_(r.hueShift,r.saturation,N)},z=N=>{const H=ii.hexToRgb(N);x(H.r,H.g,H.b)},A=["#FF0000","#FFA500","#FFFF00","#00FF00","#0000FF","#00FFFF","#800080","#FFFFFF"],B=D.useMemo(()=>`rgb(${r.red},${r.green},${r.blue})`,[r.red,r.green,r.blue]);return g.jsxs("div",{className:"ha-node-tron",style:{minWidth:"380px"},children:[g.jsx("div",{className:"ha-node-header",children:g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",width:"100%"},children:[g.jsx("div",{style:{cursor:"pointer",fontSize:"12px",userSelect:"none",color:"#00f3ff"},onPointerDown:N=>{N.stopPropagation(),u(!l)},children:l?"":""}),g.jsx("div",{className:"ha-node-title",style:{flex:1,textAlign:"center"},children:i.label})]})}),g.jsxs("div",{className:"ha-io-container",children:[g.jsx("div",{className:"inputs",children:Object.entries(i.inputs).map(([N,H])=>g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[g.jsx(Qe,{init:O=>t({type:"render",data:{type:"socket",element:O,payload:H.socket,nodeId:i.id,side:"input",key:N}}),unmount:O=>t({type:"unmount",data:{element:O}})}),g.jsx("span",{className:"ha-socket-label",children:H.label})]},N))}),g.jsx("div",{className:"outputs",children:Object.entries(i.outputs).map(([N,H])=>g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",justifyContent:"flex-end",marginBottom:"4px"},children:[g.jsx("span",{className:"ha-socket-label",children:H.label}),g.jsx(Qe,{init:O=>t({type:"render",data:{type:"socket",element:O,payload:H.socket,nodeId:i.id,side:"output",key:N}}),unmount:O=>t({type:"unmount",data:{element:O}})})]},N))})]}),!l&&g.jsxs("div",{className:"ha-controls-container",onPointerDown:N=>N.stopPropagation(),style:{cursor:"default"},children:[g.jsxs("div",{className:"aio-swatch",style:{background:B},children:[r.colorTemp,"K (",r.activeMode,")"]}),g.jsxs("div",{style:{borderBottom:"1px solid rgba(0, 243, 255, 0.1)",paddingBottom:"8px",marginBottom:"8px"},children:[g.jsx("div",{className:"aio-section-header",children:"RGB Channels"}),g.jsx(ur,{label:"Red",value:r.red,min:0,max:255,onChange:N=>x(N,r.green,r.blue)}),g.jsx(ur,{label:"Green",value:r.green,min:0,max:255,onChange:N=>x(r.red,N,r.blue)}),g.jsx(ur,{label:"Blue",value:r.blue,min:0,max:255,onChange:N=>x(r.red,r.green,N)})]}),g.jsxs("div",{style:{borderBottom:"1px solid rgba(0, 243, 255, 0.1)",paddingBottom:"8px",marginBottom:"8px"},children:[g.jsx("div",{className:"aio-section-header",children:"HSV Control"}),g.jsx(ur,{label:"Hue",value:r.hueShift,min:0,max:360,onChange:N=>_(N,r.saturation,r.brightness)}),g.jsx(ur,{label:"Sat",value:r.saturation,min:0,max:100,onChange:N=>_(r.hueShift,N,r.brightness)}),g.jsx(ur,{label:"Bri",value:r.brightness,min:0,max:255,onChange:T})]}),g.jsxs("div",{style:{borderBottom:"1px solid rgba(0, 243, 255, 0.1)",paddingBottom:"8px",marginBottom:"8px"},children:[g.jsx("div",{className:"aio-section-header",children:"Temperature"}),g.jsx(ur,{label:"Temp (K)",value:r.colorTemp,min:1800,max:6500,step:50,onChange:N=>E(N)})]}),g.jsxs("div",{children:[g.jsx("div",{className:"aio-section-header",children:"Settings"}),g.jsx(ur,{label:"Trans (ms)",value:r.transitionTime,min:0,max:5e3,step:100,onChange:N=>S({transitionTime:N})}),g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"8px"},children:[g.jsxs("label",{className:"aio-checkbox-container",children:[g.jsx("input",{type:"checkbox",className:"aio-checkbox",checked:r.enableAutoTrigger,onPointerDown:N=>N.stopPropagation(),onChange:N=>S({enableAutoTrigger:N.target.checked})}),g.jsx("span",{children:"Auto Trigger"})]}),r.enableAutoTrigger&&g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[g.jsx("span",{className:"aio-slider-label",style:{width:"auto"},children:"Interval:"}),g.jsx("input",{type:"number",value:r.autoInterval,onChange:N=>S({autoInterval:Number(N.target.value)}),style:{width:"60px",background:"rgba(0,0,0,0.3)",border:"1px solid #00f3ff",color:"#00f3ff",fontSize:"11px",padding:"2px 4px"}})]})]})]}),r.showPalette&&g.jsx("div",{className:"aio-palette-container",children:A.map(N=>g.jsx("div",{className:"aio-palette-item",onPointerDown:H=>H.stopPropagation(),onClick:()=>z(N),style:{background:N}},N))})]})]})}class q0 extends ne.Node{constructor(t){super("Weather Logic"),this.width=700,this.changeCallback=t,this.addOutput("all",new ne.Output(Be.boolean,"All Conditions")),this.addOutput("solar",new ne.Output(Be.boolean,"Solar")),this.addOutput("temp",new ne.Output(Be.boolean,"Temp")),this.addOutput("humidity",new ne.Output(Be.boolean,"Humidity")),this.addOutput("wind",new ne.Output(Be.boolean,"Wind")),this.addOutput("hourly_rain",new ne.Output(Be.boolean,"Hourly Rain")),this.addOutput("event_rain",new ne.Output(Be.boolean,"Event Rain")),this.addOutput("daily_rain",new ne.Output(Be.boolean,"Daily Rain")),this.properties={solarEnabled:!0,solarThresholdHigh:750,solarThresholdLow:500,solarInvert:!1,solarLabel:"Solar",tempEnabled:!0,tempThresholdHigh:80,tempThresholdLow:60,tempInvert:!1,tempLabel:"Temp",humidityEnabled:!0,humidityThresholdHigh:70,humidityThresholdLow:30,humidityInvert:!1,humidityLabel:"Humidity",windEnabled:!0,windThresholdHigh:15,windThresholdLow:5,windInvert:!1,windLabel:"Wind",hourlyRainEnabled:!0,hourlyRainThreshold:.1,hourlyRainInvert:!1,hourlyRainLabel:"Hourly Rain",eventRainEnabled:!0,eventRainThreshold:.1,eventRainInvert:!1,eventRainLabel:"Event Rain",dailyRainEnabled:!0,dailyRainThreshold:.1,dailyRainInvert:!1,dailyRainLabel:"Daily Rain",logicType:"OR",hysteresis:5}}async data(){return{all:this.properties._lastEval?.all||!1,solar:this.properties._lastEval?.solar||!1,temp:this.properties._lastEval?.temp||!1,humidity:this.properties._lastEval?.humidity||!1,wind:this.properties._lastEval?.wind||!1,hourly_rain:this.properties._lastEval?.hourlyRain||!1,event_rain:this.properties._lastEval?.eventRain||!1,daily_rain:this.properties._lastEval?.dailyRain||!1}}restore(t){t.properties&&Object.assign(this.properties,t.properties)}}const Ir=({label:i,value:t,unit:r,history:a,enabled:l,onToggle:u,invert:f,onInvert:h,high:p,low:m,onHighChange:v,onLowChange:S,singleThreshold:b,onSingleChange:x,min:_,max:E,step:T,trend:z,range:A,isActive:B,socketKey:N,output:H,emit:O,nodeId:R,secondaryInfo:I})=>{const Z=()=>{if(!a||a.length<1)return g.jsx("div",{className:"weather-metric-graph-container",children:g.jsx("div",{className:"weather-metric-graph",style:{opacity:.3,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px"},children:"No Data"})});const j=Date.now()-7200*1e3,W=a.filter(X=>X.timestamp>=j).slice(-40);W.length===0&&a.length>0&&W.push(a[a.length-1]);const oe=W.map(X=>X.value),ue=Math.max(...oe);Math.min(...oe);const de=Math.max(ue*1.15,ue+1,1),pe=de/2,$=X=>X>=100?Math.round(X).toString():X>=10||X>=1?X.toFixed(1):X.toFixed(2);return g.jsxs("div",{className:"weather-metric-graph-container",style:{display:"flex",alignItems:"stretch",gap:"4px",height:"40px"},children:[g.jsxs("div",{className:"weather-graph-scale",style:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"flex-end",width:"40px",flexShrink:0,fontSize:"10px",color:"#00f3ff"},children:[g.jsx("span",{children:$(de)}),g.jsx("span",{children:$(pe)}),g.jsx("span",{children:"0"})]}),g.jsx("div",{className:"weather-metric-graph",style:{flex:1,height:"40px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(0,243,255,0.1)",borderRadius:"2px",position:"relative",overflow:"hidden"},children:W.map((X,ee)=>{const ae=Math.min(100,Math.max(2,X.value/de*100)),me=100/W.length,k=ee*me;return g.jsx("div",{className:"weather-bar",style:{position:"absolute",bottom:0,left:`${k}%`,height:`${ae}%`,width:`calc(${me}% - 1px)`,background:"#00f3ff",minWidth:"2px"}},ee)})})]})};return g.jsxs("div",{className:"weather-metric-row",style:{borderColor:B?"#00FF00":"rgba(0, 243, 255, 0.1)"},children:[g.jsxs("div",{className:"weather-metric-info",children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[g.jsx("span",{className:"weather-metric-label",children:i}),g.jsx("label",{className:"weather-toggle-container",children:g.jsx("input",{type:"checkbox",className:"weather-toggle",checked:l,onChange:j=>u(j.target.checked)})})]}),g.jsxs("span",{className:"weather-metric-value",children:[t!==null?t.toFixed(T<1?2:1):"N/A"," ",r,I&&g.jsx("span",{style:{marginLeft:"6px",color:"#00f3ff",fontSize:"0.9em"},children:I})]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px",marginTop:"2px"},children:[g.jsx("span",{className:"weather-metric-trend",style:{color:z.arrow===""?"#00FF00":z.arrow===""?"#FF0000":"#FFFF00"},children:z.arrow}),g.jsxs("span",{className:"weather-metric-range",children:["[",A.min!==null?A.min.toFixed(1):"-","-",A.max!==null?A.max.toFixed(1):"-","]"]})]})]}),g.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"5px",minWidth:"200px"},children:[Z(),l&&g.jsxs("div",{className:"weather-controls-sub",children:[g.jsx("div",{style:{display:"flex",alignItems:"center",gap:"10px",fontSize:"12px",color:"#aaa"},children:g.jsxs("label",{className:"weather-toggle-container",style:{transform:"scale(0.9)",transformOrigin:"left"},children:[g.jsx("input",{type:"checkbox",className:"weather-toggle",checked:f,onChange:j=>h(j.target.checked)}),g.jsx("span",{children:"Invert"})]})}),b?g.jsxs("div",{className:"weather-slider-container",children:[g.jsx("span",{style:{fontSize:"11px",width:"30px"},children:"Thresh"}),g.jsx("input",{type:"range",className:"weather-range-input",min:_,max:E,step:T,value:b,onChange:j=>x(Number(j.target.value))}),g.jsx("span",{style:{fontSize:"11px",width:"30px",textAlign:"right"},children:b})]}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"weather-slider-container",children:[g.jsx("span",{style:{fontSize:"11px",width:"30px"},children:"High"}),g.jsx("input",{type:"range",className:"weather-range-input",min:_,max:E,step:T,value:p,onChange:j=>v(Number(j.target.value))}),g.jsx("span",{style:{fontSize:"11px",width:"30px",textAlign:"right"},children:p})]}),g.jsxs("div",{className:"weather-slider-container",children:[g.jsx("span",{style:{fontSize:"11px",width:"30px"},children:"Low"}),g.jsx("input",{type:"range",className:"weather-range-input",min:_,max:E,step:T,value:m,onChange:j=>S(Number(j.target.value))}),g.jsx("span",{style:{fontSize:"11px",width:"30px",textAlign:"right"},children:m})]})]})]})]}),g.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"40px"},children:g.jsx(Qe,{init:j=>O({type:"render",data:{type:"socket",element:j,payload:H.socket,nodeId:R,side:"output",key:N}}),unmount:j=>O({type:"unmount",data:{element:j}})})})]})};function nk({data:i,emit:t}){const[r,a]=D.useState({...i.properties}),[l,u]=D.useState({solar:null,temp:null,humidity:null,wind:null,windDir:null,hourlyRain:null,eventRain:null,dailyRain:null}),[f,h]=D.useState({solar:[],temp:[],humidity:[],wind:[],hourlyRain:[],eventRain:[],dailyRain:[]}),[p,m]=D.useState({}),[v,S]=D.useState(!1),[b,x]=D.useState("gray"),_=(O,R)=>{const I={...r,[O]:R};a(I),i.properties[O]=R,A(I,l)},E=(O,R)=>{if(R==null)return O;const I=Date.now(),Z=[...O,{value:R,timestamp:I}],j=I-1440*60*1e3;return Z.filter(W=>W.timestamp>=j)},T=O=>{localStorage.setItem(`WeatherLogicNode_${i.id}_history`,JSON.stringify({...O,lastUpdateTime:Date.now()}))},z=()=>{try{const O=localStorage.getItem(`WeatherLogicNode_${i.id}_history`);if(O){const R=JSON.parse(O),I=Date.now()-1440*60*1e3,Z={};Object.keys(R).forEach(j=>{Array.isArray(R[j])&&(Z[j]=R[j].filter(W=>W.timestamp>=I))}),h(j=>({...j,...Z}))}}catch(O){console.error("Failed to load weather history",O)}},A=(O,R)=>{if(R.solar===null)return;const{solarEnabled:I,solarThresholdHigh:Z,solarThresholdLow:j,solarInvert:W,tempEnabled:oe,tempThresholdHigh:ue,tempThresholdLow:de,tempInvert:pe,humidityEnabled:$,humidityThresholdHigh:X,humidityThresholdLow:ee,humidityInvert:ae,windEnabled:me,windThresholdHigh:k,windThresholdLow:Y,windInvert:te,hourlyRainEnabled:re,hourlyRainThreshold:be,hourlyRainInvert:_e,eventRainEnabled:Ne,eventRainThreshold:K,eventRainInvert:J,dailyRainEnabled:ge,dailyRainThreshold:ce,dailyRainInvert:Oe,logicType:Ae,hysteresis:Pe}=O,Ie={},at=[],Rt=(yt,Mt,Kn,Wn,zi)=>{if(yt===null)return!1;const xt=Math.min(Mt,Kn),nn=Math.max(Mt,Kn);let yr=yt>=xt&&yt<=nn;return zi?!yr:yr};Ie.solar=I&&Rt(R.solar,j,Z,null,W),I&&at.push(Ie.solar),Ie.temp=oe&&Rt(R.temp,de,ue,null,pe),oe&&at.push(Ie.temp),Ie.humidity=$&&Rt(R.humidity,ee,X,null,ae),$&&at.push(Ie.humidity),Ie.wind=me&&Rt(R.wind,Y,k,null,te),me&&at.push(Ie.wind),Ie.hourlyRain=re&&R.hourlyRain>=be,_e&&(Ie.hourlyRain=!Ie.hourlyRain),re&&at.push(Ie.hourlyRain),Ie.eventRain=Ne&&R.eventRain>=K,J&&(Ie.eventRain=!Ie.eventRain),Ne&&at.push(Ie.eventRain),Ie.dailyRain=ge&&R.dailyRain>=ce,Oe&&(Ie.dailyRain=!Ie.dailyRain),ge&&at.push(Ie.dailyRain);let gt=!1;at.length>0&&(gt=Ae==="AND"?at.every(yt=>yt):at.some(yt=>yt)),Ie.all=gt,m(Ie),i.properties._lastEval=Ie,i.changeCallback&&i.changeCallback()};D.useEffect(()=>{z();const O=R=>{x("green");const I={solar:R.solarradiation,temp:R.tempf,humidity:R.humidity,wind:R.windspeedmph,windDir:R.winddir,hourlyRain:R.hourlyrainin,eventRain:R.eventrainin,dailyRain:R.dailyrainin};u(I),h(Z=>{const j={solar:E(Z.solar,I.solar),temp:E(Z.temp,I.temp),humidity:E(Z.humidity,I.humidity),wind:E(Z.wind,I.wind),hourlyRain:E(Z.hourlyRain,I.hourlyRain),eventRain:E(Z.eventRain,I.eventRain),dailyRain:E(Z.dailyRain,I.dailyRain)};return T(j),j}),A(r,I)};return mt.on("weather-update",O),mt.emit("request-weather-update"),()=>{mt.off("weather-update",O)}},[]);const B=O=>{if(!O||O.length<2)return{arrow:""};const R=O[O.length-1].value,I=O[O.length-2].value,Z=R-I;return Z>.01?{arrow:""}:Z<-.01?{arrow:""}:{arrow:""}},N=O=>{if(!O||O.length===0)return{min:null,max:null};const R=O.map(I=>I.value);return{min:Math.min(...R),max:Math.max(...R)}},H=O=>{if(O==null)return"";const R=["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"],I=Math.round(O/22.5)%16;return R[I]};return g.jsxs("div",{className:"weather-node-tron",children:[g.jsxs("div",{className:"weather-node-header",children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx("div",{style:{cursor:"pointer",fontSize:"14px",color:"#00f3ff"},onPointerDown:O=>{O.stopPropagation(),S(!v)},children:v?"":""}),g.jsx("div",{className:"weather-node-title",children:"Weather Logic"})]}),g.jsx("div",{className:"weather-status-indicator",style:{background:b,boxShadow:`0 0 5px ${b}`}})]}),!v&&g.jsxs("div",{className:"weather-controls-container",onPointerDown:O=>O.stopPropagation(),children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px",padding:"5px",background:"rgba(0,0,0,0.3)",borderRadius:"4px"},children:[g.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[g.jsx("span",{style:{fontSize:"13px",color:"#aaa"},children:"Logic Type:"}),g.jsxs("select",{value:r.logicType,onChange:O=>_("logicType",O.target.value),style:{background:"#333",color:"#fff",border:"1px solid #555",borderRadius:"4px",fontSize:"13px"},children:[g.jsx("option",{value:"OR",children:"OR (Any)"}),g.jsx("option",{value:"AND",children:"AND (All)"})]})]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx("span",{className:"weather-socket-label",style:{color:p.all?"#00FF00":"#aaa",fontWeight:"bold"},children:"All Conditions"}),g.jsx(Qe,{init:O=>t({type:"render",data:{type:"socket",element:O,payload:i.outputs.all.socket,nodeId:i.id,side:"output",key:"all"}}),unmount:O=>t({type:"unmount",data:{element:O}})})]})]}),g.jsx("div",{className:"weather-section-header",children:"Conditions"}),g.jsx(Ir,{label:"Solar",value:l.solar,unit:"W/m",history:f.solar,enabled:r.solarEnabled,onToggle:O=>_("solarEnabled",O),invert:r.solarInvert,onInvert:O=>_("solarInvert",O),high:r.solarThresholdHigh,onHighChange:O=>_("solarThresholdHigh",O),low:r.solarThresholdLow,onLowChange:O=>_("solarThresholdLow",O),min:0,max:1e3,step:10,trend:B(f.solar),range:N(f.solar),isActive:p.solar,socketKey:"solar",output:i.outputs.solar,emit:t,nodeId:i.id}),g.jsx(Ir,{label:"Temp",value:l.temp,unit:"F",history:f.temp,enabled:r.tempEnabled,onToggle:O=>_("tempEnabled",O),invert:r.tempInvert,onInvert:O=>_("tempInvert",O),high:r.tempThresholdHigh,onHighChange:O=>_("tempThresholdHigh",O),low:r.tempThresholdLow,onLowChange:O=>_("tempThresholdLow",O),min:0,max:120,step:1,trend:B(f.temp),range:N(f.temp),isActive:p.temp,socketKey:"temp",output:i.outputs.temp,emit:t,nodeId:i.id}),g.jsx(Ir,{label:"Humidity",value:l.humidity,unit:"%",history:f.humidity,enabled:r.humidityEnabled,onToggle:O=>_("humidityEnabled",O),invert:r.humidityInvert,onInvert:O=>_("humidityInvert",O),high:r.humidityThresholdHigh,onHighChange:O=>_("humidityThresholdHigh",O),low:r.humidityThresholdLow,onLowChange:O=>_("humidityThresholdLow",O),min:0,max:100,step:1,trend:B(f.humidity),range:N(f.humidity),isActive:p.humidity,socketKey:"humidity",output:i.outputs.humidity,emit:t,nodeId:i.id}),g.jsx(Ir,{label:"Wind",value:l.wind,unit:"mph",history:f.wind,enabled:r.windEnabled,onToggle:O=>_("windEnabled",O),invert:r.windInvert,onInvert:O=>_("windInvert",O),high:r.windThresholdHigh,onHighChange:O=>_("windThresholdHigh",O),low:r.windThresholdLow,onLowChange:O=>_("windThresholdLow",O),min:0,max:50,step:1,trend:B(f.wind),range:N(f.wind),isActive:p.wind,socketKey:"wind",output:i.outputs.wind,emit:t,nodeId:i.id,secondaryInfo:l.windDir!==null?H(l.windDir):""}),g.jsx(Ir,{label:"Hourly Rain",value:l.hourlyRain,unit:"in",history:f.hourlyRain,enabled:r.hourlyRainEnabled,onToggle:O=>_("hourlyRainEnabled",O),invert:r.hourlyRainInvert,onInvert:O=>_("hourlyRainInvert",O),singleThreshold:r.hourlyRainThreshold,onSingleChange:O=>_("hourlyRainThreshold",O),min:0,max:2,step:.01,trend:B(f.hourlyRain),range:N(f.hourlyRain),isActive:p.hourlyRain,socketKey:"hourly_rain",output:i.outputs.hourly_rain,emit:t,nodeId:i.id}),g.jsx(Ir,{label:"Event Rain",value:l.eventRain,unit:"in",history:f.eventRain,enabled:r.eventRainEnabled,onToggle:O=>_("eventRainEnabled",O),invert:r.eventRainInvert,onInvert:O=>_("eventRainInvert",O),singleThreshold:r.eventRainThreshold,onSingleChange:O=>_("eventRainThreshold",O),min:0,max:2,step:.01,trend:B(f.eventRain),range:N(f.eventRain),isActive:p.eventRain,socketKey:"event_rain",output:i.outputs.event_rain,emit:t,nodeId:i.id}),g.jsx(Ir,{label:"Daily Rain",value:l.dailyRain,unit:"in",history:f.dailyRain,enabled:r.dailyRainEnabled,onToggle:O=>_("dailyRainEnabled",O),invert:r.dailyRainInvert,onInvert:O=>_("dailyRainInvert",O),singleThreshold:r.dailyRainThreshold,onSingleChange:O=>_("dailyRainThreshold",O),min:0,max:2,step:.01,trend:B(f.dailyRain),range:N(f.dailyRain),isActive:p.dailyRain,socketKey:"daily_rain",output:i.outputs.daily_rain,emit:t,nodeId:i.id})]}),v&&g.jsxs("div",{className:"weather-io-container",children:[g.jsx("div",{style:{flex:1}}),g.jsx("div",{className:"outputs",children:Object.entries(i.outputs).map(([O,R])=>g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",justifyContent:"flex-end",marginBottom:"4px"},children:[g.jsx("span",{className:"weather-socket-label",style:{color:p[O]?"#00FF00":"#aaa"},children:R.label}),g.jsx(Qe,{init:I=>t({type:"render",data:{type:"socket",element:I,payload:R.socket,nodeId:i.id,side:"output",key:O}}),unmount:I=>t({type:"unmount",data:{element:I}})})]},O))})]})]})}const Ed=[{name:"Blue",value:"rgba(30, 60, 120, 0.4)",border:"#3366cc"},{name:"Green",value:"rgba(30, 100, 50, 0.4)",border:"#33cc66"},{name:"Purple",value:"rgba(80, 40, 120, 0.4)",border:"#9966cc"},{name:"Red",value:"rgba(120, 40, 40, 0.4)",border:"#cc4444"},{name:"Orange",value:"rgba(140, 80, 20, 0.4)",border:"#cc8833"},{name:"Cyan",value:"rgba(20, 100, 120, 0.4)",border:"#33aacc"},{name:"Gray",value:"rgba(60, 60, 60, 0.4)",border:"#888888"}];class Y0 extends ne.Node{constructor(t){super("Backdrop"),this.width=400,this.height=300,this.changeCallback=t,this.properties={title:"Group",colorIndex:0,fontSize:16,width:400,height:300,capturedNodes:[]}}data(t){return{}}serialize(){return{...this.properties}}deserialize(t){t.title!==void 0&&(this.properties.title=t.title),t.colorIndex!==void 0&&(this.properties.colorIndex=t.colorIndex),t.fontSize!==void 0&&(this.properties.fontSize=t.fontSize),t.width!==void 0&&(this.properties.width=t.width),t.height!==void 0&&(this.properties.height=t.height),t.capturedNodes!==void 0&&(this.properties.capturedNodes=t.capturedNodes),this.width=this.properties.width,this.height=this.properties.height}containsPoint(t,r,a){const l=a.x,u=a.y;return t>=l&&t<=l+this.properties.width&&r>=u&&r<=u+this.properties.height}containsNode(t,r,a,l){const u=t.x+r/2,f=t.y+a/2;return this.containsPoint(u,f,l)}}function ik({data:i,emit:t}){const[r,a]=D.useState(i.properties.title),[l,u]=D.useState(i.properties.colorIndex),[f,h]=D.useState({width:i.properties.width,height:i.properties.height}),[p,m]=D.useState(!1),[v,S]=D.useState(!1),[b,x]=D.useState(i.properties.fontSize||16),_=D.useRef(null),E=D.useRef(null);D.useRef(null);const T=Ed[l]||Ed[0];D.useEffect(()=>{p&&_.current&&(_.current.focus(),_.current.select())},[p]),D.useEffect(()=>(i.changeCallback=()=>{a(i.properties.title),u(i.properties.colorIndex),x(i.properties.fontSize||16),h({width:i.properties.width,height:i.properties.height})},()=>{i.changeCallback=null}),[i]);const z=I=>{a(I.target.value),i.properties.title=I.target.value},A=()=>{m(!1),i.changeCallback&&i.changeCallback()},B=I=>{I.key==="Enter"&&(m(!1),i.changeCallback&&i.changeCallback()),I.key==="Escape"&&(a(i.properties.title),m(!1))},N=I=>{u(I),i.properties.colorIndex=I,S(!1),i.changeCallback&&i.changeCallback()},H=I=>{const Z=I.target.value;if(Z===""){x("");return}const j=parseInt(Z,10);!isNaN(j)&&j>0&&j<=72&&(x(j),i.properties.fontSize=j)},O=()=>{(b===""||b<8)&&(x(16),i.properties.fontSize=16),i.changeCallback&&i.changeCallback()},R=I=>{I.stopPropagation(),I.preventDefault(),I.target.setPointerCapture(I.pointerId);const Z=I.clientX,j=I.clientY,W=f.width,oe=f.height,ue=I.pointerId,de=I.target,$=(()=>{let ae=de;for(;ae&&ae!==document.body;){const k=window.getComputedStyle(ae).transform;if(k&&k!=="none"){const Y=new DOMMatrix(k);if(Y.a!==1||Y.d!==1)return console.log("[Backdrop] Found scale on:",ae.className,"scale:",Y.a),Y.a}ae=ae.parentElement}return 1})();console.log("[Backdrop] Resize started, final scale:",$);const X=ae=>{if(ae.pointerId!==ue)return;ae.preventDefault(),ae.stopPropagation();const me=(ae.clientX-Z)/$,k=(ae.clientY-j)/$,Y=Math.max(200,W+me),te=Math.max(150,oe+k);h({width:Y,height:te}),i.properties.width=Y,i.properties.height=te,i.width=Y,i.height=te},ee=ae=>{ae.pointerId===ue&&(ae.preventDefault(),ae.stopPropagation(),de.releasePointerCapture(ue),de.removeEventListener("pointermove",X),de.removeEventListener("pointerup",ee),de.removeEventListener("pointercancel",ee),i.changeCallback&&i.changeCallback())};de.addEventListener("pointermove",X),de.addEventListener("pointerup",ee),de.addEventListener("pointercancel",ee)};return g.jsxs("div",{className:"backdrop-node",style:{width:f.width,height:f.height,backgroundColor:T.value,borderColor:T.border},children:[g.jsxs("div",{className:"backdrop-header",style:{backgroundColor:T.border},children:[p?g.jsx("input",{ref:_,type:"text",className:"backdrop-title-input",value:r,onChange:z,onBlur:A,onKeyDown:B,onPointerDown:I=>I.stopPropagation(),style:{fontSize:`${b}px`}}):g.jsx("span",{className:"backdrop-title",onDoubleClick:I=>{I.stopPropagation(),m(!0)},onPointerDown:I=>I.stopPropagation(),style:{cursor:"text",padding:"2px 8px",fontSize:`${b}px`},children:r}),g.jsx("input",{type:"number",className:"backdrop-font-input",value:b,onChange:H,onBlur:O,onPointerDown:I=>I.stopPropagation(),onClick:I=>I.stopPropagation(),min:"8",max:"72",title:"Font size (8-72)"}),g.jsx("button",{className:"backdrop-color-btn",onClick:I=>{I.stopPropagation(),S(!v)},onPointerDown:I=>I.stopPropagation(),title:"Change color",children:""})]}),v&&g.jsx("div",{className:"backdrop-color-picker",onPointerDown:I=>I.stopPropagation(),children:Ed.map((I,Z)=>g.jsx("div",{className:`color-swatch ${Z===l?"selected":""}`,style:{backgroundColor:I.border},onClick:()=>N(Z),title:I.name},Z))}),g.jsx("div",{className:"backdrop-content",children:i.properties.capturedNodes.length>0&&g.jsxs("div",{className:"backdrop-node-count",children:[i.properties.capturedNodes.length," node(s)"]})}),g.jsx("div",{ref:E,className:"backdrop-resize-handle",onPointerDown:R})]})}class G0 extends ne.Node{constructor(t){super("Conditional Switch"),this.width=200,this.changeCallback=t,this.properties={numberOfInputs:4,clampSelect:!0,debug:!1},this.maxInputs=10,this.activeIndex=-1,this.addInput("select",new ne.Input(Be.number,"Select")),this._rebuildDataInputs(),this.addOutput("out",new ne.Output(Be.any,"Out"))}_rebuildDataInputs(){for(let t=0;t<this.maxInputs;t++){const r=`data_${t}`;this.inputs[r]&&this.removeInput(r)}for(let t=0;t<this.properties.numberOfInputs;t++){const r=`data_${t}`;this.addInput(r,new ne.Input(Be.any,`Data ${t}`))}}setNumberOfInputs(t){const r=Math.max(1,Math.min(this.maxInputs,t));r!==this.properties.numberOfInputs&&(this.properties.numberOfInputs=r,this._rebuildDataInputs(),this.changeCallback&&this.changeCallback())}restore(t){t.properties&&(Object.assign(this.properties,t.properties),this._rebuildDataInputs())}data(t){let r=t.select?.[0];typeof r!="number"&&(r=0),this.properties.clampSelect&&(r<0&&(r=0),r>=this.properties.numberOfInputs&&(r=this.properties.numberOfInputs-1));const a=Math.floor(r);let l=null;if(a>=0&&a<this.properties.numberOfInputs){const f=`data_${a}`;l=t[f]?.[0]??null}const u=l!==null||a>=0?a:-1;return u!==this.activeIndex&&(this.activeIndex=u,this.changeCallback&&this.changeCallback()),this.properties.debug&&console.log(`[ConditionalSwitchNode] select=${r}, chosenIndex=${a}, outData=`,l),{out:l}}}function rk({data:i,emit:t}){const[,r]=D.useState(0),[a,l]=D.useState(i.properties.numberOfInputs);D.useEffect(()=>(i.changeCallback=()=>r(m=>m+1),()=>{i.changeCallback=null}),[i]),D.useEffect(()=>{l(i.properties.numberOfInputs)},[i.properties.numberOfInputs]);const u=m=>{const v=parseInt(m.target.value,10);isNaN(v)||(l(v),i.setNumberOfInputs(v))},f=Object.entries(i.inputs),h=Object.entries(i.outputs),p=i.activeIndex;return g.jsxs("div",{className:"conditional-switch-node",children:[g.jsx("div",{className:"header",children:"Conditional Switch"}),g.jsxs("div",{className:"content",onPointerDown:m=>m.stopPropagation(),children:[g.jsxs("div",{className:"settings-row",children:[g.jsx("label",{children:"Inputs:"}),g.jsx("input",{type:"number",min:"1",max:"10",value:a,onChange:u,className:"input-count"})]}),g.jsxs("div",{className:"settings-row",children:[g.jsx("label",{children:"Clamp:"}),g.jsx("input",{type:"checkbox",checked:i.properties.clampSelect,onChange:m=>{i.properties.clampSelect=m.target.checked,r(v=>v+1)}})]}),g.jsx("div",{className:"io-section",children:f.map(([m,v])=>{const S=m.startsWith("data_"),b=S?parseInt(m.split("_")[1],10):-1,x=S&&b===p;return g.jsxs("div",{className:`io-row input-row ${x?"active":""}`,children:[g.jsx(Qe,{init:_=>t({type:"render",data:{type:"socket",element:_,payload:v.socket,nodeId:i.id,side:"input",key:m}}),unmount:_=>t({type:"unmount",data:{element:_}})}),g.jsx("span",{className:`input-label ${x?"active-label":""}`,children:v.label||m})]},m)})}),g.jsx("div",{className:"io-section outputs",children:h.map(([m,v])=>g.jsxs("div",{className:"io-row output-row",children:[g.jsx("span",{className:"output-label",children:v.label||m}),g.jsx(Qe,{init:S=>t({type:"render",data:{type:"socket",element:S,payload:v.socket,nodeId:i.id,side:"output",key:m}}),unmount:S=>t({type:"unmount",data:{element:S}})})]},m))})]})]})}class Z0 extends ne.Node{constructor(t){super("Conditional Integer Output"),this.width=220,this.changeCallback=t,this.properties={debug:!1},this.inputActive={A:!1,B:!1},this.lastOutput=null,this.addInput("a",new ne.Input(Be.boolean,"A (Bool)")),this.addInput("b",new ne.Input(Be.number,"B (Int)")),this.addOutput("out",new ne.Output(Be.any,"Out"))}restore(t){t.properties&&Object.assign(this.properties,t.properties)}data(t){const r=t.a?.[0],a=t.b?.[0];let l;return r===!0?(l=typeof a=="number"?Math.floor(a):parseInt(a,10)||0,this.inputActive={A:!0,B:!0}):(l=!1,this.inputActive={A:!1,B:!1}),this.lastOutput!==l&&(this.lastOutput=l,this.changeCallback&&this.changeCallback()),this.properties.debug&&console.log(`[ConditionalIntegerOutputNode] A=${r}, B=${a}, Output=${l}`),{out:l}}}function ak({data:i,emit:t}){const[,r]=D.useState(0);D.useEffect(()=>(i.changeCallback=()=>r(p=>p+1),()=>{i.changeCallback=null}),[i]);const a=Object.entries(i.inputs),l=Object.entries(i.outputs),{inputActive:u,lastOutput:f}=i,h=f===!1?"output-false":typeof f=="number"?"output-number":"";return g.jsxs("div",{className:`conditional-integer-output-node ${h}`,children:[g.jsx("div",{className:"header",children:"Conditional Integer Output"}),g.jsxs("div",{className:"content",onPointerDown:p=>p.stopPropagation(),children:[g.jsx("div",{className:"io-section",children:a.map(([p,m])=>{const v=p==="a"?u.A:p==="b"?u.B:!1;return g.jsxs("div",{className:`io-row input-row ${v?"active":""}`,children:[g.jsx(Qe,{init:S=>t({type:"render",data:{type:"socket",element:S,payload:m.socket,nodeId:i.id,side:"input",key:p}}),unmount:S=>t({type:"unmount",data:{element:S}})}),g.jsx("span",{className:`input-label ${v?"active-label":""}`,children:m.label||p})]},p)})}),g.jsxs("div",{className:"output-display",children:["Output: ",f===!1?"false":f]}),g.jsx("div",{className:"io-section outputs",children:l.map(([p,m])=>g.jsxs("div",{className:"io-row output-row",children:[g.jsx("span",{className:"output-label",children:m.label||p}),g.jsx(Qe,{init:v=>t({type:"render",data:{type:"socket",element:v,payload:m.socket,nodeId:i.id,side:"output",key:p}}),unmount:v=>t({type:"unmount",data:{element:v}})})]},p))})]})]})}class P0 extends ne.Node{constructor(t){super("Integer Selector"),this.width=200,this.changeCallback=t,this.properties={value:0,min:0,max:10},this.addOutput("value",new ne.Output(Be.number,"Value"))}restore(t){t.properties&&(Object.assign(this.properties,t.properties),this.properties.value=Math.max(this.properties.min,Math.min(this.properties.max,this.properties.value)))}data(){return{value:this.properties.value}}setValue(t){const r=Math.max(this.properties.min,Math.min(this.properties.max,Math.round(t)));r!==this.properties.value&&(this.properties.value=r,this.changeCallback&&this.changeCallback())}setMin(t){this.properties.min=Math.round(t),this.properties.value<this.properties.min&&(this.properties.value=this.properties.min),this.changeCallback&&this.changeCallback()}setMax(t){this.properties.max=Math.round(t),this.properties.value>this.properties.max&&(this.properties.value=this.properties.max),this.changeCallback&&this.changeCallback()}}function sk({data:i,emit:t}){const[r,a]=D.useState(i.properties.value),[l,u]=D.useState(i.properties.min),[f,h]=D.useState(i.properties.max);D.useEffect(()=>(i.changeCallback=()=>{a(i.properties.value),u(i.properties.min),h(i.properties.max)},()=>{i.changeCallback=null}),[i]);const p=b=>{const x=parseInt(b.target.value,10);a(x),i.setValue(x)},m=b=>{const x=parseInt(b.target.value,10);isNaN(x)||(u(x),i.setMin(x))},v=b=>{const x=parseInt(b.target.value,10);isNaN(x)||(h(x),i.setMax(x))},S=Object.entries(i.outputs);return g.jsxs("div",{className:"integer-selector-node",children:[g.jsx("div",{className:"header",children:"Integer Selector"}),g.jsxs("div",{className:"content",onPointerDown:b=>b.stopPropagation(),children:[g.jsx("div",{className:"value-display",children:r}),g.jsx("input",{type:"range",className:"slider",min:l,max:f,step:1,value:r,onChange:p}),g.jsxs("div",{className:"range-settings",children:[g.jsxs("div",{className:"range-input",children:[g.jsx("label",{children:"Min:"}),g.jsx("input",{type:"number",value:l,onChange:m})]}),g.jsxs("div",{className:"range-input",children:[g.jsx("label",{children:"Max:"}),g.jsx("input",{type:"number",value:f,onChange:v})]})]}),g.jsx("div",{className:"io-section outputs",children:S.map(([b,x])=>g.jsxs("div",{className:"io-row output-row",children:[g.jsx("span",{className:"output-label",children:x.label||b}),g.jsx(Qe,{init:_=>t({type:"render",data:{type:"socket",element:_,payload:x.socket,nodeId:i.id,side:"output",key:b}}),unmount:_=>t({type:"unmount",data:{element:_}})})]},b))})]})]})}const X0=Be.number,ok=Be.boolean,F0=new ne.Socket("string"),lk=new ne.Socket("hsv_info");function uk(i,t,r){t=t/100,r=r/100;const a=r*t,l=a*(1-Math.abs(i/60%2-1)),u=r-a;let f,h,p;return i>=0&&i<60?(f=a,h=l,p=0):i>=60&&i<120?(f=l,h=a,p=0):i>=120&&i<180?(f=0,h=a,p=l):i>=180&&i<240?(f=0,h=l,p=a):i>=240&&i<300?(f=l,h=0,p=a):(f=a,h=0,p=l),{r:Math.round((f+u)*255),g:Math.round((h+u)*255),b:Math.round((p+u)*255)}}function Q0(i,t,r){const a=new Date;let l=parseInt(i,10);const u=parseInt(t,10),f=r.toUpperCase()==="PM";return isNaN(l)||isNaN(u)||l<1||l>12||u<0||u>59?null:(f&&l<12&&(l+=12),!f&&l===12&&(l=0),new Date(a.getFullYear(),a.getMonth(),a.getDate(),l,u,0))}function K0(i){if(!i||typeof i!="string")return null;i=i.trim().replace(/\s+/g," ");const t=i.match(/^(\d{1,2}):(\d{2})\s*(AM|PM)$/i);if(!t)return null;const r=parseInt(t[1],10),a=parseInt(t[2],10),l=t[3].toUpperCase();return isNaN(r)||isNaN(a)||r<1||r>12||a<0||a>59?null:{hours:r,minutes:a,period:l}}const Za={warm:{startHue:0,startSat:100,startBri:100,endHue:60,endSat:80,endBri:90},cool:{startHue:180,startSat:90,startBri:90,endHue:240,endSat:80,endBri:90},"warm-to-cool":{startHue:0,startSat:100,startBri:100,endHue:240,endSat:80,endBri:90}},W0={linear:i=>i,"ease-in":i=>i*i,"ease-out":i=>i*(2-i),"ease-in-out":i=>i<.5?2*i*i:-1+(4-2*i)*i,"ease-in-cubic":i=>i*i*i,"ease-out-cubic":i=>--i*i*i+1,"ease-in-out-cubic":i=>i<.5?4*i*i*i:(i-1)*(2*i-2)*(2*i-2)+1,"ease-in-quart":i=>i*i*i*i,"ease-out-quart":i=>1- --i*i*i*i,"ease-in-out-quart":i=>i<.5?8*i*i*i*i:1-8*--i*i*i*i,"ease-in-expo":i=>i===0?0:Math.pow(2,10*(i-1)),"ease-out-expo":i=>i===1?1:1-Math.pow(2,-10*i),"ease-in-out-expo":i=>i===0?0:i===1?1:i<.5?Math.pow(2,20*i-10)/2:(2-Math.pow(2,-20*i+10))/2,"ease-in-back":i=>i*i*((1.70158+1)*i-1.70158),"ease-out-back":i=>1+--i*i*((1.70158+1)*i+1.70158)};function BS(i,t){return(W0[t]||W0.linear)(Math.max(0,Math.min(1,i)))}class J0 extends ne.Node{constructor(t){super("Stepped Color Gradient"),this.changeCallback=t,this.width=460,this.height=680,this.addInput("value",new ne.Input(X0,"Value")),this.addInput("trigger",new ne.Input(ok,"Trigger")),this.addInput("timerDuration",new ne.Input(X0,"Timer Duration")),this.addInput("startTime",new ne.Input(F0,"Start Time")),this.addInput("endTime",new ne.Input(F0,"End Time")),this.addOutput("hsvInfo",new ne.Output(lk,"HSV Info")),this.colorMode="custom",this.predefinedWedge="warm-to-cool",this.startHue=0,this.startSaturation=100,this.startBrightness=100,this.endHue=240,this.endSaturation=80,this.endBrightness=90,this.rangeMode="numerical",this.startValue=20,this.endValue=30,this.startTimeHours=10,this.startTimeMinutes=0,this.startTimePeriod="AM",this.endTimeHours=2,this.endTimeMinutes=0,this.endTimePeriod="PM",this.timerDurationValue=1,this.timerUnit="hours",this.timeSteps=60,this.useBrightnessOverride=!1,this.brightnessOverride=254,this.easingType="linear",this.gradientYPosition=740,this.debug=!1,this.enableReconnect=!1,this.reconnectInterval=6e5,this.timerStart=null,this.currentStep=0,this.lastTimeStep=null,this.position=0,this.isInRange=!1,this.lastColor=null}data(t){const r=t.value?.[0],a=t.trigger?.[0],l=t.timerDuration?.[0],u=t.startTime?.[0],f=t.endTime?.[0],h=new Date,p=h.getTime();let m=0;if(this.isInRange=!1,this.rangeMode==="numerical")r===void 0?m=((this.startValue+this.endValue)/2-this.startValue)/(this.endValue-this.startValue):m=(Math.max(this.startValue,Math.min(this.endValue,r))-this.startValue)/(this.endValue-this.startValue),this.isInRange=!0;else if(this.rangeMode==="time"){let v={hours:this.startTimeHours,minutes:this.startTimeMinutes,period:this.startTimePeriod},S={hours:this.endTimeHours,minutes:this.endTimeMinutes,period:this.endTimePeriod};if(this.inputStartTime=null,this.inputEndTime=null,u){const T=K0(u);T&&(v=T,this.inputStartTime=u)}if(f){const T=K0(f);T&&(S=T,this.inputEndTime=f)}const b=Q0(v.hours,v.minutes,v.period);let x=Q0(S.hours,S.minutes,S.period);if(!b||!x)return{hsvInfo:null};let _=b.getTime(),E=x.getTime();if(E<=_&&(x.setDate(x.getDate()+1),E=x.getTime()),p<_)m=0,this.isInRange=!1;else if(p>E)m=1,this.isInRange=!1;else{this.isInRange=!0;const T=Math.max(1,this.timeSteps),z=(E-_)/T,A=p-_,B=Math.floor(A/z);m=B/T,this.lastTimeStep=B}}else if(this.rangeMode==="timer"){if(a&&!this.timerStart&&(this.timerStart=h.getTime(),this.currentStep=0),!this.timerStart)return{hsvInfo:null};if(a===!1)return this.timerStart=null,this.currentStep=0,{hsvInfo:null};let v;switch(this.timerUnit){case"hours":v=36e5;break;case"minutes":v=6e4;break;default:v=1e3;break}const S=l!==void 0&&!isNaN(l)&&l>0?l:this.timerDurationValue,b=S*v;if(h.getTime()-this.timerStart>=b)m=1,this.isInRange=!0,a===!0?(this.timerStart=h.getTime(),this.currentStep=0):(this.timerStart=null,this.currentStep=0);else{const _=Math.floor(S),E=_>0?1/_:1;m=this.currentStep*E,this.isInRange=!0,this.currentStep=Math.min(this.currentStep+1,_)}}if(this.isInRange||this.rangeMode==="time"){const v=BS(m,this.easingType),S=this.startHue+v*(this.endHue-this.startHue),b=this.startSaturation+v*(this.endSaturation-this.startSaturation),x=this.startBrightness+v*(this.endBrightness-this.startBrightness),_=this.useBrightnessOverride?this.brightnessOverride:x*2.54,E=uk(S,b,x);return this.lastColor=E,this.position=m,{hsvInfo:{hue:S/360,saturation:b/100,brightness:_,hueStart:this.startHue,hueEnd:this.endHue}}}return{hsvInfo:null}}serialize(){return{colorMode:this.colorMode,predefinedWedge:this.predefinedWedge,startHue:this.startHue,startSaturation:this.startSaturation,startBrightness:this.startBrightness,endHue:this.endHue,endSaturation:this.endSaturation,endBrightness:this.endBrightness,rangeMode:this.rangeMode,startValue:this.startValue,endValue:this.endValue,startTimeHours:this.startTimeHours,startTimeMinutes:this.startTimeMinutes,startTimePeriod:this.startTimePeriod,endTimeHours:this.endTimeHours,endTimeMinutes:this.endTimeMinutes,endTimePeriod:this.endTimePeriod,timerDurationValue:this.timerDurationValue,timerUnit:this.timerUnit,timeSteps:this.timeSteps,useBrightnessOverride:this.useBrightnessOverride,brightnessOverride:this.brightnessOverride,easingType:this.easingType,gradientYPosition:this.gradientYPosition,debug:this.debug,enableReconnect:this.enableReconnect,reconnectInterval:this.reconnectInterval}}deserialize(t){if(t&&(t.colorMode!==void 0&&(this.colorMode=t.colorMode),t.predefinedWedge!==void 0&&(this.predefinedWedge=t.predefinedWedge),t.startHue!==void 0&&(this.startHue=t.startHue),t.startSaturation!==void 0&&(this.startSaturation=t.startSaturation),t.startBrightness!==void 0&&(this.startBrightness=t.startBrightness),t.endHue!==void 0&&(this.endHue=t.endHue),t.endSaturation!==void 0&&(this.endSaturation=t.endSaturation),t.endBrightness!==void 0&&(this.endBrightness=t.endBrightness),t.rangeMode!==void 0&&(this.rangeMode=t.rangeMode),t.startValue!==void 0&&(this.startValue=t.startValue),t.endValue!==void 0&&(this.endValue=t.endValue),t.startTimeHours!==void 0&&(this.startTimeHours=t.startTimeHours),t.startTimeMinutes!==void 0&&(this.startTimeMinutes=t.startTimeMinutes),t.startTimePeriod!==void 0&&(this.startTimePeriod=t.startTimePeriod),t.endTimeHours!==void 0&&(this.endTimeHours=t.endTimeHours),t.endTimeMinutes!==void 0&&(this.endTimeMinutes=t.endTimeMinutes),t.endTimePeriod!==void 0&&(this.endTimePeriod=t.endTimePeriod),t.timerDurationValue!==void 0&&(this.timerDurationValue=t.timerDurationValue),t.timerUnit!==void 0&&(this.timerUnit=t.timerUnit),t.timeSteps!==void 0&&(this.timeSteps=t.timeSteps),t.useBrightnessOverride!==void 0&&(this.useBrightnessOverride=t.useBrightnessOverride),t.brightnessOverride!==void 0&&(this.brightnessOverride=t.brightnessOverride),t.easingType!==void 0&&(this.easingType=t.easingType),this.colorMode==="predefined"&&Za[this.predefinedWedge])){const r=Za[this.predefinedWedge];this.startHue=r.startHue,this.startSaturation=r.startSat,this.startBrightness=r.startBri,this.endHue=r.endHue,this.endSaturation=r.endSat,this.endBrightness=r.endBri}}}function ck({data:i,emit:t}){const[r,a]=D.useState(i.colorMode),[l,u]=D.useState(i.predefinedWedge),[f,h]=D.useState(i.startHue),[p,m]=D.useState(i.startSaturation),[v,S]=D.useState(i.startBrightness),[b,x]=D.useState(i.endHue),[_,E]=D.useState(i.endSaturation),[T,z]=D.useState(i.endBrightness),[A,B]=D.useState(i.rangeMode),[N,H]=D.useState(i.startValue),[O,R]=D.useState(i.endValue),[I,Z]=D.useState(i.startTimeHours),[j,W]=D.useState(i.startTimeMinutes),[oe,ue]=D.useState(i.startTimePeriod),[de,pe]=D.useState(i.endTimeHours),[$,X]=D.useState(i.endTimeMinutes),[ee,ae]=D.useState(i.endTimePeriod),[me,k]=D.useState(i.timerDurationValue),[Y,te]=D.useState(i.timerUnit),[re,be]=D.useState(i.timeSteps),[_e,Ne]=D.useState(i.useBrightnessOverride),[K,J]=D.useState(i.brightnessOverride),[ge,ce]=D.useState(i.easingType||"linear"),[Oe,Ae]=D.useState(i.position||0),[Pe,Ie]=D.useState(i.isInRange||!1),[at,Rt]=D.useState(i.lastColor),[gt,yt]=D.useState(!1),[Mt,Kn]=D.useState(null),[Wn,zi]=D.useState(null),xt=D.useRef(null);D.useEffect(()=>{a(i.colorMode),u(i.predefinedWedge),h(i.startHue),m(i.startSaturation),S(i.startBrightness),x(i.endHue),E(i.endSaturation),z(i.endBrightness),B(i.rangeMode),H(i.startValue),R(i.endValue),Z(i.startTimeHours),W(i.startTimeMinutes),ue(i.startTimePeriod),pe(i.endTimeHours),X(i.endTimeMinutes),ae(i.endTimePeriod),k(i.timerDurationValue),te(i.timerUnit),be(i.timeSteps),Ne(i.useBrightnessOverride),J(i.brightnessOverride),ce(i.easingType||"linear")},[i]),D.useEffect(()=>{const Se=xt.current;if(!Se)return;const le=Se.getContext("2d"),xe=window.devicePixelRatio||1,Bi=400,ds=50;Se.width=Bi*xe,Se.height=ds*xe,Se.style.width=Bi+"px",Se.style.height=ds+"px",le.scale(xe,xe);const In=Bi,Wr=ds,zt=28,ci=22;le.clearRect(0,0,In,Wr);const xn=100;for(let dt=0;dt<xn;dt++){const Jt=dt/xn,ot=BS(Jt,ge),ht=f+ot*(b-f),_n=p+ot*(_-p),rn=v+ot*(T-v);le.fillStyle=`hsl(${ht}, ${_n}%, ${Math.max(20,rn/2)}%)`,le.fillRect(dt/xn*In,0,In/xn+1,zt)}le.fillStyle="#1a1a2e",le.fillRect(0,zt,In,ci),le.fillStyle="#c9d1d9",le.strokeStyle="#a0aec0",le.font='600 11px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',le.textAlign="center",le.textBaseline="middle",le.lineWidth=1;const Jr=(dt,Jt)=>{const ot=dt%12||12,ht=String(Jt).padStart(2,"0"),_n=dt>=12?"PM":"AM";return`${ot}:${ht}${_n}`},Hi=(dt,Jt,ot)=>{let ht=dt;return ot==="PM"&&ht!==12&&(ht+=12),ot==="AM"&&ht===12&&(ht=0),ht*60+Jt},Ln=5,ea=zt+ci/2+2;if(A==="time"){const dt=Hi(I,j,oe);let Jt=Hi(de,$,ee);Jt<=dt&&(Jt+=1440);for(let ot=0;ot<=Ln;ot++){const ht=ot/Ln*In,_n=ot/Ln;let rn=dt+_n*(Jt-dt);rn=rn%1440;const br=Math.floor(rn/60),Eo=Math.round(rn%60);le.beginPath(),le.moveTo(ht,zt),le.lineTo(ht,zt+5),le.stroke();const No=Jr(br,Eo);le.fillText(No,ht,ea)}}else if(A==="timer"){const dt=Y==="minutes"?"m":Y==="hours"?"h":"s",Jt=me||1;for(let ot=0;ot<=Ln;ot++){const ht=ot/Ln*In,_n=ot/Ln,rn=Math.round(_n*Jt*10)/10;le.beginPath(),le.moveTo(ht,zt),le.lineTo(ht,zt+5),le.stroke();const br=`${rn}${dt}`;le.fillText(br,ht,ea)}}else{const dt=N!==void 0?N:0,Jt=O!==void 0?O:100;for(let ot=0;ot<=Ln;ot++){const ht=ot/Ln*In,_n=ot/Ln,rn=Math.round(dt+_n*(Jt-dt));le.beginPath(),le.moveTo(ht,zt),le.lineTo(ht,zt+5),le.stroke(),le.fillText(rn.toString(),ht,ea)}}const fi=Math.max(5,Math.min(In-5,Oe*In));le.strokeStyle="#ff6b6b",le.lineWidth=2,le.beginPath(),le.moveTo(fi,0),le.lineTo(fi,zt+8),le.stroke(),le.fillStyle="#ff6b6b",le.beginPath(),le.moveTo(fi-6,zt+ci),le.lineTo(fi+6,zt+ci),le.lineTo(fi,zt+8),le.closePath(),le.fill()},[f,p,v,b,_,T,Oe,Pe,ge,A,N,O,I,j,oe,de,$,ee,me,Y]),D.useEffect(()=>{const Se=setInterval(()=>{Ae(i.position||0),Ie(i.isInRange||!1),Rt(i.lastColor),Kn(i.inputStartTime||null),zi(i.inputEndTime||null)},500);return()=>clearInterval(Se)},[i]);const nn=D.useCallback(()=>{i.changeCallback&&i.changeCallback()},[i]),fs=Se=>{const le=Se.target.value;if(a(le),i.colorMode=le,le==="predefined"&&Za[l]){const xe=Za[l];i.startHue=xe.startHue,i.startSaturation=xe.startSat,i.startBrightness=xe.startBri,i.endHue=xe.endHue,i.endSaturation=xe.endSat,i.endBrightness=xe.endBri,h(xe.startHue),m(xe.startSat),S(xe.startBri),x(xe.endHue),E(xe.endSat),z(xe.endBri)}nn()},yr=Se=>{const le=Se.target.value;if(u(le),i.predefinedWedge=le,r==="predefined"&&Za[le]){const xe=Za[le];i.startHue=xe.startHue,i.startSaturation=xe.startSat,i.startBrightness=xe.startBri,i.endHue=xe.endHue,i.endSaturation=xe.endSat,i.endBrightness=xe.endBri,h(xe.startHue),m(xe.startSat),S(xe.startBri),x(xe.endHue),E(xe.endSat),z(xe.endBri)}nn()},Kr=Se=>{const le=Se.target.value;B(le),i.rangeMode=le,i.timerStart=null,i.currentStep=0,i.lastTimeStep=null,nn()},Lt=(Se,le)=>xe=>{const Bi=parseInt(xe.target.value,10);Se(Bi),i[le]=Bi,nn()},Oo=at?{backgroundColor:`rgb(${at.r}, ${at.g}, ${at.b})`}:{backgroundColor:"#333"},Co=Se=>Se.stopPropagation(),Ru=Object.entries(i.inputs||{}),vr=Object.entries(i.outputs||{});return g.jsxs("div",{className:`color-gradient-node ${Pe?"active":""} ${gt?"collapsed":""}`,children:[g.jsxs("div",{className:"cgn-header",children:[g.jsx("div",{className:"cgn-collapse-toggle",onPointerDown:Se=>{Se.stopPropagation(),yt(!gt)},children:gt?"":""}),g.jsx("div",{className:"cgn-title",children:"Stepped Color Gradient"})]}),g.jsxs("div",{className:"cgn-io-container",children:[g.jsx("div",{className:"cgn-inputs",children:Ru.map(([Se,le])=>g.jsxs("div",{className:"cgn-socket-row",children:[g.jsx(Qe,{init:xe=>t({type:"render",data:{type:"socket",element:xe,payload:le.socket,nodeId:i.id,side:"input",key:Se}}),unmount:xe=>t({type:"unmount",data:{element:xe}})}),g.jsx("span",{className:"cgn-socket-label",children:le.label})]},Se))}),g.jsx("div",{className:"cgn-outputs",children:vr.map(([Se,le])=>g.jsxs("div",{className:"cgn-socket-row cgn-socket-row-right",children:[g.jsx("span",{className:"cgn-socket-label",children:le.label}),g.jsx(Qe,{init:xe=>t({type:"render",data:{type:"socket",element:xe,payload:le.socket,nodeId:i.id,side:"output",key:Se}}),unmount:xe=>t({type:"unmount",data:{element:xe}})})]},Se))})]}),g.jsxs("div",{className:"cgn-status-section",onPointerDown:Co,children:[g.jsx("div",{className:"cgn-gradient-container",children:g.jsx("canvas",{ref:xt,className:"cgn-gradient-canvas"})}),g.jsxs("div",{className:"cgn-swatch-row",children:[g.jsx("div",{className:"cgn-current-color",style:Oo}),g.jsx("span",{className:"cgn-status",children:Pe?"In Range":"Outside Range"})]}),g.jsxs("div",{className:"cgn-time-display",children:[g.jsx("div",{className:`cgn-time-display-row ${Mt?"cgn-time-from-input":""}`,children:Mt?g.jsxs("span",{children:[g.jsx("span",{className:"cgn-input-badge",children:"INPUT"})," Start: ",Mt]}):g.jsxs("span",{children:[g.jsx("span",{className:"cgn-local-badge",children:"LOCAL"})," Start: ",I,":",String(j).padStart(2,"0")," ",oe]})}),g.jsx("div",{className:`cgn-time-display-row ${Wn?"cgn-time-from-input":""}`,children:Wn?g.jsxs("span",{children:[g.jsx("span",{className:"cgn-input-badge",children:"INPUT"})," End: ",Wn]}):g.jsxs("span",{children:[g.jsx("span",{className:"cgn-local-badge",children:"LOCAL"})," End: ",de,":",String($).padStart(2,"0")," ",ee]})})]})]}),!gt&&g.jsxs("div",{className:"cgn-controls",onPointerDown:Co,children:[g.jsxs("div",{className:"cgn-section",children:[g.jsxs("label",{className:"cgn-label cgn-tooltip","data-tooltip":"Predefined: Choose from preset color ranges (Warm, Cool, etc). Custom: Define your own start and end HSV colors.",children:["Color Mode",g.jsx("span",{className:"cgn-info-icon",children:"?"})]}),g.jsxs("select",{className:"cgn-select",value:r,onChange:fs,children:[g.jsx("option",{value:"predefined",children:"Predefined"}),g.jsx("option",{value:"custom",children:"Custom"})]})]}),r==="predefined"&&g.jsxs("div",{className:"cgn-section",children:[g.jsxs("label",{className:"cgn-label cgn-tooltip","data-tooltip":"Warm: Red to Yellow. Cool: Cyan to Blue. Warm-to-Cool: Full spectrum from red through green to blue.",children:["Wedge",g.jsx("span",{className:"cgn-info-icon",children:"?"})]}),g.jsxs("select",{className:"cgn-select",value:l,onChange:yr,children:[g.jsx("option",{value:"warm",children:"Warm"}),g.jsx("option",{value:"cool",children:"Cool"}),g.jsx("option",{value:"warm-to-cool",children:"Warm to Cool"})]})]}),r==="custom"&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"cgn-section cgn-hsv-group",children:[g.jsxs("label",{className:"cgn-label",children:["Start Hue: ",f,""]}),g.jsx("input",{type:"range",min:"0",max:"360",value:f,onChange:Lt(h,"startHue"),className:"cgn-slider"})]}),g.jsxs("div",{className:"cgn-section cgn-hsv-group",children:[g.jsxs("label",{className:"cgn-label",children:["Start Saturation: ",p,"%"]}),g.jsx("input",{type:"range",min:"0",max:"100",value:p,onChange:Lt(m,"startSaturation"),className:"cgn-slider"})]}),g.jsxs("div",{className:"cgn-section cgn-hsv-group",children:[g.jsxs("label",{className:"cgn-label",children:["Start Brightness: ",v,"%"]}),g.jsx("input",{type:"range",min:"0",max:"100",value:v,onChange:Lt(S,"startBrightness"),className:"cgn-slider"})]}),g.jsxs("div",{className:"cgn-section cgn-hsv-group",children:[g.jsxs("label",{className:"cgn-label",children:["End Hue: ",b,""]}),g.jsx("input",{type:"range",min:"0",max:"360",value:b,onChange:Lt(x,"endHue"),className:"cgn-slider"})]}),g.jsxs("div",{className:"cgn-section cgn-hsv-group",children:[g.jsxs("label",{className:"cgn-label",children:["End Saturation: ",_,"%"]}),g.jsx("input",{type:"range",min:"0",max:"100",value:_,onChange:Lt(E,"endSaturation"),className:"cgn-slider"})]}),g.jsxs("div",{className:"cgn-section cgn-hsv-group",children:[g.jsxs("label",{className:"cgn-label",children:["End Brightness: ",T,"%"]}),g.jsx("input",{type:"range",min:"0",max:"100",value:T,onChange:Lt(z,"endBrightness"),className:"cgn-slider"})]})]}),g.jsxs("div",{className:"cgn-section",children:[g.jsxs("label",{className:"cgn-label cgn-tooltip","data-tooltip":"Numerical: Map input value (0-100) to gradient. Time: Gradient follows clock time between start/end. Timer: Gradient progresses over a countdown duration.",children:["Range Mode",g.jsx("span",{className:"cgn-info-icon",children:"?"})]}),g.jsxs("select",{className:"cgn-select",value:A,onChange:Kr,children:[g.jsx("option",{value:"numerical",children:"Numerical"}),g.jsx("option",{value:"time",children:"Time"}),g.jsx("option",{value:"timer",children:"Timer"})]})]}),g.jsxs("div",{className:`cgn-section-group ${A!=="numerical"?"ghosted":""}`,children:[g.jsxs("div",{className:"cgn-section-header cgn-tooltip","data-tooltip":"Maps the input value to the gradient. When input equals Range Start, output is the start color. When input equals Range End, output is the end color.",children:["Numerical Range",g.jsx("span",{className:"cgn-info-icon",children:"?"})]}),g.jsxs("div",{className:"cgn-section",children:[g.jsxs("label",{className:"cgn-label",children:["Range Start: ",N]}),g.jsx("input",{type:"range",min:"0",max:"100",value:N,onChange:Lt(H,"startValue"),className:"cgn-slider"})]}),g.jsxs("div",{className:"cgn-section",children:[g.jsxs("label",{className:"cgn-label",children:["Range End: ",O]}),g.jsx("input",{type:"range",min:"0",max:"100",value:O,onChange:Lt(R,"endValue"),className:"cgn-slider"})]})]}),g.jsxs("div",{className:`cgn-section-group ${A!=="time"?"ghosted":""} ${Mt||Wn?"cgn-input-override":""}`,children:[g.jsxs("div",{className:"cgn-section-header cgn-tooltip","data-tooltip":"Gradient follows real clock time. At Start Time, outputs start color. At End Time, outputs end color. Supports overnight ranges (e.g., 10PM to 6AM).",children:["Time Range",g.jsx("span",{className:"cgn-info-icon",children:"?"}),(Mt||Wn)&&g.jsx("span",{className:"cgn-override-notice",children:"(Using Input Values)"})]}),g.jsxs("div",{className:"cgn-section",children:[g.jsxs("label",{className:"cgn-label",children:["Start Time Hours: ",I]}),g.jsx("input",{type:"range",min:"1",max:"12",value:I,onChange:Lt(Z,"startTimeHours"),className:"cgn-slider"})]}),g.jsxs("div",{className:"cgn-section",children:[g.jsxs("label",{className:"cgn-label",children:["Start Time Minutes: ",j]}),g.jsx("input",{type:"range",min:"0",max:"59",value:j,onChange:Lt(W,"startTimeMinutes"),className:"cgn-slider"})]}),g.jsxs("div",{className:"cgn-section",children:[g.jsx("label",{className:"cgn-label",children:"Start Time Period"}),g.jsxs("select",{className:"cgn-select",value:oe,onChange:Se=>{ue(Se.target.value),i.startTimePeriod=Se.target.value,nn()},children:[g.jsx("option",{value:"AM",children:"AM"}),g.jsx("option",{value:"PM",children:"PM"})]})]}),g.jsxs("div",{className:"cgn-section",children:[g.jsxs("label",{className:"cgn-label",children:["End Time Hours: ",de]}),g.jsx("input",{type:"range",min:"1",max:"12",value:de,onChange:Lt(pe,"endTimeHours"),className:"cgn-slider"})]}),g.jsxs("div",{className:"cgn-section",children:[g.jsxs("label",{className:"cgn-label",children:["End Time Minutes: ",$]}),g.jsx("input",{type:"range",min:"0",max:"59",value:$,onChange:Lt(X,"endTimeMinutes"),className:"cgn-slider"})]}),g.jsxs("div",{className:"cgn-section",children:[g.jsx("label",{className:"cgn-label",children:"End Time Period"}),g.jsxs("select",{className:"cgn-select",value:ee,onChange:Se=>{ae(Se.target.value),i.endTimePeriod=Se.target.value,nn()},children:[g.jsx("option",{value:"AM",children:"AM"}),g.jsx("option",{value:"PM",children:"PM"})]})]})]}),g.jsxs("div",{className:`cgn-section-group ${A!=="timer"?"ghosted":""}`,children:[g.jsxs("div",{className:"cgn-section-header cgn-tooltip","data-tooltip":"Gradient progresses over time when triggered. Duration sets total time. Steps control how many discrete color changes occur during the countdown.",children:["Timer Settings",g.jsx("span",{className:"cgn-info-icon",children:"?"})]}),g.jsxs("div",{className:"cgn-section",children:[g.jsxs("label",{className:"cgn-label",children:["Timer Duration: ",me]}),g.jsx("input",{type:"range",min:"1",max:"120",value:me,onChange:Lt(k,"timerDurationValue"),className:"cgn-slider"})]}),g.jsxs("div",{className:"cgn-section",children:[g.jsx("label",{className:"cgn-label",children:"Timer Unit"}),g.jsxs("select",{className:"cgn-select",value:Y,onChange:Se=>{te(Se.target.value),i.timerUnit=Se.target.value,nn()},children:[g.jsx("option",{value:"seconds",children:"Seconds"}),g.jsx("option",{value:"minutes",children:"Minutes"}),g.jsx("option",{value:"hours",children:"Hours"})]})]}),g.jsxs("div",{className:"cgn-section",children:[g.jsxs("label",{className:"cgn-label",children:["Time Steps: ",re]}),g.jsx("input",{type:"range",min:"1",max:"120",value:re,onChange:Lt(be,"timeSteps"),className:"cgn-slider"})]})]}),g.jsxs("div",{className:"cgn-section",children:[g.jsxs("label",{className:"cgn-label cgn-tooltip","data-tooltip":"Controls how colors transition. Linear: constant rate. Ease-In: starts slow. Ease-Out: ends slow. Back: slight overshoot. Higher orders (Cubic, Quart, Expo) are more dramatic.",children:["Easing Curve",g.jsx("span",{className:"cgn-info-icon",children:"?"})]}),g.jsxs("select",{className:"cgn-select",value:ge,onChange:Se=>{ce(Se.target.value),i.easingType=Se.target.value,nn()},children:[g.jsx("option",{value:"linear",children:"Linear"}),g.jsx("option",{value:"ease-in",children:"Ease In (Quad)"}),g.jsx("option",{value:"ease-out",children:"Ease Out (Quad)"}),g.jsx("option",{value:"ease-in-out",children:"Ease In-Out (Quad)"}),g.jsx("option",{value:"ease-in-cubic",children:"Ease In (Cubic)"}),g.jsx("option",{value:"ease-out-cubic",children:"Ease Out (Cubic)"}),g.jsx("option",{value:"ease-in-out-cubic",children:"Ease In-Out (Cubic)"}),g.jsx("option",{value:"ease-in-quart",children:"Ease In (Quart)"}),g.jsx("option",{value:"ease-out-quart",children:"Ease Out (Quart)"}),g.jsx("option",{value:"ease-in-out-quart",children:"Ease In-Out (Quart)"}),g.jsx("option",{value:"ease-in-expo",children:"Ease In (Expo)"}),g.jsx("option",{value:"ease-out-expo",children:"Ease Out (Expo)"}),g.jsx("option",{value:"ease-in-out-expo",children:"Ease In-Out (Expo)"}),g.jsx("option",{value:"ease-in-back",children:"Ease In (Back)"}),g.jsx("option",{value:"ease-out-back",children:"Ease Out (Back)"})]})]}),g.jsxs("div",{className:"cgn-section cgn-toggle-row",children:[g.jsxs("label",{className:"cgn-label cgn-tooltip","data-tooltip":"When enabled, uses a fixed brightness value instead of the gradient's brightness. Useful for keeping consistent light levels while colors change.",children:["Override Brightness",g.jsx("span",{className:"cgn-info-icon",children:"?"})]}),g.jsx("input",{type:"checkbox",checked:_e,onChange:Se=>{Ne(Se.target.checked),i.useBrightnessOverride=Se.target.checked,nn()},className:"cgn-checkbox"})]}),_e&&g.jsxs("div",{className:"cgn-section",children:[g.jsxs("label",{className:"cgn-label",children:["Brightness: ",K]}),g.jsx("input",{type:"range",min:"0",max:"254",value:K,onChange:Lt(J,"brightnessOverride"),className:"cgn-slider"})]})]})]})}function fk(){lt.register("HAGenericDeviceNode",{label:"HA Generic Device",category:"Home Assistant",nodeClass:Pa,component:QE,factory:i=>new Pa(i)}),lt.register("KasaPlugNode",{label:"Kasa Plug Control",category:"Plugs",nodeClass:o0,component:KE,factory:i=>new o0(i)}),lt.register("SunriseSunsetNode",{label:"Sunrise/Sunset Trigger",category:"Timer/Event",nodeClass:U0,component:KN,factory:i=>new U0(i)}),lt.register("TimeOfDayNode",{label:"Time of Day",category:"Timer/Event",nodeClass:I0,component:WN,factory:i=>new I0(i)}),lt.register("PushbuttonNode",{label:"Pushbutton",category:"Inputs",nodeClass:L0,component:JN,factory:i=>new L0(i)}),lt.register("DisplayNode",{label:"Display",category:"Other",nodeClass:V0,component:ek,factory:i=>new V0(i)}),lt.register("AllInOneColorNode",{label:"All-in-One Color Control",category:"CC_Control_Nodes",nodeClass:$0,component:tk,factory:i=>new $0(i),updateStrategy:"dataflow"}),lt.register("WeatherLogicNode",{label:"Weather Logic",category:"Logic",nodeClass:q0,component:nk,factory:i=>new q0(i)}),lt.register("BackdropNode",{label:"Backdrop",category:"Utility",nodeClass:Y0,component:ik,factory:i=>new Y0(i),isBackdrop:!0}),lt.register("ConditionalSwitchNode",{label:"Conditional Switch",category:"Logic",nodeClass:G0,component:rk,factory:i=>new G0(i)}),lt.register("ConditionalIntegerOutputNode",{label:"Conditional Integer Output",category:"Logic",nodeClass:Z0,component:ak,factory:i=>new Z0(i)}),lt.register("IntegerSelectorNode",{label:"Integer Selector",category:"Inputs",nodeClass:P0,component:sk,factory:i=>new P0(i)}),lt.register("ColorGradientNode",{label:"Stepped Color Gradient",category:"Color",nodeClass:J0,component:ck,factory:i=>new J0(i)})}window.Rete=O_;window.React=Wx;window.RefComponent=Qe;window.luxon=QN;window.nodeRegistry=lt;window.sockets=Be;window.socket=mt;async function dk(){try{const i=await fetch("/api/plugins");if(!i.ok)throw new Error("Failed to fetch plugin list");const t=await i.json();console.log("[PluginLoader] Found plugins:",t);for(const r of t)try{await hk(r),console.log(`[PluginLoader] Loaded ${r}`)}catch(a){console.error(`[PluginLoader] Failed to load ${r}`,a)}}catch(i){console.error("[PluginLoader] Error loading plugins:",i)}}function hk(i){return new Promise((t,r)=>{const a=document.createElement("script");a.src=i,a.async=!0,a.onload=t,a.onerror=r,document.body.appendChild(a)})}class Tk extends ne.Control{constructor(t,r,a){super(),this.label=t,this.value=r,this.onChange=a}}function pk({data:i}){const[t,r]=D.useState(i.value),a=l=>{const u=l.target.value;r(u),i.value=u,i.onChange&&i.onChange(u)};return g.jsxs("div",{style:{marginBottom:"5px"},children:[i.label&&g.jsx("label",{style:{display:"block",fontSize:"10px",color:"#00f3ff",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.5px"},children:i.label}),g.jsx("input",{type:"text",value:t,onChange:a,onPointerDown:l=>l.stopPropagation(),onDoubleClick:l=>l.stopPropagation(),style:{width:"100%",background:"#0a0f14",color:"#00f3ff",border:"1px solid rgba(0, 243, 255, 0.3)",padding:"6px",borderRadius:"4px",outline:"none",fontSize:"12px"}})]})}function eb(i){const{state:t,color:r}=i.data.data||{},a=t==="on"||t==="open"||t==="playing",l=r||(a?"#00f3ff":"#333");return g.jsxs("div",{className:"status-indicator-control",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"5px",width:"100%"},onPointerDown:u=>u.stopPropagation(),children:[g.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:a?l:"rgba(0, 20, 30, 0.8)",boxShadow:a?`0 0 10px ${l}, 0 0 20px ${l}`:"none",transition:"all 0.3s ease",border:"1px solid rgba(0, 243, 255, 0.3)",animation:a?"pulse 2s infinite":"none"}}),g.jsx("style",{children:`
                @keyframes pulse {
                    0% { opacity: 1; transform: scale(1); }
                    50% { opacity: 0.7; transform: scale(0.9); }
                    100% { opacity: 1; transform: scale(1); }
                }
            `})]})}function tb(i){const{brightness:t,hs_color:r,entityType:a}=i.data.data||{};let l="#444";r&&r.length===2?l=`hsl(${r[0]}, ${r[1]}%, 50%)`:a==="light"&&(l="#ffaa00");const u=t?t/255*100:0;return g.jsx("div",{className:"color-bar-control",style:{width:"100%",height:"8px",backgroundColor:"rgba(0, 20, 30, 0.6)",borderRadius:"4px",overflow:"hidden",marginTop:"5px",border:"1px solid rgba(0, 243, 255, 0.2)"},onPointerDown:f=>f.stopPropagation(),children:g.jsx("div",{style:{width:`${u}%`,height:"100%",backgroundColor:l,transition:"all 0.3s ease",boxShadow:`0 0 10px ${l}`}})})}function nb(i){const{power:t,energy:r}=i.data.data||{};return t===null&&r===null?g.jsx("div",{className:"power-stats-control",style:{fontSize:"10px",color:"#777",marginTop:"5px",fontFamily:"monospace"},children:"-- W / -- kWh"}):g.jsxs("div",{className:"power-stats-control",style:{display:"flex",flexDirection:"column",fontSize:"10px",color:"#e0f7fa",marginTop:"5px",fontFamily:"monospace"},onPointerDown:a=>a.stopPropagation(),children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[g.jsx("span",{children:"PWR:"}),g.jsx("span",{style:{color:"#00f3ff"},children:t!==null?`${t} W`:"--"})]}),r!==null&&g.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[g.jsx("span",{children:"NRG:"}),g.jsxs("span",{style:{color:"#ffaa00"},children:[r," kWh"]})]})]})}fk();function mk(){const i=D.useRef(null),[t,r]=D.useState(null),[a,l]=D.useState(null),[u,f]=D.useState(null),h=D.useRef(!1),p=D.useCallback(async _=>{const E=new Ri,T=new X_(_),z=new yT,A=new _C({createRoot:ab.createRoot}),B=new $C;E.use(B);const N=async()=>{console.log("[Editor] process() called - resetting engine and fetching all nodes"),B.reset();for(const K of E.getNodes())try{await B.fetch(K.id)}catch{}},H=K=>{console.log(`[Editor] updateNode(${K}) called`),T.update("node",K),N()},O=()=>{N()},R=()=>{const K=lt.getAll(),J={};K.forEach(ce=>{const Oe=ce.category||"Other";J[Oe]||(J[Oe]=[]),J[Oe].push([ce.label,()=>{let Ae;const Pe=()=>{ce.updateStrategy==="dataflow"?O():H(Ae.id)};return Ae=ce.factory(Pe),Ae}])});const ge=Object.entries(J).map(([ce,Oe])=>(Oe.sort((Ae,Pe)=>Ae[0].localeCompare(Pe[0])),[ce,Oe]));return ge.sort((ce,Oe)=>ce[0].localeCompare(Oe[0])),NC.classic.setup(ge,{delay:0})},I=new DC({items:(K,J)=>K==="root"?R()(K,J):lt.getByInstance(K)?{searchBar:!1,list:[{label:"Delete",key:"delete",handler:async()=>{const ce=K.id,Oe=E.getConnections().filter(Ae=>Ae.source===ce||Ae.target===ce);for(const Ae of Oe)await E.removeConnection(Ae.id);await E.removeNode(ce)}}]}:{searchBar:!1,list:[]}}),Z=$l.selector();$l.selectableNodes(T,Z,{accumulating:$l.accumulateOnCtrl()}),A.addPreset(Pl.classic.setup({customize:{node(K){const J=lt.getByInstance(K.payload);return J?J.component:Pl.classic.Node},control(K){if(K.payload instanceof ne.Control){const J=K.payload,ge=J.constructor.name;if(ge==="ButtonControl")return $E;if(ge==="DropdownControl")return qE;if(ge==="TextControl")return pk;if(ge==="SwitchControl")return GE;if(ge==="NumberControl")return PE;if(ge==="DeviceStateControl")return XE;if(ge==="StatusIndicatorControl")return eb;if(ge==="ColorBarControl")return tb;if(ge==="PowerStatsControl")return nb;if(J instanceof Kd)return eb;if(J instanceof FE)return tb;if(J instanceof vo)return nb;console.warn("[Editor] Unmatched control type:",ge,J)}return Pl.classic.Control}}})),A.addPreset(Pl.contextMenu.setup()),z.addPreset(dT.classic.setup()),E.use(T),T.use(z),T.use(I),T.use(A),$l.simpleNodesOrder(T),E.addPipe(K=>{if(K.type==="nodecreated"){const J=K.data,ge=lt.getByInstance(J);ge&&ge.isBackdrop&&setTimeout(()=>{const ce=T.nodeViews.get(J.id);ce&&ce.element&&(ce.element.style.zIndex="-10",console.log("[Backdrop] Set z-index on creation for:",J.id))},50)}return K});let j=!1,W=!1,oe={x:0,y:0};z.addPipe(K=>(K.type==="connectionpick"?(j=!0,console.log("[Editor] Connection pick - wire dragging started")):K.type==="connectiondrop"&&(j=!1,W=!1,console.log("[Editor] Connection drop - wire dragging ended")),K));const ue=K=>{if(j)if(K.ctrlKey||K.metaKey)if(!W)W=!0,oe={x:K.clientX,y:K.clientY},_.style.cursor="grab";else{const J=K.clientX-oe.x,ge=K.clientY-oe.y;if(J!==0||ge!==0){const ce=T.area.transform;T.area.translate(ce.x+J,ce.y+ge),oe={x:K.clientX,y:K.clientY}}}else W&&(W=!1,_.style.cursor="")},de=K=>{(K.key==="Control"||K.key==="Meta")&&W&&(W=!1,_.style.cursor="")};window.addEventListener("pointermove",ue),window.addEventListener("keyup",de);const pe=document.createElement("div");pe.classList.add("selection-box"),_.appendChild(pe);let $=!1,X={x:0,y:0};const ee=new Set,ae=K=>{if((K.ctrlKey||K.metaKey)&&K.button===0){console.log("[Editor] Lasso start"),K.stopPropagation(),K.preventDefault(),$=!0;const J=_.getBoundingClientRect();X={x:K.clientX-J.left,y:K.clientY-J.top},pe.style.display="block",pe.style.left=`${X.x}px`,pe.style.top=`${X.y}px`,pe.style.width="0px",pe.style.height="0px",K.shiftKey||(ee.forEach(ge=>{const ce=T.nodeViews.get(ge);ce&&ce.element&&(ce.element.classList.remove("selected"),ce.element.style.outline="")}),ee.clear(),Z&&Z.entities&&Array.from(Z.entities).forEach(ge=>Z.remove(ge)))}},me=K=>{if(!$)return;const J=_.getBoundingClientRect(),ge=K.clientX-J.left,ce=K.clientY-J.top,Oe=Math.min(X.x,ge),Ae=Math.min(X.y,ce),Pe=Math.abs(ge-X.x),Ie=Math.abs(ce-X.y);pe.style.left=`${Oe}px`,pe.style.top=`${Ae}px`,pe.style.width=`${Pe}px`,pe.style.height=`${Ie}px`},k=K=>{if(!$)return;console.log("[Editor] Lasso end");const J=pe.getBoundingClientRect();if(console.log("[Editor] Box Rect:",J),$=!1,pe.style.display="none",J.width<5&&J.height<5){console.log("[Editor] Selection box too small, ignoring");return}let ge=0;const ce=[];E.getNodes().forEach(Oe=>{const Ae=T.nodeViews.get(Oe.id);if(Ae&&Ae.element){const Pe=Ae.element.getBoundingClientRect();J.left<=Pe.left&&J.right>=Pe.right&&J.top<=Pe.top&&J.bottom>=Pe.bottom&&ce.push({node:Oe,view:Ae})}}),console.log(`[Editor] Found ${ce.length} nodes in selection area`),ce.forEach(({node:Oe,view:Ae})=>{console.log(`[Editor] Selecting node ${Oe.id}`,Ae.element),ee.add(Oe.id),Ae.element.classList.add("selected"),Ae.element.style.outline="3px solid #00f3ff",ge++}),console.log(`[Editor] Selected ${ge} nodes, tracked:`,Array.from(ee))},Y=()=>{ee.size>0&&(console.log("[Editor] Clearing lasso selection"),ee.forEach(K=>{const J=T.nodeViews.get(K);J&&J.element&&(J.element.classList.remove("selected"),J.element.style.outline="")}),ee.clear())},te=K=>{if(!K.ctrlKey&&!K.metaKey&&!$){const J=K.target;(J===_||J.classList.contains("rete-area")||J.closest('[data-testid="area"]'))&&Y()}};_.addEventListener("pointerdown",ae,{capture:!0}),_.addEventListener("click",te),window.addEventListener("pointermove",me),window.addEventListener("pointerup",k),E.addPipe(K=>((K.type==="connectioncreated"||K.type==="connectionremoved")&&N(),K));let re={activeBackdropId:null,isDragging:!1},be=!1;function _e(){const K=E.getNodes(),J=K.filter(ce=>{const Oe=lt.getByInstance(ce);return Oe&&Oe.isBackdrop}),ge=K.filter(ce=>{const Oe=lt.getByInstance(ce);return!Oe||!Oe.isBackdrop});J.forEach(ce=>{const Oe=T.nodeViews.get(ce.id);if(!Oe)return;Oe.element&&(Oe.element.style.zIndex="-10");const Ae=Oe.position,Pe=[],Ie=ce.properties.width||400,at=ce.properties.height||300;ge.forEach(gt=>{const yt=T.nodeViews.get(gt.id);if(!yt)return;yt.element&&parseInt(yt.element.style.zIndex||"0",10)<0&&(yt.element.style.zIndex="1");const Mt=yt.position,Kn=gt.width||180,Wn=gt.height||100,zi=Mt.x+Kn/2,xt=Mt.y+Wn/2;zi>=Ae.x&&zi<=Ae.x+Ie&&xt>=Ae.y&&xt<=Ae.y+at&&Pe.push(gt.id)});const Rt=ce.properties.capturedNodes.length;ce.properties.capturedNodes=Pe,Rt!==Pe.length&&ce.changeCallback&&ce.changeCallback()})}T.updateBackdropCaptures=_e;function Ne(){E.getNodes().forEach(K=>{const J=lt.getByInstance(K);if(J&&J.isBackdrop){const ge=T.nodeViews.get(K.id);ge&&ge.element&&(ge.element.style.zIndex="-10")}})}return T.addPipe(K=>{if(K.type==="render"&&K.data?.payload){const J=K.data.payload,ge=lt.getByInstance(J);ge&&ge.isBackdrop&&setTimeout(()=>{const ce=T.nodeViews.get(J.id);ce&&ce.element&&(ce.element.style.zIndex="-10",console.log("[Backdrop] Set z-index for:",J.id))},0)}if(K.type==="rendered"&&setTimeout(()=>Ne(),10),K.type==="nodetranslate"){if(h.current||be)return K;const J=K.data.id,ge=E.getNode(J);if(!ge)return K;const ce=K.data.position,Oe=K.data.previous,Ae=ce.x-Oe.x,Pe=ce.y-Oe.y;if(Ae===0&&Pe===0)return K;if(ee.size>1&&ee.has(J)){be=!0;const at=[];return ee.forEach(Rt=>{if(Rt!==J){const gt=T.nodeViews.get(Rt);if(gt){const yt=gt.position.x+Ae,Mt=gt.position.y+Pe;at.push(T.translate(Rt,{x:yt,y:Mt}))}}}),Promise.all(at).then(()=>{be=!1}),K}const Ie=lt.getByInstance(ge);if(Ie&&Ie.isBackdrop&&(re.activeBackdropId!==J&&(re.activeBackdropId=J,re.isDragging=!0,_e(),console.log("[Backdrop] Started dragging, captured nodes:",ge.properties.capturedNodes)),ge.properties.capturedNodes.length>0)){be=!0;const at=[];return ge.properties.capturedNodes.forEach(Rt=>{if(!ee.has(Rt)){const gt=T.nodeViews.get(Rt);if(gt){const yt=gt.position.x+Ae,Mt=gt.position.y+Pe;at.push(T.translate(Rt,{x:yt,y:Mt}))}}}),Promise.all(at).then(()=>{be=!1}),K}}if(K.type==="nodedragged"){if(h.current)return K;console.log("[Backdrop] Drag ended, resetting state"),re.isDragging=!1,re.activeBackdropId=null,_e()}return K}),r(E),l(T),f(B),{destroy:()=>{_.removeEventListener("pointerdown",ae,{capture:!0}),_.removeEventListener("click",te),window.removeEventListener("pointermove",me),window.removeEventListener("pointerup",k),window.removeEventListener("pointermove",ue),window.removeEventListener("keyup",de),pe.parentNode&&pe.parentNode.removeChild(pe),T.destroy()},selector:Z,editor:E,area:T,engine:B,process:N}},[]);D.useEffect(()=>{dk().then(()=>{console.log("[Editor] External plugins loaded")});const _=i.current;if(!_)return;let E=null,T=null,z=null,A=null,B=p(_);B.then(H=>{E=H.editor,T=H.area,z=H.engine,A=H.selector});const N=async H=>{if(!(H.target.tagName==="INPUT"||H.target.tagName==="TEXTAREA"||H.target.isContentEditable)){if(console.log(`[Editor] KeyDown: ${H.code} (Ctrl: ${H.ctrlKey}, Meta: ${H.metaKey})`),(H.code==="Delete"||H.code==="Backspace")&&E&&A&&A.entities){const O=Array.from(A.entities);for(const R of O)if(R.label==="node"){const I=R.id,Z=E.getConnections().filter(j=>j.source===I||j.target===I);for(const j of Z)await E.removeConnection(j.id);await E.removeNode(I)}}if((H.ctrlKey||H.metaKey)&&H.code==="KeyC"){if(!E||!A){console.warn("[Editor] Copy failed: Editor or Selector not initialized");return}try{const O=[],R=new Set;if(!A.entities||A.entities.size===0){console.log("[Editor] Nothing selected to copy (selector empty)");return}console.log(`[Editor] Processing ${A.entities.size} entities for copy`);for(const j of A.entities)if(j.label==="node"){const W=E.getNode(j.id);W&&(O.push({label:W.label,position:T.nodeViews.get(W.id)?.position||{x:0,y:0},data:{id:W.id,properties:JSON.parse(JSON.stringify(W.properties||{}))}}),R.add(W.id))}else console.log("[Editor] Skipping non-node entity:",j.label);if(O.length===0){console.log("[Editor] Nothing selected to copy (no nodes in selection)");return}const I=[];for(const j of E.getConnections())R.has(j.source)&&R.has(j.target)&&I.push({source:j.source,target:j.target,sourceOutput:j.sourceOutput,targetInput:j.targetInput});const Z={nodes:O,connections:I};localStorage.setItem("rete-clipboard",JSON.stringify(Z)),console.log("Copied to clipboard:",Z)}catch(O){console.error("[Editor] Copy failed:",O)}}if((H.ctrlKey||H.metaKey)&&H.code==="KeyV"){if(!E||!T||!z){console.warn("[Editor] Paste failed: Editor not initialized");return}const O=localStorage.getItem("rete-clipboard");if(!O){console.log("[Editor] Clipboard empty");return}try{const R=JSON.parse(O),I={};A&&Array.from(A.entities).forEach(Z=>A.remove(Z)),h.current=!0;try{for(const Z of R.nodes){let j;const W=lt.getByLabel(Z.label);if(W){const oe=()=>{T&&T.update("node",j.id),z&&E&&(z.reset(),setTimeout(()=>{E.getNodes().forEach(async de=>{try{await z.fetch(de.id)}catch{}})},0))},ue=()=>{W.updateStrategy==="dataflow"?(z&&z.reset(),z&&E&&setTimeout(()=>{E.getNodes().forEach(async de=>{try{await z.fetch(de.id)}catch{}})},0)):oe()};j=W.factory(ue)}if(j){typeof j.restore=="function"&&Z.data?j.restore(Z.data):Z.data&&Z.data.properties&&Object.assign(j.properties,Z.data.properties),await E.addNode(j);const oe={x:Z.position.x+20,y:Z.position.y+20};await T.translate(j.id,oe),I[Z.data.id]=j.id,A&&A.add({id:j.id,label:"node",translate:()=>{},unmount:()=>{}},!0)}}}finally{h.current=!1,T?.updateBackdropCaptures?.()}for(const Z of R.connections){const j=I[Z.source],W=I[Z.target];if(j&&W){const oe=E.getNode(j),ue=E.getNode(W);oe&&ue&&await E.addConnection(new ne.Connection(oe,Z.sourceOutput,ue,Z.targetInput))}}console.log("Pasted from clipboard")}catch(R){console.error("[Editor] Paste failed:",R)}}}};return window.addEventListener("keydown",N),()=>{window.removeEventListener("keydown",N),B.then(H=>H.destroy())}},[p]);const m=async()=>{if(!(!t||!a))try{const _=t.getNodes().map(H=>{const O=typeof H.toJSON=="function"?H.toJSON():{...H};return H.properties&&(O.properties=H.properties),{id:H.id,label:H.label,position:a.nodeViews.get(H.id)?.position||{x:0,y:0},data:O}}),E=t.getConnections().map(H=>({id:H.id,source:H.source,target:H.target,sourceOutput:H.sourceOutput,targetInput:H.targetInput})),z=JSON.stringify({nodes:_,connections:E},null,2);if(localStorage.setItem("saved-graph",z),console.log("Graph saved to localStorage"),window.showSaveFilePicker)try{const O=await(await window.showSaveFilePicker({suggestedName:"autotron_graph.json",types:[{description:"AutoTron Graph",accept:{"application/json":[".json"]}}]})).createWritable();await O.write(z),await O.close(),console.log("Graph saved to file");return}catch(H){if(H.name==="AbortError")return;console.warn("File System Access API failed, falling back to download",H)}const A=new Blob([z],{type:"application/json"}),B=URL.createObjectURL(A),N=document.createElement("a");N.href=B,N.download=`autotron_graph_${Date.now()}.json`,N.click(),URL.revokeObjectURL(B),console.log("Graph saved via download")}catch(_){console.error("Failed to save graph:",_)}},v=async()=>{if(!(!t||!a||!u))try{const _=localStorage.getItem("saved-graph");if(!_){alert("No saved graph found");return}const E=JSON.parse(_);await S(),h.current=!0;try{for(const T of E.nodes){let z;const A=lt.getByLabel(T.label);if(A){const B=()=>{a&&a.update("node",T.id),u&&t&&(u.reset(),setTimeout(()=>{t.getNodes().forEach(async N=>{try{await u.fetch(N.id)}catch{}})},0))};z=A.factory(B)}z&&(z.id=T.id,typeof z.restore=="function"&&T.data?z.restore(T.data):T.data&&T.data.properties&&Object.assign(z.properties,T.data.properties),await t.addNode(z),await a.translate(z.id,T.position))}for(const T of E.connections){const z=t.getNode(T.source),A=t.getNode(T.target);z&&A&&await t.addConnection(new ne.Connection(z,T.sourceOutput,A,T.targetInput))}}finally{h.current=!1,a?.updateBackdropCaptures?.()}console.log("Graph loaded from localStorage")}catch(_){console.error("Failed to load graph:",_),alert("Failed to load graph")}},S=async()=>{if(t)try{for(const _ of t.getConnections())await t.removeConnection(_.id);for(const _ of t.getNodes())await t.removeNode(_.id);console.log("Graph cleared")}catch(_){console.error("Failed to clear graph:",_)}},b=()=>{if(!(!t||!a))try{const _=t.getNodes().map(N=>{const H=typeof N.toJSON=="function"?N.toJSON():{...N};return N.properties&&(H.properties=N.properties),{id:N.id,label:N.label,position:a.nodeViews.get(N.id)?.position||{x:0,y:0},data:H}}),E=t.getConnections().map(N=>({id:N.id,source:N.source,target:N.target,sourceOutput:N.sourceOutput,targetInput:N.targetInput})),T={nodes:_,connections:E},z=new Blob([JSON.stringify(T,null,2)],{type:"application/json"}),A=URL.createObjectURL(z),B=document.createElement("a");B.href=A,B.download=`graph-${Date.now()}.json`,B.click(),URL.revokeObjectURL(A),console.log("Graph exported")}catch(_){console.error("Failed to export graph:",_)}},x=async _=>{if(!(!t||!a||!u))try{await S(),h.current=!0;try{for(const E of _.nodes){let T;const z=lt.getByLabel(E.label);if(z){const A=()=>{a&&a.update("node",E.id),u&&t&&(u.reset(),setTimeout(()=>{t.getNodes().forEach(async B=>{try{await u.fetch(B.id)}catch{}})},0))};T=z.factory(A)}T&&(T.id=E.id,typeof T.restore=="function"&&E.data?T.restore(E.data):E.data&&E.data.properties&&Object.assign(T.properties,E.data.properties),await t.addNode(T),await a.translate(T.id,E.position))}for(const E of _.connections){const T=t.getNode(E.source),z=t.getNode(E.target);T&&z&&await t.addConnection(new ne.Connection(T,E.sourceOutput,z,E.targetInput))}}finally{h.current=!1,a?.updateBackdropCaptures?.()}console.log("Graph imported")}catch(E){console.error("Failed to import graph:",E),alert("Failed to import graph")}};return g.jsxs("div",{style:{width:"100%",height:"100vh",position:"relative"},children:[g.jsx("div",{ref:i,className:"rete-editor",style:{width:"100%",height:"100%",marginRight:"320px"}}),g.jsx(qC,{onSave:m,onLoad:v,onClear:S,onExport:b,onImport:x}),g.jsx(LE,{})]})}console.log("=== Socket Test ===");console.log("Singleton boolean socket:",Be.boolean);console.log("Singleton object socket:",Be.object);const HS=new ne.Socket("boolean"),gk=new ne.Socket("boolean"),yk=ne.Socket.canConnect(HS,gk);console.log("Can two 'boolean' sockets connect?",yk);const vk=ne.Socket.canConnect(Be.boolean,Be.boolean);console.log("Can singleton boolean sockets connect?",vk);const bk=new ne.Socket("object"),Sk=ne.Socket.canConnect(HS,bk);console.log("Can 'boolean' and 'object' sockets connect?",Sk);console.log("=== End Socket Test ===");function wk(){const[i,t]=D.useState(mt.connected);return D.useEffect(()=>{function r(){t(!0),console.log("Socket connected")}function a(){t(!1),console.log("Socket disconnected")}return mt.on("connect",r),mt.on("disconnect",a),UE(),()=>{mt.off("connect",r),mt.off("disconnect",a),IE()}},[]),g.jsxs("div",{className:"app-container",children:[g.jsx("div",{className:`connection-status ${i?"connected":"disconnected"}`,children:i?"Connected":"Disconnected"}),g.jsx(mk,{})]})}ab.createRoot(document.getElementById("root")).render(g.jsx(D.StrictMode,{children:g.jsx(wk,{})}));
