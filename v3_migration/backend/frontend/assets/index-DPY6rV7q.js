function lb(a,n){for(var r=0;r<n.length;r++){const s=n[r];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in a)){const c=Object.getOwnPropertyDescriptor(s,l);c&&Object.defineProperty(a,l,c.get?c:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();function Ch(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var af={exports:{}},wo={};var Vy;function a2(){if(Vy)return wo;Vy=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var h in l)h!=="key"&&(c[h]=l[h])}else c=l;return l=c.ref,{$$typeof:a,type:s,key:d,ref:l!==void 0?l:null,props:c}}return wo.Fragment=n,wo.jsx=r,wo.jsxs=r,wo}var qy;function r2(){return qy||(qy=1,af.exports=a2()),af.exports}var p=r2(),rf={exports:{}},Qe={};var Gy;function i2(){if(Gy)return Qe;Gy=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function k(S){return S===null||typeof S!="object"?null:(S=x&&S[x]||S["@@iterator"],typeof S=="function"?S:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,q={};function W(S,M,j){this.props=S,this.context=M,this.refs=q,this.updater=j||_}W.prototype.isReactComponent={},W.prototype.setState=function(S,M){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,M,"setState")},W.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function K(){}K.prototype=W.prototype;function B(S,M,j){this.props=S,this.context=M,this.refs=q,this.updater=j||_}var Y=B.prototype=new K;Y.constructor=B,Z(Y,W.prototype),Y.isPureReactComponent=!0;var fe=Array.isArray;function be(){}var H={H:null,A:null,T:null,S:null},de=Object.prototype.hasOwnProperty;function ie(S,M,j){var R=j.ref;return{$$typeof:a,type:S,key:M,ref:R!==void 0?R:null,props:j}}function pe(S,M){return ie(S.type,M,S.props)}function Be(S){return typeof S=="object"&&S!==null&&S.$$typeof===a}function Ae(S){var M={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(j){return M[j]})}var Je=/\/+/g;function rt(S,M){return typeof S=="object"&&S!==null&&S.key!=null?Ae(""+S.key):M.toString(36)}function We(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(be,be):(S.status="pending",S.then(function(M){S.status==="pending"&&(S.status="fulfilled",S.value=M)},function(M){S.status==="pending"&&(S.status="rejected",S.reason=M)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function O(S,M,j,R,ce){var ve=typeof S;(ve==="undefined"||ve==="boolean")&&(S=null);var Oe=!1;if(S===null)Oe=!0;else switch(ve){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(S.$$typeof){case a:case n:Oe=!0;break;case v:return Oe=S._init,O(Oe(S._payload),M,j,R,ce)}}if(Oe)return ce=ce(S),Oe=R===""?"."+rt(S,0):R,fe(ce)?(j="",Oe!=null&&(j=Oe.replace(Je,"$&/")+"/"),O(ce,M,j,"",function(Ze){return Ze})):ce!=null&&(Be(ce)&&(ce=pe(ce,j+(ce.key==null||S&&S.key===ce.key?"":(""+ce.key).replace(Je,"$&/")+"/")+Oe)),M.push(ce)),1;Oe=0;var Ge=R===""?".":R+":";if(fe(S))for(var He=0;He<S.length;He++)R=S[He],ve=Ge+rt(R,He),Oe+=O(R,M,j,ve,ce);else if(He=k(S),typeof He=="function")for(S=He.call(S),He=0;!(R=S.next()).done;)R=R.value,ve=Ge+rt(R,He++),Oe+=O(R,M,j,ve,ce);else if(ve==="object"){if(typeof S.then=="function")return O(We(S),M,j,R,ce);throw M=String(S),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function V(S,M,j){if(S==null)return S;var R=[],ce=0;return O(S,R,"","",function(ve){return M.call(j,ve,ce++)}),R}function Q(S){if(S._status===-1){var M=S._result;M=M(),M.then(function(j){(S._status===0||S._status===-1)&&(S._status=1,S._result=j)},function(j){(S._status===0||S._status===-1)&&(S._status=2,S._result=j)}),S._status===-1&&(S._status=0,S._result=M)}if(S._status===1)return S._result.default;throw S._result}var me=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},U={map:V,forEach:function(S,M,j){V(S,function(){M.apply(this,arguments)},j)},count:function(S){var M=0;return V(S,function(){M++}),M},toArray:function(S){return V(S,function(M){return M})||[]},only:function(S){if(!Be(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return Qe.Activity=b,Qe.Children=U,Qe.Component=W,Qe.Fragment=r,Qe.Profiler=l,Qe.PureComponent=B,Qe.StrictMode=s,Qe.Suspense=m,Qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Qe.__COMPILER_RUNTIME={__proto__:null,c:function(S){return H.H.useMemoCache(S)}},Qe.cache=function(S){return function(){return S.apply(null,arguments)}},Qe.cacheSignal=function(){return null},Qe.cloneElement=function(S,M,j){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var R=Z({},S.props),ce=S.key;if(M!=null)for(ve in M.key!==void 0&&(ce=""+M.key),M)!de.call(M,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&M.ref===void 0||(R[ve]=M[ve]);var ve=arguments.length-2;if(ve===1)R.children=j;else if(1<ve){for(var Oe=Array(ve),Ge=0;Ge<ve;Ge++)Oe[Ge]=arguments[Ge+2];R.children=Oe}return ie(S.type,ce,R)},Qe.createContext=function(S){return S={$$typeof:d,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:c,_context:S},S},Qe.createElement=function(S,M,j){var R,ce={},ve=null;if(M!=null)for(R in M.key!==void 0&&(ve=""+M.key),M)de.call(M,R)&&R!=="key"&&R!=="__self"&&R!=="__source"&&(ce[R]=M[R]);var Oe=arguments.length-2;if(Oe===1)ce.children=j;else if(1<Oe){for(var Ge=Array(Oe),He=0;He<Oe;He++)Ge[He]=arguments[He+2];ce.children=Ge}if(S&&S.defaultProps)for(R in Oe=S.defaultProps,Oe)ce[R]===void 0&&(ce[R]=Oe[R]);return ie(S,ve,ce)},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(S){return{$$typeof:h,render:S}},Qe.isValidElement=Be,Qe.lazy=function(S){return{$$typeof:v,_payload:{_status:-1,_result:S},_init:Q}},Qe.memo=function(S,M){return{$$typeof:g,type:S,compare:M===void 0?null:M}},Qe.startTransition=function(S){var M=H.T,j={};H.T=j;try{var R=S(),ce=H.S;ce!==null&&ce(j,R),typeof R=="object"&&R!==null&&typeof R.then=="function"&&R.then(be,me)}catch(ve){me(ve)}finally{M!==null&&j.types!==null&&(M.types=j.types),H.T=M}},Qe.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Qe.use=function(S){return H.H.use(S)},Qe.useActionState=function(S,M,j){return H.H.useActionState(S,M,j)},Qe.useCallback=function(S,M){return H.H.useCallback(S,M)},Qe.useContext=function(S){return H.H.useContext(S)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(S,M){return H.H.useDeferredValue(S,M)},Qe.useEffect=function(S,M){return H.H.useEffect(S,M)},Qe.useEffectEvent=function(S){return H.H.useEffectEvent(S)},Qe.useId=function(){return H.H.useId()},Qe.useImperativeHandle=function(S,M,j){return H.H.useImperativeHandle(S,M,j)},Qe.useInsertionEffect=function(S,M){return H.H.useInsertionEffect(S,M)},Qe.useLayoutEffect=function(S,M){return H.H.useLayoutEffect(S,M)},Qe.useMemo=function(S,M){return H.H.useMemo(S,M)},Qe.useOptimistic=function(S,M){return H.H.useOptimistic(S,M)},Qe.useReducer=function(S,M,j){return H.H.useReducer(S,M,j)},Qe.useRef=function(S){return H.H.useRef(S)},Qe.useState=function(S){return H.H.useState(S)},Qe.useSyncExternalStore=function(S,M,j){return H.H.useSyncExternalStore(S,M,j)},Qe.useTransition=function(){return H.H.useTransition()},Qe.version="19.2.0",Qe}var Yy;function Th(){return Yy||(Yy=1,rf.exports=i2()),rf.exports}var E=Th();const _a=Ch(E),s2=lb({__proto__:null,default:_a},[E]);var sf={exports:{}},So={},of={exports:{}},lf={};var Fy;function o2(){return Fy||(Fy=1,(function(a){function n(O,V){var Q=O.length;O.push(V);e:for(;0<Q;){var me=Q-1>>>1,U=O[me];if(0<l(U,V))O[me]=V,O[Q]=U,Q=me;else break e}}function r(O){return O.length===0?null:O[0]}function s(O){if(O.length===0)return null;var V=O[0],Q=O.pop();if(Q!==V){O[0]=Q;e:for(var me=0,U=O.length,S=U>>>1;me<S;){var M=2*(me+1)-1,j=O[M],R=M+1,ce=O[R];if(0>l(j,Q))R<U&&0>l(ce,j)?(O[me]=ce,O[R]=Q,me=R):(O[me]=j,O[M]=Q,me=M);else if(R<U&&0>l(ce,Q))O[me]=ce,O[R]=Q,me=R;else break e}}return V}function l(O,V){var Q=O.sortIndex-V.sortIndex;return Q!==0?Q:O.id-V.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();a.unstable_now=function(){return d.now()-h}}var m=[],g=[],v=1,b=null,x=3,k=!1,_=!1,Z=!1,q=!1,W=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function Y(O){for(var V=r(g);V!==null;){if(V.callback===null)s(g);else if(V.startTime<=O)s(g),V.sortIndex=V.expirationTime,n(m,V);else break;V=r(g)}}function fe(O){if(Z=!1,Y(O),!_)if(r(m)!==null)_=!0,be||(be=!0,Ae());else{var V=r(g);V!==null&&We(fe,V.startTime-O)}}var be=!1,H=-1,de=5,ie=-1;function pe(){return q?!0:!(a.unstable_now()-ie<de)}function Be(){if(q=!1,be){var O=a.unstable_now();ie=O;var V=!0;try{e:{_=!1,Z&&(Z=!1,K(H),H=-1),k=!0;var Q=x;try{t:{for(Y(O),b=r(m);b!==null&&!(b.expirationTime>O&&pe());){var me=b.callback;if(typeof me=="function"){b.callback=null,x=b.priorityLevel;var U=me(b.expirationTime<=O);if(O=a.unstable_now(),typeof U=="function"){b.callback=U,Y(O),V=!0;break t}b===r(m)&&s(m),Y(O)}else s(m);b=r(m)}if(b!==null)V=!0;else{var S=r(g);S!==null&&We(fe,S.startTime-O),V=!1}}break e}finally{b=null,x=Q,k=!1}V=void 0}}finally{V?Ae():be=!1}}}var Ae;if(typeof B=="function")Ae=function(){B(Be)};else if(typeof MessageChannel<"u"){var Je=new MessageChannel,rt=Je.port2;Je.port1.onmessage=Be,Ae=function(){rt.postMessage(null)}}else Ae=function(){W(Be,0)};function We(O,V){H=W(function(){O(a.unstable_now())},V)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(O){O.callback=null},a.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<O?Math.floor(1e3/O):5},a.unstable_getCurrentPriorityLevel=function(){return x},a.unstable_next=function(O){switch(x){case 1:case 2:case 3:var V=3;break;default:V=x}var Q=x;x=V;try{return O()}finally{x=Q}},a.unstable_requestPaint=function(){q=!0},a.unstable_runWithPriority=function(O,V){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var Q=x;x=O;try{return V()}finally{x=Q}},a.unstable_scheduleCallback=function(O,V,Q){var me=a.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?me+Q:me):Q=me,O){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=Q+U,O={id:v++,callback:V,priorityLevel:O,startTime:Q,expirationTime:U,sortIndex:-1},Q>me?(O.sortIndex=Q,n(g,O),r(m)===null&&O===r(g)&&(Z?(K(H),H=-1):Z=!0,We(fe,Q-me))):(O.sortIndex=U,n(m,O),_||k||(_=!0,be||(be=!0,Ae()))),O},a.unstable_shouldYield=pe,a.unstable_wrapCallback=function(O){var V=x;return function(){var Q=x;x=V;try{return O.apply(this,arguments)}finally{x=Q}}}})(lf)),lf}var Py;function l2(){return Py||(Py=1,of.exports=o2()),of.exports}var cf={exports:{}},Rn={};var Zy;function c2(){if(Zy)return Rn;Zy=1;var a=Th();function n(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(m,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:m,containerInfo:g,implementation:v}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Rn.createPortal=function(m,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return c(m,g,null,v)},Rn.flushSync=function(m){var g=d.T,v=s.p;try{if(d.T=null,s.p=2,m)return m()}finally{d.T=g,s.p=v,s.d.f()}},Rn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(m,g))},Rn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Rn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var v=g.as,b=h(v,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:k}):v==="script"&&s.d.X(m,{crossOrigin:b,integrity:x,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Rn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=h(g.as,g.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(m)},Rn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=h(v,g.crossOrigin);s.d.L(m,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Rn.preloadModule=function(m,g){if(typeof m=="string")if(g){var v=h(g.as,g.crossOrigin);s.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(m)},Rn.requestFormReset=function(m){s.d.r(m)},Rn.unstable_batchedUpdates=function(m,g){return m(g)},Rn.useFormState=function(m,g,v){return d.H.useFormState(m,g,v)},Rn.useFormStatus=function(){return d.H.useHostTransitionStatus()},Rn.version="19.2.0",Rn}var Xy;function cb(){if(Xy)return cf.exports;Xy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),cf.exports=c2(),cf.exports}var Ky;function u2(){if(Ky)return So;Ky=1;var a=l2(),n=Th(),r=cb();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(c(e)!==e)throw Error(s(188))}function g(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(s(188));return t!==e?null:e}for(var i=e,o=t;;){var u=i.return;if(u===null)break;var f=u.alternate;if(f===null){if(o=u.return,o!==null){i=o;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===i)return m(u),e;if(f===o)return m(u),t;f=f.sibling}throw Error(s(188))}if(i.return!==o.return)i=u,o=f;else{for(var y=!1,w=u.child;w;){if(w===i){y=!0,i=u,o=f;break}if(w===o){y=!0,o=u,i=f;break}w=w.sibling}if(!y){for(w=f.child;w;){if(w===i){y=!0,i=f,o=u;break}if(w===o){y=!0,o=f,i=u;break}w=w.sibling}if(!y)throw Error(s(189))}}if(i.alternate!==o)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),B=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),ie=Symbol.for("react.activity"),pe=Symbol.for("react.memo_cache_sentinel"),Be=Symbol.iterator;function Ae(e){return e===null||typeof e!="object"?null:(e=Be&&e[Be]||e["@@iterator"],typeof e=="function"?e:null)}var Je=Symbol.for("react.client.reference");function rt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Je?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case W:return"Profiler";case q:return"StrictMode";case fe:return"Suspense";case be:return"SuspenseList";case ie:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case _:return"Portal";case B:return e.displayName||"Context";case K:return(e._context.displayName||"Context")+".Consumer";case Y:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case H:return t=e.displayName||null,t!==null?t:rt(e.type)||"Memo";case de:t=e._payload,e=e._init;try{return rt(e(t))}catch{}}return null}var We=Array.isArray,O=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},me=[],U=-1;function S(e){return{current:e}}function M(e){0>U||(e.current=me[U],me[U]=null,U--)}function j(e,t){U++,me[U]=e.current,e.current=t}var R=S(null),ce=S(null),ve=S(null),Oe=S(null);function Ge(e,t){switch(j(ve,t),j(ce,e),j(R,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?dy(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=dy(t),e=fy(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}M(R),j(R,e)}function He(){M(R),M(ce),M(ve)}function Ze(e){e.memoizedState!==null&&j(Oe,e);var t=R.current,i=fy(t,e.type);t!==i&&(j(ce,e),j(R,i))}function St(e){ce.current===e&&(M(R),M(ce)),Oe.current===e&&(M(Oe),go._currentValue=Q)}var _t,In;function dn(e){if(_t===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);_t=t&&t[1]||"",In=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_t+e+In}var Pt=!1;function qn(e,t){if(!e||Pt)return"";Pt=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(t){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(X){var G=X}Reflect.construct(e,[],re)}else{try{re.call()}catch(X){G=X}e.call(re.prototype)}}else{try{throw Error()}catch(X){G=X}(re=e())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(X){if(X&&G&&typeof X.stack=="string")return[X.stack,G.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],w=f[1];if(y&&w){var T=y.split(`
`),I=w.split(`
`);for(u=o=0;o<T.length&&!T[o].includes("DetermineComponentFrameRoot");)o++;for(;u<I.length&&!I[u].includes("DetermineComponentFrameRoot");)u++;if(o===T.length||u===I.length)for(o=T.length-1,u=I.length-1;1<=o&&0<=u&&T[o]!==I[u];)u--;for(;1<=o&&0<=u;o--,u--)if(T[o]!==I[u]){if(o!==1||u!==1)do if(o--,u--,0>u||T[o]!==I[u]){var te=`
`+T[o].replace(" at new "," at ");return e.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",e.displayName)),te}while(1<=o&&0<=u);break}}}finally{Pt=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?dn(i):""}function Ye(e,t){switch(e.tag){case 26:case 27:case 5:return dn(e.type);case 16:return dn("Lazy");case 13:return e.child!==t&&t!==null?dn("Suspense Fallback"):dn("Suspense");case 19:return dn("SuspenseList");case 0:case 15:return qn(e.type,!1);case 11:return qn(e.type.render,!1);case 1:return qn(e.type,!0);case 31:return dn("Activity");default:return""}}function F(e){try{var t="",i=null;do t+=Ye(e,i),i=e,e=e.return;while(e);return t}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var se=Object.prototype.hasOwnProperty,ee=a.unstable_scheduleCallback,_e=a.unstable_cancelCallback,Se=a.unstable_shouldYield,oe=a.unstable_requestPaint,C=a.unstable_now,L=a.unstable_getCurrentPriorityLevel,ue=a.unstable_ImmediatePriority,he=a.unstable_UserBlockingPriority,we=a.unstable_NormalPriority,Ne=a.unstable_LowPriority,Ve=a.unstable_IdlePriority,Xe=a.log,st=a.unstable_setDisableYieldValue,Ue=null,$e=null;function Me(e){if(typeof Xe=="function"&&st(e),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(Ue,e)}catch{}}var it=Math.clz32?Math.clz32:rn,yt=Math.log,$t=Math.LN2;function rn(e){return e>>>=0,e===0?32:31-(yt(e)/$t|0)|0}var ot=256,Dt=262144,Wt=4194304;function sn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function It(e,t,i){var o=e.pendingLanes;if(o===0)return 0;var u=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var w=o&134217727;return w!==0?(o=w&~f,o!==0?u=sn(o):(y&=w,y!==0?u=sn(y):i||(i=w&~e,i!==0&&(u=sn(i))))):(w=o&~f,w!==0?u=sn(w):y!==0?u=sn(y):i||(i=o&~e,i!==0&&(u=sn(i)))),u===0?0:t!==0&&t!==u&&(t&f)===0&&(f=u&-u,i=t&-t,f>=i||f===32&&(i&4194048)!==0)?t:u}function Jt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Fa(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pa(){var e=Wt;return Wt<<=1,(Wt&62914560)===0&&(Wt=4194304),e}function la(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Ma(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Jr(e,t,i,o,u,f){var y=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var w=e.entanglements,T=e.expirationTimes,I=e.hiddenUpdates;for(i=y&~i;0<i;){var te=31-it(i),re=1<<te;w[te]=0,T[te]=-1;var G=I[te];if(G!==null)for(I[te]=null,te=0;te<G.length;te++){var X=G[te];X!==null&&(X.lane&=-536870913)}i&=~re}o!==0&&ei(e,o,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~t))}function ei(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var o=31-it(t);e.entangledLanes|=t,e.entanglements[o]=e.entanglements[o]|1073741824|i&261930}function Zt(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var o=31-it(i),u=1<<o;u&t|e[o]&t&&(e[o]|=t),i&=~u}}function fn(e,t){var i=t&-t;return i=(i&42)!==0?1:Wn(i),(i&(e.suspendedLanes|t))!==0?0:i}function Wn(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function hn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ti(){var e=V.p;return e!==0?e:(e=window.event,e===void 0?32:zy(e.type))}function ni(e,t){var i=V.p;try{return V.p=e,t()}finally{V.p=i}}var N=Math.random().toString(36).slice(2),A="__reactFiber$"+N,J="__reactProps$"+N,le="__reactContainer$"+N,je="__reactEvents$"+N,xt="__reactListeners$"+N,Mn="__reactHandles$"+N,Re="__reactResources$"+N,Et="__reactMarker$"+N;function kt(e){delete e[A],delete e[J],delete e[je],delete e[xt],delete e[Mn]}function lt(e){var t=e[A];if(t)return t;for(var i=e.parentNode;i;){if(t=i[le]||i[A]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=by(e);e!==null;){if(i=e[A])return i;e=by(e)}return t}e=i,i=e.parentNode}return null}function yr(e){if(e=e[A]||e[le]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Za(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function P(e){var t=e[Re];return t||(t=e[Re]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ae(e){e[Et]=!0}var ge=new Set,Ee={};function ke(e,t){Ke(e,t),Ke(e+"Capture",t)}function Ke(e,t){for(Ee[e]=t,e=0;e<t.length;e++)ge.add(t[e])}var Gt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),on={},en={};function tn(e){return se.call(en,e)?!0:se.call(on,e)?!1:Gt.test(e)?en[e]=!0:(on[e]=!0,!1)}function Sn(e,t,i){if(tn(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var o=t.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function Mt(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function Yt(e,t,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+o)}}function kn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ra(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Xa(e,t,i){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var u=o.get,f=o.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(y){i=""+y,f.call(this,y)}}),Object.defineProperty(e,t,{enumerable:o.enumerable}),{getValue:function(){return i},setValue:function(y){i=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fo(e){if(!e._valueTracker){var t=Ra(e)?"checked":"value";e._valueTracker=Xa(e,t,""+e[t])}}function rp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),o="";return e&&(o=Ra(e)?e.checked?"true":"false":e.value),e=o,e!==i?(t.setValue(e),!0):!1}function Po(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Qw=/[\n"\\]/g;function ca(e){return e.replace(Qw,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Qc(e,t,i,o,u,f,y,w){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+kn(t)):e.value!==""+kn(t)&&(e.value=""+kn(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?Wc(e,y,kn(t)):i!=null?Wc(e,y,kn(i)):o!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+kn(w):e.removeAttribute("name")}function ip(e,t,i,o,u,f,y,w){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||t!=null)){Fo(e);return}i=i!=null?""+kn(i):"",t=t!=null?""+kn(t):i,w||t===e.value||(e.value=t),e.defaultValue=t}o=o??u,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=w?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Fo(e)}function Wc(e,t,i){t==="number"&&Po(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Oi(e,t,i,o){if(e=e.options,t){t={};for(var u=0;u<i.length;u++)t["$"+i[u]]=!0;for(i=0;i<e.length;i++)u=t.hasOwnProperty("$"+e[i].value),e[i].selected!==u&&(e[i].selected=u),u&&o&&(e[i].defaultSelected=!0)}else{for(i=""+kn(i),t=null,u=0;u<e.length;u++){if(e[u].value===i){e[u].selected=!0,o&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function sp(e,t,i){if(t!=null&&(t=""+kn(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+kn(i):""}function op(e,t,i,o){if(t==null){if(o!=null){if(i!=null)throw Error(s(92));if(We(o)){if(1<o.length)throw Error(s(93));o=o[0]}i=o}i==null&&(i=""),t=i}i=kn(t),e.defaultValue=i,o=e.textContent,o===i&&o!==""&&o!==null&&(e.value=o),Fo(e)}function ji(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Ww=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lp(e,t,i){var o=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":o?e.setProperty(t,i):typeof i!="number"||i===0||Ww.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function cp(e,t,i){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||t!=null&&t.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var u in t)o=t[u],t.hasOwnProperty(u)&&i[u]!==o&&lp(e,u,o)}else for(var f in t)t.hasOwnProperty(f)&&lp(e,f,t[f])}function Jc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),eS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zo(e){return eS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ka(){}var eu=null;function tu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ai=null,_i=null;function up(e){var t=yr(e);if(t&&(e=t.stateNode)){var i=e[J]||null;e:switch(e=t.stateNode,t.type){case"input":if(Qc(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+ca(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var o=i[t];if(o!==e&&o.form===e.form){var u=o[J]||null;if(!u)throw Error(s(90));Qc(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<i.length;t++)o=i[t],o.form===e.form&&rp(o)}break e;case"textarea":sp(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Oi(e,!!i.multiple,t,!1)}}}var nu=!1;function dp(e,t,i){if(nu)return e(t,i);nu=!0;try{var o=e(t);return o}finally{if(nu=!1,(Ai!==null||_i!==null)&&(zl(),Ai&&(t=Ai,e=_i,_i=Ai=null,up(t),e)))for(t=0;t<e.length;t++)up(e[t])}}function Ds(e,t){var i=e.stateNode;if(i===null)return null;var o=i[J]||null;if(o===null)return null;i=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,t,typeof i));return i}var Qa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),au=!1;if(Qa)try{var Ms={};Object.defineProperty(Ms,"passive",{get:function(){au=!0}}),window.addEventListener("test",Ms,Ms),window.removeEventListener("test",Ms,Ms)}catch{au=!1}var vr=null,ru=null,Xo=null;function fp(){if(Xo)return Xo;var e,t=ru,i=t.length,o,u="value"in vr?vr.value:vr.textContent,f=u.length;for(e=0;e<i&&t[e]===u[e];e++);var y=i-e;for(o=1;o<=y&&t[i-o]===u[f-o];o++);return Xo=u.slice(e,1<o?1-o:void 0)}function Ko(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qo(){return!0}function hp(){return!1}function Gn(e){function t(i,o,u,f,y){this._reactName=i,this._targetInst=u,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(i=e[w],this[w]=i?i(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Qo:hp,this.isPropagationStopped=hp,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Qo)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Qo)},persist:function(){},isPersistent:Qo}),t}var ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wo=Gn(ai),Rs=b({},ai,{view:0,detail:0}),tS=Gn(Rs),iu,su,zs,Jo=b({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==zs&&(zs&&e.type==="mousemove"?(iu=e.screenX-zs.screenX,su=e.screenY-zs.screenY):su=iu=0,zs=e),iu)},movementY:function(e){return"movementY"in e?e.movementY:su}}),pp=Gn(Jo),nS=b({},Jo,{dataTransfer:0}),aS=Gn(nS),rS=b({},Rs,{relatedTarget:0}),ou=Gn(rS),iS=b({},ai,{animationName:0,elapsedTime:0,pseudoElement:0}),sS=Gn(iS),oS=b({},ai,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lS=Gn(oS),cS=b({},ai,{data:0}),mp=Gn(cS),uS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fS[e])?!!t[e]:!1}function lu(){return hS}var pS=b({},Rs,{key:function(e){if(e.key){var t=uS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ko(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?dS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lu,charCode:function(e){return e.type==="keypress"?Ko(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ko(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mS=Gn(pS),gS=b({},Jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gp=Gn(gS),yS=b({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lu}),vS=Gn(yS),bS=b({},ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),wS=Gn(bS),SS=b({},Jo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xS=Gn(SS),ES=b({},ai,{newState:0,oldState:0}),kS=Gn(ES),CS=[9,13,27,32],cu=Qa&&"CompositionEvent"in window,Ls=null;Qa&&"documentMode"in document&&(Ls=document.documentMode);var TS=Qa&&"TextEvent"in window&&!Ls,yp=Qa&&(!cu||Ls&&8<Ls&&11>=Ls),vp=" ",bp=!1;function wp(e,t){switch(e){case"keyup":return CS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Di=!1;function NS(e,t){switch(e){case"compositionend":return Sp(t);case"keypress":return t.which!==32?null:(bp=!0,vp);case"textInput":return e=t.data,e===vp&&bp?null:e;default:return null}}function OS(e,t){if(Di)return e==="compositionend"||!cu&&wp(e,t)?(e=fp(),Xo=ru=vr=null,Di=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yp&&t.locale!=="ko"?null:t.data;default:return null}}var jS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jS[e.type]:t==="textarea"}function Ep(e,t,i,o){Ai?_i?_i.push(o):_i=[o]:Ai=o,t=Vl(t,"onChange"),0<t.length&&(i=new Wo("onChange","change",null,i,o),e.push({event:i,listeners:t}))}var Bs=null,Us=null;function AS(e){iy(e,0)}function el(e){var t=Za(e);if(rp(t))return e}function kp(e,t){if(e==="change")return t}var Cp=!1;if(Qa){var uu;if(Qa){var du="oninput"in document;if(!du){var Tp=document.createElement("div");Tp.setAttribute("oninput","return;"),du=typeof Tp.oninput=="function"}uu=du}else uu=!1;Cp=uu&&(!document.documentMode||9<document.documentMode)}function Np(){Bs&&(Bs.detachEvent("onpropertychange",Op),Us=Bs=null)}function Op(e){if(e.propertyName==="value"&&el(Us)){var t=[];Ep(t,Us,e,tu(e)),dp(AS,t)}}function _S(e,t,i){e==="focusin"?(Np(),Bs=t,Us=i,Bs.attachEvent("onpropertychange",Op)):e==="focusout"&&Np()}function DS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return el(Us)}function MS(e,t){if(e==="click")return el(t)}function RS(e,t){if(e==="input"||e==="change")return el(t)}function zS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jn=typeof Object.is=="function"?Object.is:zS;function $s(e,t){if(Jn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var u=i[o];if(!se.call(t,u)||!Jn(e[u],t[u]))return!1}return!0}function jp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ap(e,t){var i=jp(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=t&&o>=t)return{node:i,offset:t-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=jp(i)}}function _p(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_p(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Dp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Po(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Po(e.document)}return t}function fu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var LS=Qa&&"documentMode"in document&&11>=document.documentMode,Mi=null,hu=null,Is=null,pu=!1;function Mp(e,t,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;pu||Mi==null||Mi!==Po(o)||(o=Mi,"selectionStart"in o&&fu(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Is&&$s(Is,o)||(Is=o,o=Vl(hu,"onSelect"),0<o.length&&(t=new Wo("onSelect","select",null,t,i),e.push({event:t,listeners:o}),t.target=Mi)))}function ri(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Ri={animationend:ri("Animation","AnimationEnd"),animationiteration:ri("Animation","AnimationIteration"),animationstart:ri("Animation","AnimationStart"),transitionrun:ri("Transition","TransitionRun"),transitionstart:ri("Transition","TransitionStart"),transitioncancel:ri("Transition","TransitionCancel"),transitionend:ri("Transition","TransitionEnd")},mu={},Rp={};Qa&&(Rp=document.createElement("div").style,"AnimationEvent"in window||(delete Ri.animationend.animation,delete Ri.animationiteration.animation,delete Ri.animationstart.animation),"TransitionEvent"in window||delete Ri.transitionend.transition);function ii(e){if(mu[e])return mu[e];if(!Ri[e])return e;var t=Ri[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Rp)return mu[e]=t[i];return e}var zp=ii("animationend"),Lp=ii("animationiteration"),Bp=ii("animationstart"),BS=ii("transitionrun"),US=ii("transitionstart"),$S=ii("transitioncancel"),Up=ii("transitionend"),$p=new Map,gu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gu.push("scrollEnd");function Ea(e,t){$p.set(e,t),ke(t,[e])}var tl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ua=[],zi=0,yu=0;function nl(){for(var e=zi,t=yu=zi=0;t<e;){var i=ua[t];ua[t++]=null;var o=ua[t];ua[t++]=null;var u=ua[t];ua[t++]=null;var f=ua[t];if(ua[t++]=null,o!==null&&u!==null){var y=o.pending;y===null?u.next=u:(u.next=y.next,y.next=u),o.pending=u}f!==0&&Ip(i,u,f)}}function al(e,t,i,o){ua[zi++]=e,ua[zi++]=t,ua[zi++]=i,ua[zi++]=o,yu|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function vu(e,t,i,o){return al(e,t,i,o),rl(e)}function si(e,t){return al(e,null,null,t),rl(e)}function Ip(e,t,i){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i);for(var u=!1,f=e.return;f!==null;)f.childLanes|=i,o=f.alternate,o!==null&&(o.childLanes|=i),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&t!==null&&(u=31-it(i),e=f.hiddenUpdates,o=e[u],o===null?e[u]=[t]:o.push(t),t.lane=i|536870912),f):null}function rl(e){if(50<lo)throw lo=0,Nd=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Li={};function IS(e,t,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ea(e,t,i,o){return new IS(e,t,i,o)}function bu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wa(e,t){var i=e.alternate;return i===null?(i=ea(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Hp(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function il(e,t,i,o,u,f){var y=0;if(o=e,typeof e=="function")bu(e)&&(y=1);else if(typeof e=="string")y=Yx(e,i,R.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ie:return e=ea(31,i,t,u),e.elementType=ie,e.lanes=f,e;case Z:return oi(i.children,u,f,t);case q:y=8,u|=24;break;case W:return e=ea(12,i,t,u|2),e.elementType=W,e.lanes=f,e;case fe:return e=ea(13,i,t,u),e.elementType=fe,e.lanes=f,e;case be:return e=ea(19,i,t,u),e.elementType=be,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B:y=10;break e;case K:y=9;break e;case Y:y=11;break e;case H:y=14;break e;case de:y=16,o=null;break e}y=29,i=Error(s(130,e===null?"null":typeof e,"")),o=null}return t=ea(y,i,t,u),t.elementType=e,t.type=o,t.lanes=f,t}function oi(e,t,i,o){return e=ea(7,e,o,t),e.lanes=i,e}function wu(e,t,i){return e=ea(6,e,null,t),e.lanes=i,e}function Vp(e){var t=ea(18,null,null,0);return t.stateNode=e,t}function Su(e,t,i){return t=ea(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qp=new WeakMap;function da(e,t){if(typeof e=="object"&&e!==null){var i=qp.get(e);return i!==void 0?i:(t={value:e,source:t,stack:F(t)},qp.set(e,t),t)}return{value:e,source:t,stack:F(t)}}var Bi=[],Ui=0,sl=null,Hs=0,fa=[],ha=0,br=null,za=1,La="";function Ja(e,t){Bi[Ui++]=Hs,Bi[Ui++]=sl,sl=e,Hs=t}function Gp(e,t,i){fa[ha++]=za,fa[ha++]=La,fa[ha++]=br,br=e;var o=za;e=La;var u=32-it(o)-1;o&=~(1<<u),i+=1;var f=32-it(t)+u;if(30<f){var y=u-u%5;f=(o&(1<<y)-1).toString(32),o>>=y,u-=y,za=1<<32-it(t)+u|i<<u|o,La=f+e}else za=1<<f|i<<u|o,La=e}function xu(e){e.return!==null&&(Ja(e,1),Gp(e,1,0))}function Eu(e){for(;e===sl;)sl=Bi[--Ui],Bi[Ui]=null,Hs=Bi[--Ui],Bi[Ui]=null;for(;e===br;)br=fa[--ha],fa[ha]=null,La=fa[--ha],fa[ha]=null,za=fa[--ha],fa[ha]=null}function Yp(e,t){fa[ha++]=za,fa[ha++]=La,fa[ha++]=br,za=t.id,La=t.overflow,br=e}var Nn=null,Ht=null,mt=!1,wr=null,pa=!1,ku=Error(s(519));function Sr(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vs(da(t,e)),ku}function Fp(e){var t=e.stateNode,i=e.type,o=e.memoizedProps;switch(t[A]=e,t[J]=o,i){case"dialog":ut("cancel",t),ut("close",t);break;case"iframe":case"object":case"embed":ut("load",t);break;case"video":case"audio":for(i=0;i<uo.length;i++)ut(uo[i],t);break;case"source":ut("error",t);break;case"img":case"image":case"link":ut("error",t),ut("load",t);break;case"details":ut("toggle",t);break;case"input":ut("invalid",t),ip(t,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":ut("invalid",t);break;case"textarea":ut("invalid",t),op(t,o.value,o.defaultValue,o.children)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||o.suppressHydrationWarning===!0||cy(t.textContent,i)?(o.popover!=null&&(ut("beforetoggle",t),ut("toggle",t)),o.onScroll!=null&&ut("scroll",t),o.onScrollEnd!=null&&ut("scrollend",t),o.onClick!=null&&(t.onclick=Ka),t=!0):t=!1,t||Sr(e,!0)}function Pp(e){for(Nn=e.return;Nn;)switch(Nn.tag){case 5:case 31:case 13:pa=!1;return;case 27:case 3:pa=!0;return;default:Nn=Nn.return}}function $i(e){if(e!==Nn)return!1;if(!mt)return Pp(e),mt=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Vd(e.type,e.memoizedProps)),i=!i),i&&Ht&&Sr(e),Pp(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ht=vy(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ht=vy(e)}else t===27?(t=Ht,zr(e.type)?(e=Pd,Pd=null,Ht=e):Ht=t):Ht=Nn?ga(e.stateNode.nextSibling):null;return!0}function li(){Ht=Nn=null,mt=!1}function Cu(){var e=wr;return e!==null&&(Zn===null?Zn=e:Zn.push.apply(Zn,e),wr=null),e}function Vs(e){wr===null?wr=[e]:wr.push(e)}var Tu=S(null),ci=null,er=null;function xr(e,t,i){j(Tu,t._currentValue),t._currentValue=i}function tr(e){e._currentValue=Tu.current,M(Tu)}function Nu(e,t,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===i)break;e=e.return}}function Ou(e,t,i,o){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var y=u.child;f=f.firstContext;e:for(;f!==null;){var w=f;f=u;for(var T=0;T<t.length;T++)if(w.context===t[T]){f.lanes|=i,w=f.alternate,w!==null&&(w.lanes|=i),Nu(f.return,i,e),o||(y=null);break e}f=w.next}}else if(u.tag===18){if(y=u.return,y===null)throw Error(s(341));y.lanes|=i,f=y.alternate,f!==null&&(f.lanes|=i),Nu(y,i,e),y=null}else y=u.child;if(y!==null)y.return=u;else for(y=u;y!==null;){if(y===e){y=null;break}if(u=y.sibling,u!==null){u.return=y.return,y=u;break}y=y.return}u=y}}function Ii(e,t,i,o){e=null;for(var u=t,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var y=u.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var w=u.type;Jn(u.pendingProps.value,y.value)||(e!==null?e.push(w):e=[w])}}else if(u===Oe.current){if(y=u.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(go):e=[go])}u=u.return}e!==null&&Ou(t,e,i,o),t.flags|=262144}function ol(e){for(e=e.firstContext;e!==null;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ui(e){ci=e,er=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function On(e){return Zp(ci,e)}function ll(e,t){return ci===null&&ui(e),Zp(e,t)}function Zp(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},er===null){if(e===null)throw Error(s(308));er=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else er=er.next=t;return i}var HS=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,o){e.push(o)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},VS=a.unstable_scheduleCallback,qS=a.unstable_NormalPriority,pn={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ju(){return{controller:new HS,data:new Map,refCount:0}}function qs(e){e.refCount--,e.refCount===0&&VS(qS,function(){e.controller.abort()})}var Gs=null,Au=0,Hi=0,Vi=null;function GS(e,t){if(Gs===null){var i=Gs=[];Au=0,Hi=Md(),Vi={status:"pending",value:void 0,then:function(o){i.push(o)}}}return Au++,t.then(Xp,Xp),t}function Xp(){if(--Au===0&&Gs!==null){Vi!==null&&(Vi.status="fulfilled");var e=Gs;Gs=null,Hi=0,Vi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function YS(e,t){var i=[],o={status:"pending",value:null,reason:null,then:function(u){i.push(u)}};return e.then(function(){o.status="fulfilled",o.value=t;for(var u=0;u<i.length;u++)(0,i[u])(t)},function(u){for(o.status="rejected",o.reason=u,u=0;u<i.length;u++)(0,i[u])(void 0)}),o}var Kp=O.S;O.S=function(e,t){Mg=C(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&GS(e,t),Kp!==null&&Kp(e,t)};var di=S(null);function _u(){var e=di.current;return e!==null?e:Bt.pooledCache}function cl(e,t){t===null?j(di,di.current):j(di,t.pool)}function Qp(){var e=_u();return e===null?null:{parent:pn._currentValue,pool:e}}var qi=Error(s(460)),Du=Error(s(474)),ul=Error(s(542)),dl={then:function(){}};function Wp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Jp(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Ka,Ka),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,tm(e),e;default:if(typeof t.status=="string")t.then(Ka,Ka);else{if(e=Bt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(o){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=o}},function(o){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=o}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,tm(e),e}throw hi=t,qi}}function fi(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(hi=i,qi):i}}var hi=null;function em(){if(hi===null)throw Error(s(459));var e=hi;return hi=null,e}function tm(e){if(e===qi||e===ul)throw Error(s(483))}var Gi=null,Ys=0;function fl(e){var t=Ys;return Ys+=1,Gi===null&&(Gi=[]),Jp(Gi,e,t)}function Fs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function hl(e,t){throw t.$$typeof===x?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function nm(e){function t(z,D){if(e){var $=z.deletions;$===null?(z.deletions=[D],z.flags|=16):$.push(D)}}function i(z,D){if(!e)return null;for(;D!==null;)t(z,D),D=D.sibling;return null}function o(z){for(var D=new Map;z!==null;)z.key!==null?D.set(z.key,z):D.set(z.index,z),z=z.sibling;return D}function u(z,D){return z=Wa(z,D),z.index=0,z.sibling=null,z}function f(z,D,$){return z.index=$,e?($=z.alternate,$!==null?($=$.index,$<D?(z.flags|=67108866,D):$):(z.flags|=67108866,D)):(z.flags|=1048576,D)}function y(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function w(z,D,$,ne){return D===null||D.tag!==6?(D=wu($,z.mode,ne),D.return=z,D):(D=u(D,$),D.return=z,D)}function T(z,D,$,ne){var Ie=$.type;return Ie===Z?te(z,D,$.props.children,ne,$.key):D!==null&&(D.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===de&&fi(Ie)===D.type)?(D=u(D,$.props),Fs(D,$),D.return=z,D):(D=il($.type,$.key,$.props,null,z.mode,ne),Fs(D,$),D.return=z,D)}function I(z,D,$,ne){return D===null||D.tag!==4||D.stateNode.containerInfo!==$.containerInfo||D.stateNode.implementation!==$.implementation?(D=Su($,z.mode,ne),D.return=z,D):(D=u(D,$.children||[]),D.return=z,D)}function te(z,D,$,ne,Ie){return D===null||D.tag!==7?(D=oi($,z.mode,ne,Ie),D.return=z,D):(D=u(D,$),D.return=z,D)}function re(z,D,$){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=wu(""+D,z.mode,$),D.return=z,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case k:return $=il(D.type,D.key,D.props,null,z.mode,$),Fs($,D),$.return=z,$;case _:return D=Su(D,z.mode,$),D.return=z,D;case de:return D=fi(D),re(z,D,$)}if(We(D)||Ae(D))return D=oi(D,z.mode,$,null),D.return=z,D;if(typeof D.then=="function")return re(z,fl(D),$);if(D.$$typeof===B)return re(z,ll(z,D),$);hl(z,D)}return null}function G(z,D,$,ne){var Ie=D!==null?D.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return Ie!==null?null:w(z,D,""+$,ne);if(typeof $=="object"&&$!==null){switch($.$$typeof){case k:return $.key===Ie?T(z,D,$,ne):null;case _:return $.key===Ie?I(z,D,$,ne):null;case de:return $=fi($),G(z,D,$,ne)}if(We($)||Ae($))return Ie!==null?null:te(z,D,$,ne,null);if(typeof $.then=="function")return G(z,D,fl($),ne);if($.$$typeof===B)return G(z,D,ll(z,$),ne);hl(z,$)}return null}function X(z,D,$,ne,Ie){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return z=z.get($)||null,w(D,z,""+ne,Ie);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case k:return z=z.get(ne.key===null?$:ne.key)||null,T(D,z,ne,Ie);case _:return z=z.get(ne.key===null?$:ne.key)||null,I(D,z,ne,Ie);case de:return ne=fi(ne),X(z,D,$,ne,Ie)}if(We(ne)||Ae(ne))return z=z.get($)||null,te(D,z,ne,Ie,null);if(typeof ne.then=="function")return X(z,D,$,fl(ne),Ie);if(ne.$$typeof===B)return X(z,D,$,ll(D,ne),Ie);hl(D,ne)}return null}function De(z,D,$,ne){for(var Ie=null,bt=null,ze=D,tt=D=0,ft=null;ze!==null&&tt<$.length;tt++){ze.index>tt?(ft=ze,ze=null):ft=ze.sibling;var wt=G(z,ze,$[tt],ne);if(wt===null){ze===null&&(ze=ft);break}e&&ze&&wt.alternate===null&&t(z,ze),D=f(wt,D,tt),bt===null?Ie=wt:bt.sibling=wt,bt=wt,ze=ft}if(tt===$.length)return i(z,ze),mt&&Ja(z,tt),Ie;if(ze===null){for(;tt<$.length;tt++)ze=re(z,$[tt],ne),ze!==null&&(D=f(ze,D,tt),bt===null?Ie=ze:bt.sibling=ze,bt=ze);return mt&&Ja(z,tt),Ie}for(ze=o(ze);tt<$.length;tt++)ft=X(ze,z,tt,$[tt],ne),ft!==null&&(e&&ft.alternate!==null&&ze.delete(ft.key===null?tt:ft.key),D=f(ft,D,tt),bt===null?Ie=ft:bt.sibling=ft,bt=ft);return e&&ze.forEach(function(Ir){return t(z,Ir)}),mt&&Ja(z,tt),Ie}function qe(z,D,$,ne){if($==null)throw Error(s(151));for(var Ie=null,bt=null,ze=D,tt=D=0,ft=null,wt=$.next();ze!==null&&!wt.done;tt++,wt=$.next()){ze.index>tt?(ft=ze,ze=null):ft=ze.sibling;var Ir=G(z,ze,wt.value,ne);if(Ir===null){ze===null&&(ze=ft);break}e&&ze&&Ir.alternate===null&&t(z,ze),D=f(Ir,D,tt),bt===null?Ie=Ir:bt.sibling=Ir,bt=Ir,ze=ft}if(wt.done)return i(z,ze),mt&&Ja(z,tt),Ie;if(ze===null){for(;!wt.done;tt++,wt=$.next())wt=re(z,wt.value,ne),wt!==null&&(D=f(wt,D,tt),bt===null?Ie=wt:bt.sibling=wt,bt=wt);return mt&&Ja(z,tt),Ie}for(ze=o(ze);!wt.done;tt++,wt=$.next())wt=X(ze,z,tt,wt.value,ne),wt!==null&&(e&&wt.alternate!==null&&ze.delete(wt.key===null?tt:wt.key),D=f(wt,D,tt),bt===null?Ie=wt:bt.sibling=wt,bt=wt);return e&&ze.forEach(function(n2){return t(z,n2)}),mt&&Ja(z,tt),Ie}function Lt(z,D,$,ne){if(typeof $=="object"&&$!==null&&$.type===Z&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case k:e:{for(var Ie=$.key;D!==null;){if(D.key===Ie){if(Ie=$.type,Ie===Z){if(D.tag===7){i(z,D.sibling),ne=u(D,$.props.children),ne.return=z,z=ne;break e}}else if(D.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===de&&fi(Ie)===D.type){i(z,D.sibling),ne=u(D,$.props),Fs(ne,$),ne.return=z,z=ne;break e}i(z,D);break}else t(z,D);D=D.sibling}$.type===Z?(ne=oi($.props.children,z.mode,ne,$.key),ne.return=z,z=ne):(ne=il($.type,$.key,$.props,null,z.mode,ne),Fs(ne,$),ne.return=z,z=ne)}return y(z);case _:e:{for(Ie=$.key;D!==null;){if(D.key===Ie)if(D.tag===4&&D.stateNode.containerInfo===$.containerInfo&&D.stateNode.implementation===$.implementation){i(z,D.sibling),ne=u(D,$.children||[]),ne.return=z,z=ne;break e}else{i(z,D);break}else t(z,D);D=D.sibling}ne=Su($,z.mode,ne),ne.return=z,z=ne}return y(z);case de:return $=fi($),Lt(z,D,$,ne)}if(We($))return De(z,D,$,ne);if(Ae($)){if(Ie=Ae($),typeof Ie!="function")throw Error(s(150));return $=Ie.call($),qe(z,D,$,ne)}if(typeof $.then=="function")return Lt(z,D,fl($),ne);if($.$$typeof===B)return Lt(z,D,ll(z,$),ne);hl(z,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,D!==null&&D.tag===6?(i(z,D.sibling),ne=u(D,$),ne.return=z,z=ne):(i(z,D),ne=wu($,z.mode,ne),ne.return=z,z=ne),y(z)):i(z,D)}return function(z,D,$,ne){try{Ys=0;var Ie=Lt(z,D,$,ne);return Gi=null,Ie}catch(ze){if(ze===qi||ze===ul)throw ze;var bt=ea(29,ze,null,z.mode);return bt.lanes=ne,bt.return=z,bt}finally{}}}var pi=nm(!0),am=nm(!1),Er=!1;function Mu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ru(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function kr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Cr(e,t,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ct&2)!==0){var u=o.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),o.pending=t,t=rl(e),Ip(e,null,i),t}return al(e,o,t,i),rl(e)}function Ps(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,Zt(e,i)}}function zu(e,t){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var u=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var y={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?u=f=y:f=f.next=y,i=i.next}while(i!==null);f===null?u=f=t:f=f.next=t}else u=f=t;i={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Lu=!1;function Zs(){if(Lu){var e=Vi;if(e!==null)throw e}}function Xs(e,t,i,o){Lu=!1;var u=e.updateQueue;Er=!1;var f=u.firstBaseUpdate,y=u.lastBaseUpdate,w=u.shared.pending;if(w!==null){u.shared.pending=null;var T=w,I=T.next;T.next=null,y===null?f=I:y.next=I,y=T;var te=e.alternate;te!==null&&(te=te.updateQueue,w=te.lastBaseUpdate,w!==y&&(w===null?te.firstBaseUpdate=I:w.next=I,te.lastBaseUpdate=T))}if(f!==null){var re=u.baseState;y=0,te=I=T=null,w=f;do{var G=w.lane&-536870913,X=G!==w.lane;if(X?(dt&G)===G:(o&G)===G){G!==0&&G===Hi&&(Lu=!0),te!==null&&(te=te.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var De=e,qe=w;G=t;var Lt=i;switch(qe.tag){case 1:if(De=qe.payload,typeof De=="function"){re=De.call(Lt,re,G);break e}re=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=qe.payload,G=typeof De=="function"?De.call(Lt,re,G):De,G==null)break e;re=b({},re,G);break e;case 2:Er=!0}}G=w.callback,G!==null&&(e.flags|=64,X&&(e.flags|=8192),X=u.callbacks,X===null?u.callbacks=[G]:X.push(G))}else X={lane:G,tag:w.tag,payload:w.payload,callback:w.callback,next:null},te===null?(I=te=X,T=re):te=te.next=X,y|=G;if(w=w.next,w===null){if(w=u.shared.pending,w===null)break;X=w,w=X.next,X.next=null,u.lastBaseUpdate=X,u.shared.pending=null}}while(!0);te===null&&(T=re),u.baseState=T,u.firstBaseUpdate=I,u.lastBaseUpdate=te,f===null&&(u.shared.lanes=0),Ar|=y,e.lanes=y,e.memoizedState=re}}function rm(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function im(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)rm(i[e],t)}var Yi=S(null),pl=S(0);function sm(e,t){e=ur,j(pl,e),j(Yi,t),ur=e|t.baseLanes}function Bu(){j(pl,ur),j(Yi,Yi.current)}function Uu(){ur=pl.current,M(Yi),M(pl)}var ta=S(null),ma=null;function Tr(e){var t=e.alternate;j(ln,ln.current&1),j(ta,e),ma===null&&(t===null||Yi.current!==null||t.memoizedState!==null)&&(ma=e)}function $u(e){j(ln,ln.current),j(ta,e),ma===null&&(ma=e)}function om(e){e.tag===22?(j(ln,ln.current),j(ta,e),ma===null&&(ma=e)):Nr()}function Nr(){j(ln,ln.current),j(ta,ta.current)}function na(e){M(ta),ma===e&&(ma=null),M(ln)}var ln=S(0);function ml(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Yd(i)||Fd(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var nr=0,et=null,Rt=null,mn=null,gl=!1,Fi=!1,mi=!1,yl=0,Ks=0,Pi=null,FS=0;function nn(){throw Error(s(321))}function Iu(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Jn(e[i],t[i]))return!1;return!0}function Hu(e,t,i,o,u,f){return nr=f,et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=e===null||e.memoizedState===null?Gm:nd,mi=!1,f=i(o,u),mi=!1,Fi&&(f=cm(t,i,o,u)),lm(e),f}function lm(e){O.H=Js;var t=Rt!==null&&Rt.next!==null;if(nr=0,mn=Rt=et=null,gl=!1,Ks=0,Pi=null,t)throw Error(s(300));e===null||gn||(e=e.dependencies,e!==null&&ol(e)&&(gn=!0))}function cm(e,t,i,o){et=e;var u=0;do{if(Fi&&(Pi=null),Ks=0,Fi=!1,25<=u)throw Error(s(301));if(u+=1,mn=Rt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}O.H=Ym,f=t(i,o)}while(Fi);return f}function PS(){var e=O.H,t=e.useState()[0];return t=typeof t.then=="function"?Qs(t):t,e=e.useState()[0],(Rt!==null?Rt.memoizedState:null)!==e&&(et.flags|=1024),t}function Vu(){var e=yl!==0;return yl=0,e}function qu(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Gu(e){if(gl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}gl=!1}nr=0,mn=Rt=et=null,Fi=!1,Ks=yl=0,Pi=null}function Hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?et.memoizedState=mn=e:mn=mn.next=e,mn}function cn(){if(Rt===null){var e=et.alternate;e=e!==null?e.memoizedState:null}else e=Rt.next;var t=mn===null?et.memoizedState:mn.next;if(t!==null)mn=t,Rt=e;else{if(e===null)throw et.alternate===null?Error(s(467)):Error(s(310));Rt=e,e={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},mn===null?et.memoizedState=mn=e:mn=mn.next=e}return mn}function vl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qs(e){var t=Ks;return Ks+=1,Pi===null&&(Pi=[]),e=Jp(Pi,e,t),t=et,(mn===null?t.memoizedState:mn.next)===null&&(t=t.alternate,O.H=t===null||t.memoizedState===null?Gm:nd),e}function bl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Qs(e);if(e.$$typeof===B)return On(e)}throw Error(s(438,String(e)))}function Yu(e){var t=null,i=et.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var o=et.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(t={data:o.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=vl(),et.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),o=0;o<e;o++)i[o]=pe;return t.index++,i}function ar(e,t){return typeof t=="function"?t(e):t}function wl(e){var t=cn();return Fu(t,Rt,e)}function Fu(e,t,i){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=e.baseQueue,f=o.pending;if(f!==null){if(u!==null){var y=u.next;u.next=f.next,f.next=y}t.baseQueue=u=f,o.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{t=u.next;var w=y=null,T=null,I=t,te=!1;do{var re=I.lane&-536870913;if(re!==I.lane?(dt&re)===re:(nr&re)===re){var G=I.revertLane;if(G===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),re===Hi&&(te=!0);else if((nr&G)===G){I=I.next,G===Hi&&(te=!0);continue}else re={lane:0,revertLane:I.revertLane,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},T===null?(w=T=re,y=f):T=T.next=re,et.lanes|=G,Ar|=G;re=I.action,mi&&i(f,re),f=I.hasEagerState?I.eagerState:i(f,re)}else G={lane:re,revertLane:I.revertLane,gesture:I.gesture,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},T===null?(w=T=G,y=f):T=T.next=G,et.lanes|=re,Ar|=re;I=I.next}while(I!==null&&I!==t);if(T===null?y=f:T.next=w,!Jn(f,e.memoizedState)&&(gn=!0,te&&(i=Vi,i!==null)))throw i;e.memoizedState=f,e.baseState=y,e.baseQueue=T,o.lastRenderedState=f}return u===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Pu(e){var t=cn(),i=t.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var o=i.dispatch,u=i.pending,f=t.memoizedState;if(u!==null){i.pending=null;var y=u=u.next;do f=e(f,y.action),y=y.next;while(y!==u);Jn(f,t.memoizedState)||(gn=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),i.lastRenderedState=f}return[f,o]}function um(e,t,i){var o=et,u=cn(),f=mt;if(f){if(i===void 0)throw Error(s(407));i=i()}else i=t();var y=!Jn((Rt||u).memoizedState,i);if(y&&(u.memoizedState=i,gn=!0),u=u.queue,Ku(hm.bind(null,o,u,e),[e]),u.getSnapshot!==t||y||mn!==null&&mn.memoizedState.tag&1){if(o.flags|=2048,Zi(9,{destroy:void 0},fm.bind(null,o,u,i,t),null),Bt===null)throw Error(s(349));f||(nr&127)!==0||dm(o,t,i)}return i}function dm(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=et.updateQueue,t===null?(t=vl(),et.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function fm(e,t,i,o){t.value=i,t.getSnapshot=o,pm(t)&&mm(e)}function hm(e,t,i){return i(function(){pm(t)&&mm(e)})}function pm(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Jn(e,i)}catch{return!0}}function mm(e){var t=si(e,2);t!==null&&Xn(t,e,2)}function Zu(e){var t=Hn();if(typeof e=="function"){var i=e;if(e=i(),mi){Me(!0);try{i()}finally{Me(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:e},t}function gm(e,t,i,o){return e.baseState=i,Fu(e,Rt,typeof o=="function"?o:ar)}function ZS(e,t,i,o,u){if(El(e))throw Error(s(485));if(e=t.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};O.T!==null?i(!0):f.isTransition=!1,o(f),i=t.pending,i===null?(f.next=t.pending=f,ym(t,f)):(f.next=i.next,t.pending=i.next=f)}}function ym(e,t){var i=t.action,o=t.payload,u=e.state;if(t.isTransition){var f=O.T,y={};O.T=y;try{var w=i(u,o),T=O.S;T!==null&&T(y,w),vm(e,t,w)}catch(I){Xu(e,t,I)}finally{f!==null&&y.types!==null&&(f.types=y.types),O.T=f}}else try{f=i(u,o),vm(e,t,f)}catch(I){Xu(e,t,I)}}function vm(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){bm(e,t,o)},function(o){return Xu(e,t,o)}):bm(e,t,i)}function bm(e,t,i){t.status="fulfilled",t.value=i,wm(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,ym(e,i)))}function Xu(e,t,i){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do t.status="rejected",t.reason=i,wm(t),t=t.next;while(t!==o)}e.action=null}function wm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Sm(e,t){return t}function xm(e,t){if(mt){var i=Bt.formState;if(i!==null){e:{var o=et;if(mt){if(Ht){t:{for(var u=Ht,f=pa;u.nodeType!==8;){if(!f){u=null;break t}if(u=ga(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Ht=ga(u.nextSibling),o=u.data==="F!";break e}}Sr(o)}o=!1}o&&(t=i[0])}}return i=Hn(),i.memoizedState=i.baseState=t,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sm,lastRenderedState:t},i.queue=o,i=Hm.bind(null,et,o),o.dispatch=i,o=Zu(!1),f=td.bind(null,et,!1,o.queue),o=Hn(),u={state:t,dispatch:null,action:e,pending:null},o.queue=u,i=ZS.bind(null,et,u,f,i),u.dispatch=i,o.memoizedState=e,[t,i,!1]}function Em(e){var t=cn();return km(t,Rt,e)}function km(e,t,i){if(t=Fu(e,t,Sm)[0],e=wl(ar)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var o=Qs(t)}catch(y){throw y===qi?ul:y}else o=t;t=cn();var u=t.queue,f=u.dispatch;return i!==t.memoizedState&&(et.flags|=2048,Zi(9,{destroy:void 0},XS.bind(null,u,i),null)),[o,f,e]}function XS(e,t){e.action=t}function Cm(e){var t=cn(),i=Rt;if(i!==null)return km(t,i,e);cn(),t=t.memoizedState,i=cn();var o=i.queue.dispatch;return i.memoizedState=e,[t,o,!1]}function Zi(e,t,i,o){return e={tag:e,create:i,deps:o,inst:t,next:null},t=et.updateQueue,t===null&&(t=vl(),et.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,t.lastEffect=e),e}function Tm(){return cn().memoizedState}function Sl(e,t,i,o){var u=Hn();et.flags|=e,u.memoizedState=Zi(1|t,{destroy:void 0},i,o===void 0?null:o)}function xl(e,t,i,o){var u=cn();o=o===void 0?null:o;var f=u.memoizedState.inst;Rt!==null&&o!==null&&Iu(o,Rt.memoizedState.deps)?u.memoizedState=Zi(t,f,i,o):(et.flags|=e,u.memoizedState=Zi(1|t,f,i,o))}function Nm(e,t){Sl(8390656,8,e,t)}function Ku(e,t){xl(2048,8,e,t)}function KS(e){et.flags|=4;var t=et.updateQueue;if(t===null)t=vl(),et.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function Om(e){var t=cn().memoizedState;return KS({ref:t,nextImpl:e}),function(){if((Ct&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function jm(e,t){return xl(4,2,e,t)}function Am(e,t){return xl(4,4,e,t)}function _m(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Dm(e,t,i){i=i!=null?i.concat([e]):null,xl(4,4,_m.bind(null,t,e),i)}function Qu(){}function Mm(e,t){var i=cn();t=t===void 0?null:t;var o=i.memoizedState;return t!==null&&Iu(t,o[1])?o[0]:(i.memoizedState=[e,t],e)}function Rm(e,t){var i=cn();t=t===void 0?null:t;var o=i.memoizedState;if(t!==null&&Iu(t,o[1]))return o[0];if(o=e(),mi){Me(!0);try{e()}finally{Me(!1)}}return i.memoizedState=[o,t],o}function Wu(e,t,i){return i===void 0||(nr&1073741824)!==0&&(dt&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=zg(),et.lanes|=e,Ar|=e,i)}function zm(e,t,i,o){return Jn(i,t)?i:Yi.current!==null?(e=Wu(e,i,o),Jn(e,t)||(gn=!0),e):(nr&42)===0||(nr&1073741824)!==0&&(dt&261930)===0?(gn=!0,e.memoizedState=i):(e=zg(),et.lanes|=e,Ar|=e,t)}function Lm(e,t,i,o,u){var f=V.p;V.p=f!==0&&8>f?f:8;var y=O.T,w={};O.T=w,td(e,!1,t,i);try{var T=u(),I=O.S;if(I!==null&&I(w,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var te=YS(T,o);Ws(e,t,te,ia(e))}else Ws(e,t,o,ia(e))}catch(re){Ws(e,t,{then:function(){},status:"rejected",reason:re},ia())}finally{V.p=f,y!==null&&w.types!==null&&(y.types=w.types),O.T=y}}function QS(){}function Ju(e,t,i,o){if(e.tag!==5)throw Error(s(476));var u=Bm(e).queue;Lm(e,u,t,Q,i===null?QS:function(){return Um(e),i(o)})}function Bm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:Q},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ar,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Um(e){var t=Bm(e);t.next===null&&(t=e.alternate.memoizedState),Ws(e,t.next.queue,{},ia())}function ed(){return On(go)}function $m(){return cn().memoizedState}function Im(){return cn().memoizedState}function WS(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=ia();e=kr(i);var o=Cr(t,e,i);o!==null&&(Xn(o,t,i),Ps(o,t,i)),t={cache:ju()},e.payload=t;return}t=t.return}}function JS(e,t,i){var o=ia();i={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},El(e)?Vm(t,i):(i=vu(e,t,i,o),i!==null&&(Xn(i,e,o),qm(i,t,o)))}function Hm(e,t,i){var o=ia();Ws(e,t,i,o)}function Ws(e,t,i,o){var u={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(El(e))Vm(t,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var y=t.lastRenderedState,w=f(y,i);if(u.hasEagerState=!0,u.eagerState=w,Jn(w,y))return al(e,t,u,0),Bt===null&&nl(),!1}catch{}finally{}if(i=vu(e,t,u,o),i!==null)return Xn(i,e,o),qm(i,t,o),!0}return!1}function td(e,t,i,o){if(o={lane:2,revertLane:Md(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},El(e)){if(t)throw Error(s(479))}else t=vu(e,i,o,2),t!==null&&Xn(t,e,2)}function El(e){var t=e.alternate;return e===et||t!==null&&t===et}function Vm(e,t){Fi=gl=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function qm(e,t,i){if((i&4194048)!==0){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,Zt(e,i)}}var Js={readContext:On,use:bl,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useLayoutEffect:nn,useInsertionEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useSyncExternalStore:nn,useId:nn,useHostTransitionStatus:nn,useFormState:nn,useActionState:nn,useOptimistic:nn,useMemoCache:nn,useCacheRefresh:nn};Js.useEffectEvent=nn;var Gm={readContext:On,use:bl,useCallback:function(e,t){return Hn().memoizedState=[e,t===void 0?null:t],e},useContext:On,useEffect:Nm,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Sl(4194308,4,_m.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Sl(4194308,4,e,t)},useInsertionEffect:function(e,t){Sl(4,2,e,t)},useMemo:function(e,t){var i=Hn();t=t===void 0?null:t;var o=e();if(mi){Me(!0);try{e()}finally{Me(!1)}}return i.memoizedState=[o,t],o},useReducer:function(e,t,i){var o=Hn();if(i!==void 0){var u=i(t);if(mi){Me(!0);try{i(t)}finally{Me(!1)}}}else u=t;return o.memoizedState=o.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},o.queue=e,e=e.dispatch=JS.bind(null,et,e),[o.memoizedState,e]},useRef:function(e){var t=Hn();return e={current:e},t.memoizedState=e},useState:function(e){e=Zu(e);var t=e.queue,i=Hm.bind(null,et,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:Qu,useDeferredValue:function(e,t){var i=Hn();return Wu(i,e,t)},useTransition:function(){var e=Zu(!1);return e=Lm.bind(null,et,e.queue,!0,!1),Hn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var o=et,u=Hn();if(mt){if(i===void 0)throw Error(s(407));i=i()}else{if(i=t(),Bt===null)throw Error(s(349));(dt&127)!==0||dm(o,t,i)}u.memoizedState=i;var f={value:i,getSnapshot:t};return u.queue=f,Nm(hm.bind(null,o,f,e),[e]),o.flags|=2048,Zi(9,{destroy:void 0},fm.bind(null,o,f,i,t),null),i},useId:function(){var e=Hn(),t=Bt.identifierPrefix;if(mt){var i=La,o=za;i=(o&~(1<<32-it(o)-1)).toString(32)+i,t="_"+t+"R_"+i,i=yl++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=FS++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ed,useFormState:xm,useActionState:xm,useOptimistic:function(e){var t=Hn();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=td.bind(null,et,!0,i),i.dispatch=t,[e,t]},useMemoCache:Yu,useCacheRefresh:function(){return Hn().memoizedState=WS.bind(null,et)},useEffectEvent:function(e){var t=Hn(),i={impl:e};return t.memoizedState=i,function(){if((Ct&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}},nd={readContext:On,use:bl,useCallback:Mm,useContext:On,useEffect:Ku,useImperativeHandle:Dm,useInsertionEffect:jm,useLayoutEffect:Am,useMemo:Rm,useReducer:wl,useRef:Tm,useState:function(){return wl(ar)},useDebugValue:Qu,useDeferredValue:function(e,t){var i=cn();return zm(i,Rt.memoizedState,e,t)},useTransition:function(){var e=wl(ar)[0],t=cn().memoizedState;return[typeof e=="boolean"?e:Qs(e),t]},useSyncExternalStore:um,useId:$m,useHostTransitionStatus:ed,useFormState:Em,useActionState:Em,useOptimistic:function(e,t){var i=cn();return gm(i,Rt,e,t)},useMemoCache:Yu,useCacheRefresh:Im};nd.useEffectEvent=Om;var Ym={readContext:On,use:bl,useCallback:Mm,useContext:On,useEffect:Ku,useImperativeHandle:Dm,useInsertionEffect:jm,useLayoutEffect:Am,useMemo:Rm,useReducer:Pu,useRef:Tm,useState:function(){return Pu(ar)},useDebugValue:Qu,useDeferredValue:function(e,t){var i=cn();return Rt===null?Wu(i,e,t):zm(i,Rt.memoizedState,e,t)},useTransition:function(){var e=Pu(ar)[0],t=cn().memoizedState;return[typeof e=="boolean"?e:Qs(e),t]},useSyncExternalStore:um,useId:$m,useHostTransitionStatus:ed,useFormState:Cm,useActionState:Cm,useOptimistic:function(e,t){var i=cn();return Rt!==null?gm(i,Rt,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Yu,useCacheRefresh:Im};Ym.useEffectEvent=Om;function ad(e,t,i,o){t=e.memoizedState,i=i(o,t),i=i==null?t:b({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var rd={enqueueSetState:function(e,t,i){e=e._reactInternals;var o=ia(),u=kr(o);u.payload=t,i!=null&&(u.callback=i),t=Cr(e,u,o),t!==null&&(Xn(t,e,o),Ps(t,e,o))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var o=ia(),u=kr(o);u.tag=1,u.payload=t,i!=null&&(u.callback=i),t=Cr(e,u,o),t!==null&&(Xn(t,e,o),Ps(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=ia(),o=kr(i);o.tag=2,t!=null&&(o.callback=t),t=Cr(e,o,i),t!==null&&(Xn(t,e,i),Ps(t,e,i))}};function Fm(e,t,i,o,u,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):t.prototype&&t.prototype.isPureReactComponent?!$s(i,o)||!$s(u,f):!0}function Pm(e,t,i,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,o),t.state!==e&&rd.enqueueReplaceState(t,t.state,null)}function gi(e,t){var i=t;if("ref"in t){i={};for(var o in t)o!=="ref"&&(i[o]=t[o])}if(e=e.defaultProps){i===t&&(i=b({},i));for(var u in e)i[u]===void 0&&(i[u]=e[u])}return i}function Zm(e){tl(e)}function Xm(e){console.error(e)}function Km(e){tl(e)}function kl(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(o){setTimeout(function(){throw o})}}function Qm(e,t,i){try{var o=e.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function id(e,t,i){return i=kr(i),i.tag=3,i.payload={element:null},i.callback=function(){kl(e,t)},i}function Wm(e){return e=kr(e),e.tag=3,e}function Jm(e,t,i,o){var u=i.type.getDerivedStateFromError;if(typeof u=="function"){var f=o.value;e.payload=function(){return u(f)},e.callback=function(){Qm(t,i,o)}}var y=i.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Qm(t,i,o),typeof u!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})})}function ex(e,t,i,o,u){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(t=i.alternate,t!==null&&Ii(t,i,u,!0),i=ta.current,i!==null){switch(i.tag){case 31:case 13:return ma===null?Ll():i.alternate===null&&an===0&&(an=3),i.flags&=-257,i.flags|=65536,i.lanes=u,o===dl?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([o]):t.add(o),Ad(e,o,u)),!1;case 22:return i.flags|=65536,o===dl?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([o]):i.add(o)),Ad(e,o,u)),!1}throw Error(s(435,i.tag))}return Ad(e,o,u),Ll(),!1}if(mt)return t=ta.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,o!==ku&&(e=Error(s(422),{cause:o}),Vs(da(e,i)))):(o!==ku&&(t=Error(s(423),{cause:o}),Vs(da(t,i))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,o=da(o,i),u=id(e.stateNode,o,u),zu(e,u),an!==4&&(an=2)),!1;var f=Error(s(520),{cause:o});if(f=da(f,i),oo===null?oo=[f]:oo.push(f),an!==4&&(an=2),t===null)return!0;o=da(o,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=u&-u,i.lanes|=e,e=id(i.stateNode,o,e),zu(i,e),!1;case 1:if(t=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(_r===null||!_r.has(f))))return i.flags|=65536,u&=-u,i.lanes|=u,u=Wm(u),Jm(u,e,i,o),zu(i,u),!1}i=i.return}while(i!==null);return!1}var sd=Error(s(461)),gn=!1;function jn(e,t,i,o){t.child=e===null?am(t,null,i,o):pi(t,e.child,i,o)}function eg(e,t,i,o,u){i=i.render;var f=t.ref;if("ref"in o){var y={};for(var w in o)w!=="ref"&&(y[w]=o[w])}else y=o;return ui(t),o=Hu(e,t,i,y,f,u),w=Vu(),e!==null&&!gn?(qu(e,t,u),rr(e,t,u)):(mt&&w&&xu(t),t.flags|=1,jn(e,t,o,u),t.child)}function tg(e,t,i,o,u){if(e===null){var f=i.type;return typeof f=="function"&&!bu(f)&&f.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=f,ng(e,t,f,o,u)):(e=il(i.type,null,o,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!pd(e,u)){var y=f.memoizedProps;if(i=i.compare,i=i!==null?i:$s,i(y,o)&&e.ref===t.ref)return rr(e,t,u)}return t.flags|=1,e=Wa(f,o),e.ref=t.ref,e.return=t,t.child=e}function ng(e,t,i,o,u){if(e!==null){var f=e.memoizedProps;if($s(f,o)&&e.ref===t.ref)if(gn=!1,t.pendingProps=o=f,pd(e,u))(e.flags&131072)!==0&&(gn=!0);else return t.lanes=e.lanes,rr(e,t,u)}return od(e,t,i,o,u)}function ag(e,t,i,o){var u=o.children,f=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((t.flags&128)!==0){if(f=f!==null?f.baseLanes|i:i,e!==null){for(o=t.child=e.child,u=0;o!==null;)u=u|o.lanes|o.childLanes,o=o.sibling;o=u&~f}else o=0,t.child=null;return rg(e,t,f,i,o)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&cl(t,f!==null?f.cachePool:null),f!==null?sm(t,f):Bu(),om(t);else return o=t.lanes=536870912,rg(e,t,f!==null?f.baseLanes|i:i,i,o)}else f!==null?(cl(t,f.cachePool),sm(t,f),Nr(),t.memoizedState=null):(e!==null&&cl(t,null),Bu(),Nr());return jn(e,t,u,i),t.child}function eo(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function rg(e,t,i,o,u){var f=_u();return f=f===null?null:{parent:pn._currentValue,pool:f},t.memoizedState={baseLanes:i,cachePool:f},e!==null&&cl(t,null),Bu(),om(t),e!==null&&Ii(e,t,o,!0),t.childLanes=u,null}function Cl(e,t){return t=Nl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function ig(e,t,i){return pi(t,e.child,null,i),e=Cl(t,t.pendingProps),e.flags|=2,na(t),t.memoizedState=null,e}function tx(e,t,i){var o=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(mt){if(o.mode==="hidden")return e=Cl(t,o),t.lanes=536870912,eo(null,e);if($u(t),(e=Ht)?(e=yy(e,pa),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:br!==null?{id:za,overflow:La}:null,retryLane:536870912,hydrationErrors:null},i=Vp(e),i.return=t,t.child=i,Nn=t,Ht=null)):e=null,e===null)throw Sr(t);return t.lanes=536870912,null}return Cl(t,o)}var f=e.memoizedState;if(f!==null){var y=f.dehydrated;if($u(t),u)if(t.flags&256)t.flags&=-257,t=ig(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(gn||Ii(e,t,i,!1),u=(i&e.childLanes)!==0,gn||u){if(o=Bt,o!==null&&(y=fn(o,i),y!==0&&y!==f.retryLane))throw f.retryLane=y,si(e,y),Xn(o,e,y),sd;Ll(),t=ig(e,t,i)}else e=f.treeContext,Ht=ga(y.nextSibling),Nn=t,mt=!0,wr=null,pa=!1,e!==null&&Yp(t,e),t=Cl(t,o),t.flags|=4096;return t}return e=Wa(e.child,{mode:o.mode,children:o.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Tl(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function od(e,t,i,o,u){return ui(t),i=Hu(e,t,i,o,void 0,u),o=Vu(),e!==null&&!gn?(qu(e,t,u),rr(e,t,u)):(mt&&o&&xu(t),t.flags|=1,jn(e,t,i,u),t.child)}function sg(e,t,i,o,u,f){return ui(t),t.updateQueue=null,i=cm(t,o,i,u),lm(e),o=Vu(),e!==null&&!gn?(qu(e,t,f),rr(e,t,f)):(mt&&o&&xu(t),t.flags|=1,jn(e,t,i,f),t.child)}function og(e,t,i,o,u){if(ui(t),t.stateNode===null){var f=Li,y=i.contextType;typeof y=="object"&&y!==null&&(f=On(y)),f=new i(o,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=rd,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=o,f.state=t.memoizedState,f.refs={},Mu(t),y=i.contextType,f.context=typeof y=="object"&&y!==null?On(y):Li,f.state=t.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(ad(t,i,y,o),f.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&rd.enqueueReplaceState(f,f.state,null),Xs(t,o,f,u),Zs(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),o=!0}else if(e===null){f=t.stateNode;var w=t.memoizedProps,T=gi(i,w);f.props=T;var I=f.context,te=i.contextType;y=Li,typeof te=="object"&&te!==null&&(y=On(te));var re=i.getDerivedStateFromProps;te=typeof re=="function"||typeof f.getSnapshotBeforeUpdate=="function",w=t.pendingProps!==w,te||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w||I!==y)&&Pm(t,f,o,y),Er=!1;var G=t.memoizedState;f.state=G,Xs(t,o,f,u),Zs(),I=t.memoizedState,w||G!==I||Er?(typeof re=="function"&&(ad(t,i,re,o),I=t.memoizedState),(T=Er||Fm(t,i,T,o,G,I,y))?(te||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=I),f.props=o,f.state=I,f.context=y,o=T):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{f=t.stateNode,Ru(e,t),y=t.memoizedProps,te=gi(i,y),f.props=te,re=t.pendingProps,G=f.context,I=i.contextType,T=Li,typeof I=="object"&&I!==null&&(T=On(I)),w=i.getDerivedStateFromProps,(I=typeof w=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==re||G!==T)&&Pm(t,f,o,T),Er=!1,G=t.memoizedState,f.state=G,Xs(t,o,f,u),Zs();var X=t.memoizedState;y!==re||G!==X||Er||e!==null&&e.dependencies!==null&&ol(e.dependencies)?(typeof w=="function"&&(ad(t,i,w,o),X=t.memoizedState),(te=Er||Fm(t,i,te,o,G,X,T)||e!==null&&e.dependencies!==null&&ol(e.dependencies))?(I||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,X,T),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,X,T)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&G===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&G===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=X),f.props=o,f.state=X,f.context=T,o=te):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&G===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&G===e.memoizedState||(t.flags|=1024),o=!1)}return f=o,Tl(e,t),o=(t.flags&128)!==0,f||o?(f=t.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&o?(t.child=pi(t,e.child,null,u),t.child=pi(t,null,i,u)):jn(e,t,i,u),t.memoizedState=f.state,e=t.child):e=rr(e,t,u),e}function lg(e,t,i,o){return li(),t.flags|=256,jn(e,t,i,o),t.child}var ld={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cd(e){return{baseLanes:e,cachePool:Qp()}}function ud(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=ra),e}function cg(e,t,i){var o=t.pendingProps,u=!1,f=(t.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(ln.current&2)!==0),y&&(u=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(mt){if(u?Tr(t):Nr(),(e=Ht)?(e=yy(e,pa),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:br!==null?{id:za,overflow:La}:null,retryLane:536870912,hydrationErrors:null},i=Vp(e),i.return=t,t.child=i,Nn=t,Ht=null)):e=null,e===null)throw Sr(t);return Fd(e)?t.lanes=32:t.lanes=536870912,null}var w=o.children;return o=o.fallback,u?(Nr(),u=t.mode,w=Nl({mode:"hidden",children:w},u),o=oi(o,u,i,null),w.return=t,o.return=t,w.sibling=o,t.child=w,o=t.child,o.memoizedState=cd(i),o.childLanes=ud(e,y,i),t.memoizedState=ld,eo(null,o)):(Tr(t),dd(t,w))}var T=e.memoizedState;if(T!==null&&(w=T.dehydrated,w!==null)){if(f)t.flags&256?(Tr(t),t.flags&=-257,t=fd(e,t,i)):t.memoizedState!==null?(Nr(),t.child=e.child,t.flags|=128,t=null):(Nr(),w=o.fallback,u=t.mode,o=Nl({mode:"visible",children:o.children},u),w=oi(w,u,i,null),w.flags|=2,o.return=t,w.return=t,o.sibling=w,t.child=o,pi(t,e.child,null,i),o=t.child,o.memoizedState=cd(i),o.childLanes=ud(e,y,i),t.memoizedState=ld,t=eo(null,o));else if(Tr(t),Fd(w)){if(y=w.nextSibling&&w.nextSibling.dataset,y)var I=y.dgst;y=I,o=Error(s(419)),o.stack="",o.digest=y,Vs({value:o,source:null,stack:null}),t=fd(e,t,i)}else if(gn||Ii(e,t,i,!1),y=(i&e.childLanes)!==0,gn||y){if(y=Bt,y!==null&&(o=fn(y,i),o!==0&&o!==T.retryLane))throw T.retryLane=o,si(e,o),Xn(y,e,o),sd;Yd(w)||Ll(),t=fd(e,t,i)}else Yd(w)?(t.flags|=192,t.child=e.child,t=null):(e=T.treeContext,Ht=ga(w.nextSibling),Nn=t,mt=!0,wr=null,pa=!1,e!==null&&Yp(t,e),t=dd(t,o.children),t.flags|=4096);return t}return u?(Nr(),w=o.fallback,u=t.mode,T=e.child,I=T.sibling,o=Wa(T,{mode:"hidden",children:o.children}),o.subtreeFlags=T.subtreeFlags&65011712,I!==null?w=Wa(I,w):(w=oi(w,u,i,null),w.flags|=2),w.return=t,o.return=t,o.sibling=w,t.child=o,eo(null,o),o=t.child,w=e.child.memoizedState,w===null?w=cd(i):(u=w.cachePool,u!==null?(T=pn._currentValue,u=u.parent!==T?{parent:T,pool:T}:u):u=Qp(),w={baseLanes:w.baseLanes|i,cachePool:u}),o.memoizedState=w,o.childLanes=ud(e,y,i),t.memoizedState=ld,eo(e.child,o)):(Tr(t),i=e.child,e=i.sibling,i=Wa(i,{mode:"visible",children:o.children}),i.return=t,i.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=i,t.memoizedState=null,i)}function dd(e,t){return t=Nl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Nl(e,t){return e=ea(22,e,null,t),e.lanes=0,e}function fd(e,t,i){return pi(t,e.child,null,i),e=dd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ug(e,t,i){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Nu(e.return,t,i)}function hd(e,t,i,o,u,f){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:u,treeForkCount:f}:(y.isBackwards=t,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=i,y.tailMode=u,y.treeForkCount=f)}function dg(e,t,i){var o=t.pendingProps,u=o.revealOrder,f=o.tail;o=o.children;var y=ln.current,w=(y&2)!==0;if(w?(y=y&1|2,t.flags|=128):y&=1,j(ln,y),jn(e,t,o,i),o=mt?Hs:0,!w&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ug(e,i,t);else if(e.tag===19)ug(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(i=t.child,u=null;i!==null;)e=i.alternate,e!==null&&ml(e)===null&&(u=i),i=i.sibling;i=u,i===null?(u=t.child,t.child=null):(u=i.sibling,i.sibling=null),hd(t,!1,u,i,f,o);break;case"backwards":case"unstable_legacy-backwards":for(i=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&ml(e)===null){t.child=u;break}e=u.sibling,u.sibling=i,i=u,u=e}hd(t,!0,i,null,f,o);break;case"together":hd(t,!1,null,null,void 0,o);break;default:t.memoizedState=null}return t.child}function rr(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Ar|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(Ii(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,i=Wa(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Wa(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function pd(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ol(e)))}function nx(e,t,i){switch(t.tag){case 3:Ge(t,t.stateNode.containerInfo),xr(t,pn,e.memoizedState.cache),li();break;case 27:case 5:Ze(t);break;case 4:Ge(t,t.stateNode.containerInfo);break;case 10:xr(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,$u(t),null;break;case 13:var o=t.memoizedState;if(o!==null)return o.dehydrated!==null?(Tr(t),t.flags|=128,null):(i&t.child.childLanes)!==0?cg(e,t,i):(Tr(t),e=rr(e,t,i),e!==null?e.sibling:null);Tr(t);break;case 19:var u=(e.flags&128)!==0;if(o=(i&t.childLanes)!==0,o||(Ii(e,t,i,!1),o=(i&t.childLanes)!==0),u){if(o)return dg(e,t,i);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),j(ln,ln.current),o)break;return null;case 22:return t.lanes=0,ag(e,t,i,t.pendingProps);case 24:xr(t,pn,e.memoizedState.cache)}return rr(e,t,i)}function fg(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)gn=!0;else{if(!pd(e,i)&&(t.flags&128)===0)return gn=!1,nx(e,t,i);gn=(e.flags&131072)!==0}else gn=!1,mt&&(t.flags&1048576)!==0&&Gp(t,Hs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var o=t.pendingProps;if(e=fi(t.elementType),t.type=e,typeof e=="function")bu(e)?(o=gi(e,o),t.tag=1,t=og(null,t,e,o,i)):(t.tag=0,t=od(null,t,e,o,i));else{if(e!=null){var u=e.$$typeof;if(u===Y){t.tag=11,t=eg(null,t,e,o,i);break e}else if(u===H){t.tag=14,t=tg(null,t,e,o,i);break e}}throw t=rt(e)||e,Error(s(306,t,""))}}return t;case 0:return od(e,t,t.type,t.pendingProps,i);case 1:return o=t.type,u=gi(o,t.pendingProps),og(e,t,o,u,i);case 3:e:{if(Ge(t,t.stateNode.containerInfo),e===null)throw Error(s(387));o=t.pendingProps;var f=t.memoizedState;u=f.element,Ru(e,t),Xs(t,o,null,i);var y=t.memoizedState;if(o=y.cache,xr(t,pn,o),o!==f.cache&&Ou(t,[pn],i,!0),Zs(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=lg(e,t,o,i);break e}else if(o!==u){u=da(Error(s(424)),t),Vs(u),t=lg(e,t,o,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ht=ga(e.firstChild),Nn=t,mt=!0,wr=null,pa=!0,i=am(t,null,o,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(li(),o===u){t=rr(e,t,i);break e}jn(e,t,o,i)}t=t.child}return t;case 26:return Tl(e,t),e===null?(i=Ey(t.type,null,t.pendingProps,null))?t.memoizedState=i:mt||(i=t.type,e=t.pendingProps,o=ql(ve.current).createElement(i),o[A]=t,o[J]=e,An(o,i,e),ae(o),t.stateNode=o):t.memoizedState=Ey(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ze(t),e===null&&mt&&(o=t.stateNode=wy(t.type,t.pendingProps,ve.current),Nn=t,pa=!0,u=Ht,zr(t.type)?(Pd=u,Ht=ga(o.firstChild)):Ht=u),jn(e,t,t.pendingProps.children,i),Tl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&mt&&((u=o=Ht)&&(o=Dx(o,t.type,t.pendingProps,pa),o!==null?(t.stateNode=o,Nn=t,Ht=ga(o.firstChild),pa=!1,u=!0):u=!1),u||Sr(t)),Ze(t),u=t.type,f=t.pendingProps,y=e!==null?e.memoizedProps:null,o=f.children,Vd(u,f)?o=null:y!==null&&Vd(u,y)&&(t.flags|=32),t.memoizedState!==null&&(u=Hu(e,t,PS,null,null,i),go._currentValue=u),Tl(e,t),jn(e,t,o,i),t.child;case 6:return e===null&&mt&&((e=i=Ht)&&(i=Mx(i,t.pendingProps,pa),i!==null?(t.stateNode=i,Nn=t,Ht=null,e=!0):e=!1),e||Sr(t)),null;case 13:return cg(e,t,i);case 4:return Ge(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=pi(t,null,o,i):jn(e,t,o,i),t.child;case 11:return eg(e,t,t.type,t.pendingProps,i);case 7:return jn(e,t,t.pendingProps,i),t.child;case 8:return jn(e,t,t.pendingProps.children,i),t.child;case 12:return jn(e,t,t.pendingProps.children,i),t.child;case 10:return o=t.pendingProps,xr(t,t.type,o.value),jn(e,t,o.children,i),t.child;case 9:return u=t.type._context,o=t.pendingProps.children,ui(t),u=On(u),o=o(u),t.flags|=1,jn(e,t,o,i),t.child;case 14:return tg(e,t,t.type,t.pendingProps,i);case 15:return ng(e,t,t.type,t.pendingProps,i);case 19:return dg(e,t,i);case 31:return tx(e,t,i);case 22:return ag(e,t,i,t.pendingProps);case 24:return ui(t),o=On(pn),e===null?(u=_u(),u===null&&(u=Bt,f=ju(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=i),u=f),t.memoizedState={parent:o,cache:u},Mu(t),xr(t,pn,u)):((e.lanes&i)!==0&&(Ru(e,t),Xs(t,null,null,i),Zs()),u=e.memoizedState,f=t.memoizedState,u.parent!==o?(u={parent:o,cache:o},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),xr(t,pn,o)):(o=f.cache,xr(t,pn,o),o!==u.cache&&Ou(t,[pn],i,!0))),jn(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function ir(e){e.flags|=4}function md(e,t,i,o,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if($g())e.flags|=8192;else throw hi=dl,Du}else e.flags&=-16777217}function hg(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Oy(t))if($g())e.flags|=8192;else throw hi=dl,Du}function Ol(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Pa():536870912,e.lanes|=t,Wi|=t)}function to(e,t){if(!mt)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(t)for(var u=e.child;u!==null;)i|=u.lanes|u.childLanes,o|=u.subtreeFlags&65011712,o|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)i|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=o,e.childLanes=i,t}function ax(e,t,i){var o=t.pendingProps;switch(Eu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(t),null;case 1:return Vt(t),null;case 3:return i=t.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),t.memoizedState.cache!==o&&(t.flags|=2048),tr(pn),He(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&($i(t)?ir(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Cu())),Vt(t),null;case 26:var u=t.type,f=t.memoizedState;return e===null?(ir(t),f!==null?(Vt(t),hg(t,f)):(Vt(t),md(t,u,null,o,i))):f?f!==e.memoizedState?(ir(t),Vt(t),hg(t,f)):(Vt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==o&&ir(t),Vt(t),md(t,u,e,o,i)),null;case 27:if(St(t),i=ve.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==o&&ir(t);else{if(!o){if(t.stateNode===null)throw Error(s(166));return Vt(t),null}e=R.current,$i(t)?Fp(t):(e=wy(u,o,i),t.stateNode=e,ir(t))}return Vt(t),null;case 5:if(St(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==o&&ir(t);else{if(!o){if(t.stateNode===null)throw Error(s(166));return Vt(t),null}if(f=R.current,$i(t))Fp(t);else{var y=ql(ve.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(u,{is:o.is}):y.createElement(u)}}f[A]=t,f[J]=o;e:for(y=t.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}t.stateNode=f;e:switch(An(f,u,o),u){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&ir(t)}}return Vt(t),md(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==o&&ir(t);else{if(typeof o!="string"&&t.stateNode===null)throw Error(s(166));if(e=ve.current,$i(t)){if(e=t.stateNode,i=t.memoizedProps,o=null,u=Nn,u!==null)switch(u.tag){case 27:case 5:o=u.memoizedProps}e[A]=t,e=!!(e.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||cy(e.nodeValue,i)),e||Sr(t,!0)}else e=ql(e).createTextNode(o),e[A]=t,t.stateNode=e}return Vt(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(o=$i(t),i!==null){if(e===null){if(!o)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[A]=t}else li(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Vt(t),e=!1}else i=Cu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(na(t),t):(na(t),null);if((t.flags&128)!==0)throw Error(s(558))}return Vt(t),null;case 13:if(o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=$i(t),o!==null&&o.dehydrated!==null){if(e===null){if(!u)throw Error(s(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(s(317));u[A]=t}else li(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Vt(t),u=!1}else u=Cu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(na(t),t):(na(t),null)}return na(t),(t.flags&128)!==0?(t.lanes=i,t):(i=o!==null,e=e!==null&&e.memoizedState!==null,i&&(o=t.child,u=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(u=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),Ol(t,t.updateQueue),Vt(t),null);case 4:return He(),e===null&&Bd(t.stateNode.containerInfo),Vt(t),null;case 10:return tr(t.type),Vt(t),null;case 19:if(M(ln),o=t.memoizedState,o===null)return Vt(t),null;if(u=(t.flags&128)!==0,f=o.rendering,f===null)if(u)to(o,!1);else{if(an!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=ml(e),f!==null){for(t.flags|=128,to(o,!1),e=f.updateQueue,t.updateQueue=e,Ol(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Hp(i,e),i=i.sibling;return j(ln,ln.current&1|2),mt&&Ja(t,o.treeForkCount),t.child}e=e.sibling}o.tail!==null&&C()>Ml&&(t.flags|=128,u=!0,to(o,!1),t.lanes=4194304)}else{if(!u)if(e=ml(f),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Ol(t,e),to(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!mt)return Vt(t),null}else 2*C()-o.renderingStartTime>Ml&&i!==536870912&&(t.flags|=128,u=!0,to(o,!1),t.lanes=4194304);o.isBackwards?(f.sibling=t.child,t.child=f):(e=o.last,e!==null?e.sibling=f:t.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=C(),e.sibling=null,i=ln.current,j(ln,u?i&1|2:i&1),mt&&Ja(t,o.treeForkCount),e):(Vt(t),null);case 22:case 23:return na(t),Uu(),o=t.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(t.flags|=8192):o&&(t.flags|=8192),o?(i&536870912)!==0&&(t.flags&128)===0&&(Vt(t),t.subtreeFlags&6&&(t.flags|=8192)):Vt(t),i=t.updateQueue,i!==null&&Ol(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),o=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),o!==i&&(t.flags|=2048),e!==null&&M(di),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),tr(pn),Vt(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function rx(e,t){switch(Eu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return tr(pn),He(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return St(t),null;case 31:if(t.memoizedState!==null){if(na(t),t.alternate===null)throw Error(s(340));li()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(na(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));li()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return M(ln),null;case 4:return He(),null;case 10:return tr(t.type),null;case 22:case 23:return na(t),Uu(),e!==null&&M(di),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return tr(pn),null;case 25:return null;default:return null}}function pg(e,t){switch(Eu(t),t.tag){case 3:tr(pn),He();break;case 26:case 27:case 5:St(t);break;case 4:He();break;case 31:t.memoizedState!==null&&na(t);break;case 13:na(t);break;case 19:M(ln);break;case 10:tr(t.type);break;case 22:case 23:na(t),Uu(),e!==null&&M(di);break;case 24:tr(pn)}}function no(e,t){try{var i=t.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var u=o.next;i=u;do{if((i.tag&e)===e){o=void 0;var f=i.create,y=i.inst;o=f(),y.destroy=o}i=i.next}while(i!==u)}}catch(w){At(t,t.return,w)}}function Or(e,t,i){try{var o=t.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&e)===e){var y=o.inst,w=y.destroy;if(w!==void 0){y.destroy=void 0,u=t;var T=i,I=w;try{I()}catch(te){At(u,T,te)}}}o=o.next}while(o!==f)}}catch(te){At(t,t.return,te)}}function mg(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{im(t,i)}catch(o){At(e,e.return,o)}}}function gg(e,t,i){i.props=gi(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(o){At(e,t,o)}}function ao(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof i=="function"?e.refCleanup=i(o):i.current=o}}catch(u){At(e,t,u)}}function Ba(e,t){var i=e.ref,o=e.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(u){At(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(u){At(e,t,u)}else i.current=null}function yg(e){var t=e.type,i=e.memoizedProps,o=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break e;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(u){At(e,e.return,u)}}function gd(e,t,i){try{var o=e.stateNode;Tx(o,e.type,i,t),o[J]=t}catch(u){At(e,e.return,u)}}function vg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&zr(e.type)||e.tag===4}function yd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&zr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vd(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Ka));else if(o!==4&&(o===27&&zr(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(vd(e,t,i),e=e.sibling;e!==null;)vd(e,t,i),e=e.sibling}function jl(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(o!==4&&(o===27&&zr(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(jl(e,t,i),e=e.sibling;e!==null;)jl(e,t,i),e=e.sibling}function bg(e){var t=e.stateNode,i=e.memoizedProps;try{for(var o=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);An(t,o,i),t[A]=e,t[J]=i}catch(f){At(e,e.return,f)}}var sr=!1,yn=!1,bd=!1,wg=typeof WeakSet=="function"?WeakSet:Set,Cn=null;function ix(e,t){if(e=e.containerInfo,Id=Kl,e=Dp(e),fu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var u=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var y=0,w=-1,T=-1,I=0,te=0,re=e,G=null;t:for(;;){for(var X;re!==i||u!==0&&re.nodeType!==3||(w=y+u),re!==f||o!==0&&re.nodeType!==3||(T=y+o),re.nodeType===3&&(y+=re.nodeValue.length),(X=re.firstChild)!==null;)G=re,re=X;for(;;){if(re===e)break t;if(G===i&&++I===u&&(w=y),G===f&&++te===o&&(T=y),(X=re.nextSibling)!==null)break;re=G,G=re.parentNode}re=X}i=w===-1||T===-1?null:{start:w,end:T}}else i=null}i=i||{start:0,end:0}}else i=null;for(Hd={focusedElem:e,selectionRange:i},Kl=!1,Cn=t;Cn!==null;)if(t=Cn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Cn=e;else for(;Cn!==null;){switch(t=Cn,f=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)u=e[i],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,i=t,u=f.memoizedProps,f=f.memoizedState,o=i.stateNode;try{var De=gi(i.type,u);e=o.getSnapshotBeforeUpdate(De,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(qe){At(i,i.return,qe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Gd(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Gd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,Cn=e;break}Cn=t.return}}function Sg(e,t,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:lr(e,i),o&4&&no(5,i);break;case 1:if(lr(e,i),o&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(y){At(i,i.return,y)}else{var u=gi(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){At(i,i.return,y)}}o&64&&mg(i),o&512&&ao(i,i.return);break;case 3:if(lr(e,i),o&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{im(e,t)}catch(y){At(i,i.return,y)}}break;case 27:t===null&&o&4&&bg(i);case 26:case 5:lr(e,i),t===null&&o&4&&yg(i),o&512&&ao(i,i.return);break;case 12:lr(e,i);break;case 31:lr(e,i),o&4&&kg(e,i);break;case 13:lr(e,i),o&4&&Cg(e,i),o&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=px.bind(null,i),Rx(e,i))));break;case 22:if(o=i.memoizedState!==null||sr,!o){t=t!==null&&t.memoizedState!==null||yn,u=sr;var f=yn;sr=o,(yn=t)&&!f?cr(e,i,(i.subtreeFlags&8772)!==0):lr(e,i),sr=u,yn=f}break;case 30:break;default:lr(e,i)}}function xg(e){var t=e.alternate;t!==null&&(e.alternate=null,xg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&kt(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ft=null,Yn=!1;function or(e,t,i){for(i=i.child;i!==null;)Eg(e,t,i),i=i.sibling}function Eg(e,t,i){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(Ue,i)}catch{}switch(i.tag){case 26:yn||Ba(i,t),or(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:yn||Ba(i,t);var o=Ft,u=Yn;zr(i.type)&&(Ft=i.stateNode,Yn=!1),or(e,t,i),ho(i.stateNode),Ft=o,Yn=u;break;case 5:yn||Ba(i,t);case 6:if(o=Ft,u=Yn,Ft=null,or(e,t,i),Ft=o,Yn=u,Ft!==null)if(Yn)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(i.stateNode)}catch(f){At(i,t,f)}else try{Ft.removeChild(i.stateNode)}catch(f){At(i,t,f)}break;case 18:Ft!==null&&(Yn?(e=Ft,my(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),ss(e)):my(Ft,i.stateNode));break;case 4:o=Ft,u=Yn,Ft=i.stateNode.containerInfo,Yn=!0,or(e,t,i),Ft=o,Yn=u;break;case 0:case 11:case 14:case 15:Or(2,i,t),yn||Or(4,i,t),or(e,t,i);break;case 1:yn||(Ba(i,t),o=i.stateNode,typeof o.componentWillUnmount=="function"&&gg(i,t,o)),or(e,t,i);break;case 21:or(e,t,i);break;case 22:yn=(o=yn)||i.memoizedState!==null,or(e,t,i),yn=o;break;default:or(e,t,i)}}function kg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ss(e)}catch(i){At(t,t.return,i)}}}function Cg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ss(e)}catch(i){At(t,t.return,i)}}function sx(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new wg),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new wg),t;default:throw Error(s(435,e.tag))}}function Al(e,t){var i=sx(e);t.forEach(function(o){if(!i.has(o)){i.add(o);var u=mx.bind(null,e,o);o.then(u,u)}})}function Fn(e,t){var i=t.deletions;if(i!==null)for(var o=0;o<i.length;o++){var u=i[o],f=e,y=t,w=y;e:for(;w!==null;){switch(w.tag){case 27:if(zr(w.type)){Ft=w.stateNode,Yn=!1;break e}break;case 5:Ft=w.stateNode,Yn=!1;break e;case 3:case 4:Ft=w.stateNode.containerInfo,Yn=!0;break e}w=w.return}if(Ft===null)throw Error(s(160));Eg(f,y,u),Ft=null,Yn=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Tg(t,e),t=t.sibling}var ka=null;function Tg(e,t){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Fn(t,e),Pn(e),o&4&&(Or(3,e,e.return),no(3,e),Or(5,e,e.return));break;case 1:Fn(t,e),Pn(e),o&512&&(yn||i===null||Ba(i,i.return)),o&64&&sr&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var u=ka;if(Fn(t,e),Pn(e),o&512&&(yn||i===null||Ba(i,i.return)),o&4){var f=i!==null?i.memoizedState:null;if(o=e.memoizedState,i===null)if(o===null)if(e.stateNode===null){e:{o=e.type,i=e.memoizedProps,u=u.ownerDocument||u;t:switch(o){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Et]||f[A]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(o),u.head.insertBefore(f,u.querySelector("head > title"))),An(f,o,i),f[A]=e,ae(f),o=f;break e;case"link":var y=Ty("link","href",u).get(o+(i.href||""));if(y){for(var w=0;w<y.length;w++)if(f=y[w],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){y.splice(w,1);break t}}f=u.createElement(o),An(f,o,i),u.head.appendChild(f);break;case"meta":if(y=Ty("meta","content",u).get(o+(i.content||""))){for(w=0;w<y.length;w++)if(f=y[w],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){y.splice(w,1);break t}}f=u.createElement(o),An(f,o,i),u.head.appendChild(f);break;default:throw Error(s(468,o))}f[A]=e,ae(f),o=f}e.stateNode=o}else Ny(u,e.type,e.stateNode);else e.stateNode=Cy(u,o,e.memoizedProps);else f!==o?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,o===null?Ny(u,e.type,e.stateNode):Cy(u,o,e.memoizedProps)):o===null&&e.stateNode!==null&&gd(e,e.memoizedProps,i.memoizedProps)}break;case 27:Fn(t,e),Pn(e),o&512&&(yn||i===null||Ba(i,i.return)),i!==null&&o&4&&gd(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Fn(t,e),Pn(e),o&512&&(yn||i===null||Ba(i,i.return)),e.flags&32){u=e.stateNode;try{ji(u,"")}catch(De){At(e,e.return,De)}}o&4&&e.stateNode!=null&&(u=e.memoizedProps,gd(e,u,i!==null?i.memoizedProps:u)),o&1024&&(bd=!0);break;case 6:if(Fn(t,e),Pn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,i=e.stateNode;try{i.nodeValue=o}catch(De){At(e,e.return,De)}}break;case 3:if(Fl=null,u=ka,ka=Gl(t.containerInfo),Fn(t,e),ka=u,Pn(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{ss(t.containerInfo)}catch(De){At(e,e.return,De)}bd&&(bd=!1,Ng(e));break;case 4:o=ka,ka=Gl(e.stateNode.containerInfo),Fn(t,e),Pn(e),ka=o;break;case 12:Fn(t,e),Pn(e);break;case 31:Fn(t,e),Pn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Al(e,o)));break;case 13:Fn(t,e),Pn(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Dl=C()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Al(e,o)));break;case 22:u=e.memoizedState!==null;var T=i!==null&&i.memoizedState!==null,I=sr,te=yn;if(sr=I||u,yn=te||T,Fn(t,e),yn=te,sr=I,Pn(e),o&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(i===null||T||sr||yn||yi(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){T=i=t;try{if(f=T.stateNode,u)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{w=T.stateNode;var re=T.memoizedProps.style,G=re!=null&&re.hasOwnProperty("display")?re.display:null;w.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(De){At(T,T.return,De)}}}else if(t.tag===6){if(i===null){T=t;try{T.stateNode.nodeValue=u?"":T.memoizedProps}catch(De){At(T,T.return,De)}}}else if(t.tag===18){if(i===null){T=t;try{var X=T.stateNode;u?gy(X,!0):gy(T.stateNode,!1)}catch(De){At(T,T.return,De)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}o&4&&(o=e.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,Al(e,i))));break;case 19:Fn(t,e),Pn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Al(e,o)));break;case 30:break;case 21:break;default:Fn(t,e),Pn(e)}}function Pn(e){var t=e.flags;if(t&2){try{for(var i,o=e.return;o!==null;){if(vg(o)){i=o;break}o=o.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var u=i.stateNode,f=yd(e);jl(e,f,u);break;case 5:var y=i.stateNode;i.flags&32&&(ji(y,""),i.flags&=-33);var w=yd(e);jl(e,w,y);break;case 3:case 4:var T=i.stateNode.containerInfo,I=yd(e);vd(e,I,T);break;default:throw Error(s(161))}}catch(te){At(e,e.return,te)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ng(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Ng(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function lr(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Sg(e,t.alternate,t),t=t.sibling}function yi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Or(4,t,t.return),yi(t);break;case 1:Ba(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&gg(t,t.return,i),yi(t);break;case 27:ho(t.stateNode);case 26:case 5:Ba(t,t.return),yi(t);break;case 22:t.memoizedState===null&&yi(t);break;case 30:yi(t);break;default:yi(t)}e=e.sibling}}function cr(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var o=t.alternate,u=e,f=t,y=f.flags;switch(f.tag){case 0:case 11:case 15:cr(u,f,i),no(4,f);break;case 1:if(cr(u,f,i),o=f,u=o.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(I){At(o,o.return,I)}if(o=f,u=o.updateQueue,u!==null){var w=o.stateNode;try{var T=u.shared.hiddenCallbacks;if(T!==null)for(u.shared.hiddenCallbacks=null,u=0;u<T.length;u++)rm(T[u],w)}catch(I){At(o,o.return,I)}}i&&y&64&&mg(f),ao(f,f.return);break;case 27:bg(f);case 26:case 5:cr(u,f,i),i&&o===null&&y&4&&yg(f),ao(f,f.return);break;case 12:cr(u,f,i);break;case 31:cr(u,f,i),i&&y&4&&kg(u,f);break;case 13:cr(u,f,i),i&&y&4&&Cg(u,f);break;case 22:f.memoizedState===null&&cr(u,f,i),ao(f,f.return);break;case 30:break;default:cr(u,f,i)}t=t.sibling}}function wd(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&qs(i))}function Sd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&qs(e))}function Ca(e,t,i,o){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Og(e,t,i,o),t=t.sibling}function Og(e,t,i,o){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Ca(e,t,i,o),u&2048&&no(9,t);break;case 1:Ca(e,t,i,o);break;case 3:Ca(e,t,i,o),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&qs(e)));break;case 12:if(u&2048){Ca(e,t,i,o),e=t.stateNode;try{var f=t.memoizedProps,y=f.id,w=f.onPostCommit;typeof w=="function"&&w(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){At(t,t.return,T)}}else Ca(e,t,i,o);break;case 31:Ca(e,t,i,o);break;case 13:Ca(e,t,i,o);break;case 23:break;case 22:f=t.stateNode,y=t.alternate,t.memoizedState!==null?f._visibility&2?Ca(e,t,i,o):ro(e,t):f._visibility&2?Ca(e,t,i,o):(f._visibility|=2,Xi(e,t,i,o,(t.subtreeFlags&10256)!==0||!1)),u&2048&&wd(y,t);break;case 24:Ca(e,t,i,o),u&2048&&Sd(t.alternate,t);break;default:Ca(e,t,i,o)}}function Xi(e,t,i,o,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var f=e,y=t,w=i,T=o,I=y.flags;switch(y.tag){case 0:case 11:case 15:Xi(f,y,w,T,u),no(8,y);break;case 23:break;case 22:var te=y.stateNode;y.memoizedState!==null?te._visibility&2?Xi(f,y,w,T,u):ro(f,y):(te._visibility|=2,Xi(f,y,w,T,u)),u&&I&2048&&wd(y.alternate,y);break;case 24:Xi(f,y,w,T,u),u&&I&2048&&Sd(y.alternate,y);break;default:Xi(f,y,w,T,u)}t=t.sibling}}function ro(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,o=t,u=o.flags;switch(o.tag){case 22:ro(i,o),u&2048&&wd(o.alternate,o);break;case 24:ro(i,o),u&2048&&Sd(o.alternate,o);break;default:ro(i,o)}t=t.sibling}}var io=8192;function Ki(e,t,i){if(e.subtreeFlags&io)for(e=e.child;e!==null;)jg(e,t,i),e=e.sibling}function jg(e,t,i){switch(e.tag){case 26:Ki(e,t,i),e.flags&io&&e.memoizedState!==null&&Fx(i,ka,e.memoizedState,e.memoizedProps);break;case 5:Ki(e,t,i);break;case 3:case 4:var o=ka;ka=Gl(e.stateNode.containerInfo),Ki(e,t,i),ka=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=io,io=16777216,Ki(e,t,i),io=o):Ki(e,t,i));break;default:Ki(e,t,i)}}function Ag(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function so(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var o=t[i];Cn=o,Dg(o,e)}Ag(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_g(e),e=e.sibling}function _g(e){switch(e.tag){case 0:case 11:case 15:so(e),e.flags&2048&&Or(9,e,e.return);break;case 3:so(e);break;case 12:so(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,_l(e)):so(e);break;default:so(e)}}function _l(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var o=t[i];Cn=o,Dg(o,e)}Ag(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Or(8,t,t.return),_l(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,_l(t));break;default:_l(t)}e=e.sibling}}function Dg(e,t){for(;Cn!==null;){var i=Cn;switch(i.tag){case 0:case 11:case 15:Or(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:qs(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,Cn=o;else e:for(i=e;Cn!==null;){o=Cn;var u=o.sibling,f=o.return;if(xg(o),o===i){Cn=null;break e}if(u!==null){u.return=f,Cn=u;break e}Cn=f}}}var ox={getCacheForType:function(e){var t=On(pn),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return On(pn).controller.signal}},lx=typeof WeakMap=="function"?WeakMap:Map,Ct=0,Bt=null,ct=null,dt=0,jt=0,aa=null,jr=!1,Qi=!1,xd=!1,ur=0,an=0,Ar=0,vi=0,Ed=0,ra=0,Wi=0,oo=null,Zn=null,kd=!1,Dl=0,Mg=0,Ml=1/0,Rl=null,_r=null,xn=0,Dr=null,Ji=null,dr=0,Cd=0,Td=null,Rg=null,lo=0,Nd=null;function ia(){return(Ct&2)!==0&&dt!==0?dt&-dt:O.T!==null?Md():ti()}function zg(){if(ra===0)if((dt&536870912)===0||mt){var e=Dt;Dt<<=1,(Dt&3932160)===0&&(Dt=262144),ra=e}else ra=536870912;return e=ta.current,e!==null&&(e.flags|=32),ra}function Xn(e,t,i){(e===Bt&&(jt===2||jt===9)||e.cancelPendingCommit!==null)&&(es(e,0),Mr(e,dt,ra,!1)),Ma(e,i),((Ct&2)===0||e!==Bt)&&(e===Bt&&((Ct&2)===0&&(vi|=i),an===4&&Mr(e,dt,ra,!1)),Ua(e))}function Lg(e,t,i){if((Ct&6)!==0)throw Error(s(327));var o=!i&&(t&127)===0&&(t&e.expiredLanes)===0||Jt(e,t),u=o?dx(e,t):jd(e,t,!0),f=o;do{if(u===0){Qi&&!o&&Mr(e,t,0,!1);break}else{if(i=e.current.alternate,f&&!cx(i)){u=jd(e,t,!1),f=!1;continue}if(u===2){if(f=t,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var w=e;u=oo;var T=w.current.memoizedState.isDehydrated;if(T&&(es(w,y).flags|=256),y=jd(w,y,!1),y!==2){if(xd&&!T){w.errorRecoveryDisabledLanes|=f,vi|=f,u=4;break e}f=Zn,Zn=u,f!==null&&(Zn===null?Zn=f:Zn.push.apply(Zn,f))}u=y}if(f=!1,u!==2)continue}}if(u===1){es(e,0),Mr(e,t,0,!0);break}e:{switch(o=e,f=u,f){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:Mr(o,t,ra,!jr);break e;case 2:Zn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(u=Dl+300-C(),10<u)){if(Mr(o,t,ra,!jr),It(o,0,!0)!==0)break e;dr=t,o.timeoutHandle=hy(Bg.bind(null,o,i,Zn,Rl,kd,t,ra,vi,Wi,jr,f,"Throttled",-0,0),u);break e}Bg(o,i,Zn,Rl,kd,t,ra,vi,Wi,jr,f,null,-0,0)}}break}while(!0);Ua(e)}function Bg(e,t,i,o,u,f,y,w,T,I,te,re,G,X){if(e.timeoutHandle=-1,re=t.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ka},jg(t,f,re);var De=(f&62914560)===f?Dl-C():(f&4194048)===f?Mg-C():0;if(De=Px(re,De),De!==null){dr=f,e.cancelPendingCommit=De(Yg.bind(null,e,t,f,i,o,u,y,w,T,te,re,null,G,X)),Mr(e,f,y,!I);return}}Yg(e,t,f,i,o,u,y,w,T)}function cx(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var u=i[o],f=u.getSnapshot;u=u.value;try{if(!Jn(f(),u))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mr(e,t,i,o){t&=~Ed,t&=~vi,e.suspendedLanes|=t,e.pingedLanes&=~t,o&&(e.warmLanes|=t),o=e.expirationTimes;for(var u=t;0<u;){var f=31-it(u),y=1<<f;o[f]=-1,u&=~y}i!==0&&ei(e,i,t)}function zl(){return(Ct&6)===0?(co(0),!1):!0}function Od(){if(ct!==null){if(jt===0)var e=ct.return;else e=ct,er=ci=null,Gu(e),Gi=null,Ys=0,e=ct;for(;e!==null;)pg(e.alternate,e),e=e.return;ct=null}}function es(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,jx(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),dr=0,Od(),Bt=e,ct=i=Wa(e.current,null),dt=t,jt=0,aa=null,jr=!1,Qi=Jt(e,t),xd=!1,Wi=ra=Ed=vi=Ar=an=0,Zn=oo=null,kd=!1,(t&8)!==0&&(t|=t&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=t;0<o;){var u=31-it(o),f=1<<u;t|=e[u],o&=~f}return ur=t,nl(),i}function Ug(e,t){et=null,O.H=Js,t===qi||t===ul?(t=em(),jt=3):t===Du?(t=em(),jt=4):jt=t===sd?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,aa=t,ct===null&&(an=1,kl(e,da(t,e.current)))}function $g(){var e=ta.current;return e===null?!0:(dt&4194048)===dt?ma===null:(dt&62914560)===dt||(dt&536870912)!==0?e===ma:!1}function Ig(){var e=O.H;return O.H=Js,e===null?Js:e}function Hg(){var e=O.A;return O.A=ox,e}function Ll(){an=4,jr||(dt&4194048)!==dt&&ta.current!==null||(Qi=!0),(Ar&134217727)===0&&(vi&134217727)===0||Bt===null||Mr(Bt,dt,ra,!1)}function jd(e,t,i){var o=Ct;Ct|=2;var u=Ig(),f=Hg();(Bt!==e||dt!==t)&&(Rl=null,es(e,t)),t=!1;var y=an;e:do try{if(jt!==0&&ct!==null){var w=ct,T=aa;switch(jt){case 8:Od(),y=6;break e;case 3:case 2:case 9:case 6:ta.current===null&&(t=!0);var I=jt;if(jt=0,aa=null,ts(e,w,T,I),i&&Qi){y=0;break e}break;default:I=jt,jt=0,aa=null,ts(e,w,T,I)}}ux(),y=an;break}catch(te){Ug(e,te)}while(!0);return t&&e.shellSuspendCounter++,er=ci=null,Ct=o,O.H=u,O.A=f,ct===null&&(Bt=null,dt=0,nl()),y}function ux(){for(;ct!==null;)Vg(ct)}function dx(e,t){var i=Ct;Ct|=2;var o=Ig(),u=Hg();Bt!==e||dt!==t?(Rl=null,Ml=C()+500,es(e,t)):Qi=Jt(e,t);e:do try{if(jt!==0&&ct!==null){t=ct;var f=aa;t:switch(jt){case 1:jt=0,aa=null,ts(e,t,f,1);break;case 2:case 9:if(Wp(f)){jt=0,aa=null,qg(t);break}t=function(){jt!==2&&jt!==9||Bt!==e||(jt=7),Ua(e)},f.then(t,t);break e;case 3:jt=7;break e;case 4:jt=5;break e;case 7:Wp(f)?(jt=0,aa=null,qg(t)):(jt=0,aa=null,ts(e,t,f,7));break;case 5:var y=null;switch(ct.tag){case 26:y=ct.memoizedState;case 5:case 27:var w=ct;if(y?Oy(y):w.stateNode.complete){jt=0,aa=null;var T=w.sibling;if(T!==null)ct=T;else{var I=w.return;I!==null?(ct=I,Bl(I)):ct=null}break t}}jt=0,aa=null,ts(e,t,f,5);break;case 6:jt=0,aa=null,ts(e,t,f,6);break;case 8:Od(),an=6;break e;default:throw Error(s(462))}}fx();break}catch(te){Ug(e,te)}while(!0);return er=ci=null,O.H=o,O.A=u,Ct=i,ct!==null?0:(Bt=null,dt=0,nl(),an)}function fx(){for(;ct!==null&&!Se();)Vg(ct)}function Vg(e){var t=fg(e.alternate,e,ur);e.memoizedProps=e.pendingProps,t===null?Bl(e):ct=t}function qg(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=sg(i,t,t.pendingProps,t.type,void 0,dt);break;case 11:t=sg(i,t,t.pendingProps,t.type.render,t.ref,dt);break;case 5:Gu(t);default:pg(i,t),t=ct=Hp(t,ur),t=fg(i,t,ur)}e.memoizedProps=e.pendingProps,t===null?Bl(e):ct=t}function ts(e,t,i,o){er=ci=null,Gu(t),Gi=null,Ys=0;var u=t.return;try{if(ex(e,u,t,i,dt)){an=1,kl(e,da(i,e.current)),ct=null;return}}catch(f){if(u!==null)throw ct=u,f;an=1,kl(e,da(i,e.current)),ct=null;return}t.flags&32768?(mt||o===1?e=!0:Qi||(dt&536870912)!==0?e=!1:(jr=e=!0,(o===2||o===9||o===3||o===6)&&(o=ta.current,o!==null&&o.tag===13&&(o.flags|=16384))),Gg(t,e)):Bl(t)}function Bl(e){var t=e;do{if((t.flags&32768)!==0){Gg(t,jr);return}e=t.return;var i=ax(t.alternate,t,ur);if(i!==null){ct=i;return}if(t=t.sibling,t!==null){ct=t;return}ct=t=e}while(t!==null);an===0&&(an=5)}function Gg(e,t){do{var i=rx(e.alternate,e);if(i!==null){i.flags&=32767,ct=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){ct=e;return}ct=e=i}while(e!==null);an=6,ct=null}function Yg(e,t,i,o,u,f,y,w,T){e.cancelPendingCommit=null;do Ul();while(xn!==0);if((Ct&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(f=t.lanes|t.childLanes,f|=yu,Jr(e,i,f,y,w,T),e===Bt&&(ct=Bt=null,dt=0),Ji=t,Dr=e,dr=i,Cd=f,Td=u,Rg=o,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,gx(we,function(){return Kg(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||o){o=O.T,O.T=null,u=V.p,V.p=2,y=Ct,Ct|=4;try{ix(e,t,i)}finally{Ct=y,V.p=u,O.T=o}}xn=1,Fg(),Pg(),Zg()}}function Fg(){if(xn===1){xn=0;var e=Dr,t=Ji,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=O.T,O.T=null;var o=V.p;V.p=2;var u=Ct;Ct|=4;try{Tg(t,e);var f=Hd,y=Dp(e.containerInfo),w=f.focusedElem,T=f.selectionRange;if(y!==w&&w&&w.ownerDocument&&_p(w.ownerDocument.documentElement,w)){if(T!==null&&fu(w)){var I=T.start,te=T.end;if(te===void 0&&(te=I),"selectionStart"in w)w.selectionStart=I,w.selectionEnd=Math.min(te,w.value.length);else{var re=w.ownerDocument||document,G=re&&re.defaultView||window;if(G.getSelection){var X=G.getSelection(),De=w.textContent.length,qe=Math.min(T.start,De),Lt=T.end===void 0?qe:Math.min(T.end,De);!X.extend&&qe>Lt&&(y=Lt,Lt=qe,qe=y);var z=Ap(w,qe),D=Ap(w,Lt);if(z&&D&&(X.rangeCount!==1||X.anchorNode!==z.node||X.anchorOffset!==z.offset||X.focusNode!==D.node||X.focusOffset!==D.offset)){var $=re.createRange();$.setStart(z.node,z.offset),X.removeAllRanges(),qe>Lt?(X.addRange($),X.extend(D.node,D.offset)):($.setEnd(D.node,D.offset),X.addRange($))}}}}for(re=[],X=w;X=X.parentNode;)X.nodeType===1&&re.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<re.length;w++){var ne=re[w];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Kl=!!Id,Hd=Id=null}finally{Ct=u,V.p=o,O.T=i}}e.current=t,xn=2}}function Pg(){if(xn===2){xn=0;var e=Dr,t=Ji,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=O.T,O.T=null;var o=V.p;V.p=2;var u=Ct;Ct|=4;try{Sg(e,t.alternate,t)}finally{Ct=u,V.p=o,O.T=i}}xn=3}}function Zg(){if(xn===4||xn===3){xn=0,oe();var e=Dr,t=Ji,i=dr,o=Rg;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?xn=5:(xn=0,Ji=Dr=null,Xg(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(_r=null),hn(i),t=t.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(Ue,t,void 0,(t.current.flags&128)===128)}catch{}if(o!==null){t=O.T,u=V.p,V.p=2,O.T=null;try{for(var f=e.onRecoverableError,y=0;y<o.length;y++){var w=o[y];f(w.value,{componentStack:w.stack})}}finally{O.T=t,V.p=u}}(dr&3)!==0&&Ul(),Ua(e),u=e.pendingLanes,(i&261930)!==0&&(u&42)!==0?e===Nd?lo++:(lo=0,Nd=e):lo=0,co(0)}}function Xg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,qs(t)))}function Ul(){return Fg(),Pg(),Zg(),Kg()}function Kg(){if(xn!==5)return!1;var e=Dr,t=Cd;Cd=0;var i=hn(dr),o=O.T,u=V.p;try{V.p=32>i?32:i,O.T=null,i=Td,Td=null;var f=Dr,y=dr;if(xn=0,Ji=Dr=null,dr=0,(Ct&6)!==0)throw Error(s(331));var w=Ct;if(Ct|=4,_g(f.current),Og(f,f.current,y,i),Ct=w,co(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(Ue,f)}catch{}return!0}finally{V.p=u,O.T=o,Xg(e,t)}}function Qg(e,t,i){t=da(i,t),t=id(e.stateNode,t,2),e=Cr(e,t,2),e!==null&&(Ma(e,2),Ua(e))}function At(e,t,i){if(e.tag===3)Qg(e,e,i);else for(;t!==null;){if(t.tag===3){Qg(t,e,i);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(_r===null||!_r.has(o))){e=da(i,e),i=Wm(2),o=Cr(t,i,2),o!==null&&(Jm(i,o,t,e),Ma(o,2),Ua(o));break}}t=t.return}}function Ad(e,t,i){var o=e.pingCache;if(o===null){o=e.pingCache=new lx;var u=new Set;o.set(t,u)}else u=o.get(t),u===void 0&&(u=new Set,o.set(t,u));u.has(i)||(xd=!0,u.add(i),e=hx.bind(null,e,t,i),t.then(e,e))}function hx(e,t,i){var o=e.pingCache;o!==null&&o.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Bt===e&&(dt&i)===i&&(an===4||an===3&&(dt&62914560)===dt&&300>C()-Dl?(Ct&2)===0&&es(e,0):Ed|=i,Wi===dt&&(Wi=0)),Ua(e)}function Wg(e,t){t===0&&(t=Pa()),e=si(e,t),e!==null&&(Ma(e,t),Ua(e))}function px(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Wg(e,i)}function mx(e,t){var i=0;switch(e.tag){case 31:case 13:var o=e.stateNode,u=e.memoizedState;u!==null&&(i=u.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(t),Wg(e,i)}function gx(e,t){return ee(e,t)}var $l=null,ns=null,_d=!1,Il=!1,Dd=!1,Rr=0;function Ua(e){e!==ns&&e.next===null&&(ns===null?$l=ns=e:ns=ns.next=e),Il=!0,_d||(_d=!0,vx())}function co(e,t){if(!Dd&&Il){Dd=!0;do for(var i=!1,o=$l;o!==null;){if(e!==0){var u=o.pendingLanes;if(u===0)var f=0;else{var y=o.suspendedLanes,w=o.pingedLanes;f=(1<<31-it(42|e)+1)-1,f&=u&~(y&~w),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,ny(o,f))}else f=dt,f=It(o,o===Bt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Jt(o,f)||(i=!0,ny(o,f));o=o.next}while(i);Dd=!1}}function yx(){Jg()}function Jg(){Il=_d=!1;var e=0;Rr!==0&&Ox()&&(e=Rr);for(var t=C(),i=null,o=$l;o!==null;){var u=o.next,f=ey(o,t);f===0?(o.next=null,i===null?$l=u:i.next=u,u===null&&(ns=i)):(i=o,(e!==0||(f&3)!==0)&&(Il=!0)),o=u}xn!==0&&xn!==5||co(e),Rr!==0&&(Rr=0)}function ey(e,t){for(var i=e.suspendedLanes,o=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-it(f),w=1<<y,T=u[y];T===-1?((w&i)===0||(w&o)!==0)&&(u[y]=Fa(w,t)):T<=t&&(e.expiredLanes|=w),f&=~w}if(t=Bt,i=dt,i=It(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,i===0||e===t&&(jt===2||jt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&_e(o),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Jt(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(o!==null&&_e(o),hn(i)){case 2:case 8:i=he;break;case 32:i=we;break;case 268435456:i=Ve;break;default:i=we}return o=ty.bind(null,e),i=ee(i,o),e.callbackPriority=t,e.callbackNode=i,t}return o!==null&&o!==null&&_e(o),e.callbackPriority=2,e.callbackNode=null,2}function ty(e,t){if(xn!==0&&xn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Ul()&&e.callbackNode!==i)return null;var o=dt;return o=It(e,e===Bt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Lg(e,o,t),ey(e,C()),e.callbackNode!=null&&e.callbackNode===i?ty.bind(null,e):null)}function ny(e,t){if(Ul())return null;Lg(e,t,!0)}function vx(){Ax(function(){(Ct&6)!==0?ee(ue,yx):Jg()})}function Md(){if(Rr===0){var e=Hi;e===0&&(e=ot,ot<<=1,(ot&261888)===0&&(ot=256)),Rr=e}return Rr}function ay(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Zo(""+e)}function ry(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function bx(e,t,i,o,u){if(t==="submit"&&i&&i.stateNode===u){var f=ay((u[J]||null).action),y=o.submitter;y&&(t=(t=y[J]||null)?ay(t.formAction):y.getAttribute("formAction"),t!==null&&(f=t,y=null));var w=new Wo("action","action",null,o,u);e.push({event:w,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Rr!==0){var T=y?ry(u,y):new FormData(u);Ju(i,{pending:!0,data:T,method:u.method,action:f},null,T)}}else typeof f=="function"&&(w.preventDefault(),T=y?ry(u,y):new FormData(u),Ju(i,{pending:!0,data:T,method:u.method,action:f},f,T))},currentTarget:u}]})}}for(var Rd=0;Rd<gu.length;Rd++){var zd=gu[Rd],wx=zd.toLowerCase(),Sx=zd[0].toUpperCase()+zd.slice(1);Ea(wx,"on"+Sx)}Ea(zp,"onAnimationEnd"),Ea(Lp,"onAnimationIteration"),Ea(Bp,"onAnimationStart"),Ea("dblclick","onDoubleClick"),Ea("focusin","onFocus"),Ea("focusout","onBlur"),Ea(BS,"onTransitionRun"),Ea(US,"onTransitionStart"),Ea($S,"onTransitionCancel"),Ea(Up,"onTransitionEnd"),Ke("onMouseEnter",["mouseout","mouseover"]),Ke("onMouseLeave",["mouseout","mouseover"]),Ke("onPointerEnter",["pointerout","pointerover"]),Ke("onPointerLeave",["pointerout","pointerover"]),ke("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ke("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ke("onBeforeInput",["compositionend","keypress","textInput","paste"]),ke("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ke("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ke("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uo));function iy(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],u=o.event;o=o.listeners;e:{var f=void 0;if(t)for(var y=o.length-1;0<=y;y--){var w=o[y],T=w.instance,I=w.currentTarget;if(w=w.listener,T!==f&&u.isPropagationStopped())break e;f=w,u.currentTarget=I;try{f(u)}catch(te){tl(te)}u.currentTarget=null,f=T}else for(y=0;y<o.length;y++){if(w=o[y],T=w.instance,I=w.currentTarget,w=w.listener,T!==f&&u.isPropagationStopped())break e;f=w,u.currentTarget=I;try{f(u)}catch(te){tl(te)}u.currentTarget=null,f=T}}}}function ut(e,t){var i=t[je];i===void 0&&(i=t[je]=new Set);var o=e+"__bubble";i.has(o)||(sy(t,e,2,!1),i.add(o))}function Ld(e,t,i){var o=0;t&&(o|=4),sy(i,e,o,t)}var Hl="_reactListening"+Math.random().toString(36).slice(2);function Bd(e){if(!e[Hl]){e[Hl]=!0,ge.forEach(function(i){i!=="selectionchange"&&(xx.has(i)||Ld(i,!1,e),Ld(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hl]||(t[Hl]=!0,Ld("selectionchange",!1,t))}}function sy(e,t,i,o){switch(zy(t)){case 2:var u=Kx;break;case 8:u=Qx;break;default:u=Wd}i=u.bind(null,t,i,e),u=void 0,!au||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),o?u!==void 0?e.addEventListener(t,i,{capture:!0,passive:u}):e.addEventListener(t,i,!0):u!==void 0?e.addEventListener(t,i,{passive:u}):e.addEventListener(t,i,!1)}function Ud(e,t,i,o,u){var f=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var w=o.stateNode.containerInfo;if(w===u)break;if(y===4)for(y=o.return;y!==null;){var T=y.tag;if((T===3||T===4)&&y.stateNode.containerInfo===u)return;y=y.return}for(;w!==null;){if(y=lt(w),y===null)return;if(T=y.tag,T===5||T===6||T===26||T===27){o=f=y;continue e}w=w.parentNode}}o=o.return}dp(function(){var I=f,te=tu(i),re=[];e:{var G=$p.get(e);if(G!==void 0){var X=Wo,De=e;switch(e){case"keypress":if(Ko(i)===0)break e;case"keydown":case"keyup":X=mS;break;case"focusin":De="focus",X=ou;break;case"focusout":De="blur",X=ou;break;case"beforeblur":case"afterblur":X=ou;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=pp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=aS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=vS;break;case zp:case Lp:case Bp:X=sS;break;case Up:X=wS;break;case"scroll":case"scrollend":X=tS;break;case"wheel":X=xS;break;case"copy":case"cut":case"paste":X=lS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=gp;break;case"toggle":case"beforetoggle":X=kS}var qe=(t&4)!==0,Lt=!qe&&(e==="scroll"||e==="scrollend"),z=qe?G!==null?G+"Capture":null:G;qe=[];for(var D=I,$;D!==null;){var ne=D;if($=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||$===null||z===null||(ne=Ds(D,z),ne!=null&&qe.push(fo(D,ne,$))),Lt)break;D=D.return}0<qe.length&&(G=new X(G,De,null,i,te),re.push({event:G,listeners:qe}))}}if((t&7)===0){e:{if(G=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",G&&i!==eu&&(De=i.relatedTarget||i.fromElement)&&(lt(De)||De[le]))break e;if((X||G)&&(G=te.window===te?te:(G=te.ownerDocument)?G.defaultView||G.parentWindow:window,X?(De=i.relatedTarget||i.toElement,X=I,De=De?lt(De):null,De!==null&&(Lt=c(De),qe=De.tag,De!==Lt||qe!==5&&qe!==27&&qe!==6)&&(De=null)):(X=null,De=I),X!==De)){if(qe=pp,ne="onMouseLeave",z="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(qe=gp,ne="onPointerLeave",z="onPointerEnter",D="pointer"),Lt=X==null?G:Za(X),$=De==null?G:Za(De),G=new qe(ne,D+"leave",X,i,te),G.target=Lt,G.relatedTarget=$,ne=null,lt(te)===I&&(qe=new qe(z,D+"enter",De,i,te),qe.target=$,qe.relatedTarget=Lt,ne=qe),Lt=ne,X&&De)t:{for(qe=Ex,z=X,D=De,$=0,ne=z;ne;ne=qe(ne))$++;ne=0;for(var Ie=D;Ie;Ie=qe(Ie))ne++;for(;0<$-ne;)z=qe(z),$--;for(;0<ne-$;)D=qe(D),ne--;for(;$--;){if(z===D||D!==null&&z===D.alternate){qe=z;break t}z=qe(z),D=qe(D)}qe=null}else qe=null;X!==null&&oy(re,G,X,qe,!1),De!==null&&Lt!==null&&oy(re,Lt,De,qe,!0)}}e:{if(G=I?Za(I):window,X=G.nodeName&&G.nodeName.toLowerCase(),X==="select"||X==="input"&&G.type==="file")var bt=kp;else if(xp(G))if(Cp)bt=RS;else{bt=DS;var ze=_S}else X=G.nodeName,!X||X.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?I&&Jc(I.elementType)&&(bt=kp):bt=MS;if(bt&&(bt=bt(e,I))){Ep(re,bt,i,te);break e}ze&&ze(e,G,I),e==="focusout"&&I&&G.type==="number"&&I.memoizedProps.value!=null&&Wc(G,"number",G.value)}switch(ze=I?Za(I):window,e){case"focusin":(xp(ze)||ze.contentEditable==="true")&&(Mi=ze,hu=I,Is=null);break;case"focusout":Is=hu=Mi=null;break;case"mousedown":pu=!0;break;case"contextmenu":case"mouseup":case"dragend":pu=!1,Mp(re,i,te);break;case"selectionchange":if(LS)break;case"keydown":case"keyup":Mp(re,i,te)}var tt;if(cu)e:{switch(e){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else Di?wp(e,i)&&(ft="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ft="onCompositionStart");ft&&(yp&&i.locale!=="ko"&&(Di||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&Di&&(tt=fp()):(vr=te,ru="value"in vr?vr.value:vr.textContent,Di=!0)),ze=Vl(I,ft),0<ze.length&&(ft=new mp(ft,e,null,i,te),re.push({event:ft,listeners:ze}),tt?ft.data=tt:(tt=Sp(i),tt!==null&&(ft.data=tt)))),(tt=TS?NS(e,i):OS(e,i))&&(ft=Vl(I,"onBeforeInput"),0<ft.length&&(ze=new mp("onBeforeInput","beforeinput",null,i,te),re.push({event:ze,listeners:ft}),ze.data=tt)),bx(re,e,I,i,te)}iy(re,t)})}function fo(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Vl(e,t){for(var i=t+"Capture",o=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=Ds(e,i),u!=null&&o.unshift(fo(e,u,f)),u=Ds(e,t),u!=null&&o.push(fo(e,u,f))),e.tag===3)return o;e=e.return}return[]}function Ex(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function oy(e,t,i,o,u){for(var f=t._reactName,y=[];i!==null&&i!==o;){var w=i,T=w.alternate,I=w.stateNode;if(w=w.tag,T!==null&&T===o)break;w!==5&&w!==26&&w!==27||I===null||(T=I,u?(I=Ds(i,f),I!=null&&y.unshift(fo(i,I,T))):u||(I=Ds(i,f),I!=null&&y.push(fo(i,I,T)))),i=i.return}y.length!==0&&e.push({event:t,listeners:y})}var kx=/\r\n?/g,Cx=/\u0000|\uFFFD/g;function ly(e){return(typeof e=="string"?e:""+e).replace(kx,`
`).replace(Cx,"")}function cy(e,t){return t=ly(t),ly(e)===t}function zt(e,t,i,o,u,f){switch(i){case"children":typeof o=="string"?t==="body"||t==="textarea"&&o===""||ji(e,o):(typeof o=="number"||typeof o=="bigint")&&t!=="body"&&ji(e,""+o);break;case"className":Mt(e,"class",o);break;case"tabIndex":Mt(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Mt(e,i,o);break;case"style":cp(e,o,f);break;case"data":if(t!=="object"){Mt(e,"data",o);break}case"src":case"href":if(o===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=Zo(""+o),e.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(t!=="input"&&zt(e,t,"name",u.name,u,null),zt(e,t,"formEncType",u.formEncType,u,null),zt(e,t,"formMethod",u.formMethod,u,null),zt(e,t,"formTarget",u.formTarget,u,null)):(zt(e,t,"encType",u.encType,u,null),zt(e,t,"method",u.method,u,null),zt(e,t,"target",u.target,u,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=Zo(""+o),e.setAttribute(i,o);break;case"onClick":o!=null&&(e.onclick=Ka);break;case"onScroll":o!=null&&ut("scroll",e);break;case"onScrollEnd":o!=null&&ut("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(i=o.__html,i!=null){if(u.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}i=Zo(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""+o):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":o===!0?e.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,o):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(i,o):e.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(i):e.setAttribute(i,o);break;case"popover":ut("beforetoggle",e),ut("toggle",e),Sn(e,"popover",o);break;case"xlinkActuate":Yt(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Yt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Yt(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Yt(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Yt(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Yt(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Sn(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Jw.get(i)||i,Sn(e,i,o))}}function $d(e,t,i,o,u,f){switch(i){case"style":cp(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(i=o.__html,i!=null){if(u.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"children":typeof o=="string"?ji(e,o):(typeof o=="number"||typeof o=="bigint")&&ji(e,""+o);break;case"onScroll":o!=null&&ut("scroll",e);break;case"onScrollEnd":o!=null&&ut("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Ka);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ee.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(u=i.endsWith("Capture"),t=i.slice(2,u?i.length-7:void 0),f=e[J]||null,f=f!=null?f[i]:null,typeof f=="function"&&e.removeEventListener(t,f,u),typeof o=="function")){typeof f!="function"&&f!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,o,u);break e}i in e?e[i]=o:o===!0?e.setAttribute(i,""):Sn(e,i,o)}}}function An(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ut("error",e),ut("load",e);var o=!1,u=!1,f;for(f in i)if(i.hasOwnProperty(f)){var y=i[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:zt(e,t,f,y,i,null)}}u&&zt(e,t,"srcSet",i.srcSet,i,null),o&&zt(e,t,"src",i.src,i,null);return;case"input":ut("invalid",e);var w=f=y=u=null,T=null,I=null;for(o in i)if(i.hasOwnProperty(o)){var te=i[o];if(te!=null)switch(o){case"name":u=te;break;case"type":y=te;break;case"checked":T=te;break;case"defaultChecked":I=te;break;case"value":f=te;break;case"defaultValue":w=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,t));break;default:zt(e,t,o,te,i,null)}}ip(e,f,w,T,I,y,u,!1);return;case"select":ut("invalid",e),o=y=f=null;for(u in i)if(i.hasOwnProperty(u)&&(w=i[u],w!=null))switch(u){case"value":f=w;break;case"defaultValue":y=w;break;case"multiple":o=w;default:zt(e,t,u,w,i,null)}t=f,i=y,e.multiple=!!o,t!=null?Oi(e,!!o,t,!1):i!=null&&Oi(e,!!o,i,!0);return;case"textarea":ut("invalid",e),f=u=o=null;for(y in i)if(i.hasOwnProperty(y)&&(w=i[y],w!=null))switch(y){case"value":o=w;break;case"defaultValue":u=w;break;case"children":f=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:zt(e,t,y,w,i,null)}op(e,o,u,f);return;case"option":for(T in i)if(i.hasOwnProperty(T)&&(o=i[T],o!=null))switch(T){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:zt(e,t,T,o,i,null)}return;case"dialog":ut("beforetoggle",e),ut("toggle",e),ut("cancel",e),ut("close",e);break;case"iframe":case"object":ut("load",e);break;case"video":case"audio":for(o=0;o<uo.length;o++)ut(uo[o],e);break;case"image":ut("error",e),ut("load",e);break;case"details":ut("toggle",e);break;case"embed":case"source":case"link":ut("error",e),ut("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in i)if(i.hasOwnProperty(I)&&(o=i[I],o!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:zt(e,t,I,o,i,null)}return;default:if(Jc(t)){for(te in i)i.hasOwnProperty(te)&&(o=i[te],o!==void 0&&$d(e,t,te,o,i,void 0));return}}for(w in i)i.hasOwnProperty(w)&&(o=i[w],o!=null&&zt(e,t,w,o,i,null))}function Tx(e,t,i,o){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,y=null,w=null,T=null,I=null,te=null;for(X in i){var re=i[X];if(i.hasOwnProperty(X)&&re!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":T=re;default:o.hasOwnProperty(X)||zt(e,t,X,null,o,re)}}for(var G in o){var X=o[G];if(re=i[G],o.hasOwnProperty(G)&&(X!=null||re!=null))switch(G){case"type":f=X;break;case"name":u=X;break;case"checked":I=X;break;case"defaultChecked":te=X;break;case"value":y=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,t));break;default:X!==re&&zt(e,t,G,X,o,re)}}Qc(e,y,w,T,I,te,f,u);return;case"select":X=y=w=G=null;for(f in i)if(T=i[f],i.hasOwnProperty(f)&&T!=null)switch(f){case"value":break;case"multiple":X=T;default:o.hasOwnProperty(f)||zt(e,t,f,null,o,T)}for(u in o)if(f=o[u],T=i[u],o.hasOwnProperty(u)&&(f!=null||T!=null))switch(u){case"value":G=f;break;case"defaultValue":w=f;break;case"multiple":y=f;default:f!==T&&zt(e,t,u,f,o,T)}t=w,i=y,o=X,G!=null?Oi(e,!!i,G,!1):!!o!=!!i&&(t!=null?Oi(e,!!i,t,!0):Oi(e,!!i,i?[]:"",!1));return;case"textarea":X=G=null;for(w in i)if(u=i[w],i.hasOwnProperty(w)&&u!=null&&!o.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:zt(e,t,w,null,o,u)}for(y in o)if(u=o[y],f=i[y],o.hasOwnProperty(y)&&(u!=null||f!=null))switch(y){case"value":G=u;break;case"defaultValue":X=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(s(91));break;default:u!==f&&zt(e,t,y,u,o,f)}sp(e,G,X);return;case"option":for(var De in i)if(G=i[De],i.hasOwnProperty(De)&&G!=null&&!o.hasOwnProperty(De))switch(De){case"selected":e.selected=!1;break;default:zt(e,t,De,null,o,G)}for(T in o)if(G=o[T],X=i[T],o.hasOwnProperty(T)&&G!==X&&(G!=null||X!=null))switch(T){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:zt(e,t,T,G,o,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qe in i)G=i[qe],i.hasOwnProperty(qe)&&G!=null&&!o.hasOwnProperty(qe)&&zt(e,t,qe,null,o,G);for(I in o)if(G=o[I],X=i[I],o.hasOwnProperty(I)&&G!==X&&(G!=null||X!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,t));break;default:zt(e,t,I,G,o,X)}return;default:if(Jc(t)){for(var Lt in i)G=i[Lt],i.hasOwnProperty(Lt)&&G!==void 0&&!o.hasOwnProperty(Lt)&&$d(e,t,Lt,void 0,o,G);for(te in o)G=o[te],X=i[te],!o.hasOwnProperty(te)||G===X||G===void 0&&X===void 0||$d(e,t,te,G,o,X);return}}for(var z in i)G=i[z],i.hasOwnProperty(z)&&G!=null&&!o.hasOwnProperty(z)&&zt(e,t,z,null,o,G);for(re in o)G=o[re],X=i[re],!o.hasOwnProperty(re)||G===X||G==null&&X==null||zt(e,t,re,G,o,X)}function uy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Nx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),o=0;o<i.length;o++){var u=i[o],f=u.transferSize,y=u.initiatorType,w=u.duration;if(f&&w&&uy(y)){for(y=0,w=u.responseEnd,o+=1;o<i.length;o++){var T=i[o],I=T.startTime;if(I>w)break;var te=T.transferSize,re=T.initiatorType;te&&uy(re)&&(T=T.responseEnd,y+=te*(T<w?1:(w-I)/(T-I)))}if(--o,t+=8*(f+y)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Id=null,Hd=null;function ql(e){return e.nodeType===9?e:e.ownerDocument}function dy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fy(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Vd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qd=null;function Ox(){var e=window.event;return e&&e.type==="popstate"?e===qd?!1:(qd=e,!0):(qd=null,!1)}var hy=typeof setTimeout=="function"?setTimeout:void 0,jx=typeof clearTimeout=="function"?clearTimeout:void 0,py=typeof Promise=="function"?Promise:void 0,Ax=typeof queueMicrotask=="function"?queueMicrotask:typeof py<"u"?function(e){return py.resolve(null).then(e).catch(_x)}:hy;function _x(e){setTimeout(function(){throw e})}function zr(e){return e==="head"}function my(e,t){var i=t,o=0;do{var u=i.nextSibling;if(e.removeChild(i),u&&u.nodeType===8)if(i=u.data,i==="/$"||i==="/&"){if(o===0){e.removeChild(u),ss(t);return}o--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")o++;else if(i==="html")ho(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,ho(i);for(var f=i.firstChild;f;){var y=f.nextSibling,w=f.nodeName;f[Et]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&f.rel.toLowerCase()==="stylesheet"||i.removeChild(f),f=y}}else i==="body"&&ho(e.ownerDocument.body);i=u}while(i);ss(t)}function gy(e,t){var i=e;e=0;do{var o=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=o}while(i)}function Gd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Gd(i),kt(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Dx(e,t,i,o){for(;e.nodeType===1;){var u=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Et])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=ga(e.nextSibling),e===null)break}return null}function Mx(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=ga(e.nextSibling),e===null))return null;return e}function yy(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ga(e.nextSibling),e===null))return null;return e}function Yd(e){return e.data==="$?"||e.data==="$~"}function Fd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Rx(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var o=function(){t(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function ga(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Pd=null;function vy(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return ga(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function by(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function wy(e,t,i){switch(t=ql(i),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function ho(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);kt(e)}var ya=new Map,Sy=new Set;function Gl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var fr=V.d;V.d={f:zx,r:Lx,D:Bx,C:Ux,L:$x,m:Ix,X:Vx,S:Hx,M:qx};function zx(){var e=fr.f(),t=zl();return e||t}function Lx(e){var t=yr(e);t!==null&&t.tag===5&&t.type==="form"?Um(t):fr.r(e)}var as=typeof document>"u"?null:document;function xy(e,t,i){var o=as;if(o&&typeof t=="string"&&t){var u=ca(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof i=="string"&&(u+='[crossorigin="'+i+'"]'),Sy.has(u)||(Sy.add(u),e={rel:e,crossOrigin:i,href:t},o.querySelector(u)===null&&(t=o.createElement("link"),An(t,"link",e),ae(t),o.head.appendChild(t)))}}function Bx(e){fr.D(e),xy("dns-prefetch",e,null)}function Ux(e,t){fr.C(e,t),xy("preconnect",e,t)}function $x(e,t,i){fr.L(e,t,i);var o=as;if(o&&e&&t){var u='link[rel="preload"][as="'+ca(t)+'"]';t==="image"&&i&&i.imageSrcSet?(u+='[imagesrcset="'+ca(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(u+='[imagesizes="'+ca(i.imageSizes)+'"]')):u+='[href="'+ca(e)+'"]';var f=u;switch(t){case"style":f=rs(e);break;case"script":f=is(e)}ya.has(f)||(e=b({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),ya.set(f,e),o.querySelector(u)!==null||t==="style"&&o.querySelector(po(f))||t==="script"&&o.querySelector(mo(f))||(t=o.createElement("link"),An(t,"link",e),ae(t),o.head.appendChild(t)))}}function Ix(e,t){fr.m(e,t);var i=as;if(i&&e){var o=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+ca(o)+'"][href="'+ca(e)+'"]',f=u;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=is(e)}if(!ya.has(f)&&(e=b({rel:"modulepreload",href:e},t),ya.set(f,e),i.querySelector(u)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(mo(f)))return}o=i.createElement("link"),An(o,"link",e),ae(o),i.head.appendChild(o)}}}function Hx(e,t,i){fr.S(e,t,i);var o=as;if(o&&e){var u=P(o).hoistableStyles,f=rs(e);t=t||"default";var y=u.get(f);if(!y){var w={loading:0,preload:null};if(y=o.querySelector(po(f)))w.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},i),(i=ya.get(f))&&Zd(e,i);var T=y=o.createElement("link");ae(T),An(T,"link",e),T._p=new Promise(function(I,te){T.onload=I,T.onerror=te}),T.addEventListener("load",function(){w.loading|=1}),T.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Yl(y,t,o)}y={type:"stylesheet",instance:y,count:1,state:w},u.set(f,y)}}}function Vx(e,t){fr.X(e,t);var i=as;if(i&&e){var o=P(i).hoistableScripts,u=is(e),f=o.get(u);f||(f=i.querySelector(mo(u)),f||(e=b({src:e,async:!0},t),(t=ya.get(u))&&Xd(e,t),f=i.createElement("script"),ae(f),An(f,"link",e),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(u,f))}}function qx(e,t){fr.M(e,t);var i=as;if(i&&e){var o=P(i).hoistableScripts,u=is(e),f=o.get(u);f||(f=i.querySelector(mo(u)),f||(e=b({src:e,async:!0,type:"module"},t),(t=ya.get(u))&&Xd(e,t),f=i.createElement("script"),ae(f),An(f,"link",e),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(u,f))}}function Ey(e,t,i,o){var u=(u=ve.current)?Gl(u):null;if(!u)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=rs(i.href),i=P(u).hoistableStyles,o=i.get(t),o||(o={type:"style",instance:null,count:0,state:null},i.set(t,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=rs(i.href);var f=P(u).hoistableStyles,y=f.get(e);if(y||(u=u.ownerDocument||u,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=u.querySelector(po(e)))&&!f._p&&(y.instance=f,y.state.loading=5),ya.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},ya.set(e,i),f||Gx(u,e,i,y.state))),t&&o===null)throw Error(s(528,""));return y}if(t&&o!==null)throw Error(s(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=is(i),i=P(u).hoistableScripts,o=i.get(t),o||(o={type:"script",instance:null,count:0,state:null},i.set(t,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function rs(e){return'href="'+ca(e)+'"'}function po(e){return'link[rel="stylesheet"]['+e+"]"}function ky(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Gx(e,t,i,o){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?o.loading=1:(t=e.createElement("link"),o.preload=t,t.addEventListener("load",function(){return o.loading|=1}),t.addEventListener("error",function(){return o.loading|=2}),An(t,"link",i),ae(t),e.head.appendChild(t))}function is(e){return'[src="'+ca(e)+'"]'}function mo(e){return"script[async]"+e}function Cy(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var o=e.querySelector('style[data-href~="'+ca(i.href)+'"]');if(o)return t.instance=o,ae(o),o;var u=b({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ae(o),An(o,"style",u),Yl(o,i.precedence,e),t.instance=o;case"stylesheet":u=rs(i.href);var f=e.querySelector(po(u));if(f)return t.state.loading|=4,t.instance=f,ae(f),f;o=ky(i),(u=ya.get(u))&&Zd(o,u),f=(e.ownerDocument||e).createElement("link"),ae(f);var y=f;return y._p=new Promise(function(w,T){y.onload=w,y.onerror=T}),An(f,"link",o),t.state.loading|=4,Yl(f,i.precedence,e),t.instance=f;case"script":return f=is(i.src),(u=e.querySelector(mo(f)))?(t.instance=u,ae(u),u):(o=i,(u=ya.get(f))&&(o=b({},i),Xd(o,u)),e=e.ownerDocument||e,u=e.createElement("script"),ae(u),An(u,"link",o),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(o=t.instance,t.state.loading|=4,Yl(o,i.precedence,e));return t.instance}function Yl(e,t,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=o.length?o[o.length-1]:null,f=u,y=0;y<o.length;y++){var w=o[y];if(w.dataset.precedence===t)f=w;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Zd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Xd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Fl=null;function Ty(e,t,i){if(Fl===null){var o=new Map,u=Fl=new Map;u.set(i,o)}else u=Fl,o=u.get(i),o||(o=new Map,u.set(i,o));if(o.has(e))return o;for(o.set(e,null),i=i.getElementsByTagName(e),u=0;u<i.length;u++){var f=i[u];if(!(f[Et]||f[A]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(t)||"";y=e+y;var w=o.get(y);w?w.push(f):o.set(y,[f])}}return o}function Ny(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function Yx(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Oy(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Fx(e,t,i,o){if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var u=rs(o.href),f=t.querySelector(po(u));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Pl.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=f,ae(f);return}f=t.ownerDocument||t,o=ky(o),(u=ya.get(u))&&Zd(o,u),f=f.createElement("link"),ae(f);var y=f;y._p=new Promise(function(w,T){y.onload=w,y.onerror=T}),An(f,"link",o),i.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Pl.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var Kd=0;function Px(e,t){return e.stylesheets&&e.count===0&&Xl(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var o=setTimeout(function(){if(e.stylesheets&&Xl(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+t);0<e.imgBytes&&Kd===0&&(Kd=62500*Nx());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Xl(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Kd?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(u)}}:null}function Pl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Zl=null;function Xl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Zl=new Map,t.forEach(Zx,e),Zl=null,Pl.call(e))}function Zx(e,t){if(!(t.state.loading&4)){var i=Zl.get(e);if(i)var o=i.get(null);else{i=new Map,Zl.set(e,i);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var y=u[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(i.set(y.dataset.precedence,y),o=y)}o&&i.set(null,o)}u=t.instance,y=u.getAttribute("data-precedence"),f=i.get(y)||o,f===o&&i.set(null,u),i.set(y,u),this.count++,o=Pl.bind(this),u.addEventListener("load",o),u.addEventListener("error",o),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var go={$$typeof:B,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function Xx(e,t,i,o,u,f,y,w,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=la(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=la(0),this.hiddenUpdates=la(null),this.identifierPrefix=o,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function jy(e,t,i,o,u,f,y,w,T,I,te,re){return e=new Xx(e,t,i,y,T,I,te,re,w),t=1,f===!0&&(t|=24),f=ea(3,null,null,t),e.current=f,f.stateNode=e,t=ju(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:o,isDehydrated:i,cache:t},Mu(f),e}function Ay(e){return e?(e=Li,e):Li}function _y(e,t,i,o,u,f){u=Ay(u),o.context===null?o.context=u:o.pendingContext=u,o=kr(t),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=Cr(e,o,t),i!==null&&(Xn(i,e,t),Ps(i,e,t))}function Dy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Qd(e,t){Dy(e,t),(e=e.alternate)&&Dy(e,t)}function My(e){if(e.tag===13||e.tag===31){var t=si(e,67108864);t!==null&&Xn(t,e,67108864),Qd(e,67108864)}}function Ry(e){if(e.tag===13||e.tag===31){var t=ia();t=Wn(t);var i=si(e,t);i!==null&&Xn(i,e,t),Qd(e,t)}}var Kl=!0;function Kx(e,t,i,o){var u=O.T;O.T=null;var f=V.p;try{V.p=2,Wd(e,t,i,o)}finally{V.p=f,O.T=u}}function Qx(e,t,i,o){var u=O.T;O.T=null;var f=V.p;try{V.p=8,Wd(e,t,i,o)}finally{V.p=f,O.T=u}}function Wd(e,t,i,o){if(Kl){var u=Jd(o);if(u===null)Ud(e,t,o,Ql,i),Ly(e,o);else if(Jx(u,e,t,i,o))o.stopPropagation();else if(Ly(e,o),t&4&&-1<Wx.indexOf(e)){for(;u!==null;){var f=yr(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=sn(f.pendingLanes);if(y!==0){var w=f;for(w.pendingLanes|=2,w.entangledLanes|=2;y;){var T=1<<31-it(y);w.entanglements[1]|=T,y&=~T}Ua(f),(Ct&6)===0&&(Ml=C()+500,co(0))}}break;case 31:case 13:w=si(f,2),w!==null&&Xn(w,f,2),zl(),Qd(f,2)}if(f=Jd(o),f===null&&Ud(e,t,o,Ql,i),f===u)break;u=f}u!==null&&o.stopPropagation()}else Ud(e,t,o,null,i)}}function Jd(e){return e=tu(e),ef(e)}var Ql=null;function ef(e){if(Ql=null,e=lt(e),e!==null){var t=c(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=d(t),e!==null)return e;e=null}else if(i===31){if(e=h(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ql=e,null}function zy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(L()){case ue:return 2;case he:return 8;case we:case Ne:return 32;case Ve:return 268435456;default:return 32}default:return 32}}var tf=!1,Lr=null,Br=null,Ur=null,yo=new Map,vo=new Map,$r=[],Wx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ly(e,t){switch(e){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":yo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":vo.delete(t.pointerId)}}function bo(e,t,i,o,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:i,eventSystemFlags:o,nativeEvent:f,targetContainers:[u]},t!==null&&(t=yr(t),t!==null&&My(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function Jx(e,t,i,o,u){switch(t){case"focusin":return Lr=bo(Lr,e,t,i,o,u),!0;case"dragenter":return Br=bo(Br,e,t,i,o,u),!0;case"mouseover":return Ur=bo(Ur,e,t,i,o,u),!0;case"pointerover":var f=u.pointerId;return yo.set(f,bo(yo.get(f)||null,e,t,i,o,u)),!0;case"gotpointercapture":return f=u.pointerId,vo.set(f,bo(vo.get(f)||null,e,t,i,o,u)),!0}return!1}function By(e){var t=lt(e.target);if(t!==null){var i=c(t);if(i!==null){if(t=i.tag,t===13){if(t=d(i),t!==null){e.blockedOn=t,ni(e.priority,function(){Ry(i)});return}}else if(t===31){if(t=h(i),t!==null){e.blockedOn=t,ni(e.priority,function(){Ry(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Jd(e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);eu=o,i.target.dispatchEvent(o),eu=null}else return t=yr(i),t!==null&&My(t),e.blockedOn=i,!1;t.shift()}return!0}function Uy(e,t,i){Wl(e)&&i.delete(t)}function e2(){tf=!1,Lr!==null&&Wl(Lr)&&(Lr=null),Br!==null&&Wl(Br)&&(Br=null),Ur!==null&&Wl(Ur)&&(Ur=null),yo.forEach(Uy),vo.forEach(Uy)}function Jl(e,t){e.blockedOn===t&&(e.blockedOn=null,tf||(tf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,e2)))}var ec=null;function $y(e){ec!==e&&(ec=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){ec===e&&(ec=null);for(var t=0;t<e.length;t+=3){var i=e[t],o=e[t+1],u=e[t+2];if(typeof o!="function"){if(ef(o||i)===null)continue;break}var f=yr(i);f!==null&&(e.splice(t,3),t-=3,Ju(f,{pending:!0,data:u,method:i.method,action:o},o,u))}}))}function ss(e){function t(T){return Jl(T,e)}Lr!==null&&Jl(Lr,e),Br!==null&&Jl(Br,e),Ur!==null&&Jl(Ur,e),yo.forEach(t),vo.forEach(t);for(var i=0;i<$r.length;i++){var o=$r[i];o.blockedOn===e&&(o.blockedOn=null)}for(;0<$r.length&&(i=$r[0],i.blockedOn===null);)By(i),i.blockedOn===null&&$r.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var u=i[o],f=i[o+1],y=u[J]||null;if(typeof f=="function")y||$y(i);else if(y){var w=null;if(f&&f.hasAttribute("formAction")){if(u=f,y=f[J]||null)w=y.formAction;else if(ef(u)!==null)continue}else w=y.action;typeof w=="function"?i[o+1]=w:(i.splice(o,3),o-=3),$y(i)}}}function Iy(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return u=y})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),o||setTimeout(i,20)}function i(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function nf(e){this._internalRoot=e}tc.prototype.render=nf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var i=t.current,o=ia();_y(i,o,e,t,null,null)},tc.prototype.unmount=nf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_y(e.current,2,null,e,null,null),zl(),t[le]=null}};function tc(e){this._internalRoot=e}tc.prototype.unstable_scheduleHydration=function(e){if(e){var t=ti();e={blockedOn:null,target:e,priority:t};for(var i=0;i<$r.length&&t!==0&&t<$r[i].priority;i++);$r.splice(i,0,e),i===0&&By(e)}};var Hy=n.version;if(Hy!=="19.2.0")throw Error(s(527,Hy,"19.2.0"));V.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var t2={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{Ue=nc.inject(t2),$e=nc}catch{}}return So.createRoot=function(e,t){if(!l(e))throw Error(s(299));var i=!1,o="",u=Zm,f=Xm,y=Km;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError)),t=jy(e,1,!1,null,null,i,o,null,u,f,y,Iy),e[le]=t.current,Bd(e),new nf(t)},So.hydrateRoot=function(e,t,i){if(!l(e))throw Error(s(299));var o=!1,u="",f=Zm,y=Xm,w=Km,T=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError),i.formState!==void 0&&(T=i.formState)),t=jy(e,1,!0,t,i??null,o,u,T,f,y,w,Iy),t.context=Ay(null),i=t.current,o=ia(),o=Wn(o),u=kr(o),u.callback=null,Cr(i,u,o),i=o,t.current.lanes=i,Ma(t,i),Ua(t),e[le]=t.current,Bd(e),new tc(t)},So.version="19.2.0",So}var Qy;function d2(){if(Qy)return sf.exports;Qy=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),sf.exports=u2(),sf.exports}var ub=d2();const f2="modulepreload",h2=function(a,n){return new URL(a,n).href},Wy={},Jy=function(n,r,s){let l=Promise.resolve();if(r&&r.length>0){let g=function(v){return Promise.all(v.map(b=>Promise.resolve(b).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};const d=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),m=h?.nonce||h?.getAttribute("nonce");l=g(r.map(v=>{if(v=h2(v,s),v in Wy)return;Wy[v]=!0;const b=v.endsWith(".css"),x=b?'[rel="stylesheet"]':"";if(s)for(let _=d.length-1;_>=0;_--){const Z=d[_];if(Z.href===v&&(!b||Z.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${v}"]${x}`))return;const k=document.createElement("link");if(k.rel=b?"stylesheet":f2,b||(k.as="script"),k.crossOrigin="",k.href=v,m&&k.setAttribute("nonce",m),document.head.appendChild(k),b)return new Promise((_,Z)=>{k.addEventListener("load",_),k.addEventListener("error",()=>Z(new Error(`Unable to preload CSS for ${v}`)))})}))}function c(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return l.then(d=>{for(const h of d||[])h.status==="rejected"&&c(h.reason);return n().catch(c)})};var Pr=cb();const Nh=Ch(Pr),ev=lb({__proto__:null,default:Nh},[Pr]);function tv(a,n,r,s,l,c,d){try{var h=a[c](d),m=h.value}catch(g){return void r(g)}h.done?n(m):Promise.resolve(m).then(s,l)}function at(a){return function(){var n=this,r=arguments;return new Promise(function(s,l){var c=a.apply(n,r);function d(m){tv(c,s,l,d,h,"next",m)}function h(m){tv(c,s,l,d,h,"throw",m)}d(void 0)})}}function ht(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _n(a){"@babel/helpers - typeof";return _n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_n(a)}function p2(a,n){if(_n(a)!="object"||!a)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var s=r.call(a,n);if(_n(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function db(a){var n=p2(a,"string");return _n(n)=="symbol"?n:n+""}function m2(a,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(a,db(s.key),s)}}function pt(a,n,r){return n&&m2(a.prototype,n),Object.defineProperty(a,"prototype",{writable:!1}),a}function g2(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function Ya(a,n){if(n&&(_n(n)=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g2(a)}function Ut(a){return Ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ut(a)}function Lo(a,n){return Lo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Lo(a,n)}function Qn(a,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(n&&n.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),n&&Lo(a,n)}function Le(a,n,r){return(n=db(n))in a?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r,a}var uf={exports:{}},df={exports:{}},nv;function fb(){return nv||(nv=1,(function(a){function n(r,s){this.v=r,this.k=s}a.exports=n,a.exports.__esModule=!0,a.exports.default=a.exports})(df)),df.exports}var ff={exports:{}},hf={exports:{}},av;function hb(){return av||(av=1,(function(a){function n(r,s,l,c){var d=Object.defineProperty;try{d({},"",{})}catch{d=0}a.exports=n=function(m,g,v,b){function x(k,_){n(m,k,function(Z){return this._invoke(k,_,Z)})}g?d?d(m,g,{value:v,enumerable:!b,configurable:!b,writable:!b}):m[g]=v:(x("next",0),x("throw",1),x("return",2))},a.exports.__esModule=!0,a.exports.default=a.exports,n(r,s,l,c)}a.exports=n,a.exports.__esModule=!0,a.exports.default=a.exports})(hf)),hf.exports}var rv;function pb(){return rv||(rv=1,(function(a){var n=hb();function r(){var s,l,c=typeof Symbol=="function"?Symbol:{},d=c.iterator||"@@iterator",h=c.toStringTag||"@@toStringTag";function m(q,W,K,B){var Y=W&&W.prototype instanceof v?W:v,fe=Object.create(Y.prototype);return n(fe,"_invoke",(function(be,H,de){var ie,pe,Be,Ae=0,Je=de||[],rt=!1,We={p:0,n:0,v:s,a:O,f:O.bind(s,4),d:function(Q,me){return ie=Q,pe=0,Be=s,We.n=me,g}};function O(V,Q){for(pe=V,Be=Q,l=0;!rt&&Ae&&!me&&l<Je.length;l++){var me,U=Je[l],S=We.p,M=U[2];V>3?(me=M===Q)&&(Be=U[(pe=U[4])?5:(pe=3,3)],U[4]=U[5]=s):U[0]<=S&&((me=V<2&&S<U[1])?(pe=0,We.v=Q,We.n=U[1]):S<M&&(me=V<3||U[0]>Q||Q>M)&&(U[4]=V,U[5]=Q,We.n=M,pe=0))}if(me||V>1)return g;throw rt=!0,Q}return function(V,Q,me){if(Ae>1)throw TypeError("Generator is already running");for(rt&&Q===1&&O(Q,me),pe=Q,Be=me;(l=pe<2?s:Be)||!rt;){ie||(pe?pe<3?(pe>1&&(We.n=-1),O(pe,Be)):We.n=Be:We.v=Be);try{if(Ae=2,ie){if(pe||(V="next"),l=ie[V]){if(!(l=l.call(ie,Be)))throw TypeError("iterator result is not an object");if(!l.done)return l;Be=l.value,pe<2&&(pe=0)}else pe===1&&(l=ie.return)&&l.call(ie),pe<2&&(Be=TypeError("The iterator does not provide a '"+V+"' method"),pe=1);ie=s}else if((l=(rt=We.n<0)?Be:be.call(H,We))!==g)break}catch(U){ie=s,pe=1,Be=U}finally{Ae=1}}return{value:l,done:rt}}})(q,K,B),!0),fe}var g={};function v(){}function b(){}function x(){}l=Object.getPrototypeOf;var k=[][d]?l(l([][d]())):(n(l={},d,function(){return this}),l),_=x.prototype=v.prototype=Object.create(k);function Z(q){return Object.setPrototypeOf?Object.setPrototypeOf(q,x):(q.__proto__=x,n(q,h,"GeneratorFunction")),q.prototype=Object.create(_),q}return b.prototype=x,n(_,"constructor",x),n(x,"constructor",b),b.displayName="GeneratorFunction",n(x,h,"GeneratorFunction"),n(_),n(_,h,"Generator"),n(_,d,function(){return this}),n(_,"toString",function(){return"[object Generator]"}),(a.exports=r=function(){return{w:m,m:Z}},a.exports.__esModule=!0,a.exports.default=a.exports)()}a.exports=r,a.exports.__esModule=!0,a.exports.default=a.exports})(ff)),ff.exports}var pf={exports:{}},mf={exports:{}},gf={exports:{}},iv;function mb(){return iv||(iv=1,(function(a){var n=fb(),r=hb();function s(l,c){function d(m,g,v,b){try{var x=l[m](g),k=x.value;return k instanceof n?c.resolve(k.v).then(function(_){d("next",_,v,b)},function(_){d("throw",_,v,b)}):c.resolve(k).then(function(_){x.value=_,v(x)},function(_){return d("throw",_,v,b)})}catch(_){b(_)}}var h;this.next||(r(s.prototype),r(s.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),r(this,"_invoke",function(m,g,v){function b(){return new c(function(x,k){d(m,v,x,k)})}return h=h?h.then(b,b):b()},!0)}a.exports=s,a.exports.__esModule=!0,a.exports.default=a.exports})(gf)),gf.exports}var sv;function gb(){return sv||(sv=1,(function(a){var n=pb(),r=mb();function s(l,c,d,h,m){return new r(n().w(l,c,d,h),m||Promise)}a.exports=s,a.exports.__esModule=!0,a.exports.default=a.exports})(mf)),mf.exports}var ov;function y2(){return ov||(ov=1,(function(a){var n=gb();function r(s,l,c,d,h){var m=n(s,l,c,d,h);return m.next().then(function(g){return g.done?g.value:m.next()})}a.exports=r,a.exports.__esModule=!0,a.exports.default=a.exports})(pf)),pf.exports}var yf={exports:{}},lv;function v2(){return lv||(lv=1,(function(a){function n(r){var s=Object(r),l=[];for(var c in s)l.unshift(c);return function d(){for(;l.length;)if((c=l.pop())in s)return d.value=c,d.done=!1,d;return d.done=!0,d}}a.exports=n,a.exports.__esModule=!0,a.exports.default=a.exports})(yf)),yf.exports}var vf={exports:{}},bf={exports:{}},cv;function b2(){return cv||(cv=1,(function(a){function n(r){"@babel/helpers - typeof";return a.exports=n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},a.exports.__esModule=!0,a.exports.default=a.exports,n(r)}a.exports=n,a.exports.__esModule=!0,a.exports.default=a.exports})(bf)),bf.exports}var uv;function w2(){return uv||(uv=1,(function(a){var n=b2().default;function r(s){if(s!=null){var l=s[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],c=0;if(l)return l.call(s);if(typeof s.next=="function")return s;if(!isNaN(s.length))return{next:function(){return s&&c>=s.length&&(s=void 0),{value:s&&s[c++],done:!s}}}}throw new TypeError(n(s)+" is not iterable")}a.exports=r,a.exports.__esModule=!0,a.exports.default=a.exports})(vf)),vf.exports}var dv;function S2(){return dv||(dv=1,(function(a){var n=fb(),r=pb(),s=y2(),l=gb(),c=mb(),d=v2(),h=w2();function m(){var g=r(),v=g.m(m),b=(Object.getPrototypeOf?Object.getPrototypeOf(v):v.__proto__).constructor;function x(Z){var q=typeof Z=="function"&&Z.constructor;return!!q&&(q===b||(q.displayName||q.name)==="GeneratorFunction")}var k={throw:1,return:2,break:3,continue:3};function _(Z){var q,W;return function(K){q||(q={stop:function(){return W(K.a,2)},catch:function(){return K.v},abrupt:function(Y,fe){return W(K.a,k[Y],fe)},delegateYield:function(Y,fe,be){return q.resultName=fe,W(K.d,h(Y),be)},finish:function(Y){return W(K.f,Y)}},W=function(Y,fe,be){K.p=q.prev,K.n=q.next;try{return Y(fe,be)}finally{q.next=K.n}}),q.resultName&&(q[q.resultName]=K.v,q.resultName=void 0),q.sent=K.v,q.next=K.n;try{return Z.call(this,q)}finally{K.p=q.prev,K.n=q.next}}}return(a.exports=m=function(){return{wrap:function(W,K,B,Y){return g.w(_(W),K,B,Y&&Y.reverse())},isGeneratorFunction:x,mark:g.m,awrap:function(W,K){return new n(W,K)},AsyncIterator:c,async:function(W,K,B,Y,fe){return(x(K)?l:s)(_(W),K,B,Y,fe)},keys:d,values:h}},a.exports.__esModule=!0,a.exports.default=a.exports)()}a.exports=m,a.exports.__esModule=!0,a.exports.default=a.exports})(uf)),uf.exports}var wf,fv;function x2(){if(fv)return wf;fv=1;var a=S2()();wf=a;try{regeneratorRuntime=a}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}return wf}var E2=x2();const xe=Ch(E2);function k2(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=C2(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(g){throw g},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,d=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var g=r.next();return d=g.done,g},e:function(g){h=!0,c=g},f:function(){try{d||r.return==null||r.return()}finally{if(h)throw c}}}}function C2(a,n){if(a){if(typeof a=="string")return hv(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hv(a,n):void 0}}function hv(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function T2(){return{debug:function(n){}}}var yb=(function(){function a(){ht(this,a),Le(this,"pipes",[])}return pt(a,[{key:"addPipe",value:function(r){this.pipes.push(r)}},{key:"emit",value:(function(){var n=at(xe.mark(function s(l){var c,d,h,m;return xe.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:c=l,d=k2(this.pipes),v.prev=2,d.s();case 4:if((h=d.n()).done){v.next=13;break}return m=h.value,v.next=8,m(c);case 8:if(c=v.sent,!(typeof c>"u")){v.next=11;break}return v.abrupt("return");case 11:v.next=4;break;case 13:v.next=18;break;case 15:v.prev=15,v.t0=v.catch(2),d.e(v.t0);case 18:return v.prev=18,d.f(),v.finish(18);case 21:return v.abrupt("return",c);case 22:case"end":return v.stop()}},s,this,[[2,15,18,21]])}));function r(s){return n.apply(this,arguments)}return r})()}])})(),Es=(function(){function a(n){ht(this,a),Le(this,"signal",new yb),this.name=n}return pt(a,[{key:"addPipe",value:function(r){this.signal.addPipe(r)}},{key:"use",value:function(r){if(!(r instanceof a))throw new Error("cannot use non-Scope instance");return r.setParent(this),this.addPipe(function(s){return r.signal.emit(s)}),T2()}},{key:"setParent",value:function(r){this.parent=r}},{key:"emit",value:function(r){return this.signal.emit(r)}},{key:"hasParent",value:function(){return!!this.parent}},{key:"parentScope",value:function(r){if(!this.parent)throw new Error("cannot find parent");if(r&&this.parent instanceof r)return this.parent;if(r)throw new Error("actual parent is not instance of type");return this.parent}}])})();function pv(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=N2(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(g){throw g},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,d=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var g=r.next();return d=g.done,g},e:function(g){h=!0,c=g},f:function(){try{d||r.return==null||r.return()}finally{if(h)throw c}}}}function N2(a,n){if(a){if(typeof a=="string")return mv(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mv(a,n):void 0}}function mv(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function O2(a,n,r){return n=Ut(n),Ya(a,vb()?Reflect.construct(n,r||[],Ut(a).constructor):n.apply(a,r))}function vb(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vb=function(){return!!a})()}var Qr=(function(a){function n(){var r;return ht(this,n),r=O2(this,n,["NodeEditor"]),Le(r,"nodes",[]),Le(r,"connections",[]),r}return Qn(n,a),pt(n,[{key:"getNode",value:function(s){return this.nodes.find(function(l){return l.id===s})}},{key:"getNodes",value:function(){return this.nodes.slice()}},{key:"getConnections",value:function(){return this.connections.slice()}},{key:"getConnection",value:function(s){return this.connections.find(function(l){return l.id===s})}},{key:"addNode",value:(function(){var r=at(xe.mark(function l(c){return xe.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!this.getNode(c.id)){h.next=2;break}throw new Error("node has already been added");case 2:return h.next=4,this.emit({type:"nodecreate",data:c});case 4:if(h.sent){h.next=6;break}return h.abrupt("return",!1);case 6:return this.nodes.push(c),h.next=9,this.emit({type:"nodecreated",data:c});case 9:return h.abrupt("return",!0);case 10:case"end":return h.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"addConnection",value:(function(){var r=at(xe.mark(function l(c){return xe.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!this.getConnection(c.id)){h.next=2;break}throw new Error("connection has already been added");case 2:return h.next=4,this.emit({type:"connectioncreate",data:c});case 4:if(h.sent){h.next=6;break}return h.abrupt("return",!1);case 6:return this.connections.push(c),h.next=9,this.emit({type:"connectioncreated",data:c});case 9:return h.abrupt("return",!0);case 10:case"end":return h.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"removeNode",value:(function(){var r=at(xe.mark(function l(c){var d,h;return xe.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(d=this.nodes.find(function(v){return v.id===c}),d){g.next=3;break}throw new Error("cannot find node");case 3:return g.next=5,this.emit({type:"noderemove",data:d});case 5:if(g.sent){g.next=7;break}return g.abrupt("return",!1);case 7:return h=this.nodes.indexOf(d),this.nodes.splice(h,1),g.next=11,this.emit({type:"noderemoved",data:d});case 11:return g.abrupt("return",!0);case 12:case"end":return g.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"removeConnection",value:(function(){var r=at(xe.mark(function l(c){var d,h;return xe.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(d=this.connections.find(function(v){return v.id===c}),d){g.next=3;break}throw new Error("cannot find connection");case 3:return g.next=5,this.emit({type:"connectionremove",data:d});case 5:if(g.sent){g.next=7;break}return g.abrupt("return",!1);case 7:return h=this.connections.indexOf(d),this.connections.splice(h,1),g.next=11,this.emit({type:"connectionremoved",data:d});case 11:return g.abrupt("return",!0);case 12:case"end":return g.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"clear",value:(function(){var r=at(xe.mark(function l(){var c,d,h,m,g,v;return xe.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,this.emit({type:"clear"});case 2:if(x.sent){x.next=6;break}return x.next=5,this.emit({type:"clearcancelled"});case 5:return x.abrupt("return",!1);case 6:c=pv(this.connections.slice()),x.prev=7,c.s();case 9:if((d=c.n()).done){x.next=15;break}return h=d.value,x.next=13,this.removeConnection(h.id);case 13:x.next=9;break;case 15:x.next=20;break;case 17:x.prev=17,x.t0=x.catch(7),c.e(x.t0);case 20:return x.prev=20,c.f(),x.finish(20);case 23:m=pv(this.nodes.slice()),x.prev=24,m.s();case 26:if((g=m.n()).done){x.next=32;break}return v=g.value,x.next=30,this.removeNode(v.id);case 30:x.next=26;break;case 32:x.next=37;break;case 34:x.prev=34,x.t1=x.catch(24),m.e(x.t1);case 37:return x.prev=37,m.f(),x.finish(37);case 40:return x.next=42,this.emit({type:"cleared"});case 42:return x.abrupt("return",!0);case 43:case"end":return x.stop()}},l,this,[[7,17,20,23],[24,34,37,40]])}));function s(){return r.apply(this,arguments)}return s})()}])})(Es),Sf=globalThis.crypto;function Wr(){if("randomBytes"in Sf)return Sf.randomBytes(8).toString("hex");var a=Sf.getRandomValues(new Uint8Array(8)),n=Array.from(a),r=n.map(function(s){return s.toString(16).padStart(2,"0")});return r.join("")}function Oh(a,n,r){return n=Ut(n),Ya(a,bb()?Reflect.construct(n,r||[],Ut(a).constructor):n.apply(a,r))}function bb(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bb=function(){return!!a})()}var j2=pt(function a(n){ht(this,a),this.name=n}),jh=pt(function a(n,r,s){ht(this,a),this.socket=n,this.label=r,this.multipleConnections=s,this.id=Wr()}),A2=(function(a){function n(r,s,l){var c;return ht(this,n),c=Oh(this,n,[r,s,l]),Le(c,"control",null),Le(c,"showControl",!0),c.socket=r,c.label=s,c.multipleConnections=l,c}return Qn(n,a),pt(n,[{key:"addControl",value:function(s){if(this.control)throw new Error("control already added for this input");this.control=s}},{key:"removeControl",value:function(){this.control=null}}])})(jh),_2=(function(a){function n(r,s,l){return ht(this,n),Oh(this,n,[r,s,l!==!1])}return Qn(n,a),pt(n)})(jh),wb=pt(function a(){ht(this,a),this.id=Wr()}),D2=(function(a){function n(r,s){var l,c;return ht(this,n),c=Oh(this,n),c.type=r,c.options=s,c.id=Wr(),c.readonly=(l=s?.readonly)!==null&&l!==void 0?l:!1,typeof s?.initial<"u"&&(c.value=s.initial),c}return Qn(n,a),pt(n,[{key:"setValue",value:function(s){var l;this.value=s,(l=this.options)!==null&&l!==void 0&&l.change&&this.options.change(s)}}])})(wb),M2=(function(){function a(n){ht(this,a),Le(this,"inputs",{}),Le(this,"outputs",{}),Le(this,"controls",{}),this.label=n,this.id=Wr()}return pt(a,[{key:"hasInput",value:function(r){return Object.prototype.hasOwnProperty.call(this.inputs,r)}},{key:"addInput",value:function(r,s){if(this.hasInput(r))throw new Error("input with key '".concat(String(r),"' already added"));Object.defineProperty(this.inputs,r,{value:s,enumerable:!0,configurable:!0})}},{key:"removeInput",value:function(r){delete this.inputs[r]}},{key:"hasOutput",value:function(r){return Object.prototype.hasOwnProperty.call(this.outputs,r)}},{key:"addOutput",value:function(r,s){if(this.hasOutput(r))throw new Error("output with key '".concat(String(r),"' already added"));Object.defineProperty(this.outputs,r,{value:s,enumerable:!0,configurable:!0})}},{key:"removeOutput",value:function(r){delete this.outputs[r]}},{key:"hasControl",value:function(r){return Object.prototype.hasOwnProperty.call(this.controls,r)}},{key:"addControl",value:function(r,s){if(this.hasControl(r))throw new Error("control with key '".concat(String(r),"' already added"));Object.defineProperty(this.controls,r,{value:s,enumerable:!0,configurable:!0})}},{key:"removeControl",value:function(r){delete this.controls[r]}}])})(),R2=pt(function a(n,r,s,l){if(ht(this,a),this.sourceOutput=r,this.targetInput=l,!n.outputs[r])throw new Error("source node doesn't have output with a key ".concat(String(r)));if(!s.inputs[l])throw new Error("target node doesn't have input with a key ".concat(String(l)));this.id=Wr(),this.source=n.id,this.target=s.id}),Qt=Object.freeze({__proto__:null,Socket:j2,Port:jh,Input:A2,Output:_2,Control:wb,InputControl:D2,Node:M2,Connection:R2});const z2=Object.freeze(Object.defineProperty({__proto__:null,ClassicPreset:Qt,NodeEditor:Qr,Scope:Es,Signal:yb,getUID:Wr},Symbol.toStringTag,{value:"Module"}));function Gf(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function L2(a){if(Array.isArray(a))return Gf(a)}function B2(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function Sb(a,n){if(a){if(typeof a=="string")return Gf(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Gf(a,n):void 0}}function U2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ks(a){return L2(a)||B2(a)||Sb(a)||U2()}var $2=(function(){function a(n){ht(this,a),this.reordered=n,this.holder=document.createElement("div"),this.holder.style.transformOrigin="0 0"}return pt(a,[{key:"getPointerFrom",value:function(r){var s=this.holder.getBoundingClientRect(),l=s.left,c=s.top,d=r.clientX-l,h=r.clientY-c;return{x:d,y:h}}},{key:"add",value:function(r){this.holder.appendChild(r)}},{key:"reorder",value:(function(){var n=at(xe.mark(function s(l,c){return xe.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(this.holder.contains(l)){h.next=2;break}throw new Error("content doesn't have 'target' for reordering");case 2:if(!(c!==null&&!this.holder.contains(c))){h.next=4;break}throw new Error("content doesn't have 'next' for reordering");case 4:return this.holder.insertBefore(l,c),h.next=7,this.reordered(l);case 7:case"end":return h.stop()}},s,this)}));function r(s,l){return n.apply(this,arguments)}return r})()},{key:"remove",value:function(r){this.holder.contains(r)&&this.holder.removeChild(r)}}])})();function xb(a,n){var r=function(d){n.move(d)},s=function(d){window.removeEventListener("pointermove",r),window.removeEventListener("pointerup",s),window.removeEventListener("pointercancel",s),n.up(d)},l=function(d){window.addEventListener("pointermove",r),window.addEventListener("pointerup",s),window.addEventListener("pointercancel",s),n.down(d)};return a.addEventListener("pointerdown",l),{destroy:function(){a.removeEventListener("pointerdown",l),window.removeEventListener("pointermove",r),window.removeEventListener("pointerup",s),window.removeEventListener("pointercancel",s)}}}var gv=function(n){return n.length===0?0:Math.min.apply(Math,ks(n))},yv=function(n){return n.length===0?0:Math.max.apply(Math,ks(n))};function Eb(a){var n=gv(a.map(function(c){return c.position.x})),r=gv(a.map(function(c){return c.position.y})),s=yv(a.map(function(c){return c.position.x+c.width})),l=yv(a.map(function(c){return c.position.y+c.height}));return{left:n,right:s,top:r,bottom:l,width:Math.abs(n-s),height:Math.abs(r-l),center:{x:(n+s)/2,y:(r+l)/2}}}function vv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function I2(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?vv(Object(r),!0).forEach(function(s){Le(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):vv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}var Ah=(function(){function a(n){var r=this;ht(this,a),Le(this,"down",function(s){r.guards.down(s)&&(s.stopPropagation(),r.pointerStart={x:s.pageX,y:s.pageY},r.startPosition=I2({},r.config.getCurrentPosition()),r.events.start(s))}),Le(this,"move",function(s){if(!(!r.pointerStart||!r.startPosition)&&r.guards.move(s)){s.preventDefault();var l={x:s.pageX-r.pointerStart.x,y:s.pageY-r.pointerStart.y},c=r.config.getZoom(),d=r.startPosition.x+l.x/c,h=r.startPosition.y+l.y/c;r.events.translate(d,h,s)}}),Le(this,"up",function(s){r.pointerStart&&(delete r.pointerStart,r.events.drag(s))}),this.guards=n||{down:function(l){return!(l.pointerType==="mouse"&&l.button!==0)},move:function(){return!0}}}return pt(a,[{key:"initialize",value:function(r,s,l){this.config=s,this.events=l,r.style.touchAction="none",this.pointerListener=xb(r,{down:this.down,move:this.move,up:this.up})}},{key:"destroy",value:function(){this.pointerListener.destroy()}}])})(),kb=(function(){function a(n){var r=this;ht(this,a),Le(this,"previous",null),Le(this,"pointers",[]),Le(this,"wheel",function(s){s.preventDefault();var l=r.element.getBoundingClientRect(),c=l.left,d=l.top,h=s.deltaY<0,m=h?r.intensity:-r.intensity,g=(c-s.clientX)*m,v=(d-s.clientY)*m;r.onzoom(m,g,v,"wheel")}),Le(this,"down",function(s){r.pointers.push(s)}),Le(this,"move",function(s){if(r.pointers=r.pointers.map(function(_){return _.pointerId===s.pointerId?s:_}),!!r.isTranslating()){var l=r.element.getBoundingClientRect(),c=l.left,d=l.top,h=r.getTouches(),m=h.cx,g=h.cy,v=h.distance;if(r.previous!==null&&r.previous.distance>0){var b=v/r.previous.distance-1,x=(c-m)*b,k=(d-g)*b;r.onzoom(b,x-(r.previous.cx-m),k-(r.previous.cy-g),"touch")}r.previous={cx:m,cy:g,distance:v}}}),Le(this,"contextmenu",function(){r.pointers=[]}),Le(this,"up",function(s){r.previous=null,r.pointers=r.pointers.filter(function(l){return l.pointerId!==s.pointerId})}),Le(this,"dblclick",function(s){s.preventDefault();var l=r.element.getBoundingClientRect(),c=l.left,d=l.top,h=4*r.intensity,m=(c-s.clientX)*h,g=(d-s.clientY)*h;r.onzoom(h,m,g,"dblclick")}),this.intensity=n}return pt(a,[{key:"initialize",value:function(r,s,l){this.container=r,this.element=s,this.onzoom=l,this.container.addEventListener("wheel",this.wheel),this.container.addEventListener("pointerdown",this.down),this.container.addEventListener("dblclick",this.dblclick),window.addEventListener("pointermove",this.move),window.addEventListener("pointerup",this.up),window.addEventListener("pointercancel",this.up),window.addEventListener("contextmenu",this.contextmenu)}},{key:"getTouches",value:function(){var r={touches:this.pointers},s=[r.touches[0].clientX,r.touches[0].clientY],l=s[0],c=s[1],d=[r.touches[1].clientX,r.touches[1].clientY],h=d[0],m=d[1],g=Math.sqrt(Math.pow(l-h,2)+Math.pow(c-m,2));return{cx:(l+h)/2,cy:(c+m)/2,distance:g}}},{key:"isTranslating",value:function(){return this.pointers.length>=2}},{key:"destroy",value:function(){this.container.removeEventListener("wheel",this.wheel),this.container.removeEventListener("pointerdown",this.down),this.container.removeEventListener("dblclick",this.dblclick),window.removeEventListener("pointermove",this.move),window.removeEventListener("pointerup",this.up),window.removeEventListener("pointercancel",this.up),window.removeEventListener("contextmenu",this.contextmenu)}}])})(),Cb=(function(){function a(n,r,s){var l=this;ht(this,a),Le(this,"transform",{k:1,x:0,y:0}),Le(this,"pointer",{x:0,y:0}),Le(this,"zoomHandler",null),Le(this,"dragHandler",null),Le(this,"pointerdown",function(c){l.setPointerFrom(c),l.events.pointerDown(l.pointer,c)}),Le(this,"pointermove",function(c){l.setPointerFrom(c),l.events.pointerMove(l.pointer,c)}),Le(this,"pointerup",function(c){l.setPointerFrom(c),l.events.pointerUp(l.pointer,c)}),Le(this,"resize",function(c){l.events.resize(c)}),Le(this,"onTranslate",function(c,d){var h;(h=l.zoomHandler)!==null&&h!==void 0&&h.isTranslating()||l.translate(c,d)}),Le(this,"onZoom",function(c,d,h,m){l.zoom(l.transform.k*(1+c),d,h,m),l.update()}),this.container=n,this.events=r,this.guards=s,this.content=new $2(function(c){return l.events.reordered(c)}),this.content.holder.style.transformOrigin="0 0",this.setZoomHandler(new kb(.1)),this.setDragHandler(new Ah),this.container.addEventListener("pointerdown",this.pointerdown),this.container.addEventListener("pointermove",this.pointermove),window.addEventListener("pointerup",this.pointerup),window.addEventListener("resize",this.resize),n.appendChild(this.content.holder),this.update()}return pt(a,[{key:"update",value:function(){var r=this.transform,s=r.x,l=r.y,c=r.k;this.content.holder.style.transform="translate(".concat(s,"px, ").concat(l,"px) scale(").concat(c,")")}},{key:"setDragHandler",value:function(r){var s=this;this.dragHandler&&this.dragHandler.destroy(),this.dragHandler=r,this.dragHandler&&this.dragHandler.initialize(this.container,{getCurrentPosition:function(){return s.transform},getZoom:function(){return 1}},{start:function(){return null},translate:this.onTranslate,drag:function(){return null}})}},{key:"setZoomHandler",value:function(r){this.zoomHandler&&this.zoomHandler.destroy(),this.zoomHandler=r,this.zoomHandler&&this.zoomHandler.initialize(this.container,this.content.holder,this.onZoom)}},{key:"setPointerFrom",value:function(r){var s=this.content.getPointerFrom(r),l=s.x,c=s.y,d=this.transform.k;this.pointer={x:l/d,y:c/d}}},{key:"translate",value:(function(){var n=at(xe.mark(function s(l,c){var d,h;return xe.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return d={x:l,y:c},g.next=3,this.guards.translate({previous:this.transform,position:d});case 3:if(h=g.sent,h){g.next=6;break}return g.abrupt("return",!1);case 6:return this.transform.x=h.data.position.x,this.transform.y=h.data.position.y,this.update(),g.next=11,this.events.translated(h.data);case 11:return g.abrupt("return",!0);case 12:case"end":return g.stop()}},s,this)}));function r(s,l){return n.apply(this,arguments)}return r})()},{key:"zoom",value:(function(){var n=at(xe.mark(function s(l){var c,d,h,m,g,v,b=arguments;return xe.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return c=b.length>1&&b[1]!==void 0?b[1]:0,d=b.length>2&&b[2]!==void 0?b[2]:0,h=b.length>3?b[3]:void 0,m=this.transform.k,k.next=6,this.guards.zoom({previous:this.transform,zoom:l,source:h});case 6:if(g=k.sent,g){k.next=9;break}return k.abrupt("return",!0);case 9:return v=(m-g.data.zoom)/(m-l||1),this.transform.k=g.data.zoom||1,this.transform.x+=c*v,this.transform.y+=d*v,this.update(),k.next=16,this.events.zoomed(g.data);case 16:return k.abrupt("return",!1);case 17:case"end":return k.stop()}},s,this)}));function r(s){return n.apply(this,arguments)}return r})()},{key:"destroy",value:function(){this.container.removeEventListener("pointerdown",this.pointerdown),this.container.removeEventListener("pointermove",this.pointermove),window.removeEventListener("pointerup",this.pointerup),window.removeEventListener("resize",this.resize),this.dragHandler&&this.dragHandler.destroy(),this.zoomHandler&&this.zoomHandler.destroy(),this.content.holder.innerHTML=""}}])})();function H2(a,n,r){return n=Ut(n),Ya(a,Tb()?Reflect.construct(n,r||[],Ut(a).constructor):n.apply(a,r))}function Tb(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tb=function(){return!!a})()}var Io=(function(a){function n(){return ht(this,n),H2(this,n,arguments)}return Qn(n,a),pt(n)})(Es),V2=pt(function a(n){ht(this,a),this.element=document.createElement("div"),this.element.style.position="absolute",this.element.style.left="0",this.element.style.top="0",this.element.addEventListener("contextmenu",function(r){return n.contextmenu(r)})}),q2=(function(){function a(){ht(this,a),Le(this,"views",new WeakMap),Le(this,"viewsElements",new Map)}return pt(a,[{key:"set",value:function(r){var s=r.element,l=r.type,c=r.payload;c!=null&&c.id&&(this.views.set(s,r),this.viewsElements.set("".concat(l,"_").concat(c.id),s))}},{key:"get",value:function(r,s){var l=this.viewsElements.get("".concat(r,"_").concat(s));return l&&this.views.get(l)}},{key:"delete",value:function(r){var s,l=this.views.get(r);l&&(s=l.payload)!==null&&s!==void 0&&s.id&&(this.views.delete(r),this.viewsElements.delete("".concat(l.type,"_").concat(l.payload.id)))}}])})();function bv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function wv(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?bv(Object(r),!0).forEach(function(s){Le(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):bv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}var Nb=(function(){function a(n,r,s){var l=this;ht(this,a),Le(this,"translate",(function(){var c=at(xe.mark(function d(h,m){var g,v;return xe.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return g=wv({},l.position),x.next=3,l.guards.translate({previous:g,position:{x:h,y:m}});case 3:if(v=x.sent,v){x.next=6;break}return x.abrupt("return",!1);case 6:return l.position=wv({},v.data.position),l.element.style.transform="translate(".concat(l.position.x,"px, ").concat(l.position.y,"px)"),x.next=10,l.events.translated({position:l.position,previous:g});case 10:return x.abrupt("return",!0);case 11:case"end":return x.stop()}},d)}));return function(d,h){return c.apply(this,arguments)}})()),Le(this,"resize",(function(){var c=at(xe.mark(function d(h,m){var g,v;return xe.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return g={width:h,height:m},x.next=3,l.guards.resize({size:g});case 3:if(x.sent){x.next=5;break}return x.abrupt("return",!1);case 5:if(v=l.element.querySelector("*:not(span):not([fragment])"),!(!v||!(v instanceof HTMLElement))){x.next=8;break}return x.abrupt("return",!1);case 8:return v.style.width="".concat(h,"px"),v.style.height="".concat(m,"px"),x.next=12,l.events.resized({size:g});case 12:return x.abrupt("return",!0);case 13:case"end":return x.stop()}},d)}));return function(d,h){return c.apply(this,arguments)}})()),this.getZoom=n,this.events=r,this.guards=s,this.element=document.createElement("div"),this.element.style.position="absolute",this.position={x:0,y:0},this.translate(0,0),this.element.addEventListener("contextmenu",function(c){return l.events.contextmenu(c)}),this.dragHandler=new Ah,this.dragHandler.initialize(this.element,{getCurrentPosition:function(){return l.position},getZoom:function(){return l.getZoom()}},{start:this.events.picked,translate:this.translate,drag:this.events.dragged})}return pt(a,[{key:"destroy",value:function(){this.dragHandler.destroy()}}])})();function Ob(a,n){return a.map(function(r){return{view:n.get(r.id),node:r}}).filter(function(r){return r.view}).map(function(r){var s=r.view,l=r.node,c=l.width,d=l.height;return typeof c<"u"&&typeof d<"u"?{position:s.position,width:c,height:d}:{position:s.position,width:s.element.clientWidth,height:s.element.clientHeight}})}function G2(a,n){var r=a.parentScope(Qr),s=n.map(function(c){return _n(c)==="object"?c:r.getNode(c)}),l=Ob(s,a.nodeViews);return Eb(l)}function Y2(a){var n=a;n.addPipe(function(r){if(!r||_n(r)!=="object"||!("type"in r))return r;if(r.type==="nodepicked"){var s=n.nodeViews.get(r.data.id),l=n.area.content;s&&l.reorder(s.element,null)}if(r.type==="connectioncreated"){var c=n.connectionViews.get(r.data.id),d=n.area.content;c&&d.reorder(c.element,d.holder.firstChild)}return r})}function Sv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function hr(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Sv(Object(r),!0).forEach(function(s){Le(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):Sv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function F2(a,n){var r=n!=null&&n.scaling?n.scaling===!0?{min:.1,max:1}:n.scaling:!1,s=n!=null&&n.translation?n.translation===!0?{left:0,top:0,right:1e3,bottom:1e3}:n.translation:!1;function l(d){if(!r)throw new Error("scaling param isnt defined");var h=typeof r=="function"?r():r,m=h.min,g=h.max;return d<m?m:d>g?g:d}function c(d){if(!s)throw new Error("translation param isnt defined");var h=hr({},d),m=typeof s=="function"?s():s,g=m.left,v=m.top,b=m.right,x=m.bottom;return h.x<g&&(h.x=g),h.x>b&&(h.x=b),h.y<v&&(h.y=v),h.y>x&&(h.y=x),h}a.addPipe(function(d){if(!d||_n(d)!=="object"||!("type"in d))return d;if(r&&d.type==="zoom")return hr(hr({},d),{},{data:hr(hr({},d.data),{},{zoom:l(d.data.zoom)})});if(s&&d.type==="zoomed"){var h=c(a.area.transform);a.area.translate(h.x,h.y)}return s&&d.type==="translate"?hr(hr({},d),{},{data:hr(hr({},d.data),{},{position:c(d.data.position)})}):d})}function P2(){var a=!1;function n(s){(s.key==="Control"||s.key==="Meta")&&(a=!0)}function r(s){(s.key==="Control"||s.key==="Meta")&&(a=!1)}return document.addEventListener("keydown",n),document.addEventListener("keyup",r),{active:function(){return a},destroy:function(){document.removeEventListener("keydown",n),document.removeEventListener("keyup",r)}}}var jb=(function(){function a(){ht(this,a),Le(this,"entities",new Map),Le(this,"pickId",null)}return pt(a,[{key:"isSelected",value:function(r){return this.entities.has("".concat(r.label,"_").concat(r.id))}},{key:"add",value:(function(){var n=at(xe.mark(function s(l,c){return xe.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(c){h.next=3;break}return h.next=3,this.unselectAll();case 3:this.entities.set("".concat(l.label,"_").concat(l.id),l);case 4:case"end":return h.stop()}},s,this)}));function r(s,l){return n.apply(this,arguments)}return r})()},{key:"remove",value:(function(){var n=at(xe.mark(function s(l){var c,d;return xe.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(c="".concat(l.label,"_").concat(l.id),d=this.entities.get(c),!d){m.next=6;break}return this.entities.delete(c),m.next=6,d.unselect();case 6:case"end":return m.stop()}},s,this)}));function r(s){return n.apply(this,arguments)}return r})()},{key:"unselectAll",value:(function(){var n=at(xe.mark(function s(){var l=this;return xe.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Promise.all(ks(Array.from(this.entities.values())).map(function(h){return l.remove(h)}));case 2:case"end":return d.stop()}},s,this)}));function r(){return n.apply(this,arguments)}return r})()},{key:"translate",value:(function(){var n=at(xe.mark(function s(l,c){var d=this;return xe.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,Promise.all(Array.from(this.entities.values()).map(function(g){return!d.isPicked(g)&&g.translate(l,c)}));case 2:case"end":return m.stop()}},s,this)}));function r(s,l){return n.apply(this,arguments)}return r})()},{key:"pick",value:function(r){this.pickId="".concat(r.label,"_").concat(r.id)}},{key:"release",value:function(){this.pickId=null}},{key:"isPicked",value:function(r){return this.pickId==="".concat(r.label,"_").concat(r.id)}}])})();function Z2(){return new jb}function X2(a,n,r){var s=null,l=a,c=function(){return s||(s=l.parentScope(Qr))},d=0;function h(k){k.selected||(k.selected=!0,l.update("node",k.id))}function m(k){k.selected&&(k.selected=!1,l.update("node",k.id))}function g(k,_){return v.apply(this,arguments)}function v(){return v=at(xe.mark(function k(_,Z){var q;return xe.wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(q=c().getNode(_),q){K.next=3;break}return K.abrupt("return");case 3:return K.next=5,n.add({label:"node",id:q.id,translate:function(Y,fe){return at(xe.mark(function be(){var H,de;return xe.wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:if(H=l.nodeViews.get(q.id),de=H?.position,!de){pe.next=5;break}return pe.next=5,H.translate(de.x+Y,de.y+fe);case 5:case"end":return pe.stop()}},be)}))()},unselect:function(){m(q)}},Z);case 5:h(q);case 6:case"end":return K.stop()}},k)})),v.apply(this,arguments)}function b(k){return x.apply(this,arguments)}function x(){return x=at(xe.mark(function k(_){return xe.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.next=2,n.remove({id:_,label:"node"});case 2:case"end":return q.stop()}},k)})),x.apply(this,arguments)}return l.addPipe((function(){var k=at(xe.mark(function _(Z){var q,W,K,B,Y,fe,be,H;return xe.wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:if(!(!Z||_n(Z)!=="object"||!("type"in Z))){ie.next=2;break}return ie.abrupt("return",Z);case 2:if(Z.type!=="nodepicked"){ie.next=11;break}return q=Z.data.id,W=r.accumulating.active(),n.pick({id:q,label:"node"}),d=null,ie.next=9,g(q,W);case 9:ie.next=33;break;case 11:if(Z.type!=="nodetranslated"){ie.next=20;break}if(K=Z.data,B=K.id,Y=K.position,fe=K.previous,be=Y.x-fe.x,H=Y.y-fe.y,!n.isPicked({id:B,label:"node"})){ie.next=18;break}return ie.next=18,n.translate(be,H);case 18:ie.next=33;break;case 20:if(Z.type!=="pointerdown"){ie.next=24;break}d=0,ie.next=33;break;case 24:if(Z.type!=="pointermove"){ie.next=28;break}d!==null&&d++,ie.next=33;break;case 28:if(Z.type!=="pointerup"){ie.next=33;break}if(!(d!==null&&d<4)){ie.next=32;break}return ie.next=32,n.unselectAll();case 32:d=null;case 33:return ie.abrupt("return",Z);case 34:case"end":return ie.stop()}},_)}));return function(_){return k.apply(this,arguments)}})()),{select:g,unselect:b}}function K2(a,n){var r=null,s=function(){return r||(r=a.parentScope(Qr))};function l(c,d){var h=s().getNode(c);if(h){var m=h.inputs[d];if(!m)throw new Error("cannot find input");var g=m.showControl,v=s().getConnections(),b=!!v.find(function(x){return x.target===c&&x.targetInput===d});m.showControl=n?n({hasAnyConnection:b,input:m}):!b,m.showControl!==g&&a.update("node",h.id)}}a.addPipe(function(c){return(c.type==="connectioncreated"||c.type==="connectionremoved")&&l(c.data.target,c.data.targetInput),c})}function xv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function ac(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?xv(Object(r),!0).forEach(function(s){Le(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):xv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function Q2(a,n){var r=a,s=typeof n?.size>"u"?16:n.size,l=typeof n?.dynamic>"u"?!0:n.dynamic;function c(d){return Math.round(d/s)*s}r.addPipe(function(d){if(!d||_n(d)!=="object"||!("type"in d))return d;if(l&&d.type==="nodetranslate"){var h=d.data.position,m=c(h.x),g=c(h.y);return ac(ac({},d),{},{data:ac(ac({},d.data),{},{position:{x:m,y:g}})})}if(!l&&d.type==="nodedragged"){var v=r.nodeViews.get(d.data.id);if(v){var b=v.position,x=b.x,k=b.y;v.translate(c(x),c(k))}}return d})}function W2(a,n,r){return Yf.apply(this,arguments)}function Yf(){return Yf=at(xe.mark(function a(n,r,s){var l,c,d,h,m,g,v,b,x,k,_,Z,q;return xe.wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return l=s||{},c=l.scale,d=c===void 0?.9:c,h=n.parentScope(Qr),m=r.map(function(B){return _n(B)==="object"?B:h.getNode(B)}),g=Ob(m,n.nodeViews),v=Eb(g),b=[n.container.clientWidth,n.container.clientHeight],x=b[0],k=b[1],_=x/v.width,Z=k/v.height,q=Math.min(Z*d,_*d,1),n.area.transform.x=x/2-v.center.x*q,n.area.transform.y=k/2-v.center.y*q,K.next=12,n.area.zoom(q,0,0);case 12:case"end":return K.stop()}},a)})),Yf.apply(this,arguments)}var qr=Object.freeze({__proto__:null,getBoundingBox:G2,simpleNodesOrder:Y2,restrictor:F2,accumulateOnCtrl:P2,selectableNodes:X2,Selector:jb,selector:Z2,showInputControl:K2,snapGrid:Q2,zoomAt:W2});function Ev(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function kv(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Ev(Object(r),!0).forEach(function(s){Le(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):Ev(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function J2(a,n,r){return n=Ut(n),Ya(a,Ab()?Reflect.construct(n,r||[],Ut(a).constructor):n.apply(a,r))}function Ab(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ab=function(){return!!a})()}var _b=(function(a){function n(r){var s;return ht(this,n),s=J2(this,n,["area"]),Le(s,"nodeViews",new Map),Le(s,"connectionViews",new Map),Le(s,"elements",new q2),Le(s,"onContextMenu",function(l){s.emit({type:"contextmenu",data:{event:l,context:"root"}})}),s.container=r,r.style.overflow="hidden",r.addEventListener("contextmenu",s.onContextMenu),s.addPipe(function(l){return!l||!(_n(l)==="object"&&"type"in l)||(l.type==="nodecreated"&&s.addNodeView(l.data),l.type==="noderemoved"&&s.removeNodeView(l.data.id),l.type==="connectioncreated"&&s.addConnectionView(l.data),l.type==="connectionremoved"&&s.removeConnectionView(l.data.id),l.type==="render"&&s.elements.set(l.data),l.type==="unmount"&&s.elements.delete(l.data.element)),l}),s.area=new Cb(r,{zoomed:function(c){return s.emit({type:"zoomed",data:c})},pointerDown:function(c,d){return void s.emit({type:"pointerdown",data:{position:c,event:d}})},pointerMove:function(c,d){return void s.emit({type:"pointermove",data:{position:c,event:d}})},pointerUp:function(c,d){return void s.emit({type:"pointerup",data:{position:c,event:d}})},resize:function(c){return void s.emit({type:"resized",data:{event:c}})},translated:function(c){return s.emit({type:"translated",data:c})},reordered:function(c){return s.emit({type:"reordered",data:{element:c}})}},{translate:function(c){return s.emit({type:"translate",data:c})},zoom:function(c){return s.emit({type:"zoom",data:c})}}),s}return Qn(n,a),pt(n,[{key:"addNodeView",value:function(s){var l=this,c=s.id,d=new Nb(function(){return l.area.transform.k},{picked:function(){return void l.emit({type:"nodepicked",data:{id:c}})},translated:function(m){return l.emit({type:"nodetranslated",data:kv({id:c},m)})},dragged:function(){return void l.emit({type:"nodedragged",data:s})},contextmenu:function(m){return void l.emit({type:"contextmenu",data:{event:m,context:s}})},resized:function(m){var g=m.size;return l.emit({type:"noderesized",data:{id:s.id,size:g}})}},{translate:function(m){return l.emit({type:"nodetranslate",data:kv({id:c},m)})},resize:function(m){var g=m.size;return l.emit({type:"noderesize",data:{id:s.id,size:g}})}});return this.nodeViews.set(c,d),this.area.content.add(d.element),this.emit({type:"render",data:{element:d.element,type:"node",payload:s}}),d}},{key:"removeNodeView",value:function(s){var l=this.nodeViews.get(s);l&&(this.emit({type:"unmount",data:{element:l.element}}),this.nodeViews.delete(s),this.area.content.remove(l.element))}},{key:"addConnectionView",value:function(s){var l=this,c=new V2({contextmenu:function(h){return void l.emit({type:"contextmenu",data:{event:h,context:s}})}});return this.connectionViews.set(s.id,c),this.area.content.add(c.element),this.emit({type:"render",data:{element:c.element,type:"connection",payload:s}}),c}},{key:"removeConnectionView",value:function(s){var l=this.connectionViews.get(s);l&&(this.emit({type:"unmount",data:{element:l.element}}),this.connectionViews.delete(s),this.area.content.remove(l.element))}},{key:"update",value:(function(){var r=at(xe.mark(function l(c,d){var h;return xe.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(h=this.elements.get(c,d),!h){g.next=4;break}return g.next=4,this.emit({type:"render",data:h});case 4:case"end":return g.stop()}},l,this)}));function s(l,c){return r.apply(this,arguments)}return s})()},{key:"resize",value:(function(){var r=at(xe.mark(function l(c,d,h){var m;return xe.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(m=this.nodeViews.get(c),!m){v.next=5;break}return v.next=4,m.resize(d,h);case 4:return v.abrupt("return",v.sent);case 5:case"end":return v.stop()}},l,this)}));function s(l,c,d){return r.apply(this,arguments)}return s})()},{key:"translate",value:(function(){var r=at(xe.mark(function l(c,d){var h,m,g;return xe.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(h=d.x,m=d.y,g=this.nodeViews.get(c),!g){b.next=6;break}return b.next=5,g.translate(h,m);case 5:return b.abrupt("return",b.sent);case 6:case"end":return b.stop()}},l,this)}));function s(l,c){return r.apply(this,arguments)}return s})()},{key:"destroy",value:function(){var s=this;this.container.removeEventListener("contextmenu",this.onContextMenu),Array.from(this.connectionViews.keys()).forEach(function(l){return s.removeConnectionView(l)}),Array.from(this.nodeViews.keys()).forEach(function(l){return s.removeNodeView(l)}),this.area.destroy()}}])})(Io);const Cv=Object.freeze(Object.defineProperty({__proto__:null,Area:Cb,AreaExtensions:qr,AreaPlugin:_b,BaseAreaPlugin:Io,Drag:Ah,NodeView:Nb,Zoom:kb,usePointerListener:xb},Symbol.toStringTag,{value:"Module"}));function eE(a,n){for(;!{}.hasOwnProperty.call(a,n)&&(a=Ut(a))!==null;);return a}function Bo(){return Bo=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(a,n,r){var s=eE(a,n);if(s){var l=Object.getOwnPropertyDescriptor(s,n);return l.get?l.get.call(arguments.length<3?a:r):l.value}},Bo.apply(null,arguments)}function tE(a){if(Array.isArray(a))return a}function nE(a,n){var r=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(r!=null){var s,l,c,d,h=[],m=!0,g=!1;try{if(c=(r=r.call(a)).next,n!==0)for(;!(m=(s=c.call(r)).done)&&(h.push(s.value),h.length!==n);m=!0);}catch(v){g=!0,l=v}finally{try{if(!m&&r.return!=null&&(d=r.return(),Object(d)!==d))return}finally{if(g)throw l}}return h}}function aE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vn(a,n){return tE(a)||nE(a,n)||Sb(a,n)||aE()}function Tv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function xf(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Tv(Object(r),!0).forEach(function(s){Le(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):Tv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function rE(a){var n=null,r=null;function s(c){r&&c.removeConnectionView(r),n=null,r=null}function l(c){s(c),r="pseudo_".concat(Wr())}return{isMounted:function(){return!!r},mount:l,render:function(d,h,m){var g=h.x,v=h.y,b=m.side==="output",x={x:g+(b?-3:3),y:v};if(!r)throw new Error("pseudo connection id wasn't generated");var k=b?xf({id:r,source:m.nodeId,sourceOutput:m.key,target:"",targetInput:""},a??{}):xf({id:r,target:m.nodeId,targetInput:m.key,source:"",sourceOutput:""},a??{});if(!n){var _=d.addConnectionView(k);n=_.element}n&&d.emit({type:"render",data:xf({element:n,type:"connection",payload:k},b?{end:x}:{start:x})})},unmount:s}}function iE(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=sE(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(g){throw g},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,d=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var g=r.next();return d=g.done,g},e:function(g){h=!0,c=g},f:function(){try{d||r.return==null||r.return()}finally{if(h)throw c}}}}function sE(a,n){if(a){if(typeof a=="string")return Nv(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Nv(a,n):void 0}}function Nv(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function oE(a,n){var r=iE(n),s;try{for(r.s();!(s=r.n()).done;){var l=s.value,c=a.get(l);if(c)return c}}catch(d){r.e(d)}finally{r.f()}}function Db(a,n){var r,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document,l=s.elementsFromPoint(a,n),c=(r=l[0])===null||r===void 0?void 0:r.shadowRoot;return c&&c!==s&&l.unshift.apply(l,ks(Db(a,n,c))),l}var _h=(function(){function a(){ht(this,a)}return pt(a,[{key:"setContext",value:function(r){this.context=r}}])})();function Mb(a,n){var r=a.side==="output"&&n.side==="input",s=a.side==="input"&&n.side==="output",l=r?[a,n]:s?[n,a]:[],c=Vn(l,2),d=c[0],h=c[1];if(d&&h)return[d,h]}function lE(a,n){return!!Mb(a,n)}function cE(a,n,r){var s=Mb(a,n)||[null,null],l=Vn(s,2),c=l[0],d=l[1];if(c&&d)return r.editor.addConnection({id:Wr(),source:c.nodeId,sourceOutput:c.key,target:d.nodeId,targetInput:d.key}),!0}function uE(a,n){var r=n.getNode(a.nodeId);if(!r)throw new Error("cannot find node");var s=a.side==="input"?r.inputs:r.outputs;return s[a.key]}function dE(a,n){var r=a.nodeId,s=a.side,l=a.key;return n.getConnections().filter(function(c){if(s==="input")return c.target===r&&c.targetInput===l;if(s==="output")return c.source===r&&c.sourceOutput===l})}function Ff(a,n){var r=a.map(function(s){var l=uE(s,n),c=l?.multipleConnections;return c?[]:dE(s,n)}).flat();return{commit:function(){var l=Array.from(new Set(r.map(function(c){var d=c.id;return d})));l.forEach(function(c){return void n.removeConnection(c)})}}}function Dh(a,n,r){return n=Ut(n),Ya(a,Rb()?Reflect.construct(n,[],Ut(a).constructor):n.apply(a,r))}function Rb(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rb=function(){return!!a})()}var fE=(function(a){function n(r,s){var l;return ht(this,n),l=Dh(this,n),l.initial=r,l.params=s,l}return Qn(n,a),pt(n,[{key:"pick",value:(function(){var r=at(xe.mark(function l(c,d){var h,m;return xe.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:h=c.socket,this.params.canMakeConnection(this.initial,h)&&(Ff([this.initial,h],d.editor).commit(),m=this.params.makeConnection(this.initial,h,d),this.drop(d,m?h:null,m));case 2:case"end":return v.stop()}},l,this)}));function s(l,c){return r.apply(this,arguments)}return s})()},{key:"drop",value:function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.initial&&s.scope.emit({type:"connectiondrop",data:{initial:this.initial,socket:l,created:c}}),this.context.switchTo(new Mh(this.params))}}])})(_h),hE=(function(a){function n(r,s,l){var c;ht(this,n),c=Dh(this,n),c.connection=r,c.params=s;var d=Array.from(l.socketsCache.values()).find(function(h){return h.nodeId===c.connection.source&&h.side==="output"&&h.key===c.connection.sourceOutput});if(!d)throw new Error("cannot find output socket");return c.outputSocket=d,c}return Qn(n,a),pt(n,[{key:"init",value:(function(){var r=at(xe.mark(function l(c){var d=this;return xe.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:c.scope.emit({type:"connectionpick",data:{socket:this.outputSocket}}).then(function(g){g?(c.editor.removeConnection(d.connection.id),d.initial=d.outputSocket):d.drop(c)});case 1:case"end":return m.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"pick",value:(function(){var r=at(xe.mark(function l(c,d){var h,m,g,v,b,x;return xe.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:h=c.socket,m=c.event,this.initial&&!(h.side==="input"&&this.connection.target===h.nodeId&&this.connection.targetInput===h.key)?this.params.canMakeConnection(this.initial,h)&&(Ff([this.initial,h],d.editor).commit(),g=this.params.makeConnection(this.initial,h,d),v=g?h:null,this.drop(d,v,g)):m==="down"&&this.initial&&(Ff([this.initial,h],d.editor).commit(),b=this.params.makeConnection(this.initial,h,d),x=b?null:h,this.drop(d,x,b));case 2:case"end":return _.stop()}},l,this)}));function s(l,c){return r.apply(this,arguments)}return s})()},{key:"drop",value:function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.initial&&s.scope.emit({type:"connectiondrop",data:{initial:this.initial,socket:l,created:c}}),this.context.switchTo(new Mh(this.params))}}])})(_h),Mh=(function(a){function n(r){var s;return ht(this,n),s=Dh(this,n),s.params=r,s}return Qn(n,a),pt(n,[{key:"pick",value:(function(){var r=at(xe.mark(function l(c,d){var h,m,g,v;return xe.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(h=c.socket,m=c.event,m==="down"){x.next=3;break}return x.abrupt("return");case 3:if(h.side!=="input"){x.next=11;break}if(g=d.editor.getConnections().find(function(k){return k.target===h.nodeId&&k.targetInput===h.key}),!g){x.next=11;break}return v=new hE(g,this.params,d),x.next=9,v.init(d);case 9:return this.context.switchTo(v),x.abrupt("return");case 11:return x.next=13,d.scope.emit({type:"connectionpick",data:{socket:h}});case 13:if(!x.sent){x.next=17;break}this.context.switchTo(new fE(h,this.params)),x.next=18;break;case 17:this.drop(d);case 18:case"end":return x.stop()}},l,this)}));function s(l,c){return r.apply(this,arguments)}return s})()},{key:"drop",value:function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.initial&&s.scope.emit({type:"connectiondrop",data:{initial:this.initial,socket:l,created:c}}),delete this.initial}}])})(_h),pE=(function(){function a(n){ht(this,a);var r=n?.canMakeConnection||lE,s=n?.makeConnection||cE;this.switchTo(new Mh({canMakeConnection:r,makeConnection:s}))}return pt(a,[{key:"pick",value:(function(){var n=at(xe.mark(function s(l,c){return xe.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.currentState.pick(l,c);case 2:case"end":return h.stop()}},s,this)}));function r(s,l){return n.apply(this,arguments)}return r})()},{key:"getPickedSocket",value:function(){return this.currentState.initial}},{key:"switchTo",value:function(r){r.setContext(this),this.currentState=r}},{key:"drop",value:function(r){this.currentState.drop(r)}}])})();function mE(){return function(){return new pE}}var gE=Object.freeze({__proto__:null,setup:mE}),yE=Object.freeze({__proto__:null,classic:gE});function vE(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=bE(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(g){throw g},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,d=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var g=r.next();return d=g.done,g},e:function(g){h=!0,c=g},f:function(){try{d||r.return==null||r.return()}finally{if(h)throw c}}}}function bE(a,n){if(a){if(typeof a=="string")return Ov(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ov(a,n):void 0}}function Ov(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function wE(a,n,r){return n=Ut(n),Ya(a,zb()?Reflect.construct(n,r||[],Ut(a).constructor):n.apply(a,r))}function zb(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zb=function(){return!!a})()}function SE(a,n,r,s){var l=Bo(Ut(a.prototype),n,r);return typeof l=="function"?function(c){return l.apply(r,c)}:l}var xE=(function(a){function n(){var r;return ht(this,n),r=wE(this,n,["connection"]),Le(r,"presets",[]),Le(r,"currentFlow",null),Le(r,"preudoconnection",rE({isPseudo:!0})),Le(r,"socketsCache",new Map),r}return Qn(n,a),pt(n,[{key:"addPreset",value:function(s){this.presets.push(s)}},{key:"findPreset",value:function(s){var l=vE(this.presets),c;try{for(l.s();!(c=l.n()).done;){var d=c.value,h=d(s);if(h)return h}}catch(m){l.e(m)}finally{l.f()}return null}},{key:"update",value:function(){if(this.currentFlow){var s=this.currentFlow.getPickedSocket();s&&this.preudoconnection.render(this.areaPlugin,this.areaPlugin.area.pointer,s)}}},{key:"drop",value:function(){var s={editor:this.editor,scope:this,socketsCache:this.socketsCache};this.currentFlow&&(this.currentFlow.drop(s),this.preudoconnection.unmount(this.areaPlugin),this.currentFlow=null)}},{key:"pick",value:(function(){var r=at(xe.mark(function l(c,d){var h,m,g;return xe.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(h={editor:this.editor,scope:this,socketsCache:this.socketsCache},m=Db(c.clientX,c.clientY),g=oE(this.socketsCache,m),!g){b.next=13;break}if(c.preventDefault(),c.stopPropagation(),this.currentFlow=this.currentFlow||this.findPreset(g),!this.currentFlow){b.next=11;break}return b.next=10,this.currentFlow.pick({socket:g,event:d},h);case 10:this.preudoconnection.mount(this.areaPlugin);case 11:b.next=14;break;case 13:this.currentFlow&&this.currentFlow.drop(h);case 14:this.currentFlow&&!this.currentFlow.getPickedSocket()&&(this.preudoconnection.unmount(this.areaPlugin),this.currentFlow=null),this.update();case 16:case"end":return b.stop()}},l,this)}));function s(l,c){return r.apply(this,arguments)}return s})()},{key:"setParent",value:function(s){var l=this;SE(n,"setParent",this)([s]),this.areaPlugin=this.parentScope(Io),this.editor=this.areaPlugin.parentScope(Qr);var c=function(h){l.pick(h,"down")};this.addPipe(function(d){if(!d||_n(d)!=="object"||!("type"in d))return d;if(d.type==="pointermove")l.update();else if(d.type==="pointerup")l.pick(d.data.event,"up");else if(d.type==="render"){if(d.data.type==="socket"){var h=d.data.element;h.addEventListener("pointerdown",c),l.socketsCache.set(h,d.data)}}else if(d.type==="unmount"){var m=d.data.element;m.removeEventListener("pointerdown",c),l.socketsCache.delete(m)}return d})}}])})(Es);function EE(a,n){var r=Vn(a,2),s=r[0],l=s.x,c=s.y,d=r[1],h=d.x,m=d.y,g=Math.abs(c-m),v=l+Math.max(g/2,Math.abs(h-l))*n,b=h-Math.max(g/2,Math.abs(h-l))*n;return"M ".concat(l," ").concat(c," C ").concat(v," ").concat(c," ").concat(b," ").concat(m," ").concat(h," ").concat(m)}function kE(a,n,r){var s=Vn(a,2),l=s[0],c=l.x,d=l.y,h=s[1],m=h.x,g=h.y,v=g>d?1:-1,b=r+Math.abs(c-m)/(r/2),x=(c+m)/2,k=d-v*b,_=(g-d)*n;return`
        M `.concat(c," ").concat(d,`
        C `).concat(c+b," ").concat(d,`
        `).concat(c+b," ").concat(k-_,`
        `).concat(x," ").concat(k,`
        C `).concat(m-b," ").concat(k+_,`
        `).concat(m-b," ").concat(g,`
        `).concat(m," ").concat(g,`
    `)}function CE(a,n){return Pf.apply(this,arguments)}function Pf(){return Pf=at(xe.mark(function a(n,r){var s,l,c,d,h;return xe.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(n.offsetParent){g.next=5;break}return g.next=3,new Promise(function(v){return setTimeout(v,0)});case 3:g.next=0;break;case 5:if(s=n.offsetLeft,l=n.offsetTop,c=n.offsetParent,c){g.next=10;break}throw new Error("child has null offsetParent");case 10:for(;c!==null&&c!==r;)s+=c.offsetLeft+c.clientLeft,l+=c.offsetTop+c.clientTop,c=c.offsetParent;return d=n.offsetWidth,h=n.offsetHeight,g.abrupt("return",{x:s+d/2,y:l+h/2});case 14:case"end":return g.stop()}},a)})),Pf.apply(this,arguments)}var TE=(function(){function a(){ht(this,a),Le(this,"listeners",new Set)}return pt(a,[{key:"emit",value:function(r){this.listeners.forEach(function(s){s(r)})}},{key:"listen",value:function(r){var s=this;return this.listeners.add(r),function(){s.listeners.delete(r)}}}])})(),NE=(function(){function a(){ht(this,a),Le(this,"elements",new Map)}return pt(a,[{key:"getPosition",value:function(r){var s,l,c=Array.from(this.elements.values()).flat(),d=c.filter(function(h){return h.side===r.side&&h.nodeId===r.nodeId&&h.key===r.key});return d.length>1&&console.warn(["Found more than one element for socket with same key and side.","Probably it was not unmounted correctly"].join(" "),r),(s=(l=d.pop())===null||l===void 0?void 0:l.position)!==null&&s!==void 0?s:null}},{key:"add",value:function(r){var s=this.elements.get(r.element);this.elements.set(r.element,s?[].concat(ks(s.filter(function(l){return!(l.nodeId===r.nodeId&&l.key===r.key&&l.side===r.side)})),[r]):[r])}},{key:"remove",value:function(r){this.elements.delete(r)}},{key:"snapshot",value:function(){return Array.from(this.elements.values()).flat()}}])})(),OE=(function(){function a(){ht(this,a),Le(this,"sockets",new NE),Le(this,"emitter",new TE),Le(this,"area",null)}return pt(a,[{key:"attach",value:function(r){var s=this;this.area||r.hasParent()&&(this.area=r.parentScope(Io),this.area.addPipe((function(){var l=at(xe.mark(function c(d){var h,m,g,v,b,x,k,_,Z,q,W;return xe.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(!(d.type==="rendered"&&d.data.type==="socket")){B.next=8;break}return h=d.data,m=h.nodeId,g=h.key,v=h.side,b=h.element,B.next=4,s.calculatePosition(m,v,g,b);case 4:x=B.sent,x&&(s.sockets.add({nodeId:m,key:g,side:v,element:b,position:x}),s.emitter.emit({nodeId:m,key:g,side:v})),B.next=24;break;case 8:if(d.type!=="unmount"){B.next=12;break}s.sockets.remove(d.data.element),B.next=24;break;case 12:if(d.type!=="nodetranslated"){B.next=16;break}s.emitter.emit({nodeId:d.data.id}),B.next=24;break;case 16:if(d.type!=="noderesized"){B.next=23;break}return k=d.data.id,B.next=20,Promise.all(s.sockets.snapshot().filter(function(Y){return Y.nodeId===d.data.id&&Y.side==="output"}).map((function(){var Y=at(xe.mark(function fe(be){var H,de,ie,pe;return xe.wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return H=be.side,de=be.key,ie=be.element,Ae.next=3,s.calculatePosition(k,H,de,ie);case 3:pe=Ae.sent,pe&&(be.position=pe);case 5:case"end":return Ae.stop()}},fe)}));return function(fe){return Y.apply(this,arguments)}})()));case 20:s.emitter.emit({nodeId:k}),B.next=24;break;case 23:d.type==="render"&&d.data.type==="connection"&&(_=d.data.payload,Z=_.source,q=_.target,W=Z||q,s.emitter.emit({nodeId:W}));case 24:return B.abrupt("return",d);case 25:case"end":return B.stop()}},c)}));return function(c){return l.apply(this,arguments)}})()))}},{key:"listen",value:function(r,s,l,c){var d=this,h=this.emitter.listen(function(m){if(m.nodeId===r&&(!m.key||m.side===s)&&(!m.side||m.key===l)){var g,v=d.sockets.getPosition({side:s,nodeId:r,key:l});if(!v)return;var b=v.x,x=v.y,k=(g=d.area)===null||g===void 0?void 0:g.nodeViews.get(r);k&&c({x:b+k.position.x,y:x+k.position.y})}});return this.sockets.snapshot().forEach(function(m){m.nodeId===r&&d.emitter.emit(m)}),h}}])})();function jE(a,n,r){return n=Ut(n),Ya(a,Lb()?Reflect.construct(n,[],Ut(a).constructor):n.apply(a,r))}function Lb(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lb=function(){return!!a})()}var AE=(function(a){function n(r){var s;return ht(this,n),s=jE(this,n),s.props=r,s}return Qn(n,a),pt(n,[{key:"calculatePosition",value:(function(){var r=at(xe.mark(function l(c,d,h,m){var g,v,b,x;return xe.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(b=(g=this.area)===null||g===void 0?void 0:g.nodeViews.get(c),b!=null&&b.element){_.next=3;break}return _.abrupt("return",null);case 3:return _.next=5,CE(m,b.element);case 5:if(x=_.sent,!((v=this.props)!==null&&v!==void 0&&v.offset)){_.next=8;break}return _.abrupt("return",this.props.offset(x,c,d,h));case 8:return _.abrupt("return",{x:x.x+12*(d==="input"?-1:1),y:x.y});case 9:case"end":return _.stop()}},l,this)}));function s(l,c,d,h){return r.apply(this,arguments)}return s})()}])})(OE);function _E(a){return new AE(a)}function Dn(a,n){return n||(n=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(n)}}))}var Kn=function(){return Kn=Object.assign||function(n){for(var r,s=1,l=arguments.length;s<l;s++){r=arguments[s];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(n[c]=r[c])}return n},Kn.apply(this,arguments)};function Oc(a,n,r){if(r||arguments.length===2)for(var s=0,l=n.length,c;s<l;s++)(c||!(s in n))&&(c||(c=Array.prototype.slice.call(n,0,s)),c[s]=n[s]);return a.concat(c||Array.prototype.slice.call(n))}var qt="-ms-",Do="-moz-",Nt="-webkit-",Bb="comm",Uc="rule",Rh="decl",DE="@import",Ub="@keyframes",ME="@layer",$b=Math.abs,zh=String.fromCharCode,Zf=Object.assign;function RE(a,n){return Tn(a,0)^45?(((n<<2^Tn(a,0))<<2^Tn(a,1))<<2^Tn(a,2))<<2^Tn(a,3):0}function Ib(a){return a.trim()}function mr(a,n){return(a=n.exec(a))?a[0]:a}function nt(a,n,r){return a.replace(n,r)}function gc(a,n,r){return a.indexOf(n,r)}function Tn(a,n){return a.charCodeAt(n)|0}function ys(a,n,r){return a.slice(n,r)}function $a(a){return a.length}function Hb(a){return a.length}function To(a,n){return n.push(a),a}function zE(a,n){return a.map(n).join("")}function jv(a,n){return a.filter(function(r){return!mr(r,n)})}var $c=1,vs=1,Vb=0,xa=0,bn=0,Cs="";function Ic(a,n,r,s,l,c,d,h){return{value:a,root:n,parent:r,type:s,props:l,children:c,line:$c,column:vs,length:d,return:"",siblings:h}}function Gr(a,n){return Zf(Ic("",null,null,"",null,null,0,a.siblings),a,{length:-a.length},n)}function os(a){for(;a.root;)a=Gr(a.root,{children:[a]});To(a,a.siblings)}function LE(){return bn}function BE(){return bn=xa>0?Tn(Cs,--xa):0,vs--,bn===10&&(vs=1,$c--),bn}function Aa(){return bn=xa<Vb?Tn(Cs,xa++):0,vs++,bn===10&&(vs=1,$c++),bn}function ki(){return Tn(Cs,xa)}function yc(){return xa}function Hc(a,n){return ys(Cs,a,n)}function Xf(a){switch(a){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function UE(a){return $c=vs=1,Vb=$a(Cs=a),xa=0,[]}function $E(a){return Cs="",a}function Ef(a){return Ib(Hc(xa-1,Kf(a===91?a+2:a===40?a+1:a)))}function IE(a){for(;(bn=ki())&&bn<33;)Aa();return Xf(a)>2||Xf(bn)>3?"":" "}function HE(a,n){for(;--n&&Aa()&&!(bn<48||bn>102||bn>57&&bn<65||bn>70&&bn<97););return Hc(a,yc()+(n<6&&ki()==32&&Aa()==32))}function Kf(a){for(;Aa();)switch(bn){case a:return xa;case 34:case 39:a!==34&&a!==39&&Kf(bn);break;case 40:a===41&&Kf(a);break;case 92:Aa();break}return xa}function VE(a,n){for(;Aa()&&a+bn!==57;)if(a+bn===84&&ki()===47)break;return"/*"+Hc(n,xa-1)+"*"+zh(a===47?a:Aa())}function qE(a){for(;!Xf(ki());)Aa();return Hc(a,xa)}function GE(a){return $E(vc("",null,null,null,[""],a=UE(a),0,[0],a))}function vc(a,n,r,s,l,c,d,h,m){for(var g=0,v=0,b=d,x=0,k=0,_=0,Z=1,q=1,W=1,K=0,B="",Y=l,fe=c,be=s,H=B;q;)switch(_=K,K=Aa()){case 40:if(_!=108&&Tn(H,b-1)==58){gc(H+=nt(Ef(K),"&","&\f"),"&\f",$b(g?h[g-1]:0))!=-1&&(W=-1);break}case 34:case 39:case 91:H+=Ef(K);break;case 9:case 10:case 13:case 32:H+=IE(_);break;case 92:H+=HE(yc()-1,7);continue;case 47:switch(ki()){case 42:case 47:To(YE(VE(Aa(),yc()),n,r,m),m);break;default:H+="/"}break;case 123*Z:h[g++]=$a(H)*W;case 125*Z:case 59:case 0:switch(K){case 0:case 125:q=0;case 59+v:W==-1&&(H=nt(H,/\f/g,"")),k>0&&$a(H)-b&&To(k>32?_v(H+";",s,r,b-1,m):_v(nt(H," ","")+";",s,r,b-2,m),m);break;case 59:H+=";";default:if(To(be=Av(H,n,r,g,v,l,h,B,Y=[],fe=[],b,c),c),K===123)if(v===0)vc(H,n,be,be,Y,c,b,h,fe);else switch(x===99&&Tn(H,3)===110?100:x){case 100:case 108:case 109:case 115:vc(a,be,be,s&&To(Av(a,be,be,0,0,l,h,B,l,Y=[],b,fe),fe),l,fe,b,h,s?Y:fe);break;default:vc(H,be,be,be,[""],fe,0,h,fe)}}g=v=k=0,Z=W=1,B=H="",b=d;break;case 58:b=1+$a(H),k=_;default:if(Z<1){if(K==123)--Z;else if(K==125&&Z++==0&&BE()==125)continue}switch(H+=zh(K),K*Z){case 38:W=v>0?1:(H+="\f",-1);break;case 44:h[g++]=($a(H)-1)*W,W=1;break;case 64:ki()===45&&(H+=Ef(Aa())),x=ki(),v=b=$a(B=H+=qE(yc())),K++;break;case 45:_===45&&$a(H)==2&&(Z=0)}}return c}function Av(a,n,r,s,l,c,d,h,m,g,v,b){for(var x=l-1,k=l===0?c:[""],_=Hb(k),Z=0,q=0,W=0;Z<s;++Z)for(var K=0,B=ys(a,x+1,x=$b(q=d[Z])),Y=a;K<_;++K)(Y=Ib(q>0?k[K]+" "+B:nt(B,/&\f/g,k[K])))&&(m[W++]=Y);return Ic(a,n,r,l===0?Uc:h,m,g,v,b)}function YE(a,n,r,s){return Ic(a,n,r,Bb,zh(LE()),ys(a,2,-2),0,s)}function _v(a,n,r,s,l){return Ic(a,n,r,Rh,ys(a,0,s),ys(a,s+1,-1),s,l)}function qb(a,n,r){switch(RE(a,n)){case 5103:return Nt+"print-"+a+a;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Nt+a+a;case 4789:return Do+a+a;case 5349:case 4246:case 4810:case 6968:case 2756:return Nt+a+Do+a+qt+a+a;case 5936:switch(Tn(a,n+11)){case 114:return Nt+a+qt+nt(a,/[svh]\w+-[tblr]{2}/,"tb")+a;case 108:return Nt+a+qt+nt(a,/[svh]\w+-[tblr]{2}/,"tb-rl")+a;case 45:return Nt+a+qt+nt(a,/[svh]\w+-[tblr]{2}/,"lr")+a}case 6828:case 4268:case 2903:return Nt+a+qt+a+a;case 6165:return Nt+a+qt+"flex-"+a+a;case 5187:return Nt+a+nt(a,/(\w+).+(:[^]+)/,Nt+"box-$1$2"+qt+"flex-$1$2")+a;case 5443:return Nt+a+qt+"flex-item-"+nt(a,/flex-|-self/g,"")+(mr(a,/flex-|baseline/)?"":qt+"grid-row-"+nt(a,/flex-|-self/g,""))+a;case 4675:return Nt+a+qt+"flex-line-pack"+nt(a,/align-content|flex-|-self/g,"")+a;case 5548:return Nt+a+qt+nt(a,"shrink","negative")+a;case 5292:return Nt+a+qt+nt(a,"basis","preferred-size")+a;case 6060:return Nt+"box-"+nt(a,"-grow","")+Nt+a+qt+nt(a,"grow","positive")+a;case 4554:return Nt+nt(a,/([^-])(transform)/g,"$1"+Nt+"$2")+a;case 6187:return nt(nt(nt(a,/(zoom-|grab)/,Nt+"$1"),/(image-set)/,Nt+"$1"),a,"")+a;case 5495:case 3959:return nt(a,/(image-set\([^]*)/,Nt+"$1$`$1");case 4968:return nt(nt(a,/(.+:)(flex-)?(.*)/,Nt+"box-pack:$3"+qt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Nt+a+a;case 4200:if(!mr(a,/flex-|baseline/))return qt+"grid-column-align"+ys(a,n)+a;break;case 2592:case 3360:return qt+nt(a,"template-","")+a;case 4384:case 3616:return r&&r.some(function(s,l){return n=l,mr(s.props,/grid-\w+-end/)})?~gc(a+(r=r[n].value),"span",0)?a:qt+nt(a,"-start","")+a+qt+"grid-row-span:"+(~gc(r,"span",0)?mr(r,/\d+/):+mr(r,/\d+/)-+mr(a,/\d+/))+";":qt+nt(a,"-start","")+a;case 4896:case 4128:return r&&r.some(function(s){return mr(s.props,/grid-\w+-start/)})?a:qt+nt(nt(a,"-end","-span"),"span ","")+a;case 4095:case 3583:case 4068:case 2532:return nt(a,/(.+)-inline(.+)/,Nt+"$1$2")+a;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if($a(a)-1-n>6)switch(Tn(a,n+1)){case 109:if(Tn(a,n+4)!==45)break;case 102:return nt(a,/(.+:)(.+)-([^]+)/,"$1"+Nt+"$2-$3$1"+Do+(Tn(a,n+3)==108?"$3":"$2-$3"))+a;case 115:return~gc(a,"stretch",0)?qb(nt(a,"stretch","fill-available"),n,r)+a:a}break;case 5152:case 5920:return nt(a,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,l,c,d,h,m,g){return qt+l+":"+c+g+(d?qt+l+"-span:"+(h?m:+m-+c)+g:"")+a});case 4949:if(Tn(a,n+6)===121)return nt(a,":",":"+Nt)+a;break;case 6444:switch(Tn(a,Tn(a,14)===45?18:11)){case 120:return nt(a,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Nt+(Tn(a,14)===45?"inline-":"")+"box$3$1"+Nt+"$2$3$1"+qt+"$2box$3")+a;case 100:return nt(a,":",":"+qt)+a}break;case 5719:case 2647:case 2135:case 3927:case 2391:return nt(a,"scroll-","scroll-snap-")+a}return a}function jc(a,n){for(var r="",s=0;s<a.length;s++)r+=n(a[s],s,a,n)||"";return r}function FE(a,n,r,s){switch(a.type){case ME:if(a.children.length)break;case DE:case Rh:return a.return=a.return||a.value;case Bb:return"";case Ub:return a.return=a.value+"{"+jc(a.children,s)+"}";case Uc:if(!$a(a.value=a.props.join(",")))return""}return $a(r=jc(a.children,s))?a.return=a.value+"{"+r+"}":""}function PE(a){var n=Hb(a);return function(r,s,l,c){for(var d="",h=0;h<n;h++)d+=a[h](r,s,l,c)||"";return d}}function ZE(a){return function(n){n.root||(n=n.return)&&a(n)}}function XE(a,n,r,s){if(a.length>-1&&!a.return)switch(a.type){case Rh:a.return=qb(a.value,a.length,r);return;case Ub:return jc([Gr(a,{value:nt(a.value,"@","@"+Nt)})],s);case Uc:if(a.length)return zE(r=a.props,function(l){switch(mr(l,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":os(Gr(a,{props:[nt(l,/:(read-\w+)/,":"+Do+"$1")]})),os(Gr(a,{props:[l]})),Zf(a,{props:jv(r,s)});break;case"::placeholder":os(Gr(a,{props:[nt(l,/:(plac\w+)/,":"+Nt+"input-$1")]})),os(Gr(a,{props:[nt(l,/:(plac\w+)/,":"+Do+"$1")]})),os(Gr(a,{props:[nt(l,/:(plac\w+)/,qt+"input-$1")]})),os(Gr(a,{props:[l]})),Zf(a,{props:jv(r,s)});break}return""})}}var KE={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},sa={},bs=typeof process<"u"&&sa!==void 0&&(sa.REACT_APP_SC_ATTR||sa.SC_ATTR)||"data-styled",Gb="active",Yb="data-styled-version",Vc="6.1.19",Lh=`/*!sc*/
`,Ac=typeof window<"u"&&typeof document<"u",QE=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&sa!==void 0&&sa.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&sa.REACT_APP_SC_DISABLE_SPEEDY!==""?sa.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&sa.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&sa!==void 0&&sa.SC_DISABLE_SPEEDY!==void 0&&sa.SC_DISABLE_SPEEDY!==""&&sa.SC_DISABLE_SPEEDY!=="false"&&sa.SC_DISABLE_SPEEDY),qc=Object.freeze([]),ws=Object.freeze({});function WE(a,n,r){return r===void 0&&(r=ws),a.theme!==r.theme&&a.theme||n||r.theme}var Fb=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),JE=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,ek=/(^-|-$)/g;function Dv(a){return a.replace(JE,"-").replace(ek,"")}var tk=/(a)(d)/gi,rc=52,Mv=function(a){return String.fromCharCode(a+(a>25?39:97))};function Qf(a){var n,r="";for(n=Math.abs(a);n>rc;n=n/rc|0)r=Mv(n%rc)+r;return(Mv(n%rc)+r).replace(tk,"$1-$2")}var kf,Pb=5381,fs=function(a,n){for(var r=n.length;r;)a=33*a^n.charCodeAt(--r);return a},Zb=function(a){return fs(Pb,a)};function nk(a){return Qf(Zb(a)>>>0)}function ak(a){return a.displayName||a.name||"Component"}function Cf(a){return typeof a=="string"&&!0}var Xb=typeof Symbol=="function"&&Symbol.for,Kb=Xb?Symbol.for("react.memo"):60115,rk=Xb?Symbol.for("react.forward_ref"):60112,ik={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},sk={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Qb={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ok=((kf={})[rk]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},kf[Kb]=Qb,kf);function Rv(a){return("type"in(n=a)&&n.type.$$typeof)===Kb?Qb:"$$typeof"in a?ok[a.$$typeof]:ik;var n}var lk=Object.defineProperty,ck=Object.getOwnPropertyNames,zv=Object.getOwnPropertySymbols,uk=Object.getOwnPropertyDescriptor,dk=Object.getPrototypeOf,Lv=Object.prototype;function Wb(a,n,r){if(typeof n!="string"){if(Lv){var s=dk(n);s&&s!==Lv&&Wb(a,s,r)}var l=ck(n);zv&&(l=l.concat(zv(n)));for(var c=Rv(a),d=Rv(n),h=0;h<l.length;++h){var m=l[h];if(!(m in sk||r&&r[m]||d&&m in d||c&&m in c)){var g=uk(n,m);try{lk(a,m,g)}catch{}}}}return a}function Ss(a){return typeof a=="function"}function Bh(a){return typeof a=="object"&&"styledComponentId"in a}function Si(a,n){return a&&n?"".concat(a," ").concat(n):a||n||""}function Bv(a,n){if(a.length===0)return"";for(var r=a[0],s=1;s<a.length;s++)r+=a[s];return r}function Uo(a){return a!==null&&typeof a=="object"&&a.constructor.name===Object.name&&!("props"in a&&a.$$typeof)}function Wf(a,n,r){if(r===void 0&&(r=!1),!r&&!Uo(a)&&!Array.isArray(a))return n;if(Array.isArray(n))for(var s=0;s<n.length;s++)a[s]=Wf(a[s],n[s]);else if(Uo(n))for(var s in n)a[s]=Wf(a[s],n[s]);return a}function Uh(a,n){Object.defineProperty(a,"toString",{value:n})}function Ho(a){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(a," for more information.").concat(n.length>0?" Args: ".concat(n.join(", ")):""))}var fk=(function(){function a(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}return a.prototype.indexOfGroup=function(n){for(var r=0,s=0;s<n;s++)r+=this.groupSizes[s];return r},a.prototype.insertRules=function(n,r){if(n>=this.groupSizes.length){for(var s=this.groupSizes,l=s.length,c=l;n>=c;)if((c<<=1)<0)throw Ho(16,"".concat(n));this.groupSizes=new Uint32Array(c),this.groupSizes.set(s),this.length=c;for(var d=l;d<c;d++)this.groupSizes[d]=0}for(var h=this.indexOfGroup(n+1),m=(d=0,r.length);d<m;d++)this.tag.insertRule(h,r[d])&&(this.groupSizes[n]++,h++)},a.prototype.clearGroup=function(n){if(n<this.length){var r=this.groupSizes[n],s=this.indexOfGroup(n),l=s+r;this.groupSizes[n]=0;for(var c=s;c<l;c++)this.tag.deleteRule(s)}},a.prototype.getGroup=function(n){var r="";if(n>=this.length||this.groupSizes[n]===0)return r;for(var s=this.groupSizes[n],l=this.indexOfGroup(n),c=l+s,d=l;d<c;d++)r+="".concat(this.tag.getRule(d)).concat(Lh);return r},a})(),bc=new Map,_c=new Map,wc=1,ic=function(a){if(bc.has(a))return bc.get(a);for(;_c.has(wc);)wc++;var n=wc++;return bc.set(a,n),_c.set(n,a),n},hk=function(a,n){wc=n+1,bc.set(a,n),_c.set(n,a)},pk="style[".concat(bs,"][").concat(Yb,'="').concat(Vc,'"]'),mk=new RegExp("^".concat(bs,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),gk=function(a,n,r){for(var s,l=r.split(","),c=0,d=l.length;c<d;c++)(s=l[c])&&a.registerName(n,s)},yk=function(a,n){for(var r,s=((r=n.textContent)!==null&&r!==void 0?r:"").split(Lh),l=[],c=0,d=s.length;c<d;c++){var h=s[c].trim();if(h){var m=h.match(mk);if(m){var g=0|parseInt(m[1],10),v=m[2];g!==0&&(hk(v,g),gk(a,v,m[3]),a.getTag().insertRules(g,l)),l.length=0}else l.push(h)}}},Uv=function(a){for(var n=document.querySelectorAll(pk),r=0,s=n.length;r<s;r++){var l=n[r];l&&l.getAttribute(bs)!==Gb&&(yk(a,l),l.parentNode&&l.parentNode.removeChild(l))}};function vk(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Jb=function(a){var n=document.head,r=a||n,s=document.createElement("style"),l=(function(h){var m=Array.from(h.querySelectorAll("style[".concat(bs,"]")));return m[m.length-1]})(r),c=l!==void 0?l.nextSibling:null;s.setAttribute(bs,Gb),s.setAttribute(Yb,Vc);var d=vk();return d&&s.setAttribute("nonce",d),r.insertBefore(s,c),s},bk=(function(){function a(n){this.element=Jb(n),this.element.appendChild(document.createTextNode("")),this.sheet=(function(r){if(r.sheet)return r.sheet;for(var s=document.styleSheets,l=0,c=s.length;l<c;l++){var d=s[l];if(d.ownerNode===r)return d}throw Ho(17)})(this.element),this.length=0}return a.prototype.insertRule=function(n,r){try{return this.sheet.insertRule(r,n),this.length++,!0}catch{return!1}},a.prototype.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},a.prototype.getRule=function(n){var r=this.sheet.cssRules[n];return r&&r.cssText?r.cssText:""},a})(),wk=(function(){function a(n){this.element=Jb(n),this.nodes=this.element.childNodes,this.length=0}return a.prototype.insertRule=function(n,r){if(n<=this.length&&n>=0){var s=document.createTextNode(r);return this.element.insertBefore(s,this.nodes[n]||null),this.length++,!0}return!1},a.prototype.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},a.prototype.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},a})(),Sk=(function(){function a(n){this.rules=[],this.length=0}return a.prototype.insertRule=function(n,r){return n<=this.length&&(this.rules.splice(n,0,r),this.length++,!0)},a.prototype.deleteRule=function(n){this.rules.splice(n,1),this.length--},a.prototype.getRule=function(n){return n<this.length?this.rules[n]:""},a})(),$v=Ac,xk={isServer:!Ac,useCSSOMInjection:!QE},e1=(function(){function a(n,r,s){n===void 0&&(n=ws),r===void 0&&(r={});var l=this;this.options=Kn(Kn({},xk),n),this.gs=r,this.names=new Map(s),this.server=!!n.isServer,!this.server&&Ac&&$v&&($v=!1,Uv(this)),Uh(this,function(){return(function(c){for(var d=c.getTag(),h=d.length,m="",g=function(b){var x=(function(W){return _c.get(W)})(b);if(x===void 0)return"continue";var k=c.names.get(x),_=d.getGroup(b);if(k===void 0||!k.size||_.length===0)return"continue";var Z="".concat(bs,".g").concat(b,'[id="').concat(x,'"]'),q="";k!==void 0&&k.forEach(function(W){W.length>0&&(q+="".concat(W,","))}),m+="".concat(_).concat(Z,'{content:"').concat(q,'"}').concat(Lh)},v=0;v<h;v++)g(v);return m})(l)})}return a.registerId=function(n){return ic(n)},a.prototype.rehydrate=function(){!this.server&&Ac&&Uv(this)},a.prototype.reconstructWithOptions=function(n,r){return r===void 0&&(r=!0),new a(Kn(Kn({},this.options),n),this.gs,r&&this.names||void 0)},a.prototype.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},a.prototype.getTag=function(){return this.tag||(this.tag=(n=(function(r){var s=r.useCSSOMInjection,l=r.target;return r.isServer?new Sk(l):s?new bk(l):new wk(l)})(this.options),new fk(n)));var n},a.prototype.hasNameForId=function(n,r){return this.names.has(n)&&this.names.get(n).has(r)},a.prototype.registerName=function(n,r){if(ic(n),this.names.has(n))this.names.get(n).add(r);else{var s=new Set;s.add(r),this.names.set(n,s)}},a.prototype.insertRules=function(n,r,s){this.registerName(n,r),this.getTag().insertRules(ic(n),s)},a.prototype.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},a.prototype.clearRules=function(n){this.getTag().clearGroup(ic(n)),this.clearNames(n)},a.prototype.clearTag=function(){this.tag=void 0},a})(),Ek=/&/g,kk=/^\s*\/\/.*$/gm;function t1(a,n){return a.map(function(r){return r.type==="rule"&&(r.value="".concat(n," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(n," ")),r.props=r.props.map(function(s){return"".concat(n," ").concat(s)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=t1(r.children,n)),r})}function Ck(a){var n,r,s,l=ws,c=l.options,d=c===void 0?ws:c,h=l.plugins,m=h===void 0?qc:h,g=function(x,k,_){return _.startsWith(r)&&_.endsWith(r)&&_.replaceAll(r,"").length>0?".".concat(n):x},v=m.slice();v.push(function(x){x.type===Uc&&x.value.includes("&")&&(x.props[0]=x.props[0].replace(Ek,r).replace(s,g))}),d.prefix&&v.push(XE),v.push(FE);var b=function(x,k,_,Z){k===void 0&&(k=""),_===void 0&&(_=""),Z===void 0&&(Z="&"),n=Z,r=k,s=new RegExp("\\".concat(r,"\\b"),"g");var q=x.replace(kk,""),W=GE(_||k?"".concat(_," ").concat(k," { ").concat(q," }"):q);d.namespace&&(W=t1(W,d.namespace));var K=[];return jc(W,PE(v.concat(ZE(function(B){return K.push(B)})))),K};return b.hash=m.length?m.reduce(function(x,k){return k.name||Ho(15),fs(x,k.name)},Pb).toString():"",b}var Tk=new e1,Jf=Ck(),n1=_a.createContext({shouldForwardProp:void 0,styleSheet:Tk,stylis:Jf});n1.Consumer;_a.createContext(void 0);function Iv(){return E.useContext(n1)}var Nk=(function(){function a(n,r){var s=this;this.inject=function(l,c){c===void 0&&(c=Jf);var d=s.name+c.hash;l.hasNameForId(s.id,d)||l.insertRules(s.id,d,c(s.rules,d,"@keyframes"))},this.name=n,this.id="sc-keyframes-".concat(n),this.rules=r,Uh(this,function(){throw Ho(12,String(s.name))})}return a.prototype.getName=function(n){return n===void 0&&(n=Jf),this.name+n.hash},a})(),Ok=function(a){return a>="A"&&a<="Z"};function Hv(a){for(var n="",r=0;r<a.length;r++){var s=a[r];if(r===1&&s==="-"&&a[0]==="-")return a;Ok(s)?n+="-"+s.toLowerCase():n+=s}return n.startsWith("ms-")?"-"+n:n}var a1=function(a){return a==null||a===!1||a===""},r1=function(a){var n,r,s=[];for(var l in a){var c=a[l];a.hasOwnProperty(l)&&!a1(c)&&(Array.isArray(c)&&c.isCss||Ss(c)?s.push("".concat(Hv(l),":"),c,";"):Uo(c)?s.push.apply(s,Oc(Oc(["".concat(l," {")],r1(c),!1),["}"],!1)):s.push("".concat(Hv(l),": ").concat((n=l,(r=c)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||n in KE||n.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return s};function Ci(a,n,r,s){if(a1(a))return[];if(Bh(a))return[".".concat(a.styledComponentId)];if(Ss(a)){if(!Ss(c=a)||c.prototype&&c.prototype.isReactComponent||!n)return[a];var l=a(n);return Ci(l,n,r,s)}var c;return a instanceof Nk?r?(a.inject(r,s),[a.getName(s)]):[a]:Uo(a)?r1(a):Array.isArray(a)?Array.prototype.concat.apply(qc,a.map(function(d){return Ci(d,n,r,s)})):[a.toString()]}function jk(a){for(var n=0;n<a.length;n+=1){var r=a[n];if(Ss(r)&&!Bh(r))return!1}return!0}var Ak=Zb(Vc),_k=(function(){function a(n,r,s){this.rules=n,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&jk(n),this.componentId=r,this.baseHash=fs(Ak,r),this.baseStyle=s,e1.registerId(r)}return a.prototype.generateAndInjectStyles=function(n,r,s){var l=this.baseStyle?this.baseStyle.generateAndInjectStyles(n,r,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))l=Si(l,this.staticRulesId);else{var c=Bv(Ci(this.rules,n,r,s)),d=Qf(fs(this.baseHash,c)>>>0);if(!r.hasNameForId(this.componentId,d)){var h=s(c,".".concat(d),void 0,this.componentId);r.insertRules(this.componentId,d,h)}l=Si(l,d),this.staticRulesId=d}else{for(var m=fs(this.baseHash,s.hash),g="",v=0;v<this.rules.length;v++){var b=this.rules[v];if(typeof b=="string")g+=b;else if(b){var x=Bv(Ci(b,n,r,s));m=fs(m,x+v),g+=x}}if(g){var k=Qf(m>>>0);r.hasNameForId(this.componentId,k)||r.insertRules(this.componentId,k,s(g,".".concat(k),void 0,this.componentId)),l=Si(l,k)}}return l},a})(),i1=_a.createContext(void 0);i1.Consumer;var Tf={};function Dk(a,n,r){var s=Bh(a),l=a,c=!Cf(a),d=n.attrs,h=d===void 0?qc:d,m=n.componentId,g=m===void 0?(function(Y,fe){var be=typeof Y!="string"?"sc":Dv(Y);Tf[be]=(Tf[be]||0)+1;var H="".concat(be,"-").concat(nk(Vc+be+Tf[be]));return fe?"".concat(fe,"-").concat(H):H})(n.displayName,n.parentComponentId):m,v=n.displayName,b=v===void 0?(function(Y){return Cf(Y)?"styled.".concat(Y):"Styled(".concat(ak(Y),")")})(a):v,x=n.displayName&&n.componentId?"".concat(Dv(n.displayName),"-").concat(n.componentId):n.componentId||g,k=s&&l.attrs?l.attrs.concat(h).filter(Boolean):h,_=n.shouldForwardProp;if(s&&l.shouldForwardProp){var Z=l.shouldForwardProp;if(n.shouldForwardProp){var q=n.shouldForwardProp;_=function(Y,fe){return Z(Y,fe)&&q(Y,fe)}}else _=Z}var W=new _k(r,x,s?l.componentStyle:void 0);function K(Y,fe){return(function(be,H,de){var ie=be.attrs,pe=be.componentStyle,Be=be.defaultProps,Ae=be.foldedComponentIds,Je=be.styledComponentId,rt=be.target,We=_a.useContext(i1),O=Iv(),V=be.shouldForwardProp||O.shouldForwardProp,Q=WE(H,We,Be)||ws,me=(function(ce,ve,Oe){for(var Ge,He=Kn(Kn({},ve),{className:void 0,theme:Oe}),Ze=0;Ze<ce.length;Ze+=1){var St=Ss(Ge=ce[Ze])?Ge(He):Ge;for(var _t in St)He[_t]=_t==="className"?Si(He[_t],St[_t]):_t==="style"?Kn(Kn({},He[_t]),St[_t]):St[_t]}return ve.className&&(He.className=Si(He.className,ve.className)),He})(ie,H,Q),U=me.as||rt,S={};for(var M in me)me[M]===void 0||M[0]==="$"||M==="as"||M==="theme"&&me.theme===Q||(M==="forwardedAs"?S.as=me.forwardedAs:V&&!V(M,U)||(S[M]=me[M]));var j=(function(ce,ve){var Oe=Iv(),Ge=ce.generateAndInjectStyles(ve,Oe.styleSheet,Oe.stylis);return Ge})(pe,me),R=Si(Ae,Je);return j&&(R+=" "+j),me.className&&(R+=" "+me.className),S[Cf(U)&&!Fb.has(U)?"class":"className"]=R,de&&(S.ref=de),E.createElement(U,S)})(B,Y,fe)}K.displayName=b;var B=_a.forwardRef(K);return B.attrs=k,B.componentStyle=W,B.displayName=b,B.shouldForwardProp=_,B.foldedComponentIds=s?Si(l.foldedComponentIds,l.styledComponentId):"",B.styledComponentId=x,B.target=s?l.target:a,Object.defineProperty(B,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(Y){this._foldedDefaultProps=s?(function(fe){for(var be=[],H=1;H<arguments.length;H++)be[H-1]=arguments[H];for(var de=0,ie=be;de<ie.length;de++)Wf(fe,ie[de],!0);return fe})({},l.defaultProps,Y):Y}}),Uh(B,function(){return".".concat(B.styledComponentId)}),c&&Wb(B,a,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),B}function Vv(a,n){for(var r=[a[0]],s=0,l=n.length;s<l;s+=1)r.push(n[s],a[s+1]);return r}var qv=function(a){return Object.assign(a,{isCss:!0})};function $h(a){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Ss(a)||Uo(a))return qv(Ci(Vv(qc,Oc([a],n,!0))));var s=a;return n.length===0&&s.length===1&&typeof s[0]=="string"?Ci(s):qv(Ci(Vv(s,n)))}function eh(a,n,r){if(r===void 0&&(r=ws),!n)throw Ho(1,n);var s=function(l){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];return a(n,r,$h.apply(void 0,Oc([l],c,!1)))};return s.attrs=function(l){return eh(a,n,Kn(Kn({},r),{attrs:Array.prototype.concat(r.attrs,l).filter(Boolean)}))},s.withConfig=function(l){return eh(a,n,Kn(Kn({},r),l))},s}var s1=function(a){return eh(Dk,a)},$n=s1;Fb.forEach(function(a){$n[a]=s1(a)});function Ti(){return Ti=Object.assign?Object.assign.bind():function(a){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var s in r)({}).hasOwnProperty.call(r,s)&&(a[s]=r[s])}return a},Ti.apply(null,arguments)}function Mk(a,n){if(a==null)return{};var r={};for(var s in a)if({}.hasOwnProperty.call(a,s)){if(n.indexOf(s)!==-1)continue;r[s]=a[s]}return r}function Ih(a,n){if(a==null)return{};var r,s,l=Mk(a,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);for(s=0;s<c.length;s++)r=c[s],n.indexOf(r)===-1&&{}.propertyIsEnumerable.call(a,r)&&(l[r]=a[r])}return l}function Rk(a){var n=a?.createRoot,r=new WeakMap;function s(d){var h=r.get(d);if(h)return h;var m=document.createElement("span");return d.appendChild(m),r.set(d,m),m}function l(d){var h=r.get(d);h&&(h.remove(),r.delete(d))}if(n){var c=new WeakMap;return{mount:function(h,m){var g,v=s(m),b=c.get(v);return b||(b=n(v),c.set(v,b)),b.render(h),(g=v.firstElementChild)!==null&&g!==void 0?g:v},unmount:function(h){var m=s(h),g=c.get(m);g&&(g.unmount(),c.delete(m)),l(h)}}}return{mount:function(h,m){var g=s(m);if("render"in ev&&typeof Pr.render=="function"){var v=Pr.render(h,g);return v||g}throw new Error("ReactDOM.render is not available")},unmount:function(h){var m=s(h);if("unmountComponentAtNode"in ev&&typeof Pr.unmountComponentAtNode=="function")Pr.unmountComponentAtNode(m);else throw new Error("ReactDOM.unmountComponentAtNode is not available");l(h)}}}function zk(a){var n=a.children,r=a.rendered;return E.useEffect(function(){r()}),n}function Lk(){var a=E.useRef(!1);return E.useEffect(function(){a.current=!0},[]),{apply:function(r){a.current?queueMicrotask(function(){Pr.flushSync(r)}):r()}}}var o1=E.createContext({start:null,end:null,path:null});function Bk(a){var n=a.children,r=E.useState(null),s=Vn(r,2),l=s[0],c=s[1],d=E.useState(null),h=Vn(d,2),m=h[0],g=h[1],v=E.useState(null),b=Vn(v,2),x=b[0],k=b[1],_="x"in a.start?a.start:l,Z="x"in a.end?a.end:m,q=Lk();return E.useEffect(function(){var W=typeof a.start=="function"&&a.start(function(B){q.apply(function(){c(B)})}),K=typeof a.end=="function"&&a.end(function(B){q.apply(function(){g(B)})});return function(){W&&W(),K&&K()}},[]),E.useEffect(function(){_&&Z&&a.path(_,Z).then(function(W){q.apply(function(){k(W)})})},[_,Z]),E.createElement(o1.Provider,{value:{start:_,end:Z,path:x}},n)}function l1(){return E.useContext(o1)}var Gv,Yv,Uk=$n.svg(Gv||(Gv=Dn([`
    overflow: visible !important;
    position: absolute;
    pointer-events: none;
    width: 9999px;
    height: 9999px;
`]))),$k=$n.path(Yv||(Yv=Dn([`
    fill: none;
    stroke-width: 5px;
    stroke: steelblue;
    pointer-events: auto;
    `,`
`])),function(a){var n;return(n=a.styles)===null||n===void 0?void 0:n.call(a,a)});function c1(a){var n=l1(),r=n.path;return r?E.createElement(Uk,{"data-testid":"connection"},E.createElement($k,{styles:a.styles,d:r})):null}function Ik(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=Hk(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(g){throw g},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,d=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var g=r.next();return d=g.done,g},e:function(g){h=!0,c=g},f:function(){try{d||r.return==null||r.return()}finally{if(h)throw c}}}}function Hk(a,n){if(a){if(typeof a=="string")return Fv(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fv(a,n):void 0}}function Fv(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function Vk(a){for(var n=new a.constructor(a.type),r=n;r=Object.getPrototypeOf(r);){var s=Object.getOwnPropertyNames(r),l=Ik(s),c;try{for(l.s();!(c=l.n()).done;){var d=c.value,h=n[d];typeof h!="function"&&Object.defineProperty(n,d,{value:a[d]})}}catch(m){l.e(m)}finally{l.f()}}return n}var qk="__reactContainer$";function Gk(a){for(var n=a;n;){if(n._reactRootContainer||Object.keys(n).some(function(r){return r.startsWith(qk)}))return n;n=n.parentElement}}function Pv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function Zv(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Pv(Object(r),!0).forEach(function(s){Le(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):Pv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function u1(a,n){return{start:function(s){var l=Zv({},n(s));function c(h){var m=Zv({},n(h)),g=m.x-l.x,v=m.y-l.y;l=m,a(g,v)}function d(){window.removeEventListener("pointermove",c),window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",d)}window.addEventListener("pointermove",c),window.addEventListener("pointerup",d),window.addEventListener("pointercancel",d)}}}function Yk(a,n){E.useEffect(function(){var r=function(c){if(!n){var d=Gk(c.target),h=E.version.startsWith("16")?document:d;h&&(c.stopPropagation(),h.dispatchEvent(Vk(c)))}},s=a.current;return s?.addEventListener("pointerdown",r),function(){s?.removeEventListener("pointerdown",r)}},[a,n])}var Xv,Fk=$n.input(Xv||(Xv=Dn([`
  width: 100%;
  border-radius: 30px;
  background-color: white;
  padding: 2px 6px;
  border: 1px solid #999;
  font-size: 110%;
  box-sizing: border-box;
  `,`
`])),function(a){var n;return(n=a.styles)===null||n===void 0?void 0:n.call(a,a)});function th(a){var n=E.useState(a.data.value),r=Vn(n,2),s=r[0],l=r[1],c=E.useRef(null);return Yk(c),E.useEffect(function(){l(a.data.value)},[a.data.value]),E.createElement(Fk,{value:s,type:a.data.type,ref:c,readOnly:a.data.readonly,onChange:function(h){var m=a.data.type==="number"?+h.target.value:h.target.value;l(m),a.data.setValue(m)},styles:a.styles})}var nh="rgba(110,136,255,0.8)",d1="#ffd92c",Ia=24,gr=6,f1="#96b38a",h1=180,Pk=Object.freeze({__proto__:null,$nodecolor:nh,$nodecolorselected:d1,$socketsize:Ia,$socketmargin:gr,$socketcolor:f1,$nodewidth:h1}),Zk=["init","unmount"];function Hh(a){var n=a.init,r=a.unmount,s=Ih(a,Zk),l=E.useRef(null);return E.useEffect(function(){var c=l.current;return function(){c&&r(c)}},[]),E.useEffect(function(){l.current&&n(l.current)}),E.createElement("span",Ti({},s,{ref:l}))}var Xk=["name","emit","payload"];function ah(a){var n=a.name,r=a.emit,s=a.payload,l=Ih(a,Xk);return E.createElement(Hh,Ti({},l,{className:n,init:function(d){r({type:"render",data:{type:"control",element:d,payload:s}})},unmount:function(d){r({type:"unmount",data:{element:d}})}}))}var Kk=["name","emit","nodeId","side","socketKey","payload"];function rh(a){var n=a.name,r=a.emit,s=a.nodeId,l=a.side,c=a.socketKey,d=a.payload,h=Ih(a,Kk);return E.createElement(Hh,Ti({},h,{className:n,init:function(g){r({type:"render",data:{type:"socket",side:l,key:c,nodeId:s,element:g,payload:d}})},unmount:function(g){r({type:"unmount",data:{element:g}})}}))}var Kv,Qv,p1=$n.div(Kv||(Kv=Dn([`
    background: `,`;
    border: 2px solid #4e58bf;
    border-radius: 10px;
    cursor: pointer;
    box-sizing: border-box;
    width: `,`;
    height: `,`;
    padding-bottom: 6px;
    position: relative;
    user-select: none;
    line-height: initial;
    font-family: Arial;

    &:hover {
        background: lighten(`,`,4%);
    }
    `,`
    .title {
        color: white;
        font-family: sans-serif;
        font-size: 18px;
        padding: 8px;
    }
    .output {
        text-align: right;
    }
    .input {
        text-align: left;
    }
    .output-socket {
        text-align: right;
        margin-right: -`,`px;
        display: inline-block;
    }
    .input-socket {
        text-align: left;
        margin-left: -`,`px;
        display: inline-block;
    }
    .input-title,.output-title {
        vertical-align: middle;
        color: white;
        display: inline-block;
        font-family: sans-serif;
        font-size: 14px;
        margin: `,`px;
        line-height: `,`px;
    }
    .input-control {
        z-index: 1;
        width: calc(100% - `,`px);
        vertical-align: middle;
        display: inline-block;
    }
    .control {
        display: block;
        padding: `,"px ",`px;
    }
    `,`
`])),nh,function(a){return Number.isFinite(a.width)?"".concat(a.width,"px"):"".concat(h1,"px")},function(a){return Number.isFinite(a.height)?"".concat(a.height,"px"):"auto"},nh,function(a){return a.selected&&$h(Qv||(Qv=Dn([`
        background: `,`;
        border-color: #e3c000;
    `])),d1)},Ia/2+gr,Ia/2+gr,gr,Ia,Ia+2*gr,gr,Ia/2+gr,function(a){var n;return(n=a.styles)===null||n===void 0?void 0:n.call(a,a)});function Nf(a){a.sort(function(n,r){var s,l,c=((s=n[1])===null||s===void 0?void 0:s.index)||0,d=((l=r[1])===null||l===void 0?void 0:l.index)||0;return c-d})}function m1(a){var n=Object.entries(a.data.inputs),r=Object.entries(a.data.outputs),s=Object.entries(a.data.controls),l=a.data.selected||!1,c=a.data,d=c.id,h=c.label,m=c.width,g=c.height;return Nf(n),Nf(r),Nf(s),E.createElement(p1,{selected:l,width:m,height:g,styles:a.styles,"data-testid":"node"},E.createElement("div",{className:"title","data-testid":"title"},h),r.map(function(v){var b=Vn(v,2),x=b[0],k=b[1];return k&&E.createElement("div",{className:"output",key:x,"data-testid":"output-".concat(x)},E.createElement("div",{className:"output-title","data-testid":"output-title"},k.label),E.createElement(rh,{name:"output-socket",side:"output",socketKey:x,nodeId:d,emit:a.emit,payload:k.socket,"data-testid":"output-socket"}))}),s.map(function(v){var b=Vn(v,2),x=b[0],k=b[1];return k?E.createElement(ah,{key:x,name:"control",emit:a.emit,payload:k,"data-testid":"control-".concat(x)}):null}),n.map(function(v){var b=Vn(v,2),x=b[0],k=b[1];return k&&E.createElement("div",{className:"input",key:x,"data-testid":"input-".concat(x)},E.createElement(rh,{name:"input-socket",side:"input",socketKey:x,nodeId:d,emit:a.emit,payload:k.socket,"data-testid":"input-socket"}),k&&(!k.control||!k.showControl)&&E.createElement("div",{className:"input-title","data-testid":"input-title"},k.label),k.control&&k.showControl&&E.createElement(ah,{key:x,name:"input-control",emit:a.emit,payload:k.control,"data-testid":"input-control"}))}))}var Wv,Jv,g1=$n.div(Wv||(Wv=Dn([`
    display: inline-block;
    cursor: pointer;
    border: 1px solid white;
    border-radius: `,`px;
    width: `,`px;
    height: `,`px;
    vertical-align: middle;
    background: `,`;
    z-index: 2;
    box-sizing: border-box;
    &:hover {
      border-width: 4px;
    }
    &.multiple {
      border-color: yellow;
    }
`])),Ia/2,Ia,Ia,f1),Qk=$n.div(Jv||(Jv=Dn([`
    border-radius: `,`px;
    padding: `,`px;
    &:hover `,` {
      border-width: 4px;
    }
`])),(Ia+gr*2)/2,gr,g1);function y1(a){return E.createElement(Qk,null,E.createElement(g1,{title:a.data.name}))}function Wk(a){var n=typeof a?.socketPositionWatcher>"u"?_E():a.socketPositionWatcher,r=a?.customize||{},s=r.node,l=r.connection,c=r.socket,d=r.control;return{attach:function(m){n.attach(m)},render:function(m,g){if(m.data.type==="node"){var v=g.parentScope(),b=s?s(m.data):m1;return b&&E.createElement(b,{data:m.data.payload,emit:function(fe){return void v.emit(fe)}})}else if(m.data.type==="connection"){var x=l?l(m.data):c1,k=m.data.payload,_=k.sourceOutput,Z=k.targetInput,q=k.source,W=k.target;return x&&E.createElement(Bk,{start:m.data.start||function(Y){return n.listen(q,"output",_,Y)},end:m.data.end||function(Y){return n.listen(W,"input",Z,Y)},path:(function(){var Y=at(xe.mark(function fe(be,H){var de,ie,pe,Be,Ae;return xe.wrap(function(Je){for(;;)switch(Je.prev=Je.next){case 0:return Je.next=1,g.emit({type:"connectionpath",data:{payload:k,points:[be,H]}});case 1:if(de=Je.sent,de){Je.next=2;break}return Je.abrupt("return","");case 2:if(ie=de.data,pe=ie.path,Be=ie.points,Ae=.3,!(!pe&&Be.length!==2)){Je.next=3;break}throw new Error("cannot render connection with a custom number of points");case 3:if(pe){Je.next=4;break}return Je.abrupt("return",k.isLoop?kE(Be,Ae,120):EE(Be,Ae));case 4:return Je.abrupt("return",pe);case 5:case"end":return Je.stop()}},fe)}));return function(fe,be){return Y.apply(this,arguments)}})()},E.createElement(x,{data:m.data.payload}))}else if(m.data.type==="socket"){var K=c?c(m.data):y1;return K&&m.data.payload&&E.createElement(K,{data:m.data.payload})}else if(m.data.type==="control"){var B=d&&m.data.payload?d(m.data):m.data.payload instanceof Qt.InputControl?th:null;return B&&E.createElement(B,{data:m.data.payload})}}}}var Jk=Object.freeze({__proto__:null,vars:Pk,setup:Wk,Connection:c1,useConnection:l1,Control:th,InputControl:th,Node:m1,NodeStyles:p1,RefControl:ah,RefSocket:rh,Socket:y1});function v1(a,n){var r=E.useRef(void 0);function s(){r.current&&clearTimeout(r.current)}var l=function(){s(),r.current=setTimeout(function(){a()},n)};return E.useEffect(function(){return s},[]),[l,s]}var eC="rgba(110,136,255,0.8)",tC="rgba(130, 153, 255, 0.8)",nC="rgba(69, 103, 255, 0.8)",sc="5px",ih=120,e0,Vh=$n.div(e0||(e0=Dn([`
  color: #fff;
  padding: 4px;
  border-bottom: 1px solid `,`;
  background-color: `,`;
  cursor: pointer;
  width: 100%;
  position: relative;
  &:first-child {
    border-top-left-radius: `,`;
    border-top-right-radius: `,`;
  }
  &:last-child {
    border-bottom-left-radius: `,`;
    border-bottom-right-radius: `,`;
  }
  &:hover {
    background-color: `,`;
  }
`])),nC,eC,sc,sc,sc,sc,tC),t0,n0,a0,b1=$n(Vh)(t0||(t0=Dn([`
    `,`
`])),function(a){return a.hasSubitems&&$h(n0||(n0=Dn([`&:after {
    content: '';
    position: absolute;
    opacity: 0.6;
    right: 5px;
    top: 5px;
    }`])))}),w1=$n.div(a0||(a0=Dn([`
    position: absolute;
    top: 0;
    left: 100%;
    width: `,`px;
`])),ih);function S1(a){var n,r,s,l,c=E.useState(!1),d=Vn(c,2),h=d[0],m=d[1],g=E.useCallback(function(){m(!1)},[m]),v=v1(g,a.delay),b=Vn(v,2),x=b[0],k=b[1],_=((n=a.components)===null||n===void 0||(r=n.item)===null||r===void 0?void 0:r.call(n,a.data))||b1,Z=((s=a.components)===null||s===void 0||(l=s.subitems)===null||l===void 0?void 0:l.call(s,a.data))||w1;return E.createElement(_,{onClick:function(W){W.stopPropagation(),a.data.handler(),a.hide()},hasSubitems:!!a.data.subitems,onPointerDown:function(W){W.stopPropagation()},onPointerOver:function(){k(),m(!0)},onPointerLeave:function(){x&&x()},"data-testid":"context-menu-item"},a.children,a.data.subitems&&h&&E.createElement(Z,null,a.data.subitems.map(function(q){return E.createElement(S1,{key:q.key,data:q,delay:a.delay,hide:a.hide,components:a.components},q.label)})))}var r0,x1=$n.input(r0||(r0=Dn([`
  color: white;
  padding: 1px 8px;
  border: 1px solid white;
  border-radius: 10px;
  font-size: 16px;
  font-family: serif;
  width: 100%;
  box-sizing: border-box;
  background: transparent;
`])));function aC(a){var n=a.component||x1;return E.createElement(n,{value:a.value,onInput:function(s){a.onChange(s.target.value)},onPointerDown:function(s){s.stopPropagation()},"data-testid":"context-menu-search-input"})}var i0,E1=$n.div(i0||(i0=Dn([`
  padding: 10px;
  width: `,`px;
  margin-top: -20px;
  margin-left: -`,`px;
`])),ih,ih/2);function rC(a){var n,r,s,l,c,d,h=v1(a.onHide,a.delay),m=Vn(h,2),g=m[0],v=m[1],b=E.useState(""),x=Vn(b,2),k=x[0],_=x[1],Z=new RegExp(k,"i"),q=a.items.filter(function(B){return B.label.match(Z)}),W=((n=a.components)===null||n===void 0||(r=n.main)===null||r===void 0?void 0:r.call(n))||E1,K=((s=a.components)===null||s===void 0||(l=s.common)===null||l===void 0?void 0:l.call(s))||Vh;return E.createElement(W,{onMouseOver:function(){v()},onMouseLeave:function(){g?.()},onWheel:function(Y){Y.stopPropagation()},"data-testid":"context-menu"},a.searchBar&&E.createElement(K,null,E.createElement(aC,{value:k,onChange:_,component:(c=a.components)===null||c===void 0||(d=c.search)===null||d===void 0?void 0:d.call(c)})),q.map(function(B){return E.createElement(S1,{key:B.key,data:B,delay:a.delay,hide:a.onHide,components:a.components},B.label)}))}function iC(a){var n=typeof a?.delay>"u"?1e3:a.delay;return{render:function(s){if(s.data.type==="contextmenu")return E.createElement(rC,{items:s.data.items,delay:n,searchBar:s.data.searchBar,onHide:s.data.onHide,components:a?.customize})}}}var sC=Object.freeze({__proto__:null,setup:iC,Item:b1,Subitems:w1,Menu:E1,Search:x1,Common:Vh}),oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},oC=typeof oc=="object"&&oc&&oc.Object===Object&&oc,lC=typeof self=="object"&&self&&self.Object===Object&&self;oC||lC||Function("return this")();function cC(){const a=E.useRef(!1);return E.useEffect(()=>(a.current=!0,()=>{a.current=!1}),[]),E.useCallback(()=>a.current,[])}var s0={width:void 0,height:void 0};function uC(a){const{ref:n,box:r="content-box"}=a,[{width:s,height:l},c]=E.useState(s0),d=cC(),h=E.useRef({...s0}),m=E.useRef(void 0);return m.current=a.onResize,E.useEffect(()=>{if(!n.current||typeof window>"u"||!("ResizeObserver"in window))return;const g=new ResizeObserver(([v])=>{const b=r==="border-box"?"borderBoxSize":r==="device-pixel-content-box"?"devicePixelContentBoxSize":"contentBoxSize",x=o0(v,b,"inlineSize"),k=o0(v,b,"blockSize");if(h.current.width!==x||h.current.height!==k){const Z={width:x,height:k};h.current.width=x,h.current.height=k,m.current?m.current(Z):d()&&c(Z)}});return g.observe(n.current,{box:r}),()=>{g.disconnect()}},[r,n,d]),{width:s,height:l}}function o0(a,n,r){return a[n]?Array.isArray(a[n])?a[n][0][r]:a[n][r]:n==="contentBoxSize"?a.contentRect[r==="inlineSize"?"width":"height"]:void 0}function Ha(a){return"".concat(a,"px")}var l0,dC=$n.div(l0||(l0=Dn([`
    position: absolute;
    background: rgba(110, 136, 255, 0.8);
    border: 1px solid rgb(192 206 212 / 60%);
`])));function fC(a){return E.createElement(dC,{style:{left:Ha(a.left),top:Ha(a.top),width:Ha(a.width),height:Ha(a.height)},"data-testid":"minimap-node"})}var c0,hC=$n.div(c0||(c0=Dn([`
  position: absolute;
  background: rgba(255, 251, 128, 0.32);
  border: 1px solid #ffe52b;
`])));function pC(a){var n=function(c){return c*a.containerWidth},r=function(c){return c/a.containerWidth},s=u1(function(l,c){a.translate(r(-l),r(-c))},function(l){return{x:l.pageX,y:l.pageY}});return E.createElement(hC,{onPointerDown:s.start,style:{left:Ha(n(a.left)),top:Ha(n(a.top)),width:Ha(n(a.width)),height:Ha(n(a.height))},"data-testid":"minimap-viewport"})}var u0,mC=$n.div(u0||(u0=Dn([`
    position: absolute;
    right: 24px;
    bottom: 24px;
    background: rgba(229, 234, 239, 0.65);
    padding: 20px;
    overflow: hidden;
    border: 1px solid #b1b7ff;
    border-radius: 8px;
    box-sizing: border-box;
`])));function gC(a){var n,r=E.useRef(null),s=uC({ref:r}),l=s.width,c=l===void 0?0:l,d=((n=r.current)===null||n===void 0?void 0:n.clientWidth)||c,h=E.useCallback(function(m){return m*d},[d]);return E.createElement(mC,{size:a.size,style:{width:Ha(a.size*a.ratio),height:Ha(a.size)},onPointerDown:function(g){g.stopPropagation(),g.preventDefault()},onDoubleClick:function(g){if(g.stopPropagation(),g.preventDefault(),!!r.current){var v=r.current.getBoundingClientRect(),b=(g.clientX-v.left)/(a.size*a.ratio),x=(g.clientY-v.top)/(a.size*a.ratio);a.point(b,x)}},ref:r,"data-testid":"minimap"},d?a.nodes.map(function(m,g){return E.createElement(fC,{key:g,left:h(m.left),top:h(m.top),width:h(m.width),height:h(m.height)})}):null,E.createElement(pC,Ti({},a.viewport,{start:a.start,containerWidth:d,translate:a.translate})))}function yC(a){return{render:function(r){if(r.data.type==="minimap")return E.createElement(gC,{nodes:r.data.nodes,size:a?.size||200,ratio:r.data.ratio,viewport:r.data.viewport,start:r.data.start,translate:r.data.translate,point:r.data.point})}}}var vC=Object.freeze({__proto__:null,setup:yC}),d0,Mo=20,bC=$n.div(d0||(d0=Dn([`
  width: `,`px;
  height: `,`px;
  box-sizing: border-box;
  background: `,`;
  border: 2px solid white;
  border-radius: `,`px;
`])),Mo,Mo,function(a){return a.selected?"#ffd92c":"steelblue"},Mo);function wC(a){var n=u1(function(c,d){a.translate(c,d)},a.pointer),r=a.position,s=r.x,l=r.y;return E.createElement(bC,{onPointerDown:function(d){d.stopPropagation(),d.preventDefault(),n.start(d),a.pointerdown()},onContextMenu:function(d){d.stopPropagation(),d.preventDefault(),a.contextMenu()},selected:a.selected,style:{position:"absolute",top:"".concat(l-Mo/2,"px"),left:"".concat(s-Mo/2,"px")},"data-testid":"pin"})}function SC(a){function n(r,s){return E.createElement(E.Fragment,null,r.pins.map(function(l){return E.createElement(wC,Ti({},l,{key:l.id,contextMenu:function(){var d;a==null||(d=a.contextMenu)===null||d===void 0||d.call(a,l.id)},translate:function(d,h){var m;a==null||(m=a.translate)===null||m===void 0||m.call(a,l.id,d,h)},pointerdown:function(){var d;a==null||(d=a.pointerdown)===null||d===void 0||d.call(a,l.id)},pointer:s}))}))}return{render:function(s,l){var c=s.data,d=l.parentScope(Io);if(c.type==="reroute-pins")return n(c.data,function(){return d.area.pointer})}}}var xC=Object.freeze({__proto__:null,setup:SC}),Of=Object.freeze({__proto__:null,classic:Jk,contextMenu:sC,minimap:vC,reroute:xC});function EC(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=kC(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(g){throw g},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,d=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var g=r.next();return d=g.done,g},e:function(g){h=!0,c=g},f:function(){try{d||r.return==null||r.return()}finally{if(h)throw c}}}}function kC(a,n){if(a){if(typeof a=="string")return f0(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f0(a,n):void 0}}function f0(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function h0(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function lc(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?h0(Object(r),!0).forEach(function(s){Le(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):h0(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function CC(a,n,r){return n=Ut(n),Ya(a,k1()?Reflect.construct(n,r||[],Ut(a).constructor):n.apply(a,r))}function k1(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k1=function(){return!!a})()}function TC(a,n,r,s){var l=Bo(Ut(a.prototype),n,r);return typeof l=="function"?function(c){return l.apply(r,c)}:l}var NC=(function(a){function n(){for(var r,s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var d=l[0];return ht(this,n),r=CC(this,n,["react-render"]),Le(r,"presets",[]),r.renderer=Rk({createRoot:d?.createRoot}),r.addPipe(function(h){if(!h||_n(h)!=="object"||!("type"in h))return h;if(h.type==="unmount")r.unmount(h.data.element);else if(h.type==="render"){if("filled"in h.data&&h.data.filled)return h;if(r.mount(h.data.element,h))return lc(lc({},h),{},{data:lc(lc({},h.data),{},{filled:!0})})}return h}),r}return Qn(n,a),pt(n,[{key:"setParent",value:function(s){var l=this;TC(n,"setParent",this)([s]),this.presets.forEach(function(c){c.attach&&c.attach(l)})}},{key:"mount",value:function(s,l){var c=this.parentScope(),d=EC(this.presets),h;try{for(d.s();!(h=d.n()).done;){var m=h.value,g=m.render(l,this);if(g){var v=E.createElement(zk,{rendered:function(){return void c.emit({type:"rendered",data:l.data})}},g);return this.renderer.mount(v,s),!0}}}catch(b){d.e(b)}finally{d.f()}}},{key:"unmount",value:function(s){this.renderer.unmount(s)}},{key:"addPreset",value:function(s){var l=s;l.attach&&l.attach(this),this.presets.push(l)}}])})(Es);function OC(a){try{return Function.toString.call(a).indexOf("[native code]")!==-1}catch{return typeof a=="function"}}function C1(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C1=function(){return!!a})()}function jC(a,n,r){if(C1())return Reflect.construct.apply(null,arguments);var s=[null];s.push.apply(s,n);var l=new(a.bind.apply(a,s));return r&&Lo(l,r.prototype),l}function sh(a){var n=typeof Map=="function"?new Map:void 0;return sh=function(s){if(s===null||!OC(s))return s;if(typeof s!="function")throw new TypeError("Super expression must either be null or a function");if(n!==void 0){if(n.has(s))return n.get(s);n.set(s,l)}function l(){return jC(s,arguments,Ut(this).constructor)}return l.prototype=Object.create(s.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),Lo(l,s)},sh(a)}function AC(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=_C(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(g){throw g},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,d=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var g=r.next();return d=g.done,g},e:function(g){h=!0,c=g},f:function(){try{d||r.return==null||r.return()}finally{if(h)throw c}}}}function _C(a,n){if(a){if(typeof a=="string")return p0(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p0(a,n):void 0}}function p0(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}var DC=(function(){function a(n){ht(this,a),Le(this,"setups",new Map),this.editor=n}return pt(a,[{key:"add",value:function(r,s){var l=this.setups.get(r.id);if(l)throw new Error("already processed");this.setups.set(r.id,s)}},{key:"remove",value:function(r){this.setups.delete(r)}},{key:"fetchInputs",value:(function(){var n=at(xe.mark(function s(l){var c=this,d,h,m,g,v,b,x,k,_,Z,q,W;return xe.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(d=this.setups.get(l),d){B.next=3;break}throw new Error("node is not initialized");case 3:return h=d.inputs(),m=this.editor.getConnections().filter(function(Y){return Y.target===l&&h.includes(Y.targetInput)}),g={},B.next=8,Promise.all(m.map((function(){var Y=at(xe.mark(function fe(be){return xe.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return de.t0=be,de.next=3,c.fetch(be.source);case 3:return de.t1=de.sent,de.abrupt("return",{c:de.t0,sourceData:de.t1});case 5:case"end":return de.stop()}},fe)}));return function(fe){return Y.apply(this,arguments)}})()));case 8:v=B.sent,b=AC(v);try{for(b.s();!(x=b.n()).done;)k=x.value,_=k.c,Z=k.sourceData,q=g[_.targetInput]?g[_.targetInput]:[],W=g,W[_.targetInput]=[].concat(ks(q),[Z[_.sourceOutput]])}catch(Y){b.e(Y)}finally{b.f()}return B.abrupt("return",g);case 12:case"end":return B.stop()}},s,this)}));function r(s){return n.apply(this,arguments)}return r})()},{key:"fetch",value:(function(){var n=at(xe.mark(function s(l){var c=this,d,h,m,g;return xe.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(d=this.setups.get(l),d){b.next=3;break}throw new Error("node is not initialized");case 3:return h=d.outputs(),b.next=6,d.data(function(){return c.fetchInputs(l)});case 6:if(m=b.sent,g=Object.keys(m),h.every(function(x){return g.includes(x)})){b.next=10;break}throw new Error('dataflow node "'.concat(l,`" doesn't return all of required properties. Expected "`).concat(h.join('", "'),'". Got "').concat(g.join('", "'),'"'));case 10:return b.abrupt("return",m);case 11:case"end":return b.stop()}},s,this)}));function r(s){return n.apply(this,arguments)}return r})()}])})(),MC=(function(){function a(n){ht(this,a),Le(this,"cache",new Map),this.onDelete=n}return pt(a,[{key:"get",value:function(r){return this.cache.get(r)}},{key:"add",value:function(r,s){if(this.cache.has(r))throw new Error("cache already exists");this.cache.set(r,s)}},{key:"patch",value:function(r,s){this.cache.set(r,s)}},{key:"delete",value:function(r){var s=this.cache.get(r);this.cache.delete(r),this.onDelete&&this.onDelete(s)}},{key:"clear",value:function(){var r=this;Array.from(this.cache.keys()).forEach(function(s){r.delete(s)})}}])})();function RC(a,n,r){return n=Ut(n),Ya(a,T1()?Reflect.construct(n,r||[],Ut(a).constructor):n.apply(a,r))}function T1(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T1=function(){return!!a})()}var m0=(function(a){function n(){return ht(this,n),RC(this,n,["cancelled"])}return Qn(n,a),pt(n)})(sh(Error));function zC(){var a=!1;function n(m){if(a)throw new m0;return m}for(var r,s=new Promise(function(m,g){r=g,m()}),l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var h=c.reduce(function(m,g){var v=m.then(g).then(n);return v},s);return h.cancel=function(){a||r(new m0),a=!0},h}function LC(a,n,r){return n=Ut(n),Ya(a,N1()?Reflect.construct(n,r||[],Ut(a).constructor):n.apply(a,r))}function N1(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N1=function(){return!!a})()}function BC(a,n,r,s){var l=Bo(Ut(a.prototype),n,r);return typeof l=="function"?function(c){return l.apply(r,c)}:l}var UC=(function(a){function n(r){var s;return ht(this,n),s=LC(this,n,["dataflow-engine"]),Le(s,"cache",new MC(function(l){return l?.cancel&&l.cancel()})),s.configure=r,s.addPipe(function(l){return l.type==="nodecreated"&&s.add(l.data),l.type==="noderemoved"&&s.remove(l.data),l}),s}return Qn(n,a),pt(n,[{key:"setParent",value:function(s){BC(n,"setParent",this)([s]),this.editor=this.parentScope(Qr),this.dataflow=new DC(this.editor)}},{key:"getDataflow",value:function(){if(!this.dataflow)throw new Error("DataflowEngine isn't attached to NodeEditor");return this.dataflow}},{key:"add",value:function(s){var l=this,c=this.configure?this.configure(s):{inputs:function(){return Object.keys(s.inputs)},outputs:function(){return Object.keys(s.outputs)}};this.getDataflow().add(s,{inputs:c.inputs,outputs:c.outputs,data:(function(){var d=at(xe.mark(function m(g){var v,b;return xe.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(v=l.cache.get(s.id),!v){k.next=3;break}return k.abrupt("return",v);case 3:return b=zC(function(){return g()},function(_){return s.data(_)}),l.cache.add(s.id,b),k.abrupt("return",b);case 6:case"end":return k.stop()}},m)}));function h(m){return d.apply(this,arguments)}return h})()})}},{key:"remove",value:function(s){this.getDataflow().remove(s.id)}},{key:"reset",value:function(s){var l=this;if(s){var c=this.getDataflow().setups.get(s);if(!c)throw new Error("setup");var d=c.outputs();this.cache.delete(s),this.editor.getConnections().filter(function(h){return h.source===s&&d.includes(h.sourceOutput)}).forEach(function(h){l.reset(h.target)})}else this.cache.clear()}},{key:"fetchInputs",value:(function(){var r=at(xe.mark(function l(c){var d;return xe.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return d=_n(c)==="object"?c.id:c,m.abrupt("return",this.getDataflow().fetchInputs(d));case 2:case"end":return m.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"fetch",value:(function(){var r=at(xe.mark(function l(c){var d;return xe.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return d=_n(c)==="object"?c.id:c,m.abrupt("return",this.getDataflow().fetch(d));case 2:case"end":return m.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()}])})(Es);const $C=!1,qh=(...a)=>$C,g0=Qt.Socket.canConnect;Qt.Socket.canConnect=function(a,n){return qh(`[Socket Check] ${a.name} <-> ${n.name}`),g0&&g0(a,n)||a.name==="any"||n.name==="any"?!0:a.name===n.name};Qt.Socket.prototype.canConnectTo=function(a){return qh(`[Socket Instance Check] ${this.name} -> ${a.name}`),Qt.Socket.canConnect(this,a)};const O1={boolean:new Qt.Socket("boolean"),number:new Qt.Socket("number"),object:new Qt.Socket("object"),lightInfo:new Qt.Socket("light_info"),any:new Qt.Socket("any")};Object.values(O1).forEach(a=>{a.canConnectTo=function(n){return qh(`[Socket Instance Direct] ${this.name} -> ${n.name}`),this.name===n.name||this.name==="any"||n.name==="any"}});let xo=null;function Gc(){if(xo!==null)return xo;const n=window.location.pathname.match(/^(\/api\/hassio_ingress\/[^/]+)/);return n?xo=n[1]:xo="",xo}function En(a){const n=Gc(),r=a.startsWith("/")?a:"/"+a;return n+r}Gc();const xi="t2app-pin",Dc="t2app-pin-remember",j1=(a,n)=>{try{return a.getItem(n)}catch{return null}},cc=(a,n,r)=>{try{return a.setItem(n,r),!0}catch{return!1}},Ro=(a,n)=>{try{return a.removeItem(n),!0}catch{return!1}},Mc=()=>j1(localStorage,Dc)==="true",ps=()=>{const n=Mc()?localStorage:sessionStorage;return(j1(n,xi)||"").trim()||null},A1=()=>{Ro(sessionStorage,xi),Ro(localStorage,xi),Ro(localStorage,Dc),window.dispatchEvent(new CustomEvent("t2-pin-changed",{detail:{hasPin:!1}}))},y0=(a,{remember:n}={})=>{const r=(a||"").toString().trim(),s=typeof n=="boolean"?n:Mc();if(!r){A1(),typeof n=="boolean"&&cc(localStorage,Dc,n?"true":"false");return}cc(localStorage,Dc,s?"true":"false"),s?(cc(localStorage,xi,r),Ro(sessionStorage,xi)):(cc(sessionStorage,xi,r),Ro(localStorage,xi)),window.dispatchEvent(new CustomEvent("t2-pin-changed",{detail:{hasPin:!0}}))},ds=async(a,n={})=>{const r=typeof a=="string"?En(a):a;return fetch(r,n)},un=async(a,n={})=>{const r=ps(),s=typeof a=="string"?En(a):a;if(!r)return fetch(s,n);const l=new Headers(n.headers||(typeof a!="string"?a.headers:void 0)||void 0);return l.set("X-APP-PIN",r),fetch(s,{...n,headers:l})},v0={shelly:{icon:"",color:"#ff9800",label:"Shelly"},wled:{icon:"",color:"#e040fb",label:"WLED"},esphome:{icon:"",color:"#00bcd4",label:"ESPHome"},hue:{icon:"",color:"#ffc107",label:"Philips Hue"},kasa:{icon:"",color:"#4caf50",label:"TP-Link Kasa"},tasmota:{icon:"",color:"#ff5722",label:"Tasmota"},chromecast:{icon:"",color:"#5c6bc0",label:"Chromecast"},homekit:{icon:"",color:"#607d8b",label:"HomeKit"},airplay:{icon:"",color:"#9c27b0",label:"AirPlay"},generic:{icon:"",color:"#78909c",label:"HTTP Device"},http:{icon:"",color:"#78909c",label:"HTTP Device"}};function IC(){const[a,n]=E.useState([]),[r,s]=E.useState(!1),[l,c]=E.useState(null),[d,h]=E.useState(null),[m,g]=E.useState(5e3),[v,b]=E.useState(null),x=E.useCallback(async()=>{s(!0),c(null);try{const W=await ds("/api/discovery/scan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({timeout:m})});if(!W.ok){const B=await W.json();throw new Error(B.error||`Scan failed (${W.status})`)}const K=await W.json();n(K.devices||[]),h(new Date)}catch(W){console.error("[Discovery] Scan error:",W),c(W.message)}finally{s(!1)}},[m]),k=W=>v0[W]||v0.generic,_=W=>W?new Date(W).toLocaleTimeString():"",q=(W=>{const K={};for(const B of W){const Y=B.type||"generic";K[Y]||(K[Y]=[]),K[Y].push(B)}return K})(a);return p.jsxs("div",{className:"discovery-panel",children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[p.jsxs("div",{children:[p.jsx("div",{style:{fontSize:"11px",color:"#8a959e",marginBottom:"4px"},children:"Scan your network for smart home devices"}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx("label",{style:{fontSize:"11px",color:"#8a959e"},children:"Timeout:"}),p.jsxs("select",{value:m,onChange:W=>g(Number(W.target.value)),disabled:r,style:{background:"#2a3238",color:"#c5cdd3",border:"1px solid rgba(95, 179, 179, 0.3)",borderRadius:"4px",padding:"4px 8px",fontSize:"11px"},children:[p.jsx("option",{value:3e3,children:"3 seconds"}),p.jsx("option",{value:5e3,children:"5 seconds"}),p.jsx("option",{value:1e4,children:"10 seconds"}),p.jsx("option",{value:15e3,children:"15 seconds"})]})]})]}),p.jsx("button",{onClick:x,disabled:r,style:{padding:"10px 20px",background:r?"rgba(95, 179, 179, 0.2)":"rgba(95, 179, 179, 0.15)",border:"1px solid rgba(95, 179, 179, 0.5)",borderRadius:"6px",color:r?"#8a959e":"#5fb3b3",cursor:r?"not-allowed":"pointer",fontSize:"13px",fontWeight:500,display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s"},children:r?p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"discovery-spinner",children:""}),"Scanning..."]}):p.jsx(p.Fragment,{children:" Scan Network"})})]}),l&&p.jsxs("div",{style:{padding:"10px 14px",background:"rgba(199, 95, 95, 0.15)",border:"1px solid rgba(199, 95, 95, 0.3)",borderRadius:"6px",color:"#c75f5f",fontSize:"12px",marginBottom:"12px"},children:[" ",l]}),d&&p.jsxs("div",{style:{fontSize:"10px",color:"#8a959e",marginBottom:"12px"},children:["Last scan: ",d.toLocaleTimeString(),"  Found ",a.length," device(s)"]}),a.length===0&&!r&&d&&p.jsxs("div",{style:{padding:"30px",textAlign:"center",color:"#8a959e",background:"rgba(0, 0, 0, 0.2)",borderRadius:"8px"},children:[p.jsx("div",{style:{fontSize:"24px",marginBottom:"8px"},children:""}),p.jsx("div",{children:"No devices found on your network."}),p.jsx("div",{style:{fontSize:"11px",marginTop:"8px"},children:"Try increasing the timeout or check if your devices are online."})]}),Object.entries(q).map(([W,K])=>{const B=k(W);return p.jsxs("div",{style:{marginBottom:"16px"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",paddingBottom:"6px",borderBottom:"1px solid rgba(95, 179, 179, 0.15)"},children:[p.jsx("span",{style:{fontSize:"16px"},children:B.icon}),p.jsx("span",{style:{color:B.color,fontSize:"13px",fontWeight:500},children:B.label}),p.jsx("span",{style:{color:"#8a959e",fontSize:"11px",background:"rgba(0, 0, 0, 0.2)",padding:"2px 8px",borderRadius:"10px"},children:K.length})]}),p.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:K.map(Y=>p.jsxs("div",{style:{background:v===Y.id?"rgba(95, 179, 179, 0.1)":"rgba(0, 0, 0, 0.15)",border:"1px solid rgba(95, 179, 179, 0.15)",borderRadius:"6px",padding:"10px 14px",cursor:"pointer",transition:"all 0.2s"},onClick:()=>b(v===Y.id?null:Y.id),children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsxs("div",{children:[p.jsx("div",{style:{color:"#c5cdd3",fontSize:"13px",fontWeight:500},children:Y.name}),p.jsxs("div",{style:{color:"#8a959e",fontSize:"11px",fontFamily:"monospace"},children:[Y.ip,":",Y.port]})]}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[Y.configured?p.jsx("span",{style:{background:"rgba(95, 170, 125, 0.2)",color:"#5faa7d",padding:"3px 8px",borderRadius:"4px",fontSize:"10px"},children:"Configured"}):p.jsx("span",{style:{background:"rgba(212, 160, 84, 0.2)",color:"#d4a054",padding:"3px 8px",borderRadius:"4px",fontSize:"10px"},children:"New"}),p.jsx("span",{style:{color:"#8a959e",fontSize:"12px"},children:v===Y.id?"":""})]})]}),v===Y.id&&p.jsxs("div",{style:{marginTop:"12px",paddingTop:"12px",borderTop:"1px solid rgba(95, 179, 179, 0.1)",fontSize:"11px",color:"#8a959e"},children:[p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"100px 1fr",gap:"6px 12px"},children:[p.jsx("span",{children:"Host:"}),p.jsx("span",{style:{color:"#c5cdd3",fontFamily:"monospace"},children:Y.host||"N/A"}),p.jsx("span",{children:"Source:"}),p.jsx("span",{style:{color:"#c5cdd3"},children:Y.source==="mdns"?"mDNS/Bonjour":Y.source==="udp"?"UDP Broadcast":Y.source}),p.jsx("span",{children:"Discovered:"}),p.jsx("span",{style:{color:"#c5cdd3"},children:_(Y.discoveredAt)}),Y.capabilities&&Y.capabilities.length>0&&p.jsxs(p.Fragment,{children:[p.jsx("span",{children:"Capabilities:"}),p.jsx("span",{style:{color:"#5fb3b3"},children:Y.capabilities.join(", ")})]}),Y.model&&p.jsxs(p.Fragment,{children:[p.jsx("span",{children:"Model:"}),p.jsx("span",{style:{color:"#c5cdd3"},children:Y.model})]})]}),p.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"12px"},children:[p.jsx("button",{onClick:fe=>{fe.stopPropagation(),window.open(`http://${Y.ip}:${Y.port}`,"_blank")},style:{padding:"6px 12px",background:"rgba(95, 179, 179, 0.15)",border:"1px solid rgba(95, 179, 179, 0.3)",borderRadius:"4px",color:"#5fb3b3",cursor:"pointer",fontSize:"11px"},children:" Open Web UI"}),p.jsx("button",{onClick:fe=>{fe.stopPropagation(),navigator.clipboard.writeText(Y.ip)},style:{padding:"6px 12px",background:"rgba(95, 179, 179, 0.1)",border:"1px solid rgba(95, 179, 179, 0.2)",borderRadius:"4px",color:"#8a959e",cursor:"pointer",fontSize:"11px"},children:" Copy IP"})]})]})]},Y.id))})]},W)}),p.jsx("style",{children:`
                .discovery-spinner {
                    display: inline-block;
                    animation: spin 1s linear infinite;
                }
                @keyframes spin {
                    from { transform: rotate(0deg); }
                    to { transform: rotate(360deg); }
                }
            `})]})}const Eo={tron:{name:"Tron (Default)",description:"Cyan neon on dark - the classic T2 look",colors:{primary:"#5fb3b3",background:"#1e2428",surface:"#2a3238",surfaceLight:"#343d44",text:"#c5cdd3",textMuted:"#8a959e",success:"#5faa7d",warning:"#d4a054",error:"#c75f5f",borderOpacity:25}},midnight:{name:"Midnight Purple",description:"Deep purple with pink accents",colors:{primary:"#b388ff",background:"#1a1a2e",surface:"#25253a",surfaceLight:"#32324a",text:"#e0d6ff",textMuted:"#9990b8",success:"#69f0ae",warning:"#ffab40",error:"#ff5252",borderOpacity:30}},forest:{name:"Forest",description:"Natural greens with earth tones",colors:{primary:"#81c784",background:"#1b2420",surface:"#263530",surfaceLight:"#324540",text:"#d5e8d4",textMuted:"#8aa888",success:"#4caf50",warning:"#ffb74d",error:"#e57373",borderOpacity:25}},ember:{name:"Ember",description:"Warm orange and red firelight",colors:{primary:"#ff7043",background:"#1f1510",surface:"#2d2018",surfaceLight:"#3d2d22",text:"#ffe0cc",textMuted:"#b08060",success:"#aed581",warning:"#ffc107",error:"#ff5722",borderOpacity:30}},arctic:{name:"Arctic",description:"Cool blues with icy highlights",colors:{primary:"#4fc3f7",background:"#0d1b2a",surface:"#1b2838",surfaceLight:"#283848",text:"#e3f2fd",textMuted:"#78a5c8",success:"#26a69a",warning:"#ffca28",error:"#ef5350",borderOpacity:25}},monochrome:{name:"Monochrome",description:"Clean grayscale - easy on the eyes",colors:{primary:"#90a4ae",background:"#1a1a1a",surface:"#252525",surfaceLight:"#333333",text:"#e0e0e0",textMuted:"#888888",success:"#a5d6a7",warning:"#ffe082",error:"#ef9a9a",borderOpacity:20}}},jf=[{key:"primary",label:"Primary Accent Color",type:"color",default:"#5fb3b3"},{key:"background",label:"Node Background",type:"color",default:"#1e2428"},{key:"surface",label:"Node Surface",type:"color",default:"#2a3238"},{key:"surfaceLight",label:"Elevated Surface",type:"color",default:"#343d44"},{key:"text",label:"Text Color",type:"color",default:"#c5cdd3"},{key:"textMuted",label:"Muted Text",type:"color",default:"#8a959e"},{key:"success",label:"Success Color",type:"color",default:"#5faa7d"},{key:"warning",label:"Warning Color",type:"color",default:"#d4a054"},{key:"error",label:"Error Color",type:"color",default:"#c75f5f"},{key:"borderOpacity",label:"Border Opacity (%)",type:"range",min:0,max:100,default:25}],HC=[{category:"Home Assistant",icon:"",testable:"ha",settings:[{key:"HA_HOST",label:"Home Assistant URL",placeholder:"http://homeassistant.local:8123",type:"text"},{key:"HA_TOKEN",label:"Long-Lived Access Token",placeholder:"eyJ...",type:"password",isSecret:!0}]},{category:"Weather Services",icon:"",testable:"weather",settings:[{key:"OPENWEATHERMAP_API_KEY",label:"OpenWeatherMap API Key",placeholder:"Your API key",type:"password",isSecret:!0}]},{category:"Ambient Weather",icon:"",testable:"ambient",settings:[{key:"AMBIENT_API_KEY",label:"Ambient Weather API Key",placeholder:"Your API key",type:"password",isSecret:!0},{key:"AMBIENT_APPLICATION_KEY",label:"Application Key",placeholder:"Your app key",type:"password",isSecret:!0},{key:"AMBIENT_MAC_ADDRESS",label:"Device MAC Address",placeholder:"XX:XX:XX:XX:XX:XX",type:"text"}]},{category:"Forecast Panel",icon:"",description:"Configure HA sensors to display live weather data on the forecast panel (optional)",settings:[{key:"FORECAST_TEMP_SENSOR",label:"Temperature Sensor",placeholder:"Select sensor...",type:"sensor-select",hint:"HA sensor for current temperature"},{key:"FORECAST_WIND_SENSOR",label:"Wind Speed Sensor",placeholder:"Select sensor...",type:"sensor-select",hint:"HA sensor for wind speed"},{key:"FORECAST_WIND_DIR_SENSOR",label:"Wind Direction Sensor",placeholder:"Select sensor...",type:"sensor-select",hint:"HA sensor for wind direction"},{key:"FORECAST_RAIN_SENSOR",label:"Rain Rate Sensor",placeholder:"Select sensor...",type:"sensor-select",hint:"HA sensor for rain rate"}]},{category:"Philips Hue",icon:"",testable:"hue",settings:[{key:"HUE_BRIDGE_IP",label:"Bridge IP Address",placeholder:"192.168.1.x",type:"text"},{key:"HUE_USERNAME",label:"Bridge Username/Key",placeholder:"Generated key",type:"password",isSecret:!0}]},{category:"Telegram Notifications",icon:"",testable:"telegram",settings:[{key:"TELEGRAM_BOT_TOKEN",label:"Bot Token",placeholder:"123456:ABC-DEF...",type:"password",isSecret:!0},{key:"TELEGRAM_CHAT_ID",label:"Chat ID",placeholder:"123456789",type:"text"}]},{category:"Location",icon:"",description:"Your location for sunrise/sunset calculations and weather",settings:[{key:"LOCATION_CITY",label:"City",placeholder:"Dallas, TX",type:"text"},{key:"LOCATION_LATITUDE",label:"Latitude",placeholder:"32.7767",type:"text"},{key:"LOCATION_LONGITUDE",label:"Longitude",placeholder:"-96.7970",type:"text"},{key:"LOCATION_TIMEZONE",label:"Timezone",placeholder:"America/Chicago",type:"text"}]},{category:"Server Settings",icon:"",settings:[{key:"PORT",label:"Server Port",placeholder:"3000",type:"number"},{key:"LOG_LEVEL",label:"Log Level",placeholder:"info",type:"select",options:["debug","info","warn","error"]}]}],b0=a=>{try{const n=Math.max(0,parseInt(a.slice(1,3),16)-40),r=Math.max(0,parseInt(a.slice(3,5),16)-40),s=Math.max(0,parseInt(a.slice(5,7),16)-40);return`#${n.toString(16).padStart(2,"0")}${r.toString(16).padStart(2,"0")}${s.toString(16).padStart(2,"0")}`}catch{return a}},w0=a=>{try{const n=Math.min(255,parseInt(a.slice(1,3),16)+50),r=Math.min(255,parseInt(a.slice(3,5),16)+50),s=Math.min(255,parseInt(a.slice(5,7),16)+50);return`#${n.toString(16).padStart(2,"0")}${r.toString(16).padStart(2,"0")}${s.toString(16).padStart(2,"0")}`}catch{return a}};function VC({isOpen:a,onClose:n}){const[r,s]=E.useState({}),[l,c]=E.useState(!0),[d,h]=E.useState(!1),[m,g]=E.useState(null),[v,b]=E.useState(null),[x,k]=E.useState({}),[_,Z]=E.useState({}),[q,W]=E.useState({}),[K,B]=E.useState({}),[Y,fe]=E.useState([]),[be,H]=E.useState(!1),de=E.useRef(!1),ie=E.useRef(null),[pe,Be]=E.useState(""),[Ae,Je]=E.useState(()=>Mc()),[rt,We]=E.useState(()=>!!ps()),[O,V]=E.useState(!1),[Q,me]=E.useState(()=>{try{const N=localStorage.getItem("t2theme-overrides"),A=N?JSON.parse(N):{},J={};return jf.forEach(le=>{J[le.key]=le.default}),{...J,...A}}catch{const N={};return jf.forEach(A=>{N[A.key]=A.default}),N}}),[U,S]=E.useState(!1),[M,j]=E.useState(()=>{try{return localStorage.getItem("t2theme-preset")||"tron"}catch{return"tron"}}),[R,ce]=E.useState(()=>{try{const N=localStorage.getItem("t2-custom-themes");return N?JSON.parse(N):{}}catch{return{}}}),[ve,Oe]=E.useState(!1),[Ge,He]=E.useState(""),Ze={"Home Assistant":{accent:"#4fc3f7",background:"#0a1520",icon:""},Weather:{accent:"#ffb74d",background:"#1a1510",icon:""},Logic:{accent:"#81c784",background:"#0a140a",icon:""},"Timer/Event":{accent:"#ce93d8",background:"#140a14",icon:""},Color:{accent:"#f48fb1",background:"#140a10",icon:""},Utility:{accent:"#90a4ae",background:"#0a0f14",icon:""},Inputs:{accent:"#aed581",background:"#0f140a",icon:""},CC_Control_Nodes:{accent:"#64b5f6",background:"#0a1018",icon:""},Other:{accent:"#b0bec5",background:"#0a0f14",icon:""}},[St,_t]=E.useState(()=>{try{const N=localStorage.getItem("t2category-overrides"),A=N?JSON.parse(N):{},J={};for(const[le,je]of Object.entries(Ze))J[le]={...je,...A[le]||{}};return J}catch{return{...Ze}}}),[In,dn]=E.useState(!1),Pt={Boolean:{color:"#10b981",icon:"",description:"True/False values"},Number:{color:"#3b82f6",icon:"",description:"Numeric values"},String:{color:"#f59e0b",icon:"",description:"Text values"},"HSV Info":{color:"#8b5cf6",icon:"",description:"Color HSV data"},"Object/Any":{color:"#06b6d4",icon:"",description:"Generic objects"},"Light Info":{color:"#eab308",icon:"",description:"Light state data"}},qn={Boolean:"boolean",Number:"number",String:"string","HSV Info":"hsv","Object/Any":"object","Light Info":"light"},[Ye,F]=E.useState(()=>{try{const N=localStorage.getItem("t2socket-colors"),A=N?JSON.parse(N):{},J={};for(const[le,je]of Object.entries(Pt))J[le]={...je,...A[le]||{}};return J}catch{return{...Pt}}}),[se,ee]=E.useState(!1),[_e,Se]=E.useState(!1),[oe,C]=E.useState(null),[L,ue]=E.useState(!1),[he,we]=E.useState(!1);E.useEffect(()=>{a?(Ve(),Z({Security:!0,"Home Assistant":!0}),W({}),Je(Mc()),We(!!ps()),Be(""),de.current||(de.current=!0,(async()=>{console.log("[SettingsModal] Fetching HA sensors via HTTP..."),H(!0);try{const N=await un("/api/lights/ha/");if(console.log("[SettingsModal] Response status:",N.status),!N.ok){console.warn("[SettingsModal] Failed to fetch HA devices:",N.status),H(!1);return}const A=await N.json();if(console.log("[SettingsModal] HA devices received:",A?.length),!A||!Array.isArray(A)){console.warn("[SettingsModal] No devices array received"),H(!1);return}const J=A.filter(le=>(le.id||le.entity_id||"").includes("sensor.")).map(le=>({id:(le.id||le.entity_id||"").replace("ha_",""),name:le.name||le.friendly_name||le.id||le.entity_id})).sort((le,je)=>le.name.localeCompare(je.name));console.log("[SettingsModal] Filtered sensors:",J.length),fe(J),H(!1)}catch(N){console.warn("[SettingsModal] Error fetching HA sensors:",N),H(!1)}})())):de.current=!1},[a]);const Ne=async()=>{console.log("[SettingsModal] Fetching HA sensors via HTTP..."),H(!0);try{const N=await un("/api/lights/ha/");if(!N.ok){console.warn("[SettingsModal] Failed to fetch HA devices:",N.status),H(!1);return}const A=await N.json();if(console.log("[SettingsModal] HA devices received:",A?.length),!A||!Array.isArray(A)){console.warn("[SettingsModal] No devices array received"),H(!1);return}const J=A.filter(le=>(le.id||le.entity_id||"").includes("sensor.")).map(le=>({id:(le.id||le.entity_id||"").replace("ha_",""),name:le.name||le.friendly_name||le.id||le.entity_id})).sort((le,je)=>le.name.localeCompare(je.name));console.log("[SettingsModal] Filtered sensors:",J.length),fe(J),H(!1)}catch(N){console.warn("[SettingsModal] Error fetching HA sensors:",N),H(!1)}},Ve=async()=>{c(!0),g(null);try{const N=await un("/api/settings");if(!N.ok)throw new Error("Failed to fetch settings");const J=(await N.json()).settings||{};s(J);try{const le=await un("/api/config");if(le.ok){const je=await le.json();if(je.success){ue(je.isAddon||!1),we(!0);const xt=!J.LOCATION_CITY,Mn=!J.LOCATION_LATITUDE,Re=!J.LOCATION_LONGITUDE,Et=!J.LOCATION_TIMEZONE;(xt||Mn||Re||Et)&&(s(kt=>({...kt,...xt&&je.locationName?{LOCATION_CITY:je.locationName}:{},...Mn&&je.latitude?{LOCATION_LATITUDE:String(je.latitude)}:{},...Re&&je.longitude?{LOCATION_LONGITUDE:String(je.longitude)}:{},...Et&&je.timezone?{LOCATION_TIMEZONE:je.timezone}:{}})),console.log("[Settings] Auto-filled location from Home Assistant config"))}}}catch(le){console.log("[Settings] Could not fetch HA config for location auto-fill:",le.message)}}catch(N){g("Failed to load settings: "+N.message)}finally{c(!1)}},Xe=async()=>{h(!0),g(null),b(null);try{const N=await un("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:r})});if(!N.ok){const A=await N.json();throw new Error(A.error||"Failed to save settings")}b("Settings saved! Some changes may require a server restart."),setTimeout(()=>b(null),5e3)}catch(N){g("Failed to save: "+N.message)}finally{h(!1)}},st=(N,A)=>{s(J=>({...J,[N]:A}))},Ue=async()=>{const N=r.LOCATION_CITY;if(!N||N.trim().length<2){C("Please enter a city name first");return}Se(!0),C(null);try{const A=await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(N)}&format=json&limit=1&addressdetails=1`,{headers:{"User-Agent":"T2AutoTron/2.1 (Home Automation App)"}});if(!A.ok)throw new Error("Geocoding service unavailable");const J=await A.json();if(J.length===0){C(`Could not find "${N}". Try adding state/country (e.g., "Dallas, TX, USA")`);return}const le=J[0],je=parseFloat(le.lat).toFixed(4),xt=parseFloat(le.lon).toFixed(4),Mn=le.address?[le.address.city||le.address.town||le.address.village||le.name,le.address.state,le.address.country].filter(Boolean).join(", "):le.display_name.split(",").slice(0,3).join(",");let Re="UTC";const Et=le.address?.state?.toLowerCase()||"",kt=le.address?.country?.toLowerCase()||"";if(kt.includes("portugal"))Re="Europe/Lisbon";else if(kt.includes("spain"))Re="Europe/Madrid";else if(kt.includes("france"))Re="Europe/Paris";else if(kt.includes("germany"))Re="Europe/Berlin";else if(kt.includes("italy"))Re="Europe/Rome";else if(kt.includes("united kingdom")||kt.includes("ireland"))Re="Europe/London";else if(kt.includes("netherlands"))Re="Europe/Amsterdam";else if(kt.includes("belgium"))Re="Europe/Brussels";else if(kt.includes("australia"))Re="Australia/Sydney";else if(kt.includes("japan"))Re="Asia/Tokyo";else if(kt.includes("china"))Re="Asia/Shanghai";else if(kt.includes("india"))Re="Asia/Kolkata";else if(kt.includes("brazil"))Re="America/Sao_Paulo";else if(kt.includes("canada"))Et.includes("british columbia")?Re="America/Vancouver":Et.includes("alberta")?Re="America/Edmonton":Et.includes("saskatchewan")?Re="America/Regina":Et.includes("manitoba")?Re="America/Winnipeg":Et.includes("ontario")?Re="America/Toronto":Et.includes("quebec")?Re="America/Montreal":Re="America/Toronto";else if(kt.includes("united states")||kt.includes("usa"))Et.includes("hawaii")?Re="Pacific/Honolulu":Et.includes("alaska")?Re="America/Anchorage":["california","nevada","oregon","washington"].some(lt=>Et.includes(lt))?Re="America/Los_Angeles":["arizona"].some(lt=>Et.includes(lt))?Re="America/Phoenix":["colorado","montana","wyoming","utah","new mexico","idaho"].some(lt=>Et.includes(lt))?Re="America/Denver":["texas","oklahoma","kansas","nebraska","south dakota","north dakota","minnesota","iowa","missouri","arkansas","louisiana","wisconsin","illinois","mississippi","alabama","tennessee"].some(lt=>Et.includes(lt))?Re="America/Chicago":Re="America/New_York";else{const lt=parseFloat(xt);lt>=-125&&lt<-115?Re="America/Los_Angeles":lt>=-115&&lt<-102?Re="America/Denver":lt>=-102&&lt<-87?Re="America/Chicago":lt>=-87&&lt<-67?Re="America/New_York":lt>=-10&&lt<3?Re="Europe/London":lt>=3&&lt<15?Re="Europe/Paris":lt>=15&&lt<30&&(Re="Europe/Berlin")}s(lt=>({...lt,LOCATION_CITY:Mn,LOCATION_LATITUDE:je,LOCATION_LONGITUDE:xt,LOCATION_TIMEZONE:Re})),b(`Found: ${Mn} (${je}, ${xt})`),setTimeout(()=>b(null),5e3)}catch(A){C("Search failed: "+A.message)}finally{Se(!1)}},$e=(N,A)=>{me(je=>({...je,[N]:A})),S(!0),j("custom");const J=document.documentElement;if(N==="borderOpacity")J.style.setProperty("--node-border-opacity",A/100);else if(J.style.setProperty(`--theme-${N}`,A),A.startsWith("#")){const je=parseInt(A.slice(1,3),16),xt=parseInt(A.slice(3,5),16),Mn=parseInt(A.slice(5,7),16);J.style.setProperty(`--theme-${N}-rgb`,`${je}, ${xt}, ${Mn}`)}const le={...Q,[N]:A};localStorage.setItem("t2theme-overrides",JSON.stringify(le)),localStorage.setItem("t2theme-preset","custom")},Me=N=>{const A=Eo[N];if(!A)return;const J=document.documentElement;Object.entries(A.colors).forEach(([le,je])=>{if(le==="borderOpacity")J.style.setProperty("--node-border-opacity",je/100);else{J.style.setProperty(`--theme-${le}`,je);const xt=je;if(xt.startsWith("#")){const Mn=parseInt(xt.slice(1,3),16),Re=parseInt(xt.slice(3,5),16),Et=parseInt(xt.slice(5,7),16);J.style.setProperty(`--theme-${le}-rgb`,`${Mn}, ${Re}, ${Et}`)}}}),window.T2Controls?.THEME&&Object.assign(window.T2Controls.THEME,A.colors),localStorage.setItem("t2theme-preset",N),localStorage.setItem("t2theme-overrides",JSON.stringify(A.colors)),me(A.colors),j(N),S(!1),b(`Theme "${A.name}" applied!`),setTimeout(()=>b(null),3e3)},it=N=>{const A=R[N];if(!A)return;const J=document.documentElement;Object.entries(A.colors).forEach(([le,je])=>{if(le==="borderOpacity")J.style.setProperty("--node-border-opacity",je/100);else{J.style.setProperty(`--theme-${le}`,je);const xt=je;if(xt&&xt.startsWith("#")){const Mn=parseInt(xt.slice(1,3),16),Re=parseInt(xt.slice(3,5),16),Et=parseInt(xt.slice(5,7),16);J.style.setProperty(`--theme-${le}-rgb`,`${Mn}, ${Re}, ${Et}`)}}}),window.T2Controls?.THEME&&Object.assign(window.T2Controls.THEME,A.colors),localStorage.setItem("t2theme-preset",`custom:${N}`),localStorage.setItem("t2theme-overrides",JSON.stringify(A.colors)),me(A.colors),j(`custom:${N}`),S(!1),b(`Theme "${A.name}" applied!`),setTimeout(()=>b(null),3e3)},yt=()=>{if(!Ge.trim()){g("Please enter a theme name");return}const N=Ge.trim().toLowerCase().replace(/\s+/g,"-");if(Eo[N]){g("Cannot use a built-in theme name");return}const A={name:Ge.trim(),colors:{...Q}},J={...R,[N]:A};ce(J);try{localStorage.setItem("t2-custom-themes",JSON.stringify(J)),localStorage.setItem("t2theme-preset",`custom:${N}`),j(`custom:${N}`),Oe(!1),He(""),S(!1),b(`Custom theme "${Ge.trim()}" saved!`),setTimeout(()=>b(null),3e3)}catch(le){g("Failed to save custom theme: "+le.message)}},$t=(N,A)=>{A.stopPropagation();const J=R[N]?.name||N;if(!window.confirm(`Delete custom theme "${J}"?`))return;const{[N]:le,...je}=R;ce(je);try{localStorage.setItem("t2-custom-themes",JSON.stringify(je)),M===`custom:${N}`&&Me("tron"),b(`Theme "${J}" deleted`),setTimeout(()=>b(null),3e3)}catch(xt){g("Failed to delete theme: "+xt.message)}},rn=()=>{try{localStorage.setItem("t2theme-overrides",JSON.stringify(Q)),localStorage.setItem("t2theme-preset","custom"),j("custom"),b("Theme saved! Refresh the page to apply changes."),S(!1),setTimeout(()=>b(null),5e3)}catch(N){g("Failed to save theme: "+N.message)}},ot=()=>{Me("tron"),localStorage.removeItem("t2theme-overrides"),localStorage.removeItem("t2theme-preset"),S(!1),setTimeout(()=>b(null),5e3)},Dt=(N,A,J)=>{_t(le=>({...le,[N]:{...le[N],[A]:J}})),dn(!0)},Wt=N=>{const A=parseInt(N.slice(1,3),16),J=parseInt(N.slice(3,5),16),le=parseInt(N.slice(5,7),16);return`${A}, ${J}, ${le}`},sn={"Home Assistant":"ha",Weather:"weather",Logic:"logic","Timer/Event":"timer",Color:"color",Utility:"utility",Inputs:"inputs",CC_Control_Nodes:"cc",Other:"other"},It=N=>{const A=document.documentElement;for(const[J,le]of Object.entries(N)){const je=sn[J];je&&(A.style.setProperty(`--node-${je}-color`,le.accent),A.style.setProperty(`--node-${je}-color-rgb`,Wt(le.accent)),le.background&&A.style.setProperty(`--node-${je}-bg`,le.background))}},Jt=()=>{try{const N={};for(const[A,J]of Object.entries(St)){const le=Ze[A],je={};J.accent!==le.accent&&(je.accent=J.accent),J.background!==le.background&&(je.background=J.background),Object.keys(je).length>0&&(N[A]=je)}Object.keys(N).length>0?localStorage.setItem("t2category-overrides",JSON.stringify(N)):localStorage.removeItem("t2category-overrides"),It(St),b("Category colors applied!"),dn(!1),setTimeout(()=>b(null),3e3)}catch(N){g("Failed to save category colors: "+N.message)}},Fa=()=>{_t({...Ze}),localStorage.removeItem("t2category-overrides"),It(Ze),b("Category colors reset to defaults!"),dn(!1),setTimeout(()=>b(null),3e3)},Pa=(N,A)=>{F(J=>({...J,[N]:{...J[N],color:A}})),ee(!0)},la=(N,A=20)=>{const J=parseInt(N.slice(1),16),le=Math.max(0,(J>>16)-Math.round(255*A/100)),je=Math.max(0,(J>>8&255)-Math.round(255*A/100)),xt=Math.max(0,(J&255)-Math.round(255*A/100));return`#${(1<<24|le<<16|je<<8|xt).toString(16).slice(1)}`},Ma=(N,A=20)=>{const J=parseInt(N.slice(1),16),le=Math.min(255,(J>>16)+Math.round(255*A/100)),je=Math.min(255,(J>>8&255)+Math.round(255*A/100)),xt=Math.min(255,(J&255)+Math.round(255*A/100));return`#${(1<<24|le<<16|je<<8|xt).toString(16).slice(1)}`},Jr=N=>{const A=document.documentElement;for(const[J,le]of Object.entries(N)){const je=qn[J];je&&(A.style.setProperty(`--socket-${je}-color`,le.color),A.style.setProperty(`--socket-${je}-dark`,la(le.color,15)),A.style.setProperty(`--socket-${je}-border`,Ma(le.color,20)),A.style.setProperty(`--socket-${je}-rgb`,Wt(le.color)))}},ei=()=>{try{const N={};for(const[A,J]of Object.entries(Ye)){const le=Pt[A];J.color!==le.color&&(N[A]={color:J.color})}Object.keys(N).length>0?localStorage.setItem("t2socket-colors",JSON.stringify(N)):localStorage.removeItem("t2socket-colors"),Jr(Ye),b("Socket colors applied!"),ee(!1),setTimeout(()=>b(null),3e3)}catch(N){g("Failed to save socket colors: "+N.message)}},Zt=()=>{F({...Pt}),localStorage.removeItem("t2socket-colors"),Jr(Pt),b("Socket colors reset to defaults!"),ee(!1),setTimeout(()=>b(null),3e3)},fn=N=>{Z(A=>({...A,[N]:!A[N]})),N==="Forecast Panel"&&!_[N]&&Y.length===0&&Ne()},Wn=N=>{k(A=>({...A,[N]:!A[N]}))},hn=async N=>{B(A=>({...A,[N]:!0})),W(A=>({...A,[N]:null}));try{const J=await(await un("/api/settings/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({service:N,settings:r})})).json();W(le=>({...le,[N]:{success:J.success,message:J.message||(J.success?"Connection successful!":"Connection failed"),details:J.details}}))}catch(A){W(J=>({...J,[N]:{success:!1,message:"Test failed: "+A.message}}))}finally{B(A=>({...A,[N]:!1}))}},ti=()=>{const N={version:"1.0",timestamp:new Date().toISOString(),settings:r},A=new Blob([JSON.stringify(N,null,2)],{type:"application/json"}),J=URL.createObjectURL(A),le=document.createElement("a");le.href=J,le.download=`t2autotron-settings-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(le),le.click(),document.body.removeChild(le),URL.revokeObjectURL(J),b("Settings exported successfully!"),setTimeout(()=>b(null),3e3)},ni=N=>{const A=N.target.files?.[0];if(!A)return;const J=new FileReader;J.onload=le=>{try{const je=JSON.parse(le.target.result);if(!je.settings||typeof je.settings!="object")throw new Error("Invalid backup file format");s(xt=>({...xt,...je.settings})),b(`Imported ${Object.keys(je.settings).length} settings from backup. Click Save to apply.`),setTimeout(()=>b(null),5e3)}catch(je){g("Failed to import backup: "+je.message)}},J.readAsText(A),N.target.value=""};return a?Nh.createPortal(p.jsx("div",{className:"settings-modal-overlay",onClick:n,children:p.jsxs("div",{className:"settings-modal",onClick:N=>N.stopPropagation(),children:[p.jsxs("div",{className:"settings-header",children:[p.jsx("h2",{children:" Settings & API Keys"}),p.jsx("button",{className:"settings-close-btn",onClick:n,children:""})]}),p.jsx("div",{className:"settings-content",children:l?p.jsx("div",{className:"settings-loading",children:"Loading settings..."}):p.jsxs(p.Fragment,{children:[m&&p.jsx("div",{className:"settings-error",children:m}),v&&p.jsx("div",{className:"settings-success",children:v}),p.jsx("div",{className:"settings-warning",children:" These settings are stored on the server (managed by this app). Keep the server secure."}),p.jsxs("div",{className:"settings-category",children:[p.jsxs("div",{className:"settings-category-header",onClick:()=>fn("Security"),style:{background:"linear-gradient(135deg, rgba(0, 243, 255, 0.12), rgba(0, 150, 200, 0.08))"},children:[p.jsxs("span",{children:[_.Security?"":""," Security (This Device)"]}),rt&&p.jsxs("span",{style:{fontSize:"10px",color:Ae?"#00c896":"#ffaa00"},children:[" ",Ae?"REMEMBERED":"SESSION"]})]}),_.Security&&p.jsxs("div",{className:"settings-category-content",children:[p.jsx("div",{className:"settings-info",style:{fontSize:"11px",color:"#8a959e",marginBottom:"10px",padding:"8px",background:"rgba(0, 243, 255, 0.06)",borderRadius:"4px"},children:"Used to authorize protected actions (Settings tests, Updates) when accessing the server from another device."}),p.jsxs("div",{className:"settings-field",children:[p.jsxs("label",{className:"settings-label",children:["App PIN",p.jsx("button",{className:"settings-show-btn",onClick:()=>V(N=>!N),type:"button",children:O?" Hide":" Show"})]}),p.jsx("input",{type:O?"text":"password",className:"settings-input",value:pe,onChange:N=>Be(N.target.value),placeholder:rt?"Enter new PIN (leave blank to keep current)":"Enter PIN",autoComplete:"off"}),p.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"10px",alignItems:"center"},children:[p.jsxs("label",{style:{display:"flex",gap:"8px",alignItems:"center",fontSize:"12px",color:"#88ddff"},children:[p.jsx("input",{type:"checkbox",checked:Ae,onChange:N=>{const A=N.target.checked;Je(A);const J=ps();J&&y0(J,{remember:A})}}),"Remember PIN on this device"]}),p.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:"10px"},children:[p.jsx("button",{className:"settings-btn-small",type:"button",onClick:()=>{const N=pe.trim();N&&(y0(N,{remember:Ae}),We(!0),Be(""),(async()=>{try{const A=await un("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:{APP_PIN:N}})});if(!A.ok){const J=await A.text();throw new Error(J||`HTTP ${A.status}`)}b("PIN saved (server + this device)."),setTimeout(()=>b(null),3e3)}catch{b("PIN saved on this device. Server PIN update failed."),setTimeout(()=>b(null),4e3)}finally{Ve()}})())},style:{background:"rgba(0, 200, 150, 0.1)",borderColor:"rgba(0, 200, 150, 0.4)",color:"#00c896"},disabled:!pe.trim(),children:" Save PIN"}),p.jsx("button",{className:"settings-btn-small",type:"button",onClick:()=>{A1(),We(!1),Be(""),Je(!1),b("PIN cleared."),setTimeout(()=>b(null),3e3)},style:{background:"rgba(199, 95, 95, 0.12)",borderColor:"rgba(199, 95, 95, 0.45)",color:"#c75f5f"},disabled:!rt,children:"Clear"})]})]}),p.jsx("div",{style:{marginTop:"8px",fontSize:"11px",color:"#666"},children:rt?`PIN is saved (${Ae?"remembered":"this session"}).`:"No PIN saved."})]})]})]}),p.jsxs("div",{className:"settings-backup-section",children:[p.jsx("span",{className:"settings-backup-label",children:" Backup & Restore"}),p.jsxs("div",{className:"settings-backup-buttons",children:[p.jsx("button",{className:"settings-btn-small settings-btn-export",onClick:ti,children:" Export Backup"}),p.jsx("button",{className:"settings-btn-small settings-btn-import",onClick:()=>ie.current?.click(),children:" Import Backup"}),p.jsx("input",{ref:ie,type:"file",accept:".json",style:{display:"none"},onChange:ni})]})]}),p.jsxs("div",{className:"settings-category",children:[p.jsxs("div",{className:"settings-category-header",onClick:()=>fn("Performance"),style:{background:"linear-gradient(135deg, rgba(255, 170, 0, 0.15), rgba(255, 100, 50, 0.1))"},children:[p.jsxs("span",{children:[_.Performance?"":""," Performance Mode"]}),window.getPerformanceMode?.()&&p.jsx("span",{style:{fontSize:"10px",color:"#10b981"},children:" ACTIVE"})]}),_.Performance&&p.jsxs("div",{className:"settings-category-content",children:[p.jsxs("div",{className:"settings-info",style:{fontSize:"11px",color:"#ffaa00",marginBottom:"12px",padding:"10px",background:"rgba(255, 170, 0, 0.1)",borderRadius:"4px",border:"1px solid rgba(255, 170, 0, 0.2)"},children:[" ",p.jsx("strong",{children:"Enable this if you experience lag or high GPU usage with many nodes."}),p.jsx("br",{}),p.jsx("br",{}),"Performance Mode disables:",p.jsxs("ul",{style:{margin:"8px 0 0 0",paddingLeft:"20px"},children:[p.jsx("li",{children:"Backdrop blur effects on nodes (biggest impact)"}),p.jsx("li",{children:"Complex glow shadows"}),p.jsx("li",{children:"Infinite pulse/glow animations"}),p.jsx("li",{children:"Transition effects on nodes"})]})]}),p.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px",background:"rgba(0, 0, 0, 0.3)",borderRadius:"6px"},children:[p.jsxs("div",{children:[p.jsx("div",{style:{color:"#e0e0e0",fontSize:"13px",fontWeight:"500"},children:"Performance Mode"}),p.jsx("div",{style:{color:"#888",fontSize:"11px",marginTop:"2px"},children:"Recommended for 40+ nodes"})]}),p.jsxs("label",{style:{position:"relative",display:"inline-block",width:"50px",height:"26px"},children:[p.jsx("input",{type:"checkbox",checked:window.getPerformanceMode?.()||!1,onChange:N=>{window.setPerformanceMode?.(N.target.checked),Z(A=>({...A}))},style:{opacity:0,width:0,height:0}}),p.jsx("span",{style:{position:"absolute",cursor:"pointer",top:0,left:0,right:0,bottom:0,background:window.getPerformanceMode?.()?"#10b981":"#444",transition:"background 0.2s",borderRadius:"26px"},children:p.jsx("span",{style:{position:"absolute",content:"",height:"20px",width:"20px",left:window.getPerformanceMode?.()?"26px":"3px",bottom:"3px",background:"#fff",transition:"left 0.2s",borderRadius:"50%"}})})]})]}),p.jsx("div",{style:{marginTop:"12px",fontSize:"10px",color:"#666",textAlign:"center"},children:"Changes apply immediately. Look for  indicator in bottom-left when active."})]})]}),p.jsxs("div",{className:"settings-category",children:[p.jsx("div",{className:"settings-category-header",onClick:()=>fn("Discovery"),children:p.jsxs("span",{children:[_.Discovery?"":""," Network Device Discovery"]})}),_.Discovery&&p.jsx("div",{className:"settings-category-content",children:p.jsx(IC,{})})]}),p.jsxs("div",{className:"settings-category",children:[p.jsxs("div",{className:"settings-category-header",onClick:()=>fn("Theme"),children:[p.jsxs("span",{children:[_.Theme?"":""," Node Theme Settings"]}),U&&p.jsx("span",{style:{fontSize:"10px",color:"#d4a054"},children:" unsaved"})]}),_.Theme&&p.jsxs("div",{className:"settings-category-content",children:[p.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"rgba(95, 179, 179, 0.08)",borderRadius:"8px",border:"1px solid rgba(95, 179, 179, 0.2)"},children:[p.jsx("label",{className:"settings-label",style:{fontSize:"12px",marginBottom:"8px",display:"block"},children:" Built-in Themes"}),p.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:Object.entries(Eo).map(([N,A])=>p.jsxs("button",{onClick:()=>Me(N),style:{padding:"8px 14px",borderRadius:"6px",border:M===N?`2px solid ${A.colors.primary}`:"1px solid rgba(255,255,255,0.2)",background:M===N?`linear-gradient(135deg, ${A.colors.surface}, ${A.colors.background})`:A.colors.surface,color:A.colors.text,cursor:"pointer",transition:"all 0.2s",fontSize:"11px",fontWeight:M===N?"600":"400",boxShadow:M===N?`0 0 12px ${A.colors.primary}40`:"none"},title:A.description,children:[p.jsx("span",{style:{display:"inline-block",width:"10px",height:"10px",borderRadius:"50%",background:A.colors.primary,marginRight:"6px",boxShadow:`0 0 6px ${A.colors.primary}`}}),A.name]},N))}),Object.keys(R).length>0&&p.jsxs(p.Fragment,{children:[p.jsx("label",{className:"settings-label",style:{fontSize:"12px",marginTop:"16px",marginBottom:"8px",display:"block"},children:" Your Saved Themes"}),p.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:Object.entries(R).map(([N,A])=>p.jsxs("button",{onClick:()=>it(N),style:{padding:"8px 14px",borderRadius:"6px",border:M===`custom:${N}`?`2px solid ${A.colors.primary}`:"1px solid rgba(255,255,255,0.2)",background:M===`custom:${N}`?`linear-gradient(135deg, ${A.colors.surface}, ${A.colors.background})`:A.colors.surface,color:A.colors.text,cursor:"pointer",transition:"all 0.2s",fontSize:"11px",fontWeight:M===`custom:${N}`?"600":"400",boxShadow:M===`custom:${N}`?`0 0 12px ${A.colors.primary}40`:"none",position:"relative",paddingRight:"28px"},title:`Custom theme: ${A.name}`,children:[p.jsx("span",{style:{display:"inline-block",width:"10px",height:"10px",borderRadius:"50%",background:A.colors.primary,marginRight:"6px",boxShadow:`0 0 6px ${A.colors.primary}`}}),A.name,p.jsx("span",{onClick:J=>$t(N,J),style:{position:"absolute",right:"6px",top:"50%",transform:"translateY(-50%)",fontSize:"12px",opacity:.6,cursor:"pointer"},title:"Delete this theme",children:""})]},N))})]}),p.jsx("div",{style:{marginTop:"8px",fontSize:"10px",color:"#8a959e",fontStyle:"italic"},children:M.startsWith("custom:")&&R[M.replace("custom:","")]?`Custom theme: ${R[M.replace("custom:","")].name}`:M!=="custom"&&Eo[M]?Eo[M].description:"Custom theme - you've modified individual colors"})]}),p.jsx("div",{className:"settings-info",style:{fontSize:"11px",color:"#8a959e",marginBottom:"12px",padding:"8px",background:"rgba(95, 179, 179, 0.1)",borderRadius:"4px"},children:" Click a preset to apply instantly, or customize individual colors below."}),p.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:jf.map(N=>p.jsxs("div",{className:"settings-field",style:{marginBottom:"8px"},children:[p.jsx("label",{className:"settings-label",style:{fontSize:"10px"},children:N.label}),N.type==="color"?p.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[p.jsx("input",{type:"color",value:Q[N.key]||N.default,onChange:A=>$e(N.key,A.target.value),style:{width:"40px",height:"30px",border:"none",borderRadius:"4px",cursor:"pointer",background:"transparent"}}),p.jsx("input",{type:"text",value:Q[N.key]||N.default,onChange:A=>$e(N.key,A.target.value),className:"settings-input",style:{flex:1,fontFamily:"monospace",fontSize:"11px"}})]}):N.type==="range"?p.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[p.jsx("input",{type:"range",min:N.min,max:N.max,value:Q[N.key]||N.default,onChange:A=>$e(N.key,parseInt(A.target.value)),style:{flex:1}}),p.jsxs("span",{style:{minWidth:"35px",textAlign:"right",color:"#c5cdd3",fontSize:"12px"},children:[Q[N.key]||N.default,"%"]})]}):null]},N.key))}),p.jsxs("div",{style:{marginTop:"12px",padding:"12px",background:Q.background,borderRadius:"8px",border:`1px solid rgba(95, 179, 179, ${(Q.borderOpacity||25)/100})`},children:[p.jsx("div",{style:{fontSize:"10px",color:Q.textMuted,marginBottom:"8px"},children:"PREVIEW"}),p.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",alignItems:"center"},children:[p.jsx("div",{style:{padding:"8px 12px",background:Q.surface,color:Q.text,borderRadius:"4px",fontSize:"12px"},children:"Surface"}),p.jsx("div",{style:{padding:"8px 12px",background:Q.surfaceLight,color:Q.text,borderRadius:"4px",fontSize:"12px"},children:"Elevated"}),p.jsx("span",{style:{color:Q.primary},children:"Primary"}),p.jsx("span",{style:{color:Q.success},children:"Success"}),p.jsx("span",{style:{color:Q.warning},children:"Warning"}),p.jsx("span",{style:{color:Q.error},children:"Error"})]})]}),p.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"12px",justifyContent:"flex-end"},children:[p.jsx("button",{className:"settings-btn-small",onClick:ot,style:{background:"rgba(199, 95, 95, 0.15)",borderColor:"rgba(199, 95, 95, 0.5)",color:"#c75f5f"},children:"Reset to Defaults"}),p.jsx("button",{className:"settings-btn-small",onClick:()=>Oe(!0),style:{background:"rgba(95, 140, 220, 0.15)",borderColor:"rgba(95, 140, 220, 0.5)",color:"#5f8adc"},title:"Save current colors as a named custom theme",children:" Save as Custom Theme"}),p.jsx("button",{className:"settings-btn-small",onClick:rn,style:{background:"rgba(95, 170, 125, 0.15)",borderColor:"rgba(95, 170, 125, 0.5)",color:"#5faa7d"},children:" Apply Changes"})]}),ve&&p.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4},children:p.jsxs("div",{style:{background:"var(--theme-surface, #2a3238)",padding:"24px",borderRadius:"12px",border:"1px solid rgba(95, 179, 179, 0.3)",boxShadow:"0 8px 32px rgba(0,0,0,0.5)",minWidth:"300px"},children:[p.jsx("h3",{style:{margin:"0 0 16px 0",color:"var(--theme-text, #c5cdd3)",fontSize:"16px"},children:" Save Custom Theme"}),p.jsx("p",{style:{margin:"0 0 16px 0",color:"var(--theme-textMuted, #8a959e)",fontSize:"12px"},children:"Give your theme a name to save it for later use."}),p.jsx("input",{type:"text",value:Ge,onChange:N=>He(N.target.value),placeholder:"My Awesome Theme",style:{width:"100%",padding:"10px 12px",borderRadius:"6px",border:"1px solid rgba(95, 179, 179, 0.3)",background:"var(--theme-background, #1e2428)",color:"var(--theme-text, #c5cdd3)",fontSize:"14px",marginBottom:"16px",boxSizing:"border-box"},autoFocus:!0,onKeyDown:N=>{N.key==="Enter"&&yt(),N.key==="Escape"&&(Oe(!1),He(""))}}),p.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[p.jsx("button",{onClick:()=>{Oe(!1),He("")},style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid rgba(255,255,255,0.2)",background:"transparent",color:"var(--theme-text, #c5cdd3)",cursor:"pointer",fontSize:"12px"},children:"Cancel"}),p.jsx("button",{onClick:yt,style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid rgba(95, 179, 179, 0.5)",background:"rgba(95, 179, 179, 0.2)",color:"#5fb3b3",cursor:"pointer",fontSize:"12px",fontWeight:"600"},children:" Save Theme"})]})]})})]})]}),p.jsxs("div",{className:"settings-category",children:[p.jsxs("div",{className:"settings-category-header",onClick:()=>fn("CategoryColors"),children:[p.jsxs("span",{children:[_.CategoryColors?"":""," Category Accent Colors"]}),In&&p.jsx("span",{style:{fontSize:"10px",color:"#d4a054"},children:" unsaved"})]}),_.CategoryColors&&p.jsxs("div",{className:"settings-category-content",children:[p.jsx("div",{className:"settings-info",style:{fontSize:"11px",color:"#8a959e",marginBottom:"12px",padding:"8px",background:"rgba(95, 179, 179, 0.1)",borderRadius:"4px"},children:" Set accent (border/header) and background colors for each node category."}),p.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:Object.entries(St).map(([N,A])=>p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 8px",background:A.background||"#0a0f14",borderRadius:"4px",border:`1px solid ${A.accent}55`},children:[p.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"2px"},children:[p.jsx("input",{type:"color",value:A.accent,onChange:J=>Dt(N,"accent",J.target.value),title:"Accent color (borders, headers)",style:{width:"24px",height:"24px",border:"none",borderRadius:"4px",cursor:"pointer",background:"transparent"}}),p.jsx("span",{style:{fontSize:"8px",color:"#666"},children:"Accent"})]}),p.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"2px"},children:[p.jsx("input",{type:"color",value:A.background||"#0a0f14",onChange:J=>Dt(N,"background",J.target.value),title:"Background color",style:{width:"24px",height:"24px",border:"1px solid #333",borderRadius:"4px",cursor:"pointer",background:"transparent"}}),p.jsx("span",{style:{fontSize:"8px",color:"#666"},children:"BG"})]}),p.jsx("div",{style:{flex:1,minWidth:0},children:p.jsxs("div",{style:{fontSize:"11px",color:A.accent,fontWeight:"600",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[A.icon," ",N]})})]},N))}),p.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"12px",justifyContent:"flex-end"},children:[p.jsx("button",{className:"settings-btn-small",onClick:Fa,style:{background:"rgba(199, 95, 95, 0.15)",borderColor:"rgba(199, 95, 95, 0.5)",color:"#c75f5f"},children:"Reset to Defaults"}),p.jsx("button",{className:"settings-btn-small",onClick:Jt,style:{background:"rgba(95, 170, 125, 0.15)",borderColor:"rgba(95, 170, 125, 0.5)",color:"#5faa7d"},children:" Save Category Colors"})]})]})]}),p.jsxs("div",{className:"settings-category",children:[p.jsxs("div",{className:"settings-category-header",onClick:()=>fn("SocketColors"),children:[p.jsxs("span",{children:[_.SocketColors?"":""," Socket Colors"]}),se&&p.jsx("span",{style:{fontSize:"10px",color:"#d4a054"},children:" unsaved"})]}),_.SocketColors&&p.jsxs("div",{className:"settings-category-content",children:[p.jsx("div",{className:"settings-info",style:{fontSize:"11px",color:"#8a959e",marginBottom:"12px",padding:"8px",background:"rgba(95, 130, 179, 0.1)",borderRadius:"4px"},children:" Customize socket connector colors by data type. These appear on all nodes."}),p.jsxs("div",{style:{background:"linear-gradient(145deg, #1e2428, #2a3238)",border:"1px solid rgba(95, 179, 179, 0.3)",borderRadius:"8px",padding:"12px",marginBottom:"16px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.4)"},children:[p.jsxs("div",{style:{fontSize:"11px",color:"#5fb3b3",marginBottom:"10px",fontWeight:"600",display:"flex",alignItems:"center",gap:"6px"},children:[p.jsx("span",{children:""})," Preview Node"]}),p.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[p.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:Object.entries(Ye).slice(0,3).map(([N,A])=>p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",background:`linear-gradient(145deg, ${A.color}, ${b0(A.color)})`,border:`2px solid ${w0(A.color)}`,boxShadow:`0 0 8px ${A.color}80`}}),p.jsx("span",{style:{fontSize:"10px",color:"#8a959e"},children:N})]},N))}),p.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",alignItems:"flex-end"},children:Object.entries(Ye).slice(3).map(([N,A])=>p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx("span",{style:{fontSize:"10px",color:"#8a959e"},children:N}),p.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",background:`linear-gradient(145deg, ${A.color}, ${b0(A.color)})`,border:`2px solid ${w0(A.color)}`,boxShadow:`0 0 8px ${A.color}80`}})]},N))})]})]}),p.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:Object.entries(Ye).map(([N,A])=>p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 10px",background:"#0a0f14",borderRadius:"4px",border:`1px solid ${A.color}55`},children:[p.jsx("input",{type:"color",value:A.color,onChange:J=>Pa(N,J.target.value),title:`${N} socket color`,style:{width:"28px",height:"28px",border:"none",borderRadius:"50%",cursor:"pointer",background:"transparent"}}),p.jsxs("div",{style:{flex:1,minWidth:0},children:[p.jsxs("div",{style:{fontSize:"12px",color:A.color,fontWeight:"600"},children:[A.icon," ",N]}),p.jsx("div",{style:{fontSize:"9px",color:"#666",marginTop:"2px"},children:A.description})]})]},N))}),p.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"12px",justifyContent:"flex-end"},children:[p.jsx("button",{className:"settings-btn-small",onClick:Zt,style:{background:"rgba(199, 95, 95, 0.15)",borderColor:"rgba(199, 95, 95, 0.5)",color:"#c75f5f"},children:"Reset to Defaults"}),p.jsx("button",{className:"settings-btn-small",onClick:ei,style:{background:"rgba(95, 170, 125, 0.15)",borderColor:"rgba(95, 170, 125, 0.5)",color:"#5faa7d"},children:" Save Socket Colors"})]})]})]}),HC.map(N=>p.jsxs("div",{className:"settings-category",children:[p.jsxs("div",{className:"settings-category-header",onClick:()=>fn(N.category),children:[p.jsxs("span",{children:[_[N.category]?"":"",N.icon," ",N.category]}),N.testable&&_[N.category]&&p.jsx("button",{className:`settings-test-btn ${q[N.testable]?.success?"success":q[N.testable]?.success===!1?"error":""}`,onClick:A=>{A.stopPropagation(),hn(N.testable)},disabled:K[N.testable],children:K[N.testable]?" Testing...":" Test Connection"})]}),_[N.category]&&p.jsxs("div",{className:"settings-category-content",children:[q[N.testable]&&p.jsxs("div",{className:`settings-test-result ${q[N.testable].success?"success":"error"}`,children:[q[N.testable].success?"":""," ",q[N.testable].message,q[N.testable].details&&p.jsx("div",{className:"settings-test-details",children:q[N.testable].details})]}),N.category==="Location"&&p.jsxs("div",{className:"settings-location-search",children:[he&&L&&p.jsx("div",{style:{background:"rgba(76, 175, 80, 0.15)",border:"1px solid rgba(76, 175, 80, 0.4)",borderRadius:"6px",padding:"8px 12px",marginBottom:"12px",fontSize:"0.85rem",color:"#81c784"},children:" Location auto-filled from Home Assistant configuration"}),p.jsx("p",{style:{fontSize:"0.85rem",color:"#aaa",margin:"0 0 10px 0"},children:' Enter your city name and click "Search" to auto-fill coordinates.'}),p.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"10px"},children:[p.jsx("input",{type:"text",className:"settings-input",value:r.LOCATION_CITY||"",onChange:A=>st("LOCATION_CITY",A.target.value),placeholder:"e.g., Dallas, TX, USA",style:{flex:1},onKeyDown:A=>{A.key==="Enter"&&Ue()}}),p.jsx("button",{className:"settings-test-btn",onClick:Ue,disabled:_e,style:{whiteSpace:"nowrap"},children:_e?" Searching...":" Search City"})]}),oe&&p.jsxs("div",{className:"settings-test-result error",style:{marginBottom:"10px"},children:[" ",oe]}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[p.jsxs("div",{className:"settings-field",children:[p.jsx("label",{className:"settings-label",children:"Latitude"}),p.jsx("input",{type:"text",className:"settings-input",value:r.LOCATION_LATITUDE||"",onChange:A=>st("LOCATION_LATITUDE",A.target.value),placeholder:"32.7767"})]}),p.jsxs("div",{className:"settings-field",children:[p.jsx("label",{className:"settings-label",children:"Longitude"}),p.jsx("input",{type:"text",className:"settings-input",value:r.LOCATION_LONGITUDE||"",onChange:A=>st("LOCATION_LONGITUDE",A.target.value),placeholder:"-96.7970"})]})]}),p.jsxs("div",{className:"settings-field",style:{marginTop:"10px"},children:[p.jsx("label",{className:"settings-label",children:"Timezone"}),p.jsx("input",{type:"text",className:"settings-input",value:r.LOCATION_TIMEZONE||"",onChange:A=>st("LOCATION_TIMEZONE",A.target.value),placeholder:"America/Chicago"}),p.jsx("span",{className:"settings-key-hint",children:"Common: America/New_York, America/Chicago, America/Denver, America/Los_Angeles"})]})]}),N.category!=="Location"&&N.settings.map(A=>p.jsxs("div",{className:"settings-field",children:[p.jsxs("label",{className:"settings-label",children:[A.label,A.isSecret&&p.jsx("button",{className:"settings-show-btn",onClick:()=>Wn(A.key),type:"button",children:x[A.key]?" Hide":" Show"})]}),A.type==="select"?p.jsxs("select",{className:"settings-input",value:r[A.key]||"",onChange:J=>st(A.key,J.target.value),children:[p.jsx("option",{value:"",children:"Select..."}),A.options.map(J=>p.jsx("option",{value:J,children:J},J))]}):A.type==="sensor-select"?p.jsxs("select",{className:"settings-input",value:r[A.key]||"",onChange:J=>st(A.key,J.target.value),disabled:be,children:[p.jsx("option",{value:"",children:be?"Loading sensors...":"None (disabled)"}),Y.map(J=>p.jsx("option",{value:J.id,children:J.name},J.id))]}):p.jsx("input",{type:A.isSecret&&!x[A.key]?"password":"text",className:"settings-input",value:r[A.key]||"",onChange:J=>st(A.key,J.target.value),placeholder:A.placeholder}),p.jsx("span",{className:"settings-key-hint",children:A.key})]},A.key))]})]},N.category))]})}),p.jsxs("div",{className:"settings-footer",children:[p.jsx("button",{className:"settings-btn settings-btn-secondary",onClick:n,children:"Cancel"}),p.jsx("button",{className:"settings-btn settings-btn-primary",onClick:Xe,disabled:d||l,children:d?"Saving...":" Save Settings"})]})]})}),document.body):null}const qC=[{category:"Selection & Editing",items:[{keys:["Delete","Backspace"],action:"Delete selected nodes"},{keys:["Ctrl","C"],action:"Copy selected nodes"},{keys:["Ctrl","V"],action:"Paste nodes at cursor"},{keys:["Ctrl","Z"],action:"Undo last delete"},{keys:["Ctrl","A"],action:"Select all nodes"},{keys:["Shift","Click"],action:"Add to selection"},{keys:["Drag"],action:"Lasso select multiple nodes"}]},{category:"Navigation",items:[{keys:["Scroll"],action:"Zoom in/out"},{keys:["Middle-click","Drag"],action:"Pan canvas"},{keys:["Home"],action:"Reset viewport to origin"},{keys:["F5"],action:"Reset editor view (fix frozen pan)"},{keys:["Escape"],action:"Cancel/reset drag state"}]},{category:"Node Operations",items:[{keys:["Right-click"],action:"Open context menu"},{keys:["Right-click node"],action:"Node context menu"},{keys:["Double-click"],action:"Edit node properties (where available)"}]},{category:"Graph Management",items:[{keys:["?"],action:"Show this help dialog"}]}];function GC({isOpen:a,onClose:n}){if(E.useEffect(()=>{if(!a)return;const s=l=>{l.key==="Escape"&&n()};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[a,n]),!a)return null;const r=s=>{s.target===s.currentTarget&&n()};return Nh.createPortal(p.jsx("div",{className:"shortcuts-modal-overlay",onClick:r,children:p.jsxs("div",{className:"shortcuts-modal",children:[p.jsxs("div",{className:"shortcuts-modal-header",children:[p.jsx("h2",{children:" Keyboard Shortcuts"}),p.jsx("button",{className:"shortcuts-close-btn",onClick:n,children:" Close"})]}),p.jsx("div",{className:"shortcuts-modal-body",children:qC.map((s,l)=>p.jsxs("div",{className:"shortcuts-section",children:[p.jsx("h3",{children:s.category}),p.jsx("div",{className:"shortcuts-list",children:s.items.map((c,d)=>p.jsxs("div",{className:"shortcut-row",children:[p.jsx("div",{className:"shortcut-keys",children:c.keys.map((h,m)=>p.jsxs(_a.Fragment,{children:[p.jsx("kbd",{children:h}),m<c.keys.length-1&&p.jsx("span",{className:"key-separator",children:"+"})]},m))}),p.jsx("div",{className:"shortcut-action",children:c.action})]},d))})]},l))}),p.jsx("div",{className:"shortcuts-modal-footer",children:p.jsxs("p",{children:["Press ",p.jsx("kbd",{children:"?"})," anytime to show this dialog"]})})]})}),document.body)}function YC({isExpanded:a,onToggle:n}){const[r,s]=E.useState([]),[l,c]=E.useState([]),[d,h]=E.useState(!0),[m,g]=E.useState(!1),[v,b]=E.useState(null),[x,k]=E.useState(!1),[_,Z]=E.useState(null),[q,W]=E.useState(null),[K,B]=E.useState({username:"",password:"",name:""}),[Y,fe]=E.useState({username:"",password:""}),[be,H]=E.useState(""),[de,ie]=E.useState(5e3),[pe,Be]=E.useState(null),Ae=E.useRef(null),[Je,rt]=E.useState({});E.useEffect(()=>(We(),()=>{Ae.current&&clearInterval(Ae.current)}),[]),E.useEffect(()=>(Ae.current&&clearInterval(Ae.current),a&&r.length>0&&de>0&&(Ae.current=setInterval(()=>{rt(j=>{const R={...j};return r.forEach(ce=>{R[ce.ip]=Date.now()}),R})},de)),()=>{Ae.current&&clearInterval(Ae.current)}),[a,r,de]);const We=async()=>{try{h(!0);const j=await ds("/api/cameras");if(j.ok){const R=await j.json();s(R.cameras||[]),R.defaultCredentials&&fe(ce=>({...ce,username:R.defaultCredentials.username||""}))}}catch{b("Failed to load cameras")}finally{h(!1)}},O=async()=>{g(!0),b(null);try{const j=await ds("/api/cameras/discover",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});if(j.ok){const R=await j.json();if(R.found&&R.found.length>0){const ce=r.map(Oe=>Oe.ip),ve=R.found.filter(Oe=>!ce.includes(Oe.ip));c(ve),window.T2Toast&&(ve.length>0?window.T2Toast.success(`Found ${ve.length} new camera(s)! Click to configure.`):window.T2Toast.info(`Found ${R.found.length} cameras, all already configured.`))}else c([]),window.T2Toast&&window.T2Toast.info("No cameras found on network")}}catch{b("Discovery failed")}finally{g(!1)}},V=async()=>{try{await ds("/api/cameras/credentials",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)}),window.T2Toast&&window.T2Toast.success("Credentials saved")}catch{b("Failed to save credentials")}},Q=async(j,R,ce)=>{try{await ds("/api/cameras",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ip:j,name:R||`Camera ${j.split(".").pop()}`,username:ce?.username||Y.username,password:ce?.password||Y.password})}),c(ve=>ve.filter(Oe=>Oe.ip!==j)),Z(null),H(""),await We(),window.T2Toast&&window.T2Toast.success(`Camera ${j} added!`)}catch{b("Failed to add camera")}},me=async j=>{try{await fetch(`/api/cameras/${j}`,{method:"DELETE"}),await We(),pe===j&&Be(null)}catch{b("Failed to remove camera")}},U=async()=>{if(q)try{await ds("/api/cameras",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ip:q,name:K.name,username:K.username,password:K.password})}),W(null),rt(j=>({...j,[q]:Date.now()})),await We(),window.T2Toast&&window.T2Toast.success(`Camera ${q} updated!`)}catch{b("Failed to update camera")}},S={container:{background:"linear-gradient(180deg, rgba(12, 20, 35, 0.95) 0%, rgba(8, 15, 28, 0.98) 100%)",borderRadius:"12px",border:"1px solid rgba(0, 200, 255, 0.2)",overflow:"hidden",marginBottom:"8px"},header:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 14px",background:"linear-gradient(90deg, rgba(0, 150, 200, 0.15), transparent)",borderBottom:"1px solid rgba(0, 200, 255, 0.1)",cursor:"pointer"},title:{display:"flex",alignItems:"center",gap:"8px",color:"#00d4ff",fontSize:"14px",fontWeight:600},icon:{fontSize:"16px"},badge:{background:"rgba(0, 200, 255, 0.2)",color:"#00d4ff",padding:"2px 8px",borderRadius:"10px",fontSize:"11px"},content:{padding:a?"12px":"0",maxHeight:a?"400px":"0",overflow:"auto",transition:"all 0.3s ease"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"10px"},cameraCard:{background:"rgba(0, 0, 0, 0.3)",borderRadius:"8px",overflow:"hidden",border:"1px solid rgba(0, 200, 255, 0.15)",cursor:"pointer",transition:"all 0.2s ease"},cameraCardSelected:{border:"2px solid #00d4ff",boxShadow:"0 0 10px rgba(0, 200, 255, 0.3)"},cameraImage:{width:"100%",height:"100px",objectFit:"cover",background:"#111"},cameraInfo:{padding:"6px 8px",display:"flex",justifyContent:"space-between",alignItems:"center"},cameraName:{color:"#b8e6ea",fontSize:"11px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},deleteBtn:{background:"rgba(255, 80, 80, 0.2)",border:"none",color:"#ff6b6b",padding:"2px 6px",borderRadius:"4px",cursor:"pointer",fontSize:"10px"},toolbar:{display:"flex",gap:"8px",marginBottom:"10px",flexWrap:"wrap"},btn:{background:"rgba(0, 200, 255, 0.15)",border:"1px solid rgba(0, 200, 255, 0.3)",color:"#00d4ff",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",fontSize:"12px",display:"flex",alignItems:"center",gap:"4px"},btnActive:{background:"rgba(0, 200, 255, 0.3)"},settings:{background:"rgba(0, 0, 0, 0.2)",borderRadius:"8px",padding:"12px",marginBottom:"10px"},inputGroup:{marginBottom:"8px"},label:{color:"#8899aa",fontSize:"11px",marginBottom:"4px",display:"block"},input:{width:"100%",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 200, 255, 0.2)",borderRadius:"4px",padding:"6px 10px",color:"#fff",fontSize:"12px",boxSizing:"border-box"},fullView:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.9)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:1e4},fullImage:{maxWidth:"90vw",maxHeight:"80vh",objectFit:"contain"},closeBtn:{position:"absolute",top:"20px",right:"20px",background:"rgba(255, 255, 255, 0.1)",border:"none",color:"#fff",padding:"10px 20px",borderRadius:"8px",cursor:"pointer",fontSize:"14px"},emptyState:{textAlign:"center",padding:"20px",color:"#667788"},refreshSelect:{background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 200, 255, 0.2)",borderRadius:"4px",padding:"6px",color:"#fff",fontSize:"11px"}},M=j=>{const R=Je[j]||Date.now();return`/api/cameras/snapshot/${j}?t=${R}`};return p.jsxs("div",{style:S.container,children:[p.jsxs("div",{style:S.header,onClick:n,children:[p.jsxs("div",{style:S.title,children:[p.jsx("span",{style:S.icon,children:""}),p.jsx("span",{children:"Cameras"}),r.length>0&&p.jsx("span",{style:S.badge,children:r.length})]}),p.jsx("span",{style:{color:"#00d4ff"},children:a?"":""})]}),a&&p.jsxs("div",{style:S.content,children:[p.jsxs("div",{style:S.toolbar,children:[p.jsx("button",{style:{...S.btn,...m?S.btnActive:{}},onClick:O,disabled:m,children:m?" Scanning...":" Discover"}),p.jsx("button",{style:{...S.btn,...x?S.btnActive:{}},onClick:()=>k(!x),children:" Settings"}),p.jsxs("select",{style:S.refreshSelect,value:de,onChange:j=>ie(Number(j.target.value)),title:"Refresh interval",children:[p.jsx("option",{value:0,children:"Manual"}),p.jsx("option",{value:2e3,children:"2s"}),p.jsx("option",{value:5e3,children:"5s"}),p.jsx("option",{value:1e4,children:"10s"}),p.jsx("option",{value:3e4,children:"30s"})]})]}),x&&p.jsxs("div",{style:S.settings,children:[p.jsxs("div",{style:S.inputGroup,children:[p.jsx("label",{style:S.label,children:"Select Camera to Configure"}),p.jsxs("select",{style:{...S.input,cursor:"pointer"},value:q||"",onChange:j=>{const R=j.target.value;if(!R){W(null),B({username:"",password:"",name:""});return}const ce=r.find(ve=>ve.ip===R);ce?(W(R),B({name:ce.name||"",username:ce.username||"",password:""})):(W(R),B({name:`Camera ${R.split(".").pop()}`,username:Y.username||"",password:Y.password||""}))},children:[p.jsx("option",{value:"",children:"-- Select a camera --"}),r.length>0&&p.jsx("optgroup",{label:" Configured Cameras",children:r.map(j=>p.jsxs("option",{value:j.ip,children:[j.name," (",j.ip,")"]},j.ip))}),l.length>0&&p.jsx("optgroup",{label:" Discovered (Not Configured)",children:l.map(j=>p.jsxs("option",{value:j.ip,children:[j.ip," (Ports: ",j.ports.join(", "),")"]},j.ip))})]})]}),q&&p.jsxs("div",{style:{background:"rgba(0, 0, 0, 0.2)",borderRadius:"6px",padding:"10px",marginTop:"8px"},children:[p.jsxs("div",{style:S.inputGroup,children:[p.jsx("label",{style:S.label,children:"Camera Name"}),p.jsx("input",{type:"text",style:S.input,value:K.name,onChange:j=>B(R=>({...R,name:j.target.value})),placeholder:"Front Door"})]}),p.jsxs("div",{style:S.inputGroup,children:[p.jsx("label",{style:S.label,children:"Username"}),p.jsx("input",{type:"text",style:S.input,value:K.username,onChange:j=>B(R=>({...R,username:j.target.value})),placeholder:"admin"})]}),p.jsxs("div",{style:S.inputGroup,children:[p.jsxs("label",{style:S.label,children:["Password ",r.find(j=>j.ip===q)?"(leave blank to keep current)":""]}),p.jsx("input",{type:"password",style:S.input,value:K.password,onChange:j=>B(R=>({...R,password:j.target.value})),placeholder:""})]}),p.jsx("div",{style:{display:"flex",gap:"8px",marginTop:"8px"},children:p.jsx("button",{style:{...S.btn,flex:1,justifyContent:"center"},onClick:()=>{!r.find(R=>R.ip===q)?Q(q,K.name,K):U()},children:r.find(j=>j.ip===q)?" Save Changes":" Add Camera"})})]}),p.jsxs("div",{style:{borderTop:"1px solid rgba(0, 200, 255, 0.15)",marginTop:"12px",paddingTop:"12px"},children:[p.jsx("div",{style:{color:"#8899aa",fontSize:"11px",marginBottom:"8px"},children:"Default credentials (used for new cameras)"}),p.jsxs("div",{style:{display:"flex",gap:"8px"},children:[p.jsx("input",{type:"text",style:{...S.input,flex:1},value:Y.username,onChange:j=>fe(R=>({...R,username:j.target.value})),placeholder:"Username"}),p.jsx("input",{type:"password",style:{...S.input,flex:1},value:Y.password,onChange:j=>fe(R=>({...R,password:j.target.value})),placeholder:"Password"}),p.jsx("button",{style:S.btn,onClick:V,title:"Save as default",children:""})]})]}),p.jsxs("div",{style:{borderTop:"1px solid rgba(0, 200, 255, 0.15)",marginTop:"12px",paddingTop:"12px"},children:[p.jsx("div",{style:{color:"#8899aa",fontSize:"11px",marginBottom:"8px"},children:"Add camera by IP (if not discovered)"}),p.jsxs("div",{style:{display:"flex",gap:"8px"},children:[p.jsx("input",{type:"text",id:"addCameraIp",style:{...S.input,flex:1},placeholder:"192.168.1.100",onKeyDown:j=>{if(j.key==="Enter"&&j.target.value){const R=j.target.value;!l.find(ce=>ce.ip===R)&&!r.find(ce=>ce.ip===R)&&c(ce=>[...ce,{ip:R,ports:["manual"]}]),W(R),B({name:`Camera ${R.split(".").pop()}`,username:Y.username||"",password:Y.password||""}),j.target.value=""}}}),p.jsx("button",{style:S.btn,onClick:()=>{const j=document.getElementById("addCameraIp"),R=j?.value;R&&(!l.find(ce=>ce.ip===R)&&!r.find(ce=>ce.ip===R)&&c(ce=>[...ce,{ip:R,ports:["manual"]}]),W(R),B({name:`Camera ${R.split(".").pop()}`,username:Y.username||"",password:Y.password||""}),j.value="")},children:"Configure"})]})]})]}),v&&p.jsxs("div",{style:{color:"#ff6b6b",padding:"8px",fontSize:"12px"},children:[" ",v]}),d?p.jsx("div",{style:S.emptyState,children:"Loading cameras..."}):r.length===0&&l.length===0?p.jsxs("div",{style:S.emptyState,children:[p.jsx("p",{children:"No cameras configured"}),p.jsx("p",{style:{fontSize:"11px"},children:"Click Discover to scan your network"})]}):p.jsx("div",{style:S.grid,children:r.map(j=>p.jsxs("div",{style:{...S.cameraCard,...pe===j.ip?S.cameraCardSelected:{}},onClick:()=>Be(j.ip),children:[p.jsx("img",{src:M(j.ip),alt:j.name,style:S.cameraImage,onError:R=>{R.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect fill="%23222" width="100" height="100"/><text x="50" y="55" text-anchor="middle" fill="%23666" font-size="12">No Signal</text></svg>'}}),p.jsxs("div",{style:S.cameraInfo,children:[p.jsx("span",{style:S.cameraName,title:j.ip,children:j.name}),p.jsxs("div",{style:{display:"flex",gap:"4px"},children:[p.jsx("button",{style:{...S.deleteBtn,background:"rgba(0, 150, 255, 0.2)",color:"#00aaff"},onClick:R=>{R.stopPropagation(),k(!0),W(j.ip),B({name:j.name||"",username:j.username||"",password:""})},title:"Edit credentials",children:""}),p.jsx("button",{style:S.deleteBtn,onClick:R=>{R.stopPropagation(),me(j.ip)},title:"Remove camera",children:""})]})]})]},j.ip))})]}),pe&&p.jsxs("div",{style:S.fullView,onClick:()=>Be(null),children:[p.jsx("img",{src:M(pe),alt:"Camera feed",style:S.fullImage}),p.jsx("button",{style:S.closeBtn,onClick:()=>Be(null),children:" Close"}),p.jsx("div",{style:{color:"#fff",marginTop:"10px"},children:r.find(j=>j.ip===pe)?.name||pe})]})]})}const qa=Object.create(null);qa.open="0";qa.close="1";qa.ping="2";qa.pong="3";qa.message="4";qa.upgrade="5";qa.noop="6";const Sc=Object.create(null);Object.keys(qa).forEach(a=>{Sc[qa[a]]=a});const oh={type:"error",data:"parser error"},_1=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",D1=typeof ArrayBuffer=="function",M1=a=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(a):a&&a.buffer instanceof ArrayBuffer,Gh=({type:a,data:n},r,s)=>_1&&n instanceof Blob?r?s(n):S0(n,s):D1&&(n instanceof ArrayBuffer||M1(n))?r?s(n):S0(new Blob([n]),s):s(qa[a]+(n||"")),S0=(a,n)=>{const r=new FileReader;return r.onload=function(){const s=r.result.split(",")[1];n("b"+(s||""))},r.readAsDataURL(a)};function x0(a){return a instanceof Uint8Array?a:a instanceof ArrayBuffer?new Uint8Array(a):new Uint8Array(a.buffer,a.byteOffset,a.byteLength)}let Af;function FC(a,n){if(_1&&a.data instanceof Blob)return a.data.arrayBuffer().then(x0).then(n);if(D1&&(a.data instanceof ArrayBuffer||M1(a.data)))return n(x0(a.data));Gh(a,!1,r=>{Af||(Af=new TextEncoder),n(Af.encode(r))})}const E0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",No=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let a=0;a<E0.length;a++)No[E0.charCodeAt(a)]=a;const PC=a=>{let n=a.length*.75,r=a.length,s,l=0,c,d,h,m;a[a.length-1]==="="&&(n--,a[a.length-2]==="="&&n--);const g=new ArrayBuffer(n),v=new Uint8Array(g);for(s=0;s<r;s+=4)c=No[a.charCodeAt(s)],d=No[a.charCodeAt(s+1)],h=No[a.charCodeAt(s+2)],m=No[a.charCodeAt(s+3)],v[l++]=c<<2|d>>4,v[l++]=(d&15)<<4|h>>2,v[l++]=(h&3)<<6|m&63;return g},ZC=typeof ArrayBuffer=="function",Yh=(a,n)=>{if(typeof a!="string")return{type:"message",data:R1(a,n)};const r=a.charAt(0);return r==="b"?{type:"message",data:XC(a.substring(1),n)}:Sc[r]?a.length>1?{type:Sc[r],data:a.substring(1)}:{type:Sc[r]}:oh},XC=(a,n)=>{if(ZC){const r=PC(a);return R1(r,n)}else return{base64:!0,data:a}},R1=(a,n)=>{switch(n){case"blob":return a instanceof Blob?a:new Blob([a]);case"arraybuffer":default:return a instanceof ArrayBuffer?a:a.buffer}},z1="",KC=(a,n)=>{const r=a.length,s=new Array(r);let l=0;a.forEach((c,d)=>{Gh(c,!1,h=>{s[d]=h,++l===r&&n(s.join(z1))})})},QC=(a,n)=>{const r=a.split(z1),s=[];for(let l=0;l<r.length;l++){const c=Yh(r[l],n);if(s.push(c),c.type==="error")break}return s};function WC(){return new TransformStream({transform(a,n){FC(a,r=>{const s=r.length;let l;if(s<126)l=new Uint8Array(1),new DataView(l.buffer).setUint8(0,s);else if(s<65536){l=new Uint8Array(3);const c=new DataView(l.buffer);c.setUint8(0,126),c.setUint16(1,s)}else{l=new Uint8Array(9);const c=new DataView(l.buffer);c.setUint8(0,127),c.setBigUint64(1,BigInt(s))}a.data&&typeof a.data!="string"&&(l[0]|=128),n.enqueue(l),n.enqueue(r)})}})}let _f;function uc(a){return a.reduce((n,r)=>n+r.length,0)}function dc(a,n){if(a[0].length===n)return a.shift();const r=new Uint8Array(n);let s=0;for(let l=0;l<n;l++)r[l]=a[0][s++],s===a[0].length&&(a.shift(),s=0);return a.length&&s<a[0].length&&(a[0]=a[0].slice(s)),r}function JC(a,n){_f||(_f=new TextDecoder);const r=[];let s=0,l=-1,c=!1;return new TransformStream({transform(d,h){for(r.push(d);;){if(s===0){if(uc(r)<1)break;const m=dc(r,1);c=(m[0]&128)===128,l=m[0]&127,l<126?s=3:l===126?s=1:s=2}else if(s===1){if(uc(r)<2)break;const m=dc(r,2);l=new DataView(m.buffer,m.byteOffset,m.length).getUint16(0),s=3}else if(s===2){if(uc(r)<8)break;const m=dc(r,8),g=new DataView(m.buffer,m.byteOffset,m.length),v=g.getUint32(0);if(v>Math.pow(2,21)-1){h.enqueue(oh);break}l=v*Math.pow(2,32)+g.getUint32(4),s=3}else{if(uc(r)<l)break;const m=dc(r,l);h.enqueue(Yh(c?m:_f.decode(m),n)),s=0}if(l===0||l>a){h.enqueue(oh);break}}}})}const L1=4;function wn(a){if(a)return eT(a)}function eT(a){for(var n in wn.prototype)a[n]=wn.prototype[n];return a}wn.prototype.on=wn.prototype.addEventListener=function(a,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+a]=this._callbacks["$"+a]||[]).push(n),this};wn.prototype.once=function(a,n){function r(){this.off(a,r),n.apply(this,arguments)}return r.fn=n,this.on(a,r),this};wn.prototype.off=wn.prototype.removeListener=wn.prototype.removeAllListeners=wn.prototype.removeEventListener=function(a,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+a];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+a],this;for(var s,l=0;l<r.length;l++)if(s=r[l],s===n||s.fn===n){r.splice(l,1);break}return r.length===0&&delete this._callbacks["$"+a],this};wn.prototype.emit=function(a){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),r=this._callbacks["$"+a],s=1;s<arguments.length;s++)n[s-1]=arguments[s];if(r){r=r.slice(0);for(var s=0,l=r.length;s<l;++s)r[s].apply(this,n)}return this};wn.prototype.emitReserved=wn.prototype.emit;wn.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks["$"+a]||[]};wn.prototype.hasListeners=function(a){return!!this.listeners(a).length};const Yc=typeof Promise=="function"&&typeof Promise.resolve=="function"?n=>Promise.resolve().then(n):(n,r)=>r(n,0),ba=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),tT="arraybuffer";function B1(a,...n){return n.reduce((r,s)=>(a.hasOwnProperty(s)&&(r[s]=a[s]),r),{})}const nT=ba.setTimeout,aT=ba.clearTimeout;function Fc(a,n){n.useNativeTimers?(a.setTimeoutFn=nT.bind(ba),a.clearTimeoutFn=aT.bind(ba)):(a.setTimeoutFn=ba.setTimeout.bind(ba),a.clearTimeoutFn=ba.clearTimeout.bind(ba))}const rT=1.33;function iT(a){return typeof a=="string"?sT(a):Math.ceil((a.byteLength||a.size)*rT)}function sT(a){let n=0,r=0;for(let s=0,l=a.length;s<l;s++)n=a.charCodeAt(s),n<128?r+=1:n<2048?r+=2:n<55296||n>=57344?r+=3:(s++,r+=4);return r}function U1(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function oT(a){let n="";for(let r in a)a.hasOwnProperty(r)&&(n.length&&(n+="&"),n+=encodeURIComponent(r)+"="+encodeURIComponent(a[r]));return n}function lT(a){let n={},r=a.split("&");for(let s=0,l=r.length;s<l;s++){let c=r[s].split("=");n[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return n}class cT extends Error{constructor(n,r,s){super(n),this.description=r,this.context=s,this.type="TransportError"}}class Fh extends wn{constructor(n){super(),this.writable=!1,Fc(this,n),this.opts=n,this.query=n.query,this.socket=n.socket,this.supportsBinary=!n.forceBase64}onError(n,r,s){return super.emitReserved("error",new cT(n,r,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(n){this.readyState==="open"&&this.write(n)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(n){const r=Yh(n,this.socket.binaryType);this.onPacket(r)}onPacket(n){super.emitReserved("packet",n)}onClose(n){this.readyState="closed",super.emitReserved("close",n)}pause(n){}createUri(n,r={}){return n+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const n=this.opts.hostname;return n.indexOf(":")===-1?n:"["+n+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(n){const r=oT(n);return r.length?"?"+r:""}}class uT extends Fh{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(n){this.readyState="pausing";const r=()=>{this.readyState="paused",n()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||r()})),this.writable||(s++,this.once("drain",function(){--s||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(n){const r=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};QC(n,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const n=()=>{this.write([{type:"close"}])};this.readyState==="open"?n():this.once("open",n)}write(n){this.writable=!1,KC(n,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const n=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=U1()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(n,r)}}let $1=!1;try{$1=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const dT=$1;function fT(){}class hT extends uT{constructor(n){if(super(n),typeof location<"u"){const r=location.protocol==="https:";let s=location.port;s||(s=r?"443":"80"),this.xd=typeof location<"u"&&n.hostname!==location.hostname||s!==n.port}}doWrite(n,r){const s=this.request({method:"POST",data:n});s.on("success",r),s.on("error",(l,c)=>{this.onError("xhr post error",l,c)})}doPoll(){const n=this.request();n.on("data",this.onData.bind(this)),n.on("error",(r,s)=>{this.onError("xhr poll error",r,s)}),this.pollXhr=n}}class Va extends wn{constructor(n,r,s){super(),this.createRequest=n,Fc(this,s),this._opts=s,this._method=s.method||"GET",this._uri=r,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var n;const r=B1(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(r);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let l in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(l)&&s.setRequestHeader(l,this._opts.extraHeaders[l])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(n=this._opts.cookieJar)===null||n===void 0||n.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var l;s.readyState===3&&((l=this._opts.cookieJar)===null||l===void 0||l.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(l){this.setTimeoutFn(()=>{this._onError(l)},0);return}typeof document<"u"&&(this._index=Va.requestsCount++,Va.requests[this._index]=this)}_onError(n){this.emitReserved("error",n,this._xhr),this._cleanup(!0)}_cleanup(n){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=fT,n)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Va.requests[this._index],this._xhr=null}}_onLoad(){const n=this._xhr.responseText;n!==null&&(this.emitReserved("data",n),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Va.requestsCount=0;Va.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",k0);else if(typeof addEventListener=="function"){const a="onpagehide"in ba?"pagehide":"unload";addEventListener(a,k0,!1)}}function k0(){for(let a in Va.requests)Va.requests.hasOwnProperty(a)&&Va.requests[a].abort()}const pT=(function(){const a=I1({xdomain:!1});return a&&a.responseType!==null})();class mT extends hT{constructor(n){super(n);const r=n&&n.forceBase64;this.supportsBinary=pT&&!r}request(n={}){return Object.assign(n,{xd:this.xd},this.opts),new Va(I1,this.uri(),n)}}function I1(a){const n=a.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!n||dT))return new XMLHttpRequest}catch{}if(!n)try{return new ba[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const H1=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class gT extends Fh{get name(){return"websocket"}doOpen(){const n=this.uri(),r=this.opts.protocols,s=H1?{}:B1(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(n,r,s)}catch(l){return this.emitReserved("error",l)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n}),this.ws.onmessage=n=>this.onData(n.data),this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=!1;for(let r=0;r<n.length;r++){const s=n[r],l=r===n.length-1;Gh(s,this.supportsBinary,c=>{try{this.doWrite(s,c)}catch{}l&&Yc(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const n=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=U1()),this.supportsBinary||(r.b64=1),this.createUri(n,r)}}const Df=ba.WebSocket||ba.MozWebSocket;class yT extends gT{createSocket(n,r,s){return H1?new Df(n,r,s):r?new Df(n,r):new Df(n)}doWrite(n,r){this.ws.send(r)}}class vT extends Fh{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(n){return this.emitReserved("error",n)}this._transport.closed.then(()=>{this.onClose()}).catch(n=>{this.onError("webtransport error",n)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(n=>{const r=JC(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=n.readable.pipeThrough(r).getReader(),l=WC();l.readable.pipeTo(n.writable),this._writer=l.writable.getWriter();const c=()=>{s.read().then(({done:h,value:m})=>{h||(this.onPacket(m),c())}).catch(h=>{})};c();const d={type:"open"};this.query.sid&&(d.data=`{"sid":"${this.query.sid}"}`),this._writer.write(d).then(()=>this.onOpen())})})}write(n){this.writable=!1;for(let r=0;r<n.length;r++){const s=n[r],l=r===n.length-1;this._writer.write(s).then(()=>{l&&Yc(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var n;(n=this._transport)===null||n===void 0||n.close()}}const bT={websocket:yT,webtransport:vT,polling:mT},wT=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ST=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function lh(a){if(a.length>8e3)throw"URI too long";const n=a,r=a.indexOf("["),s=a.indexOf("]");r!=-1&&s!=-1&&(a=a.substring(0,r)+a.substring(r,s).replace(/:/g,";")+a.substring(s,a.length));let l=wT.exec(a||""),c={},d=14;for(;d--;)c[ST[d]]=l[d]||"";return r!=-1&&s!=-1&&(c.source=n,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=xT(c,c.path),c.queryKey=ET(c,c.query),c}function xT(a,n){const r=/\/{2,9}/g,s=n.replace(r,"/").split("/");return(n.slice(0,1)=="/"||n.length===0)&&s.splice(0,1),n.slice(-1)=="/"&&s.splice(s.length-1,1),s}function ET(a,n){const r={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,l,c){l&&(r[l]=c)}),r}const ch=typeof addEventListener=="function"&&typeof removeEventListener=="function",xc=[];ch&&addEventListener("offline",()=>{xc.forEach(a=>a())},!1);class Zr extends wn{constructor(n,r){if(super(),this.binaryType=tT,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,n&&typeof n=="object"&&(r=n,n=null),n){const s=lh(n);r.hostname=s.host,r.secure=s.protocol==="https"||s.protocol==="wss",r.port=s.port,s.query&&(r.query=s.query)}else r.host&&(r.hostname=lh(r.host).host);Fc(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(s=>{const l=s.prototype.name;this.transports.push(l),this._transportsByName[l]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=lT(this.opts.query)),ch&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},xc.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(n){const r=Object.assign({},this.opts.query);r.EIO=L1,r.transport=n,this.id&&(r.sid=this.id);const s=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[n]);return new this._transportsByName[n](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const n=this.opts.rememberUpgrade&&Zr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(n);r.open(),this.setTransport(r)}setTransport(n){this.transport&&this.transport.removeAllListeners(),this.transport=n,n.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Zr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",n),this.emitReserved("heartbeat"),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=n.data,this._onError(r);break;case"message":this.emitReserved("data",n.data),this.emitReserved("message",n.data);break}}onHandshake(n){this.emitReserved("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this._pingInterval=n.pingInterval,this._pingTimeout=n.pingTimeout,this._maxPayload=n.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const n=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+n,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},n),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const n=this._getWritablePackets();this.transport.send(n),this._prevBufferLen=n.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let s=0;s<this.writeBuffer.length;s++){const l=this.writeBuffer[s].data;if(l&&(r+=iT(l)),s>0&&r>this._maxPayload)return this.writeBuffer.slice(0,s);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const n=Date.now()>this._pingTimeoutTime;return n&&(this._pingTimeoutTime=0,Yc(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),n}write(n,r,s){return this._sendPacket("message",n,r,s),this}send(n,r,s){return this._sendPacket("message",n,r,s),this}_sendPacket(n,r,s,l){if(typeof r=="function"&&(l=r,r=void 0),typeof s=="function"&&(l=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const c={type:n,data:r,options:s};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),l&&this.once("flush",l),this.flush()}close(){const n=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),n()},s=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():n()}):this.upgrading?s():n()),this}_onError(n){if(Zr.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",n),this._onClose("transport error",n)}_onClose(n,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),ch&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=xc.indexOf(this._offlineEventListener);s!==-1&&xc.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",n,r),this.writeBuffer=[],this._prevBufferLen=0}}}Zr.protocol=L1;class kT extends Zr{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let n=0;n<this._upgrades.length;n++)this._probe(this._upgrades[n])}_probe(n){let r=this.createTransport(n),s=!1;Zr.priorWebsocketSuccess=!1;const l=()=>{s||(r.send([{type:"ping",data:"probe"}]),r.once("packet",b=>{if(!s)if(b.type==="pong"&&b.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Zr.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(v(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const x=new Error("probe error");x.transport=r.name,this.emitReserved("upgradeError",x)}}))};function c(){s||(s=!0,v(),r.close(),r=null)}const d=b=>{const x=new Error("probe error: "+b);x.transport=r.name,c(),this.emitReserved("upgradeError",x)};function h(){d("transport closed")}function m(){d("socket closed")}function g(b){r&&b.name!==r.name&&c()}const v=()=>{r.removeListener("open",l),r.removeListener("error",d),r.removeListener("close",h),this.off("close",m),this.off("upgrading",g)};r.once("open",l),r.once("error",d),r.once("close",h),this.once("close",m),this.once("upgrading",g),this._upgrades.indexOf("webtransport")!==-1&&n!=="webtransport"?this.setTimeoutFn(()=>{s||r.open()},200):r.open()}onHandshake(n){this._upgrades=this._filterUpgrades(n.upgrades),super.onHandshake(n)}_filterUpgrades(n){const r=[];for(let s=0;s<n.length;s++)~this.transports.indexOf(n[s])&&r.push(n[s]);return r}}let CT=class extends kT{constructor(n,r={}){const s=typeof n=="object"?n:r;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(l=>bT[l]).filter(l=>!!l)),super(n,s)}};function TT(a,n="",r){let s=a;r=r||typeof location<"u"&&location,a==null&&(a=r.protocol+"//"+r.host),typeof a=="string"&&(a.charAt(0)==="/"&&(a.charAt(1)==="/"?a=r.protocol+a:a=r.host+a),/^(https?|wss?):\/\//.test(a)||(typeof r<"u"?a=r.protocol+"//"+a:a="https://"+a),s=lh(a)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const c=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+c+":"+s.port+n,s.href=s.protocol+"://"+c+(r&&r.port===s.port?"":":"+s.port),s}const NT=typeof ArrayBuffer=="function",OT=a=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(a):a.buffer instanceof ArrayBuffer,V1=Object.prototype.toString,jT=typeof Blob=="function"||typeof Blob<"u"&&V1.call(Blob)==="[object BlobConstructor]",AT=typeof File=="function"||typeof File<"u"&&V1.call(File)==="[object FileConstructor]";function Ph(a){return NT&&(a instanceof ArrayBuffer||OT(a))||jT&&a instanceof Blob||AT&&a instanceof File}function Ec(a,n){if(!a||typeof a!="object")return!1;if(Array.isArray(a)){for(let r=0,s=a.length;r<s;r++)if(Ec(a[r]))return!0;return!1}if(Ph(a))return!0;if(a.toJSON&&typeof a.toJSON=="function"&&arguments.length===1)return Ec(a.toJSON(),!0);for(const r in a)if(Object.prototype.hasOwnProperty.call(a,r)&&Ec(a[r]))return!0;return!1}function _T(a){const n=[],r=a.data,s=a;return s.data=uh(r,n),s.attachments=n.length,{packet:s,buffers:n}}function uh(a,n){if(!a)return a;if(Ph(a)){const r={_placeholder:!0,num:n.length};return n.push(a),r}else if(Array.isArray(a)){const r=new Array(a.length);for(let s=0;s<a.length;s++)r[s]=uh(a[s],n);return r}else if(typeof a=="object"&&!(a instanceof Date)){const r={};for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=uh(a[s],n));return r}return a}function DT(a,n){return a.data=dh(a.data,n),delete a.attachments,a}function dh(a,n){if(!a)return a;if(a&&a._placeholder===!0){if(typeof a.num=="number"&&a.num>=0&&a.num<n.length)return n[a.num];throw new Error("illegal attachments")}else if(Array.isArray(a))for(let r=0;r<a.length;r++)a[r]=dh(a[r],n);else if(typeof a=="object")for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&(a[r]=dh(a[r],n));return a}const MT=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],RT=5;var gt;(function(a){a[a.CONNECT=0]="CONNECT",a[a.DISCONNECT=1]="DISCONNECT",a[a.EVENT=2]="EVENT",a[a.ACK=3]="ACK",a[a.CONNECT_ERROR=4]="CONNECT_ERROR",a[a.BINARY_EVENT=5]="BINARY_EVENT",a[a.BINARY_ACK=6]="BINARY_ACK"})(gt||(gt={}));class zT{constructor(n){this.replacer=n}encode(n){return(n.type===gt.EVENT||n.type===gt.ACK)&&Ec(n)?this.encodeAsBinary({type:n.type===gt.EVENT?gt.BINARY_EVENT:gt.BINARY_ACK,nsp:n.nsp,data:n.data,id:n.id}):[this.encodeAsString(n)]}encodeAsString(n){let r=""+n.type;return(n.type===gt.BINARY_EVENT||n.type===gt.BINARY_ACK)&&(r+=n.attachments+"-"),n.nsp&&n.nsp!=="/"&&(r+=n.nsp+","),n.id!=null&&(r+=n.id),n.data!=null&&(r+=JSON.stringify(n.data,this.replacer)),r}encodeAsBinary(n){const r=_T(n),s=this.encodeAsString(r.packet),l=r.buffers;return l.unshift(s),l}}function C0(a){return Object.prototype.toString.call(a)==="[object Object]"}class Zh extends wn{constructor(n){super(),this.reviver=n}add(n){let r;if(typeof n=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(n);const s=r.type===gt.BINARY_EVENT;s||r.type===gt.BINARY_ACK?(r.type=s?gt.EVENT:gt.ACK,this.reconstructor=new LT(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Ph(n)||n.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(n),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+n)}decodeString(n){let r=0;const s={type:Number(n.charAt(0))};if(gt[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===gt.BINARY_EVENT||s.type===gt.BINARY_ACK){const c=r+1;for(;n.charAt(++r)!=="-"&&r!=n.length;);const d=n.substring(c,r);if(d!=Number(d)||n.charAt(r)!=="-")throw new Error("Illegal attachments");s.attachments=Number(d)}if(n.charAt(r+1)==="/"){const c=r+1;for(;++r&&!(n.charAt(r)===","||r===n.length););s.nsp=n.substring(c,r)}else s.nsp="/";const l=n.charAt(r+1);if(l!==""&&Number(l)==l){const c=r+1;for(;++r;){const d=n.charAt(r);if(d==null||Number(d)!=d){--r;break}if(r===n.length)break}s.id=Number(n.substring(c,r+1))}if(n.charAt(++r)){const c=this.tryParse(n.substr(r));if(Zh.isPayloadValid(s.type,c))s.data=c;else throw new Error("invalid payload")}return s}tryParse(n){try{return JSON.parse(n,this.reviver)}catch{return!1}}static isPayloadValid(n,r){switch(n){case gt.CONNECT:return C0(r);case gt.DISCONNECT:return r===void 0;case gt.CONNECT_ERROR:return typeof r=="string"||C0(r);case gt.EVENT:case gt.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&MT.indexOf(r[0])===-1);case gt.ACK:case gt.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class LT{constructor(n){this.packet=n,this.buffers=[],this.reconPack=n}takeBinaryData(n){if(this.buffers.push(n),this.buffers.length===this.reconPack.attachments){const r=DT(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const BT=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Zh,Encoder:zT,get PacketType(){return gt},protocol:RT},Symbol.toStringTag,{value:"Module"}));function Oa(a,n,r){return a.on(n,r),function(){a.off(n,r)}}const UT=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class q1 extends wn{constructor(n,r,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=n,this.nsp=r,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const n=this.io;this.subs=[Oa(n,"open",this.onopen.bind(this)),Oa(n,"packet",this.onpacket.bind(this)),Oa(n,"error",this.onerror.bind(this)),Oa(n,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...n){return n.unshift("message"),this.emit.apply(this,n),this}emit(n,...r){var s,l,c;if(UT.hasOwnProperty(n))throw new Error('"'+n.toString()+'" is a reserved event name');if(r.unshift(n),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const d={type:gt.EVENT,data:r};if(d.options={},d.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const v=this.ids++,b=r.pop();this._registerAckCallback(v,b),d.id=v}const h=(l=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||l===void 0?void 0:l.writable,m=this.connected&&!(!((c=this.io.engine)===null||c===void 0)&&c._hasPingExpired());return this.flags.volatile&&!h||(m?(this.notifyOutgoingListeners(d),this.packet(d)):this.sendBuffer.push(d)),this.flags={},this}_registerAckCallback(n,r){var s;const l=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(l===void 0){this.acks[n]=r;return}const c=this.io.setTimeoutFn(()=>{delete this.acks[n];for(let h=0;h<this.sendBuffer.length;h++)this.sendBuffer[h].id===n&&this.sendBuffer.splice(h,1);r.call(this,new Error("operation has timed out"))},l),d=(...h)=>{this.io.clearTimeoutFn(c),r.apply(this,h)};d.withError=!0,this.acks[n]=d}emitWithAck(n,...r){return new Promise((s,l)=>{const c=(d,h)=>d?l(d):s(h);c.withError=!0,r.push(c),this.emit(n,...r)})}_addToQueue(n){let r;typeof n[n.length-1]=="function"&&(r=n.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:n,flags:Object.assign({fromQueue:!0},this.flags)};n.push((l,...c)=>s!==this._queue[0]?void 0:(l!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(l)):(this._queue.shift(),r&&r(null,...c)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(n=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!n||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(n){n.nsp=this.nsp,this.io._packet(n)}onopen(){typeof this.auth=="function"?this.auth(n=>{this._sendConnectPacket(n)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(n){this.packet({type:gt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},n):n})}onerror(n){this.connected||this.emitReserved("connect_error",n)}onclose(n,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",n,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(n=>{if(!this.sendBuffer.some(s=>String(s.id)===n)){const s=this.acks[n];delete this.acks[n],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(n){if(n.nsp===this.nsp)switch(n.type){case gt.CONNECT:n.data&&n.data.sid?this.onconnect(n.data.sid,n.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case gt.EVENT:case gt.BINARY_EVENT:this.onevent(n);break;case gt.ACK:case gt.BINARY_ACK:this.onack(n);break;case gt.DISCONNECT:this.ondisconnect();break;case gt.CONNECT_ERROR:this.destroy();const s=new Error(n.data.message);s.data=n.data.data,this.emitReserved("connect_error",s);break}}onevent(n){const r=n.data||[];n.id!=null&&r.push(this.ack(n.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(n){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const s of r)s.apply(this,n)}super.emit.apply(this,n),this._pid&&n.length&&typeof n[n.length-1]=="string"&&(this._lastOffset=n[n.length-1])}ack(n){const r=this;let s=!1;return function(...l){s||(s=!0,r.packet({type:gt.ACK,id:n,data:l}))}}onack(n){const r=this.acks[n.id];typeof r=="function"&&(delete this.acks[n.id],r.withError&&n.data.unshift(null),r.apply(this,n.data))}onconnect(n,r){this.id=n,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(n=>this.emitEvent(n)),this.receiveBuffer=[],this.sendBuffer.forEach(n=>{this.notifyOutgoingListeners(n),this.packet(n)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(n=>n()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:gt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(n){return this.flags.compress=n,this}get volatile(){return this.flags.volatile=!0,this}timeout(n){return this.flags.timeout=n,this}onAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(n),this}prependAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(n),this}offAny(n){if(!this._anyListeners)return this;if(n){const r=this._anyListeners;for(let s=0;s<r.length;s++)if(n===r[s])return r.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(n),this}prependAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(n),this}offAnyOutgoing(n){if(!this._anyOutgoingListeners)return this;if(n){const r=this._anyOutgoingListeners;for(let s=0;s<r.length;s++)if(n===r[s])return r.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(n){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const s of r)s.apply(this,n.data)}}}function Ts(a){a=a||{},this.ms=a.min||100,this.max=a.max||1e4,this.factor=a.factor||2,this.jitter=a.jitter>0&&a.jitter<=1?a.jitter:0,this.attempts=0}Ts.prototype.duration=function(){var a=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),r=Math.floor(n*this.jitter*a);a=(Math.floor(n*10)&1)==0?a-r:a+r}return Math.min(a,this.max)|0};Ts.prototype.reset=function(){this.attempts=0};Ts.prototype.setMin=function(a){this.ms=a};Ts.prototype.setMax=function(a){this.max=a};Ts.prototype.setJitter=function(a){this.jitter=a};class fh extends wn{constructor(n,r){var s;super(),this.nsps={},this.subs=[],n&&typeof n=="object"&&(r=n,n=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Fc(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((s=r.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new Ts({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=n;const l=r.parser||BT;this.encoder=new l.Encoder,this.decoder=new l.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(n){return arguments.length?(this._reconnection=!!n,n||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(n){return n===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=n,this)}reconnectionDelay(n){var r;return n===void 0?this._reconnectionDelay:(this._reconnectionDelay=n,(r=this.backoff)===null||r===void 0||r.setMin(n),this)}randomizationFactor(n){var r;return n===void 0?this._randomizationFactor:(this._randomizationFactor=n,(r=this.backoff)===null||r===void 0||r.setJitter(n),this)}reconnectionDelayMax(n){var r;return n===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=n,(r=this.backoff)===null||r===void 0||r.setMax(n),this)}timeout(n){return arguments.length?(this._timeout=n,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(n){if(~this._readyState.indexOf("open"))return this;this.engine=new CT(this.uri,this.opts);const r=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const l=Oa(r,"open",function(){s.onopen(),n&&n()}),c=h=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",h),n?n(h):this.maybeReconnectOnOpen()},d=Oa(r,"error",c);if(this._timeout!==!1){const h=this._timeout,m=this.setTimeoutFn(()=>{l(),c(new Error("timeout")),r.close()},h);this.opts.autoUnref&&m.unref(),this.subs.push(()=>{this.clearTimeoutFn(m)})}return this.subs.push(l),this.subs.push(d),this}connect(n){return this.open(n)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const n=this.engine;this.subs.push(Oa(n,"ping",this.onping.bind(this)),Oa(n,"data",this.ondata.bind(this)),Oa(n,"error",this.onerror.bind(this)),Oa(n,"close",this.onclose.bind(this)),Oa(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(n){try{this.decoder.add(n)}catch(r){this.onclose("parse error",r)}}ondecoded(n){Yc(()=>{this.emitReserved("packet",n)},this.setTimeoutFn)}onerror(n){this.emitReserved("error",n)}socket(n,r){let s=this.nsps[n];return s?this._autoConnect&&!s.active&&s.connect():(s=new q1(this,n,r),this.nsps[n]=s),s}_destroy(n){const r=Object.keys(this.nsps);for(const s of r)if(this.nsps[s].active)return;this._close()}_packet(n){const r=this.encoder.encode(n);for(let s=0;s<r.length;s++)this.engine.write(r[s],n.options)}cleanup(){this.subs.forEach(n=>n()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(n,r){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",n,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const n=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{n.skipReconnect||(this.emitReserved("reconnect_attempt",n.backoff.attempts),!n.skipReconnect&&n.open(l=>{l?(n._reconnecting=!1,n.reconnect(),this.emitReserved("reconnect_error",l)):n.onreconnect()}))},r);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const n=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",n)}}const ko={};function kc(a,n){typeof a=="object"&&(n=a,a=void 0),n=n||{};const r=TT(a,n.path||"/socket.io"),s=r.source,l=r.id,c=r.path,d=ko[l]&&c in ko[l].nsps,h=n.forceNew||n["force new connection"]||n.multiplex===!1||d;let m;return h?m=new fh(s,n):(ko[l]||(ko[l]=new fh(s,n)),m=ko[l]),r.query&&!n.query&&(n.query=r.queryKey),m.socket(r.path,n)}Object.assign(kc,{Manager:fh,Socket:q1,io:kc,connect:kc});const $T=typeof window<"u"?window.location.origin:"http://localhost:3000",T0=Gc(),IT=T0?`${T0}/socket.io`:"/socket.io",ye=kc($T,{path:IT,autoConnect:!1,reconnection:!0,reconnectionAttempts:1/0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,timeout:2e4,transports:["websocket","polling"]}),HT=()=>{ye.connected||ye.connect()},VT=()=>{ye.connected&&ye.disconnect()};class qT{constructor(){this.nodes=new Map}register(n,r){typeof n=="object"&&r===void 0&&(r=n,n=r.label?r.label.replace(/\s+/g,""):"Node_"+Math.random().toString(36).substr(2,9)),this.nodes.set(n,r)}get(n){return this.nodes.get(n)}getAll(){return Array.from(this.nodes.values()).filter(n=>n)}getByLabel(n){for(const r of this.nodes.values())if(r.label===n)return r;return null}getByInstance(n){for(const r of this.nodes.values())if(r.nodeClass&&n instanceof r.nodeClass)return r;return null}}const zn=new qT;class Ni extends Error{}class GT extends Ni{constructor(n){super(`Invalid DateTime: ${n.toMessage()}`)}}class YT extends Ni{constructor(n){super(`Invalid Interval: ${n.toMessage()}`)}}class FT extends Ni{constructor(n){super(`Invalid Duration: ${n.toMessage()}`)}}class hs extends Ni{}class G1 extends Ni{constructor(n){super(`Invalid unit ${n}`)}}class Ln extends Ni{}class Hr extends Ni{constructor(){super("Zone is an abstract class")}}const Te="numeric",Da="short",oa="long",Rc={year:Te,month:Te,day:Te},Y1={year:Te,month:Da,day:Te},PT={year:Te,month:Da,day:Te,weekday:Da},F1={year:Te,month:oa,day:Te},P1={year:Te,month:oa,day:Te,weekday:oa},Z1={hour:Te,minute:Te},X1={hour:Te,minute:Te,second:Te},K1={hour:Te,minute:Te,second:Te,timeZoneName:Da},Q1={hour:Te,minute:Te,second:Te,timeZoneName:oa},W1={hour:Te,minute:Te,hourCycle:"h23"},J1={hour:Te,minute:Te,second:Te,hourCycle:"h23"},ew={hour:Te,minute:Te,second:Te,hourCycle:"h23",timeZoneName:Da},tw={hour:Te,minute:Te,second:Te,hourCycle:"h23",timeZoneName:oa},nw={year:Te,month:Te,day:Te,hour:Te,minute:Te},aw={year:Te,month:Te,day:Te,hour:Te,minute:Te,second:Te},rw={year:Te,month:Da,day:Te,hour:Te,minute:Te},iw={year:Te,month:Da,day:Te,hour:Te,minute:Te,second:Te},ZT={year:Te,month:Da,day:Te,weekday:Da,hour:Te,minute:Te},sw={year:Te,month:oa,day:Te,hour:Te,minute:Te,timeZoneName:Da},ow={year:Te,month:oa,day:Te,hour:Te,minute:Te,second:Te,timeZoneName:Da},lw={year:Te,month:oa,day:Te,weekday:oa,hour:Te,minute:Te,timeZoneName:oa},cw={year:Te,month:oa,day:Te,weekday:oa,hour:Te,minute:Te,second:Te,timeZoneName:oa};class Ns{get type(){throw new Hr}get name(){throw new Hr}get ianaName(){return this.name}get isUniversal(){throw new Hr}offsetName(n,r){throw new Hr}formatOffset(n,r){throw new Hr}offset(n){throw new Hr}equals(n){throw new Hr}get isValid(){throw new Hr}}let Mf=null;class Vo extends Ns{static get instance(){return Mf===null&&(Mf=new Vo),Mf}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(n,{format:r,locale:s}){return Sw(n,r,s)}formatOffset(n,r){return zo(this.offset(n),r)}offset(n){return-new Date(n).getTimezoneOffset()}equals(n){return n.type==="system"}get isValid(){return!0}}const hh=new Map;function XT(a){let n=hh.get(a);return n===void 0&&(n=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:a,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),hh.set(a,n)),n}const KT={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function QT(a,n){const r=a.format(n).replace(/\u200E/g,""),s=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,l,c,d,h,m,g,v]=s;return[d,l,c,h,m,g,v]}function WT(a,n){const r=a.formatToParts(n),s=[];for(let l=0;l<r.length;l++){const{type:c,value:d}=r[l],h=KT[c];c==="era"?s[h]=d:Fe(h)||(s[h]=parseInt(d,10))}return s}const Rf=new Map;class Ga extends Ns{static create(n){let r=Rf.get(n);return r===void 0&&Rf.set(n,r=new Ga(n)),r}static resetCache(){Rf.clear(),hh.clear()}static isValidSpecifier(n){return this.isValidZone(n)}static isValidZone(n){if(!n)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:n}).format(),!0}catch{return!1}}constructor(n){super(),this.zoneName=n,this.valid=Ga.isValidZone(n)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(n,{format:r,locale:s}){return Sw(n,r,s,this.name)}formatOffset(n,r){return zo(this.offset(n),r)}offset(n){if(!this.valid)return NaN;const r=new Date(n);if(isNaN(r))return NaN;const s=XT(this.name);let[l,c,d,h,m,g,v]=s.formatToParts?WT(s,r):QT(s,r);h==="BC"&&(l=-Math.abs(l)+1);const x=Zc({year:l,month:c,day:d,hour:m===24?0:m,minute:g,second:v,millisecond:0});let k=+r;const _=k%1e3;return k-=_>=0?_:1e3+_,(x-k)/(60*1e3)}equals(n){return n.type==="iana"&&n.name===this.name}get isValid(){return this.valid}}let N0={};function JT(a,n={}){const r=JSON.stringify([a,n]);let s=N0[r];return s||(s=new Intl.ListFormat(a,n),N0[r]=s),s}const ph=new Map;function mh(a,n={}){const r=JSON.stringify([a,n]);let s=ph.get(r);return s===void 0&&(s=new Intl.DateTimeFormat(a,n),ph.set(r,s)),s}const gh=new Map;function eN(a,n={}){const r=JSON.stringify([a,n]);let s=gh.get(r);return s===void 0&&(s=new Intl.NumberFormat(a,n),gh.set(r,s)),s}const yh=new Map;function tN(a,n={}){const{base:r,...s}=n,l=JSON.stringify([a,s]);let c=yh.get(l);return c===void 0&&(c=new Intl.RelativeTimeFormat(a,n),yh.set(l,c)),c}let Oo=null;function nN(){return Oo||(Oo=new Intl.DateTimeFormat().resolvedOptions().locale,Oo)}const vh=new Map;function uw(a){let n=vh.get(a);return n===void 0&&(n=new Intl.DateTimeFormat(a).resolvedOptions(),vh.set(a,n)),n}const bh=new Map;function aN(a){let n=bh.get(a);if(!n){const r=new Intl.Locale(a);n="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,"minimalDays"in n||(n={...dw,...n}),bh.set(a,n)}return n}function rN(a){const n=a.indexOf("-x-");n!==-1&&(a=a.substring(0,n));const r=a.indexOf("-u-");if(r===-1)return[a];{let s,l;try{s=mh(a).resolvedOptions(),l=a}catch{const m=a.substring(0,r);s=mh(m).resolvedOptions(),l=m}const{numberingSystem:c,calendar:d}=s;return[l,c,d]}}function iN(a,n,r){return(r||n)&&(a.includes("-u-")||(a+="-u"),r&&(a+=`-ca-${r}`),n&&(a+=`-nu-${n}`)),a}function sN(a){const n=[];for(let r=1;r<=12;r++){const s=Pe.utc(2009,r,1);n.push(a(s))}return n}function oN(a){const n=[];for(let r=1;r<=7;r++){const s=Pe.utc(2016,11,13+r);n.push(a(s))}return n}function fc(a,n,r,s){const l=a.listingMode();return l==="error"?null:l==="en"?r(n):s(n)}function lN(a){return a.numberingSystem&&a.numberingSystem!=="latn"?!1:a.numberingSystem==="latn"||!a.locale||a.locale.startsWith("en")||uw(a.locale).numberingSystem==="latn"}class cN{constructor(n,r,s){this.padTo=s.padTo||0,this.floor=s.floor||!1;const{padTo:l,floor:c,...d}=s;if(!r||Object.keys(d).length>0){const h={useGrouping:!1,...s};s.padTo>0&&(h.minimumIntegerDigits=s.padTo),this.inf=eN(n,h)}}format(n){if(this.inf){const r=this.floor?Math.floor(n):n;return this.inf.format(r)}else{const r=this.floor?Math.floor(n):Jh(n,3);return vn(r,this.padTo)}}}class uN{constructor(n,r,s){this.opts=s,this.originalZone=void 0;let l;if(this.opts.timeZone)this.dt=n;else if(n.zone.type==="fixed"){const d=-1*(n.offset/60),h=d>=0?`Etc/GMT+${d}`:`Etc/GMT${d}`;n.offset!==0&&Ga.create(h).valid?(l=h,this.dt=n):(l="UTC",this.dt=n.offset===0?n:n.setZone("UTC").plus({minutes:n.offset}),this.originalZone=n.zone)}else n.zone.type==="system"?this.dt=n:n.zone.type==="iana"?(this.dt=n,l=n.zone.name):(l="UTC",this.dt=n.setZone("UTC").plus({minutes:n.offset}),this.originalZone=n.zone);const c={...this.opts};c.timeZone=c.timeZone||l,this.dtf=mh(r,c)}format(){return this.originalZone?this.formatToParts().map(({value:n})=>n).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const n=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?n.map(r=>{if(r.type==="timeZoneName"){const s=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:s}}else return r}):n}resolvedOptions(){return this.dtf.resolvedOptions()}}class dN{constructor(n,r,s){this.opts={style:"long",...s},!r&&bw()&&(this.rtf=tN(n,s))}format(n,r){return this.rtf?this.rtf.format(n,r):DN(r,n,this.opts.numeric,this.opts.style!=="long")}formatToParts(n,r){return this.rtf?this.rtf.formatToParts(n,r):[]}}const dw={firstDay:1,minimalDays:4,weekend:[6,7]};class Ot{static fromOpts(n){return Ot.create(n.locale,n.numberingSystem,n.outputCalendar,n.weekSettings,n.defaultToEN)}static create(n,r,s,l,c=!1){const d=n||Kt.defaultLocale,h=d||(c?"en-US":nN()),m=r||Kt.defaultNumberingSystem,g=s||Kt.defaultOutputCalendar,v=Sh(l)||Kt.defaultWeekSettings;return new Ot(h,m,g,v,d)}static resetCache(){Oo=null,ph.clear(),gh.clear(),yh.clear(),vh.clear(),bh.clear()}static fromObject({locale:n,numberingSystem:r,outputCalendar:s,weekSettings:l}={}){return Ot.create(n,r,s,l)}constructor(n,r,s,l,c){const[d,h,m]=rN(n);this.locale=d,this.numberingSystem=r||h||null,this.outputCalendar=s||m||null,this.weekSettings=l,this.intl=iN(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=c,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=lN(this)),this.fastNumbersCached}listingMode(){const n=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return n&&r?"en":"intl"}clone(n){return!n||Object.getOwnPropertyNames(n).length===0?this:Ot.create(n.locale||this.specifiedLocale,n.numberingSystem||this.numberingSystem,n.outputCalendar||this.outputCalendar,Sh(n.weekSettings)||this.weekSettings,n.defaultToEN||!1)}redefaultToEN(n={}){return this.clone({...n,defaultToEN:!0})}redefaultToSystem(n={}){return this.clone({...n,defaultToEN:!1})}months(n,r=!1){return fc(this,n,kw,()=>{const s=this.intl==="ja"||this.intl.startsWith("ja-");r&=!s;const l=r?{month:n,day:"numeric"}:{month:n},c=r?"format":"standalone";if(!this.monthsCache[c][n]){const d=s?h=>this.dtFormatter(h,l).format():h=>this.extract(h,l,"month");this.monthsCache[c][n]=sN(d)}return this.monthsCache[c][n]})}weekdays(n,r=!1){return fc(this,n,Nw,()=>{const s=r?{weekday:n,year:"numeric",month:"long",day:"numeric"}:{weekday:n},l=r?"format":"standalone";return this.weekdaysCache[l][n]||(this.weekdaysCache[l][n]=oN(c=>this.extract(c,s,"weekday"))),this.weekdaysCache[l][n]})}meridiems(){return fc(this,void 0,()=>Ow,()=>{if(!this.meridiemCache){const n={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Pe.utc(2016,11,13,9),Pe.utc(2016,11,13,19)].map(r=>this.extract(r,n,"dayperiod"))}return this.meridiemCache})}eras(n){return fc(this,n,jw,()=>{const r={era:n};return this.eraCache[n]||(this.eraCache[n]=[Pe.utc(-40,1,1),Pe.utc(2017,1,1)].map(s=>this.extract(s,r,"era"))),this.eraCache[n]})}extract(n,r,s){const l=this.dtFormatter(n,r),c=l.formatToParts(),d=c.find(h=>h.type.toLowerCase()===s);return d?d.value:null}numberFormatter(n={}){return new cN(this.intl,n.forceSimple||this.fastNumbers,n)}dtFormatter(n,r={}){return new uN(n,this.intl,r)}relFormatter(n={}){return new dN(this.intl,this.isEnglish(),n)}listFormatter(n={}){return JT(this.intl,n)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||uw(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:ww()?aN(this.locale):dw}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(n){return this.locale===n.locale&&this.numberingSystem===n.numberingSystem&&this.outputCalendar===n.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let zf=null;class Un extends Ns{static get utcInstance(){return zf===null&&(zf=new Un(0)),zf}static instance(n){return n===0?Un.utcInstance:new Un(n)}static parseSpecifier(n){if(n){const r=n.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new Un(Xc(r[1],r[2]))}return null}constructor(n){super(),this.fixed=n}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${zo(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${zo(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(n,r){return zo(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(n){return n.type==="fixed"&&n.fixed===this.fixed}get isValid(){return!0}}class fw extends Ns{constructor(n){super(),this.zoneName=n}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Fr(a,n){if(Fe(a)||a===null)return n;if(a instanceof Ns)return a;if(yN(a)){const r=a.toLowerCase();return r==="default"?n:r==="local"||r==="system"?Vo.instance:r==="utc"||r==="gmt"?Un.utcInstance:Un.parseSpecifier(r)||Ga.create(a)}else return Xr(a)?Un.instance(a):typeof a=="object"&&"offset"in a&&typeof a.offset=="function"?a:new fw(a)}const Xh={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},O0={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},fN=Xh.hanidec.replace(/[\[|\]]/g,"").split("");function hN(a){let n=parseInt(a,10);if(isNaN(n)){n="";for(let r=0;r<a.length;r++){const s=a.charCodeAt(r);if(a[r].search(Xh.hanidec)!==-1)n+=fN.indexOf(a[r]);else for(const l in O0){const[c,d]=O0[l];s>=c&&s<=d&&(n+=s-c)}}return parseInt(n,10)}else return n}const wh=new Map;function pN(){wh.clear()}function Ta({numberingSystem:a},n=""){const r=a||"latn";let s=wh.get(r);s===void 0&&(s=new Map,wh.set(r,s));let l=s.get(n);return l===void 0&&(l=new RegExp(`${Xh[r]}${n}`),s.set(n,l)),l}let j0=()=>Date.now(),A0="system",_0=null,D0=null,M0=null,R0=60,z0,L0=null;class Kt{static get now(){return j0}static set now(n){j0=n}static set defaultZone(n){A0=n}static get defaultZone(){return Fr(A0,Vo.instance)}static get defaultLocale(){return _0}static set defaultLocale(n){_0=n}static get defaultNumberingSystem(){return D0}static set defaultNumberingSystem(n){D0=n}static get defaultOutputCalendar(){return M0}static set defaultOutputCalendar(n){M0=n}static get defaultWeekSettings(){return L0}static set defaultWeekSettings(n){L0=Sh(n)}static get twoDigitCutoffYear(){return R0}static set twoDigitCutoffYear(n){R0=n%100}static get throwOnInvalid(){return z0}static set throwOnInvalid(n){z0=n}static resetCaches(){Ot.resetCache(),Ga.resetCache(),Pe.resetCache(),pN()}}class ja{constructor(n,r){this.reason=n,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const hw=[0,31,59,90,120,151,181,212,243,273,304,334],pw=[0,31,60,91,121,152,182,213,244,274,305,335];function wa(a,n){return new ja("unit out of range",`you specified ${n} (of type ${typeof n}) as a ${a}, which is invalid`)}function Kh(a,n,r){const s=new Date(Date.UTC(a,n-1,r));a<100&&a>=0&&s.setUTCFullYear(s.getUTCFullYear()-1900);const l=s.getUTCDay();return l===0?7:l}function mw(a,n,r){return r+(qo(a)?pw:hw)[n-1]}function gw(a,n){const r=qo(a)?pw:hw,s=r.findIndex(c=>c<n),l=n-r[s];return{month:s+1,day:l}}function Qh(a,n){return(a-n+7)%7+1}function zc(a,n=4,r=1){const{year:s,month:l,day:c}=a,d=mw(s,l,c),h=Qh(Kh(s,l,c),r);let m=Math.floor((d-h+14-n)/7),g;return m<1?(g=s-1,m=$o(g,n,r)):m>$o(s,n,r)?(g=s+1,m=1):g=s,{weekYear:g,weekNumber:m,weekday:h,...Kc(a)}}function B0(a,n=4,r=1){const{weekYear:s,weekNumber:l,weekday:c}=a,d=Qh(Kh(s,1,n),r),h=ms(s);let m=l*7+c-d-7+n,g;m<1?(g=s-1,m+=ms(g)):m>h?(g=s+1,m-=ms(s)):g=s;const{month:v,day:b}=gw(g,m);return{year:g,month:v,day:b,...Kc(a)}}function Lf(a){const{year:n,month:r,day:s}=a,l=mw(n,r,s);return{year:n,ordinal:l,...Kc(a)}}function U0(a){const{year:n,ordinal:r}=a,{month:s,day:l}=gw(n,r);return{year:n,month:s,day:l,...Kc(a)}}function $0(a,n){if(!Fe(a.localWeekday)||!Fe(a.localWeekNumber)||!Fe(a.localWeekYear)){if(!Fe(a.weekday)||!Fe(a.weekNumber)||!Fe(a.weekYear))throw new hs("Cannot mix locale-based week fields with ISO-based week fields");return Fe(a.localWeekday)||(a.weekday=a.localWeekday),Fe(a.localWeekNumber)||(a.weekNumber=a.localWeekNumber),Fe(a.localWeekYear)||(a.weekYear=a.localWeekYear),delete a.localWeekday,delete a.localWeekNumber,delete a.localWeekYear,{minDaysInFirstWeek:n.getMinDaysInFirstWeek(),startOfWeek:n.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function mN(a,n=4,r=1){const s=Pc(a.weekYear),l=Sa(a.weekNumber,1,$o(a.weekYear,n,r)),c=Sa(a.weekday,1,7);return s?l?c?!1:wa("weekday",a.weekday):wa("week",a.weekNumber):wa("weekYear",a.weekYear)}function gN(a){const n=Pc(a.year),r=Sa(a.ordinal,1,ms(a.year));return n?r?!1:wa("ordinal",a.ordinal):wa("year",a.year)}function yw(a){const n=Pc(a.year),r=Sa(a.month,1,12),s=Sa(a.day,1,Lc(a.year,a.month));return n?r?s?!1:wa("day",a.day):wa("month",a.month):wa("year",a.year)}function vw(a){const{hour:n,minute:r,second:s,millisecond:l}=a,c=Sa(n,0,23)||n===24&&r===0&&s===0&&l===0,d=Sa(r,0,59),h=Sa(s,0,59),m=Sa(l,0,999);return c?d?h?m?!1:wa("millisecond",l):wa("second",s):wa("minute",r):wa("hour",n)}function Fe(a){return typeof a>"u"}function Xr(a){return typeof a=="number"}function Pc(a){return typeof a=="number"&&a%1===0}function yN(a){return typeof a=="string"}function vN(a){return Object.prototype.toString.call(a)==="[object Date]"}function bw(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function ww(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function bN(a){return Array.isArray(a)?a:[a]}function I0(a,n,r){if(a.length!==0)return a.reduce((s,l)=>{const c=[n(l),l];return s&&r(s[0],c[0])===s[0]?s:c},null)[1]}function wN(a,n){return n.reduce((r,s)=>(r[s]=a[s],r),{})}function xs(a,n){return Object.prototype.hasOwnProperty.call(a,n)}function Sh(a){if(a==null)return null;if(typeof a!="object")throw new Ln("Week settings must be an object");if(!Sa(a.firstDay,1,7)||!Sa(a.minimalDays,1,7)||!Array.isArray(a.weekend)||a.weekend.some(n=>!Sa(n,1,7)))throw new Ln("Invalid week settings");return{firstDay:a.firstDay,minimalDays:a.minimalDays,weekend:Array.from(a.weekend)}}function Sa(a,n,r){return Pc(a)&&a>=n&&a<=r}function SN(a,n){return a-n*Math.floor(a/n)}function vn(a,n=2){const r=a<0;let s;return r?s="-"+(""+-a).padStart(n,"0"):s=(""+a).padStart(n,"0"),s}function Yr(a){if(!(Fe(a)||a===null||a===""))return parseInt(a,10)}function bi(a){if(!(Fe(a)||a===null||a===""))return parseFloat(a)}function Wh(a){if(!(Fe(a)||a===null||a==="")){const n=parseFloat("0."+a)*1e3;return Math.floor(n)}}function Jh(a,n,r="round"){const s=10**n;switch(r){case"expand":return a>0?Math.ceil(a*s)/s:Math.floor(a*s)/s;case"trunc":return Math.trunc(a*s)/s;case"round":return Math.round(a*s)/s;case"floor":return Math.floor(a*s)/s;case"ceil":return Math.ceil(a*s)/s;default:throw new RangeError(`Value rounding ${r} is out of range`)}}function qo(a){return a%4===0&&(a%100!==0||a%400===0)}function ms(a){return qo(a)?366:365}function Lc(a,n){const r=SN(n-1,12)+1,s=a+(n-r)/12;return r===2?qo(s)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function Zc(a){let n=Date.UTC(a.year,a.month-1,a.day,a.hour,a.minute,a.second,a.millisecond);return a.year<100&&a.year>=0&&(n=new Date(n),n.setUTCFullYear(a.year,a.month-1,a.day)),+n}function H0(a,n,r){return-Qh(Kh(a,1,n),r)+n-1}function $o(a,n=4,r=1){const s=H0(a,n,r),l=H0(a+1,n,r);return(ms(a)-s+l)/7}function xh(a){return a>99?a:a>Kt.twoDigitCutoffYear?1900+a:2e3+a}function Sw(a,n,r,s=null){const l=new Date(a),c={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};s&&(c.timeZone=s);const d={timeZoneName:n,...c},h=new Intl.DateTimeFormat(r,d).formatToParts(l).find(m=>m.type.toLowerCase()==="timezonename");return h?h.value:null}function Xc(a,n){let r=parseInt(a,10);Number.isNaN(r)&&(r=0);const s=parseInt(n,10)||0,l=r<0||Object.is(r,-0)?-s:s;return r*60+l}function xw(a){const n=Number(a);if(typeof a=="boolean"||a===""||!Number.isFinite(n))throw new Ln(`Invalid unit value ${a}`);return n}function Bc(a,n){const r={};for(const s in a)if(xs(a,s)){const l=a[s];if(l==null)continue;r[n(s)]=xw(l)}return r}function zo(a,n){const r=Math.trunc(Math.abs(a/60)),s=Math.trunc(Math.abs(a%60)),l=a>=0?"+":"-";switch(n){case"short":return`${l}${vn(r,2)}:${vn(s,2)}`;case"narrow":return`${l}${r}${s>0?`:${s}`:""}`;case"techie":return`${l}${vn(r,2)}${vn(s,2)}`;default:throw new RangeError(`Value format ${n} is out of range for property format`)}}function Kc(a){return wN(a,["hour","minute","second","millisecond"])}const xN=["January","February","March","April","May","June","July","August","September","October","November","December"],Ew=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],EN=["J","F","M","A","M","J","J","A","S","O","N","D"];function kw(a){switch(a){case"narrow":return[...EN];case"short":return[...Ew];case"long":return[...xN];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Cw=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Tw=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],kN=["M","T","W","T","F","S","S"];function Nw(a){switch(a){case"narrow":return[...kN];case"short":return[...Tw];case"long":return[...Cw];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Ow=["AM","PM"],CN=["Before Christ","Anno Domini"],TN=["BC","AD"],NN=["B","A"];function jw(a){switch(a){case"narrow":return[...NN];case"short":return[...TN];case"long":return[...CN];default:return null}}function ON(a){return Ow[a.hour<12?0:1]}function jN(a,n){return Nw(n)[a.weekday-1]}function AN(a,n){return kw(n)[a.month-1]}function _N(a,n){return jw(n)[a.year<0?0:1]}function DN(a,n,r="always",s=!1){const l={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},c=["hours","minutes","seconds"].indexOf(a)===-1;if(r==="auto"&&c){const b=a==="days";switch(n){case 1:return b?"tomorrow":`next ${l[a][0]}`;case-1:return b?"yesterday":`last ${l[a][0]}`;case 0:return b?"today":`this ${l[a][0]}`}}const d=Object.is(n,-0)||n<0,h=Math.abs(n),m=h===1,g=l[a],v=s?m?g[1]:g[2]||g[1]:m?l[a][0]:a;return d?`${h} ${v} ago`:`in ${h} ${v}`}function V0(a,n){let r="";for(const s of a)s.literal?r+=s.val:r+=n(s.val);return r}const MN={D:Rc,DD:Y1,DDD:F1,DDDD:P1,t:Z1,tt:X1,ttt:K1,tttt:Q1,T:W1,TT:J1,TTT:ew,TTTT:tw,f:nw,ff:rw,fff:sw,ffff:lw,F:aw,FF:iw,FFF:ow,FFFF:cw};class Bn{static create(n,r={}){return new Bn(n,r)}static parseFormat(n){let r=null,s="",l=!1;const c=[];for(let d=0;d<n.length;d++){const h=n.charAt(d);h==="'"?((s.length>0||l)&&c.push({literal:l||/^\s+$/.test(s),val:s===""?"'":s}),r=null,s="",l=!l):l||h===r?s+=h:(s.length>0&&c.push({literal:/^\s+$/.test(s),val:s}),s=h,r=h)}return s.length>0&&c.push({literal:l||/^\s+$/.test(s),val:s}),c}static macroTokenToFormatOpts(n){return MN[n]}constructor(n,r){this.opts=r,this.loc=n,this.systemLoc=null}formatWithSystemDefault(n,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(n,{...this.opts,...r}).format()}dtFormatter(n,r={}){return this.loc.dtFormatter(n,{...this.opts,...r})}formatDateTime(n,r){return this.dtFormatter(n,r).format()}formatDateTimeParts(n,r){return this.dtFormatter(n,r).formatToParts()}formatInterval(n,r){return this.dtFormatter(n.start,r).dtf.formatRange(n.start.toJSDate(),n.end.toJSDate())}resolvedOptions(n,r){return this.dtFormatter(n,r).resolvedOptions()}num(n,r=0,s=void 0){if(this.opts.forceSimple)return vn(n,r);const l={...this.opts};return r>0&&(l.padTo=r),s&&(l.signDisplay=s),this.loc.numberFormatter(l).format(n)}formatDateTimeFromString(n,r){const s=this.loc.listingMode()==="en",l=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",c=(k,_)=>this.loc.extract(n,k,_),d=k=>n.isOffsetFixed&&n.offset===0&&k.allowZ?"Z":n.isValid?n.zone.formatOffset(n.ts,k.format):"",h=()=>s?ON(n):c({hour:"numeric",hourCycle:"h12"},"dayperiod"),m=(k,_)=>s?AN(n,k):c(_?{month:k}:{month:k,day:"numeric"},"month"),g=(k,_)=>s?jN(n,k):c(_?{weekday:k}:{weekday:k,month:"long",day:"numeric"},"weekday"),v=k=>{const _=Bn.macroTokenToFormatOpts(k);return _?this.formatWithSystemDefault(n,_):k},b=k=>s?_N(n,k):c({era:k},"era"),x=k=>{switch(k){case"S":return this.num(n.millisecond);case"u":case"SSS":return this.num(n.millisecond,3);case"s":return this.num(n.second);case"ss":return this.num(n.second,2);case"uu":return this.num(Math.floor(n.millisecond/10),2);case"uuu":return this.num(Math.floor(n.millisecond/100));case"m":return this.num(n.minute);case"mm":return this.num(n.minute,2);case"h":return this.num(n.hour%12===0?12:n.hour%12);case"hh":return this.num(n.hour%12===0?12:n.hour%12,2);case"H":return this.num(n.hour);case"HH":return this.num(n.hour,2);case"Z":return d({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return d({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return d({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return n.zone.offsetName(n.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return n.zone.offsetName(n.ts,{format:"long",locale:this.loc.locale});case"z":return n.zoneName;case"a":return h();case"d":return l?c({day:"numeric"},"day"):this.num(n.day);case"dd":return l?c({day:"2-digit"},"day"):this.num(n.day,2);case"c":return this.num(n.weekday);case"ccc":return g("short",!0);case"cccc":return g("long",!0);case"ccccc":return g("narrow",!0);case"E":return this.num(n.weekday);case"EEE":return g("short",!1);case"EEEE":return g("long",!1);case"EEEEE":return g("narrow",!1);case"L":return l?c({month:"numeric",day:"numeric"},"month"):this.num(n.month);case"LL":return l?c({month:"2-digit",day:"numeric"},"month"):this.num(n.month,2);case"LLL":return m("short",!0);case"LLLL":return m("long",!0);case"LLLLL":return m("narrow",!0);case"M":return l?c({month:"numeric"},"month"):this.num(n.month);case"MM":return l?c({month:"2-digit"},"month"):this.num(n.month,2);case"MMM":return m("short",!1);case"MMMM":return m("long",!1);case"MMMMM":return m("narrow",!1);case"y":return l?c({year:"numeric"},"year"):this.num(n.year);case"yy":return l?c({year:"2-digit"},"year"):this.num(n.year.toString().slice(-2),2);case"yyyy":return l?c({year:"numeric"},"year"):this.num(n.year,4);case"yyyyyy":return l?c({year:"numeric"},"year"):this.num(n.year,6);case"G":return b("short");case"GG":return b("long");case"GGGGG":return b("narrow");case"kk":return this.num(n.weekYear.toString().slice(-2),2);case"kkkk":return this.num(n.weekYear,4);case"W":return this.num(n.weekNumber);case"WW":return this.num(n.weekNumber,2);case"n":return this.num(n.localWeekNumber);case"nn":return this.num(n.localWeekNumber,2);case"ii":return this.num(n.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(n.localWeekYear,4);case"o":return this.num(n.ordinal);case"ooo":return this.num(n.ordinal,3);case"q":return this.num(n.quarter);case"qq":return this.num(n.quarter,2);case"X":return this.num(Math.floor(n.ts/1e3));case"x":return this.num(n.ts);default:return v(k)}};return V0(Bn.parseFormat(r),x)}formatDurationFromString(n,r){const s=this.opts.signMode==="negativeLargestOnly"?-1:1,l=v=>{switch(v[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"w":return"weeks";case"M":return"months";case"y":return"years";default:return null}},c=(v,b)=>x=>{const k=l(x);if(k){const _=b.isNegativeDuration&&k!==b.largestUnit?s:1;let Z;return this.opts.signMode==="negativeLargestOnly"&&k!==b.largestUnit?Z="never":this.opts.signMode==="all"?Z="always":Z="auto",this.num(v.get(k)*_,x.length,Z)}else return x},d=Bn.parseFormat(r),h=d.reduce((v,{literal:b,val:x})=>b?v:v.concat(x),[]),m=n.shiftTo(...h.map(l).filter(v=>v)),g={isNegativeDuration:m<0,largestUnit:Object.keys(m.values)[0]};return V0(d,c(m,g))}}const Aw=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Os(...a){const n=a.reduce((r,s)=>r+s.source,"");return RegExp(`^${n}$`)}function js(...a){return n=>a.reduce(([r,s,l],c)=>{const[d,h,m]=c(n,l);return[{...r,...d},h||s,m]},[{},null,1]).slice(0,2)}function As(a,...n){if(a==null)return[null,null];for(const[r,s]of n){const l=r.exec(a);if(l)return s(l)}return[null,null]}function _w(...a){return(n,r)=>{const s={};let l;for(l=0;l<a.length;l++)s[a[l]]=Yr(n[r+l]);return[s,null,r+l]}}const Dw=/(?:([Zz])|([+-]\d\d)(?::?(\d\d))?)/,RN=`(?:${Dw.source}?(?:\\[(${Aw.source})\\])?)?`,ep=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Mw=RegExp(`${ep.source}${RN}`),tp=RegExp(`(?:[Tt]${Mw.source})?`),zN=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,LN=/(\d{4})-?W(\d\d)(?:-?(\d))?/,BN=/(\d{4})-?(\d{3})/,UN=_w("weekYear","weekNumber","weekDay"),$N=_w("year","ordinal"),IN=/(\d{4})-(\d\d)-(\d\d)/,Rw=RegExp(`${ep.source} ?(?:${Dw.source}|(${Aw.source}))?`),HN=RegExp(`(?: ${Rw.source})?`);function gs(a,n,r){const s=a[n];return Fe(s)?r:Yr(s)}function VN(a,n){return[{year:gs(a,n),month:gs(a,n+1,1),day:gs(a,n+2,1)},null,n+3]}function _s(a,n){return[{hours:gs(a,n,0),minutes:gs(a,n+1,0),seconds:gs(a,n+2,0),milliseconds:Wh(a[n+3])},null,n+4]}function Go(a,n){const r=!a[n]&&!a[n+1],s=Xc(a[n+1],a[n+2]),l=r?null:Un.instance(s);return[{},l,n+3]}function Yo(a,n){const r=a[n]?Ga.create(a[n]):null;return[{},r,n+1]}const qN=RegExp(`^T?${ep.source}$`),GN=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function YN(a){const[n,r,s,l,c,d,h,m,g]=a,v=n[0]==="-",b=m&&m[0]==="-",x=(k,_=!1)=>k!==void 0&&(_||k&&v)?-k:k;return[{years:x(bi(r)),months:x(bi(s)),weeks:x(bi(l)),days:x(bi(c)),hours:x(bi(d)),minutes:x(bi(h)),seconds:x(bi(m),m==="-0"),milliseconds:x(Wh(g),b)}]}const FN={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function np(a,n,r,s,l,c,d){const h={year:n.length===2?xh(Yr(n)):Yr(n),month:Ew.indexOf(r)+1,day:Yr(s),hour:Yr(l),minute:Yr(c)};return d&&(h.second=Yr(d)),a&&(h.weekday=a.length>3?Cw.indexOf(a)+1:Tw.indexOf(a)+1),h}const PN=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function ZN(a){const[,n,r,s,l,c,d,h,m,g,v,b]=a,x=np(n,l,s,r,c,d,h);let k;return m?k=FN[m]:g?k=0:k=Xc(v,b),[x,new Un(k)]}function XN(a){return a.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const KN=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,QN=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,WN=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function q0(a){const[,n,r,s,l,c,d,h]=a;return[np(n,l,s,r,c,d,h),Un.utcInstance]}function JN(a){const[,n,r,s,l,c,d,h]=a;return[np(n,h,r,s,l,c,d),Un.utcInstance]}const eO=Os(zN,tp),tO=Os(LN,tp),nO=Os(BN,tp),aO=Os(Mw),zw=js(VN,_s,Go,Yo),rO=js(UN,_s,Go,Yo),iO=js($N,_s,Go,Yo),sO=js(_s,Go,Yo);function oO(a){return As(a,[eO,zw],[tO,rO],[nO,iO],[aO,sO])}function lO(a){return As(XN(a),[PN,ZN])}function cO(a){return As(a,[KN,q0],[QN,q0],[WN,JN])}function uO(a){return As(a,[GN,YN])}const dO=js(_s);function fO(a){return As(a,[qN,dO])}const hO=Os(IN,HN),pO=Os(Rw),mO=js(_s,Go,Yo);function gO(a){return As(a,[hO,zw],[pO,mO])}const G0="Invalid Duration",Lw={weeks:{days:7,hours:168,minutes:10080,seconds:10080*60,milliseconds:10080*60*1e3},days:{hours:24,minutes:1440,seconds:1440*60,milliseconds:1440*60*1e3},hours:{minutes:60,seconds:3600,milliseconds:3600*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},yO={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:2184*60,seconds:2184*60*60,milliseconds:2184*60*60*1e3},months:{weeks:4,days:30,hours:720,minutes:720*60,seconds:720*60*60,milliseconds:720*60*60*1e3},...Lw},va=146097/400,ls=146097/4800,vO={years:{quarters:4,months:12,weeks:va/7,days:va,hours:va*24,minutes:va*24*60,seconds:va*24*60*60,milliseconds:va*24*60*60*1e3},quarters:{months:3,weeks:va/28,days:va/4,hours:va*24/4,minutes:va*24*60/4,seconds:va*24*60*60/4,milliseconds:va*24*60*60*1e3/4},months:{weeks:ls/7,days:ls,hours:ls*24,minutes:ls*24*60,seconds:ls*24*60*60,milliseconds:ls*24*60*60*1e3},...Lw},Ei=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],bO=Ei.slice(0).reverse();function pr(a,n,r=!1){const s={values:r?n.values:{...a.values,...n.values||{}},loc:a.loc.clone(n.loc),conversionAccuracy:n.conversionAccuracy||a.conversionAccuracy,matrix:n.matrix||a.matrix};return new vt(s)}function Bw(a,n){let r=n.milliseconds??0;for(const s of bO.slice(1))n[s]&&(r+=n[s]*a[s].milliseconds);return r}function Y0(a,n){const r=Bw(a,n)<0?-1:1;Ei.reduceRight((s,l)=>{if(Fe(n[l]))return s;if(s){const c=n[s]*r,d=a[l][s],h=Math.floor(c/d);n[l]+=h*r,n[s]-=h*d*r}return l},null),Ei.reduce((s,l)=>{if(Fe(n[l]))return s;if(s){const c=n[s]%1;n[s]-=c,n[l]+=c*a[s][l]}return l},null)}function F0(a){const n={};for(const[r,s]of Object.entries(a))s!==0&&(n[r]=s);return n}class vt{constructor(n){const r=n.conversionAccuracy==="longterm"||!1;let s=r?vO:yO;n.matrix&&(s=n.matrix),this.values=n.values,this.loc=n.loc||Ot.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=n.invalid||null,this.matrix=s,this.isLuxonDuration=!0}static fromMillis(n,r){return vt.fromObject({milliseconds:n},r)}static fromObject(n,r={}){if(n==null||typeof n!="object")throw new Ln(`Duration.fromObject: argument expected to be an object, got ${n===null?"null":typeof n}`);return new vt({values:Bc(n,vt.normalizeUnit),loc:Ot.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(n){if(Xr(n))return vt.fromMillis(n);if(vt.isDuration(n))return n;if(typeof n=="object")return vt.fromObject(n);throw new Ln(`Unknown duration argument ${n} of type ${typeof n}`)}static fromISO(n,r){const[s]=uO(n);return s?vt.fromObject(s,r):vt.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static fromISOTime(n,r){const[s]=fO(n);return s?vt.fromObject(s,r):vt.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static invalid(n,r=null){if(!n)throw new Ln("need to specify a reason the Duration is invalid");const s=n instanceof ja?n:new ja(n,r);if(Kt.throwOnInvalid)throw new FT(s);return new vt({invalid:s})}static normalizeUnit(n){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[n&&n.toLowerCase()];if(!r)throw new G1(n);return r}static isDuration(n){return n&&n.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(n,r={}){const s={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?Bn.create(this.loc,s).formatDurationFromString(this,n):G0}toHuman(n={}){if(!this.isValid)return G0;const r=n.showZeros!==!1,s=Ei.map(l=>{const c=this.values[l];return Fe(c)||c===0&&!r?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...n,unit:l.slice(0,-1)}).format(c)}).filter(l=>l);return this.loc.listFormatter({type:"conjunction",style:n.listStyle||"narrow",...n}).format(s)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let n="P";return this.years!==0&&(n+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(n+=this.months+this.quarters*3+"M"),this.weeks!==0&&(n+=this.weeks+"W"),this.days!==0&&(n+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(n+="T"),this.hours!==0&&(n+=this.hours+"H"),this.minutes!==0&&(n+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(n+=Jh(this.seconds+this.milliseconds/1e3,3)+"S"),n==="P"&&(n+="T0S"),n}toISOTime(n={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(n={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...n,includeOffset:!1},Pe.fromMillis(r,{zone:"UTC"}).toISOTime(n))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Bw(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(n){if(!this.isValid)return this;const r=vt.fromDurationLike(n),s={};for(const l of Ei)(xs(r.values,l)||xs(this.values,l))&&(s[l]=r.get(l)+this.get(l));return pr(this,{values:s},!0)}minus(n){if(!this.isValid)return this;const r=vt.fromDurationLike(n);return this.plus(r.negate())}mapUnits(n){if(!this.isValid)return this;const r={};for(const s of Object.keys(this.values))r[s]=xw(n(this.values[s],s));return pr(this,{values:r},!0)}get(n){return this[vt.normalizeUnit(n)]}set(n){if(!this.isValid)return this;const r={...this.values,...Bc(n,vt.normalizeUnit)};return pr(this,{values:r})}reconfigure({locale:n,numberingSystem:r,conversionAccuracy:s,matrix:l}={}){const d={loc:this.loc.clone({locale:n,numberingSystem:r}),matrix:l,conversionAccuracy:s};return pr(this,d)}as(n){return this.isValid?this.shiftTo(n).get(n):NaN}normalize(){if(!this.isValid)return this;const n=this.toObject();return Y0(this.matrix,n),pr(this,{values:n},!0)}rescale(){if(!this.isValid)return this;const n=F0(this.normalize().shiftToAll().toObject());return pr(this,{values:n},!0)}shiftTo(...n){if(!this.isValid)return this;if(n.length===0)return this;n=n.map(d=>vt.normalizeUnit(d));const r={},s={},l=this.toObject();let c;for(const d of Ei)if(n.indexOf(d)>=0){c=d;let h=0;for(const g in s)h+=this.matrix[g][d]*s[g],s[g]=0;Xr(l[d])&&(h+=l[d]);const m=Math.trunc(h);r[d]=m,s[d]=(h*1e3-m*1e3)/1e3}else Xr(l[d])&&(s[d]=l[d]);for(const d in s)s[d]!==0&&(r[c]+=d===c?s[d]:s[d]/this.matrix[c][d]);return Y0(this.matrix,r),pr(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=this.values[r]===0?0:-this.values[r];return pr(this,{values:n},!0)}removeZeros(){if(!this.isValid)return this;const n=F0(this.values);return pr(this,{values:n},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(n){if(!this.isValid||!n.isValid||!this.loc.equals(n.loc))return!1;function r(s,l){return s===void 0||s===0?l===void 0||l===0:s===l}for(const s of Ei)if(!r(this.values[s],n.values[s]))return!1;return!0}}const cs="Invalid Interval";function wO(a,n){return!a||!a.isValid?Xt.invalid("missing or invalid start"):!n||!n.isValid?Xt.invalid("missing or invalid end"):n<a?Xt.invalid("end before start",`The end of an interval must be after its start, but you had start=${a.toISO()} and end=${n.toISO()}`):null}class Xt{constructor(n){this.s=n.start,this.e=n.end,this.invalid=n.invalid||null,this.isLuxonInterval=!0}static invalid(n,r=null){if(!n)throw new Ln("need to specify a reason the Interval is invalid");const s=n instanceof ja?n:new ja(n,r);if(Kt.throwOnInvalid)throw new YT(s);return new Xt({invalid:s})}static fromDateTimes(n,r){const s=Co(n),l=Co(r),c=wO(s,l);return c??new Xt({start:s,end:l})}static after(n,r){const s=vt.fromDurationLike(r),l=Co(n);return Xt.fromDateTimes(l,l.plus(s))}static before(n,r){const s=vt.fromDurationLike(r),l=Co(n);return Xt.fromDateTimes(l.minus(s),l)}static fromISO(n,r){const[s,l]=(n||"").split("/",2);if(s&&l){let c,d;try{c=Pe.fromISO(s,r),d=c.isValid}catch{d=!1}let h,m;try{h=Pe.fromISO(l,r),m=h.isValid}catch{m=!1}if(d&&m)return Xt.fromDateTimes(c,h);if(d){const g=vt.fromISO(l,r);if(g.isValid)return Xt.after(c,g)}else if(m){const g=vt.fromISO(s,r);if(g.isValid)return Xt.before(h,g)}}return Xt.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static isInterval(n){return n&&n.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(n="milliseconds"){return this.isValid?this.toDuration(n).get(n):NaN}count(n="milliseconds",r){if(!this.isValid)return NaN;const s=this.start.startOf(n,r);let l;return r?.useLocaleWeeks?l=this.end.reconfigure({locale:s.locale}):l=this.end,l=l.startOf(n,r),Math.floor(l.diff(s,n).get(n))+(l.valueOf()!==this.end.valueOf())}hasSame(n){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,n):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(n){return this.isValid?this.s>n:!1}isBefore(n){return this.isValid?this.e<=n:!1}contains(n){return this.isValid?this.s<=n&&this.e>n:!1}set({start:n,end:r}={}){return this.isValid?Xt.fromDateTimes(n||this.s,r||this.e):this}splitAt(...n){if(!this.isValid)return[];const r=n.map(Co).filter(d=>this.contains(d)).sort((d,h)=>d.toMillis()-h.toMillis()),s=[];let{s:l}=this,c=0;for(;l<this.e;){const d=r[c]||this.e,h=+d>+this.e?this.e:d;s.push(Xt.fromDateTimes(l,h)),l=h,c+=1}return s}splitBy(n){const r=vt.fromDurationLike(n);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s}=this,l=1,c;const d=[];for(;s<this.e;){const h=this.start.plus(r.mapUnits(m=>m*l));c=+h>+this.e?this.e:h,d.push(Xt.fromDateTimes(s,c)),s=c,l+=1}return d}divideEqually(n){return this.isValid?this.splitBy(this.length()/n).slice(0,n):[]}overlaps(n){return this.e>n.s&&this.s<n.e}abutsStart(n){return this.isValid?+this.e==+n.s:!1}abutsEnd(n){return this.isValid?+n.e==+this.s:!1}engulfs(n){return this.isValid?this.s<=n.s&&this.e>=n.e:!1}equals(n){return!this.isValid||!n.isValid?!1:this.s.equals(n.s)&&this.e.equals(n.e)}intersection(n){if(!this.isValid)return this;const r=this.s>n.s?this.s:n.s,s=this.e<n.e?this.e:n.e;return r>=s?null:Xt.fromDateTimes(r,s)}union(n){if(!this.isValid)return this;const r=this.s<n.s?this.s:n.s,s=this.e>n.e?this.e:n.e;return Xt.fromDateTimes(r,s)}static merge(n){const[r,s]=n.sort((l,c)=>l.s-c.s).reduce(([l,c],d)=>c?c.overlaps(d)||c.abutsStart(d)?[l,c.union(d)]:[l.concat([c]),d]:[l,d],[[],null]);return s&&r.push(s),r}static xor(n){let r=null,s=0;const l=[],c=n.map(m=>[{time:m.s,type:"s"},{time:m.e,type:"e"}]),d=Array.prototype.concat(...c),h=d.sort((m,g)=>m.time-g.time);for(const m of h)s+=m.type==="s"?1:-1,s===1?r=m.time:(r&&+r!=+m.time&&l.push(Xt.fromDateTimes(r,m.time)),r=null);return Xt.merge(l)}difference(...n){return Xt.xor([this].concat(n)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:cs}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(n=Rc,r={}){return this.isValid?Bn.create(this.s.loc.clone(r),n).formatInterval(this):cs}toISO(n){return this.isValid?`${this.s.toISO(n)}/${this.e.toISO(n)}`:cs}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:cs}toISOTime(n){return this.isValid?`${this.s.toISOTime(n)}/${this.e.toISOTime(n)}`:cs}toFormat(n,{separator:r="  "}={}){return this.isValid?`${this.s.toFormat(n)}${r}${this.e.toFormat(n)}`:cs}toDuration(n,r){return this.isValid?this.e.diff(this.s,n,r):vt.invalid(this.invalidReason)}mapEndpoints(n){return Xt.fromDateTimes(n(this.s),n(this.e))}}class jo{static hasDST(n=Kt.defaultZone){const r=Pe.now().setZone(n).set({month:12});return!n.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(n){return Ga.isValidZone(n)}static normalizeZone(n){return Fr(n,Kt.defaultZone)}static getStartOfWeek({locale:n=null,locObj:r=null}={}){return(r||Ot.create(n)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:n=null,locObj:r=null}={}){return(r||Ot.create(n)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:n=null,locObj:r=null}={}){return(r||Ot.create(n)).getWeekendDays().slice()}static months(n="long",{locale:r=null,numberingSystem:s=null,locObj:l=null,outputCalendar:c="gregory"}={}){return(l||Ot.create(r,s,c)).months(n)}static monthsFormat(n="long",{locale:r=null,numberingSystem:s=null,locObj:l=null,outputCalendar:c="gregory"}={}){return(l||Ot.create(r,s,c)).months(n,!0)}static weekdays(n="long",{locale:r=null,numberingSystem:s=null,locObj:l=null}={}){return(l||Ot.create(r,s,null)).weekdays(n)}static weekdaysFormat(n="long",{locale:r=null,numberingSystem:s=null,locObj:l=null}={}){return(l||Ot.create(r,s,null)).weekdays(n,!0)}static meridiems({locale:n=null}={}){return Ot.create(n).meridiems()}static eras(n="short",{locale:r=null}={}){return Ot.create(r,null,"gregory").eras(n)}static features(){return{relative:bw(),localeWeek:ww()}}}function P0(a,n){const r=l=>l.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),s=r(n)-r(a);return Math.floor(vt.fromMillis(s).as("days"))}function SO(a,n,r){const s=[["years",(m,g)=>g.year-m.year],["quarters",(m,g)=>g.quarter-m.quarter+(g.year-m.year)*4],["months",(m,g)=>g.month-m.month+(g.year-m.year)*12],["weeks",(m,g)=>{const v=P0(m,g);return(v-v%7)/7}],["days",P0]],l={},c=a;let d,h;for(const[m,g]of s)r.indexOf(m)>=0&&(d=m,l[m]=g(a,n),h=c.plus(l),h>n?(l[m]--,a=c.plus(l),a>n&&(h=a,l[m]--,a=c.plus(l))):a=h);return[a,l,h,d]}function xO(a,n,r,s){let[l,c,d,h]=SO(a,n,r);const m=n-l,g=r.filter(b=>["hours","minutes","seconds","milliseconds"].indexOf(b)>=0);g.length===0&&(d<n&&(d=l.plus({[h]:1})),d!==l&&(c[h]=(c[h]||0)+m/(d-l)));const v=vt.fromObject(c,s);return g.length>0?vt.fromMillis(m,s).shiftTo(...g).plus(v):v}const EO="missing Intl.DateTimeFormat.formatToParts support";function Tt(a,n=r=>r){return{regex:a,deser:([r])=>n(hN(r))}}const kO="",Uw=`[ ${kO}]`,$w=new RegExp(Uw,"g");function CO(a){return a.replace(/\./g,"\\.?").replace($w,Uw)}function Z0(a){return a.replace(/\./g,"").replace($w," ").toLowerCase()}function Na(a,n){return a===null?null:{regex:RegExp(a.map(CO).join("|")),deser:([r])=>a.findIndex(s=>Z0(r)===Z0(s))+n}}function X0(a,n){return{regex:a,deser:([,r,s])=>Xc(r,s),groups:n}}function hc(a){return{regex:a,deser:([n])=>n}}function TO(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function NO(a,n){const r=Ta(n),s=Ta(n,"{2}"),l=Ta(n,"{3}"),c=Ta(n,"{4}"),d=Ta(n,"{6}"),h=Ta(n,"{1,2}"),m=Ta(n,"{1,3}"),g=Ta(n,"{1,6}"),v=Ta(n,"{1,9}"),b=Ta(n,"{2,4}"),x=Ta(n,"{4,6}"),k=q=>({regex:RegExp(TO(q.val)),deser:([W])=>W,literal:!0}),Z=(q=>{if(a.literal)return k(q);switch(q.val){case"G":return Na(n.eras("short"),0);case"GG":return Na(n.eras("long"),0);case"y":return Tt(g);case"yy":return Tt(b,xh);case"yyyy":return Tt(c);case"yyyyy":return Tt(x);case"yyyyyy":return Tt(d);case"M":return Tt(h);case"MM":return Tt(s);case"MMM":return Na(n.months("short",!0),1);case"MMMM":return Na(n.months("long",!0),1);case"L":return Tt(h);case"LL":return Tt(s);case"LLL":return Na(n.months("short",!1),1);case"LLLL":return Na(n.months("long",!1),1);case"d":return Tt(h);case"dd":return Tt(s);case"o":return Tt(m);case"ooo":return Tt(l);case"HH":return Tt(s);case"H":return Tt(h);case"hh":return Tt(s);case"h":return Tt(h);case"mm":return Tt(s);case"m":return Tt(h);case"q":return Tt(h);case"qq":return Tt(s);case"s":return Tt(h);case"ss":return Tt(s);case"S":return Tt(m);case"SSS":return Tt(l);case"u":return hc(v);case"uu":return hc(h);case"uuu":return Tt(r);case"a":return Na(n.meridiems(),0);case"kkkk":return Tt(c);case"kk":return Tt(b,xh);case"W":return Tt(h);case"WW":return Tt(s);case"E":case"c":return Tt(r);case"EEE":return Na(n.weekdays("short",!1),1);case"EEEE":return Na(n.weekdays("long",!1),1);case"ccc":return Na(n.weekdays("short",!0),1);case"cccc":return Na(n.weekdays("long",!0),1);case"Z":case"ZZ":return X0(new RegExp(`([+-]${h.source})(?::(${s.source}))?`),2);case"ZZZ":return X0(new RegExp(`([+-]${h.source})(${s.source})?`),2);case"z":return hc(/[a-z_+-/]{1,256}?/i);case" ":return hc(/[^\S\n\r]/);default:return k(q)}})(a)||{invalidReason:EO};return Z.token=a,Z}const OO={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function jO(a,n,r){const{type:s,value:l}=a;if(s==="literal"){const m=/^\s+$/.test(l);return{literal:!m,val:m?" ":l}}const c=n[s];let d=s;s==="hour"&&(n.hour12!=null?d=n.hour12?"hour12":"hour24":n.hourCycle!=null?n.hourCycle==="h11"||n.hourCycle==="h12"?d="hour12":d="hour24":d=r.hour12?"hour12":"hour24");let h=OO[d];if(typeof h=="object"&&(h=h[c]),h)return{literal:!1,val:h}}function AO(a){return[`^${a.map(r=>r.regex).reduce((r,s)=>`${r}(${s.source})`,"")}$`,a]}function _O(a,n,r){const s=a.match(n);if(s){const l={};let c=1;for(const d in r)if(xs(r,d)){const h=r[d],m=h.groups?h.groups+1:1;!h.literal&&h.token&&(l[h.token.val[0]]=h.deser(s.slice(c,c+m))),c+=m}return[s,l]}else return[s,{}]}function DO(a){const n=c=>{switch(c){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,s;return Fe(a.z)||(r=Ga.create(a.z)),Fe(a.Z)||(r||(r=new Un(a.Z)),s=a.Z),Fe(a.q)||(a.M=(a.q-1)*3+1),Fe(a.h)||(a.h<12&&a.a===1?a.h+=12:a.h===12&&a.a===0&&(a.h=0)),a.G===0&&a.y&&(a.y=-a.y),Fe(a.u)||(a.S=Wh(a.u)),[Object.keys(a).reduce((c,d)=>{const h=n(d);return h&&(c[h]=a[d]),c},{}),r,s]}let Bf=null;function MO(){return Bf||(Bf=Pe.fromMillis(1555555555555)),Bf}function RO(a,n){if(a.literal)return a;const r=Bn.macroTokenToFormatOpts(a.val),s=qw(r,n);return s==null||s.includes(void 0)?a:s}function Iw(a,n){return Array.prototype.concat(...a.map(r=>RO(r,n)))}class Hw{constructor(n,r){if(this.locale=n,this.format=r,this.tokens=Iw(Bn.parseFormat(r),n),this.units=this.tokens.map(s=>NO(s,n)),this.disqualifyingUnit=this.units.find(s=>s.invalidReason),!this.disqualifyingUnit){const[s,l]=AO(this.units);this.regex=RegExp(s,"i"),this.handlers=l}}explainFromTokens(n){if(this.isValid){const[r,s]=_O(n,this.regex,this.handlers),[l,c,d]=s?DO(s):[null,null,void 0];if(xs(s,"a")&&xs(s,"H"))throw new hs("Can't include meridiem when specifying 24-hour format");return{input:n,tokens:this.tokens,regex:this.regex,rawMatches:r,matches:s,result:l,zone:c,specificOffset:d}}else return{input:n,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function Vw(a,n,r){return new Hw(a,r).explainFromTokens(n)}function zO(a,n,r){const{result:s,zone:l,specificOffset:c,invalidReason:d}=Vw(a,n,r);return[s,l,c,d]}function qw(a,n){if(!a)return null;const s=Bn.create(n,a).dtFormatter(MO()),l=s.formatToParts(),c=s.resolvedOptions();return l.map(d=>jO(d,a,c))}const Uf="Invalid DateTime",K0=864e13;function Ao(a){return new ja("unsupported zone",`the zone "${a.name}" is not supported`)}function $f(a){return a.weekData===null&&(a.weekData=zc(a.c)),a.weekData}function If(a){return a.localWeekData===null&&(a.localWeekData=zc(a.c,a.loc.getMinDaysInFirstWeek(),a.loc.getStartOfWeek())),a.localWeekData}function wi(a,n){const r={ts:a.ts,zone:a.zone,c:a.c,o:a.o,loc:a.loc,invalid:a.invalid};return new Pe({...r,...n,old:r})}function Gw(a,n,r){let s=a-n*60*1e3;const l=r.offset(s);if(n===l)return[s,n];s-=(l-n)*60*1e3;const c=r.offset(s);return l===c?[s,l]:[a-Math.min(l,c)*60*1e3,Math.max(l,c)]}function pc(a,n){a+=n*60*1e3;const r=new Date(a);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function Cc(a,n,r){return Gw(Zc(a),n,r)}function Q0(a,n){const r=a.o,s=a.c.year+Math.trunc(n.years),l=a.c.month+Math.trunc(n.months)+Math.trunc(n.quarters)*3,c={...a.c,year:s,month:l,day:Math.min(a.c.day,Lc(s,l))+Math.trunc(n.days)+Math.trunc(n.weeks)*7},d=vt.fromObject({years:n.years-Math.trunc(n.years),quarters:n.quarters-Math.trunc(n.quarters),months:n.months-Math.trunc(n.months),weeks:n.weeks-Math.trunc(n.weeks),days:n.days-Math.trunc(n.days),hours:n.hours,minutes:n.minutes,seconds:n.seconds,milliseconds:n.milliseconds}).as("milliseconds"),h=Zc(c);let[m,g]=Gw(h,r,a.zone);return d!==0&&(m+=d,g=a.zone.offset(m)),{ts:m,o:g}}function us(a,n,r,s,l,c){const{setZone:d,zone:h}=r;if(a&&Object.keys(a).length!==0||n){const m=n||h,g=Pe.fromObject(a,{...r,zone:m,specificOffset:c});return d?g:g.setZone(h)}else return Pe.invalid(new ja("unparsable",`the input "${l}" can't be parsed as ${s}`))}function mc(a,n,r=!0){return a.isValid?Bn.create(Ot.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(a,n):null}function Hf(a,n,r){const s=a.c.year>9999||a.c.year<0;let l="";if(s&&a.c.year>=0&&(l+="+"),l+=vn(a.c.year,s?6:4),r==="year")return l;if(n){if(l+="-",l+=vn(a.c.month),r==="month")return l;l+="-"}else if(l+=vn(a.c.month),r==="month")return l;return l+=vn(a.c.day),l}function W0(a,n,r,s,l,c,d){let h=!r||a.c.millisecond!==0||a.c.second!==0,m="";switch(d){case"day":case"month":case"year":break;default:if(m+=vn(a.c.hour),d==="hour")break;if(n){if(m+=":",m+=vn(a.c.minute),d==="minute")break;h&&(m+=":",m+=vn(a.c.second))}else{if(m+=vn(a.c.minute),d==="minute")break;h&&(m+=vn(a.c.second))}if(d==="second")break;h&&(!s||a.c.millisecond!==0)&&(m+=".",m+=vn(a.c.millisecond,3))}return l&&(a.isOffsetFixed&&a.offset===0&&!c?m+="Z":a.o<0?(m+="-",m+=vn(Math.trunc(-a.o/60)),m+=":",m+=vn(Math.trunc(-a.o%60))):(m+="+",m+=vn(Math.trunc(a.o/60)),m+=":",m+=vn(Math.trunc(a.o%60)))),c&&(m+="["+a.zone.ianaName+"]"),m}const Yw={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},LO={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},BO={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Tc=["year","month","day","hour","minute","second","millisecond"],UO=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],$O=["year","ordinal","hour","minute","second","millisecond"];function Nc(a){const n={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[a.toLowerCase()];if(!n)throw new G1(a);return n}function J0(a){switch(a.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return Nc(a)}}function IO(a){if(_o===void 0&&(_o=Kt.now()),a.type!=="iana")return a.offset(_o);const n=a.name;let r=Eh.get(n);return r===void 0&&(r=a.offset(_o),Eh.set(n,r)),r}function eb(a,n){const r=Fr(n.zone,Kt.defaultZone);if(!r.isValid)return Pe.invalid(Ao(r));const s=Ot.fromObject(n);let l,c;if(Fe(a.year))l=Kt.now();else{for(const m of Tc)Fe(a[m])&&(a[m]=Yw[m]);const d=yw(a)||vw(a);if(d)return Pe.invalid(d);const h=IO(r);[l,c]=Cc(a,h,r)}return new Pe({ts:l,zone:r,loc:s,o:c})}function tb(a,n,r){const s=Fe(r.round)?!0:r.round,l=Fe(r.rounding)?"trunc":r.rounding,c=(h,m)=>(h=Jh(h,s||r.calendary?0:2,r.calendary?"round":l),n.loc.clone(r).relFormatter(r).format(h,m)),d=h=>r.calendary?n.hasSame(a,h)?0:n.startOf(h).diff(a.startOf(h),h).get(h):n.diff(a,h).get(h);if(r.unit)return c(d(r.unit),r.unit);for(const h of r.units){const m=d(h);if(Math.abs(m)>=1)return c(m,h)}return c(a>n?-0:0,r.units[r.units.length-1])}function nb(a){let n={},r;return a.length>0&&typeof a[a.length-1]=="object"?(n=a[a.length-1],r=Array.from(a).slice(0,a.length-1)):r=Array.from(a),[n,r]}let _o;const Eh=new Map;class Pe{constructor(n){const r=n.zone||Kt.defaultZone;let s=n.invalid||(Number.isNaN(n.ts)?new ja("invalid input"):null)||(r.isValid?null:Ao(r));this.ts=Fe(n.ts)?Kt.now():n.ts;let l=null,c=null;if(!s)if(n.old&&n.old.ts===this.ts&&n.old.zone.equals(r))[l,c]=[n.old.c,n.old.o];else{const h=Xr(n.o)&&!n.old?n.o:r.offset(this.ts);l=pc(this.ts,h),s=Number.isNaN(l.year)?new ja("invalid input"):null,l=s?null:l,c=s?null:h}this._zone=r,this.loc=n.loc||Ot.create(),this.invalid=s,this.weekData=null,this.localWeekData=null,this.c=l,this.o=c,this.isLuxonDateTime=!0}static now(){return new Pe({})}static local(){const[n,r]=nb(arguments),[s,l,c,d,h,m,g]=r;return eb({year:s,month:l,day:c,hour:d,minute:h,second:m,millisecond:g},n)}static utc(){const[n,r]=nb(arguments),[s,l,c,d,h,m,g]=r;return n.zone=Un.utcInstance,eb({year:s,month:l,day:c,hour:d,minute:h,second:m,millisecond:g},n)}static fromJSDate(n,r={}){const s=vN(n)?n.valueOf():NaN;if(Number.isNaN(s))return Pe.invalid("invalid input");const l=Fr(r.zone,Kt.defaultZone);return l.isValid?new Pe({ts:s,zone:l,loc:Ot.fromObject(r)}):Pe.invalid(Ao(l))}static fromMillis(n,r={}){if(Xr(n))return n<-K0||n>K0?Pe.invalid("Timestamp out of range"):new Pe({ts:n,zone:Fr(r.zone,Kt.defaultZone),loc:Ot.fromObject(r)});throw new Ln(`fromMillis requires a numerical input, but received a ${typeof n} with value ${n}`)}static fromSeconds(n,r={}){if(Xr(n))return new Pe({ts:n*1e3,zone:Fr(r.zone,Kt.defaultZone),loc:Ot.fromObject(r)});throw new Ln("fromSeconds requires a numerical input")}static fromObject(n,r={}){n=n||{};const s=Fr(r.zone,Kt.defaultZone);if(!s.isValid)return Pe.invalid(Ao(s));const l=Ot.fromObject(r),c=Bc(n,J0),{minDaysInFirstWeek:d,startOfWeek:h}=$0(c,l),m=Kt.now(),g=Fe(r.specificOffset)?s.offset(m):r.specificOffset,v=!Fe(c.ordinal),b=!Fe(c.year),x=!Fe(c.month)||!Fe(c.day),k=b||x,_=c.weekYear||c.weekNumber;if((k||v)&&_)throw new hs("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(x&&v)throw new hs("Can't mix ordinal dates with month/day");const Z=_||c.weekday&&!k;let q,W,K=pc(m,g);Z?(q=UO,W=LO,K=zc(K,d,h)):v?(q=$O,W=BO,K=Lf(K)):(q=Tc,W=Yw);let B=!1;for(const pe of q){const Be=c[pe];Fe(Be)?B?c[pe]=W[pe]:c[pe]=K[pe]:B=!0}const Y=Z?mN(c,d,h):v?gN(c):yw(c),fe=Y||vw(c);if(fe)return Pe.invalid(fe);const be=Z?B0(c,d,h):v?U0(c):c,[H,de]=Cc(be,g,s),ie=new Pe({ts:H,zone:s,o:de,loc:l});return c.weekday&&k&&n.weekday!==ie.weekday?Pe.invalid("mismatched weekday",`you can't specify both a weekday of ${c.weekday} and a date of ${ie.toISO()}`):ie.isValid?ie:Pe.invalid(ie.invalid)}static fromISO(n,r={}){const[s,l]=oO(n);return us(s,l,r,"ISO 8601",n)}static fromRFC2822(n,r={}){const[s,l]=lO(n);return us(s,l,r,"RFC 2822",n)}static fromHTTP(n,r={}){const[s,l]=cO(n);return us(s,l,r,"HTTP",r)}static fromFormat(n,r,s={}){if(Fe(n)||Fe(r))throw new Ln("fromFormat requires an input string and a format");const{locale:l=null,numberingSystem:c=null}=s,d=Ot.fromOpts({locale:l,numberingSystem:c,defaultToEN:!0}),[h,m,g,v]=zO(d,n,r);return v?Pe.invalid(v):us(h,m,s,`format ${r}`,n,g)}static fromString(n,r,s={}){return Pe.fromFormat(n,r,s)}static fromSQL(n,r={}){const[s,l]=gO(n);return us(s,l,r,"SQL",n)}static invalid(n,r=null){if(!n)throw new Ln("need to specify a reason the DateTime is invalid");const s=n instanceof ja?n:new ja(n,r);if(Kt.throwOnInvalid)throw new GT(s);return new Pe({invalid:s})}static isDateTime(n){return n&&n.isLuxonDateTime||!1}static parseFormatForOpts(n,r={}){const s=qw(n,Ot.fromObject(r));return s?s.map(l=>l?l.val:null).join(""):null}static expandFormat(n,r={}){return Iw(Bn.parseFormat(n),Ot.fromObject(r)).map(l=>l.val).join("")}static resetCache(){_o=void 0,Eh.clear()}get(n){return this[n]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?$f(this).weekYear:NaN}get weekNumber(){return this.isValid?$f(this).weekNumber:NaN}get weekday(){return this.isValid?$f(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?If(this).weekday:NaN}get localWeekNumber(){return this.isValid?If(this).weekNumber:NaN}get localWeekYear(){return this.isValid?If(this).weekYear:NaN}get ordinal(){return this.isValid?Lf(this.c).ordinal:NaN}get monthShort(){return this.isValid?jo.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?jo.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?jo.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?jo.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const n=864e5,r=6e4,s=Zc(this.c),l=this.zone.offset(s-n),c=this.zone.offset(s+n),d=this.zone.offset(s-l*r),h=this.zone.offset(s-c*r);if(d===h)return[this];const m=s-d*r,g=s-h*r,v=pc(m,d),b=pc(g,h);return v.hour===b.hour&&v.minute===b.minute&&v.second===b.second&&v.millisecond===b.millisecond?[wi(this,{ts:m}),wi(this,{ts:g})]:[this]}get isInLeapYear(){return qo(this.year)}get daysInMonth(){return Lc(this.year,this.month)}get daysInYear(){return this.isValid?ms(this.year):NaN}get weeksInWeekYear(){return this.isValid?$o(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?$o(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(n={}){const{locale:r,numberingSystem:s,calendar:l}=Bn.create(this.loc.clone(n),n).resolvedOptions(this);return{locale:r,numberingSystem:s,outputCalendar:l}}toUTC(n=0,r={}){return this.setZone(Un.instance(n),r)}toLocal(){return this.setZone(Kt.defaultZone)}setZone(n,{keepLocalTime:r=!1,keepCalendarTime:s=!1}={}){if(n=Fr(n,Kt.defaultZone),n.equals(this.zone))return this;if(n.isValid){let l=this.ts;if(r||s){const c=n.offset(this.ts),d=this.toObject();[l]=Cc(d,c,n)}return wi(this,{ts:l,zone:n})}else return Pe.invalid(Ao(n))}reconfigure({locale:n,numberingSystem:r,outputCalendar:s}={}){const l=this.loc.clone({locale:n,numberingSystem:r,outputCalendar:s});return wi(this,{loc:l})}setLocale(n){return this.reconfigure({locale:n})}set(n){if(!this.isValid)return this;const r=Bc(n,J0),{minDaysInFirstWeek:s,startOfWeek:l}=$0(r,this.loc),c=!Fe(r.weekYear)||!Fe(r.weekNumber)||!Fe(r.weekday),d=!Fe(r.ordinal),h=!Fe(r.year),m=!Fe(r.month)||!Fe(r.day),g=h||m,v=r.weekYear||r.weekNumber;if((g||d)&&v)throw new hs("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(m&&d)throw new hs("Can't mix ordinal dates with month/day");let b;c?b=B0({...zc(this.c,s,l),...r},s,l):Fe(r.ordinal)?(b={...this.toObject(),...r},Fe(r.day)&&(b.day=Math.min(Lc(b.year,b.month),b.day))):b=U0({...Lf(this.c),...r});const[x,k]=Cc(b,this.o,this.zone);return wi(this,{ts:x,o:k})}plus(n){if(!this.isValid)return this;const r=vt.fromDurationLike(n);return wi(this,Q0(this,r))}minus(n){if(!this.isValid)return this;const r=vt.fromDurationLike(n).negate();return wi(this,Q0(this,r))}startOf(n,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;const s={},l=vt.normalizeUnit(n);switch(l){case"years":s.month=1;case"quarters":case"months":s.day=1;case"weeks":case"days":s.hour=0;case"hours":s.minute=0;case"minutes":s.second=0;case"seconds":s.millisecond=0;break}if(l==="weeks")if(r){const c=this.loc.getStartOfWeek(),{weekday:d}=this;d<c&&(s.weekNumber=this.weekNumber-1),s.weekday=c}else s.weekday=1;if(l==="quarters"){const c=Math.ceil(this.month/3);s.month=(c-1)*3+1}return this.set(s)}endOf(n,r){return this.isValid?this.plus({[n]:1}).startOf(n,r).minus(1):this}toFormat(n,r={}){return this.isValid?Bn.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,n):Uf}toLocaleString(n=Rc,r={}){return this.isValid?Bn.create(this.loc.clone(r),n).formatDateTime(this):Uf}toLocaleParts(n={}){return this.isValid?Bn.create(this.loc.clone(n),n).formatDateTimeParts(this):[]}toISO({format:n="extended",suppressSeconds:r=!1,suppressMilliseconds:s=!1,includeOffset:l=!0,extendedZone:c=!1,precision:d="milliseconds"}={}){if(!this.isValid)return null;d=Nc(d);const h=n==="extended";let m=Hf(this,h,d);return Tc.indexOf(d)>=3&&(m+="T"),m+=W0(this,h,r,s,l,c,d),m}toISODate({format:n="extended",precision:r="day"}={}){return this.isValid?Hf(this,n==="extended",Nc(r)):null}toISOWeekDate(){return mc(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:n=!1,suppressSeconds:r=!1,includeOffset:s=!0,includePrefix:l=!1,extendedZone:c=!1,format:d="extended",precision:h="milliseconds"}={}){return this.isValid?(h=Nc(h),(l&&Tc.indexOf(h)>=3?"T":"")+W0(this,d==="extended",r,n,s,c,h)):null}toRFC2822(){return mc(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return mc(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Hf(this,!0):null}toSQLTime({includeOffset:n=!0,includeZone:r=!1,includeOffsetSpace:s=!0}={}){let l="HH:mm:ss.SSS";return(r||n)&&(s&&(l+=" "),r?l+="z":n&&(l+="ZZ")),mc(this,l,!0)}toSQL(n={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(n)}`:null}toString(){return this.isValid?this.toISO():Uf}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(n={}){if(!this.isValid)return{};const r={...this.c};return n.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(n,r="milliseconds",s={}){if(!this.isValid||!n.isValid)return vt.invalid("created by diffing an invalid DateTime");const l={locale:this.locale,numberingSystem:this.numberingSystem,...s},c=bN(r).map(vt.normalizeUnit),d=n.valueOf()>this.valueOf(),h=d?this:n,m=d?n:this,g=xO(h,m,c,l);return d?g.negate():g}diffNow(n="milliseconds",r={}){return this.diff(Pe.now(),n,r)}until(n){return this.isValid?Xt.fromDateTimes(this,n):this}hasSame(n,r,s){if(!this.isValid)return!1;const l=n.valueOf(),c=this.setZone(n.zone,{keepLocalTime:!0});return c.startOf(r,s)<=l&&l<=c.endOf(r,s)}equals(n){return this.isValid&&n.isValid&&this.valueOf()===n.valueOf()&&this.zone.equals(n.zone)&&this.loc.equals(n.loc)}toRelative(n={}){if(!this.isValid)return null;const r=n.base||Pe.fromObject({},{zone:this.zone}),s=n.padding?this<r?-n.padding:n.padding:0;let l=["years","months","days","hours","minutes","seconds"],c=n.unit;return Array.isArray(n.unit)&&(l=n.unit,c=void 0),tb(r,this.plus(s),{...n,numeric:"always",units:l,unit:c})}toRelativeCalendar(n={}){return this.isValid?tb(n.base||Pe.fromObject({},{zone:this.zone}),this,{...n,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...n){if(!n.every(Pe.isDateTime))throw new Ln("min requires all arguments be DateTimes");return I0(n,r=>r.valueOf(),Math.min)}static max(...n){if(!n.every(Pe.isDateTime))throw new Ln("max requires all arguments be DateTimes");return I0(n,r=>r.valueOf(),Math.max)}static fromFormatExplain(n,r,s={}){const{locale:l=null,numberingSystem:c=null}=s,d=Ot.fromOpts({locale:l,numberingSystem:c,defaultToEN:!0});return Vw(d,n,r)}static fromStringExplain(n,r,s={}){return Pe.fromFormatExplain(n,r,s)}static buildFormatParser(n,r={}){const{locale:s=null,numberingSystem:l=null}=r,c=Ot.fromOpts({locale:s,numberingSystem:l,defaultToEN:!0});return new Hw(c,n)}static fromFormatParser(n,r,s={}){if(Fe(n)||Fe(r))throw new Ln("fromFormatParser requires an input string and a format parser");const{locale:l=null,numberingSystem:c=null}=s,d=Ot.fromOpts({locale:l,numberingSystem:c,defaultToEN:!0});if(!d.equals(r.locale))throw new Ln(`fromFormatParser called with a locale of ${d}, but the format parser was created for ${r.locale}`);const{result:h,zone:m,specificOffset:g,invalidReason:v}=r.explainFromTokens(n);return v?Pe.invalid(v):us(h,m,s,`format ${r.format}`,n,g)}static get DATE_SHORT(){return Rc}static get DATE_MED(){return Y1}static get DATE_MED_WITH_WEEKDAY(){return PT}static get DATE_FULL(){return F1}static get DATE_HUGE(){return P1}static get TIME_SIMPLE(){return Z1}static get TIME_WITH_SECONDS(){return X1}static get TIME_WITH_SHORT_OFFSET(){return K1}static get TIME_WITH_LONG_OFFSET(){return Q1}static get TIME_24_SIMPLE(){return W1}static get TIME_24_WITH_SECONDS(){return J1}static get TIME_24_WITH_SHORT_OFFSET(){return ew}static get TIME_24_WITH_LONG_OFFSET(){return tw}static get DATETIME_SHORT(){return nw}static get DATETIME_SHORT_WITH_SECONDS(){return aw}static get DATETIME_MED(){return rw}static get DATETIME_MED_WITH_SECONDS(){return iw}static get DATETIME_MED_WITH_WEEKDAY(){return ZT}static get DATETIME_FULL(){return sw}static get DATETIME_FULL_WITH_SECONDS(){return ow}static get DATETIME_HUGE(){return lw}static get DATETIME_HUGE_WITH_SECONDS(){return cw}}function Co(a){if(Pe.isDateTime(a))return a;if(a&&a.valueOf&&Xr(a.valueOf()))return Pe.fromJSDate(a);if(a&&typeof a=="object")return Pe.fromObject(a);throw new Ln(`Unknown datetime argument: ${a}, of type ${typeof a}`)}const HO="3.7.2",VO=Object.freeze(Object.defineProperty({__proto__:null,DateTime:Pe,Duration:vt,FixedOffsetZone:Un,IANAZone:Ga,Info:jo,Interval:Xt,InvalidZone:fw,Settings:Kt,SystemZone:Vo,VERSION:HO,Zone:Ns},Symbol.toStringTag,{value:"Module"}));window.Rete=z2;window.React=s2;window.RefComponent=Hh;window.luxon=VO;window.nodeRegistry=zn;window.sockets=O1;window.socket=ye;window.apiUrl=En;window.getApiBase=Gc;window.apiFetch=async function(a,n={}){const r=En(a);return fetch(r,n)};let Kr={isLoading:!1,progress:0,status:"Ready",loadedCount:0,totalCount:0,failedPlugins:[],error:null};const kh=new Set;function Fw(a){return kh.add(a),a({...Kr}),()=>kh.delete(a)}function Vr(a){Kr={...Kr,...a},kh.forEach(n=>n({...Kr}))}function qO(){return{...Kr}}async function GO(){Vr({isLoading:!0,progress:0,status:"Fetching plugin list...",error:null,failedPlugins:[]});try{const a=await fetch(En("/api/plugins"));if(!a.ok)throw new Error("Failed to fetch plugin list");const n=await a.json(),r=n.length,s=n.filter(m=>m.includes("/00_")),l=n.filter(m=>!m.includes("/00_"));Vr({totalCount:r,status:`Loading ${s.length} infrastructure + ${l.length} node plugins...`});let c=0;for(const m of s){const g=m.split("/").pop().replace(".js","");Vr({status:`Loading ${g}...`});try{await ab(En(m)),c++,Vr({loadedCount:c,progress:Math.round(c/r*100)})}catch(v){console.error(`[PluginLoader] Failed to load infrastructure ${m}`,v),Kr.failedPlugins.push({name:g,error:v.message})}}Vr({status:`Loading ${l.length} node plugins in parallel...`});const d=await Promise.allSettled(l.map(async m=>{const g=m.split("/").pop().replace(".js","");try{return await ab(En(m)),c++,Vr({loadedCount:c,progress:Math.round(c/r*100)}),{success:!0,name:g}}catch(v){return console.error(`[PluginLoader] Failed to load ${m}`,v),Kr.failedPlugins.push({name:g,error:v.message}),{success:!1,name:g,error:v.message}}})),h=Kr.failedPlugins.length;Vr({isLoading:!1,progress:100,status:h>0?`Loaded ${c} plugins (${h} failed)`:`Loaded ${c} plugins`})}catch(a){console.error("[PluginLoader] Error loading plugins:",a),Vr({isLoading:!1,error:a.message,status:"Failed to load plugins"})}}function ab(a){return new Promise((n,r)=>{const s=document.createElement("script"),l=`v=${Date.now()}`;s.src=a.includes("?")?`${a}&${l}`:`${a}?${l}`,s.onload=n,s.onerror=r,document.body.appendChild(s)})}const Pw=E.createContext(null),rb={success:{icon:"",className:"toast-success"},error:{icon:"",className:"toast-error"},warning:{icon:"",className:"toast-warning"},info:{icon:"",className:"toast-info"}};function YO({id:a,type:n,message:r,duration:s,onRemove:l,action:c,actionLabel:d}){const[h,m]=E.useState(!1),g=rb[n]||rb.info;E.useEffect(()=>{if(s>0){const x=setTimeout(()=>{m(!0),setTimeout(()=>l(a),300)},s);return()=>clearTimeout(x)}},[a,s,l]);const v=()=>{m(!0),setTimeout(()=>l(a),300)},b=()=>{c&&c(),v()};return p.jsxs("div",{className:`toast ${g.className} ${h?"toast-exit":""}`,children:[p.jsx("span",{className:"toast-icon",children:g.icon}),p.jsx("span",{className:"toast-message",children:r}),c&&d&&p.jsx("button",{className:"toast-action",onClick:b,children:d}),p.jsx("button",{className:"toast-close",onClick:v,children:""})]})}function FO({children:a}){const[n,r]=E.useState([]);let s=0;const l=E.useCallback((h,m,g={})=>{const v=++s,b=typeof g=="number"?g:g.duration??4e3,x=typeof g=="object"?g.action:null,k=typeof g=="object"?g.actionLabel:null;return r(_=>[..._,{id:v,type:h,message:m,duration:b,action:x,actionLabel:k}]),v},[]),c=E.useCallback(h=>{r(m=>m.filter(g=>g.id!==h))},[]),d={success:(h,m)=>l("success",h,m),error:(h,m)=>l("error",h,typeof m=="number"?m:{duration:6e3,...m}),warning:(h,m)=>l("warning",h,m),info:(h,m)=>l("info",h,m),dismiss:c,dismissAll:()=>r([])};return p.jsxs(Pw.Provider,{value:d,children:[a,p.jsx("div",{className:"toast-container",children:n.map(h=>p.jsx(YO,{id:h.id,type:h.type,message:h.message,duration:h.duration,onRemove:c,action:h.action,actionLabel:h.actionLabel},h.id))})]})}function ap(){const a=E.useContext(Pw);return a||{success:()=>{},error:()=>{},warning:()=>{},info:()=>{},dismiss:()=>{},dismissAll:()=>{}}}function PO(){const a=ap();return E.useEffect(()=>(typeof window<"u"&&(window.T2Toast=a),()=>{typeof window<"u"&&(window.T2Toast=null)}),[a]),null}typeof window<"u"&&(window.T2Toast=null);const ib=window.location.pathname.includes("/api/hassio/ingress/");function ZO({onSave:a,onLoad:n,onLoadExample:r,onClear:s,onExport:l,onImport:c,hasUnsavedChanges:d,isMerged:h=!1,onToggleMerged:m}){const[g,v]=E.useState(!1),[b,x]=E.useState(!1),[k,_]=E.useState(!1),[Z,q]=E.useState([]),[W,K]=E.useState(!1),[B,Y]=E.useState(!1),[fe,be]=E.useState(!1),[H,de]=E.useState(null),ie=ap(),[pe,Be]=E.useState(()=>{const C=localStorage.getItem("dock-position");return C?JSON.parse(C):{x:20,y:20}}),[Ae,Je]=E.useState(!1),[rt,We]=E.useState({x:0,y:0}),[O,V]=E.useState(!0),[Q,me]=E.useState(!0),[U,S]=E.useState(!1),[M,j]=E.useState(new Date),[R,ce]=E.useState({backend:ye.connected,ha:{connected:!1,wsConnected:!1,deviceCount:0},hue:{connected:!1,deviceCount:0},kasa:{connected:!1,deviceCount:0}}),[ve,Oe]=E.useState({loaded:0,failed:0,total:0}),[Ge,He]=E.useState({running:!1,nodeCount:0,tickCount:0,registeredNodeTypes:0});let Ze;const St=E.useRef(null),_t=E.useRef(null);E.useEffect(()=>{(async()=>{try{const L=await fetch("/api/version");if(L.ok){const ue=await L.json();de(ue.version)}}catch{}})()},[]),E.useEffect(()=>{Ze=Fw(L=>{let ue=0,he=L.totalCount||0;window.nodeRegistry&&typeof window.nodeRegistry.getAll=="function"?(ue=window.nodeRegistry.getAll().length,(!he||ue>he)&&(he=ue)):ue=L.loadedCount,Oe({loaded:ue,failed:L.failedPlugins?.length||0,total:he})});const C=L=>{L.target.tagName==="INPUT"||L.target.tagName==="TEXTAREA"||L.target.isContentEditable||(L.key==="?"||L.shiftKey&&L.code==="Slash")&&(L.preventDefault(),x(!0))};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[]),E.useEffect(()=>{const C=()=>{ce(Me=>({...Me,backend:!0})),ye.emit("request-hue-status")},L=()=>ce(Me=>({...Me,backend:!1})),ue=Me=>ce(it=>({...it,ha:{connected:Me.connected,wsConnected:Me.wsConnected,deviceCount:Me.deviceCount||0}})),he=Me=>{Me.hue&&ce(it=>({...it,hue:Me.hue})),Me.kasa&&ce(it=>({...it,kasa:Me.kasa}))},we=Me=>{ce(it=>({...it,hue:{connected:Me.connected,deviceCount:Me.deviceCount||0,bridgeIp:Me.bridgeIp||null}}))};ye.on("connect",C),ye.on("disconnect",L),ye.on("ha-connection-status",ue),ye.on("device-counts",he),ye.on("hue-connection-status",we);const Ne=Me=>He(Me),Ve=Me=>He(it=>({...it,...Me,running:!0})),Xe=Me=>He(it=>({...it,...Me,running:!1}));ye.on("engine-status",Ne),ye.on("engine-started",Ve),ye.on("engine-stopped",Xe),ce(Me=>({...Me,backend:ye.connected})),ye.connected&&(ye.emit("request-hue-status"),ye.emit("request-engine-status"));const st=qO();let Ue=0,$e=st.totalCount||0;return window.nodeRegistry&&typeof window.nodeRegistry.getAll=="function"?(Ue=window.nodeRegistry.getAll().length,(!$e||Ue>$e)&&($e=Ue)):Ue=st.loadedCount,Oe({loaded:Ue,failed:st.failedPlugins?.length||0,total:$e}),()=>{ye.off("connect",C),ye.off("disconnect",L),ye.off("ha-connection-status",ue),ye.off("device-counts",he),ye.off("hue-connection-status",we),ye.off("engine-status",Ne),ye.off("engine-started",Ve),ye.off("engine-stopped",Xe),Ze&&Ze()}},[]),E.useEffect(()=>{const C=setInterval(()=>{j(new Date)},1e3);return()=>clearInterval(C)},[]);const In=()=>{const C={weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"};return M.toLocaleDateString("en-US",C)};E.useEffect(()=>{localStorage.setItem("dock-position",JSON.stringify(pe))},[pe]);const dn=C=>{h||C.target.closest(".dock-header")&&(Je(!0),We({x:C.clientX-pe.x,y:C.clientY-pe.y}))},Pt=C=>{Ae&&Be({x:C.clientX-rt.x,y:C.clientY-rt.y})},qn=()=>{Je(!1)};E.useEffect(()=>{if(Ae)return window.addEventListener("mousemove",Pt),window.addEventListener("mouseup",qn),()=>{window.removeEventListener("mousemove",Pt),window.removeEventListener("mouseup",qn)}},[Ae,rt]);const Ye=()=>{_t.current?.click()},F=C=>{const L=C.target.files?.[0];if(L){const ue=new FileReader;ue.onload=he=>{try{const we=JSON.parse(he.target.result);c(we)}catch(we){console.error("Failed to parse JSON:",we),alert("Invalid JSON file")}},ue.readAsText(L)}C.target.value=""},se=async()=>{_(!0),K(!0);try{const C=await un("/api/engine/graphs");if(C.ok){const L=await C.json();q(L.graphs||[])}else ie.error("Failed to load graphs list"),q([])}catch(C){console.error("Failed to fetch server graphs:",C),ie.error("Failed to connect to server"),q([])}finally{K(!1)}},ee=async C=>{try{const L=await un(`/api/engine/graphs/${encodeURIComponent(C)}`);if(L.ok){const ue=await L.json();ue.graph&&(c(ue.graph),_(!1),ie.success(`Loaded: ${C.replace(".json","")}`))}else ie.error("Failed to load graph")}catch(L){console.error("Failed to load graph:",L),ie.error("Failed to load graph")}},_e=async(C,L)=>{L.stopPropagation();try{const ue=await un(`/api/engine/graphs/${encodeURIComponent(C)}`);if(ue.ok){const he=await ue.json();if(he.graph){const we=new Blob([JSON.stringify(he.graph,null,2)],{type:"application/json"}),Ne=URL.createObjectURL(we),Ve=document.createElement("a");Ve.href=Ne,Ve.download=C.endsWith(".json")?C:`${C}.json`,Ve.click(),URL.revokeObjectURL(Ne),ie.success(`Downloaded: ${C.replace(".json","")}`)}}else ie.error("Failed to download graph")}catch(ue){console.error("Failed to download graph:",ue),ie.error("Failed to download graph")}},Se=async()=>{if(!B){Y(!0);try{const C=await un("/api/update/check?force=true");if(!C.ok){const ue=await C.text();throw new Error(ue||`HTTP ${C.status}`)}const L=await C.json();if(L.isAddon){L.hasUpdate?ie.info(" Add-on updates are available through Home Assistant  Settings  Add-ons  T2AutoTron",{duration:6e3}):ie.success(` You're up to date! (v${L.currentVersion})`,4e3);return}L.hasUpdate?ie.info(` Update available: ${L.currentVersion}  ${L.newVersion}`,{duration:0,actionLabel:"View Details",action:()=>{ye.emit("request-show-update-modal",L),window.dispatchEvent(new CustomEvent("showUpdateModal",{detail:L}))}}):ie.success(` You're up to date! (v${L.currentVersion})`,4e3)}catch(C){console.error("Failed to check for updates:",C),ie.error("Failed to check for updates: "+C.message,5e3)}finally{Y(!1)}}},oe=async()=>{if(!fe){be(!0);try{const C=await un("/api/update/plugins/check");if(!C.ok)throw new Error(`HTTP ${C.status}`);const L=await C.json();if(!L.hasUpdates){ie.success(" Plugins are up to date!",3e3);return}const ue=(L.newPlugins?.length||0)+(L.modifiedPlugins?.length||0);ie.info(` ${ue} plugin update(s) available. Downloading...`,3e3);const he=await un("/api/update/plugins",{method:"POST"});if(!he.ok)throw new Error(`HTTP ${he.status}`);const we=await he.json();we.success&&we.updated?.length>0?ie.success(` Updated ${we.updated.length} plugin(s). Refresh page to load them.`,{duration:0,actionLabel:"Refresh Now",action:()=>window.location.reload()}):we.updated?.length===0?ie.info("No plugins needed updating",3e3):ie.error("Plugin update failed: "+(we.error||"Unknown error"),5e3)}catch(C){console.error("Failed to update plugins:",C),ie.error("Failed to update plugins: "+C.message,5e3)}finally{be(!1)}}};return p.jsxs("div",{ref:St,className:`dock-container ${h?"dock-merged":""}`,style:{...h?{cursor:"default"}:{left:`${pe.x}px`,top:`${pe.y}px`,cursor:Ae?"grabbing":"default"}},onMouseDown:dn,children:[p.jsxs("div",{className:"dock-header",style:{cursor:h?"default":"grab"},children:[p.jsxs("div",{className:"dock-header-row",children:[p.jsx("span",{className:"dock-title",children:" Control Panel"}),p.jsx("button",{type:"button",className:"dock-btn-small",onClick:C=>{C.stopPropagation(),m?.()},onMouseDown:C=>C.stopPropagation(),title:h?"Pop Control Panel back out":"Merge Control Panel into the Forecast panel",children:h?"Pop out":"Merge"})]}),p.jsx("span",{className:"dock-datetime",children:In()})]}),p.jsxs("div",{className:"dock-section",children:[p.jsx("div",{className:"dock-section-header",onClick:()=>V(!O),children:p.jsxs("span",{children:[O?"":""," Graph Tools ",d&&p.jsx("span",{className:"unsaved-dot",title:"Unsaved changes",children:""})]})}),O&&p.jsxs("div",{className:"dock-section-content",children:[p.jsxs("button",{onClick:a,className:`dock-btn ${d?"dock-btn-unsaved":""}`,children:[" Save ",d&&"*"]}),p.jsx("button",{onClick:n,className:"dock-btn",children:" Load Last"}),p.jsx("button",{onClick:se,className:"dock-btn",title:"Load a saved graph from the server",children:" Saved Graphs"}),p.jsx("button",{onClick:r,className:"dock-btn",title:"Load a starter graph to see how things work",children:" Load Example"}),p.jsx("button",{onClick:Ye,className:"dock-btn",children:" Import File"}),p.jsx("button",{onClick:l,className:"dock-btn",title:"Download current graph as JSON file to your computer",children:" Download Graph"}),p.jsx("button",{onClick:s,className:"dock-btn",children:" Clear"}),p.jsx("button",{onClick:()=>ye.emit(Ge.running?"stop-engine":"start-engine"),className:`dock-btn ${Ge.running?"dock-btn-active":""}`,title:Ge.running?"Stop backend engine":"Start backend engine (runs automations 24/7)",children:Ge.running?" Stop Engine":" Start Engine"}),p.jsx("input",{ref:_t,type:"file",accept:".json",style:{display:"none"},onChange:F})]})]}),p.jsxs("div",{className:"dock-section",children:[p.jsx("div",{className:"dock-section-header",onClick:()=>me(!Q),children:p.jsxs("span",{children:[Q?"":""," Connection Status"]})}),Q&&p.jsxs("div",{className:"dock-section-content dock-status-grid",children:[p.jsxs("div",{className:`dock-status-item ${R.backend?"connected":"disconnected"}`,children:[p.jsx("span",{className:"dock-status-dot"}),p.jsx("span",{className:"dock-status-label",children:"Backend"}),p.jsx("span",{className:"dock-status-value",children:R.backend?"Connected":"Offline"})]}),p.jsxs("div",{className:`dock-status-item ${R.ha.connected?"connected":"disconnected"}`,children:[p.jsx("span",{className:"dock-status-dot"}),p.jsx("span",{className:"dock-status-label",children:"Home Assistant"}),p.jsx("span",{className:"dock-status-value",children:R.ha.connected?`${R.ha.deviceCount} devices`:"Offline"})]}),p.jsxs("div",{className:`dock-status-item ${R.hue.connected?"connected":"disconnected"}`,children:[p.jsx("span",{className:"dock-status-dot"}),p.jsx("span",{className:"dock-status-label",children:"Philips Hue"}),p.jsx("span",{className:"dock-status-value",children:R.hue.connected?`${R.hue.deviceCount||0} lights${R.hue.bridgeIp?` (${R.hue.bridgeIp})`:""}`:"Offline"})]}),R.kasa.deviceCount>0&&p.jsxs("div",{className:`dock-status-item ${R.kasa.connected?"connected":"disconnected"}`,children:[p.jsx("span",{className:"dock-status-dot"}),p.jsx("span",{className:"dock-status-label",children:"Kasa"}),p.jsxs("span",{className:"dock-status-value",children:[R.kasa.deviceCount," devices"]})]}),p.jsxs("div",{className:"dock-status-item plugins",children:[p.jsx("span",{className:"dock-status-dot",style:{background:ve.failed>0?"#f59e0b":"#10b981"}}),p.jsx("span",{className:"dock-status-label",children:"Plugins"}),p.jsx("span",{className:"dock-status-value",children:ve.total>0?`${ve.loaded} / ${ve.total} loaded${ve.failed>0?` (${ve.failed} failed)`:""}`:`${ve.loaded} loaded`})]}),p.jsxs("div",{className:`dock-status-item ${Ge.running?"connected":"disconnected"}`,children:[p.jsx("span",{className:"dock-status-dot",style:{background:Ge.running?"#10b981":"#6b7280"}}),p.jsx("span",{className:"dock-status-label",children:"Engine"}),p.jsx("span",{className:"dock-status-value",children:Ge.running?`Running (${Ge.nodeCount} nodes)`:"Stopped"})]})]})]}),p.jsx(YC,{isExpanded:U,onToggle:()=>S(!U)}),p.jsxs("div",{className:"dock-section",children:[p.jsxs("div",{className:"dock-section-content",children:[p.jsx("button",{onClick:()=>v(!0),className:"dock-btn dock-btn-settings",children:" Settings & API Keys"}),p.jsx("button",{onClick:()=>x(!0),className:"dock-btn dock-btn-help",children:" Keyboard Shortcuts"}),p.jsx("button",{onClick:async()=>{let C=H||"unknown";try{const we=await fetch("/api/version");we.ok&&(C=(await we.json()).version||C)}catch{}const L={version:C,userAgent:navigator.userAgent,isAddon:ib,backend:R.backend,ha:R.ha.connected,engine:Ge.running,plugins:ve.loaded},ue=Object.entries(L).map(([we,Ne])=>`- **${we}**: ${Ne}`).join(`
`),he=new URL("https://github.com/gregtee2/T2AutoTron/issues/new");he.searchParams.set("template","bug_report.md"),he.searchParams.set("title","[Bug]: "),he.searchParams.set("body",`##  Environment (auto-filled)
${ue}

##  Bug Description
<!-- Describe what went wrong -->

`),window.open(he.toString(),"_blank")},className:"dock-btn dock-btn-bug",title:"Report a bug on GitHub",children:" Report Bug"}),p.jsx("button",{onClick:()=>{const C=`${window.location.origin}/tools/debug_dashboard.html`;window.open(C,"_blank")},className:"dock-btn",title:"Open Debug Dashboard in new tab",children:" Debug Dashboard"}),ib?p.jsx("button",{onClick:()=>ie.info(" Add-on updates are available through Home Assistant  Settings  Add-ons  T2AutoTron  Update",{duration:8e3}),className:"dock-btn dock-btn-update",title:"Updates are managed by Home Assistant Supervisor",children:" Update via HA"}):p.jsx("button",{onClick:Se,disabled:B,className:"dock-btn dock-btn-update",title:"Check for available updates (full rebuild)",children:B?" Checking...":" Check for Updates"}),p.jsx("button",{onClick:oe,disabled:fe,className:"dock-btn dock-btn-plugins",title:"Hot-update plugins without restart",children:fe?" Updating...":" Update Plugins"})]}),H&&p.jsxs("div",{className:"dock-version",title:"T2AutoTron version",children:["v",H]})]}),p.jsx(VC,{isOpen:g,onClose:()=>v(!1)}),p.jsx(GC,{isOpen:b,onClose:()=>x(!1)}),k&&p.jsx("div",{className:"modal-overlay",onClick:()=>_(!1),children:p.jsxs("div",{className:"modal server-graphs-modal",onClick:C=>C.stopPropagation(),children:[p.jsxs("div",{className:"modal-header",children:[p.jsx("h2",{children:" Saved Graphs"}),p.jsx("button",{className:"modal-close",onClick:()=>_(!1),children:""})]}),p.jsx("div",{className:"modal-body",children:W?p.jsx("div",{className:"loading-message",children:"Loading graphs..."}):Z.length===0?p.jsxs("div",{className:"empty-message",children:[p.jsx("p",{children:"No saved graphs found."}),p.jsx("p",{style:{fontSize:"0.9em",opacity:.7},children:'Create a graph and click "Save" to save it to the server.'})]}):p.jsx("div",{className:"graphs-list",children:Z.map((C,L)=>p.jsxs("div",{className:"graph-item",children:[p.jsxs("div",{className:"graph-info",onClick:()=>ee(C.name),title:"Click to load this graph",children:[p.jsx("span",{className:"graph-name",children:C.displayName}),p.jsx("span",{className:"graph-date",children:new Date(C.modified).toLocaleDateString()})]}),p.jsx("button",{className:"graph-download-btn",onClick:ue=>_e(C.name,ue),title:"Download this graph to your computer",children:""})]},L))})})]})})]})}function XO({dockSlotRef:a}){const[n,r]=E.useState(!0),[s,l]=E.useState(!0),[c,d]=E.useState(null),[h,m]=E.useState(null),[g,v]=E.useState(ye?.connected??!1),[b,x]=E.useState({connected:!1,wsConnected:!1,deviceCount:0}),[k,_]=E.useState(new Map),[Z,q]=E.useState(()=>parseInt(localStorage.getItem("forecastPanelWidth"))||320),[W,K]=E.useState(()=>parseInt(localStorage.getItem("devicesOnHeight"))||200),[B,Y]=E.useState(null),[fe,be]=E.useState(null),H=E.useRef(null);E.useEffect(()=>{(async()=>{try{const V=await un(En("/api/settings"));if(V.ok){const Q=await V.json(),me={tempSensor:Q.FORECAST_TEMP_SENSOR||null,windSensor:Q.FORECAST_WIND_SENSOR||null,windDirSensor:Q.FORECAST_WIND_DIR_SENSOR||null,rainSensor:Q.FORECAST_RAIN_SENSOR||null};(me.tempSensor||me.windSensor||me.windDirSensor||me.rainSensor)&&(be(me),de(me))}}catch(V){console.warn("Could not fetch forecast sensor config:",V)}})()},[]);const de=async O=>{if(!O)return;const V={source:"ha-sensors"};try{if(O.tempSensor){const Q=await un(En(`/api/lights/ha/${O.tempSensor}/state`));if(Q.ok){const me=await Q.json();V.temp=parseFloat(me.state)}}if(O.windSensor){const Q=await un(En(`/api/lights/ha/${O.windSensor}/state`));if(Q.ok){const me=await Q.json();V.windSpeed=parseFloat(me.state)}}if(O.windDirSensor){const Q=await un(En(`/api/lights/ha/${O.windDirSensor}/state`));if(Q.ok){const me=await Q.json();V.windDir=parseFloat(me.state)}}if(O.rainSensor){const Q=await un(En(`/api/lights/ha/${O.rainSensor}/state`));if(Q.ok){const me=await Q.json();V.rainRate=parseFloat(me.state)}}V.temp!==void 0&&Y(Q=>({...Q,...V}))}catch(Q){console.warn("Error fetching sensor values:",Q)}};E.useEffect(()=>{if(!ye)return;const O=()=>{v(!0),ye.emit("request-ha-status")},V=()=>{v(!1),x({connected:!1,wsConnected:!1,deviceCount:0})},Q=S=>{x(S)};ye.on("connect",O),ye.on("disconnect",V),ye.on("ha-connection-status",Q),ye.on("forecast-update",S=>{d(S)});const me=S=>{Y(M=>M?.source==="ha-sensors"||fe?.tempSensor?M:{temp:S.tempf,humidity:S.humidity,windSpeed:S.windspeedmph,windDir:S.winddir,rainRate:S.hourlyrainin,dailyRain:S.dailyrainin,source:S._source||"ambient"})};ye.on("weather-update",me),fe?.tempSensor||ye.emit("request-weather-update");const U=S=>{const{id:M,state:j,on:R,name:ce}=S;if(!M)return;if(fe){const He=M.replace("ha_","");if(He===fe.tempSensor){const Ze=parseFloat(j);isNaN(Ze)||Y(St=>({...St,temp:Ze,source:"ha-sensors"}))}else if(He===fe.windSensor){const Ze=parseFloat(j);isNaN(Ze)||Y(St=>({...St,windSpeed:Ze}))}else if(He===fe.windDirSensor){const Ze=parseFloat(j);isNaN(Ze)||Y(St=>({...St,windDir:Ze}))}else if(He===fe.rainSensor){const Ze=parseFloat(j);isNaN(Ze)||Y(St=>({...St,rainRate:Ze}))}}const ve=R!==void 0?R:j==="on"||j==="playing"||j==="open",Oe=ce||S.friendly_name||S.attributes?.friendly_name||M.replace("ha_","").replace("kasa_","").replace(/\./g," ").replace(/_/g," ");(M.includes("light.")||M.includes("switch.")||M.startsWith("kasa_"))&&_(He=>{const Ze=new Map(He);return ve?Ze.set(M,{name:Oe,on:!0}):Ze.delete(M),Ze})};return ye.on("device-state-update",U),ye.emit("request-forecast"),ye.connected&&(v(!0),ye.emit("request-ha-status")),()=>{ye.off("connect",O),ye.off("disconnect",V),ye.off("ha-connection-status",Q),ye.off("forecast-update"),ye.off("weather-update",me),ye.off("device-state-update",U)}},[fe]);const ie=()=>{ye?.emit("request-forecast"),fe?.tempSensor?de(fe):ye?.emit("request-weather-update")},pe=O=>{if(O==null)return"";const V=["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"],Q=Math.round(O/22.5)%16;return V[Q]},Be=O=>{const V=(O||"").toLowerCase();return V.includes("clear")||V.includes("sun")?p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#FFD700",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("circle",{cx:"12",cy:"12",r:"5"}),p.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),p.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),p.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),p.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),p.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),p.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),p.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),p.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):V.includes("rain")||V.includes("drizzle")||V.includes("shower")?p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#4facfe",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M20 16.2A4.5 4.5 0 0 0 17.5 8h-1.8A7 7 0 1 0 4 14.9"}),p.jsx("line",{x1:"8",y1:"19",x2:"8",y2:"21"}),p.jsx("line",{x1:"8",y1:"13",x2:"8",y2:"15"}),p.jsx("line",{x1:"16",y1:"19",x2:"16",y2:"21"}),p.jsx("line",{x1:"16",y1:"13",x2:"16",y2:"15"}),p.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),p.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"17"})]}):V.includes("partly")||V.includes("partial")||V.includes("few")?p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M13 2v2",stroke:"#FFD700"}),p.jsx("path",{d:"M3 13h2",stroke:"#FFD700"}),p.jsx("path",{d:"M20 13h2",stroke:"#FFD700"}),p.jsx("path",{d:"M5.6 5.6l1.4 1.4",stroke:"#FFD700"}),p.jsx("path",{d:"M18.4 5.6l-1.4 1.4",stroke:"#FFD700"}),p.jsx("circle",{cx:"13",cy:"9",r:"4",stroke:"#FFD700"}),p.jsx("path",{d:"M17 17h-10a4 4 0 0 1 0-8h.5a5.5 5.5 0 0 1 10.5 3h.5a3 3 0 0 1 0 6z",stroke:"#B0C4DE",fill:"none"})]}):V.includes("snow")||V.includes("flurr")?p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#B0E0E6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"}),p.jsx("line",{x1:"8",y1:"16",x2:"8",y2:"16.01"}),p.jsx("line",{x1:"8",y1:"20",x2:"8",y2:"20.01"}),p.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"18.01"}),p.jsx("line",{x1:"12",y1:"22",x2:"12",y2:"22.01"}),p.jsx("line",{x1:"16",y1:"16",x2:"16",y2:"16.01"}),p.jsx("line",{x1:"16",y1:"20",x2:"16",y2:"20.01"})]}):V.includes("thunder")||V.includes("storm")?p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#9370DB",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"}),p.jsx("polyline",{points:"13 11 9 17 15 17 11 23",stroke:"#FFD700",fill:"none"})]}):V.includes("fog")||V.includes("mist")||V.includes("haze")?p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#A9A9A9",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"}),p.jsx("line",{x1:"3",y1:"20",x2:"21",y2:"20"}),p.jsx("line",{x1:"3",y1:"17",x2:"21",y2:"17"})]}):p.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#B0C4DE",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("path",{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"})})},Ae=O=>{if(!O)return{day:"",date:""};let V;if(typeof O=="string"&&O.match(/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun)/i)){const U=O.match(/(\w+),\s*(\w+)\s*(\d+)/);return U?{day:`${U[1]}, ${U[2]}`,date:U[3]}:{day:O,date:""}}if(V=new Date(parseInt(O)||O),isNaN(V.getTime()))return{day:O,date:""};const Q=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],me=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return{day:`${Q[V.getUTCDay()]}, ${me[V.getUTCMonth()]}`,date:`${V.getUTCDate()}`}},Je=()=>{if(!c||!c.length)return p.jsx("div",{className:"forecast-empty",children:"No forecast data"});if(h!==null){const O=c[h],V=Ae(O.date||O.day);return p.jsxs("div",{className:"forecast-detail",children:[p.jsxs("div",{className:"forecast-detail-header",children:[p.jsx("button",{className:"detail-back-btn",onClick:()=>m(null),children:" Back"}),p.jsxs("span",{className:"detail-date",children:[V.day," ",V.date]})]}),p.jsxs("div",{className:"detail-main",children:[p.jsx("div",{className:"detail-icon",children:Be(O.conditions||O.condition)}),p.jsxs("div",{className:"detail-temps",children:[p.jsxs("div",{className:"detail-high",children:[O.high,""]}),p.jsxs("div",{className:"detail-low",children:[O.low,""]})]}),p.jsx("div",{className:"detail-condition",children:O.conditions||O.condition||"N/A"})]}),O.description&&p.jsx("div",{className:"detail-description",children:O.description}),p.jsxs("div",{className:"detail-stats",children:[p.jsxs("div",{className:"detail-stat",children:[p.jsx("span",{className:"stat-label",children:"Precipitation"}),p.jsx("span",{className:"stat-value",children:O.precipitation||O.precip||"0%"})]}),O.humidity&&p.jsxs("div",{className:"detail-stat",children:[p.jsx("span",{className:"stat-label",children:"Humidity"}),p.jsxs("span",{className:"stat-value",children:[O.humidity,"%"]})]}),O.wind&&p.jsxs("div",{className:"detail-stat",children:[p.jsx("span",{className:"stat-label",children:"Wind"}),p.jsx("span",{className:"stat-value",children:O.wind})]}),(O.sunrise||O.sunset)&&p.jsxs("div",{className:"detail-sun-times",children:[O.sunrise&&p.jsxs("div",{className:"detail-stat",children:[p.jsx("span",{className:"stat-label",children:" Sunrise"}),p.jsx("span",{className:"stat-value",children:O.sunrise})]}),O.sunset&&p.jsxs("div",{className:"detail-stat",children:[p.jsx("span",{className:"stat-label",children:" Sunset"}),p.jsx("span",{className:"stat-value",children:O.sunset})]})]})]})]})}return c.slice(0,5).map((O,V)=>{const Q=Ae(O.date||O.day),me=V===0;return p.jsxs("div",{className:`forecast-card ${me&&B?"forecast-card-today":""}`,onClick:()=>m(V),children:[p.jsxs("div",{className:"forecast-row-top",children:[p.jsxs("div",{className:"forecast-date",children:[p.jsx("span",{className:"date-day",children:Q.day}),p.jsx("span",{className:"date-num",children:Q.date})]}),p.jsx("div",{className:"forecast-icon",children:Be(O.conditions||O.condition)})]}),me&&B&&p.jsxs("div",{className:"station-data",children:[p.jsxs("div",{className:"station-current-temp",children:[Math.round(B.temp),"",p.jsx("span",{className:"station-label",children:"now"})]}),p.jsxs("div",{className:"station-details",children:[p.jsxs("span",{className:"station-detail",title:"Wind",children:[" ",Math.round(B.windSpeed||0)," mph ",pe(B.windDir)]}),B.rainRate>0&&p.jsxs("span",{className:"station-detail station-rain",title:"Rain Rate",children:[" ",B.rainRate.toFixed(2),'"/hr']})]})]}),p.jsxs("div",{className:"forecast-row-bottom",children:[p.jsxs("span",{className:"temp-low",children:[O.low,""]}),p.jsxs("span",{className:"temp-high",children:[O.high,""]}),p.jsxs("span",{className:"precip-group",children:[p.jsxs("svg",{className:"precip-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M20 16.2A4.5 4.5 0 0 0 17.5 8h-1.8A7 7 0 1 0 4 14.9"}),p.jsx("path",{d:"M16 14v4"}),p.jsx("path",{d:"M8 14v4"}),p.jsx("path",{d:"M12 16v4"})]}),p.jsx("span",{className:"precip-value",children:O.precipitation||O.precip||"0%"})]})]})]},V)})},rt=O=>{O.preventDefault();const V=O.clientX,Q=Z,me=S=>{const M=V-S.clientX,j=Math.max(250,Math.min(500,Q+M));q(j),localStorage.setItem("forecastPanelWidth",j)},U=()=>{document.removeEventListener("mousemove",me),document.removeEventListener("mouseup",U)};document.addEventListener("mousemove",me),document.addEventListener("mouseup",U)},We=O=>{O.preventDefault(),O.stopPropagation();const V=O.clientY,Q=W,me=S=>{const M=V-S.clientY,j=Math.max(100,Math.min(500,Q+M));K(j),localStorage.setItem("devicesOnHeight",j)},U=()=>{document.removeEventListener("mousemove",me),document.removeEventListener("mouseup",U)};document.addEventListener("mousemove",me),document.addEventListener("mouseup",U)};return p.jsxs("div",{className:"forecast-panel",style:{width:Z},children:[p.jsx("div",{className:"forecast-resize-handle",ref:H,onMouseDown:rt,children:p.jsx("div",{className:"forecast-resize-grip"})}),p.jsxs("div",{className:"forecast-panel-header",onClick:()=>r(!n),children:[p.jsx("span",{children:"5-Day Forecast"}),p.jsx("button",{onClick:O=>{O.stopPropagation(),ie()},className:"forecast-refresh-btn",children:"Refresh"})]}),n&&p.jsx("div",{className:"forecast-panel-content",children:Je()}),p.jsx("div",{className:"forecast-dock-slot",ref:a}),p.jsxs("div",{className:"devices-on-section",style:{height:s?W:"auto"},children:[p.jsx("div",{className:"devices-resize-handle",onMouseDown:We,children:p.jsx("div",{className:"devices-resize-grip"})}),p.jsxs("div",{className:"devices-on-header",onClick:()=>l(!s),children:[p.jsxs("span",{children:["Devices ON (",k.size,")"]}),p.jsx("span",{className:"expand-icon",children:s?"":""})]}),s&&p.jsx("div",{className:"devices-on-list",children:k.size===0?p.jsx("div",{className:"no-devices",children:"All devices off"}):Array.from(k.values()).sort((O,V)=>O.name.localeCompare(V.name)).map((O,V)=>p.jsxs("div",{className:"device-on-item",children:[p.jsx("span",{className:"device-on-indicator"}),p.jsx("span",{className:"device-on-name",children:O.name})]},V))})]}),p.jsxs("div",{className:"status-indicators",children:[p.jsx("div",{className:`connection-status ${g?"connected":"disconnected"}`,children:g?"Backend":"Backend X"}),p.jsx("div",{className:`connection-status ${b.connected?"connected":"disconnected"}`,children:b.connected?`HA (${b.deviceCount})`:"HA X"})]})]})}function KO({width:a=180,panelRef:n,dropActive:r=!1,favoriteGroups:s=[],onAddFavorite:l,onRemoveFavorite:c,onCreateNode:d}){const h=window.T2Controls?.Tooltip,m=`Drag a node onto this panel to add it to Favorites.
Click a favorite to add that node to the canvas.
Right-click a favorite to remove it.`,g=(s||[]).reduce((b,x)=>b+(x?.labels||[]).length,0),v=b=>{const x=(b||"").toString().trim();x&&c?.(x)};return p.jsxs("div",{ref:n,className:`favorites-panel ${r?"drop-active":""}`,style:{width:a},onMouseDown:b=>b.stopPropagation(),children:[p.jsx("div",{className:"favorites-header",children:p.jsxs("div",{className:"favorites-header-row",children:[p.jsx("span",{className:"favorites-title",children:" Favorites"}),h?p.jsx(h,{text:m,position:"bottom",children:p.jsx("span",{className:"favorites-help-fallback",children:"?"})}):p.jsx("span",{className:"favorites-help-fallback",title:m,children:"?"})]})}),p.jsx("div",{className:"favorites-list",children:g===0?p.jsx("div",{className:"favorites-empty",children:"No favorites yet"}):s.map(b=>{const x=(b?.category||"Other").toString(),k=Array.isArray(b?.labels)?b.labels:[];return k.length===0?null:p.jsxs("div",{className:"favorites-group",children:[p.jsx("div",{className:"favorites-divider",children:p.jsx("span",{className:"favorites-divider-text",children:x})}),k.map(_=>p.jsx("button",{type:"button",className:"favorites-item-btn",onClick:()=>d?.(_),onContextMenu:Z=>{Z.preventDefault(),Z.stopPropagation(),v(_)},title:"Click: add to canvas  Right-click: remove",children:_},`${x}:${_}`))]},x)})})]})}function QO({isOpen:a,onClose:n,onSave:r,currentGraphData:s}){const[l,c]=E.useState(""),[d,h]=E.useState([]),[m,g]=E.useState(!1),[v,b]=E.useState(!1),[x,k]=E.useState(null),_=E.useRef(null);E.useEffect(()=>{a&&(Z(),setTimeout(()=>_.current?.focus(),100))},[a]);const Z=async()=>{g(!0),k(null);try{const Y=await(await fetch(En("/api/engine/graphs"))).json();Y.success?h(Y.graphs||[]):k("Failed to load existing graphs")}catch(B){console.error("[SaveModal] Error fetching graphs:",B),k("Failed to connect to server")}finally{g(!1)}},q=async()=>{if(!l.trim()){k("Please enter a filename");return}b(!0),k(null);try{const Y=await(await fetch(En("/api/engine/save-graph"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filename:l.trim(),graph:s})})).json();Y.success?(window.T2Toast&&window.T2Toast.success(`Saved as "${Y.filename}"`,3e3),r?.(Y.filename),n()):k(Y.error||"Failed to save graph")}catch(B){console.error("[SaveModal] Error saving:",B),k("Failed to save graph")}finally{b(!1)}},W=B=>{B.key==="Enter"&&!v?q():B.key==="Escape"&&n()},K=B=>{const Y=B.replace(".json","");c(Y),_.current?.focus()};return a?p.jsx("div",{className:"save-modal-overlay",onClick:n,children:p.jsxs("div",{className:"save-modal",onClick:B=>B.stopPropagation(),children:[p.jsxs("div",{className:"save-modal-header",children:[p.jsx("h2",{children:" Save Graph"}),p.jsx("button",{className:"save-modal-close",onClick:n,children:""})]}),p.jsxs("div",{className:"save-modal-content",children:[p.jsxs("div",{className:"save-modal-input-section",children:[p.jsx("label",{htmlFor:"graph-filename",children:"Filename:"}),p.jsxs("div",{className:"save-modal-input-row",children:[p.jsx("input",{ref:_,id:"graph-filename",type:"text",value:l,onChange:B=>c(B.target.value),onKeyDown:W,placeholder:"my_automation_graph",disabled:v}),p.jsx("span",{className:"save-modal-extension",children:".json"})]})]}),x&&p.jsxs("div",{className:"save-modal-error",children:[" ",x]}),p.jsxs("div",{className:"save-modal-existing",children:[p.jsxs("h3",{children:["Existing Graphs ",m&&p.jsx("span",{className:"save-modal-loading",children:"loading..."})]}),d.length===0&&!m?p.jsx("p",{className:"save-modal-empty",children:"No saved graphs yet"}):p.jsx("ul",{className:"save-modal-list",children:d.map(B=>p.jsxs("li",{onClick:()=>K(B.name),className:l===B.displayName?"selected":"",title:`Click to overwrite. Modified: ${new Date(B.modified).toLocaleString()}`,children:[p.jsx("span",{className:"graph-name",children:B.displayName}),p.jsx("span",{className:"graph-date",children:new Date(B.modified).toLocaleDateString()})]},B.name))})]})]}),p.jsxs("div",{className:"save-modal-footer",children:[p.jsx("button",{className:"save-modal-btn save-modal-btn-cancel",onClick:n,disabled:v,children:"Cancel"}),p.jsx("button",{className:"save-modal-btn save-modal-btn-save",onClick:q,disabled:v||!l.trim(),children:v?"Saving...":" Save"})]})]})}):null}function WO({visible:a,position:n,items:r,onClose:s,onSelect:l}){const c=E.useRef(null),d=E.useRef(null),[h,m]=E.useState(null),[g,v]=E.useState({x:0,y:0}),[b,x]=E.useState(""),k=E.useRef(null),_=E.useRef(null);E.useEffect(()=>{a&&(x(""),m(null),setTimeout(()=>{d.current?.focus()},50))},[a]);const Z=E.useMemo(()=>{if(!b.trim())return r;const H=b.toLowerCase(),de=[];for(const ie of r)if(ie.subitems)for(const pe of ie.subitems)pe.label&&pe.label.toLowerCase().includes(H)&&de.push({...pe,categoryHint:ie.label});else ie.label&&ie.label.toLowerCase().includes(H)&&de.push(ie);return de},[r,b]),q=b.trim().length>0;E.useEffect(()=>{if(!a)return;const H=ie=>{c.current&&!c.current.contains(ie.target)&&s()},de=ie=>{ie.key==="Escape"&&s()};return document.addEventListener("mousedown",H),document.addEventListener("keydown",de),()=>{document.removeEventListener("mousedown",H),document.removeEventListener("keydown",de)}},[a,s]),E.useEffect(()=>()=>{k.current&&clearTimeout(k.current),_.current&&clearTimeout(_.current)},[]);const W=E.useCallback((H,de,ie)=>{_.current&&(clearTimeout(_.current),_.current=null),de.subitems&&de.subitems.length>0?m(ie):m(null)},[]),K=E.useCallback(()=>{_.current=setTimeout(()=>{m(null)},150)},[]),B=E.useCallback(()=>{_.current&&(clearTimeout(_.current),_.current=null)},[]),Y=E.useCallback(()=>{_.current=setTimeout(()=>{m(null)},100)},[]),fe=E.useCallback(H=>{H.subitems&&H.subitems.length>0||(l(H),s())},[l,s]);if(!a)return null;const be={...n};if(typeof window<"u"){const de=Math.min(Z.length*36+50,400);n.x+220>window.innerWidth&&(be.x=window.innerWidth-220-10),n.y+de>window.innerHeight&&(be.y=Math.max(10,window.innerHeight-de-10))}return p.jsxs("div",{ref:c,className:"fast-context-menu",style:{left:be.x,top:be.y},children:[p.jsxs("div",{className:"fast-menu-search",children:[p.jsx("input",{ref:d,type:"text",placeholder:"Search nodes...",value:b,onChange:H=>x(H.target.value),onClick:H=>H.stopPropagation(),onKeyDown:H=>{if(H.key==="Enter"&&Z.length===1){const de=Z[0];de.subitems||fe(de)}H.stopPropagation()}}),b&&p.jsx("span",{className:"search-clear",onClick:H=>{H.stopPropagation(),x(""),d.current?.focus()},children:""})]}),p.jsx("div",{className:"fast-menu-results",children:Z.length===0?p.jsx("div",{className:"fast-menu-empty",children:"No nodes found"}):q?Z.map((H,de)=>p.jsxs("div",{className:"fast-menu-item search-result",onClick:()=>fe(H),children:[p.jsx("span",{className:"menu-label",children:H.label}),H.categoryHint&&p.jsx("span",{className:"category-hint",children:H.categoryHint})]},H.label||de)):Z.map((H,de)=>p.jsxs("div",{className:`fast-menu-item ${H.subitems?"has-submenu":""} ${h===de?"active":""}`,onMouseEnter:ie=>W(ie,H,de),onMouseLeave:K,onClick:()=>fe(H),children:[H.icon&&p.jsx("span",{className:"menu-icon",children:H.icon}),p.jsx("span",{className:"menu-label",children:H.label}),H.subitems&&p.jsx("span",{className:"submenu-arrow",children:""}),h===de&&H.subitems&&p.jsx("div",{className:"fast-submenu",onMouseEnter:B,onMouseLeave:Y,children:H.subitems.map((ie,pe)=>p.jsx("div",{className:"fast-menu-item",title:ie.description||"",onClick:Be=>{Be.stopPropagation(),fe(ie)},children:p.jsx("span",{className:"menu-label",children:ie.label})},ie.label||pe))})]},H.label||de))})]})}function sb(a){const n=[],r=[];if(!a||typeof a!="object")return{valid:!1,errors:["Graph data is not an object"],warnings:[]};if(!Array.isArray(a.nodes))n.push('Missing or invalid "nodes" array');else{const s=new Set;a.nodes.forEach((l,c)=>{l.id?(s.has(l.id)&&n.push(`Duplicate node ID: ${l.id}`),s.add(l.id)):n.push(`Node at index ${c} is missing "id"`),l.label||n.push(`Node ${l.id||c} is missing "label"`),(!l.position||typeof l.position.x!="number"||typeof l.position.y!="number")&&r.push(`Node ${l.id||c} has invalid position`),l.position&&(!Number.isFinite(l.position.x)||!Number.isFinite(l.position.y))&&n.push(`Node ${l.id||c} has NaN or Infinity in position`)})}if(!Array.isArray(a.connections))n.push('Missing or invalid "connections" array');else{const s=new Set(a.nodes?.map(c=>c.id)||[]),l=new Set;a.connections.forEach((c,d)=>{c.source?s.has(c.source)||n.push(`Connection ${d} references non-existent source node: ${c.source}`):n.push(`Connection at index ${d} is missing "source"`),c.target?s.has(c.target)||n.push(`Connection ${d} references non-existent target node: ${c.target}`):n.push(`Connection at index ${d} is missing "target"`),c.sourceOutput||r.push(`Connection ${d} is missing "sourceOutput"`),c.targetInput||r.push(`Connection ${d} is missing "targetInput"`);const h=`${c.source}:${c.sourceOutput}->${c.target}:${c.targetInput}`;l.has(h)&&r.push(`Duplicate connection: ${h}`),l.add(h),c.source===c.target&&r.push(`Self-connection detected on node ${c.source}`)})}return a.viewport&&((typeof a.viewport.k!="number"||a.viewport.k<=0)&&r.push("Invalid viewport zoom value"),(!Number.isFinite(a.viewport.x)||!Number.isFinite(a.viewport.y))&&r.push("Invalid viewport position")),{valid:n.length===0,errors:n,warnings:r}}function ob(a){const n=[];let r=!1;const s=JSON.parse(JSON.stringify(a));Array.isArray(s.nodes)||(s.nodes=[],n.push("Created empty nodes array"),r=!0),Array.isArray(s.connections)||(s.connections=[],n.push("Created empty connections array"),r=!0);const l=new Set,c=new Set;return s.nodes=s.nodes.filter((d,h)=>{if(!d.id)return n.push(`Removed node at index ${h} (missing ID)`),r=!0,!1;if(c.has(d.id)){const m=`${d.id}_${Date.now()}_${h}`;n.push(`Renamed duplicate node ID ${d.id} to ${m}`),d.id=m,r=!0}return c.add(d.id),l.add(d.id),d.label||(d.label="Unknown Node",n.push(`Set label for node ${d.id} to "Unknown Node"`),r=!0),!d.position||typeof d.position!="object"?(d.position={x:0,y:0},n.push(`Reset position for node ${d.id}`),r=!0):(Number.isFinite(d.position.x)||(d.position.x=0,n.push(`Fixed NaN x position for node ${d.id}`),r=!0),Number.isFinite(d.position.y)||(d.position.y=0,n.push(`Fixed NaN y position for node ${d.id}`),r=!0)),!0}),s.connections=s.connections.filter((d,h)=>l.has(d.source)?l.has(d.target)?!0:(n.push(`Removed connection ${h} (invalid target: ${d.target})`),r=!0,!1):(n.push(`Removed connection ${h} (invalid source: ${d.source})`),r=!0,!1)),s.viewport&&(Number.isFinite(s.viewport.x)||(s.viewport.x=0,n.push("Fixed viewport x position"),r=!0),Number.isFinite(s.viewport.y)||(s.viewport.y=0,n.push("Fixed viewport y position"),r=!0),(!Number.isFinite(s.viewport.k)||s.viewport.k<=0)&&(s.viewport.k=1,n.push("Fixed viewport zoom level"),r=!0)),{repaired:r,graphData:s,fixes:n}}class bj extends Qt.Control{constructor(n,r){super(),this.label=n,this.onClick=r}}function JO({data:a}){return p.jsx("button",{onPointerDown:n=>n.stopPropagation(),onDoubleClick:n=>n.stopPropagation(),onClick:a.onClick,style:{width:"100%",padding:"8px",marginBottom:"5px",background:"rgba(0, 243, 255, 0.1)",border:"1px solid rgba(0, 243, 255, 0.4)",color:"#00f3ff",borderRadius:"20px",cursor:"pointer",fontWeight:"600",textTransform:"uppercase",fontSize:"12px",transition:"all 0.2s"},onMouseOver:n=>{n.currentTarget.style.background="rgba(0, 243, 255, 0.25)",n.currentTarget.style.boxShadow="0 0 12px rgba(0, 243, 255, 0.4)"},onMouseOut:n=>{n.currentTarget.style.background="rgba(0, 243, 255, 0.1)",n.currentTarget.style.boxShadow="none"},children:a.label})}class wj extends Qt.Control{constructor(n,r,s,l){super(),this.label=n,this.values=r,this.value=s,this.onChange=l}setValue(n){this.value=n}}function ej({data:a}){const[,n]=E.useReducer(d=>d+1,0),[r,s]=E.useState(a.value);E.useEffect(()=>{s(a.value)},[a.value]),E.useEffect(()=>{n()},[a]);const l=d=>{const h=d.target.value;s(h),typeof a.setValue=="function"?a.setValue(h):a.value=h,a.onChange&&a.onChange(h)},c=a.values||[];return p.jsxs("div",{style:{marginBottom:"5px"},children:[a.label&&p.jsx("label",{style:{display:"block",fontSize:"10px",color:"#00f3ff",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.5px"},children:a.label}),p.jsx("select",{value:r,onChange:l,onPointerDown:d=>d.stopPropagation(),onDoubleClick:d=>d.stopPropagation(),style:{width:"100%",background:"#0a0f14",color:"#00f3ff",border:"1px solid rgba(0, 243, 255, 0.3)",padding:"6px",borderRadius:"4px",outline:"none",fontSize:"12px"},children:c.map((d,h)=>p.jsx("option",{value:d,style:{background:"#0a0f14",color:"#00f3ff"},children:d},`${h}-${d}`))})]})}class Sj extends Qt.Control{constructor(n,r,s){super(),this.label=n,this.value=r,this.onChange=s}}function tj({data:a}){const[n,r]=E.useState(a.value),s=l=>{const c=l.target.value;r(c),a.value=c,a.onChange&&a.onChange(c)};return p.jsxs("div",{style:{marginBottom:"5px"},children:[a.label&&p.jsx("label",{style:{display:"block",fontSize:"10px",color:"#00f3ff",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.5px"},children:a.label}),p.jsx("input",{type:"text",value:n,onChange:s,onPointerDown:l=>l.stopPropagation(),onDoubleClick:l=>l.stopPropagation(),style:{width:"100%",background:"#0a0f14",color:"#00f3ff",border:"1px solid rgba(0, 243, 255, 0.3)",padding:"6px",borderRadius:"4px",outline:"none",fontSize:"12px"}})]})}class xj extends Qt.Control{constructor(n,r,s){super(),this.label=n,this.value=r,this.onChange=s}}function nj({data:a}){const[n,r]=E.useState(a.value),s=l=>{const c=l.target.checked;r(c),a.value=c,a.onChange&&a.onChange(c)};return p.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"5px"},children:[p.jsx("input",{type:"checkbox",checked:n,onChange:s,onPointerDown:l=>l.stopPropagation(),onDoubleClick:l=>l.stopPropagation(),style:{accentColor:"#00f3ff"}}),p.jsx("span",{style:{marginLeft:"5px",fontSize:"12px",color:"#00f3ff",textTransform:"uppercase",letterSpacing:"0.5px"},children:a.label})]})}class Ej extends Qt.Control{constructor(n,r,s,l={}){super(),this.label=n,this.value=r,this.onChange=s,this.options=l}}function aj({data:a}){const[n,r]=E.useState(a.value),s=l=>{const c=Number(l.target.value);r(c),a.value=c,a.onChange&&a.onChange(c)};return p.jsxs("div",{style:{marginBottom:"5px"},children:[a.label&&p.jsx("label",{style:{display:"block",fontSize:"10px",color:"#00f3ff",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.5px"},children:a.label}),p.jsx("input",{type:"number",value:n,onChange:s,min:a.options.min,max:a.options.max,step:a.options.step,onPointerDown:l=>l.stopPropagation(),onDoubleClick:l=>l.stopPropagation(),style:{width:"100%",background:"#0a0f14",color:"#00f3ff",border:"1px solid rgba(0, 243, 255, 0.3)",padding:"6px",borderRadius:"4px",outline:"none",fontSize:"12px"}})]})}class kj extends Qt.Control{constructor(n,r,s,l="text"){super(),this.label=n,this.value=r,this.onChange=s,this.type=l}}function rj({data:a}){const[n,r]=E.useState(a.value);E.useEffect(()=>{r(a.value)},[a.value]);const s=l=>{let c=l.target.value;a.type==="number"&&(c=Number(c)),r(c),a.value=c,a.onChange&&a.onChange(c)};return p.jsxs("div",{style:{marginBottom:"5px"},children:[a.label&&p.jsx("label",{style:{display:"block",fontSize:"10px",color:"#00f3ff",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.5px"},children:a.label}),p.jsx("input",{type:a.type||"text",value:n,onChange:s,onPointerDown:l=>l.stopPropagation(),onDoubleClick:l=>l.stopPropagation(),style:{width:"100%",background:"#0a0f14",color:"#00f3ff",border:"1px solid rgba(0, 243, 255, 0.3)",padding:"6px",borderRadius:"4px",outline:"none",fontSize:"12px"}})]})}class Cj extends Qt.Control{constructor(n,r){super(),this.deviceId=n,this.getState=r}}function ij({data:a}){const n=a.getState?a.getState(a.deviceId):null,r=document.body.classList.contains("performance-mode");if(!n)return p.jsx("div",{style:{padding:"4px 8px",background:"rgba(0, 20, 30, 0.6)",borderRadius:"4px",marginBottom:"4px",display:"flex",alignItems:"center",justifyContent:"space-between",minHeight:"24px",border:"1px solid rgba(0, 243, 255, 0.1)"},children:p.jsx("span",{style:{fontSize:"11px",color:"rgba(0, 243, 255, 0.5)"},children:"No state data"})});const s=n.on||n.state==="on",l=n.attributes&&typeof n.attributes.brightness=="number"?Number(n.attributes.brightness):null;let c=0;l!==null&&Number.isFinite(l)&&l>100?c=Math.round(l/255*100):typeof n.brightness=="number"&&Number.isFinite(n.brightness)?c=n.brightness>100?Math.round(n.brightness/255*100):Math.round(n.brightness):l!==null&&Number.isFinite(l)&&(c=Math.round(l)),c=Math.max(0,Math.min(100,c));const d=n.hs_color||[0,0],[h,m]=d;let g="#e74c3c";s&&(m===0?g="#f1c40f":g=`hsl(${h}, ${m}%, 50%)`);const v={width:"14px",height:"14px",borderRadius:"50%",background:g,border:"1px solid rgba(255,255,255,0.3)",animation:s&&!r?"flash-pulse 2s infinite ease-in-out":"none",color:g,marginRight:"8px",flexShrink:0,boxShadow:s?`0 0 5px ${g}`:"none"};return p.jsxs("div",{style:{padding:"6px 8px",background:"rgba(0, 20, 30, 0.6)",borderRadius:"4px",marginBottom:"4px",border:"1px solid rgba(0, 243, 255, 0.2)",display:"flex",flexDirection:"column"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:s?"4px":"0"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",flex:1,overflow:"hidden"},children:[p.jsx("div",{style:v}),p.jsx("span",{style:{fontSize:"12px",color:"#e0f7fa",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginRight:"8px"},children:n.name||a.deviceId})]}),p.jsx("span",{style:{fontSize:"10px",color:"#00f3ff",fontFamily:"monospace",whiteSpace:"nowrap"},children:s?`${c}%`:"Off"})]}),s&&p.jsx("div",{style:{width:"100%",height:"4px",background:"rgba(0, 243, 255, 0.1)",borderRadius:"2px",overflow:"hidden"},children:p.jsx("div",{style:{width:`${c}%`,height:"100%",background:`linear-gradient(90deg, rgba(0, 243, 255, 0.2), ${g})`,transition:"width 0.3s ease-out"}})})]})}function sj(a){const{state:n,color:r}=a.data.data||{},s=n==="on"||n==="open"||n==="playing",l=r||(s?"#00f3ff":"#333");return p.jsxs("div",{className:"status-indicator-control",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"5px",width:"100%"},onPointerDown:c=>c.stopPropagation(),children:[p.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:s?l:"rgba(0, 20, 30, 0.8)",boxShadow:s?`0 0 10px ${l}, 0 0 20px ${l}`:"none",transition:"all 0.3s ease",border:"1px solid rgba(0, 243, 255, 0.3)",animation:s?"pulse 2s infinite":"none"}}),p.jsx("style",{children:`
                @keyframes pulse {
                    0% { opacity: 1; transform: scale(1); }
                    50% { opacity: 0.7; transform: scale(0.9); }
                    100% { opacity: 1; transform: scale(1); }
                }
            `})]})}function oj(a){const[,n]=E.useState(0);E.useEffect(()=>{let b=JSON.stringify(a.data.data||{});const x=setInterval(()=>{const k=JSON.stringify(a.data.data||{});k!==b&&(b=k,n(_=>_+1))},100);return()=>clearInterval(x)},[a.data]);const{brightness:r,hs_color:s,entityType:l,state:c,on:d}=a.data.data||{};let h="#444";s&&s.length===2?h=`hsl(${s[0]}, ${s[1]}%, 50%)`:l==="light"&&(h="#ffaa00");const m=c==="on"||d===!0;let g=typeof r=="number"&&Number.isFinite(r)?r:0;g>100&&(g=g/255*100),g=Math.max(0,Math.min(100,g));const v=m?g:0;return p.jsx("div",{className:"color-bar-control",style:{width:"100%",height:"8px",backgroundColor:"rgba(0, 20, 30, 0.6)",borderRadius:"4px",overflow:"hidden",marginTop:"5px",border:"1px solid rgba(0, 243, 255, 0.2)"},onPointerDown:b=>b.stopPropagation(),children:p.jsx("div",{style:{width:`${v}%`,height:"100%",backgroundColor:h,transition:"all 0.3s ease",boxShadow:v>0?`0 0 10px ${h}`:"none"}})})}function lj(a){const{power:n,energy:r}=a.data.data||{};return n===null&&r===null?p.jsx("div",{className:"power-stats-control",style:{fontSize:"10px",color:"#777",marginTop:"5px",fontFamily:"monospace"},children:"-- W / -- kWh"}):p.jsxs("div",{className:"power-stats-control",style:{display:"flex",flexDirection:"column",fontSize:"10px",color:"#e0f7fa",marginTop:"5px",fontFamily:"monospace"},onPointerDown:s=>s.stopPropagation(),children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[p.jsx("span",{children:"PWR:"}),p.jsx("span",{style:{color:"#00f3ff"},children:n!==null?`${n} W`:"--"})]}),r!==null&&p.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[p.jsx("span",{children:"NRG:"}),p.jsxs("span",{style:{color:"#ffaa00"},children:[r," kWh"]})]})]})}window.EDITOR_DEBUG=!1;const cj=window.EDITOR_DEBUG,Ce=(...a)=>cj&&console.debug("[Editor]",...a),uj=_a.memo(({data:a,socketKey:n,side:r})=>{let l=a?.name||"any";if(n&&typeof n=="string"){const d=n.toLowerCase();d.includes("hsv")||d.includes("color")?l="hsv_info":d.includes("trigger")||d.includes("enable")||d.includes("active")?l="boolean":(d.includes("light")||d.includes("device"))&&(l="light_info")}const c=`${n||"socket"} (${l})`;return _a.createElement("div",{className:"rete-socket","data-socket-type":l,title:c})});function dj(){const a=E.useRef(null),[n,r]=E.useState(null),[s,l]=E.useState(null),[c,d]=E.useState(null),[h,m]=E.useState(null),[g,v]=E.useState(()=>{try{return localStorage.getItem("dockMergedIntoForecast")==="true"}catch{return!1}}),b=E.useRef(null),x=E.useRef(null);E.useEffect(()=>{try{localStorage.setItem("dockMergedIntoForecast",String(g))}catch{}},[g]);const k=E.useRef(!1),_=E.useRef(new Set),Z=E.useRef(null),q=E.useRef(!1),W=E.useRef(null),K=E.useRef(null),B=E.useRef(null),Y=E.useRef({x:0,y:0}),fe=E.useRef(!1),be=E.useRef([]),[H,de]=E.useState({visible:!1,position:{x:0,y:0},items:[],nodeContext:null}),ie=180,pe="favoriteNodes",[Be,Ae]=E.useState(()=>{try{const F=localStorage.getItem(pe),se=F?JSON.parse(F):null,ee=oe=>{const C=[];for(const L of Array.isArray(oe)?oe:[]){if(typeof L!="string")continue;const ue=L.trim();ue&&(C.includes(ue)||C.push(ue))}return C};if(Array.isArray(se)){const oe=ee(se);return oe.length?[{category:"Other",labels:oe}]:[]}const _e=Array.isArray(se?.groups)?se.groups:Array.isArray(se?.favoriteGroups)?se.favoriteGroups:Array.isArray(se)?se:null;if(!_e)return[];const Se=[];for(const oe of _e){const C=(oe?.category||"Other").toString().trim()||"Other",L=ee(oe?.labels);L.length!==0&&Se.push({category:C,labels:L})}return Se}catch{return[]}}),Je=E.useRef(null),[rt,We]=E.useState(!1),O=E.useRef(null),[V,Q]=E.useState(!1),[me,U]=E.useState(null);E.useEffect(()=>{try{localStorage.setItem(pe,JSON.stringify({version:2,groups:Be}))}catch{}},[Be]);const S=E.useCallback(F=>{const se=(F||"").toString().trim();if(!se)return;const _e=(zn.getByLabel(se)?.category||"Other").toString().trim()||"Other";Ae(Se=>{for(const L of Se)if(Array.isArray(L?.labels)&&L.labels.includes(se))return Se;const oe=Se.map(L=>({category:L.category,labels:[...L.labels]})),C=oe.findIndex(L=>L.category===_e);return C===-1?oe.push({category:_e,labels:[se]}):oe[C].labels.push(se),oe})},[]),M=E.useCallback(F=>{const se=(F||"").toString().trim();se&&Ae(ee=>{const _e=[];for(const Se of ee){const oe=(Se?.labels||[]).filter(C=>C!==se);oe.length!==0&&_e.push({category:Se.category,labels:oe})}return _e})},[]),j=E.useCallback(async F=>{const se=a.current,ee=W.current,_e=K.current;if(!se||!ee||!_e)return;const Se=se.getBoundingClientRect(),oe={x:Se.left+Se.width/2,y:Se.top+Se.height/2};try{const ue=window._t2GetMenuItems;if(typeof ue=="function"){const he=ue();for(const we of he||[])for(const Ne of we.subitems||[])if(Ne.label===F&&typeof Ne.handler=="function"){await Ne.handler(oe);return}}}catch(ue){console.warn("[Favorites] Failed to create via context handlers:",ue)}const C=zn.getByLabel(F);if(!C)return;const L=()=>{try{Z.current?.()}catch{}};try{const ue=C.factory(L);await ee.addNode(ue);const he=_e.area.transform,we=(oe.x-he.x)/he.k,Ne=(oe.y-he.y)/he.k;await _e.translate(ue.id,{x:we,y:Ne}),F==="Backdrop"&&window.refreshBackdropGroups&&window.refreshBackdropGroups()}catch(ue){console.warn("[Favorites] Fallback create failed:",ue)}},[]);E.useEffect(()=>{try{const F=zn.getAll();if(F.length===0)return;const se=new Map;for(const ee of F)ee?.label&&se.set(ee.label,(ee.category||"Other").toString().trim()||"Other");Ae(ee=>{const _e=[],Se=new Map,oe=(C,L)=>{Se.has(C)||(Se.set(C,[]),_e.push(C));const ue=Se.get(C);ue.includes(L)||ue.push(L)};for(const C of ee)for(const L of C?.labels||[]){const ue=se.get(L);ue&&oe(ue,L)}return _e.map(C=>({category:C,labels:Se.get(C)})).filter(C=>C.labels.length>0)})}catch{}},[n]);const R=E.useCallback(async F=>{await new Promise(P=>{const ae=()=>{const ge=F.getBoundingClientRect();ge.width>0&&ge.height>0?P():requestAnimationFrame(ae)};requestAnimationFrame(ae)});const se=new Qr,ee=new _b(F),_e=new xE,Se=new NC({createRoot:ub.createRoot}),oe=new UC;se.use(oe);let C=0,L=0,ue=Date.now();window._t2PerfStats=()=>{const P=(Date.now()-ue)/1e3;return console.log(`[Perf] In ${P.toFixed(1)}s: ${C} process calls, ${L} skipped (${(C/P).toFixed(1)}/sec)`),{calls:C,skipped:L,perSecond:C/P}},window._t2PerfReset=()=>{C=0,L=0,ue=Date.now(),console.log("[Perf] Stats reset")};let he=null;const we=()=>{const P=se?.getNodes?.()?.length||0;return P<50?16:P<100?32:P<150?50:100};let Ne=!1;const Ve=async()=>{if(Ne){L++;return}if(he)return;C++;const P=we();he=setTimeout(async()=>{he=null,Ne=!0;try{const ae=se.getNodes(),ge=se.getConnections();window._debugProcess&&(console.log("[Editor] process() - nodes:",ae.map(ke=>`${ke.id}:${ke.label}`)),console.log("[Editor] process() - connections:",ge.map(ke=>`${ke.source}:${ke.sourceOutput} -> ${ke.target}:${ke.targetInput}`)),window._debugProcess=!1),oe.reset();for(const ke of ae)try{await oe.fetch(ke.id)}catch{}}finally{Ne=!1}},P)},Xe=async()=>{if(!Ne){he&&(clearTimeout(he),he=null),Ne=!0;try{oe.reset();for(const P of se.getNodes())try{await oe.fetch(P.id)}catch{}}finally{Ne=!1}}},st=new Set;let Ue=null;const $e=P=>{st.add(P),Ue||(Ue=setTimeout(()=>{Ue=null,st.forEach(ae=>{ee.update("node",ae)}),st.clear(),Ve()},16))},Me=()=>{Ve()},it=()=>{const P=zn.getAll(),ae={};P.forEach(ke=>{const Ke=ke.category||"Other";ae[Ke]||(ae[Ke]=[]),ae[Ke].push({label:ke.label,order:ke.order,description:ke.description,handler:async Gt=>{let on;const en=()=>{ke.updateStrategy==="dataflow"?Me():$e(on.id)};on=ke.factory(en),await se.addNode(on);const tn=ee.area.transform,Sn=(Gt.x-tn.x)/tn.k,Mt=(Gt.y-tn.y)/tn.k;await ee.translate(on.id,{x:Sn,y:Mt}),ke.label==="Backdrop"&&window.refreshBackdropGroups&&window.refreshBackdropGroups()}})});const ge=window.T2Controls?.THEME?.categories||{};return Object.entries(ae).map(([ke,Ke])=>({label:ke,icon:ge[ke]?.icon||"",subitems:Ke.sort((Gt,on)=>{const en=Gt.order??999,tn=on.order??999;return en!==tn?en-tn:Gt.label.localeCompare(on.label)})})).sort((ke,Ke)=>ke.label.localeCompare(Ke.label))};window._t2GetMenuItems=it,window._t2Editor=se,window._t2Area=ee,window._t2Process=Ve,window._t2ProcessImmediate=Xe,window._t2Engine=oe;const yt=qr.selector();Se.addPreset(Of.classic.setup({customize:{node(P){const ae=zn.getByInstance(P.payload);return ae?ae.component:Of.classic.Node},socket(P){const ae=P.key,ge=P.side;return function({data:ke}){return _a.createElement(uj,{data:ke,socketKey:ae,side:ge})}},control(P){if(P.payload instanceof Qt.Control){const ge=P.payload.constructor.name;if(ge==="ButtonControl")return JO;if(ge==="DropdownControl")return ej;if(ge==="TextControl")return tj;if(ge==="SwitchControl")return nj;if(ge==="NumberControl")return aj;if(ge==="InputControl")return rj;if(ge==="DeviceStateControl")return ij;if(ge==="StatusIndicatorControl")return sj;if(ge==="ColorBarControl")return oj;if(ge==="PowerStatsControl")return lj}return Of.classic.Control}}})),_e.addPreset(yE.classic.setup()),se.use(ee),ee.use(_e),ee.use(Se),qr.selectableNodes(ee,yt,{accumulating:qr.accumulateOnCtrl()}),qr.simpleNodesOrder(ee),se.addPipe(P=>{if(P.type==="nodecreated"){const ae=P.data,ge=zn.getByInstance(ae);ge&&ge.isBackdrop&&setTimeout(()=>{const Ee=ee.nodeViews.get(ae.id);Ee&&Ee.element&&(Ee.element.style.zIndex="-10",Ce("[Backdrop] Set z-index on creation for:",ae.id))},50)}return P});let $t=!1,rn=!1,ot={x:0,y:0};_e.addPipe(P=>(P.type==="connectionpick"?($t=!0,Ce(" Connection pick - wire dragging started")):P.type==="connectiondrop"&&($t=!1,rn=!1,Ce(" Connection drop - wire dragging ended")),P));const Dt=P=>{if($t)if(P.ctrlKey||P.metaKey)if(!rn)rn=!0,ot={x:P.clientX,y:P.clientY},F.style.cursor="grab";else{const ae=P.clientX-ot.x,ge=P.clientY-ot.y;if(ae!==0||ge!==0){const Ee=ee.area.transform;ee.area.translate(Ee.x+ae,Ee.y+ge),ot={x:P.clientX,y:P.clientY}}}else rn&&(rn=!1,F.style.cursor="")},Wt=P=>{(P.key==="Control"||P.key==="Meta")&&rn&&(rn=!1,F.style.cursor="")};window.addEventListener("pointermove",Dt),window.addEventListener("keyup",Wt);let sn=!1,It=!1,Jt=null,Fa=!1,Pa={x:0,y:0},la={x:0,y:0};const Ma=P=>{P.code==="Space"&&sn&&Jt&&(Fa=!0,la={x:0,y:0},P.preventDefault())},Jr=P=>{if(P.code==="Space"&&(Fa=!1,It&&Jt)){const ae=ee.nodeViews.get(Jt);if(ae){const ge=ee.area.transform,Ee=la.x/ge.k,ke=la.y/ge.k,Ke={x:ae.position.x-Ee,y:ae.position.y-ke};k.current=!0,ee.translate(Jt,Ke).finally(()=>{k.current=!1})}It=!1,F.style.cursor=""}},ei=P=>{if(!(!sn||!Jt))if(Fa)if(!It)It=!0,Pa={x:P.clientX,y:P.clientY},la={x:0,y:0},F.style.cursor="grab";else{const ae=P.clientX-Pa.x,ge=P.clientY-Pa.y;if(ae!==0||ge!==0){const Ee=ee.area.transform;ee.area.translate(Ee.x+ae,Ee.y+ge),la.x+=ae,la.y+=ge,Pa={x:P.clientX,y:P.clientY}}}else It&&(It=!1,F.style.cursor="")};window.addEventListener("keydown",Ma,!0),window.addEventListener("keyup",Jr,!0),F.addEventListener("pointermove",ei,!0);const Zt=document.createElement("div");Zt.classList.add("selection-box"),F.appendChild(Zt);let fn=!1,Wn={x:0,y:0};const hn=_.current,ti=()=>{fn&&(Ce(" Safety reset: clearing stuck lasso selection"),fn=!1,Zt.style.display="none")},ni=()=>{ti(),window.resetEditorDragState&&window.resetEditorDragState()},N=()=>{document.hidden&&(ti(),window.resetEditorDragState&&window.resetEditorDragState())};window.addEventListener("blur",ni),document.addEventListener("visibilitychange",N);const A=P=>{try{const ae=P.target;ae&&(ae.tagName==="INPUT"||ae.tagName==="TEXTAREA"||ae.isContentEditable)||(F.tabIndex=-1,F.focus())}catch{}if((P.ctrlKey||P.metaKey)&&P.button===0){P.stopPropagation(),P.preventDefault(),fn=!0;const ae=F.getBoundingClientRect();Wn={x:P.clientX-ae.left,y:P.clientY-ae.top},Zt.style.display="block",Zt.style.left=`${Wn.x}px`,Zt.style.top=`${Wn.y}px`,Zt.style.width="0px",Zt.style.height="0px",P.shiftKey||(hn.forEach(ge=>{const Ee=ee.nodeViews.get(ge);Ee&&Ee.element&&(Ee.element.classList.remove("selected"),Ee.element.style.outline="")}),hn.clear(),yt&&yt.entities&&Array.from(yt.entities).forEach(ge=>yt.remove(ge)))}},J=P=>{if(!fn)return;const ae=F.getBoundingClientRect(),ge=P.clientX-ae.left,Ee=P.clientY-ae.top,ke=Math.min(Wn.x,ge),Ke=Math.min(Wn.y,Ee),Gt=Math.abs(ge-Wn.x),on=Math.abs(Ee-Wn.y);Zt.style.left=`${ke}px`,Zt.style.top=`${Ke}px`,Zt.style.width=`${Gt}px`,Zt.style.height=`${on}px`},le=P=>{if(!fn)return;const ae=Zt.getBoundingClientRect();if(fn=!1,Zt.style.display="none",ae.width<5&&ae.height<5)return;const ge=[];se.getNodes().forEach(Ee=>{const ke=ee.nodeViews.get(Ee.id);if(ke&&ke.element){const Ke=ke.element.getBoundingClientRect();ae.left<=Ke.left&&ae.right>=Ke.right&&ae.top<=Ke.top&&ae.bottom>=Ke.bottom&&ge.push({node:Ee,view:ke})}}),ge.forEach(({node:Ee,view:ke})=>{hn.add(Ee.id),yt.add({id:Ee.id,label:"node",translate(Ke,Gt){},unselect(){ke.element.classList.remove("selected"),ke.element.style.outline=""}},!1),ke.element.classList.add("selected"),ke.element.style.outline="3px solid #00f3ff"})},xt=()=>{hn.size>0&&(hn.forEach(P=>{const ae=ee.nodeViews.get(P);ae&&ae.element&&(ae.element.classList.remove("selected"),ae.element.style.outline="")}),hn.clear()),yt&&yt.entities&&(yt.entities instanceof Map?Array.from(yt.entities.values()):Array.from(yt.entities)).forEach(ae=>{ae.unselect&&ae.unselect(),yt.remove(ae)}),se.getNodes().forEach(P=>{const ae=ee.nodeViews.get(P.id);ae&&ae.element&&ae.element.classList.remove("selected")})},Mn=P=>{if(!P.ctrlKey&&!P.metaKey&&!fn){let ae=!1;for(const[ge,Ee]of ee.nodeViews)if(Ee.element.contains(P.target)){ae=!0;break}if(!ae){const ge=P.target;(ge===F||ge.classList.contains("rete-area")||ge.closest('[data-testid="area"]'))&&xt()}}};F.addEventListener("pointerdown",A,{capture:!0}),F.addEventListener("click",Mn),window.addEventListener("pointermove",J),window.addEventListener("pointerup",le),se.addPipe(P=>((P.type==="connectioncreated"||P.type==="connectionremoved")&&Ve(),P));let Re={activeBackdropId:null,isDragging:!1,nodesBeingMoved:new Set},Et=!1,kt=null;const lt=P=>{Et=P,kt&&(clearTimeout(kt),kt=null),P&&(kt=setTimeout(()=>{Et&&(Ce(" Safety reset: clearing stuck isGroupMoving"),Et=!1),kt=null},500))},yr=()=>{fn&&(Ce(" Resetting stuck lasso selection"),fn=!1,Zt.style.display="none"),Et&&(Ce(" Resetting stuck group moving"),lt(!1)),Re.isDragging&&(Ce(" Resetting stuck backdrop drag"),Re.isDragging=!1,Re.activeBackdropId=null,Re.nodesBeingMoved.clear())};window.resetEditorDragState=yr;function Za(){const P=se.getNodes(),ae=P.filter(Ee=>{const ke=zn.getByInstance(Ee);return ke&&ke.isBackdrop}),ge=P.filter(Ee=>{const ke=zn.getByInstance(Ee);return!ke||!ke.isBackdrop});ae.forEach(Ee=>{const ke=ee.nodeViews.get(Ee.id);if(!ke)return;ke.element&&(ke.element.style.zIndex="-10");const Ke=ke.position,Gt=[],on=Ee.properties.width||400,en=Ee.properties.height||300,tn=(Mt,Yt,kn)=>{const Ra=Mt.x+Yt/2,Xa=Mt.y+kn/2;return Ra>=Ke.x&&Ra<=Ke.x+on&&Xa>=Ke.y&&Xa<=Ke.y+en};ge.forEach(Mt=>{const Yt=ee.nodeViews.get(Mt.id);if(!Yt)return;Yt.element&&parseInt(Yt.element.style.zIndex||"0",10)<0&&(Yt.element.style.zIndex="1");const kn=Yt.position,Ra=Mt.width||180,Xa=Mt.height||100;tn(kn,Ra,Xa)&&Gt.push(Mt.id)}),ae.forEach(Mt=>{if(Mt.id===Ee.id)return;const Yt=ee.nodeViews.get(Mt.id);if(!Yt)return;const kn=Yt.position,Ra=Mt.properties.width||400,Xa=Mt.properties.height||300;Ra>=on||Xa>=en||tn(kn,Ra,Xa)&&Gt.push(Mt.id)});const Sn=Ee.properties.capturedNodes.length;Ee.properties.capturedNodes=Gt,Sn!==Gt.length&&Ee.changeCallback&&Ee.changeCallback()})}return ee.updateBackdropCaptures=Za,ee.addPipe(P=>{if(P.type==="nodepicked"){const ae=P.data.id,ge=se.getNode(ae);sn=!0,Jt=ae,It=!1;try{if(ge&&O?.current!==void 0){const ke=ee.nodeViews.get(ae)?.position||{x:0,y:0};O.current={nodeId:ae,label:ge.label,startPos:ke,active:!1,over:!1}}}catch{}if(ge){const ke=zn.getByInstance(ge);if(ke&&ke.isBackdrop&&ge.properties.locked)return}!fe.current&&!hn.has(ae)&&(hn.forEach(ke=>{const Ke=ee.nodeViews.get(ke);Ke&&Ke.element&&(Ke.element.classList.remove("selected"),Ke.element.style.outline="")}),hn.clear()),hn.add(ae);const Ee=ee.nodeViews.get(ae);Ee&&Ee.element&&(Ee.element.classList.add("selected"),Ee.element.style.outline="3px solid #00f3ff")}return P}),ee.addPipe(P=>{try{if(k.current)return P;const ae=ge=>{const Ee=Je.current?.getBoundingClientRect();if(!Ee)return!1;const Ke=ee.nodeViews.get(ge)?.element;if(!Ke)return!1;const Gt=Ke.getBoundingClientRect(),on=Gt.left+Gt.width/2,en=Gt.top+Gt.height/2;return on>=Ee.left&&on<=Ee.right&&en>=Ee.top&&en<=Ee.bottom};if(P.type==="nodetranslate"){const ge=O.current;if(!ge)return P;const Ee=P.data?.id;if(!Ee||ge.nodeId!==Ee)return P;ge.active||(ge.active=!0,!ge.startPos&&P.data?.previous&&(ge.startPos=P.data.previous));const ke=ae(Ee);return ke!==ge.over&&(ge.over=ke,We(ke)),P}if(P.type==="nodedragged"){const ge=O.current;if(!ge)return P;const Ee=P.data?.id;if(!Ee||ge.nodeId!==Ee)return P;if(ge.active&&ae(Ee)){S(ge.label);const Ke=ge.startPos;Ke&&setTimeout(()=>{try{ee.translate(Ee,Ke)}catch{}},0)}return O.current=null,We(!1),P}}catch{}return P}),ee.addPipe(P=>{if(P.type==="render"&&P.data?.payload){const ae=P.data.payload,ge=zn.getByInstance(ae);ge&&ge.isBackdrop&&setTimeout(()=>{const Ee=ee.nodeViews.get(ae.id);if(Ee&&Ee.element){Ee.element.style.zIndex!=="-10"&&(Ee.element.style.zIndex="-10");const ke=ae.properties.locked?"none":"auto";Ee.element.style.pointerEvents!==ke&&(Ee.element.style.pointerEvents=ke)}},0)}if(P.type==="nodetranslate"){if(k.current||Et)return P;const ae=P.data.id,ge=se.getNode(ae);if(!ge)return P;const Ee=P.data.position,ke=P.data.previous,Ke=Ee.x-ke.x,Gt=Ee.y-ke.y;if(Ke===0&&Gt===0)return P;if(It&&Jt===ae)return{...P,data:{...P.data,position:P.data.previous}};if(hn.size>1&&hn.has(ae)){lt(!0);const en=[];return hn.forEach(tn=>{if(tn!==ae){const Sn=ee.nodeViews.get(tn);if(Sn){const Mt=Sn.position.x+Ke,Yt=Sn.position.y+Gt;en.push(ee.translate(tn,{x:Mt,y:Yt}))}}}),Promise.all(en).then(()=>{lt(!1)}),P}const on=zn.getByInstance(ge);if(on&&on.isBackdrop){if(ge.properties.locked)return{...P,data:{...P.data,position:P.data.previous}};if(Re.isDragging&&Re.nodesBeingMoved.has(ae)&&Re.activeBackdropId!==ae)return P;if(Re.activeBackdropId!==ae){Re.activeBackdropId=ae,Re.isDragging=!0,Re.nodesBeingMoved.clear(),Za();const en=tn=>{tn.forEach(Sn=>{Re.nodesBeingMoved.add(Sn);const Mt=se.getNode(Sn);Mt&&Mt.properties.capturedNodes&&en(Mt.properties.capturedNodes)})};en(ge.properties.capturedNodes)}if(ge.properties.capturedNodes.length>0){lt(!0);const en=[];return ge.properties.capturedNodes.forEach(tn=>{if(!hn.has(tn)){const Sn=ee.nodeViews.get(tn);if(Sn){const Mt=Sn.position.x+Ke,Yt=Sn.position.y+Gt;en.push(ee.translate(tn,{x:Mt,y:Yt}))}}}),Promise.all(en).then(()=>{lt(!1)}),P}}}if(P.type==="nodedragged"){if(k.current)return P;Re.isDragging=!1,Re.activeBackdropId=null,Re.nodesBeingMoved.clear(),sn=!1,Jt=null,It&&(It=!1,F.style.cursor=""),Za()}return P}),W.current=se,K.current=ee,B.current=yt,window.updateBackdropLockState=(P,ae)=>{const ge=ee.nodeViews.get(P);ge&&ge.element&&(ge.element.style.pointerEvents=ae?"none":"auto",Ce(" Updated backdrop lock state:",P,"locked:",ae))},r(se),l(ee),d(oe),{destroy:()=>{F.removeEventListener("pointerdown",A,{capture:!0}),F.removeEventListener("click",Mn),F.removeEventListener("pointermove",ei,!0),window.removeEventListener("pointermove",J),window.removeEventListener("pointerup",le),window.removeEventListener("pointermove",Dt),window.removeEventListener("keyup",Wt),window.removeEventListener("keydown",Ma,!0),window.removeEventListener("keyup",Jr,!0),window.removeEventListener("blur",ni),document.removeEventListener("visibilitychange",N),kt&&clearTimeout(kt),Zt.parentNode&&Zt.parentNode.removeChild(Zt),ee.destroy()},selector:yt,editor:se,area:ee,engine:oe,process:Ve,processImmediate:Xe}},[]);E.useEffect(()=>{const F=a.current;if(!F)return;let se=null,ee=null,_e=null;const Se=new Map,oe=he=>{try{typeof he.pointerId=="number"&&Se.set(he.pointerId,{el:he.target,pointerType:he.pointerType||"mouse"})}catch{}},C=he=>{try{typeof he.pointerId=="number"&&Se.delete(he.pointerId)}catch{}},L=he=>{try{typeof he.pointerId=="number"&&Se.delete(he.pointerId)}catch{}};F.addEventListener("gotpointercapture",oe,!0),F.addEventListener("lostpointercapture",C,!0),window.addEventListener("pointerup",L,!0),window.addEventListener("pointercancel",L,!0),ee=GO().then(()=>(Ce(" External plugins loaded, now creating editor..."),R(F))).then(he=>{he.editor,se=he.area,he.engine,he.selector,r(he.editor),l(he.area),d(he.engine),m(he.selector),Z.current=he.processImmediate,setTimeout(()=>{if(F){F.tabIndex=-1,F.focus();const Ne=F.getBoundingClientRect(),Ve=Ne.left+Ne.width/2,Xe=Ne.top+Ne.height/2,st=new WheelEvent("wheel",{bubbles:!0,cancelable:!0,clientX:Ve,clientY:Xe,deltaY:0});F.dispatchEvent(st),Ce(" Container initialized and focused"),window.resetEditorView=()=>{Ce(" Manual reset triggered"),requestAnimationFrame(()=>{window.resetEditorDragState&&window.resetEditorDragState();const Ue=F.getBoundingClientRect(),$e=Ue.left+Ue.width/2,Me=Ue.top+Ue.height/2;F.tabIndex=-1,F.focus();try{const yt=Array.from(Se.entries());Se.clear(),yt.forEach(([$t,rn])=>{const ot=rn?.el,Dt=rn?.pointerType||"mouse";try{const Wt=new PointerEvent("pointercancel",{bubbles:!0,cancelable:!0,pointerId:$t,pointerType:Dt});F.dispatchEvent(Wt)}catch{}try{F.releasePointerCapture($t)}catch{}try{ot&&typeof ot.releasePointerCapture=="function"&&ot.releasePointerCapture($t)}catch{}})}catch{}try{for(let $t=0;$t<5;$t++)try{F.releasePointerCapture($t)}catch{}F.querySelectorAll(".node, .connection, [data-drag]").forEach($t=>{try{$t.releasePointerCapture(1)}catch{}})}catch{}if(se){const yt=new PointerEvent("pointercancel",{bubbles:!0,cancelable:!0,pointerId:1,pointerType:"mouse"});F.dispatchEvent(yt);const $t=new PointerEvent("lostpointercapture",{bubbles:!0,cancelable:!0,pointerId:1,pointerType:"mouse"});F.dispatchEvent($t)}setTimeout(()=>{const yt=new PointerEvent("pointerdown",{bubbles:!0,cancelable:!0,clientX:$e,clientY:Me,pointerId:1,pointerType:"mouse",isPrimary:!0,button:0,buttons:1}),$t=new PointerEvent("pointerup",{bubbles:!0,cancelable:!0,clientX:$e,clientY:Me,pointerId:1,pointerType:"mouse",isPrimary:!0,button:0,buttons:0});F.dispatchEvent(yt),setTimeout(()=>{F.dispatchEvent($t);const rn=new WheelEvent("wheel",{bubbles:!0,cancelable:!0,clientX:$e,clientY:Me,deltaY:0});F.dispatchEvent(rn),Ce(" Reset complete")},50)},50)})}}},100);let we=!1;return _e=new ResizeObserver(Ne=>{for(const Ve of Ne){const{width:Xe,height:st}=Ve.contentRect;!we&&Xe>0&&st>0&&(we=!0,Ce(" ResizeObserver: Container now has size",Xe,st),setTimeout(()=>{F.focus();const Ue=F.getBoundingClientRect(),$e=new WheelEvent("wheel",{bubbles:!0,cancelable:!0,clientX:Ue.left+Ue.width/2,clientY:Ue.top+Ue.height/2,deltaY:0});F.dispatchEvent($e)},50))}}),_e.observe(F),he});const ue=()=>{Ce(" graphLoadComplete event received - triggering view reset");const he=()=>{window.resetEditorView&&window.resetEditorView()};he(),setTimeout(he,100),setTimeout(he,500),setTimeout(he,1e3)};return window.addEventListener("graphLoadComplete",ue),()=>{_e&&_e.disconnect(),window.removeEventListener("graphLoadComplete",ue),F.removeEventListener("gotpointercapture",oe,!0),F.removeEventListener("lostpointercapture",C,!0),window.removeEventListener("pointerup",L,!0),window.removeEventListener("pointercancel",L,!0),ee.then(he=>he.destroy())}},[R]),E.useEffect(()=>{if(!n||!s||!h)return;const F=async C=>{if(C.target.tagName==="INPUT"||C.target.tagName==="TEXTAREA"||C.target.isContentEditable)return;if(Ce(` KeyDown: ${C.code} (Ctrl: ${C.ctrlKey}, Meta: ${C.metaKey})`),C.code==="F5"||(C.ctrlKey||C.metaKey)&&C.shiftKey&&C.code==="KeyR"){C.preventDefault(),Ce(" View reset shortcut triggered"),window.resetEditorView&&window.resetEditorView();return}if(C.code==="KeyF"&&!C.ctrlKey&&!C.metaKey&&!C.altKey){C.preventDefault();const Ne=K.current,Ve=W.current;if(Ne&&Ve){const Xe=Ve.getNodes();Xe.length>0&&(Ce(" Zoom extents triggered (F key)"),qr.zoomAt(Ne,Xe,{scale:.9}).catch(st=>{console.warn("[F key] zoomAt failed:",st)}))}return}const L=W.current,ue=K.current,he=B.current;if(!L||!ue){Ce(" No editor/area ref available");return}const we=()=>{const Ne=new Set;if(he&&he.entities&&he.entities instanceof Map)for(const[Ve,Xe]of he.entities)L.getNode(Ve)&&Ne.add(Ve);for(const Ve of _.current){const Xe=L.getNode(Ve);Ce(` Checking node ${Ve}: exists=${!!Xe}`),Xe&&Ne.add(Ve)}return Ce(` Found ${Ne.size} selected nodes:`,Array.from(Ne)),Array.from(Ne)};if(C.code==="Delete"||C.code==="Backspace"){Ce(" Delete key pressed. lassoSelectedNodesRef.current size:",_.current.size),Ce(" lassoSelectedNodesRef.current contents:",Array.from(_.current));const Ne=we();if(Ce(` Deleting ${Ne.length} nodes:`,Ne),Ne.length>0){const Ve=[],Xe=[],st=new Set(Ne);for(const Ue of L.getConnections())(st.has(Ue.source)||st.has(Ue.target))&&Xe.push({source:Ue.source,target:Ue.target,sourceOutput:Ue.sourceOutput,targetInput:Ue.targetInput});for(const Ue of Ne){const $e=L.getNode(Ue);$e&&Ve.push({id:Ue,label:$e.label,position:ue.nodeViews.get(Ue)?.position||{x:0,y:0},properties:JSON.parse(JSON.stringify($e.properties||{}))})}be.current.push({type:"delete",nodes:Ve,connections:Xe}),Ce(" Saved undo state:",be.current.length,"items in stack");for(const Ue of Ne){const $e=L.getConnections().filter(Me=>Me.source===Ue||Me.target===Ue);for(const Me of $e)await L.removeConnection(Me.id);await L.removeNode(Ue),_.current.delete(Ue)}window.refreshBackdropGroups&&window.refreshBackdropGroups()}}if((C.ctrlKey||C.metaKey)&&C.code==="KeyZ"&&!C.shiftKey){if(C.preventDefault(),be.current.length===0){Ce(" Nothing to undo");return}const Ne=be.current.pop();if(Ce(" Undoing:",Ne.type,Ne.nodes.length,"nodes"),Ne.type==="delete"){const Ve={};k.current=!0;try{for(const Xe of Ne.nodes){const st=zn.getByLabel(Xe.label);if(st){let Ue;const $e=()=>{ue&&ue.update("node",Ue.id),c&&L&&(c.reset(),setTimeout(()=>{L.getNodes().forEach(async it=>{try{await c.fetch(it.id)}catch{}})},0))},Me=()=>{st.updateStrategy==="dataflow"?(c&&c.reset(),c&&L&&setTimeout(()=>{L.getNodes().forEach(async it=>{try{await c.fetch(it.id)}catch{}})},0)):$e()};Ue=st.factory(Me),Xe.properties&&Object.assign(Ue.properties,Xe.properties),await L.addNode(Ue),await ue.translate(Ue.id,Xe.position),Ve[Xe.id]=Ue.id}}for(const Xe of Ne.connections){const st=Ve[Xe.source]||Xe.source,Ue=Ve[Xe.target]||Xe.target,$e=L.getNode(st),Me=L.getNode(Ue);if($e&&Me)try{await L.addConnection(new Qt.Connection($e,Xe.sourceOutput,Me,Xe.targetInput))}catch(it){console.warn("[Editor] Could not restore connection:",it)}}Ce(" Undo complete - restored",Ne.nodes.length,"nodes"),window.refreshBackdropGroups&&window.refreshBackdropGroups()}finally{k.current=!1,ue?.updateBackdropCaptures?.()}}}if((C.ctrlKey||C.metaKey)&&C.code==="KeyC")try{const Ne=we();if(Ne.length===0){Ce(" Nothing selected to copy");return}Ce(` Copying ${Ne.length} nodes`);const Ve=[],Xe=new Set(Ne);for(const $e of Ne){const Me=L.getNode($e);Me&&Ve.push({label:Me.label,position:ue.nodeViews.get(Me.id)?.position||{x:0,y:0},data:{id:Me.id,properties:JSON.parse(JSON.stringify(Me.properties||{}))}})}if(Ve.length===0){Ce(" Nothing selected to copy (no nodes in selection)");return}const st=[];for(const $e of L.getConnections())Xe.has($e.source)&&Xe.has($e.target)&&st.push({source:$e.source,target:$e.target,sourceOutput:$e.sourceOutput,targetInput:$e.targetInput});const Ue={nodes:Ve,connections:st};localStorage.setItem("rete-clipboard",JSON.stringify(Ue)),Ce("Copied to clipboard:",Ue)}catch(Ne){console.error("[Editor] Copy failed:",Ne)}if((C.ctrlKey||C.metaKey)&&C.code==="KeyV"){const Ne=localStorage.getItem("rete-clipboard");if(!Ne){Ce(" Clipboard empty");return}try{const Ve=JSON.parse(Ne),Xe={},Ue=(K.current?.container||a.current)?.getBoundingClientRect()||{left:0,top:0},$e=ue.area.transform,Me=(Y.current.x-Ue.left-$e.x)/$e.k,it=(Y.current.y-Ue.top-$e.y)/$e.k;let yt=1/0,$t=1/0;for(const ot of Ve.nodes)yt=Math.min(yt,ot.position.x),$t=Math.min($t,ot.position.y);he&&he.entities&&Array.from(he.entities).forEach(ot=>he.remove(ot)),k.current=!0;try{for(const ot of Ve.nodes){let Dt;const Wt=zn.getByLabel(ot.label);if(Wt){const sn=()=>{ue&&ue.update("node",Dt.id),c&&L&&(c.reset(),setTimeout(()=>{L.getNodes().forEach(async Jt=>{try{await c.fetch(Jt.id)}catch{}})},0))},It=()=>{Wt.updateStrategy==="dataflow"?(c&&c.reset(),c&&L&&setTimeout(()=>{L.getNodes().forEach(async Jt=>{try{await c.fetch(Jt.id)}catch{}})},0)):sn()};Dt=Wt.factory(It)}if(Dt){typeof Dt.restore=="function"&&ot.data?Dt.restore(ot.data):ot.data&&ot.data.properties&&Dt.properties&&Object.assign(Dt.properties,ot.data.properties),await L.addNode(Dt);const sn=ot.position.x-yt,It=ot.position.y-$t,Jt={x:Me+sn,y:it+It};await ue.translate(Dt.id,Jt),Xe[ot.data.id]=Dt.id,he&&he.add({id:Dt.id,label:"node",translate:()=>{},unmount:()=>{},unselect:()=>{}},!0)}}}finally{k.current=!1,ue?.updateBackdropCaptures?.()}const rn=[];for(const ot of Ve.connections){const Dt=Xe[ot.source],Wt=Xe[ot.target];if(Dt&&Wt){const sn=L.getNode(Dt),It=L.getNode(Wt);sn&&It&&rn.push(L.addConnection(new Qt.Connection(sn,ot.sourceOutput,It,ot.targetInput)))}}if(await Promise.all(rn),c&&L){c.reset();for(const ot of L.getNodes())try{await c.fetch(ot.id)}catch{}}Ce("Pasted from clipboard")}catch(Ve){console.error("[Editor] Paste failed:",Ve)}}C.code==="Home"&&(C.preventDefault(),ue.area&&(ue.area.zoom(1,0,0),ue.area.translate(0,0),Ce(" Viewport reset via Home key"))),C.code==="Escape"&&window.resetEditorDragState&&(window.resetEditorDragState(),Ce(" Drag state reset via Escape key"))},se=C=>{Y.current={x:C.clientX,y:C.clientY}},ee=C=>{C.key==="Shift"&&(fe.current=!0)},_e=C=>{C.key==="Shift"&&(fe.current=!1)},Se=()=>{Ce(" Received delete from Electron IPC"),F({code:"Delete",ctrlKey:!1,metaKey:!1,target:{tagName:"DIV",isContentEditable:!1}})};let oe=null;return window.api&&window.api.onDeleteKey&&(oe=window.api.onDeleteKey(Se)),window.addEventListener("keydown",F),window.addEventListener("keydown",ee),window.addEventListener("keyup",_e),window.addEventListener("mousemove",se),()=>{window.removeEventListener("keydown",F),window.removeEventListener("keydown",ee),window.removeEventListener("keyup",_e),window.removeEventListener("mousemove",se),oe&&oe()}},[n,s,c,h]),E.useEffect(()=>{const F=a.current;if(!F||!n||!s)return;const se=ee=>{const _e=ee.target.closest('[data-testid="node"]');if(_e){ee.preventDefault();const Se=_e.dataset.nodeId||Array.from(s.nodeViews.entries()).find(([oe,C])=>C.element===_e)?.[0];if(Se){const oe=n.getNode(Se);de({visible:!0,position:{x:ee.clientX,y:ee.clientY},items:[{label:"Delete",handler:async()=>{const C=n.getConnections().filter(L=>L.source===Se||L.target===Se);for(const L of C)await n.removeConnection(L.id);await n.removeNode(Se)}}],nodeContext:oe})}}else{ee.preventDefault();const Se=window._t2GetMenuItems?window._t2GetMenuItems():[];de({visible:!0,position:{x:ee.clientX,y:ee.clientY},items:Se,nodeContext:null})}};return F.addEventListener("contextmenu",se),()=>{F.removeEventListener("contextmenu",se)}},[n,s]);const ce=E.useCallback(()=>{de(F=>({...F,visible:!1}))},[]),ve=E.useCallback(async F=>{F.handler&&await F.handler(H.position)},[H.position]),Oe=async()=>{if(!(!n||!s))try{const F=n.getNodes().map(we=>{const Ne=typeof we.toJSON=="function"?we.toJSON():{...we};return we.properties&&(Ne.properties=we.properties),{id:we.id,label:we.label,position:s.nodeViews.get(we.id)?.position||{x:0,y:0},data:Ne}}),se=n.getConnections().map(we=>({id:we.id,source:we.source,target:we.target,sourceOutput:we.sourceOutput,targetInput:we.targetInput})),ee=s.area?.transform?{x:s.area.transform.x,y:s.area.transform.y,k:s.area.transform.k}:{x:0,y:0,k:1},_e={nodes:F,connections:se,viewport:ee},Se=JSON.stringify(_e,null,2);if(window.self!==window.top||window.location.pathname.includes("/api/hassio")){Ce("Running in HA ingress - showing save dialog"),U(_e),Q(!0);return}try{Se.length<2e6&&(localStorage.removeItem("saved-graph"),localStorage.setItem("saved-graph",Se))}catch{console.warn("localStorage skipped")}Ce("Graph saved to localStorage");try{const we=await fetch(En("/api/engine/save-active"),{method:"POST",headers:{"Content-Type":"application/json"},body:Se});we.ok?Ce("[handleSave] Graph saved to server as last active"):console.warn("[handleSave] Failed to save to server:",we.status)}catch(we){console.warn("[handleSave] Failed to save to server:",we)}if(window.api?.saveTempFile)try{await window.api.saveTempFile("autotron_graph.json",Se),Ce("[handleSave] Saved temp file for Electron reload")}catch(we){console.warn("[handleSave] Failed to save temp file via Electron API",we)}if(window.showSaveFilePicker)try{const Ne=await(await window.showSaveFilePicker({suggestedName:"autotron_graph.json",types:[{description:"AutoTron Graph",accept:{"application/json":[".json"]}}]})).createWritable();await Ne.write(Se),await Ne.close(),Ce("Graph saved to file");return}catch(we){if(we.name==="AbortError")return;console.warn("File System Access API failed, falling back to download",we)}const L=new Blob([Se],{type:"application/json"}),ue=URL.createObjectURL(L),he=document.createElement("a");he.href=ue,he.download=`autotron_graph_${Date.now()}.json`,he.click(),URL.revokeObjectURL(ue),Ce("Graph saved via download")}catch(F){console.error("Failed to save graph:",F)}};E.useEffect(()=>(window.triggerGraphSave=async()=>{if(!(!n||!s))try{const F=n.getNodes().map(oe=>{const C=typeof oe.toJSON=="function"?oe.toJSON():{...oe};return oe.properties&&(C.properties=oe.properties),{id:oe.id,label:oe.label,position:s.nodeViews.get(oe.id)?.position||{x:0,y:0},data:C}}),se=n.getConnections().map(oe=>({id:oe.id,source:oe.source,target:oe.target,sourceOutput:oe.sourceOutput,targetInput:oe.targetInput})),ee=s.area?.transform?{x:s.area.transform.x,y:s.area.transform.y,k:s.area.transform.k}:{x:0,y:0,k:1},_e={nodes:F,connections:se,viewport:ee,preUpdateSave:!0,timestamp:Date.now()},Se=JSON.stringify(_e);Se.length<2e6&&(localStorage.setItem("saved-graph",Se),Ce("[triggerGraphSave] Graph saved before update"))}catch(F){console.warn("[triggerGraphSave] Failed:",F)}},()=>{delete window.triggerGraphSave}),[n,s]);const[Ge,He]=E.useState(!1),Ze=E.useRef(null),St=E.useRef(Date.now());E.useEffect(()=>{if(!n)return;const F=()=>{He(!0)};n.addPipe(se=>(["nodecreated","noderemoved","connectioncreated","connectionremoved"].includes(se.type)&&F(),se))},[n]),E.useEffect(()=>{if(!n||!s)return;const F=async()=>{if(!(window.graphLoading||q.current)&&Ge)try{const se=n.getNodes().map(C=>{const L=typeof C.toJSON=="function"?C.toJSON():{...C};return C.properties&&(L.properties=C.properties),{id:C.id,label:C.label,position:s.nodeViews.get(C.id)?.position||{x:0,y:0},data:L}}),ee=n.getConnections().map(C=>({id:C.id,source:C.source,target:C.target,sourceOutput:C.sourceOutput,targetInput:C.targetInput})),_e=s.area?.transform?{x:s.area.transform.x,y:s.area.transform.y,k:s.area.transform.k}:{x:0,y:0,k:1},Se={nodes:se,connections:ee,viewport:_e,autoSaved:!0,timestamp:Date.now()},oe=JSON.stringify(Se);if(oe.length<2e6){localStorage.setItem("saved-graph",oe),St.current=Date.now(),He(!1);try{await fetch(En("/api/engine/save-active"),{method:"POST",headers:{"Content-Type":"application/json"},body:oe})}catch{}window.T2Toast&&window.T2Toast.success("Auto-saved",2e3)}}catch(se){console.warn("[Auto-save] Failed:",se)}};return Ze.current=setInterval(F,12e4),()=>{Ze.current&&clearInterval(Ze.current)}},[n,s,Ge]),E.useEffect(()=>{if(!n||!s||!c)return;if(sessionStorage.getItem("autoLoadAfterUpdate")==="true"){sessionStorage.removeItem("autoLoadAfterUpdate"),Ce("[AutoLoad] Detected post-update reload, attempting to restore graph...");const se=setTimeout(async()=>{try{const ee=localStorage.getItem("saved-graph");if(ee){Ce("[AutoLoad] Found saved graph, loading...");const _e=JSON.parse(ee);_e.nodes&&_e.nodes.length>0&&(window.T2Toast&&window.T2Toast.info("Restoring your graph after update...",3e3),document.dispatchEvent(new CustomEvent("autoLoadGraph")))}}catch(ee){console.warn("[AutoLoad] Failed to auto-load graph:",ee)}},1e3);return()=>clearTimeout(se)}},[n,s,c]);const _t=E.useRef(!1);E.useEffect(()=>{if(!n||!s||!c||_t.current)return;if(window.self!==window.top||window.location.pathname.includes("/api/hassio")){Ce("[ServerAutoLoad] Skipping - HA ingress mode, user should click Load Last"),_t.current=!0;return}const ee=localStorage.getItem("saved-graph"),_e=sessionStorage.getItem("autoLoadAfterUpdate")==="true";if(ee||_e){Ce("[ServerAutoLoad] Skipping - desktop mode with local graph");return}_t.current=!0;const oe=setTimeout(async()=>{try{Ce("[ServerAutoLoad] Fetching last active graph from server...");const L=await(await fetch(En("/api/engine/last-active"))).json();L.success&&L.graph?(Ce("[ServerAutoLoad] Found last active graph, loading..."),localStorage.setItem("saved-graph",JSON.stringify(L.graph)),window.T2Toast&&window.T2Toast.info("Loading your last graph...",2e3),setTimeout(()=>{document.dispatchEvent(new CustomEvent("autoLoadGraph"))},500)):Ce("[ServerAutoLoad] No last active graph on server")}catch(C){console.warn("[ServerAutoLoad] Failed to fetch from server:",C)}},1500);return()=>clearTimeout(oe)},[n,s,c]);const In=async()=>{if(!n||!s||!c){console.error("[handleLoad] Missing instances:",{editor:!!n,area:!!s,engine:!!c});return}try{let F=localStorage.getItem("saved-graph");if(!F&&window.api?.readTempFile)try{const oe=await window.api.readTempFile("autotron_graph.json");oe?.success&&oe.content&&(F=oe.content,Ce("[handleLoad] Loaded graph from Electron temp file"))}catch(oe){console.warn("[handleLoad] Failed to read Electron temp file",oe)}if(!F){alert("No saved graph found");return}const se=JSON.parse(F);Ce(`[handleLoad] Loading graph with ${se.nodes?.length} nodes`);const ee=sb(se);if(!ee.valid){console.warn("[handleLoad] Graph validation failed:",ee.errors),window.T2Toast&&window.T2Toast.warning(`Graph has issues: ${ee.errors.length} errors`,4e3);const oe=ob(se);oe.repaired&&(Ce("[handleLoad] Graph repaired:",oe.fixes),window.T2Toast&&window.T2Toast.info(`Graph repaired: ${oe.fixes.length} fixes applied`,3e3),Object.assign(se,oe.graphData))}ee.warnings.length>0&&console.warn("[handleLoad] Graph warnings:",ee.warnings),await Pt();const _e=n.getNodes();if(_e.length>0){console.error("[handleLoad] Clear did not work! Still have",_e.length,"nodes");for(const oe of _e)try{await n.removeNode(oe.id)}catch(C){console.error("[handleLoad] Force remove failed:",C)}}if(k.current=!0,q.current=!0,s?.area)try{s.area.zoom(.1,0,0),s.area.translate(0,0)}catch{}try{for(const C of se.nodes){let L;const ue=zn.getByLabel(C.label);if(ue){const he=()=>{if(q.current||window.graphLoading){s&&s.update("node",C.id);return}s&&s.update("node",C.id),window._t2Process&&window._t2Process()};L=ue.factory(he)}L&&(L.id=C.id,typeof L.restore=="function"&&C.data?L.restore(C.data):C.data&&C.data.properties&&L.properties&&Object.assign(L.properties,C.data.properties),await n.addNode(L),await s.translate(L.id,C.position))}const oe=[];for(const C of se.connections){const L=n.getNode(C.source),ue=n.getNode(C.target);L&&ue&&oe.push(n.addConnection(new Qt.Connection(L,C.sourceOutput,ue,C.targetInput)))}await Promise.all(oe)}finally{k.current=!1,s?.updateBackdropCaptures?.()}const Se=n.getNodes();if(Se.length>0&&s){Ce("[handleLoad] Zooming to fit",Se.length,"nodes...");try{await qr.zoomAt(s,Se,{scale:.9})}catch(oe){console.warn("[handleLoad] zoomAt failed:",oe)}}Z.current&&(Ce("[handleLoad] Processing graph immediately..."),await Z.current(),Ce("[handleLoad] Graph processing complete")),q.current=!1,Ce("[handleLoad] Setting up viewport restoration timer..."),setTimeout(()=>{if(Ce("[handleLoad] Viewport restoration timer fired, areaInstance:",!!s,"area:",!!s?.area),s?.area){const oe=se.viewport||{x:0,y:0,k:1},C=oe.k||1,L=oe.x||0,ue=oe.y||0;Ce("[handleLoad] Restoring viewport:",{savedX:L,savedY:ue,savedK:C}),Ce("[handleLoad] Current transform before restore:",{...s.area.transform});try{s.area.zoom(C,0,0),s.area.translate(L,ue)}catch(we){console.warn("[handleLoad] Viewport restore failed:",we)}Ce("[handleLoad] Transform after restore:",{...s.area.transform});const he=s.container;if(he){he.tabIndex=-1,he.focus(),document.activeElement&&document.activeElement!==he&&document.activeElement.tagName!=="BODY"&&document.activeElement.blur();const we=()=>{window.resetEditorView&&window.resetEditorView()};setTimeout(we,100),setTimeout(we,500),setTimeout(we,1e3)}n.getNodes().forEach(we=>{const Ne=s.nodeViews.get(we.id);if(Ne?.element)try{for(let Ve=0;Ve<10;Ve++)try{Ne.element.releasePointerCapture(Ve)}catch{}}catch{}})}},300),Ce("Graph loaded")}catch(F){console.error("Failed to load graph:",F),q.current=!1,alert("Failed to load graph")}},dn=async()=>{if(!n||!s||!c){console.error("[handleLoadExample] Missing instances");return}if(!(n.getNodes().length>0&&!confirm("This will replace your current graph with the starter example. Continue?")))try{const se=await fetch(En("/api/examples/starter"));if(!se.ok)throw new Error(`Failed to fetch example: ${se.status}`);const ee=await se.json();if(!ee.success||!ee.graph)throw new Error("Invalid example graph response");localStorage.setItem("saved-graph",JSON.stringify(ee.graph)),Ce("[handleLoadExample] Example graph loaded, triggering handleLoad..."),await In(),window.T2Toast&&window.T2Toast.success("Starter example loaded! Select devices from the dropdowns.")}catch(se){console.error("[handleLoadExample] Failed:",se),alert("Failed to load example graph: "+se.message)}};E.useEffect(()=>{const F=()=>{Ce("[AutoLoadEvent] Received autoLoadGraph event, calling handleLoad..."),In()};return document.addEventListener("autoLoadGraph",F),()=>document.removeEventListener("autoLoadGraph",F)},[n,s,c]);const Pt=async()=>{if(!n){console.warn("[handleClear] No editor instance!");return}try{const F=n.getConnections(),se=n.getNodes();Ce(`[handleClear] Removing ${F.length} connections and ${se.length} nodes`);for(const _e of F)await n.removeConnection(_e.id);for(const _e of se)await n.removeNode(_e.id);const ee=n.getNodes();Ce(`[handleClear] Complete. Remaining nodes: ${ee.length}`),ee.length>0&&console.error("[handleClear] Failed to remove all nodes! Remaining:",ee.map(_e=>_e.id))}catch(F){console.error("Failed to clear graph:",F)}},qn=()=>{if(!(!n||!s))try{const F=n.getNodes().map(L=>{const ue=typeof L.toJSON=="function"?L.toJSON():{...L};return L.properties&&(ue.properties=L.properties),{id:L.id,label:L.label,position:s.nodeViews.get(L.id)?.position||{x:0,y:0},data:ue}}),se=n.getConnections().map(L=>({id:L.id,source:L.source,target:L.target,sourceOutput:L.sourceOutput,targetInput:L.targetInput})),ee=s.area?.transform?{x:s.area.transform.x,y:s.area.transform.y,k:s.area.transform.k}:{x:0,y:0,k:1},_e={nodes:F,connections:se,viewport:ee},Se=new Blob([JSON.stringify(_e,null,2)],{type:"application/json"}),oe=URL.createObjectURL(Se),C=document.createElement("a");C.href=oe,C.download=`graph-${Date.now()}.json`,C.click(),URL.revokeObjectURL(oe),Ce("Graph exported")}catch(F){console.error("Failed to export graph:",F)}},Ye=async F=>{const se=sb(F);if(!se.valid){console.warn("[handleImport] Graph validation failed:",se.errors),window.T2Toast&&window.T2Toast.warning(`Graph has issues: ${se.errors.length} errors`,4e3);const Se=ob(F);if(Se.repaired)Ce("[handleImport] Graph repaired:",Se.fixes),window.T2Toast&&window.T2Toast.info(`Graph repaired: ${Se.fixes.length} fixes applied`,3e3),F=Se.graphData;else if(!confirm(`Graph has ${se.errors.length} errors. Continue anyway?`))return}const ee={log:console.log,warn:console.warn,error:console.error};console.log=()=>{},console.warn=()=>{};let _e=0;if(console.error=(...Se)=>{_e++<10&&ee.error(...Se)},ee.log("%c IMPORT STARTED (console suppressed)","background: green; color: white; font-size: 16px;"),window.graphLoading=!0,!n||!s||!c){Object.assign(console,ee);return}try{if(await Pt(),k.current=!0,q.current=!0,s?.area)try{s.area.zoom(.1,0,0),s.area.translate(0,0)}catch{}try{for(const C of F.nodes){let L;const ue=zn.getByLabel(C.label);if(!ue){console.warn(`[handleImport] No definition found for node label: "${C.label}"`);continue}if(ue){const he=()=>{if(q.current||window.graphLoading){s&&s.update("node",C.id);return}s&&s.update("node",C.id),window._t2Process&&window._t2Process()};L=ue.factory(he)}L&&(L.id=C.id,C.label==="Timeline Color"&&ee.log("[DEBUG-IMPORT] Timeline Color restore check:",{hasRestore:typeof L.restore=="function",hasData:!!C.data,dataKeys:C.data?Object.keys(C.data):"N/A",propertiesKeys:C.data?.properties?Object.keys(C.data.properties):"N/A",previewModeValue:C.data?.properties?.previewMode}),typeof L.restore=="function"&&C.data?L.restore(C.data):C.data&&C.data.properties&&L.properties&&Object.assign(L.properties,C.data.properties),await n.addNode(L),await s.translate(L.id,C.position))}const oe=[];for(const C of F.connections){const L=n.getNode(C.source),ue=n.getNode(C.target);L&&ue?oe.push(n.addConnection(new Qt.Connection(L,C.sourceOutput,ue,C.targetInput))):console.warn(`[handleImport] Connection skipped - missing node: source=${C.source} (${!!L}), target=${C.target} (${!!ue})`)}await Promise.all(oe)}finally{k.current=!1,s?.updateBackdropCaptures?.()}const Se=n.getNodes();if(Se.length>0&&s)try{await qr.zoomAt(s,Se,{scale:.9})}catch{}q.current=!1,setTimeout(async()=>{window.graphLoading=!1,Ce("[handleImport] Graph loading complete - API calls now enabled"),window.dispatchEvent(new CustomEvent("graphLoadComplete")),setTimeout(()=>{Z.current&&(Ce("[handleImport] Running processImmediate to sync node states"),Z.current()),setTimeout(()=>{Z.current&&(Ce("[handleImport] Running second processImmediate for late-loading data"),Z.current())},1500)},500);try{const C=JSON.stringify(F,null,2);C.length<2e6&&(localStorage.removeItem("saved-graph"),localStorage.setItem("saved-graph",C),Ce("[handleImport] Graph saved to localStorage")),(await fetch(En("/api/engine/save-active"),{method:"POST",headers:{"Content-Type":"application/json"},body:C})).ok&&Ce("[handleImport] Graph saved to server as last active")}catch(C){console.warn("[handleImport] Failed to save imported graph:",C)}const oe=()=>{window.resetEditorView&&window.resetEditorView()};setTimeout(oe,100),setTimeout(oe,500)},2e3),Object.assign(console,ee),console.log("%c IMPORT COMPLETE","background: green; color: white; font-size: 16px;"),Ce("Graph imported successfully. Pan/zoom should work now.")}catch(Se){window.graphLoading=!1,typeof ee<"u"&&Object.assign(console,ee),console.error("Failed to import graph:",Se),q.current=!1,alert("Failed to import graph: "+Se.message)}};return p.jsxs("div",{style:{width:"100%",height:"100%",position:"relative"},children:[p.jsx(KO,{width:ie,panelRef:Je,dropActive:rt,favoriteGroups:Be,onAddFavorite:S,onRemoveFavorite:M,onCreateNode:j}),p.jsx("div",{ref:a,className:"rete-editor",style:{width:"100%",height:"100%",marginRight:"320px",marginLeft:`${ie}px`}}),p.jsx("div",{ref:b}),(()=>{const F=g?x.current:b.current;return F?Pr.createPortal(p.jsx(ZO,{onSave:Oe,onLoad:In,onLoadExample:dn,onClear:Pt,onExport:qn,onImport:Ye,hasUnsavedChanges:Ge,isMerged:g,onToggleMerged:()=>v(se=>!se)}),F):null})(),p.jsx(XO,{dockSlotRef:x}),p.jsx(WO,{visible:H.visible,position:H.position,items:H.items,onClose:ce,onSelect:ve}),p.jsx(QO,{isOpen:V,onClose:()=>Q(!1),onSave:()=>{He(!1),Q(!1)},currentGraphData:me})]})}class fj extends _a.Component{constructor(n){super(n),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,r){console.error("[ErrorBoundary] Caught error:",n),console.error("[ErrorBoundary] Error info:",r),this.setState({error:n,errorInfo:r})}handleReload=()=>{window.location.reload()};handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){return this.state.hasError?p.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#1a1a2e",color:"#eee",fontFamily:"system-ui, -apple-system, sans-serif",padding:"20px",textAlign:"center"},children:p.jsxs("div",{style:{backgroundColor:"#252540",borderRadius:"12px",padding:"40px",maxWidth:"500px",boxShadow:"0 4px 20px rgba(0,0,0,0.3)"},children:[p.jsx("div",{style:{fontSize:"48px",marginBottom:"20px"},children:""}),p.jsx("h1",{style:{fontSize:"24px",marginBottom:"16px",color:"#ff6b6b"},children:"Something went wrong"}),p.jsx("p",{style:{fontSize:"14px",color:"#aaa",marginBottom:"24px",lineHeight:"1.5"},children:"The editor encountered an error and couldn't continue. This might be caused by a corrupted graph or a plugin issue."}),this.state.error&&p.jsxs("details",{style:{textAlign:"left",backgroundColor:"#1a1a2e",padding:"12px",borderRadius:"8px",marginBottom:"24px",fontSize:"12px",color:"#888"},children:[p.jsx("summary",{style:{cursor:"pointer",color:"#aaa",marginBottom:"8px"},children:"Error Details"}),p.jsxs("pre",{style:{overflow:"auto",maxHeight:"150px",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:[this.state.error.toString(),this.state.errorInfo?.componentStack]})]}),p.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[p.jsx("button",{onClick:this.handleReset,style:{padding:"12px 24px",fontSize:"14px",backgroundColor:"#3a3a5c",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:n=>n.target.style.backgroundColor="#4a4a6c",onMouseOut:n=>n.target.style.backgroundColor="#3a3a5c",children:"Try Again"}),p.jsx("button",{onClick:this.handleReload,style:{padding:"12px 24px",fontSize:"14px",backgroundColor:"#4dabf7",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:n=>n.target.style.backgroundColor="#339af0",onMouseOut:n=>n.target.style.backgroundColor="#4dabf7",children:"Reload Page"})]})]})}):this.props.children}}function hj({isLoading:a,progress:n=0,status:r="Initializing...",loadedCount:s=0,totalCount:l=0,error:c=null}){const[d,h]=E.useState(!1),[m,g]=E.useState(a);return E.useEffect(()=>{if(!a&&m){h(!0);const v=setTimeout(()=>{g(!1),h(!1)},500);return()=>clearTimeout(v)}else a&&!m&&g(!0)},[a,m]),m?p.jsxs("div",{className:`loading-overlay ${d?"fade-out":""}`,children:[p.jsx("div",{className:"loading-logo",children:""}),p.jsx("div",{className:"loading-title",children:"T2 AutoTron"}),p.jsx("div",{className:"loading-subtitle",children:"Visual Automation Editor"}),p.jsx("div",{className:"loading-progress-container",children:p.jsx("div",{className:"loading-progress-bar",children:p.jsx("div",{className:"loading-progress-fill",style:{width:`${Math.min(100,n)}%`}})})}),p.jsx("div",{className:"loading-status",children:r}),l>0&&p.jsxs("div",{className:"loading-count",children:[s," / ",l," plugins loaded"]}),c&&p.jsxs("div",{className:"loading-error",children:[" ",c]})]}):null}function pj({updateInfo:a,onClose:n,onApplyUpdate:r}){const[s,l]=E.useState(!1),[c,d]=E.useState("");if(!a||!a.hasUpdate)return null;const h=async()=>{l(!0),d("Saving current graph...");try{window.triggerGraphSave&&(await window.triggerGraphSave(),d("Graph saved! Starting update..."))}catch(g){console.warn("Pre-update graph save failed:",g)}sessionStorage.setItem("justUpdated","true"),sessionStorage.setItem("autoLoadAfterUpdate","true");try{const v=await(await un("/api/update/apply",{method:"POST",headers:{"Content-Type":"application/json"}})).json();d(v.message||"Updating... The app will restart shortly."),setTimeout(()=>{d("Update applied! Reloading page..."),setTimeout(()=>{const b=()=>{un("/api/health",{method:"GET"}).then(()=>window.location.reload()).catch(()=>setTimeout(b,2e3))};b()},3e3)},2e3)}catch(g){g.message.includes("fetch")||g.message.includes("network")?(d("Server restarting... Reloading page..."),setTimeout(()=>{const v=()=>{un("/api/health",{method:"GET"}).then(()=>window.location.reload()).catch(()=>setTimeout(v,2e3))};v()},3e3)):(d(`Update failed: ${g.message}`),l(!1))}},m=()=>{sessionStorage.setItem("updateSkipped",a.newVersion),n()};return p.jsx("div",{className:"update-modal-overlay",children:p.jsxs("div",{className:"update-modal",children:[p.jsxs("div",{className:"update-modal-header",children:[p.jsx("span",{className:"update-icon",children:""}),p.jsx("h2",{children:"Update Available!"})]}),p.jsxs("div",{className:"update-modal-version",children:[p.jsx("span",{className:"version-current",children:a.currentVersion}),p.jsx("span",{className:"version-arrow",children:""}),p.jsx("span",{className:"version-new",children:a.newVersion})]}),p.jsxs("div",{className:"update-modal-content",children:[p.jsx("h3",{children:"What's New:"}),p.jsx("div",{className:"changelog-content",children:p.jsx("pre",{children:a.changelog||"No changelog available."})})]}),c&&p.jsxs("div",{className:"update-status",children:[p.jsx("span",{className:"status-spinner",children:""}),c]}),p.jsx("div",{className:"update-modal-actions",children:s?p.jsx("div",{className:"updating-message",children:"Please wait while the update is being applied..."}):p.jsxs(p.Fragment,{children:[p.jsx("button",{className:"update-btn update-btn-primary",onClick:h,children:"Update Now"}),p.jsx("button",{className:"update-btn update-btn-secondary",onClick:m,children:"Later"})]})})]})})}const mj=()=>{try{localStorage.getItem("t2-performance-mode")==="true"&&document.body.classList.add("performance-mode")}catch(a){console.warn("Failed to apply performance mode:",a)}};mj();window.setPerformanceMode=a=>{a?(document.body.classList.add("performance-mode"),localStorage.setItem("t2-performance-mode","true")):(document.body.classList.remove("performance-mode"),localStorage.setItem("t2-performance-mode","false"))};window.getPerformanceMode=()=>document.body.classList.contains("performance-mode");const Zw=()=>{const a=r=>{const s=parseInt(r.slice(1,3),16),l=parseInt(r.slice(3,5),16),c=parseInt(r.slice(5,7),16);return`${s}, ${l}, ${c}`},n={"Home Assistant":"ha",Weather:"weather",Logic:"logic","Timer/Event":"timer",Color:"color",Utility:"utility",Inputs:"inputs",CC_Control_Nodes:"cc",Other:"other"};try{const r=localStorage.getItem("t2category-overrides");if(r){const s=JSON.parse(r),l=document.documentElement;for(const[c,d]of Object.entries(s)){const h=n[c];h&&(d.accent&&(l.style.setProperty(`--node-${h}-color`,d.accent),l.style.setProperty(`--node-${h}-color-rgb`,a(d.accent))),d.background&&l.style.setProperty(`--node-${h}-bg`,d.background))}}}catch(r){console.warn("Failed to apply stored category colors:",r)}},Xw=()=>{const a=c=>{const d=parseInt(c.slice(1,3),16),h=parseInt(c.slice(3,5),16),m=parseInt(c.slice(5,7),16);return`${d}, ${h}, ${m}`},n=(c,d=15)=>{const h=parseInt(c.slice(1),16),m=Math.max(0,(h>>16)-Math.round(255*d/100)),g=Math.max(0,(h>>8&255)-Math.round(255*d/100)),v=Math.max(0,(h&255)-Math.round(255*d/100));return`#${(16777216|m<<16|g<<8|v).toString(16).slice(1)}`},r=(c,d=20)=>{const h=parseInt(c.slice(1),16),m=Math.min(255,(h>>16)+Math.round(255*d/100)),g=Math.min(255,(h>>8&255)+Math.round(255*d/100)),v=Math.min(255,(h&255)+Math.round(255*d/100));return`#${(16777216|m<<16|g<<8|v).toString(16).slice(1)}`},s={Boolean:"boolean",Number:"number",String:"string","HSV Info":"hsv","Object/Any":"object","Light Info":"light"},l={Boolean:"#10b981",Number:"#3b82f6",String:"#f59e0b","HSV Info":"#8b5cf6","Object/Any":"#06b6d4","Light Info":"#eab308"};try{const c=localStorage.getItem("t2socket-colors"),d=c?JSON.parse(c):{},h=document.documentElement;for(const[m,g]of Object.entries(s)){const v=d[m]?.color||l[m];v&&(h.style.setProperty(`--socket-${g}-color`,v),h.style.setProperty(`--socket-${g}-dark`,n(v)),h.style.setProperty(`--socket-${g}-border`,r(v)),h.style.setProperty(`--socket-${g}-rgb`,a(v)))}}catch(c){console.warn("Failed to apply stored socket colors:",c)}};Zw();Xw();Kw();function Kw(){const a=n=>{const r=parseInt(n.slice(1,3),16),s=parseInt(n.slice(3,5),16),l=parseInt(n.slice(5,7),16);return`${r}, ${s}, ${l}`};try{const n=localStorage.getItem("t2theme-overrides");if(n){const r=JSON.parse(n),s=document.documentElement;Object.entries(r).forEach(([l,c])=>{l==="borderOpacity"?s.style.setProperty("--node-border-opacity",c/100):typeof c=="string"&&c.startsWith("#")&&(s.style.setProperty(`--theme-${l}`,c),s.style.setProperty(`--theme-${l}-rgb`,a(c)))})}}catch(n){console.warn("Failed to apply stored theme:",n)}}window.applyCategoryColors=Zw;window.applySocketColors=Xw;window.applyTheme=Kw;const Vf=new Map,qf=new Map;function gj(){const[a,n]=E.useState(ye.connected),[r,s]=E.useState({connected:!1,wsConnected:!1,deviceCount:0}),[l,c]=E.useState([]),[d,h]=E.useState([]),[m,g]=E.useState(()=>parseInt(localStorage.getItem("panelHeight"))||150),[v,b]=E.useState(()=>parseInt(localStorage.getItem("panelFontSize"))||11),[x,k]=E.useState({isLoading:!0,progress:0,status:"Starting...",loadedCount:0,totalCount:0,error:null}),[_,Z]=E.useState(null),[q,W]=E.useState(0),[K,B]=E.useState(()=>localStorage.getItem("eventLogFilter")||"all"),[Y,fe]=E.useState([]),be=E.useRef(null),H=E.useRef(null),de=E.useRef({authenticated:!1,invalidPinNotified:!1}),ie=100,pe=ap();E.useEffect(()=>{const U=setInterval(()=>{W(S=>S+1)},3e4);return()=>clearInterval(U)},[]);const Be=E.useCallback(()=>{const U=window._t2Editor;if(!U)return;const M=U.getNodes().filter(j=>j.label==="Backdrop"||j.constructor?.name==="BackdropNode"||j.properties?.width!==void 0&&j.properties?.height!==void 0&&j.properties?.title!==void 0).map(j=>({id:j.id,title:j.properties?.title||"Group",color:j.properties?.customColor||window.BackdropColorPalette?.[j.properties?.colorIndex]?.border||"#888"})).sort((j,R)=>j.title.localeCompare(R.title));fe(M)},[]);E.useEffect(()=>{const U=()=>{setTimeout(Be,200)};window.addEventListener("graphLoadComplete",U),window.refreshBackdropGroups=Be;const S=setTimeout(Be,500);return()=>{window.removeEventListener("graphLoadComplete",U),delete window.refreshBackdropGroups,clearTimeout(S)}},[Be]),E.useEffect(()=>Fw(S=>{k(S),!S.isLoading&&S.progress===100&&S.failedPlugins?.length>0&&pe.warning(`Loaded ${S.loadedCount} plugins (${S.failedPlugins.length} failed)`),S.error&&pe.error(`Plugin loading failed: ${S.error}`)}),[pe]),E.useEffect(()=>{function U(){n(!0),pe.success("Connected to server"),Ae("system","Socket connected to server"),qf.clear();const Ye=ps();Ye&&ye.emit("authenticate",Ye),ye.emit("editor-active"),ye.emit("request-ha-status")}function S(){n(!1),s({connected:!1,wsConnected:!1,deviceCount:0}),de.current.authenticated=!1,pe.warning("Disconnected from server - reconnecting..."),Ae("system","Socket disconnected from server")}function M(Ye){Ae("system",`Socket reconnected after ${Ye} attempt(s)`)}function j(Ye){Ye%5===0&&Ae("system",`Reconnection attempt ${Ye}...`)}function R(Ye){Ae("system","Reconnection failed, retrying...")}function ce(Ye){s(Ye)}function ve(){de.current.authenticated||(de.current.authenticated=!0,de.current.invalidPinNotified=!1,pe.success("Authenticated"))}function Oe(Ye){de.current.authenticated=!1;const F=(Ye?.error||"").toString();if(F.toLowerCase().includes("invalid pin")){de.current.invalidPinNotified||(de.current.invalidPinNotified=!0,pe.error("Stored PIN is invalid. Update it in Settings  Security."));return}const se=F?`Authentication failed: ${F}`:"Authentication failed";pe.error(se)}function Ge(){if(!ye.connected)return;de.current.invalidPinNotified=!1;const Ye=ps();Ye&&ye.emit("authenticate",Ye)}function He(Ye){const{id:F,state:se,on:ee,name:_e,vendor:Se}=Ye;if(!F)return;const oe=qf.get(F),C=ee!==void 0?ee:se==="on"||se==="playing"||se==="open",L=_e||Ye.friendly_name||Ye.attributes?.friendly_name||F.replace("ha_","").replace("kasa_","").replace("hue_","").replace(/\./g," ").replace(/_/g," ");if(oe&&oe.on===C)return;qf.set(F,{on:C,state:se});const ue=Vf.get(F),he=C?"ON":"OFF";let we=Se||"External";Se||(F.startsWith("ha_")?we="HA":F.startsWith("hue_")?we="Hue":F.startsWith("kasa_")&&(we="Kasa")),ue&&Date.now()-ue.timestamp<5e3?(Ae("device",`${L}  ${he}`,{source:"app",triggeredBy:ue.nodeTitle,nodeId:ue.nodeId}),Vf.delete(F)):Ae("trigger",`${L}  ${he}`,{source:we})}function Ze(Ye){}function St(Ye){const{nodeId:F,nodeLabel:se,result:ee}=Ye;Ae("node",`${se||F} executed`,{...ee,nodeId:F})}function _t(Ye){Array.isArray(Ye)&&h(Ye.slice(0,20))}function In(Ye){const{type:F,name:se,value:ee}=Ye;Ae("trigger",`${F}: ${se}`,ee)}function dn(Ye){if(Ye.isAddon||window.location.pathname.includes("/api/hassio/ingress/")){console.log("[Update] Ignoring update notification in HA add-on environment");return}if(sessionStorage.getItem("justUpdated")==="true"){sessionStorage.removeItem("justUpdated");return}sessionStorage.getItem("updateSkipped")!==Ye.newVersion&&pe.info(` Update available: ${Ye.currentVersion}  ${Ye.newVersion}`,{duration:0,actionLabel:"View Details",action:()=>Z(Ye)})}ye.on("connect",U),ye.on("disconnect",S),ye.on("reconnect",M),ye.on("reconnect_attempt",j),ye.on("reconnect_error",R),ye.on("auth-success",ve),ye.on("auth-failed",Oe),ye.on("ha-connection-status",ce),ye.on("device-state-update",He),ye.on("device_state_change",Ze),ye.on("node_executed",St),ye.on("scheduled_events",_t),ye.on("trigger_event",In),ye.on("update-available",dn),window.addEventListener("t2-pin-changed",Ge);const Pt=()=>{ye.connected&&ye.emit("editor-inactive")};window.addEventListener("beforeunload",Pt),HT();const qn=setInterval(()=>{ye.connected&&ye.emit("editor-heartbeat")},3e4);return()=>{ye.connected&&ye.emit("editor-inactive"),clearInterval(qn),ye.off("connect",U),ye.off("disconnect",S),ye.off("reconnect",M),ye.off("reconnect_attempt",j),ye.off("reconnect_error",R),ye.off("auth-success",ve),ye.off("auth-failed",Oe),ye.off("ha-connection-status",ce),ye.off("device-state-update",He),ye.off("device_state_change",Ze),ye.off("node_executed",St),ye.off("scheduled_events",_t),ye.off("trigger_event",In),ye.off("update-available",dn),window.removeEventListener("t2-pin-changed",Ge),window.removeEventListener("beforeunload",Pt),VT()}},[]);const Ae=(U,S,M=null)=>{const j=new Date().toLocaleTimeString();c(R=>[{timestamp:j,type:U,message:S,details:M},...R].slice(0,ie))},Je=E.useRef({}),rt=E.useCallback((U,S)=>{const M=S.map(ve=>({...ve,nodeId:U}));Je.current[U]=M;const j=[];Object.values(Je.current).forEach(ve=>{Array.isArray(ve)&&j.push(...ve)});const R=new Date,ce=j.filter(ve=>ve.time&&new Date(ve.time)>R).sort((ve,Oe)=>new Date(ve.time)-new Date(Oe.time)).slice(0,20);h(ce)},[]),We=E.useCallback(U=>{delete Je.current[U],rt(U,[])},[rt]);E.useEffect(()=>(window.addEventLog=Ae,window.setUpcomingEvents=h,window.registerScheduledEvents=rt,window.unregisterScheduledEvents=We,window.T2Toast=pe,window.registerPendingCommand=(U,S,M,j)=>{Vf.set(U,{nodeTitle:S,action:M,nodeId:j,timestamp:Date.now()})},()=>{delete window.addEventLog,delete window.setUpcomingEvents,delete window.registerScheduledEvents,delete window.unregisterScheduledEvents,delete window.registerPendingCommand,delete window.T2Toast}),[rt,We,pe]);const O=U=>{if(!U)return"";const S=new Date(U),j=S-new Date,R=Math.floor(j/6e4),ce=Math.floor(R/60),ve=Math.floor(ce/24);let Oe="";return ve>0?Oe=`${ve}d ${ce%24}h`:ce>0?Oe=`${ce}h ${R%60}m`:R>0?Oe=`${R}m`:Oe="<1m",`${S.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})} (${Oe})`},V=E.useCallback(async U=>{if(!U)return;const S=window._t2Area,M=window._t2Editor;if(!S||!M){console.warn("[focusNode] Editor not ready");return}const j=M.getNode(U);if(!j){console.warn("[focusNode] Node not found:",U);return}try{const{AreaExtensions:R}=await Jy(async()=>{const{AreaExtensions:ce}=await Promise.resolve().then(()=>Cv);return{AreaExtensions:ce}},void 0,import.meta.url);await R.zoomAt(S,[j],{scale:1})}catch(R){console.warn("[focusNode] Failed to zoom to node:",R)}},[]),Q=E.useCallback(async U=>{if(!U)return;const S=window._t2Area,M=window._t2Editor;if(!S||!M){console.warn("[focusBackdrop] Editor not ready");return}const j=M.getNode(U);if(!j){console.warn("[focusBackdrop] Backdrop not found:",U);return}try{const R=S.nodeViews.get(U);if(!R){console.warn("[focusBackdrop] Node view not found");return}const ce=R.position,ve=j.properties?.width||j.width||400,Oe=j.properties?.height||j.height||300,Ge=ce.x+ve/2,He=ce.y+Oe/2,Ze=S.container,St=Ze.clientWidth,_t=Ze.clientHeight,In=St*.85/ve,dn=_t*.85/Oe,Pt=Math.min(In,dn,1.5),qn=St/2-Ge*Pt,Ye=_t/2-He*Pt;await S.area.zoom(Pt,0,0),await S.area.translate(qn,Ye)}catch(R){console.warn("[focusBackdrop] Failed to zoom to backdrop:",R)}},[]),me=E.useCallback(async()=>{const U=window._t2Area,S=window._t2Editor;if(!U||!S){console.warn("[zoomExtents] Editor not ready");return}const M=S.getNodes();if(M.length===0){console.warn("[zoomExtents] No nodes in graph");return}try{const{AreaExtensions:j}=await Jy(async()=>{const{AreaExtensions:R}=await Promise.resolve().then(()=>Cv);return{AreaExtensions:R}},void 0,import.meta.url);await j.zoomAt(U,M,{scale:.7})}catch(j){console.warn("[zoomExtents] Failed to zoom:",j)}},[]);return p.jsxs("div",{className:"app-container",children:[_&&_.hasUpdate&&p.jsx(pj,{updateInfo:_,onClose:()=>Z(null)}),p.jsx(hj,{isLoading:x.isLoading,progress:x.progress,status:x.status,loadedCount:x.loadedCount,totalCount:x.totalCount,error:x.error}),p.jsx("div",{className:"editor-wrapper",children:p.jsx(dj,{})}),p.jsx("div",{className:"resize-handle",ref:H,onMouseDown:U=>{U.preventDefault();const S=U.clientY,M=m,j=ce=>{const ve=S-ce.clientY,Oe=Math.max(80,Math.min(400,M+ve));g(Oe),localStorage.setItem("panelHeight",Oe)},R=()=>{document.removeEventListener("mousemove",j),document.removeEventListener("mouseup",R)};document.addEventListener("mousemove",j),document.addEventListener("mouseup",R)},children:p.jsx("div",{className:"resize-handle-grip"})}),p.jsxs("div",{className:"bottom-panels",style:{height:m,fontSize:v},children:[p.jsxs("div",{className:"panel event-log-panel",children:[p.jsxs("div",{className:"panel-header",children:[p.jsx("span",{className:"panel-title",children:"Event Log"}),p.jsxs("div",{className:"group-nav-buttons",children:[p.jsx("button",{className:"group-nav-btn group-nav-all",onClick:me,title:"Zoom to fit all nodes (F key)",children:" All"}),Y.map(U=>p.jsx("button",{className:"group-nav-btn",style:{borderColor:U.color},onClick:()=>Q(U.id),title:`Zoom to "${U.title}" group`,children:U.title},U.id))]}),p.jsxs("div",{className:"panel-controls",children:[p.jsxs("div",{className:"filter-buttons",children:[p.jsx("button",{className:`filter-btn ${K==="all"?"active":""}`,onClick:()=>{B("all"),localStorage.setItem("eventLogFilter","all")},children:"All"}),p.jsx("button",{className:`filter-btn ${K==="app"?"active":""}`,onClick:()=>{B("app"),localStorage.setItem("eventLogFilter","app")},children:"App"}),p.jsx("button",{className:`filter-btn ${K==="ha"?"active":""}`,onClick:()=>{B("ha"),localStorage.setItem("eventLogFilter","ha")},children:"HA"})]}),p.jsx("button",{className:"font-size-btn",onClick:()=>{const U=Math.max(8,v-1);b(U),localStorage.setItem("panelFontSize",U)},children:"A-"}),p.jsxs("span",{className:"font-size-label",children:[v,"px"]}),p.jsx("button",{className:"font-size-btn",onClick:()=>{const U=Math.min(16,v+1);b(U),localStorage.setItem("panelFontSize",U)},children:"A+"}),p.jsx("button",{className:"panel-clear-btn",onClick:()=>c([]),children:"Clear"})]})]}),p.jsx("div",{className:"panel-content",ref:be,children:l.length===0?p.jsx("div",{className:"empty-message",children:"No events yet..."}):l.filter(U=>K==="all"?!0:K==="app"?U.details?.triggeredBy||U.details?.source==="app"||U.type==="node"||U.type==="device"||U.type==="system":K==="ha"?U.type==="trigger"||U.details?.source&&U.details.source!=="app"&&!U.details?.triggeredBy:!0).map((U,S)=>p.jsxs("div",{className:`log-entry log-${U.type}${U.details?.nodeId?" clickable":""}`,title:U.details?.nodeId?"Click to jump to this node":U.details?.triggeredBy?`Triggered by: ${U.details.triggeredBy}`:U.details?.source&&U.details.source!=="app"?`Triggered externally via ${U.details.source}`:"",onClick:()=>U.details?.nodeId&&V(U.details.nodeId),style:U.details?.nodeId?{cursor:"pointer"}:{},children:[p.jsx("span",{className:"log-time",children:U.timestamp}),p.jsx("span",{className:`log-type-badge ${U.type}`,children:U.type==="trigger"?"external":U.type}),p.jsx("span",{className:"log-message",children:U.message}),U.details?.triggeredBy&&p.jsxs("span",{className:"log-source app-source",children:["via ",U.details.triggeredBy]}),U.details?.source&&U.details.source!=="app"&&!U.details?.triggeredBy&&p.jsxs("span",{className:"log-source external-source",children:["via ",U.details.source]})]},S))})]}),p.jsxs("div",{className:"panel upcoming-events-panel",children:[p.jsx("div",{className:"panel-header",children:p.jsx("span",{className:"panel-title",children:"Upcoming Events"})}),p.jsx("div",{className:"panel-content",children:d.length===0?p.jsx("div",{className:"empty-message",children:"No scheduled events..."}):d.map((U,S)=>p.jsxs("div",{className:`event-entry event-${U.action||"unknown"}${U.nodeId?" clickable":""}`,onClick:()=>U.nodeId&&V(U.nodeId),title:U.nodeId?"Click to jump to this node":"",style:U.nodeId?{cursor:"pointer"}:{},children:[p.jsx("span",{className:"event-time",children:O(U.time)}),p.jsx("span",{className:`event-action ${U.action}`,children:U.action||"event"}),p.jsx("span",{className:"event-device",children:U.deviceName||U.device||"Unknown"})]},S))})]})]})]})}function yj(){return p.jsx(fj,{children:p.jsxs(FO,{children:[p.jsx(PO,{}),p.jsx(gj,{})]})})}typeof window.api<"u"&&console.log("T2AutoTron running in Electron mode");ub.createRoot(document.getElementById("root")).render(p.jsx(E.StrictMode,{children:p.jsx(yj,{})}));
