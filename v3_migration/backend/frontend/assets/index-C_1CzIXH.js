function H0(a,n){for(var r=0;r<n.length;r++){const s=n[r];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in a)){const u=Object.getOwnPropertyDescriptor(s,l);u&&Object.defineProperty(a,l,u.get?u:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();function th(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Rf={exports:{}},Fs={};var Og;function Bx(){if(Og)return Fs;Og=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(s,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var h in l)h!=="key"&&(u[h]=l[h])}else u=l;return l=u.ref,{$$typeof:a,type:s,key:d,ref:l!==void 0?l:null,props:u}}return Fs.Fragment=n,Fs.jsx=r,Fs.jsxs=r,Fs}var Tg;function Ux(){return Tg||(Tg=1,Rf.exports=Bx()),Rf.exports}var g=Ux(),Lf={exports:{}},Re={};var Cg;function Hx(){if(Cg)return Re;Cg=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),S=Symbol.iterator;function k(x){return x===null||typeof x!="object"?null:(x=S&&x[S]||x["@@iterator"],typeof x=="function"?x:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,Y={};function K(x,E,N){this.props=x,this.context=E,this.refs=Y,this.updater=N||M}K.prototype.isReactComponent={},K.prototype.setState=function(x,E){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,E,"setState")},K.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function q(){}q.prototype=K.prototype;function U(x,E,N){this.props=x,this.context=E,this.refs=Y,this.updater=N||M}var G=U.prototype=new q;G.constructor=U,P(G,K.prototype),G.isPureReactComponent=!0;var re=Array.isArray;function oe(){}var ee={H:null,A:null,T:null,S:null},he=Object.prototype.hasOwnProperty;function I(x,E,N){var D=N.ref;return{$$typeof:a,type:x,key:E,ref:D!==void 0?D:null,props:N}}function ae(x,E){return I(x.type,E,x.props)}function Ee(x){return typeof x=="object"&&x!==null&&x.$$typeof===a}function Oe(x){var E={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(N){return E[N]})}var Ce=/\/+/g;function ze(x,E){return typeof x=="object"&&x!==null&&x.key!=null?Oe(""+x.key):E.toString(36)}function ne(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(oe,oe):(x.status="pending",x.then(function(E){x.status==="pending"&&(x.status="fulfilled",x.value=E)},function(E){x.status==="pending"&&(x.status="rejected",x.reason=E)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function A(x,E,N,D,Z){var se=typeof x;(se==="undefined"||se==="boolean")&&(x=null);var ue=!1;if(x===null)ue=!0;else switch(se){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(x.$$typeof){case a:case n:ue=!0;break;case v:return ue=x._init,A(ue(x._payload),E,N,D,Z)}}if(ue)return Z=Z(x),ue=D===""?"."+ze(x,0):D,re(Z)?(N="",ue!=null&&(N=ue.replace(Ce,"$&/")+"/"),A(Z,E,N,"",function(Ne){return Ne})):Z!=null&&(Ee(Z)&&(Z=ae(Z,N+(Z.key==null||x&&x.key===Z.key?"":(""+Z.key).replace(Ce,"$&/")+"/")+ue)),E.push(Z)),1;ue=0;var le=D===""?".":D+":";if(re(x))for(var me=0;me<x.length;me++)D=x[me],se=le+ze(D,me),ue+=A(D,E,N,se,Z);else if(me=k(x),typeof me=="function")for(x=me.call(x),me=0;!(D=x.next()).done;)D=D.value,se=le+ze(D,me++),ue+=A(D,E,N,se,Z);else if(se==="object"){if(typeof x.then=="function")return A(ne(x),E,N,D,Z);throw E=String(x),Error("Objects are not valid as a React child (found: "+(E==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":E)+"). If you meant to render a collection of children, use an array instead.")}return ue}function _(x,E,N){if(x==null)return x;var D=[],Z=0;return A(x,D,"","",function(se){return E.call(N,se,Z++)}),D}function H(x){if(x._status===-1){var E=x._result;E=E(),E.then(function(N){(x._status===0||x._status===-1)&&(x._status=1,x._result=N)},function(N){(x._status===0||x._status===-1)&&(x._status=2,x._result=N)}),x._status===-1&&(x._status=0,x._result=E)}if(x._status===1)return x._result.default;throw x._result}var z=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var E=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(E))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},J={map:_,forEach:function(x,E,N){_(x,function(){E.apply(this,arguments)},N)},count:function(x){var E=0;return _(x,function(){E++}),E},toArray:function(x){return _(x,function(E){return E})||[]},only:function(x){if(!Ee(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Re.Activity=w,Re.Children=J,Re.Component=K,Re.Fragment=r,Re.Profiler=l,Re.PureComponent=U,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ee,Re.__COMPILER_RUNTIME={__proto__:null,c:function(x){return ee.H.useMemoCache(x)}},Re.cache=function(x){return function(){return x.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(x,E,N){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var D=P({},x.props),Z=x.key;if(E!=null)for(se in E.key!==void 0&&(Z=""+E.key),E)!he.call(E,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&E.ref===void 0||(D[se]=E[se]);var se=arguments.length-2;if(se===1)D.children=N;else if(1<se){for(var ue=Array(se),le=0;le<se;le++)ue[le]=arguments[le+2];D.children=ue}return I(x.type,Z,D)},Re.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Re.createElement=function(x,E,N){var D,Z={},se=null;if(E!=null)for(D in E.key!==void 0&&(se=""+E.key),E)he.call(E,D)&&D!=="key"&&D!=="__self"&&D!=="__source"&&(Z[D]=E[D]);var ue=arguments.length-2;if(ue===1)Z.children=N;else if(1<ue){for(var le=Array(ue),me=0;me<ue;me++)le[me]=arguments[me+2];Z.children=le}if(x&&x.defaultProps)for(D in ue=x.defaultProps,ue)Z[D]===void 0&&(Z[D]=ue[D]);return I(x,se,Z)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(x){return{$$typeof:h,render:x}},Re.isValidElement=Ee,Re.lazy=function(x){return{$$typeof:v,_payload:{_status:-1,_result:x},_init:H}},Re.memo=function(x,E){return{$$typeof:m,type:x,compare:E===void 0?null:E}},Re.startTransition=function(x){var E=ee.T,N={};ee.T=N;try{var D=x(),Z=ee.S;Z!==null&&Z(N,D),typeof D=="object"&&D!==null&&typeof D.then=="function"&&D.then(oe,z)}catch(se){z(se)}finally{E!==null&&N.types!==null&&(E.types=N.types),ee.T=E}},Re.unstable_useCacheRefresh=function(){return ee.H.useCacheRefresh()},Re.use=function(x){return ee.H.use(x)},Re.useActionState=function(x,E,N){return ee.H.useActionState(x,E,N)},Re.useCallback=function(x,E){return ee.H.useCallback(x,E)},Re.useContext=function(x){return ee.H.useContext(x)},Re.useDebugValue=function(){},Re.useDeferredValue=function(x,E){return ee.H.useDeferredValue(x,E)},Re.useEffect=function(x,E){return ee.H.useEffect(x,E)},Re.useEffectEvent=function(x){return ee.H.useEffectEvent(x)},Re.useId=function(){return ee.H.useId()},Re.useImperativeHandle=function(x,E,N){return ee.H.useImperativeHandle(x,E,N)},Re.useInsertionEffect=function(x,E){return ee.H.useInsertionEffect(x,E)},Re.useLayoutEffect=function(x,E){return ee.H.useLayoutEffect(x,E)},Re.useMemo=function(x,E){return ee.H.useMemo(x,E)},Re.useOptimistic=function(x,E){return ee.H.useOptimistic(x,E)},Re.useReducer=function(x,E,N){return ee.H.useReducer(x,E,N)},Re.useRef=function(x){return ee.H.useRef(x)},Re.useState=function(x){return ee.H.useState(x)},Re.useSyncExternalStore=function(x,E,N){return ee.H.useSyncExternalStore(x,E,N)},Re.useTransition=function(){return ee.H.useTransition()},Re.version="19.2.0",Re}var Ng;function nh(){return Ng||(Ng=1,Lf.exports=Hx()),Lf.exports}var T=nh();const Ua=th(T),$x=H0({__proto__:null,default:Ua},[T]);var Bf={exports:{}},Ks={},Uf={exports:{}},Hf={};var _g;function Vx(){return _g||(_g=1,(function(a){function n(A,_){var H=A.length;A.push(_);e:for(;0<H;){var z=H-1>>>1,J=A[z];if(0<l(J,_))A[z]=_,A[H]=J,H=z;else break e}}function r(A){return A.length===0?null:A[0]}function s(A){if(A.length===0)return null;var _=A[0],H=A.pop();if(H!==_){A[0]=H;e:for(var z=0,J=A.length,x=J>>>1;z<x;){var E=2*(z+1)-1,N=A[E],D=E+1,Z=A[D];if(0>l(N,H))D<J&&0>l(Z,N)?(A[z]=Z,A[D]=H,z=D):(A[z]=N,A[E]=H,z=E);else if(D<J&&0>l(Z,H))A[z]=Z,A[D]=H,z=D;else break e}}return _}function l(A,_){var H=A.sortIndex-_.sortIndex;return H!==0?H:A.id-_.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();a.unstable_now=function(){return d.now()-h}}var p=[],m=[],v=1,w=null,S=3,k=!1,M=!1,P=!1,Y=!1,K=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function G(A){for(var _=r(m);_!==null;){if(_.callback===null)s(m);else if(_.startTime<=A)s(m),_.sortIndex=_.expirationTime,n(p,_);else break;_=r(m)}}function re(A){if(P=!1,G(A),!M)if(r(p)!==null)M=!0,oe||(oe=!0,Oe());else{var _=r(m);_!==null&&ne(re,_.startTime-A)}}var oe=!1,ee=-1,he=5,I=-1;function ae(){return Y?!0:!(a.unstable_now()-I<he)}function Ee(){if(Y=!1,oe){var A=a.unstable_now();I=A;var _=!0;try{e:{M=!1,P&&(P=!1,q(ee),ee=-1),k=!0;var H=S;try{t:{for(G(A),w=r(p);w!==null&&!(w.expirationTime>A&&ae());){var z=w.callback;if(typeof z=="function"){w.callback=null,S=w.priorityLevel;var J=z(w.expirationTime<=A);if(A=a.unstable_now(),typeof J=="function"){w.callback=J,G(A),_=!0;break t}w===r(p)&&s(p),G(A)}else s(p);w=r(p)}if(w!==null)_=!0;else{var x=r(m);x!==null&&ne(re,x.startTime-A),_=!1}}break e}finally{w=null,S=H,k=!1}_=void 0}}finally{_?Oe():oe=!1}}}var Oe;if(typeof U=="function")Oe=function(){U(Ee)};else if(typeof MessageChannel<"u"){var Ce=new MessageChannel,ze=Ce.port2;Ce.port1.onmessage=Ee,Oe=function(){ze.postMessage(null)}}else Oe=function(){K(Ee,0)};function ne(A,_){ee=K(function(){A(a.unstable_now())},_)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(A){A.callback=null},a.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<A?Math.floor(1e3/A):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_next=function(A){switch(S){case 1:case 2:case 3:var _=3;break;default:_=S}var H=S;S=_;try{return A()}finally{S=H}},a.unstable_requestPaint=function(){Y=!0},a.unstable_runWithPriority=function(A,_){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var H=S;S=A;try{return _()}finally{S=H}},a.unstable_scheduleCallback=function(A,_,H){var z=a.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?z+H:z):H=z,A){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=H+J,A={id:v++,callback:_,priorityLevel:A,startTime:H,expirationTime:J,sortIndex:-1},H>z?(A.sortIndex=H,n(m,A),r(p)===null&&A===r(m)&&(P?(q(ee),ee=-1):P=!0,ne(re,H-z))):(A.sortIndex=J,n(p,A),M||k||(M=!0,oe||(oe=!0,Oe()))),A},a.unstable_shouldYield=ae,a.unstable_wrapCallback=function(A){var _=S;return function(){var H=S;S=_;try{return A.apply(this,arguments)}finally{S=H}}}})(Hf)),Hf}var Ag;function qx(){return Ag||(Ag=1,Uf.exports=Vx()),Uf.exports}var $f={exports:{}},tn={};var jg;function Yx(){if(jg)return tn;jg=1;var a=nh();function n(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,m,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:p,containerInfo:m,implementation:v}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,tn.createPortal=function(p,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(n(299));return u(p,m,null,v)},tn.flushSync=function(p){var m=d.T,v=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=m,s.p=v,s.d.f()}},tn.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(p,m))},tn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},tn.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var v=m.as,w=h(v,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,k=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?s.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:k}):v==="script"&&s.d.X(p,{crossOrigin:w,integrity:S,fetchPriority:k,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},tn.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=h(m.as,m.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(p)},tn.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,w=h(v,m.crossOrigin);s.d.L(p,v,{crossOrigin:w,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},tn.preloadModule=function(p,m){if(typeof p=="string")if(m){var v=h(m.as,m.crossOrigin);s.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(p)},tn.requestFormReset=function(p){s.d.r(p)},tn.unstable_batchedUpdates=function(p,m){return p(m)},tn.useFormState=function(p,m,v){return d.H.useFormState(p,m,v)},tn.useFormStatus=function(){return d.H.useHostTransitionStatus()},tn.version="19.2.0",tn}var Dg;function $0(){if(Dg)return $f.exports;Dg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),$f.exports=Yx(),$f.exports}var Mg;function Ix(){if(Mg)return Ks;Mg=1;var a=qx(),n=nh(),r=$0();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function m(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(s(188));return t!==e?null:e}for(var i=e,o=t;;){var c=i.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){i=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===i)return p(c),e;if(f===o)return p(c),t;f=f.sibling}throw Error(s(188))}if(i.return!==o.return)i=c,o=f;else{for(var y=!1,b=c.child;b;){if(b===i){y=!0,i=c,o=f;break}if(b===o){y=!0,o=c,i=f;break}b=b.sibling}if(!y){for(b=f.child;b;){if(b===i){y=!0,i=f,o=c;break}if(b===o){y=!0,o=f,i=c;break}b=b.sibling}if(!y)throw Error(s(189))}}if(i.alternate!==o)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var w=Object.assign,S=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),q=Symbol.for("react.consumer"),U=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),ee=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),Ee=Symbol.iterator;function Oe(e){return e===null||typeof e!="object"?null:(e=Ee&&e[Ee]||e["@@iterator"],typeof e=="function"?e:null)}var Ce=Symbol.for("react.client.reference");function ze(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ce?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case P:return"Fragment";case K:return"Profiler";case Y:return"StrictMode";case re:return"Suspense";case oe:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case U:return e.displayName||"Context";case q:return(e._context.displayName||"Context")+".Consumer";case G:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ee:return t=e.displayName||null,t!==null?t:ze(e.type)||"Memo";case he:t=e._payload,e=e._init;try{return ze(e(t))}catch{}}return null}var ne=Array.isArray,A=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},z=[],J=-1;function x(e){return{current:e}}function E(e){0>J||(e.current=z[J],z[J]=null,J--)}function N(e,t){J++,z[J]=e.current,e.current=t}var D=x(null),Z=x(null),se=x(null),ue=x(null);function le(e,t){switch(N(se,t),N(Z,e),N(D,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Fy(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Fy(t),e=Ky(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}E(D),N(D,e)}function me(){E(D),E(Z),E(se)}function Ne(e){e.memoizedState!==null&&N(ue,e);var t=D.current,i=Ky(t,e.type);t!==i&&(N(Z,e),N(D,i))}function Ye(e){Z.current===e&&(E(D),E(Z)),ue.current===e&&(E(ue),Is._currentValue=H)}var pe,_e;function Le(e){if(pe===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);pe=t&&t[1]||"",_e=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pe+e+_e}var xt=!1;function un(e,t){if(!e||xt)return"";xt=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(t){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(V){var B=V}Reflect.construct(e,[],W)}else{try{W.call()}catch(V){B=V}e.call(W.prototype)}}else{try{throw Error()}catch(V){B=V}(W=e())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(V){if(V&&B&&typeof V.stack=="string")return[V.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],b=f[1];if(y&&b){var O=y.split(`
`),L=b.split(`
`);for(c=o=0;o<O.length&&!O[o].includes("DetermineComponentFrameRoot");)o++;for(;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;if(o===O.length||c===L.length)for(o=O.length-1,c=L.length-1;1<=o&&0<=c&&O[o]!==L[c];)c--;for(;1<=o&&0<=c;o--,c--)if(O[o]!==L[c]){if(o!==1||c!==1)do if(o--,c--,0>c||O[o]!==L[c]){var X=`
`+O[o].replace(" at new "," at ");return e.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",e.displayName)),X}while(1<=o&&0<=c);break}}}finally{xt=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Le(i):""}function ra(e,t){switch(e.tag){case 26:case 27:case 5:return Le(e.type);case 16:return Le("Lazy");case 13:return e.child!==t&&t!==null?Le("Suspense Fallback"):Le("Suspense");case 19:return Le("SuspenseList");case 0:case 15:return un(e.type,!1);case 11:return un(e.type.render,!1);case 1:return un(e.type,!0);case 31:return Le("Activity");default:return""}}function Be(e){try{var t="",i=null;do t+=ra(e,i),i=e,e=e.return;while(e);return t}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var it=Object.prototype.hasOwnProperty,At=a.unstable_scheduleCallback,mt=a.unstable_cancelCallback,bn=a.unstable_shouldYield,en=a.unstable_requestPaint,Mt=a.unstable_now,Xr=a.unstable_getCurrentPriorityLevel,gr=a.unstable_ImmediatePriority,vr=a.unstable_UserBlockingPriority,$=a.unstable_NormalPriority,F=a.unstable_LowPriority,fe=a.unstable_IdlePriority,ye=a.log,He=a.unstable_setDisableYieldValue,kt=null,Ct=null;function je(e){if(typeof ye=="function"&&He(e),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(kt,e)}catch{}}var st=Math.clz32?Math.clz32:xe,te=Math.log,ie=Math.LN2;function xe(e){return e>>>=0,e===0?32:31-(te(e)/ie|0)|0}var ve=256,De=262144,nt=4194304;function vt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function wn(e,t,i){var o=e.pendingLanes;if(o===0)return 0;var c=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var b=o&134217727;return b!==0?(o=b&~f,o!==0?c=vt(o):(y&=b,y!==0?c=vt(y):i||(i=b&~e,i!==0&&(c=vt(i))))):(b=o&~f,b!==0?c=vt(b):y!==0?c=vt(y):i||(i=o&~e,i!==0&&(c=vt(i)))),c===0?0:t!==0&&t!==c&&(t&f)===0&&(f=c&-c,i=t&-t,f>=i||f===32&&(i&4194048)!==0)?t:c}function qt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Sn(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zt(){var e=nt;return nt<<=1,(nt&62914560)===0&&(nt=4194304),e}function xn(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Mn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Eu(e,t,i,o,c,f){var y=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var b=e.entanglements,O=e.expirationTimes,L=e.hiddenUpdates;for(i=y&~i;0<i;){var X=31-st(i),W=1<<X;b[X]=0,O[X]=-1;var B=L[X];if(B!==null)for(L[X]=null,X=0;X<B.length;X++){var V=B[X];V!==null&&(V.lane&=-536870913)}i&=~W}o!==0&&vo(e,o,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~t))}function vo(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var o=31-st(t);e.entangledLanes|=t,e.entanglements[o]=e.entanglements[o]|1073741824|i&261930}function as(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var o=31-st(i),c=1<<o;c&t|e[o]&t&&(e[o]|=t),i&=~c}}function rs(e,t){var i=t&-t;return i=(i&42)!==0?1:bo(i),(i&(e.suspendedLanes|t))!==0?0:i}function bo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ku(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Mh(){var e=_.p;return e!==0?e:(e=window.event,e===void 0?32:vg(e.type))}function zh(e,t){var i=_.p;try{return _.p=e,t()}finally{_.p=i}}var Ha=Math.random().toString(36).slice(2),Xt="__reactFiber$"+Ha,cn="__reactProps$"+Ha,Fr="__reactContainer$"+Ha,Ou="__reactEvents$"+Ha,Tw="__reactListeners$"+Ha,Cw="__reactHandles$"+Ha,Rh="__reactResources$"+Ha,is="__reactMarker$"+Ha;function Tu(e){delete e[Xt],delete e[cn],delete e[Ou],delete e[Tw],delete e[Cw]}function Kr(e){var t=e[Xt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Fr]||i[Xt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=ng(e);e!==null;){if(i=e[Xt])return i;e=ng(e)}return t}e=i,i=e.parentNode}return null}function Qr(e){if(e=e[Xt]||e[Fr]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ss(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function Jr(e){var t=e[Rh];return t||(t=e[Rh]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Yt(e){e[is]=!0}var Lh=new Set,Bh={};function br(e,t){Pr(e,t),Pr(e+"Capture",t)}function Pr(e,t){for(Bh[e]=t,e=0;e<t.length;e++)Lh.add(t[e])}var Nw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uh={},Hh={};function _w(e){return it.call(Hh,e)?!0:it.call(Uh,e)?!1:Nw.test(e)?Hh[e]=!0:(Uh[e]=!0,!1)}function wo(e,t,i){if(_w(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var o=t.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function So(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function ya(e,t,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+o)}}function zn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $h(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Aw(e,t,i){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,f=o.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(y){i=""+y,f.call(this,y)}}),Object.defineProperty(e,t,{enumerable:o.enumerable}),{getValue:function(){return i},setValue:function(y){i=""+y},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cu(e){if(!e._valueTracker){var t=$h(e)?"checked":"value";e._valueTracker=Aw(e,t,""+e[t])}}function Vh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),o="";return e&&(o=$h(e)?e.checked?"true":"false":e.value),e=o,e!==i?(t.setValue(e),!0):!1}function xo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var jw=/[\n"\\]/g;function Rn(e){return e.replace(jw,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Nu(e,t,i,o,c,f,y,b){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),t!=null?y==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+zn(t)):e.value!==""+zn(t)&&(e.value=""+zn(t)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),t!=null?_u(e,y,zn(t)):i!=null?_u(e,y,zn(i)):o!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+zn(b):e.removeAttribute("name")}function qh(e,t,i,o,c,f,y,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||t!=null)){Cu(e);return}i=i!=null?""+zn(i):"",t=t!=null?""+zn(t):i,b||t===e.value||(e.value=t),e.defaultValue=t}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=b?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Cu(e)}function _u(e,t,i){t==="number"&&xo(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Wr(e,t,i,o){if(e=e.options,t){t={};for(var c=0;c<i.length;c++)t["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=t.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&o&&(e[i].defaultSelected=!0)}else{for(i=""+zn(i),t=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Yh(e,t,i){if(t!=null&&(t=""+zn(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+zn(i):""}function Ih(e,t,i,o){if(t==null){if(o!=null){if(i!=null)throw Error(s(92));if(ne(o)){if(1<o.length)throw Error(s(93));o=o[0]}i=o}i==null&&(i=""),t=i}i=zn(t),e.defaultValue=i,o=e.textContent,o===i&&o!==""&&o!==null&&(e.value=o),Cu(e)}function ei(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Dw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gh(e,t,i){var o=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":o?e.setProperty(t,i):typeof i!="number"||i===0||Dw.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Zh(e,t,i){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||t!=null&&t.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in t)o=t[c],t.hasOwnProperty(c)&&i[c]!==o&&Gh(e,c,o)}else for(var f in t)t.hasOwnProperty(f)&&Gh(e,f,t[f])}function Au(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Eo(e){return zw.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ga(){}var ju=null;function Du(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ti=null,ni=null;function Xh(e){var t=Qr(e);if(t&&(e=t.stateNode)){var i=e[cn]||null;e:switch(e=t.stateNode,t.type){case"input":if(Nu(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Rn(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var o=i[t];if(o!==e&&o.form===e.form){var c=o[cn]||null;if(!c)throw Error(s(90));Nu(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<i.length;t++)o=i[t],o.form===e.form&&Vh(o)}break e;case"textarea":Yh(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Wr(e,!!i.multiple,t,!1)}}}var Mu=!1;function Fh(e,t,i){if(Mu)return e(t,i);Mu=!0;try{var o=e(t);return o}finally{if(Mu=!1,(ti!==null||ni!==null)&&(cl(),ti&&(t=ti,e=ni,ni=ti=null,Xh(t),e)))for(t=0;t<e.length;t++)Xh(e[t])}}function os(e,t){var i=e.stateNode;if(i===null)return null;var o=i[cn]||null;if(o===null)return null;i=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,t,typeof i));return i}var va=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zu=!1;if(va)try{var ls={};Object.defineProperty(ls,"passive",{get:function(){zu=!0}}),window.addEventListener("test",ls,ls),window.removeEventListener("test",ls,ls)}catch{zu=!1}var $a=null,Ru=null,ko=null;function Kh(){if(ko)return ko;var e,t=Ru,i=t.length,o,c="value"in $a?$a.value:$a.textContent,f=c.length;for(e=0;e<i&&t[e]===c[e];e++);var y=i-e;for(o=1;o<=y&&t[i-o]===c[f-o];o++);return ko=c.slice(e,1<o?1-o:void 0)}function Oo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function To(){return!0}function Qh(){return!1}function fn(e){function t(i,o,c,f,y){this._reactName=i,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(i=e[b],this[b]=i?i(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?To:Qh,this.isPropagationStopped=Qh,this}return w(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=To)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=To)},persist:function(){},isPersistent:To}),t}var wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Co=fn(wr),us=w({},wr,{view:0,detail:0}),Rw=fn(us),Lu,Bu,cs,No=w({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cs&&(cs&&e.type==="mousemove"?(Lu=e.screenX-cs.screenX,Bu=e.screenY-cs.screenY):Bu=Lu=0,cs=e),Lu)},movementY:function(e){return"movementY"in e?e.movementY:Bu}}),Jh=fn(No),Lw=w({},No,{dataTransfer:0}),Bw=fn(Lw),Uw=w({},us,{relatedTarget:0}),Uu=fn(Uw),Hw=w({},wr,{animationName:0,elapsedTime:0,pseudoElement:0}),$w=fn(Hw),Vw=w({},wr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),qw=fn(Vw),Yw=w({},wr,{data:0}),Ph=fn(Yw),Iw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Zw[e])?!!t[e]:!1}function Hu(){return Xw}var Fw=w({},us,{key:function(e){if(e.key){var t=Iw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Oo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hu,charCode:function(e){return e.type==="keypress"?Oo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Oo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Kw=fn(Fw),Qw=w({},No,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wh=fn(Qw),Jw=w({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hu}),Pw=fn(Jw),Ww=w({},wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),eS=fn(Ww),tS=w({},No,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),nS=fn(tS),aS=w({},wr,{newState:0,oldState:0}),rS=fn(aS),iS=[9,13,27,32],$u=va&&"CompositionEvent"in window,fs=null;va&&"documentMode"in document&&(fs=document.documentMode);var sS=va&&"TextEvent"in window&&!fs,ep=va&&(!$u||fs&&8<fs&&11>=fs),tp=" ",np=!1;function ap(e,t){switch(e){case"keyup":return iS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ai=!1;function oS(e,t){switch(e){case"compositionend":return rp(t);case"keypress":return t.which!==32?null:(np=!0,tp);case"textInput":return e=t.data,e===tp&&np?null:e;default:return null}}function lS(e,t){if(ai)return e==="compositionend"||!$u&&ap(e,t)?(e=Kh(),ko=Ru=$a=null,ai=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ep&&t.locale!=="ko"?null:t.data;default:return null}}var uS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ip(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!uS[e.type]:t==="textarea"}function sp(e,t,i,o){ti?ni?ni.push(o):ni=[o]:ti=o,t=gl(t,"onChange"),0<t.length&&(i=new Co("onChange","change",null,i,o),e.push({event:i,listeners:t}))}var ds=null,hs=null;function cS(e){qy(e,0)}function _o(e){var t=ss(e);if(Vh(t))return e}function op(e,t){if(e==="change")return t}var lp=!1;if(va){var Vu;if(va){var qu="oninput"in document;if(!qu){var up=document.createElement("div");up.setAttribute("oninput","return;"),qu=typeof up.oninput=="function"}Vu=qu}else Vu=!1;lp=Vu&&(!document.documentMode||9<document.documentMode)}function cp(){ds&&(ds.detachEvent("onpropertychange",fp),hs=ds=null)}function fp(e){if(e.propertyName==="value"&&_o(hs)){var t=[];sp(t,hs,e,Du(e)),Fh(cS,t)}}function fS(e,t,i){e==="focusin"?(cp(),ds=t,hs=i,ds.attachEvent("onpropertychange",fp)):e==="focusout"&&cp()}function dS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _o(hs)}function hS(e,t){if(e==="click")return _o(t)}function pS(e,t){if(e==="input"||e==="change")return _o(t)}function mS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var En=typeof Object.is=="function"?Object.is:mS;function ps(e,t){if(En(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var c=i[o];if(!it.call(t,c)||!En(e[c],t[c]))return!1}return!0}function dp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hp(e,t){var i=dp(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=t&&o>=t)return{node:i,offset:t-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=dp(i)}}function pp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?pp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=xo(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=xo(e.document)}return t}function Yu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var yS=va&&"documentMode"in document&&11>=document.documentMode,ri=null,Iu=null,ms=null,Gu=!1;function yp(e,t,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Gu||ri==null||ri!==xo(o)||(o=ri,"selectionStart"in o&&Yu(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ms&&ps(ms,o)||(ms=o,o=gl(Iu,"onSelect"),0<o.length&&(t=new Co("onSelect","select",null,t,i),e.push({event:t,listeners:o}),t.target=ri)))}function Sr(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var ii={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionrun:Sr("Transition","TransitionRun"),transitionstart:Sr("Transition","TransitionStart"),transitioncancel:Sr("Transition","TransitionCancel"),transitionend:Sr("Transition","TransitionEnd")},Zu={},gp={};va&&(gp=document.createElement("div").style,"AnimationEvent"in window||(delete ii.animationend.animation,delete ii.animationiteration.animation,delete ii.animationstart.animation),"TransitionEvent"in window||delete ii.transitionend.transition);function xr(e){if(Zu[e])return Zu[e];if(!ii[e])return e;var t=ii[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in gp)return Zu[e]=t[i];return e}var vp=xr("animationend"),bp=xr("animationiteration"),wp=xr("animationstart"),gS=xr("transitionrun"),vS=xr("transitionstart"),bS=xr("transitioncancel"),Sp=xr("transitionend"),xp=new Map,Xu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xu.push("scrollEnd");function Kn(e,t){xp.set(e,t),br(t,[e])}var Ao=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ln=[],si=0,Fu=0;function jo(){for(var e=si,t=Fu=si=0;t<e;){var i=Ln[t];Ln[t++]=null;var o=Ln[t];Ln[t++]=null;var c=Ln[t];Ln[t++]=null;var f=Ln[t];if(Ln[t++]=null,o!==null&&c!==null){var y=o.pending;y===null?c.next=c:(c.next=y.next,y.next=c),o.pending=c}f!==0&&Ep(i,c,f)}}function Do(e,t,i,o){Ln[si++]=e,Ln[si++]=t,Ln[si++]=i,Ln[si++]=o,Fu|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Ku(e,t,i,o){return Do(e,t,i,o),Mo(e)}function Er(e,t){return Do(e,null,null,t),Mo(e)}function Ep(e,t,i){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i);for(var c=!1,f=e.return;f!==null;)f.childLanes|=i,o=f.alternate,o!==null&&(o.childLanes|=i),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&t!==null&&(c=31-st(i),e=f.hiddenUpdates,o=e[c],o===null?e[c]=[t]:o.push(t),t.lane=i|536870912),f):null}function Mo(e){if(50<Bs)throw Bs=0,rf=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var oi={};function wS(e,t,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(e,t,i,o){return new wS(e,t,i,o)}function Qu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ba(e,t){var i=e.alternate;return i===null?(i=kn(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function kp(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zo(e,t,i,o,c,f){var y=0;if(o=e,typeof e=="function")Qu(e)&&(y=1);else if(typeof e=="string")y=Ox(e,i,D.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case I:return e=kn(31,i,t,c),e.elementType=I,e.lanes=f,e;case P:return kr(i.children,c,f,t);case Y:y=8,c|=24;break;case K:return e=kn(12,i,t,c|2),e.elementType=K,e.lanes=f,e;case re:return e=kn(13,i,t,c),e.elementType=re,e.lanes=f,e;case oe:return e=kn(19,i,t,c),e.elementType=oe,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U:y=10;break e;case q:y=9;break e;case G:y=11;break e;case ee:y=14;break e;case he:y=16,o=null;break e}y=29,i=Error(s(130,e===null?"null":typeof e,"")),o=null}return t=kn(y,i,t,c),t.elementType=e,t.type=o,t.lanes=f,t}function kr(e,t,i,o){return e=kn(7,e,o,t),e.lanes=i,e}function Ju(e,t,i){return e=kn(6,e,null,t),e.lanes=i,e}function Op(e){var t=kn(18,null,null,0);return t.stateNode=e,t}function Pu(e,t,i){return t=kn(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Tp=new WeakMap;function Bn(e,t){if(typeof e=="object"&&e!==null){var i=Tp.get(e);return i!==void 0?i:(t={value:e,source:t,stack:Be(t)},Tp.set(e,t),t)}return{value:e,source:t,stack:Be(t)}}var li=[],ui=0,Ro=null,ys=0,Un=[],Hn=0,Va=null,ia=1,sa="";function wa(e,t){li[ui++]=ys,li[ui++]=Ro,Ro=e,ys=t}function Cp(e,t,i){Un[Hn++]=ia,Un[Hn++]=sa,Un[Hn++]=Va,Va=e;var o=ia;e=sa;var c=32-st(o)-1;o&=~(1<<c),i+=1;var f=32-st(t)+c;if(30<f){var y=c-c%5;f=(o&(1<<y)-1).toString(32),o>>=y,c-=y,ia=1<<32-st(t)+c|i<<c|o,sa=f+e}else ia=1<<f|i<<c|o,sa=e}function Wu(e){e.return!==null&&(wa(e,1),Cp(e,1,0))}function ec(e){for(;e===Ro;)Ro=li[--ui],li[ui]=null,ys=li[--ui],li[ui]=null;for(;e===Va;)Va=Un[--Hn],Un[Hn]=null,sa=Un[--Hn],Un[Hn]=null,ia=Un[--Hn],Un[Hn]=null}function Np(e,t){Un[Hn++]=ia,Un[Hn++]=sa,Un[Hn++]=Va,ia=t.id,sa=t.overflow,Va=e}var Ft=null,bt=null,Je=!1,qa=null,$n=!1,tc=Error(s(519));function Ya(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gs(Bn(t,e)),tc}function _p(e){var t=e.stateNode,i=e.type,o=e.memoizedProps;switch(t[Xt]=e,t[cn]=o,i){case"dialog":Ge("cancel",t),Ge("close",t);break;case"iframe":case"object":case"embed":Ge("load",t);break;case"video":case"audio":for(i=0;i<Hs.length;i++)Ge(Hs[i],t);break;case"source":Ge("error",t);break;case"img":case"image":case"link":Ge("error",t),Ge("load",t);break;case"details":Ge("toggle",t);break;case"input":Ge("invalid",t),qh(t,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ge("invalid",t);break;case"textarea":Ge("invalid",t),Ih(t,o.value,o.defaultValue,o.children)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||o.suppressHydrationWarning===!0||Zy(t.textContent,i)?(o.popover!=null&&(Ge("beforetoggle",t),Ge("toggle",t)),o.onScroll!=null&&Ge("scroll",t),o.onScrollEnd!=null&&Ge("scrollend",t),o.onClick!=null&&(t.onclick=ga),t=!0):t=!1,t||Ya(e,!0)}function Ap(e){for(Ft=e.return;Ft;)switch(Ft.tag){case 5:case 31:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:Ft=Ft.return}}function ci(e){if(e!==Ft)return!1;if(!Je)return Ap(e),Je=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||wf(e.type,e.memoizedProps)),i=!i),i&&bt&&Ya(e),Ap(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));bt=tg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));bt=tg(e)}else t===27?(t=bt,ar(e.type)?(e=Of,Of=null,bt=e):bt=t):bt=Ft?qn(e.stateNode.nextSibling):null;return!0}function Or(){bt=Ft=null,Je=!1}function nc(){var e=qa;return e!==null&&(mn===null?mn=e:mn.push.apply(mn,e),qa=null),e}function gs(e){qa===null?qa=[e]:qa.push(e)}var ac=x(null),Tr=null,Sa=null;function Ia(e,t,i){N(ac,t._currentValue),t._currentValue=i}function xa(e){e._currentValue=ac.current,E(ac)}function rc(e,t,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===i)break;e=e.return}}function ic(e,t,i,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=c;for(var O=0;O<t.length;O++)if(b.context===t[O]){f.lanes|=i,b=f.alternate,b!==null&&(b.lanes|=i),rc(f.return,i,e),o||(y=null);break e}f=b.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=i,f=y.alternate,f!==null&&(f.lanes|=i),rc(y,i,e),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===e){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function fi(e,t,i,o){e=null;for(var c=t,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var b=c.type;En(c.pendingProps.value,y.value)||(e!==null?e.push(b):e=[b])}}else if(c===ue.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Is):e=[Is])}c=c.return}e!==null&&ic(t,e,i,o),t.flags|=262144}function Lo(e){for(e=e.firstContext;e!==null;){if(!En(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Cr(e){Tr=e,Sa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Kt(e){return jp(Tr,e)}function Bo(e,t){return Tr===null&&Cr(e),jp(e,t)}function jp(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},Sa===null){if(e===null)throw Error(s(308));Sa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Sa=Sa.next=t;return i}var SS=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,o){e.push(o)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},xS=a.unstable_scheduleCallback,ES=a.unstable_NormalPriority,zt={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sc(){return{controller:new SS,data:new Map,refCount:0}}function vs(e){e.refCount--,e.refCount===0&&xS(ES,function(){e.controller.abort()})}var bs=null,oc=0,di=0,hi=null;function kS(e,t){if(bs===null){var i=bs=[];oc=0,di=ff(),hi={status:"pending",value:void 0,then:function(o){i.push(o)}}}return oc++,t.then(Dp,Dp),t}function Dp(){if(--oc===0&&bs!==null){hi!==null&&(hi.status="fulfilled");var e=bs;bs=null,di=0,hi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function OS(e,t){var i=[],o={status:"pending",value:null,reason:null,then:function(c){i.push(c)}};return e.then(function(){o.status="fulfilled",o.value=t;for(var c=0;c<i.length;c++)(0,i[c])(t)},function(c){for(o.status="rejected",o.reason=c,c=0;c<i.length;c++)(0,i[c])(void 0)}),o}var Mp=A.S;A.S=function(e,t){yy=Mt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&kS(e,t),Mp!==null&&Mp(e,t)};var Nr=x(null);function lc(){var e=Nr.current;return e!==null?e:yt.pooledCache}function Uo(e,t){t===null?N(Nr,Nr.current):N(Nr,t.pool)}function zp(){var e=lc();return e===null?null:{parent:zt._currentValue,pool:e}}var pi=Error(s(460)),uc=Error(s(474)),Ho=Error(s(542)),$o={then:function(){}};function Rp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Lp(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(ga,ga),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Up(e),e;default:if(typeof t.status=="string")t.then(ga,ga);else{if(e=yt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(o){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=o}},function(o){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=o}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Up(e),e}throw Ar=t,pi}}function _r(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Ar=i,pi):i}}var Ar=null;function Bp(){if(Ar===null)throw Error(s(459));var e=Ar;return Ar=null,e}function Up(e){if(e===pi||e===Ho)throw Error(s(483))}var mi=null,ws=0;function Vo(e){var t=ws;return ws+=1,mi===null&&(mi=[]),Lp(mi,e,t)}function Ss(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function qo(e,t){throw t.$$typeof===S?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Hp(e){function t(j,C){if(e){var R=j.deletions;R===null?(j.deletions=[C],j.flags|=16):R.push(C)}}function i(j,C){if(!e)return null;for(;C!==null;)t(j,C),C=C.sibling;return null}function o(j){for(var C=new Map;j!==null;)j.key!==null?C.set(j.key,j):C.set(j.index,j),j=j.sibling;return C}function c(j,C){return j=ba(j,C),j.index=0,j.sibling=null,j}function f(j,C,R){return j.index=R,e?(R=j.alternate,R!==null?(R=R.index,R<C?(j.flags|=67108866,C):R):(j.flags|=67108866,C)):(j.flags|=1048576,C)}function y(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function b(j,C,R,Q){return C===null||C.tag!==6?(C=Ju(R,j.mode,Q),C.return=j,C):(C=c(C,R),C.return=j,C)}function O(j,C,R,Q){var ke=R.type;return ke===P?X(j,C,R.props.children,Q,R.key):C!==null&&(C.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===he&&_r(ke)===C.type)?(C=c(C,R.props),Ss(C,R),C.return=j,C):(C=zo(R.type,R.key,R.props,null,j.mode,Q),Ss(C,R),C.return=j,C)}function L(j,C,R,Q){return C===null||C.tag!==4||C.stateNode.containerInfo!==R.containerInfo||C.stateNode.implementation!==R.implementation?(C=Pu(R,j.mode,Q),C.return=j,C):(C=c(C,R.children||[]),C.return=j,C)}function X(j,C,R,Q,ke){return C===null||C.tag!==7?(C=kr(R,j.mode,Q,ke),C.return=j,C):(C=c(C,R),C.return=j,C)}function W(j,C,R){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Ju(""+C,j.mode,R),C.return=j,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case k:return R=zo(C.type,C.key,C.props,null,j.mode,R),Ss(R,C),R.return=j,R;case M:return C=Pu(C,j.mode,R),C.return=j,C;case he:return C=_r(C),W(j,C,R)}if(ne(C)||Oe(C))return C=kr(C,j.mode,R,null),C.return=j,C;if(typeof C.then=="function")return W(j,Vo(C),R);if(C.$$typeof===U)return W(j,Bo(j,C),R);qo(j,C)}return null}function B(j,C,R,Q){var ke=C!==null?C.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return ke!==null?null:b(j,C,""+R,Q);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case k:return R.key===ke?O(j,C,R,Q):null;case M:return R.key===ke?L(j,C,R,Q):null;case he:return R=_r(R),B(j,C,R,Q)}if(ne(R)||Oe(R))return ke!==null?null:X(j,C,R,Q,null);if(typeof R.then=="function")return B(j,C,Vo(R),Q);if(R.$$typeof===U)return B(j,C,Bo(j,R),Q);qo(j,R)}return null}function V(j,C,R,Q,ke){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return j=j.get(R)||null,b(C,j,""+Q,ke);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case k:return j=j.get(Q.key===null?R:Q.key)||null,O(C,j,Q,ke);case M:return j=j.get(Q.key===null?R:Q.key)||null,L(C,j,Q,ke);case he:return Q=_r(Q),V(j,C,R,Q,ke)}if(ne(Q)||Oe(Q))return j=j.get(R)||null,X(C,j,Q,ke,null);if(typeof Q.then=="function")return V(j,C,R,Vo(Q),ke);if(Q.$$typeof===U)return V(j,C,R,Bo(C,Q),ke);qo(C,Q)}return null}function ge(j,C,R,Q){for(var ke=null,et=null,be=C,$e=C=0,Xe=null;be!==null&&$e<R.length;$e++){be.index>$e?(Xe=be,be=null):Xe=be.sibling;var tt=B(j,be,R[$e],Q);if(tt===null){be===null&&(be=Xe);break}e&&be&&tt.alternate===null&&t(j,be),C=f(tt,C,$e),et===null?ke=tt:et.sibling=tt,et=tt,be=Xe}if($e===R.length)return i(j,be),Je&&wa(j,$e),ke;if(be===null){for(;$e<R.length;$e++)be=W(j,R[$e],Q),be!==null&&(C=f(be,C,$e),et===null?ke=be:et.sibling=be,et=be);return Je&&wa(j,$e),ke}for(be=o(be);$e<R.length;$e++)Xe=V(be,j,$e,R[$e],Q),Xe!==null&&(e&&Xe.alternate!==null&&be.delete(Xe.key===null?$e:Xe.key),C=f(Xe,C,$e),et===null?ke=Xe:et.sibling=Xe,et=Xe);return e&&be.forEach(function(lr){return t(j,lr)}),Je&&wa(j,$e),ke}function Te(j,C,R,Q){if(R==null)throw Error(s(151));for(var ke=null,et=null,be=C,$e=C=0,Xe=null,tt=R.next();be!==null&&!tt.done;$e++,tt=R.next()){be.index>$e?(Xe=be,be=null):Xe=be.sibling;var lr=B(j,be,tt.value,Q);if(lr===null){be===null&&(be=Xe);break}e&&be&&lr.alternate===null&&t(j,be),C=f(lr,C,$e),et===null?ke=lr:et.sibling=lr,et=lr,be=Xe}if(tt.done)return i(j,be),Je&&wa(j,$e),ke;if(be===null){for(;!tt.done;$e++,tt=R.next())tt=W(j,tt.value,Q),tt!==null&&(C=f(tt,C,$e),et===null?ke=tt:et.sibling=tt,et=tt);return Je&&wa(j,$e),ke}for(be=o(be);!tt.done;$e++,tt=R.next())tt=V(be,j,$e,tt.value,Q),tt!==null&&(e&&tt.alternate!==null&&be.delete(tt.key===null?$e:tt.key),C=f(tt,C,$e),et===null?ke=tt:et.sibling=tt,et=tt);return e&&be.forEach(function(Lx){return t(j,Lx)}),Je&&wa(j,$e),ke}function pt(j,C,R,Q){if(typeof R=="object"&&R!==null&&R.type===P&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case k:e:{for(var ke=R.key;C!==null;){if(C.key===ke){if(ke=R.type,ke===P){if(C.tag===7){i(j,C.sibling),Q=c(C,R.props.children),Q.return=j,j=Q;break e}}else if(C.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===he&&_r(ke)===C.type){i(j,C.sibling),Q=c(C,R.props),Ss(Q,R),Q.return=j,j=Q;break e}i(j,C);break}else t(j,C);C=C.sibling}R.type===P?(Q=kr(R.props.children,j.mode,Q,R.key),Q.return=j,j=Q):(Q=zo(R.type,R.key,R.props,null,j.mode,Q),Ss(Q,R),Q.return=j,j=Q)}return y(j);case M:e:{for(ke=R.key;C!==null;){if(C.key===ke)if(C.tag===4&&C.stateNode.containerInfo===R.containerInfo&&C.stateNode.implementation===R.implementation){i(j,C.sibling),Q=c(C,R.children||[]),Q.return=j,j=Q;break e}else{i(j,C);break}else t(j,C);C=C.sibling}Q=Pu(R,j.mode,Q),Q.return=j,j=Q}return y(j);case he:return R=_r(R),pt(j,C,R,Q)}if(ne(R))return ge(j,C,R,Q);if(Oe(R)){if(ke=Oe(R),typeof ke!="function")throw Error(s(150));return R=ke.call(R),Te(j,C,R,Q)}if(typeof R.then=="function")return pt(j,C,Vo(R),Q);if(R.$$typeof===U)return pt(j,C,Bo(j,R),Q);qo(j,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,C!==null&&C.tag===6?(i(j,C.sibling),Q=c(C,R),Q.return=j,j=Q):(i(j,C),Q=Ju(R,j.mode,Q),Q.return=j,j=Q),y(j)):i(j,C)}return function(j,C,R,Q){try{ws=0;var ke=pt(j,C,R,Q);return mi=null,ke}catch(be){if(be===pi||be===Ho)throw be;var et=kn(29,be,null,j.mode);return et.lanes=Q,et.return=j,et}finally{}}}var jr=Hp(!0),$p=Hp(!1),Ga=!1;function cc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Za(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Xa(e,t,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(at&2)!==0){var c=o.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),o.pending=t,t=Mo(e),Ep(e,null,i),t}return Do(e,o,t,i),Mo(e)}function xs(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,as(e,i)}}function dc(e,t){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var c=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var y={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,i=i.next}while(i!==null);f===null?c=f=t:f=f.next=t}else c=f=t;i={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var hc=!1;function Es(){if(hc){var e=hi;if(e!==null)throw e}}function ks(e,t,i,o){hc=!1;var c=e.updateQueue;Ga=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,b=c.shared.pending;if(b!==null){c.shared.pending=null;var O=b,L=O.next;O.next=null,y===null?f=L:y.next=L,y=O;var X=e.alternate;X!==null&&(X=X.updateQueue,b=X.lastBaseUpdate,b!==y&&(b===null?X.firstBaseUpdate=L:b.next=L,X.lastBaseUpdate=O))}if(f!==null){var W=c.baseState;y=0,X=L=O=null,b=f;do{var B=b.lane&-536870913,V=B!==b.lane;if(V?(Ze&B)===B:(o&B)===B){B!==0&&B===di&&(hc=!0),X!==null&&(X=X.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var ge=e,Te=b;B=t;var pt=i;switch(Te.tag){case 1:if(ge=Te.payload,typeof ge=="function"){W=ge.call(pt,W,B);break e}W=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=Te.payload,B=typeof ge=="function"?ge.call(pt,W,B):ge,B==null)break e;W=w({},W,B);break e;case 2:Ga=!0}}B=b.callback,B!==null&&(e.flags|=64,V&&(e.flags|=8192),V=c.callbacks,V===null?c.callbacks=[B]:V.push(B))}else V={lane:B,tag:b.tag,payload:b.payload,callback:b.callback,next:null},X===null?(L=X=V,O=W):X=X.next=V,y|=B;if(b=b.next,b===null){if(b=c.shared.pending,b===null)break;V=b,b=V.next,V.next=null,c.lastBaseUpdate=V,c.shared.pending=null}}while(!0);X===null&&(O=W),c.baseState=O,c.firstBaseUpdate=L,c.lastBaseUpdate=X,f===null&&(c.shared.lanes=0),Pa|=y,e.lanes=y,e.memoizedState=W}}function Vp(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function qp(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Vp(i[e],t)}var yi=x(null),Yo=x(0);function Yp(e,t){e=ja,N(Yo,e),N(yi,t),ja=e|t.baseLanes}function pc(){N(Yo,ja),N(yi,yi.current)}function mc(){ja=Yo.current,E(yi),E(Yo)}var On=x(null),Vn=null;function Fa(e){var t=e.alternate;N(jt,jt.current&1),N(On,e),Vn===null&&(t===null||yi.current!==null||t.memoizedState!==null)&&(Vn=e)}function yc(e){N(jt,jt.current),N(On,e),Vn===null&&(Vn=e)}function Ip(e){e.tag===22?(N(jt,jt.current),N(On,e),Vn===null&&(Vn=e)):Ka()}function Ka(){N(jt,jt.current),N(On,On.current)}function Tn(e){E(On),Vn===e&&(Vn=null),E(jt)}var jt=x(0);function Io(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Ef(i)||kf(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ea=0,Ue=null,dt=null,Rt=null,Go=!1,gi=!1,Dr=!1,Zo=0,Os=0,vi=null,TS=0;function Nt(){throw Error(s(321))}function gc(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!En(e[i],t[i]))return!1;return!0}function vc(e,t,i,o,c,f){return Ea=f,Ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,A.H=e===null||e.memoizedState===null?Cm:Mc,Dr=!1,f=i(o,c),Dr=!1,gi&&(f=Zp(t,i,o,c)),Gp(e),f}function Gp(e){A.H=Ns;var t=dt!==null&&dt.next!==null;if(Ea=0,Rt=dt=Ue=null,Go=!1,Os=0,vi=null,t)throw Error(s(300));e===null||Lt||(e=e.dependencies,e!==null&&Lo(e)&&(Lt=!0))}function Zp(e,t,i,o){Ue=e;var c=0;do{if(gi&&(vi=null),Os=0,gi=!1,25<=c)throw Error(s(301));if(c+=1,Rt=dt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}A.H=Nm,f=t(i,o)}while(gi);return f}function CS(){var e=A.H,t=e.useState()[0];return t=typeof t.then=="function"?Ts(t):t,e=e.useState()[0],(dt!==null?dt.memoizedState:null)!==e&&(Ue.flags|=1024),t}function bc(){var e=Zo!==0;return Zo=0,e}function wc(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Sc(e){if(Go){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Go=!1}Ea=0,Rt=dt=Ue=null,gi=!1,Os=Zo=0,vi=null}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Ue.memoizedState=Rt=e:Rt=Rt.next=e,Rt}function Dt(){if(dt===null){var e=Ue.alternate;e=e!==null?e.memoizedState:null}else e=dt.next;var t=Rt===null?Ue.memoizedState:Rt.next;if(t!==null)Rt=t,dt=e;else{if(e===null)throw Ue.alternate===null?Error(s(467)):Error(s(310));dt=e,e={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Rt===null?Ue.memoizedState=Rt=e:Rt=Rt.next=e}return Rt}function Xo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ts(e){var t=Os;return Os+=1,vi===null&&(vi=[]),e=Lp(vi,e,t),t=Ue,(Rt===null?t.memoizedState:Rt.next)===null&&(t=t.alternate,A.H=t===null||t.memoizedState===null?Cm:Mc),e}function Fo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ts(e);if(e.$$typeof===U)return Kt(e)}throw Error(s(438,String(e)))}function xc(e){var t=null,i=Ue.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var o=Ue.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(t={data:o.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=Xo(),Ue.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),o=0;o<e;o++)i[o]=ae;return t.index++,i}function ka(e,t){return typeof t=="function"?t(e):t}function Ko(e){var t=Dt();return Ec(t,dt,e)}function Ec(e,t,i){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=e.baseQueue,f=o.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}t.baseQueue=c=f,o.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{t=c.next;var b=y=null,O=null,L=t,X=!1;do{var W=L.lane&-536870913;if(W!==L.lane?(Ze&W)===W:(Ea&W)===W){var B=L.revertLane;if(B===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),W===di&&(X=!0);else if((Ea&B)===B){L=L.next,B===di&&(X=!0);continue}else W={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},O===null?(b=O=W,y=f):O=O.next=W,Ue.lanes|=B,Pa|=B;W=L.action,Dr&&i(f,W),f=L.hasEagerState?L.eagerState:i(f,W)}else B={lane:W,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},O===null?(b=O=B,y=f):O=O.next=B,Ue.lanes|=W,Pa|=W;L=L.next}while(L!==null&&L!==t);if(O===null?y=f:O.next=b,!En(f,e.memoizedState)&&(Lt=!0,X&&(i=hi,i!==null)))throw i;e.memoizedState=f,e.baseState=y,e.baseQueue=O,o.lastRenderedState=f}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function kc(e){var t=Dt(),i=t.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var o=i.dispatch,c=i.pending,f=t.memoizedState;if(c!==null){i.pending=null;var y=c=c.next;do f=e(f,y.action),y=y.next;while(y!==c);En(f,t.memoizedState)||(Lt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),i.lastRenderedState=f}return[f,o]}function Xp(e,t,i){var o=Ue,c=Dt(),f=Je;if(f){if(i===void 0)throw Error(s(407));i=i()}else i=t();var y=!En((dt||c).memoizedState,i);if(y&&(c.memoizedState=i,Lt=!0),c=c.queue,Cc(Qp.bind(null,o,c,e),[e]),c.getSnapshot!==t||y||Rt!==null&&Rt.memoizedState.tag&1){if(o.flags|=2048,bi(9,{destroy:void 0},Kp.bind(null,o,c,i,t),null),yt===null)throw Error(s(349));f||(Ea&127)!==0||Fp(o,t,i)}return i}function Fp(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Ue.updateQueue,t===null?(t=Xo(),Ue.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Kp(e,t,i,o){t.value=i,t.getSnapshot=o,Jp(t)&&Pp(e)}function Qp(e,t,i){return i(function(){Jp(t)&&Pp(e)})}function Jp(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!En(e,i)}catch{return!0}}function Pp(e){var t=Er(e,2);t!==null&&yn(t,e,2)}function Oc(e){var t=on();if(typeof e=="function"){var i=e;if(e=i(),Dr){je(!0);try{i()}finally{je(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:e},t}function Wp(e,t,i,o){return e.baseState=i,Ec(e,dt,typeof o=="function"?o:ka)}function NS(e,t,i,o,c){if(Po(e))throw Error(s(485));if(e=t.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};A.T!==null?i(!0):f.isTransition=!1,o(f),i=t.pending,i===null?(f.next=t.pending=f,em(t,f)):(f.next=i.next,t.pending=i.next=f)}}function em(e,t){var i=t.action,o=t.payload,c=e.state;if(t.isTransition){var f=A.T,y={};A.T=y;try{var b=i(c,o),O=A.S;O!==null&&O(y,b),tm(e,t,b)}catch(L){Tc(e,t,L)}finally{f!==null&&y.types!==null&&(f.types=y.types),A.T=f}}else try{f=i(c,o),tm(e,t,f)}catch(L){Tc(e,t,L)}}function tm(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){nm(e,t,o)},function(o){return Tc(e,t,o)}):nm(e,t,i)}function nm(e,t,i){t.status="fulfilled",t.value=i,am(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,em(e,i)))}function Tc(e,t,i){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do t.status="rejected",t.reason=i,am(t),t=t.next;while(t!==o)}e.action=null}function am(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function rm(e,t){return t}function im(e,t){if(Je){var i=yt.formState;if(i!==null){e:{var o=Ue;if(Je){if(bt){t:{for(var c=bt,f=$n;c.nodeType!==8;){if(!f){c=null;break t}if(c=qn(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){bt=qn(c.nextSibling),o=c.data==="F!";break e}}Ya(o)}o=!1}o&&(t=i[0])}}return i=on(),i.memoizedState=i.baseState=t,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rm,lastRenderedState:t},i.queue=o,i=km.bind(null,Ue,o),o.dispatch=i,o=Oc(!1),f=Dc.bind(null,Ue,!1,o.queue),o=on(),c={state:t,dispatch:null,action:e,pending:null},o.queue=c,i=NS.bind(null,Ue,c,f,i),c.dispatch=i,o.memoizedState=e,[t,i,!1]}function sm(e){var t=Dt();return om(t,dt,e)}function om(e,t,i){if(t=Ec(e,t,rm)[0],e=Ko(ka)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var o=Ts(t)}catch(y){throw y===pi?Ho:y}else o=t;t=Dt();var c=t.queue,f=c.dispatch;return i!==t.memoizedState&&(Ue.flags|=2048,bi(9,{destroy:void 0},_S.bind(null,c,i),null)),[o,f,e]}function _S(e,t){e.action=t}function lm(e){var t=Dt(),i=dt;if(i!==null)return om(t,i,e);Dt(),t=t.memoizedState,i=Dt();var o=i.queue.dispatch;return i.memoizedState=e,[t,o,!1]}function bi(e,t,i,o){return e={tag:e,create:i,deps:o,inst:t,next:null},t=Ue.updateQueue,t===null&&(t=Xo(),Ue.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,t.lastEffect=e),e}function um(){return Dt().memoizedState}function Qo(e,t,i,o){var c=on();Ue.flags|=e,c.memoizedState=bi(1|t,{destroy:void 0},i,o===void 0?null:o)}function Jo(e,t,i,o){var c=Dt();o=o===void 0?null:o;var f=c.memoizedState.inst;dt!==null&&o!==null&&gc(o,dt.memoizedState.deps)?c.memoizedState=bi(t,f,i,o):(Ue.flags|=e,c.memoizedState=bi(1|t,f,i,o))}function cm(e,t){Qo(8390656,8,e,t)}function Cc(e,t){Jo(2048,8,e,t)}function AS(e){Ue.flags|=4;var t=Ue.updateQueue;if(t===null)t=Xo(),Ue.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function fm(e){var t=Dt().memoizedState;return AS({ref:t,nextImpl:e}),function(){if((at&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function dm(e,t){return Jo(4,2,e,t)}function hm(e,t){return Jo(4,4,e,t)}function pm(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mm(e,t,i){i=i!=null?i.concat([e]):null,Jo(4,4,pm.bind(null,t,e),i)}function Nc(){}function ym(e,t){var i=Dt();t=t===void 0?null:t;var o=i.memoizedState;return t!==null&&gc(t,o[1])?o[0]:(i.memoizedState=[e,t],e)}function gm(e,t){var i=Dt();t=t===void 0?null:t;var o=i.memoizedState;if(t!==null&&gc(t,o[1]))return o[0];if(o=e(),Dr){je(!0);try{e()}finally{je(!1)}}return i.memoizedState=[o,t],o}function _c(e,t,i){return i===void 0||(Ea&1073741824)!==0&&(Ze&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=vy(),Ue.lanes|=e,Pa|=e,i)}function vm(e,t,i,o){return En(i,t)?i:yi.current!==null?(e=_c(e,i,o),En(e,t)||(Lt=!0),e):(Ea&42)===0||(Ea&1073741824)!==0&&(Ze&261930)===0?(Lt=!0,e.memoizedState=i):(e=vy(),Ue.lanes|=e,Pa|=e,t)}function bm(e,t,i,o,c){var f=_.p;_.p=f!==0&&8>f?f:8;var y=A.T,b={};A.T=b,Dc(e,!1,t,i);try{var O=c(),L=A.S;if(L!==null&&L(b,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var X=OS(O,o);Cs(e,t,X,_n(e))}else Cs(e,t,o,_n(e))}catch(W){Cs(e,t,{then:function(){},status:"rejected",reason:W},_n())}finally{_.p=f,y!==null&&b.types!==null&&(y.types=b.types),A.T=y}}function jS(){}function Ac(e,t,i,o){if(e.tag!==5)throw Error(s(476));var c=wm(e).queue;bm(e,c,t,H,i===null?jS:function(){return Sm(e),i(o)})}function wm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:H},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Sm(e){var t=wm(e);t.next===null&&(t=e.alternate.memoizedState),Cs(e,t.next.queue,{},_n())}function jc(){return Kt(Is)}function xm(){return Dt().memoizedState}function Em(){return Dt().memoizedState}function DS(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=_n();e=Za(i);var o=Xa(t,e,i);o!==null&&(yn(o,t,i),xs(o,t,i)),t={cache:sc()},e.payload=t;return}t=t.return}}function MS(e,t,i){var o=_n();i={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Po(e)?Om(t,i):(i=Ku(e,t,i,o),i!==null&&(yn(i,e,o),Tm(i,t,o)))}function km(e,t,i){var o=_n();Cs(e,t,i,o)}function Cs(e,t,i,o){var c={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Po(e))Om(t,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var y=t.lastRenderedState,b=f(y,i);if(c.hasEagerState=!0,c.eagerState=b,En(b,y))return Do(e,t,c,0),yt===null&&jo(),!1}catch{}finally{}if(i=Ku(e,t,c,o),i!==null)return yn(i,e,o),Tm(i,t,o),!0}return!1}function Dc(e,t,i,o){if(o={lane:2,revertLane:ff(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Po(e)){if(t)throw Error(s(479))}else t=Ku(e,i,o,2),t!==null&&yn(t,e,2)}function Po(e){var t=e.alternate;return e===Ue||t!==null&&t===Ue}function Om(e,t){gi=Go=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Tm(e,t,i){if((i&4194048)!==0){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,as(e,i)}}var Ns={readContext:Kt,use:Fo,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt};Ns.useEffectEvent=Nt;var Cm={readContext:Kt,use:Fo,useCallback:function(e,t){return on().memoizedState=[e,t===void 0?null:t],e},useContext:Kt,useEffect:cm,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Qo(4194308,4,pm.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Qo(4194308,4,e,t)},useInsertionEffect:function(e,t){Qo(4,2,e,t)},useMemo:function(e,t){var i=on();t=t===void 0?null:t;var o=e();if(Dr){je(!0);try{e()}finally{je(!1)}}return i.memoizedState=[o,t],o},useReducer:function(e,t,i){var o=on();if(i!==void 0){var c=i(t);if(Dr){je(!0);try{i(t)}finally{je(!1)}}}else c=t;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=MS.bind(null,Ue,e),[o.memoizedState,e]},useRef:function(e){var t=on();return e={current:e},t.memoizedState=e},useState:function(e){e=Oc(e);var t=e.queue,i=km.bind(null,Ue,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:Nc,useDeferredValue:function(e,t){var i=on();return _c(i,e,t)},useTransition:function(){var e=Oc(!1);return e=bm.bind(null,Ue,e.queue,!0,!1),on().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var o=Ue,c=on();if(Je){if(i===void 0)throw Error(s(407));i=i()}else{if(i=t(),yt===null)throw Error(s(349));(Ze&127)!==0||Fp(o,t,i)}c.memoizedState=i;var f={value:i,getSnapshot:t};return c.queue=f,cm(Qp.bind(null,o,f,e),[e]),o.flags|=2048,bi(9,{destroy:void 0},Kp.bind(null,o,f,i,t),null),i},useId:function(){var e=on(),t=yt.identifierPrefix;if(Je){var i=sa,o=ia;i=(o&~(1<<32-st(o)-1)).toString(32)+i,t="_"+t+"R_"+i,i=Zo++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=TS++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:jc,useFormState:im,useActionState:im,useOptimistic:function(e){var t=on();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Dc.bind(null,Ue,!0,i),i.dispatch=t,[e,t]},useMemoCache:xc,useCacheRefresh:function(){return on().memoizedState=DS.bind(null,Ue)},useEffectEvent:function(e){var t=on(),i={impl:e};return t.memoizedState=i,function(){if((at&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}},Mc={readContext:Kt,use:Fo,useCallback:ym,useContext:Kt,useEffect:Cc,useImperativeHandle:mm,useInsertionEffect:dm,useLayoutEffect:hm,useMemo:gm,useReducer:Ko,useRef:um,useState:function(){return Ko(ka)},useDebugValue:Nc,useDeferredValue:function(e,t){var i=Dt();return vm(i,dt.memoizedState,e,t)},useTransition:function(){var e=Ko(ka)[0],t=Dt().memoizedState;return[typeof e=="boolean"?e:Ts(e),t]},useSyncExternalStore:Xp,useId:xm,useHostTransitionStatus:jc,useFormState:sm,useActionState:sm,useOptimistic:function(e,t){var i=Dt();return Wp(i,dt,e,t)},useMemoCache:xc,useCacheRefresh:Em};Mc.useEffectEvent=fm;var Nm={readContext:Kt,use:Fo,useCallback:ym,useContext:Kt,useEffect:Cc,useImperativeHandle:mm,useInsertionEffect:dm,useLayoutEffect:hm,useMemo:gm,useReducer:kc,useRef:um,useState:function(){return kc(ka)},useDebugValue:Nc,useDeferredValue:function(e,t){var i=Dt();return dt===null?_c(i,e,t):vm(i,dt.memoizedState,e,t)},useTransition:function(){var e=kc(ka)[0],t=Dt().memoizedState;return[typeof e=="boolean"?e:Ts(e),t]},useSyncExternalStore:Xp,useId:xm,useHostTransitionStatus:jc,useFormState:lm,useActionState:lm,useOptimistic:function(e,t){var i=Dt();return dt!==null?Wp(i,dt,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:xc,useCacheRefresh:Em};Nm.useEffectEvent=fm;function zc(e,t,i,o){t=e.memoizedState,i=i(o,t),i=i==null?t:w({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Rc={enqueueSetState:function(e,t,i){e=e._reactInternals;var o=_n(),c=Za(o);c.payload=t,i!=null&&(c.callback=i),t=Xa(e,c,o),t!==null&&(yn(t,e,o),xs(t,e,o))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var o=_n(),c=Za(o);c.tag=1,c.payload=t,i!=null&&(c.callback=i),t=Xa(e,c,o),t!==null&&(yn(t,e,o),xs(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=_n(),o=Za(i);o.tag=2,t!=null&&(o.callback=t),t=Xa(e,o,i),t!==null&&(yn(t,e,i),xs(t,e,i))}};function _m(e,t,i,o,c,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):t.prototype&&t.prototype.isPureReactComponent?!ps(i,o)||!ps(c,f):!0}function Am(e,t,i,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,o),t.state!==e&&Rc.enqueueReplaceState(t,t.state,null)}function Mr(e,t){var i=t;if("ref"in t){i={};for(var o in t)o!=="ref"&&(i[o]=t[o])}if(e=e.defaultProps){i===t&&(i=w({},i));for(var c in e)i[c]===void 0&&(i[c]=e[c])}return i}function jm(e){Ao(e)}function Dm(e){console.error(e)}function Mm(e){Ao(e)}function Wo(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(o){setTimeout(function(){throw o})}}function zm(e,t,i){try{var o=e.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Lc(e,t,i){return i=Za(i),i.tag=3,i.payload={element:null},i.callback=function(){Wo(e,t)},i}function Rm(e){return e=Za(e),e.tag=3,e}function Lm(e,t,i,o){var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;e.payload=function(){return c(f)},e.callback=function(){zm(t,i,o)}}var y=i.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){zm(t,i,o),typeof c!="function"&&(Wa===null?Wa=new Set([this]):Wa.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function zS(e,t,i,o,c){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(t=i.alternate,t!==null&&fi(t,i,c,!0),i=On.current,i!==null){switch(i.tag){case 31:case 13:return Vn===null?fl():i.alternate===null&&_t===0&&(_t=3),i.flags&=-257,i.flags|=65536,i.lanes=c,o===$o?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([o]):t.add(o),lf(e,o,c)),!1;case 22:return i.flags|=65536,o===$o?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([o]):i.add(o)),lf(e,o,c)),!1}throw Error(s(435,i.tag))}return lf(e,o,c),fl(),!1}if(Je)return t=On.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,o!==tc&&(e=Error(s(422),{cause:o}),gs(Bn(e,i)))):(o!==tc&&(t=Error(s(423),{cause:o}),gs(Bn(t,i))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=Bn(o,i),c=Lc(e.stateNode,o,c),dc(e,c),_t!==4&&(_t=2)),!1;var f=Error(s(520),{cause:o});if(f=Bn(f,i),Ls===null?Ls=[f]:Ls.push(f),_t!==4&&(_t=2),t===null)return!0;o=Bn(o,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=c&-c,i.lanes|=e,e=Lc(i.stateNode,o,e),dc(i,e),!1;case 1:if(t=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Wa===null||!Wa.has(f))))return i.flags|=65536,c&=-c,i.lanes|=c,c=Rm(c),Lm(c,e,i,o),dc(i,c),!1}i=i.return}while(i!==null);return!1}var Bc=Error(s(461)),Lt=!1;function Qt(e,t,i,o){t.child=e===null?$p(t,null,i,o):jr(t,e.child,i,o)}function Bm(e,t,i,o,c){i=i.render;var f=t.ref;if("ref"in o){var y={};for(var b in o)b!=="ref"&&(y[b]=o[b])}else y=o;return Cr(t),o=vc(e,t,i,y,f,c),b=bc(),e!==null&&!Lt?(wc(e,t,c),Oa(e,t,c)):(Je&&b&&Wu(t),t.flags|=1,Qt(e,t,o,c),t.child)}function Um(e,t,i,o,c){if(e===null){var f=i.type;return typeof f=="function"&&!Qu(f)&&f.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=f,Hm(e,t,f,o,c)):(e=zo(i.type,null,o,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!Gc(e,c)){var y=f.memoizedProps;if(i=i.compare,i=i!==null?i:ps,i(y,o)&&e.ref===t.ref)return Oa(e,t,c)}return t.flags|=1,e=ba(f,o),e.ref=t.ref,e.return=t,t.child=e}function Hm(e,t,i,o,c){if(e!==null){var f=e.memoizedProps;if(ps(f,o)&&e.ref===t.ref)if(Lt=!1,t.pendingProps=o=f,Gc(e,c))(e.flags&131072)!==0&&(Lt=!0);else return t.lanes=e.lanes,Oa(e,t,c)}return Uc(e,t,i,o,c)}function $m(e,t,i,o){var c=o.children,f=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((t.flags&128)!==0){if(f=f!==null?f.baseLanes|i:i,e!==null){for(o=t.child=e.child,c=0;o!==null;)c=c|o.lanes|o.childLanes,o=o.sibling;o=c&~f}else o=0,t.child=null;return Vm(e,t,f,i,o)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Uo(t,f!==null?f.cachePool:null),f!==null?Yp(t,f):pc(),Ip(t);else return o=t.lanes=536870912,Vm(e,t,f!==null?f.baseLanes|i:i,i,o)}else f!==null?(Uo(t,f.cachePool),Yp(t,f),Ka(),t.memoizedState=null):(e!==null&&Uo(t,null),pc(),Ka());return Qt(e,t,c,i),t.child}function _s(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Vm(e,t,i,o,c){var f=lc();return f=f===null?null:{parent:zt._currentValue,pool:f},t.memoizedState={baseLanes:i,cachePool:f},e!==null&&Uo(t,null),pc(),Ip(t),e!==null&&fi(e,t,o,!0),t.childLanes=c,null}function el(e,t){return t=nl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function qm(e,t,i){return jr(t,e.child,null,i),e=el(t,t.pendingProps),e.flags|=2,Tn(t),t.memoizedState=null,e}function RS(e,t,i){var o=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Je){if(o.mode==="hidden")return e=el(t,o),t.lanes=536870912,_s(null,e);if(yc(t),(e=bt)?(e=eg(e,$n),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Va!==null?{id:ia,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},i=Op(e),i.return=t,t.child=i,Ft=t,bt=null)):e=null,e===null)throw Ya(t);return t.lanes=536870912,null}return el(t,o)}var f=e.memoizedState;if(f!==null){var y=f.dehydrated;if(yc(t),c)if(t.flags&256)t.flags&=-257,t=qm(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(Lt||fi(e,t,i,!1),c=(i&e.childLanes)!==0,Lt||c){if(o=yt,o!==null&&(y=rs(o,i),y!==0&&y!==f.retryLane))throw f.retryLane=y,Er(e,y),yn(o,e,y),Bc;fl(),t=qm(e,t,i)}else e=f.treeContext,bt=qn(y.nextSibling),Ft=t,Je=!0,qa=null,$n=!1,e!==null&&Np(t,e),t=el(t,o),t.flags|=4096;return t}return e=ba(e.child,{mode:o.mode,children:o.children}),e.ref=t.ref,t.child=e,e.return=t,e}function tl(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Uc(e,t,i,o,c){return Cr(t),i=vc(e,t,i,o,void 0,c),o=bc(),e!==null&&!Lt?(wc(e,t,c),Oa(e,t,c)):(Je&&o&&Wu(t),t.flags|=1,Qt(e,t,i,c),t.child)}function Ym(e,t,i,o,c,f){return Cr(t),t.updateQueue=null,i=Zp(t,o,i,c),Gp(e),o=bc(),e!==null&&!Lt?(wc(e,t,f),Oa(e,t,f)):(Je&&o&&Wu(t),t.flags|=1,Qt(e,t,i,f),t.child)}function Im(e,t,i,o,c){if(Cr(t),t.stateNode===null){var f=oi,y=i.contextType;typeof y=="object"&&y!==null&&(f=Kt(y)),f=new i(o,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Rc,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=o,f.state=t.memoizedState,f.refs={},cc(t),y=i.contextType,f.context=typeof y=="object"&&y!==null?Kt(y):oi,f.state=t.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(zc(t,i,y,o),f.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Rc.enqueueReplaceState(f,f.state,null),ks(t,o,f,c),Es(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),o=!0}else if(e===null){f=t.stateNode;var b=t.memoizedProps,O=Mr(i,b);f.props=O;var L=f.context,X=i.contextType;y=oi,typeof X=="object"&&X!==null&&(y=Kt(X));var W=i.getDerivedStateFromProps;X=typeof W=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,X||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||L!==y)&&Am(t,f,o,y),Ga=!1;var B=t.memoizedState;f.state=B,ks(t,o,f,c),Es(),L=t.memoizedState,b||B!==L||Ga?(typeof W=="function"&&(zc(t,i,W,o),L=t.memoizedState),(O=Ga||_m(t,i,O,o,B,L,y))?(X||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=L),f.props=o,f.state=L,f.context=y,o=O):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{f=t.stateNode,fc(e,t),y=t.memoizedProps,X=Mr(i,y),f.props=X,W=t.pendingProps,B=f.context,L=i.contextType,O=oi,typeof L=="object"&&L!==null&&(O=Kt(L)),b=i.getDerivedStateFromProps,(L=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==W||B!==O)&&Am(t,f,o,O),Ga=!1,B=t.memoizedState,f.state=B,ks(t,o,f,c),Es();var V=t.memoizedState;y!==W||B!==V||Ga||e!==null&&e.dependencies!==null&&Lo(e.dependencies)?(typeof b=="function"&&(zc(t,i,b,o),V=t.memoizedState),(X=Ga||_m(t,i,X,o,B,V,O)||e!==null&&e.dependencies!==null&&Lo(e.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,V,O),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,V,O)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=V),f.props=o,f.state=V,f.context=O,o=X):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),o=!1)}return f=o,tl(e,t),o=(t.flags&128)!==0,f||o?(f=t.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&o?(t.child=jr(t,e.child,null,c),t.child=jr(t,null,i,c)):Qt(e,t,i,c),t.memoizedState=f.state,e=t.child):e=Oa(e,t,c),e}function Gm(e,t,i,o){return Or(),t.flags|=256,Qt(e,t,i,o),t.child}var Hc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $c(e){return{baseLanes:e,cachePool:zp()}}function Vc(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Nn),e}function Zm(e,t,i){var o=t.pendingProps,c=!1,f=(t.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(jt.current&2)!==0),y&&(c=!0,t.flags&=-129),y=(t.flags&32)!==0,t.flags&=-33,e===null){if(Je){if(c?Fa(t):Ka(),(e=bt)?(e=eg(e,$n),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Va!==null?{id:ia,overflow:sa}:null,retryLane:536870912,hydrationErrors:null},i=Op(e),i.return=t,t.child=i,Ft=t,bt=null)):e=null,e===null)throw Ya(t);return kf(e)?t.lanes=32:t.lanes=536870912,null}var b=o.children;return o=o.fallback,c?(Ka(),c=t.mode,b=nl({mode:"hidden",children:b},c),o=kr(o,c,i,null),b.return=t,o.return=t,b.sibling=o,t.child=b,o=t.child,o.memoizedState=$c(i),o.childLanes=Vc(e,y,i),t.memoizedState=Hc,_s(null,o)):(Fa(t),qc(t,b))}var O=e.memoizedState;if(O!==null&&(b=O.dehydrated,b!==null)){if(f)t.flags&256?(Fa(t),t.flags&=-257,t=Yc(e,t,i)):t.memoizedState!==null?(Ka(),t.child=e.child,t.flags|=128,t=null):(Ka(),b=o.fallback,c=t.mode,o=nl({mode:"visible",children:o.children},c),b=kr(b,c,i,null),b.flags|=2,o.return=t,b.return=t,o.sibling=b,t.child=o,jr(t,e.child,null,i),o=t.child,o.memoizedState=$c(i),o.childLanes=Vc(e,y,i),t.memoizedState=Hc,t=_s(null,o));else if(Fa(t),kf(b)){if(y=b.nextSibling&&b.nextSibling.dataset,y)var L=y.dgst;y=L,o=Error(s(419)),o.stack="",o.digest=y,gs({value:o,source:null,stack:null}),t=Yc(e,t,i)}else if(Lt||fi(e,t,i,!1),y=(i&e.childLanes)!==0,Lt||y){if(y=yt,y!==null&&(o=rs(y,i),o!==0&&o!==O.retryLane))throw O.retryLane=o,Er(e,o),yn(y,e,o),Bc;Ef(b)||fl(),t=Yc(e,t,i)}else Ef(b)?(t.flags|=192,t.child=e.child,t=null):(e=O.treeContext,bt=qn(b.nextSibling),Ft=t,Je=!0,qa=null,$n=!1,e!==null&&Np(t,e),t=qc(t,o.children),t.flags|=4096);return t}return c?(Ka(),b=o.fallback,c=t.mode,O=e.child,L=O.sibling,o=ba(O,{mode:"hidden",children:o.children}),o.subtreeFlags=O.subtreeFlags&65011712,L!==null?b=ba(L,b):(b=kr(b,c,i,null),b.flags|=2),b.return=t,o.return=t,o.sibling=b,t.child=o,_s(null,o),o=t.child,b=e.child.memoizedState,b===null?b=$c(i):(c=b.cachePool,c!==null?(O=zt._currentValue,c=c.parent!==O?{parent:O,pool:O}:c):c=zp(),b={baseLanes:b.baseLanes|i,cachePool:c}),o.memoizedState=b,o.childLanes=Vc(e,y,i),t.memoizedState=Hc,_s(e.child,o)):(Fa(t),i=e.child,e=i.sibling,i=ba(i,{mode:"visible",children:o.children}),i.return=t,i.sibling=null,e!==null&&(y=t.deletions,y===null?(t.deletions=[e],t.flags|=16):y.push(e)),t.child=i,t.memoizedState=null,i)}function qc(e,t){return t=nl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function nl(e,t){return e=kn(22,e,null,t),e.lanes=0,e}function Yc(e,t,i){return jr(t,e.child,null,i),e=qc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xm(e,t,i){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),rc(e.return,t,i)}function Ic(e,t,i,o,c,f){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:c,treeForkCount:f}:(y.isBackwards=t,y.rendering=null,y.renderingStartTime=0,y.last=o,y.tail=i,y.tailMode=c,y.treeForkCount=f)}function Fm(e,t,i){var o=t.pendingProps,c=o.revealOrder,f=o.tail;o=o.children;var y=jt.current,b=(y&2)!==0;if(b?(y=y&1|2,t.flags|=128):y&=1,N(jt,y),Qt(e,t,o,i),o=Je?ys:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xm(e,i,t);else if(e.tag===19)Xm(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(i=t.child,c=null;i!==null;)e=i.alternate,e!==null&&Io(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=t.child,t.child=null):(c=i.sibling,i.sibling=null),Ic(t,!1,c,i,f,o);break;case"backwards":case"unstable_legacy-backwards":for(i=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Io(e)===null){t.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}Ic(t,!0,i,null,f,o);break;case"together":Ic(t,!1,null,null,void 0,o);break;default:t.memoizedState=null}return t.child}function Oa(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Pa|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(fi(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,i=ba(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=ba(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Gc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Lo(e)))}function LS(e,t,i){switch(t.tag){case 3:le(t,t.stateNode.containerInfo),Ia(t,zt,e.memoizedState.cache),Or();break;case 27:case 5:Ne(t);break;case 4:le(t,t.stateNode.containerInfo);break;case 10:Ia(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,yc(t),null;break;case 13:var o=t.memoizedState;if(o!==null)return o.dehydrated!==null?(Fa(t),t.flags|=128,null):(i&t.child.childLanes)!==0?Zm(e,t,i):(Fa(t),e=Oa(e,t,i),e!==null?e.sibling:null);Fa(t);break;case 19:var c=(e.flags&128)!==0;if(o=(i&t.childLanes)!==0,o||(fi(e,t,i,!1),o=(i&t.childLanes)!==0),c){if(o)return Fm(e,t,i);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),N(jt,jt.current),o)break;return null;case 22:return t.lanes=0,$m(e,t,i,t.pendingProps);case 24:Ia(t,zt,e.memoizedState.cache)}return Oa(e,t,i)}function Km(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Lt=!0;else{if(!Gc(e,i)&&(t.flags&128)===0)return Lt=!1,LS(e,t,i);Lt=(e.flags&131072)!==0}else Lt=!1,Je&&(t.flags&1048576)!==0&&Cp(t,ys,t.index);switch(t.lanes=0,t.tag){case 16:e:{var o=t.pendingProps;if(e=_r(t.elementType),t.type=e,typeof e=="function")Qu(e)?(o=Mr(e,o),t.tag=1,t=Im(null,t,e,o,i)):(t.tag=0,t=Uc(null,t,e,o,i));else{if(e!=null){var c=e.$$typeof;if(c===G){t.tag=11,t=Bm(null,t,e,o,i);break e}else if(c===ee){t.tag=14,t=Um(null,t,e,o,i);break e}}throw t=ze(e)||e,Error(s(306,t,""))}}return t;case 0:return Uc(e,t,t.type,t.pendingProps,i);case 1:return o=t.type,c=Mr(o,t.pendingProps),Im(e,t,o,c,i);case 3:e:{if(le(t,t.stateNode.containerInfo),e===null)throw Error(s(387));o=t.pendingProps;var f=t.memoizedState;c=f.element,fc(e,t),ks(t,o,null,i);var y=t.memoizedState;if(o=y.cache,Ia(t,zt,o),o!==f.cache&&ic(t,[zt],i,!0),Es(),o=y.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:y.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=Gm(e,t,o,i);break e}else if(o!==c){c=Bn(Error(s(424)),t),gs(c),t=Gm(e,t,o,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(bt=qn(e.firstChild),Ft=t,Je=!0,qa=null,$n=!0,i=$p(t,null,o,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Or(),o===c){t=Oa(e,t,i);break e}Qt(e,t,o,i)}t=t.child}return t;case 26:return tl(e,t),e===null?(i=sg(t.type,null,t.pendingProps,null))?t.memoizedState=i:Je||(i=t.type,e=t.pendingProps,o=vl(se.current).createElement(i),o[Xt]=t,o[cn]=e,Jt(o,i,e),Yt(o),t.stateNode=o):t.memoizedState=sg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ne(t),e===null&&Je&&(o=t.stateNode=ag(t.type,t.pendingProps,se.current),Ft=t,$n=!0,c=bt,ar(t.type)?(Of=c,bt=qn(o.firstChild)):bt=c),Qt(e,t,t.pendingProps.children,i),tl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Je&&((c=o=bt)&&(o=dx(o,t.type,t.pendingProps,$n),o!==null?(t.stateNode=o,Ft=t,bt=qn(o.firstChild),$n=!1,c=!0):c=!1),c||Ya(t)),Ne(t),c=t.type,f=t.pendingProps,y=e!==null?e.memoizedProps:null,o=f.children,wf(c,f)?o=null:y!==null&&wf(c,y)&&(t.flags|=32),t.memoizedState!==null&&(c=vc(e,t,CS,null,null,i),Is._currentValue=c),tl(e,t),Qt(e,t,o,i),t.child;case 6:return e===null&&Je&&((e=i=bt)&&(i=hx(i,t.pendingProps,$n),i!==null?(t.stateNode=i,Ft=t,bt=null,e=!0):e=!1),e||Ya(t)),null;case 13:return Zm(e,t,i);case 4:return le(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=jr(t,null,o,i):Qt(e,t,o,i),t.child;case 11:return Bm(e,t,t.type,t.pendingProps,i);case 7:return Qt(e,t,t.pendingProps,i),t.child;case 8:return Qt(e,t,t.pendingProps.children,i),t.child;case 12:return Qt(e,t,t.pendingProps.children,i),t.child;case 10:return o=t.pendingProps,Ia(t,t.type,o.value),Qt(e,t,o.children,i),t.child;case 9:return c=t.type._context,o=t.pendingProps.children,Cr(t),c=Kt(c),o=o(c),t.flags|=1,Qt(e,t,o,i),t.child;case 14:return Um(e,t,t.type,t.pendingProps,i);case 15:return Hm(e,t,t.type,t.pendingProps,i);case 19:return Fm(e,t,i);case 31:return RS(e,t,i);case 22:return $m(e,t,i,t.pendingProps);case 24:return Cr(t),o=Kt(zt),e===null?(c=lc(),c===null&&(c=yt,f=sc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=i),c=f),t.memoizedState={parent:o,cache:c},cc(t),Ia(t,zt,c)):((e.lanes&i)!==0&&(fc(e,t),ks(t,null,null,i),Es()),c=e.memoizedState,f=t.memoizedState,c.parent!==o?(c={parent:o,cache:o},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Ia(t,zt,o)):(o=f.cache,Ia(t,zt,o),o!==c.cache&&ic(t,[zt],i,!0))),Qt(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Ta(e){e.flags|=4}function Zc(e,t,i,o,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(xy())e.flags|=8192;else throw Ar=$o,uc}else e.flags&=-16777217}function Qm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!fg(t))if(xy())e.flags|=8192;else throw Ar=$o,uc}function al(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Zt():536870912,e.lanes|=t,Ei|=t)}function As(e,t){if(!Je)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(t)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=i,t}function BS(e,t,i){var o=t.pendingProps;switch(ec(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(t),null;case 1:return wt(t),null;case 3:return i=t.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),t.memoizedState.cache!==o&&(t.flags|=2048),xa(zt),me(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(ci(t)?Ta(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,nc())),wt(t),null;case 26:var c=t.type,f=t.memoizedState;return e===null?(Ta(t),f!==null?(wt(t),Qm(t,f)):(wt(t),Zc(t,c,null,o,i))):f?f!==e.memoizedState?(Ta(t),wt(t),Qm(t,f)):(wt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==o&&Ta(t),wt(t),Zc(t,c,e,o,i)),null;case 27:if(Ye(t),i=se.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==o&&Ta(t);else{if(!o){if(t.stateNode===null)throw Error(s(166));return wt(t),null}e=D.current,ci(t)?_p(t):(e=ag(c,o,i),t.stateNode=e,Ta(t))}return wt(t),null;case 5:if(Ye(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==o&&Ta(t);else{if(!o){if(t.stateNode===null)throw Error(s(166));return wt(t),null}if(f=D.current,ci(t))_p(t);else{var y=vl(se.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?y.createElement("select",{is:o.is}):y.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?y.createElement(c,{is:o.is}):y.createElement(c)}}f[Xt]=t,f[cn]=o;e:for(y=t.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}t.stateNode=f;e:switch(Jt(f,c,o),c){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Ta(t)}}return wt(t),Zc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==o&&Ta(t);else{if(typeof o!="string"&&t.stateNode===null)throw Error(s(166));if(e=se.current,ci(t)){if(e=t.stateNode,i=t.memoizedProps,o=null,c=Ft,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[Xt]=t,e=!!(e.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||Zy(e.nodeValue,i)),e||Ya(t,!0)}else e=vl(e).createTextNode(o),e[Xt]=t,t.stateNode=e}return wt(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(o=ci(t),i!==null){if(e===null){if(!o)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Xt]=t}else Or(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;wt(t),e=!1}else i=nc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(Tn(t),t):(Tn(t),null);if((t.flags&128)!==0)throw Error(s(558))}return wt(t),null;case 13:if(o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=ci(t),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(s(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[Xt]=t}else Or(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;wt(t),c=!1}else c=nc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(Tn(t),t):(Tn(t),null)}return Tn(t),(t.flags&128)!==0?(t.lanes=i,t):(i=o!==null,e=e!==null&&e.memoizedState!==null,i&&(o=t.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),al(t,t.updateQueue),wt(t),null);case 4:return me(),e===null&&mf(t.stateNode.containerInfo),wt(t),null;case 10:return xa(t.type),wt(t),null;case 19:if(E(jt),o=t.memoizedState,o===null)return wt(t),null;if(c=(t.flags&128)!==0,f=o.rendering,f===null)if(c)As(o,!1);else{if(_t!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=Io(e),f!==null){for(t.flags|=128,As(o,!1),e=f.updateQueue,t.updateQueue=e,al(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)kp(i,e),i=i.sibling;return N(jt,jt.current&1|2),Je&&wa(t,o.treeForkCount),t.child}e=e.sibling}o.tail!==null&&Mt()>ll&&(t.flags|=128,c=!0,As(o,!1),t.lanes=4194304)}else{if(!c)if(e=Io(f),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,al(t,e),As(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Je)return wt(t),null}else 2*Mt()-o.renderingStartTime>ll&&i!==536870912&&(t.flags|=128,c=!0,As(o,!1),t.lanes=4194304);o.isBackwards?(f.sibling=t.child,t.child=f):(e=o.last,e!==null?e.sibling=f:t.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Mt(),e.sibling=null,i=jt.current,N(jt,c?i&1|2:i&1),Je&&wa(t,o.treeForkCount),e):(wt(t),null);case 22:case 23:return Tn(t),mc(),o=t.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(t.flags|=8192):o&&(t.flags|=8192),o?(i&536870912)!==0&&(t.flags&128)===0&&(wt(t),t.subtreeFlags&6&&(t.flags|=8192)):wt(t),i=t.updateQueue,i!==null&&al(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),o=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),o!==i&&(t.flags|=2048),e!==null&&E(Nr),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),xa(zt),wt(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function US(e,t){switch(ec(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return xa(zt),me(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ye(t),null;case 31:if(t.memoizedState!==null){if(Tn(t),t.alternate===null)throw Error(s(340));Or()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Tn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Or()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return E(jt),null;case 4:return me(),null;case 10:return xa(t.type),null;case 22:case 23:return Tn(t),mc(),e!==null&&E(Nr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return xa(zt),null;case 25:return null;default:return null}}function Jm(e,t){switch(ec(t),t.tag){case 3:xa(zt),me();break;case 26:case 27:case 5:Ye(t);break;case 4:me();break;case 31:t.memoizedState!==null&&Tn(t);break;case 13:Tn(t);break;case 19:E(jt);break;case 10:xa(t.type);break;case 22:case 23:Tn(t),mc(),e!==null&&E(Nr);break;case 24:xa(zt)}}function js(e,t){try{var i=t.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var c=o.next;i=c;do{if((i.tag&e)===e){o=void 0;var f=i.create,y=i.inst;o=f(),y.destroy=o}i=i.next}while(i!==c)}}catch(b){ct(t,t.return,b)}}function Qa(e,t,i){try{var o=t.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&e)===e){var y=o.inst,b=y.destroy;if(b!==void 0){y.destroy=void 0,c=t;var O=i,L=b;try{L()}catch(X){ct(c,O,X)}}}o=o.next}while(o!==f)}}catch(X){ct(t,t.return,X)}}function Pm(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{qp(t,i)}catch(o){ct(e,e.return,o)}}}function Wm(e,t,i){i.props=Mr(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(o){ct(e,t,o)}}function Ds(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof i=="function"?e.refCleanup=i(o):i.current=o}}catch(c){ct(e,t,c)}}function oa(e,t){var i=e.ref,o=e.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(c){ct(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(c){ct(e,t,c)}else i.current=null}function ey(e){var t=e.type,i=e.memoizedProps,o=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break e;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(c){ct(e,e.return,c)}}function Xc(e,t,i){try{var o=e.stateNode;sx(o,e.type,i,t),o[cn]=t}catch(c){ct(e,e.return,c)}}function ty(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ar(e.type)||e.tag===4}function Fc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ty(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ar(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kc(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=ga));else if(o!==4&&(o===27&&ar(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(Kc(e,t,i),e=e.sibling;e!==null;)Kc(e,t,i),e=e.sibling}function rl(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(o!==4&&(o===27&&ar(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(rl(e,t,i),e=e.sibling;e!==null;)rl(e,t,i),e=e.sibling}function ny(e){var t=e.stateNode,i=e.memoizedProps;try{for(var o=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);Jt(t,o,i),t[Xt]=e,t[cn]=i}catch(f){ct(e,e.return,f)}}var Ca=!1,Bt=!1,Qc=!1,ay=typeof WeakSet=="function"?WeakSet:Set,It=null;function HS(e,t){if(e=e.containerInfo,vf=Ol,e=mp(e),Yu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var y=0,b=-1,O=-1,L=0,X=0,W=e,B=null;t:for(;;){for(var V;W!==i||c!==0&&W.nodeType!==3||(b=y+c),W!==f||o!==0&&W.nodeType!==3||(O=y+o),W.nodeType===3&&(y+=W.nodeValue.length),(V=W.firstChild)!==null;)B=W,W=V;for(;;){if(W===e)break t;if(B===i&&++L===c&&(b=y),B===f&&++X===o&&(O=y),(V=W.nextSibling)!==null)break;W=B,B=W.parentNode}W=V}i=b===-1||O===-1?null:{start:b,end:O}}else i=null}i=i||{start:0,end:0}}else i=null;for(bf={focusedElem:e,selectionRange:i},Ol=!1,It=t;It!==null;)if(t=It,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,It=e;else for(;It!==null;){switch(t=It,f=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)c=e[i],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,i=t,c=f.memoizedProps,f=f.memoizedState,o=i.stateNode;try{var ge=Mr(i.type,c);e=o.getSnapshotBeforeUpdate(ge,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(Te){ct(i,i.return,Te)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)xf(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":xf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,It=e;break}It=t.return}}function ry(e,t,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:_a(e,i),o&4&&js(5,i);break;case 1:if(_a(e,i),o&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(y){ct(i,i.return,y)}else{var c=Mr(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(y){ct(i,i.return,y)}}o&64&&Pm(i),o&512&&Ds(i,i.return);break;case 3:if(_a(e,i),o&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{qp(e,t)}catch(y){ct(i,i.return,y)}}break;case 27:t===null&&o&4&&ny(i);case 26:case 5:_a(e,i),t===null&&o&4&&ey(i),o&512&&Ds(i,i.return);break;case 12:_a(e,i);break;case 31:_a(e,i),o&4&&oy(e,i);break;case 13:_a(e,i),o&4&&ly(e,i),o&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=FS.bind(null,i),px(e,i))));break;case 22:if(o=i.memoizedState!==null||Ca,!o){t=t!==null&&t.memoizedState!==null||Bt,c=Ca;var f=Bt;Ca=o,(Bt=t)&&!f?Aa(e,i,(i.subtreeFlags&8772)!==0):_a(e,i),Ca=c,Bt=f}break;case 30:break;default:_a(e,i)}}function iy(e){var t=e.alternate;t!==null&&(e.alternate=null,iy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Tu(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Et=null,dn=!1;function Na(e,t,i){for(i=i.child;i!==null;)sy(e,t,i),i=i.sibling}function sy(e,t,i){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(kt,i)}catch{}switch(i.tag){case 26:Bt||oa(i,t),Na(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Bt||oa(i,t);var o=Et,c=dn;ar(i.type)&&(Et=i.stateNode,dn=!1),Na(e,t,i),Vs(i.stateNode),Et=o,dn=c;break;case 5:Bt||oa(i,t);case 6:if(o=Et,c=dn,Et=null,Na(e,t,i),Et=o,dn=c,Et!==null)if(dn)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(i.stateNode)}catch(f){ct(i,t,f)}else try{Et.removeChild(i.stateNode)}catch(f){ct(i,t,f)}break;case 18:Et!==null&&(dn?(e=Et,Py(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),ji(e)):Py(Et,i.stateNode));break;case 4:o=Et,c=dn,Et=i.stateNode.containerInfo,dn=!0,Na(e,t,i),Et=o,dn=c;break;case 0:case 11:case 14:case 15:Qa(2,i,t),Bt||Qa(4,i,t),Na(e,t,i);break;case 1:Bt||(oa(i,t),o=i.stateNode,typeof o.componentWillUnmount=="function"&&Wm(i,t,o)),Na(e,t,i);break;case 21:Na(e,t,i);break;case 22:Bt=(o=Bt)||i.memoizedState!==null,Na(e,t,i),Bt=o;break;default:Na(e,t,i)}}function oy(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ji(e)}catch(i){ct(t,t.return,i)}}}function ly(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ji(e)}catch(i){ct(t,t.return,i)}}function $S(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ay),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ay),t;default:throw Error(s(435,e.tag))}}function il(e,t){var i=$S(e);t.forEach(function(o){if(!i.has(o)){i.add(o);var c=KS.bind(null,e,o);o.then(c,c)}})}function hn(e,t){var i=t.deletions;if(i!==null)for(var o=0;o<i.length;o++){var c=i[o],f=e,y=t,b=y;e:for(;b!==null;){switch(b.tag){case 27:if(ar(b.type)){Et=b.stateNode,dn=!1;break e}break;case 5:Et=b.stateNode,dn=!1;break e;case 3:case 4:Et=b.stateNode.containerInfo,dn=!0;break e}b=b.return}if(Et===null)throw Error(s(160));sy(f,y,c),Et=null,dn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)uy(t,e),t=t.sibling}var Qn=null;function uy(e,t){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(t,e),pn(e),o&4&&(Qa(3,e,e.return),js(3,e),Qa(5,e,e.return));break;case 1:hn(t,e),pn(e),o&512&&(Bt||i===null||oa(i,i.return)),o&64&&Ca&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var c=Qn;if(hn(t,e),pn(e),o&512&&(Bt||i===null||oa(i,i.return)),o&4){var f=i!==null?i.memoizedState:null;if(o=e.memoizedState,i===null)if(o===null)if(e.stateNode===null){e:{o=e.type,i=e.memoizedProps,c=c.ownerDocument||c;t:switch(o){case"title":f=c.getElementsByTagName("title")[0],(!f||f[is]||f[Xt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(o),c.head.insertBefore(f,c.querySelector("head > title"))),Jt(f,o,i),f[Xt]=e,Yt(f),o=f;break e;case"link":var y=ug("link","href",c).get(o+(i.href||""));if(y){for(var b=0;b<y.length;b++)if(f=y[b],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){y.splice(b,1);break t}}f=c.createElement(o),Jt(f,o,i),c.head.appendChild(f);break;case"meta":if(y=ug("meta","content",c).get(o+(i.content||""))){for(b=0;b<y.length;b++)if(f=y[b],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){y.splice(b,1);break t}}f=c.createElement(o),Jt(f,o,i),c.head.appendChild(f);break;default:throw Error(s(468,o))}f[Xt]=e,Yt(f),o=f}e.stateNode=o}else cg(c,e.type,e.stateNode);else e.stateNode=lg(c,o,e.memoizedProps);else f!==o?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,o===null?cg(c,e.type,e.stateNode):lg(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Xc(e,e.memoizedProps,i.memoizedProps)}break;case 27:hn(t,e),pn(e),o&512&&(Bt||i===null||oa(i,i.return)),i!==null&&o&4&&Xc(e,e.memoizedProps,i.memoizedProps);break;case 5:if(hn(t,e),pn(e),o&512&&(Bt||i===null||oa(i,i.return)),e.flags&32){c=e.stateNode;try{ei(c,"")}catch(ge){ct(e,e.return,ge)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,Xc(e,c,i!==null?i.memoizedProps:c)),o&1024&&(Qc=!0);break;case 6:if(hn(t,e),pn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,i=e.stateNode;try{i.nodeValue=o}catch(ge){ct(e,e.return,ge)}}break;case 3:if(Sl=null,c=Qn,Qn=bl(t.containerInfo),hn(t,e),Qn=c,pn(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{ji(t.containerInfo)}catch(ge){ct(e,e.return,ge)}Qc&&(Qc=!1,cy(e));break;case 4:o=Qn,Qn=bl(e.stateNode.containerInfo),hn(t,e),pn(e),Qn=o;break;case 12:hn(t,e),pn(e);break;case 31:hn(t,e),pn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,il(e,o)));break;case 13:hn(t,e),pn(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(ol=Mt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,il(e,o)));break;case 22:c=e.memoizedState!==null;var O=i!==null&&i.memoizedState!==null,L=Ca,X=Bt;if(Ca=L||c,Bt=X||O,hn(t,e),Bt=X,Ca=L,pn(e),o&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(i===null||O||Ca||Bt||zr(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){O=i=t;try{if(f=O.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{b=O.stateNode;var W=O.memoizedProps.style,B=W!=null&&W.hasOwnProperty("display")?W.display:null;b.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ge){ct(O,O.return,ge)}}}else if(t.tag===6){if(i===null){O=t;try{O.stateNode.nodeValue=c?"":O.memoizedProps}catch(ge){ct(O,O.return,ge)}}}else if(t.tag===18){if(i===null){O=t;try{var V=O.stateNode;c?Wy(V,!0):Wy(O.stateNode,!1)}catch(ge){ct(O,O.return,ge)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}o&4&&(o=e.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,il(e,i))));break;case 19:hn(t,e),pn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,il(e,o)));break;case 30:break;case 21:break;default:hn(t,e),pn(e)}}function pn(e){var t=e.flags;if(t&2){try{for(var i,o=e.return;o!==null;){if(ty(o)){i=o;break}o=o.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var c=i.stateNode,f=Fc(e);rl(e,f,c);break;case 5:var y=i.stateNode;i.flags&32&&(ei(y,""),i.flags&=-33);var b=Fc(e);rl(e,b,y);break;case 3:case 4:var O=i.stateNode.containerInfo,L=Fc(e);Kc(e,L,O);break;default:throw Error(s(161))}}catch(X){ct(e,e.return,X)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function cy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;cy(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function _a(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)ry(e,t.alternate,t),t=t.sibling}function zr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Qa(4,t,t.return),zr(t);break;case 1:oa(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&Wm(t,t.return,i),zr(t);break;case 27:Vs(t.stateNode);case 26:case 5:oa(t,t.return),zr(t);break;case 22:t.memoizedState===null&&zr(t);break;case 30:zr(t);break;default:zr(t)}e=e.sibling}}function Aa(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var o=t.alternate,c=e,f=t,y=f.flags;switch(f.tag){case 0:case 11:case 15:Aa(c,f,i),js(4,f);break;case 1:if(Aa(c,f,i),o=f,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(L){ct(o,o.return,L)}if(o=f,c=o.updateQueue,c!==null){var b=o.stateNode;try{var O=c.shared.hiddenCallbacks;if(O!==null)for(c.shared.hiddenCallbacks=null,c=0;c<O.length;c++)Vp(O[c],b)}catch(L){ct(o,o.return,L)}}i&&y&64&&Pm(f),Ds(f,f.return);break;case 27:ny(f);case 26:case 5:Aa(c,f,i),i&&o===null&&y&4&&ey(f),Ds(f,f.return);break;case 12:Aa(c,f,i);break;case 31:Aa(c,f,i),i&&y&4&&oy(c,f);break;case 13:Aa(c,f,i),i&&y&4&&ly(c,f);break;case 22:f.memoizedState===null&&Aa(c,f,i),Ds(f,f.return);break;case 30:break;default:Aa(c,f,i)}t=t.sibling}}function Jc(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&vs(i))}function Pc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&vs(e))}function Jn(e,t,i,o){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)fy(e,t,i,o),t=t.sibling}function fy(e,t,i,o){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Jn(e,t,i,o),c&2048&&js(9,t);break;case 1:Jn(e,t,i,o);break;case 3:Jn(e,t,i,o),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&vs(e)));break;case 12:if(c&2048){Jn(e,t,i,o),e=t.stateNode;try{var f=t.memoizedProps,y=f.id,b=f.onPostCommit;typeof b=="function"&&b(y,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(O){ct(t,t.return,O)}}else Jn(e,t,i,o);break;case 31:Jn(e,t,i,o);break;case 13:Jn(e,t,i,o);break;case 23:break;case 22:f=t.stateNode,y=t.alternate,t.memoizedState!==null?f._visibility&2?Jn(e,t,i,o):Ms(e,t):f._visibility&2?Jn(e,t,i,o):(f._visibility|=2,wi(e,t,i,o,(t.subtreeFlags&10256)!==0||!1)),c&2048&&Jc(y,t);break;case 24:Jn(e,t,i,o),c&2048&&Pc(t.alternate,t);break;default:Jn(e,t,i,o)}}function wi(e,t,i,o,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var f=e,y=t,b=i,O=o,L=y.flags;switch(y.tag){case 0:case 11:case 15:wi(f,y,b,O,c),js(8,y);break;case 23:break;case 22:var X=y.stateNode;y.memoizedState!==null?X._visibility&2?wi(f,y,b,O,c):Ms(f,y):(X._visibility|=2,wi(f,y,b,O,c)),c&&L&2048&&Jc(y.alternate,y);break;case 24:wi(f,y,b,O,c),c&&L&2048&&Pc(y.alternate,y);break;default:wi(f,y,b,O,c)}t=t.sibling}}function Ms(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,o=t,c=o.flags;switch(o.tag){case 22:Ms(i,o),c&2048&&Jc(o.alternate,o);break;case 24:Ms(i,o),c&2048&&Pc(o.alternate,o);break;default:Ms(i,o)}t=t.sibling}}var zs=8192;function Si(e,t,i){if(e.subtreeFlags&zs)for(e=e.child;e!==null;)dy(e,t,i),e=e.sibling}function dy(e,t,i){switch(e.tag){case 26:Si(e,t,i),e.flags&zs&&e.memoizedState!==null&&Tx(i,Qn,e.memoizedState,e.memoizedProps);break;case 5:Si(e,t,i);break;case 3:case 4:var o=Qn;Qn=bl(e.stateNode.containerInfo),Si(e,t,i),Qn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=zs,zs=16777216,Si(e,t,i),zs=o):Si(e,t,i));break;default:Si(e,t,i)}}function hy(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Rs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var o=t[i];It=o,my(o,e)}hy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)py(e),e=e.sibling}function py(e){switch(e.tag){case 0:case 11:case 15:Rs(e),e.flags&2048&&Qa(9,e,e.return);break;case 3:Rs(e);break;case 12:Rs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,sl(e)):Rs(e);break;default:Rs(e)}}function sl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var o=t[i];It=o,my(o,e)}hy(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Qa(8,t,t.return),sl(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,sl(t));break;default:sl(t)}e=e.sibling}}function my(e,t){for(;It!==null;){var i=It;switch(i.tag){case 0:case 11:case 15:Qa(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:vs(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,It=o;else e:for(i=e;It!==null;){o=It;var c=o.sibling,f=o.return;if(iy(o),o===i){It=null;break e}if(c!==null){c.return=f,It=c;break e}It=f}}}var VS={getCacheForType:function(e){var t=Kt(zt),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return Kt(zt).controller.signal}},qS=typeof WeakMap=="function"?WeakMap:Map,at=0,yt=null,Ie=null,Ze=0,ut=0,Cn=null,Ja=!1,xi=!1,Wc=!1,ja=0,_t=0,Pa=0,Rr=0,ef=0,Nn=0,Ei=0,Ls=null,mn=null,tf=!1,ol=0,yy=0,ll=1/0,ul=null,Wa=null,Vt=0,er=null,ki=null,Da=0,nf=0,af=null,gy=null,Bs=0,rf=null;function _n(){return(at&2)!==0&&Ze!==0?Ze&-Ze:A.T!==null?ff():Mh()}function vy(){if(Nn===0)if((Ze&536870912)===0||Je){var e=De;De<<=1,(De&3932160)===0&&(De=262144),Nn=e}else Nn=536870912;return e=On.current,e!==null&&(e.flags|=32),Nn}function yn(e,t,i){(e===yt&&(ut===2||ut===9)||e.cancelPendingCommit!==null)&&(Oi(e,0),tr(e,Ze,Nn,!1)),Mn(e,i),((at&2)===0||e!==yt)&&(e===yt&&((at&2)===0&&(Rr|=i),_t===4&&tr(e,Ze,Nn,!1)),la(e))}function by(e,t,i){if((at&6)!==0)throw Error(s(327));var o=!i&&(t&127)===0&&(t&e.expiredLanes)===0||qt(e,t),c=o?GS(e,t):of(e,t,!0),f=o;do{if(c===0){xi&&!o&&tr(e,t,0,!1);break}else{if(i=e.current.alternate,f&&!YS(i)){c=of(e,t,!1),f=!1;continue}if(c===2){if(f=t,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){t=y;e:{var b=e;c=Ls;var O=b.current.memoizedState.isDehydrated;if(O&&(Oi(b,y).flags|=256),y=of(b,y,!1),y!==2){if(Wc&&!O){b.errorRecoveryDisabledLanes|=f,Rr|=f,c=4;break e}f=mn,mn=c,f!==null&&(mn===null?mn=f:mn.push.apply(mn,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){Oi(e,0),tr(e,t,0,!0);break}e:{switch(o=e,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:tr(o,t,Nn,!Ja);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(c=ol+300-Mt(),10<c)){if(tr(o,t,Nn,!Ja),wn(o,0,!0)!==0)break e;Da=t,o.timeoutHandle=Qy(wy.bind(null,o,i,mn,ul,tf,t,Nn,Rr,Ei,Ja,f,"Throttled",-0,0),c);break e}wy(o,i,mn,ul,tf,t,Nn,Rr,Ei,Ja,f,null,-0,0)}}break}while(!0);la(e)}function wy(e,t,i,o,c,f,y,b,O,L,X,W,B,V){if(e.timeoutHandle=-1,W=t.subtreeFlags,W&8192||(W&16785408)===16785408){W={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ga},dy(t,f,W);var ge=(f&62914560)===f?ol-Mt():(f&4194048)===f?yy-Mt():0;if(ge=Cx(W,ge),ge!==null){Da=f,e.cancelPendingCommit=ge(Ny.bind(null,e,t,f,i,o,c,y,b,O,X,W,null,B,V)),tr(e,f,y,!L);return}}Ny(e,t,f,i,o,c,y,b,O)}function YS(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var c=i[o],f=c.getSnapshot;c=c.value;try{if(!En(f(),c))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function tr(e,t,i,o){t&=~ef,t&=~Rr,e.suspendedLanes|=t,e.pingedLanes&=~t,o&&(e.warmLanes|=t),o=e.expirationTimes;for(var c=t;0<c;){var f=31-st(c),y=1<<f;o[f]=-1,c&=~y}i!==0&&vo(e,i,t)}function cl(){return(at&6)===0?(Us(0),!1):!0}function sf(){if(Ie!==null){if(ut===0)var e=Ie.return;else e=Ie,Sa=Tr=null,Sc(e),mi=null,ws=0,e=Ie;for(;e!==null;)Jm(e.alternate,e),e=e.return;Ie=null}}function Oi(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,ux(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Da=0,sf(),yt=e,Ie=i=ba(e.current,null),Ze=t,ut=0,Cn=null,Ja=!1,xi=qt(e,t),Wc=!1,Ei=Nn=ef=Rr=Pa=_t=0,mn=Ls=null,tf=!1,(t&8)!==0&&(t|=t&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=t;0<o;){var c=31-st(o),f=1<<c;t|=e[c],o&=~f}return ja=t,jo(),i}function Sy(e,t){Ue=null,A.H=Ns,t===pi||t===Ho?(t=Bp(),ut=3):t===uc?(t=Bp(),ut=4):ut=t===Bc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Cn=t,Ie===null&&(_t=1,Wo(e,Bn(t,e.current)))}function xy(){var e=On.current;return e===null?!0:(Ze&4194048)===Ze?Vn===null:(Ze&62914560)===Ze||(Ze&536870912)!==0?e===Vn:!1}function Ey(){var e=A.H;return A.H=Ns,e===null?Ns:e}function ky(){var e=A.A;return A.A=VS,e}function fl(){_t=4,Ja||(Ze&4194048)!==Ze&&On.current!==null||(xi=!0),(Pa&134217727)===0&&(Rr&134217727)===0||yt===null||tr(yt,Ze,Nn,!1)}function of(e,t,i){var o=at;at|=2;var c=Ey(),f=ky();(yt!==e||Ze!==t)&&(ul=null,Oi(e,t)),t=!1;var y=_t;e:do try{if(ut!==0&&Ie!==null){var b=Ie,O=Cn;switch(ut){case 8:sf(),y=6;break e;case 3:case 2:case 9:case 6:On.current===null&&(t=!0);var L=ut;if(ut=0,Cn=null,Ti(e,b,O,L),i&&xi){y=0;break e}break;default:L=ut,ut=0,Cn=null,Ti(e,b,O,L)}}IS(),y=_t;break}catch(X){Sy(e,X)}while(!0);return t&&e.shellSuspendCounter++,Sa=Tr=null,at=o,A.H=c,A.A=f,Ie===null&&(yt=null,Ze=0,jo()),y}function IS(){for(;Ie!==null;)Oy(Ie)}function GS(e,t){var i=at;at|=2;var o=Ey(),c=ky();yt!==e||Ze!==t?(ul=null,ll=Mt()+500,Oi(e,t)):xi=qt(e,t);e:do try{if(ut!==0&&Ie!==null){t=Ie;var f=Cn;t:switch(ut){case 1:ut=0,Cn=null,Ti(e,t,f,1);break;case 2:case 9:if(Rp(f)){ut=0,Cn=null,Ty(t);break}t=function(){ut!==2&&ut!==9||yt!==e||(ut=7),la(e)},f.then(t,t);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:Rp(f)?(ut=0,Cn=null,Ty(t)):(ut=0,Cn=null,Ti(e,t,f,7));break;case 5:var y=null;switch(Ie.tag){case 26:y=Ie.memoizedState;case 5:case 27:var b=Ie;if(y?fg(y):b.stateNode.complete){ut=0,Cn=null;var O=b.sibling;if(O!==null)Ie=O;else{var L=b.return;L!==null?(Ie=L,dl(L)):Ie=null}break t}}ut=0,Cn=null,Ti(e,t,f,5);break;case 6:ut=0,Cn=null,Ti(e,t,f,6);break;case 8:sf(),_t=6;break e;default:throw Error(s(462))}}ZS();break}catch(X){Sy(e,X)}while(!0);return Sa=Tr=null,A.H=o,A.A=c,at=i,Ie!==null?0:(yt=null,Ze=0,jo(),_t)}function ZS(){for(;Ie!==null&&!bn();)Oy(Ie)}function Oy(e){var t=Km(e.alternate,e,ja);e.memoizedProps=e.pendingProps,t===null?dl(e):Ie=t}function Ty(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=Ym(i,t,t.pendingProps,t.type,void 0,Ze);break;case 11:t=Ym(i,t,t.pendingProps,t.type.render,t.ref,Ze);break;case 5:Sc(t);default:Jm(i,t),t=Ie=kp(t,ja),t=Km(i,t,ja)}e.memoizedProps=e.pendingProps,t===null?dl(e):Ie=t}function Ti(e,t,i,o){Sa=Tr=null,Sc(t),mi=null,ws=0;var c=t.return;try{if(zS(e,c,t,i,Ze)){_t=1,Wo(e,Bn(i,e.current)),Ie=null;return}}catch(f){if(c!==null)throw Ie=c,f;_t=1,Wo(e,Bn(i,e.current)),Ie=null;return}t.flags&32768?(Je||o===1?e=!0:xi||(Ze&536870912)!==0?e=!1:(Ja=e=!0,(o===2||o===9||o===3||o===6)&&(o=On.current,o!==null&&o.tag===13&&(o.flags|=16384))),Cy(t,e)):dl(t)}function dl(e){var t=e;do{if((t.flags&32768)!==0){Cy(t,Ja);return}e=t.return;var i=BS(t.alternate,t,ja);if(i!==null){Ie=i;return}if(t=t.sibling,t!==null){Ie=t;return}Ie=t=e}while(t!==null);_t===0&&(_t=5)}function Cy(e,t){do{var i=US(e.alternate,e);if(i!==null){i.flags&=32767,Ie=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){Ie=e;return}Ie=e=i}while(e!==null);_t=6,Ie=null}function Ny(e,t,i,o,c,f,y,b,O){e.cancelPendingCommit=null;do hl();while(Vt!==0);if((at&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(f=t.lanes|t.childLanes,f|=Fu,Eu(e,i,f,y,b,O),e===yt&&(Ie=yt=null,Ze=0),ki=t,er=e,Da=i,nf=f,af=c,gy=o,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,QS($,function(){return My(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||o){o=A.T,A.T=null,c=_.p,_.p=2,y=at,at|=4;try{HS(e,t,i)}finally{at=y,_.p=c,A.T=o}}Vt=1,_y(),Ay(),jy()}}function _y(){if(Vt===1){Vt=0;var e=er,t=ki,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=A.T,A.T=null;var o=_.p;_.p=2;var c=at;at|=4;try{uy(t,e);var f=bf,y=mp(e.containerInfo),b=f.focusedElem,O=f.selectionRange;if(y!==b&&b&&b.ownerDocument&&pp(b.ownerDocument.documentElement,b)){if(O!==null&&Yu(b)){var L=O.start,X=O.end;if(X===void 0&&(X=L),"selectionStart"in b)b.selectionStart=L,b.selectionEnd=Math.min(X,b.value.length);else{var W=b.ownerDocument||document,B=W&&W.defaultView||window;if(B.getSelection){var V=B.getSelection(),ge=b.textContent.length,Te=Math.min(O.start,ge),pt=O.end===void 0?Te:Math.min(O.end,ge);!V.extend&&Te>pt&&(y=pt,pt=Te,Te=y);var j=hp(b,Te),C=hp(b,pt);if(j&&C&&(V.rangeCount!==1||V.anchorNode!==j.node||V.anchorOffset!==j.offset||V.focusNode!==C.node||V.focusOffset!==C.offset)){var R=W.createRange();R.setStart(j.node,j.offset),V.removeAllRanges(),Te>pt?(V.addRange(R),V.extend(C.node,C.offset)):(R.setEnd(C.node,C.offset),V.addRange(R))}}}}for(W=[],V=b;V=V.parentNode;)V.nodeType===1&&W.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<W.length;b++){var Q=W[b];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Ol=!!vf,bf=vf=null}finally{at=c,_.p=o,A.T=i}}e.current=t,Vt=2}}function Ay(){if(Vt===2){Vt=0;var e=er,t=ki,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=A.T,A.T=null;var o=_.p;_.p=2;var c=at;at|=4;try{ry(e,t.alternate,t)}finally{at=c,_.p=o,A.T=i}}Vt=3}}function jy(){if(Vt===4||Vt===3){Vt=0,en();var e=er,t=ki,i=Da,o=gy;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Vt=5:(Vt=0,ki=er=null,Dy(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Wa=null),ku(i),t=t.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(kt,t,void 0,(t.current.flags&128)===128)}catch{}if(o!==null){t=A.T,c=_.p,_.p=2,A.T=null;try{for(var f=e.onRecoverableError,y=0;y<o.length;y++){var b=o[y];f(b.value,{componentStack:b.stack})}}finally{A.T=t,_.p=c}}(Da&3)!==0&&hl(),la(e),c=e.pendingLanes,(i&261930)!==0&&(c&42)!==0?e===rf?Bs++:(Bs=0,rf=e):Bs=0,Us(0)}}function Dy(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,vs(t)))}function hl(){return _y(),Ay(),jy(),My()}function My(){if(Vt!==5)return!1;var e=er,t=nf;nf=0;var i=ku(Da),o=A.T,c=_.p;try{_.p=32>i?32:i,A.T=null,i=af,af=null;var f=er,y=Da;if(Vt=0,ki=er=null,Da=0,(at&6)!==0)throw Error(s(331));var b=at;if(at|=4,py(f.current),fy(f,f.current,y,i),at=b,Us(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(kt,f)}catch{}return!0}finally{_.p=c,A.T=o,Dy(e,t)}}function zy(e,t,i){t=Bn(i,t),t=Lc(e.stateNode,t,2),e=Xa(e,t,2),e!==null&&(Mn(e,2),la(e))}function ct(e,t,i){if(e.tag===3)zy(e,e,i);else for(;t!==null;){if(t.tag===3){zy(t,e,i);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Wa===null||!Wa.has(o))){e=Bn(i,e),i=Rm(2),o=Xa(t,i,2),o!==null&&(Lm(i,o,t,e),Mn(o,2),la(o));break}}t=t.return}}function lf(e,t,i){var o=e.pingCache;if(o===null){o=e.pingCache=new qS;var c=new Set;o.set(t,c)}else c=o.get(t),c===void 0&&(c=new Set,o.set(t,c));c.has(i)||(Wc=!0,c.add(i),e=XS.bind(null,e,t,i),t.then(e,e))}function XS(e,t,i){var o=e.pingCache;o!==null&&o.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,yt===e&&(Ze&i)===i&&(_t===4||_t===3&&(Ze&62914560)===Ze&&300>Mt()-ol?(at&2)===0&&Oi(e,0):ef|=i,Ei===Ze&&(Ei=0)),la(e)}function Ry(e,t){t===0&&(t=Zt()),e=Er(e,t),e!==null&&(Mn(e,t),la(e))}function FS(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Ry(e,i)}function KS(e,t){var i=0;switch(e.tag){case 31:case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(t),Ry(e,i)}function QS(e,t){return At(e,t)}var pl=null,Ci=null,uf=!1,ml=!1,cf=!1,nr=0;function la(e){e!==Ci&&e.next===null&&(Ci===null?pl=Ci=e:Ci=Ci.next=e),ml=!0,uf||(uf=!0,PS())}function Us(e,t){if(!cf&&ml){cf=!0;do for(var i=!1,o=pl;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var f=0;else{var y=o.suspendedLanes,b=o.pingedLanes;f=(1<<31-st(42|e)+1)-1,f&=c&~(y&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,Hy(o,f))}else f=Ze,f=wn(o,o===yt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||qt(o,f)||(i=!0,Hy(o,f));o=o.next}while(i);cf=!1}}function JS(){Ly()}function Ly(){ml=uf=!1;var e=0;nr!==0&&lx()&&(e=nr);for(var t=Mt(),i=null,o=pl;o!==null;){var c=o.next,f=By(o,t);f===0?(o.next=null,i===null?pl=c:i.next=c,c===null&&(Ci=i)):(i=o,(e!==0||(f&3)!==0)&&(ml=!0)),o=c}Vt!==0&&Vt!==5||Us(e),nr!==0&&(nr=0)}function By(e,t){for(var i=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-st(f),b=1<<y,O=c[y];O===-1?((b&i)===0||(b&o)!==0)&&(c[y]=Sn(b,t)):O<=t&&(e.expiredLanes|=b),f&=~b}if(t=yt,i=Ze,i=wn(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,i===0||e===t&&(ut===2||ut===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&mt(o),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||qt(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(o!==null&&mt(o),ku(i)){case 2:case 8:i=vr;break;case 32:i=$;break;case 268435456:i=fe;break;default:i=$}return o=Uy.bind(null,e),i=At(i,o),e.callbackPriority=t,e.callbackNode=i,t}return o!==null&&o!==null&&mt(o),e.callbackPriority=2,e.callbackNode=null,2}function Uy(e,t){if(Vt!==0&&Vt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(hl()&&e.callbackNode!==i)return null;var o=Ze;return o=wn(e,e===yt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(by(e,o,t),By(e,Mt()),e.callbackNode!=null&&e.callbackNode===i?Uy.bind(null,e):null)}function Hy(e,t){if(hl())return null;by(e,t,!0)}function PS(){cx(function(){(at&6)!==0?At(gr,JS):Ly()})}function ff(){if(nr===0){var e=di;e===0&&(e=ve,ve<<=1,(ve&261888)===0&&(ve=256)),nr=e}return nr}function $y(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Eo(""+e)}function Vy(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function WS(e,t,i,o,c){if(t==="submit"&&i&&i.stateNode===c){var f=$y((c[cn]||null).action),y=o.submitter;y&&(t=(t=y[cn]||null)?$y(t.formAction):y.getAttribute("formAction"),t!==null&&(f=t,y=null));var b=new Co("action","action",null,o,c);e.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(nr!==0){var O=y?Vy(c,y):new FormData(c);Ac(i,{pending:!0,data:O,method:c.method,action:f},null,O)}}else typeof f=="function"&&(b.preventDefault(),O=y?Vy(c,y):new FormData(c),Ac(i,{pending:!0,data:O,method:c.method,action:f},f,O))},currentTarget:c}]})}}for(var df=0;df<Xu.length;df++){var hf=Xu[df],ex=hf.toLowerCase(),tx=hf[0].toUpperCase()+hf.slice(1);Kn(ex,"on"+tx)}Kn(vp,"onAnimationEnd"),Kn(bp,"onAnimationIteration"),Kn(wp,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(gS,"onTransitionRun"),Kn(vS,"onTransitionStart"),Kn(bS,"onTransitionCancel"),Kn(Sp,"onTransitionEnd"),Pr("onMouseEnter",["mouseout","mouseover"]),Pr("onMouseLeave",["mouseout","mouseover"]),Pr("onPointerEnter",["pointerout","pointerover"]),Pr("onPointerLeave",["pointerout","pointerover"]),br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),br("onBeforeInput",["compositionend","keypress","textInput","paste"]),br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hs));function qy(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],c=o.event;o=o.listeners;e:{var f=void 0;if(t)for(var y=o.length-1;0<=y;y--){var b=o[y],O=b.instance,L=b.currentTarget;if(b=b.listener,O!==f&&c.isPropagationStopped())break e;f=b,c.currentTarget=L;try{f(c)}catch(X){Ao(X)}c.currentTarget=null,f=O}else for(y=0;y<o.length;y++){if(b=o[y],O=b.instance,L=b.currentTarget,b=b.listener,O!==f&&c.isPropagationStopped())break e;f=b,c.currentTarget=L;try{f(c)}catch(X){Ao(X)}c.currentTarget=null,f=O}}}}function Ge(e,t){var i=t[Ou];i===void 0&&(i=t[Ou]=new Set);var o=e+"__bubble";i.has(o)||(Yy(t,e,2,!1),i.add(o))}function pf(e,t,i){var o=0;t&&(o|=4),Yy(i,e,o,t)}var yl="_reactListening"+Math.random().toString(36).slice(2);function mf(e){if(!e[yl]){e[yl]=!0,Lh.forEach(function(i){i!=="selectionchange"&&(nx.has(i)||pf(i,!1,e),pf(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yl]||(t[yl]=!0,pf("selectionchange",!1,t))}}function Yy(e,t,i,o){switch(vg(t)){case 2:var c=Ax;break;case 8:c=jx;break;default:c=Af}i=c.bind(null,t,i,e),c=void 0,!zu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(t,i,{capture:!0,passive:c}):e.addEventListener(t,i,!0):c!==void 0?e.addEventListener(t,i,{passive:c}):e.addEventListener(t,i,!1)}function yf(e,t,i,o,c){var f=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var b=o.stateNode.containerInfo;if(b===c)break;if(y===4)for(y=o.return;y!==null;){var O=y.tag;if((O===3||O===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;b!==null;){if(y=Kr(b),y===null)return;if(O=y.tag,O===5||O===6||O===26||O===27){o=f=y;continue e}b=b.parentNode}}o=o.return}Fh(function(){var L=f,X=Du(i),W=[];e:{var B=xp.get(e);if(B!==void 0){var V=Co,ge=e;switch(e){case"keypress":if(Oo(i)===0)break e;case"keydown":case"keyup":V=Kw;break;case"focusin":ge="focus",V=Uu;break;case"focusout":ge="blur",V=Uu;break;case"beforeblur":case"afterblur":V=Uu;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Jh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=Bw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=Pw;break;case vp:case bp:case wp:V=$w;break;case Sp:V=eS;break;case"scroll":case"scrollend":V=Rw;break;case"wheel":V=nS;break;case"copy":case"cut":case"paste":V=qw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Wh;break;case"toggle":case"beforetoggle":V=rS}var Te=(t&4)!==0,pt=!Te&&(e==="scroll"||e==="scrollend"),j=Te?B!==null?B+"Capture":null:B;Te=[];for(var C=L,R;C!==null;){var Q=C;if(R=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||R===null||j===null||(Q=os(C,j),Q!=null&&Te.push($s(C,Q,R))),pt)break;C=C.return}0<Te.length&&(B=new V(B,ge,null,i,X),W.push({event:B,listeners:Te}))}}if((t&7)===0){e:{if(B=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",B&&i!==ju&&(ge=i.relatedTarget||i.fromElement)&&(Kr(ge)||ge[Fr]))break e;if((V||B)&&(B=X.window===X?X:(B=X.ownerDocument)?B.defaultView||B.parentWindow:window,V?(ge=i.relatedTarget||i.toElement,V=L,ge=ge?Kr(ge):null,ge!==null&&(pt=u(ge),Te=ge.tag,ge!==pt||Te!==5&&Te!==27&&Te!==6)&&(ge=null)):(V=null,ge=L),V!==ge)){if(Te=Jh,Q="onMouseLeave",j="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(Te=Wh,Q="onPointerLeave",j="onPointerEnter",C="pointer"),pt=V==null?B:ss(V),R=ge==null?B:ss(ge),B=new Te(Q,C+"leave",V,i,X),B.target=pt,B.relatedTarget=R,Q=null,Kr(X)===L&&(Te=new Te(j,C+"enter",ge,i,X),Te.target=R,Te.relatedTarget=pt,Q=Te),pt=Q,V&&ge)t:{for(Te=ax,j=V,C=ge,R=0,Q=j;Q;Q=Te(Q))R++;Q=0;for(var ke=C;ke;ke=Te(ke))Q++;for(;0<R-Q;)j=Te(j),R--;for(;0<Q-R;)C=Te(C),Q--;for(;R--;){if(j===C||C!==null&&j===C.alternate){Te=j;break t}j=Te(j),C=Te(C)}Te=null}else Te=null;V!==null&&Iy(W,B,V,Te,!1),ge!==null&&pt!==null&&Iy(W,pt,ge,Te,!0)}}e:{if(B=L?ss(L):window,V=B.nodeName&&B.nodeName.toLowerCase(),V==="select"||V==="input"&&B.type==="file")var et=op;else if(ip(B))if(lp)et=pS;else{et=dS;var be=fS}else V=B.nodeName,!V||V.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?L&&Au(L.elementType)&&(et=op):et=hS;if(et&&(et=et(e,L))){sp(W,et,i,X);break e}be&&be(e,B,L),e==="focusout"&&L&&B.type==="number"&&L.memoizedProps.value!=null&&_u(B,"number",B.value)}switch(be=L?ss(L):window,e){case"focusin":(ip(be)||be.contentEditable==="true")&&(ri=be,Iu=L,ms=null);break;case"focusout":ms=Iu=ri=null;break;case"mousedown":Gu=!0;break;case"contextmenu":case"mouseup":case"dragend":Gu=!1,yp(W,i,X);break;case"selectionchange":if(yS)break;case"keydown":case"keyup":yp(W,i,X)}var $e;if($u)e:{switch(e){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else ai?ap(e,i)&&(Xe="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Xe="onCompositionStart");Xe&&(ep&&i.locale!=="ko"&&(ai||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&ai&&($e=Kh()):($a=X,Ru="value"in $a?$a.value:$a.textContent,ai=!0)),be=gl(L,Xe),0<be.length&&(Xe=new Ph(Xe,e,null,i,X),W.push({event:Xe,listeners:be}),$e?Xe.data=$e:($e=rp(i),$e!==null&&(Xe.data=$e)))),($e=sS?oS(e,i):lS(e,i))&&(Xe=gl(L,"onBeforeInput"),0<Xe.length&&(be=new Ph("onBeforeInput","beforeinput",null,i,X),W.push({event:be,listeners:Xe}),be.data=$e)),WS(W,e,L,i,X)}qy(W,t)})}function $s(e,t,i){return{instance:e,listener:t,currentTarget:i}}function gl(e,t){for(var i=t+"Capture",o=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=os(e,i),c!=null&&o.unshift($s(e,c,f)),c=os(e,t),c!=null&&o.push($s(e,c,f))),e.tag===3)return o;e=e.return}return[]}function ax(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Iy(e,t,i,o,c){for(var f=t._reactName,y=[];i!==null&&i!==o;){var b=i,O=b.alternate,L=b.stateNode;if(b=b.tag,O!==null&&O===o)break;b!==5&&b!==26&&b!==27||L===null||(O=L,c?(L=os(i,f),L!=null&&y.unshift($s(i,L,O))):c||(L=os(i,f),L!=null&&y.push($s(i,L,O)))),i=i.return}y.length!==0&&e.push({event:t,listeners:y})}var rx=/\r\n?/g,ix=/\u0000|\uFFFD/g;function Gy(e){return(typeof e=="string"?e:""+e).replace(rx,`
`).replace(ix,"")}function Zy(e,t){return t=Gy(t),Gy(e)===t}function ht(e,t,i,o,c,f){switch(i){case"children":typeof o=="string"?t==="body"||t==="textarea"&&o===""||ei(e,o):(typeof o=="number"||typeof o=="bigint")&&t!=="body"&&ei(e,""+o);break;case"className":So(e,"class",o);break;case"tabIndex":So(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":So(e,i,o);break;case"style":Zh(e,o,f);break;case"data":if(t!=="object"){So(e,"data",o);break}case"src":case"href":if(o===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=Eo(""+o),e.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(t!=="input"&&ht(e,t,"name",c.name,c,null),ht(e,t,"formEncType",c.formEncType,c,null),ht(e,t,"formMethod",c.formMethod,c,null),ht(e,t,"formTarget",c.formTarget,c,null)):(ht(e,t,"encType",c.encType,c,null),ht(e,t,"method",c.method,c,null),ht(e,t,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=Eo(""+o),e.setAttribute(i,o);break;case"onClick":o!=null&&(e.onclick=ga);break;case"onScroll":o!=null&&Ge("scroll",e);break;case"onScrollEnd":o!=null&&Ge("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(i=o.__html,i!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}i=Eo(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""+o):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":o===!0?e.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,o):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(i,o):e.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(i):e.setAttribute(i,o);break;case"popover":Ge("beforetoggle",e),Ge("toggle",e),wo(e,"popover",o);break;case"xlinkActuate":ya(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ya(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ya(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ya(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ya(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ya(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ya(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ya(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ya(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":wo(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Mw.get(i)||i,wo(e,i,o))}}function gf(e,t,i,o,c,f){switch(i){case"style":Zh(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(i=o.__html,i!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"children":typeof o=="string"?ei(e,o):(typeof o=="number"||typeof o=="bigint")&&ei(e,""+o);break;case"onScroll":o!=null&&Ge("scroll",e);break;case"onScrollEnd":o!=null&&Ge("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ga);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bh.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(c=i.endsWith("Capture"),t=i.slice(2,c?i.length-7:void 0),f=e[cn]||null,f=f!=null?f[i]:null,typeof f=="function"&&e.removeEventListener(t,f,c),typeof o=="function")){typeof f!="function"&&f!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,o,c);break e}i in e?e[i]=o:o===!0?e.setAttribute(i,""):wo(e,i,o)}}}function Jt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",e),Ge("load",e);var o=!1,c=!1,f;for(f in i)if(i.hasOwnProperty(f)){var y=i[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ht(e,t,f,y,i,null)}}c&&ht(e,t,"srcSet",i.srcSet,i,null),o&&ht(e,t,"src",i.src,i,null);return;case"input":Ge("invalid",e);var b=f=y=c=null,O=null,L=null;for(o in i)if(i.hasOwnProperty(o)){var X=i[o];if(X!=null)switch(o){case"name":c=X;break;case"type":y=X;break;case"checked":O=X;break;case"defaultChecked":L=X;break;case"value":f=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,t));break;default:ht(e,t,o,X,i,null)}}qh(e,f,b,O,L,y,c,!1);return;case"select":Ge("invalid",e),o=y=f=null;for(c in i)if(i.hasOwnProperty(c)&&(b=i[c],b!=null))switch(c){case"value":f=b;break;case"defaultValue":y=b;break;case"multiple":o=b;default:ht(e,t,c,b,i,null)}t=f,i=y,e.multiple=!!o,t!=null?Wr(e,!!o,t,!1):i!=null&&Wr(e,!!o,i,!0);return;case"textarea":Ge("invalid",e),f=c=o=null;for(y in i)if(i.hasOwnProperty(y)&&(b=i[y],b!=null))switch(y){case"value":o=b;break;case"defaultValue":c=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:ht(e,t,y,b,i,null)}Ih(e,o,c,f);return;case"option":for(O in i)if(i.hasOwnProperty(O)&&(o=i[O],o!=null))switch(O){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ht(e,t,O,o,i,null)}return;case"dialog":Ge("beforetoggle",e),Ge("toggle",e),Ge("cancel",e),Ge("close",e);break;case"iframe":case"object":Ge("load",e);break;case"video":case"audio":for(o=0;o<Hs.length;o++)Ge(Hs[o],e);break;case"image":Ge("error",e),Ge("load",e);break;case"details":Ge("toggle",e);break;case"embed":case"source":case"link":Ge("error",e),Ge("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in i)if(i.hasOwnProperty(L)&&(o=i[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ht(e,t,L,o,i,null)}return;default:if(Au(t)){for(X in i)i.hasOwnProperty(X)&&(o=i[X],o!==void 0&&gf(e,t,X,o,i,void 0));return}}for(b in i)i.hasOwnProperty(b)&&(o=i[b],o!=null&&ht(e,t,b,o,i,null))}function sx(e,t,i,o){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,b=null,O=null,L=null,X=null;for(V in i){var W=i[V];if(i.hasOwnProperty(V)&&W!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":O=W;default:o.hasOwnProperty(V)||ht(e,t,V,null,o,W)}}for(var B in o){var V=o[B];if(W=i[B],o.hasOwnProperty(B)&&(V!=null||W!=null))switch(B){case"type":f=V;break;case"name":c=V;break;case"checked":L=V;break;case"defaultChecked":X=V;break;case"value":y=V;break;case"defaultValue":b=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(s(137,t));break;default:V!==W&&ht(e,t,B,V,o,W)}}Nu(e,y,b,O,L,X,f,c);return;case"select":V=y=b=B=null;for(f in i)if(O=i[f],i.hasOwnProperty(f)&&O!=null)switch(f){case"value":break;case"multiple":V=O;default:o.hasOwnProperty(f)||ht(e,t,f,null,o,O)}for(c in o)if(f=o[c],O=i[c],o.hasOwnProperty(c)&&(f!=null||O!=null))switch(c){case"value":B=f;break;case"defaultValue":b=f;break;case"multiple":y=f;default:f!==O&&ht(e,t,c,f,o,O)}t=b,i=y,o=V,B!=null?Wr(e,!!i,B,!1):!!o!=!!i&&(t!=null?Wr(e,!!i,t,!0):Wr(e,!!i,i?[]:"",!1));return;case"textarea":V=B=null;for(b in i)if(c=i[b],i.hasOwnProperty(b)&&c!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ht(e,t,b,null,o,c)}for(y in o)if(c=o[y],f=i[y],o.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":V=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&ht(e,t,y,c,o,f)}Yh(e,B,V);return;case"option":for(var ge in i)if(B=i[ge],i.hasOwnProperty(ge)&&B!=null&&!o.hasOwnProperty(ge))switch(ge){case"selected":e.selected=!1;break;default:ht(e,t,ge,null,o,B)}for(O in o)if(B=o[O],V=i[O],o.hasOwnProperty(O)&&B!==V&&(B!=null||V!=null))switch(O){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:ht(e,t,O,B,o,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in i)B=i[Te],i.hasOwnProperty(Te)&&B!=null&&!o.hasOwnProperty(Te)&&ht(e,t,Te,null,o,B);for(L in o)if(B=o[L],V=i[L],o.hasOwnProperty(L)&&B!==V&&(B!=null||V!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,t));break;default:ht(e,t,L,B,o,V)}return;default:if(Au(t)){for(var pt in i)B=i[pt],i.hasOwnProperty(pt)&&B!==void 0&&!o.hasOwnProperty(pt)&&gf(e,t,pt,void 0,o,B);for(X in o)B=o[X],V=i[X],!o.hasOwnProperty(X)||B===V||B===void 0&&V===void 0||gf(e,t,X,B,o,V);return}}for(var j in i)B=i[j],i.hasOwnProperty(j)&&B!=null&&!o.hasOwnProperty(j)&&ht(e,t,j,null,o,B);for(W in o)B=o[W],V=i[W],!o.hasOwnProperty(W)||B===V||B==null&&V==null||ht(e,t,W,B,o,V)}function Xy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ox(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),o=0;o<i.length;o++){var c=i[o],f=c.transferSize,y=c.initiatorType,b=c.duration;if(f&&b&&Xy(y)){for(y=0,b=c.responseEnd,o+=1;o<i.length;o++){var O=i[o],L=O.startTime;if(L>b)break;var X=O.transferSize,W=O.initiatorType;X&&Xy(W)&&(O=O.responseEnd,y+=X*(O<b?1:(b-L)/(O-L)))}if(--o,t+=8*(f+y)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var vf=null,bf=null;function vl(e){return e.nodeType===9?e:e.ownerDocument}function Fy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ky(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function wf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Sf=null;function lx(){var e=window.event;return e&&e.type==="popstate"?e===Sf?!1:(Sf=e,!0):(Sf=null,!1)}var Qy=typeof setTimeout=="function"?setTimeout:void 0,ux=typeof clearTimeout=="function"?clearTimeout:void 0,Jy=typeof Promise=="function"?Promise:void 0,cx=typeof queueMicrotask=="function"?queueMicrotask:typeof Jy<"u"?function(e){return Jy.resolve(null).then(e).catch(fx)}:Qy;function fx(e){setTimeout(function(){throw e})}function ar(e){return e==="head"}function Py(e,t){var i=t,o=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"||i==="/&"){if(o===0){e.removeChild(c),ji(t);return}o--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")o++;else if(i==="html")Vs(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Vs(i);for(var f=i.firstChild;f;){var y=f.nextSibling,b=f.nodeName;f[is]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||i.removeChild(f),f=y}}else i==="body"&&Vs(e.ownerDocument.body);i=c}while(i);ji(t)}function Wy(e,t){var i=e;e=0;do{var o=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=o}while(i)}function xf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":xf(i),Tu(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function dx(e,t,i,o){for(;e.nodeType===1;){var c=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[is])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=qn(e.nextSibling),e===null)break}return null}function hx(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=qn(e.nextSibling),e===null))return null;return e}function eg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=qn(e.nextSibling),e===null))return null;return e}function Ef(e){return e.data==="$?"||e.data==="$~"}function kf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function px(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var o=function(){t(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function qn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Of=null;function tg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return qn(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function ng(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function ag(e,t,i){switch(t=vl(i),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Vs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Tu(e)}var Yn=new Map,rg=new Set;function bl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ma=_.d;_.d={f:mx,r:yx,D:gx,C:vx,L:bx,m:wx,X:xx,S:Sx,M:Ex};function mx(){var e=Ma.f(),t=cl();return e||t}function yx(e){var t=Qr(e);t!==null&&t.tag===5&&t.type==="form"?Sm(t):Ma.r(e)}var Ni=typeof document>"u"?null:document;function ig(e,t,i){var o=Ni;if(o&&typeof t=="string"&&t){var c=Rn(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof i=="string"&&(c+='[crossorigin="'+i+'"]'),rg.has(c)||(rg.add(c),e={rel:e,crossOrigin:i,href:t},o.querySelector(c)===null&&(t=o.createElement("link"),Jt(t,"link",e),Yt(t),o.head.appendChild(t)))}}function gx(e){Ma.D(e),ig("dns-prefetch",e,null)}function vx(e,t){Ma.C(e,t),ig("preconnect",e,t)}function bx(e,t,i){Ma.L(e,t,i);var o=Ni;if(o&&e&&t){var c='link[rel="preload"][as="'+Rn(t)+'"]';t==="image"&&i&&i.imageSrcSet?(c+='[imagesrcset="'+Rn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(c+='[imagesizes="'+Rn(i.imageSizes)+'"]')):c+='[href="'+Rn(e)+'"]';var f=c;switch(t){case"style":f=_i(e);break;case"script":f=Ai(e)}Yn.has(f)||(e=w({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Yn.set(f,e),o.querySelector(c)!==null||t==="style"&&o.querySelector(qs(f))||t==="script"&&o.querySelector(Ys(f))||(t=o.createElement("link"),Jt(t,"link",e),Yt(t),o.head.appendChild(t)))}}function wx(e,t){Ma.m(e,t);var i=Ni;if(i&&e){var o=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Rn(o)+'"][href="'+Rn(e)+'"]',f=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ai(e)}if(!Yn.has(f)&&(e=w({rel:"modulepreload",href:e},t),Yn.set(f,e),i.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Ys(f)))return}o=i.createElement("link"),Jt(o,"link",e),Yt(o),i.head.appendChild(o)}}}function Sx(e,t,i){Ma.S(e,t,i);var o=Ni;if(o&&e){var c=Jr(o).hoistableStyles,f=_i(e);t=t||"default";var y=c.get(f);if(!y){var b={loading:0,preload:null};if(y=o.querySelector(qs(f)))b.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Yn.get(f))&&Tf(e,i);var O=y=o.createElement("link");Yt(O),Jt(O,"link",e),O._p=new Promise(function(L,X){O.onload=L,O.onerror=X}),O.addEventListener("load",function(){b.loading|=1}),O.addEventListener("error",function(){b.loading|=2}),b.loading|=4,wl(y,t,o)}y={type:"stylesheet",instance:y,count:1,state:b},c.set(f,y)}}}function xx(e,t){Ma.X(e,t);var i=Ni;if(i&&e){var o=Jr(i).hoistableScripts,c=Ai(e),f=o.get(c);f||(f=i.querySelector(Ys(c)),f||(e=w({src:e,async:!0},t),(t=Yn.get(c))&&Cf(e,t),f=i.createElement("script"),Yt(f),Jt(f,"link",e),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function Ex(e,t){Ma.M(e,t);var i=Ni;if(i&&e){var o=Jr(i).hoistableScripts,c=Ai(e),f=o.get(c);f||(f=i.querySelector(Ys(c)),f||(e=w({src:e,async:!0,type:"module"},t),(t=Yn.get(c))&&Cf(e,t),f=i.createElement("script"),Yt(f),Jt(f,"link",e),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function sg(e,t,i,o){var c=(c=se.current)?bl(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=_i(i.href),i=Jr(c).hoistableStyles,o=i.get(t),o||(o={type:"style",instance:null,count:0,state:null},i.set(t,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=_i(i.href);var f=Jr(c).hoistableStyles,y=f.get(e);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=c.querySelector(qs(e)))&&!f._p&&(y.instance=f,y.state.loading=5),Yn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Yn.set(e,i),f||kx(c,e,i,y.state))),t&&o===null)throw Error(s(528,""));return y}if(t&&o!==null)throw Error(s(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ai(i),i=Jr(c).hoistableScripts,o=i.get(t),o||(o={type:"script",instance:null,count:0,state:null},i.set(t,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function _i(e){return'href="'+Rn(e)+'"'}function qs(e){return'link[rel="stylesheet"]['+e+"]"}function og(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function kx(e,t,i,o){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?o.loading=1:(t=e.createElement("link"),o.preload=t,t.addEventListener("load",function(){return o.loading|=1}),t.addEventListener("error",function(){return o.loading|=2}),Jt(t,"link",i),Yt(t),e.head.appendChild(t))}function Ai(e){return'[src="'+Rn(e)+'"]'}function Ys(e){return"script[async]"+e}function lg(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var o=e.querySelector('style[data-href~="'+Rn(i.href)+'"]');if(o)return t.instance=o,Yt(o),o;var c=w({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Yt(o),Jt(o,"style",c),wl(o,i.precedence,e),t.instance=o;case"stylesheet":c=_i(i.href);var f=e.querySelector(qs(c));if(f)return t.state.loading|=4,t.instance=f,Yt(f),f;o=og(i),(c=Yn.get(c))&&Tf(o,c),f=(e.ownerDocument||e).createElement("link"),Yt(f);var y=f;return y._p=new Promise(function(b,O){y.onload=b,y.onerror=O}),Jt(f,"link",o),t.state.loading|=4,wl(f,i.precedence,e),t.instance=f;case"script":return f=Ai(i.src),(c=e.querySelector(Ys(f)))?(t.instance=c,Yt(c),c):(o=i,(c=Yn.get(f))&&(o=w({},i),Cf(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),Yt(c),Jt(c,"link",o),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(o=t.instance,t.state.loading|=4,wl(o,i.precedence,e));return t.instance}function wl(e,t,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,f=c,y=0;y<o.length;y++){var b=o[y];if(b.dataset.precedence===t)f=b;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Tf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Cf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Sl=null;function ug(e,t,i){if(Sl===null){var o=new Map,c=Sl=new Map;c.set(i,o)}else c=Sl,o=c.get(i),o||(o=new Map,c.set(i,o));if(o.has(e))return o;for(o.set(e,null),i=i.getElementsByTagName(e),c=0;c<i.length;c++){var f=i[c];if(!(f[is]||f[Xt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(t)||"";y=e+y;var b=o.get(y);b?b.push(f):o.set(y,[f])}}return o}function cg(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function Ox(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function fg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Tx(e,t,i,o){if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var c=_i(o.href),f=t.querySelector(qs(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=xl.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=f,Yt(f);return}f=t.ownerDocument||t,o=og(o),(c=Yn.get(c))&&Tf(o,c),f=f.createElement("link"),Yt(f);var y=f;y._p=new Promise(function(b,O){y.onload=b,y.onerror=O}),Jt(f,"link",o),i.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=xl.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var Nf=0;function Cx(e,t){return e.stylesheets&&e.count===0&&kl(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var o=setTimeout(function(){if(e.stylesheets&&kl(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+t);0<e.imgBytes&&Nf===0&&(Nf=62500*ox());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&kl(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Nf?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(c)}}:null}function xl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var El=null;function kl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,El=new Map,t.forEach(Nx,e),El=null,xl.call(e))}function Nx(e,t){if(!(t.state.loading&4)){var i=El.get(e);if(i)var o=i.get(null);else{i=new Map,El.set(e,i);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(i.set(y.dataset.precedence,y),o=y)}o&&i.set(null,o)}c=t.instance,y=c.getAttribute("data-precedence"),f=i.get(y)||o,f===o&&i.set(null,c),i.set(y,c),this.count++,o=xl.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Is={$$typeof:U,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function _x(e,t,i,o,c,f,y,b,O){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xn(0),this.hiddenUpdates=xn(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function dg(e,t,i,o,c,f,y,b,O,L,X,W){return e=new _x(e,t,i,y,O,L,X,W,b),t=1,f===!0&&(t|=24),f=kn(3,null,null,t),e.current=f,f.stateNode=e,t=sc(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:o,isDehydrated:i,cache:t},cc(f),e}function hg(e){return e?(e=oi,e):oi}function pg(e,t,i,o,c,f){c=hg(c),o.context===null?o.context=c:o.pendingContext=c,o=Za(t),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=Xa(e,o,t),i!==null&&(yn(i,e,t),xs(i,e,t))}function mg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function _f(e,t){mg(e,t),(e=e.alternate)&&mg(e,t)}function yg(e){if(e.tag===13||e.tag===31){var t=Er(e,67108864);t!==null&&yn(t,e,67108864),_f(e,67108864)}}function gg(e){if(e.tag===13||e.tag===31){var t=_n();t=bo(t);var i=Er(e,t);i!==null&&yn(i,e,t),_f(e,t)}}var Ol=!0;function Ax(e,t,i,o){var c=A.T;A.T=null;var f=_.p;try{_.p=2,Af(e,t,i,o)}finally{_.p=f,A.T=c}}function jx(e,t,i,o){var c=A.T;A.T=null;var f=_.p;try{_.p=8,Af(e,t,i,o)}finally{_.p=f,A.T=c}}function Af(e,t,i,o){if(Ol){var c=jf(o);if(c===null)yf(e,t,o,Tl,i),bg(e,o);else if(Mx(c,e,t,i,o))o.stopPropagation();else if(bg(e,o),t&4&&-1<Dx.indexOf(e)){for(;c!==null;){var f=Qr(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=vt(f.pendingLanes);if(y!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;y;){var O=1<<31-st(y);b.entanglements[1]|=O,y&=~O}la(f),(at&6)===0&&(ll=Mt()+500,Us(0))}}break;case 31:case 13:b=Er(f,2),b!==null&&yn(b,f,2),cl(),_f(f,2)}if(f=jf(o),f===null&&yf(e,t,o,Tl,i),f===c)break;c=f}c!==null&&o.stopPropagation()}else yf(e,t,o,null,i)}}function jf(e){return e=Du(e),Df(e)}var Tl=null;function Df(e){if(Tl=null,e=Kr(e),e!==null){var t=u(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=d(t),e!==null)return e;e=null}else if(i===31){if(e=h(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Tl=e,null}function vg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xr()){case gr:return 2;case vr:return 8;case $:case F:return 32;case fe:return 268435456;default:return 32}default:return 32}}var Mf=!1,rr=null,ir=null,sr=null,Gs=new Map,Zs=new Map,or=[],Dx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function bg(e,t){switch(e){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":Gs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zs.delete(t.pointerId)}}function Xs(e,t,i,o,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:i,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},t!==null&&(t=Qr(t),t!==null&&yg(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Mx(e,t,i,o,c){switch(t){case"focusin":return rr=Xs(rr,e,t,i,o,c),!0;case"dragenter":return ir=Xs(ir,e,t,i,o,c),!0;case"mouseover":return sr=Xs(sr,e,t,i,o,c),!0;case"pointerover":var f=c.pointerId;return Gs.set(f,Xs(Gs.get(f)||null,e,t,i,o,c)),!0;case"gotpointercapture":return f=c.pointerId,Zs.set(f,Xs(Zs.get(f)||null,e,t,i,o,c)),!0}return!1}function wg(e){var t=Kr(e.target);if(t!==null){var i=u(t);if(i!==null){if(t=i.tag,t===13){if(t=d(i),t!==null){e.blockedOn=t,zh(e.priority,function(){gg(i)});return}}else if(t===31){if(t=h(i),t!==null){e.blockedOn=t,zh(e.priority,function(){gg(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=jf(e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);ju=o,i.target.dispatchEvent(o),ju=null}else return t=Qr(i),t!==null&&yg(t),e.blockedOn=i,!1;t.shift()}return!0}function Sg(e,t,i){Cl(e)&&i.delete(t)}function zx(){Mf=!1,rr!==null&&Cl(rr)&&(rr=null),ir!==null&&Cl(ir)&&(ir=null),sr!==null&&Cl(sr)&&(sr=null),Gs.forEach(Sg),Zs.forEach(Sg)}function Nl(e,t){e.blockedOn===t&&(e.blockedOn=null,Mf||(Mf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,zx)))}var _l=null;function xg(e){_l!==e&&(_l=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){_l===e&&(_l=null);for(var t=0;t<e.length;t+=3){var i=e[t],o=e[t+1],c=e[t+2];if(typeof o!="function"){if(Df(o||i)===null)continue;break}var f=Qr(i);f!==null&&(e.splice(t,3),t-=3,Ac(f,{pending:!0,data:c,method:i.method,action:o},o,c))}}))}function ji(e){function t(O){return Nl(O,e)}rr!==null&&Nl(rr,e),ir!==null&&Nl(ir,e),sr!==null&&Nl(sr,e),Gs.forEach(t),Zs.forEach(t);for(var i=0;i<or.length;i++){var o=or[i];o.blockedOn===e&&(o.blockedOn=null)}for(;0<or.length&&(i=or[0],i.blockedOn===null);)wg(i),i.blockedOn===null&&or.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var c=i[o],f=i[o+1],y=c[cn]||null;if(typeof f=="function")y||xg(i);else if(y){var b=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[cn]||null)b=y.formAction;else if(Df(c)!==null)continue}else b=y.action;typeof b=="function"?i[o+1]=b:(i.splice(o,3),o-=3),xg(i)}}}function Eg(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return c=y})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),o||setTimeout(i,20)}function i(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function zf(e){this._internalRoot=e}Al.prototype.render=zf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var i=t.current,o=_n();pg(i,o,e,t,null,null)},Al.prototype.unmount=zf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pg(e.current,2,null,e,null,null),cl(),t[Fr]=null}};function Al(e){this._internalRoot=e}Al.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mh();e={blockedOn:null,target:e,priority:t};for(var i=0;i<or.length&&t!==0&&t<or[i].priority;i++);or.splice(i,0,e),i===0&&wg(e)}};var kg=n.version;if(kg!=="19.2.0")throw Error(s(527,kg,"19.2.0"));_.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=m(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Rx={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jl.isDisabled&&jl.supportsFiber)try{kt=jl.inject(Rx),Ct=jl}catch{}}return Ks.createRoot=function(e,t){if(!l(e))throw Error(s(299));var i=!1,o="",c=jm,f=Dm,y=Mm;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(y=t.onRecoverableError)),t=dg(e,1,!1,null,null,i,o,null,c,f,y,Eg),e[Fr]=t.current,mf(e),new zf(t)},Ks.hydrateRoot=function(e,t,i){if(!l(e))throw Error(s(299));var o=!1,c="",f=jm,y=Dm,b=Mm,O=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError),i.formState!==void 0&&(O=i.formState)),t=dg(e,1,!0,t,i??null,o,c,O,f,y,b,Eg),t.context=hg(null),i=t.current,o=_n(),o=bo(o),c=Za(o),c.callback=null,Xa(i,c,o),i=o,t.current.lanes=i,Mn(t,i),la(t),e[Fr]=t.current,mf(e),new Al(t)},Ks.version="19.2.0",Ks}var zg;function Gx(){if(zg)return Bf.exports;zg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Bf.exports=Ix(),Bf.exports}var V0=Gx();const Zx="modulepreload",Xx=function(a){return"/"+a},Rg={},Lg=function(n,r,s){let l=Promise.resolve();if(r&&r.length>0){let m=function(v){return Promise.all(v.map(w=>Promise.resolve(w).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};var d=m;document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),p=h?.nonce||h?.getAttribute("nonce");l=m(r.map(v=>{if(v=Xx(v),v in Rg)return;Rg[v]=!0;const w=v.endsWith(".css"),S=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${S}`))return;const k=document.createElement("link");if(k.rel=w?"stylesheet":Zx,w||(k.as="script"),k.crossOrigin="",k.href=v,p&&k.setAttribute("nonce",p),document.head.appendChild(k),w)return new Promise((M,P)=>{k.addEventListener("load",M),k.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${v}`)))})}))}function u(h){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=h,window.dispatchEvent(p),!p.defaultPrevented)throw h}return l.then(h=>{for(const p of h||[])p.status==="rejected"&&u(p.reason);return n().catch(u)})};function Bg(a,n,r,s,l,u,d){try{var h=a[u](d),p=h.value}catch(m){return void r(m)}h.done?n(p):Promise.resolve(p).then(s,l)}function qe(a){return function(){var n=this,r=arguments;return new Promise(function(s,l){var u=a.apply(n,r);function d(p){Bg(u,s,l,d,h,"next",p)}function h(p){Bg(u,s,l,d,h,"throw",p)}d(void 0)})}}function Ke(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function Pt(a){"@babel/helpers - typeof";return Pt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Pt(a)}function Fx(a,n){if(Pt(a)!="object"||!a)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var s=r.call(a,n);if(Pt(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function q0(a){var n=Fx(a,"string");return Pt(n)=="symbol"?n:n+""}function Kx(a,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(a,q0(s.key),s)}}function Qe(a,n,r){return n&&Kx(a.prototype,n),Object.defineProperty(a,"prototype",{writable:!1}),a}function Qx(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function ma(a,n){if(n&&(Pt(n)=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qx(a)}function gt(a){return gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gt(a)}function oo(a,n){return oo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},oo(a,n)}function vn(a,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(n&&n.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),n&&oo(a,n)}function we(a,n,r){return(n=q0(n))in a?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r,a}var Vf={exports:{}},qf={exports:{}},Ug;function Y0(){return Ug||(Ug=1,(function(a){function n(r,s){this.v=r,this.k=s}a.exports=n,a.exports.__esModule=!0,a.exports.default=a.exports})(qf)),qf.exports}var Yf={exports:{}},If={exports:{}},Hg;function I0(){return Hg||(Hg=1,(function(a){function n(r,s,l,u){var d=Object.defineProperty;try{d({},"",{})}catch{d=0}a.exports=n=function(p,m,v,w){function S(k,M){n(p,k,function(P){return this._invoke(k,M,P)})}m?d?d(p,m,{value:v,enumerable:!w,configurable:!w,writable:!w}):p[m]=v:(S("next",0),S("throw",1),S("return",2))},a.exports.__esModule=!0,a.exports.default=a.exports,n(r,s,l,u)}a.exports=n,a.exports.__esModule=!0,a.exports.default=a.exports})(If)),If.exports}var $g;function G0(){return $g||($g=1,(function(a){var n=I0();function r(){var s,l,u=typeof Symbol=="function"?Symbol:{},d=u.iterator||"@@iterator",h=u.toStringTag||"@@toStringTag";function p(Y,K,q,U){var G=K&&K.prototype instanceof v?K:v,re=Object.create(G.prototype);return n(re,"_invoke",(function(oe,ee,he){var I,ae,Ee,Oe=0,Ce=he||[],ze=!1,ne={p:0,n:0,v:s,a:A,f:A.bind(s,4),d:function(H,z){return I=H,ae=0,Ee=s,ne.n=z,m}};function A(_,H){for(ae=_,Ee=H,l=0;!ze&&Oe&&!z&&l<Ce.length;l++){var z,J=Ce[l],x=ne.p,E=J[2];_>3?(z=E===H)&&(Ee=J[(ae=J[4])?5:(ae=3,3)],J[4]=J[5]=s):J[0]<=x&&((z=_<2&&x<J[1])?(ae=0,ne.v=H,ne.n=J[1]):x<E&&(z=_<3||J[0]>H||H>E)&&(J[4]=_,J[5]=H,ne.n=E,ae=0))}if(z||_>1)return m;throw ze=!0,H}return function(_,H,z){if(Oe>1)throw TypeError("Generator is already running");for(ze&&H===1&&A(H,z),ae=H,Ee=z;(l=ae<2?s:Ee)||!ze;){I||(ae?ae<3?(ae>1&&(ne.n=-1),A(ae,Ee)):ne.n=Ee:ne.v=Ee);try{if(Oe=2,I){if(ae||(_="next"),l=I[_]){if(!(l=l.call(I,Ee)))throw TypeError("iterator result is not an object");if(!l.done)return l;Ee=l.value,ae<2&&(ae=0)}else ae===1&&(l=I.return)&&l.call(I),ae<2&&(Ee=TypeError("The iterator does not provide a '"+_+"' method"),ae=1);I=s}else if((l=(ze=ne.n<0)?Ee:oe.call(ee,ne))!==m)break}catch(J){I=s,ae=1,Ee=J}finally{Oe=1}}return{value:l,done:ze}}})(Y,q,U),!0),re}var m={};function v(){}function w(){}function S(){}l=Object.getPrototypeOf;var k=[][d]?l(l([][d]())):(n(l={},d,function(){return this}),l),M=S.prototype=v.prototype=Object.create(k);function P(Y){return Object.setPrototypeOf?Object.setPrototypeOf(Y,S):(Y.__proto__=S,n(Y,h,"GeneratorFunction")),Y.prototype=Object.create(M),Y}return w.prototype=S,n(M,"constructor",S),n(S,"constructor",w),w.displayName="GeneratorFunction",n(S,h,"GeneratorFunction"),n(M),n(M,h,"Generator"),n(M,d,function(){return this}),n(M,"toString",function(){return"[object Generator]"}),(a.exports=r=function(){return{w:p,m:P}},a.exports.__esModule=!0,a.exports.default=a.exports)()}a.exports=r,a.exports.__esModule=!0,a.exports.default=a.exports})(Yf)),Yf.exports}var Gf={exports:{}},Zf={exports:{}},Xf={exports:{}},Vg;function Z0(){return Vg||(Vg=1,(function(a){var n=Y0(),r=I0();function s(l,u){function d(p,m,v,w){try{var S=l[p](m),k=S.value;return k instanceof n?u.resolve(k.v).then(function(M){d("next",M,v,w)},function(M){d("throw",M,v,w)}):u.resolve(k).then(function(M){S.value=M,v(S)},function(M){return d("throw",M,v,w)})}catch(M){w(M)}}var h;this.next||(r(s.prototype),r(s.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),r(this,"_invoke",function(p,m,v){function w(){return new u(function(S,k){d(p,v,S,k)})}return h=h?h.then(w,w):w()},!0)}a.exports=s,a.exports.__esModule=!0,a.exports.default=a.exports})(Xf)),Xf.exports}var qg;function X0(){return qg||(qg=1,(function(a){var n=G0(),r=Z0();function s(l,u,d,h,p){return new r(n().w(l,u,d,h),p||Promise)}a.exports=s,a.exports.__esModule=!0,a.exports.default=a.exports})(Zf)),Zf.exports}var Yg;function Jx(){return Yg||(Yg=1,(function(a){var n=X0();function r(s,l,u,d,h){var p=n(s,l,u,d,h);return p.next().then(function(m){return m.done?m.value:p.next()})}a.exports=r,a.exports.__esModule=!0,a.exports.default=a.exports})(Gf)),Gf.exports}var Ff={exports:{}},Ig;function Px(){return Ig||(Ig=1,(function(a){function n(r){var s=Object(r),l=[];for(var u in s)l.unshift(u);return function d(){for(;l.length;)if((u=l.pop())in s)return d.value=u,d.done=!1,d;return d.done=!0,d}}a.exports=n,a.exports.__esModule=!0,a.exports.default=a.exports})(Ff)),Ff.exports}var Kf={exports:{}},Qf={exports:{}},Gg;function Wx(){return Gg||(Gg=1,(function(a){function n(r){"@babel/helpers - typeof";return a.exports=n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},a.exports.__esModule=!0,a.exports.default=a.exports,n(r)}a.exports=n,a.exports.__esModule=!0,a.exports.default=a.exports})(Qf)),Qf.exports}var Zg;function eE(){return Zg||(Zg=1,(function(a){var n=Wx().default;function r(s){if(s!=null){var l=s[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],u=0;if(l)return l.call(s);if(typeof s.next=="function")return s;if(!isNaN(s.length))return{next:function(){return s&&u>=s.length&&(s=void 0),{value:s&&s[u++],done:!s}}}}throw new TypeError(n(s)+" is not iterable")}a.exports=r,a.exports.__esModule=!0,a.exports.default=a.exports})(Kf)),Kf.exports}var Xg;function tE(){return Xg||(Xg=1,(function(a){var n=Y0(),r=G0(),s=Jx(),l=X0(),u=Z0(),d=Px(),h=eE();function p(){var m=r(),v=m.m(p),w=(Object.getPrototypeOf?Object.getPrototypeOf(v):v.__proto__).constructor;function S(P){var Y=typeof P=="function"&&P.constructor;return!!Y&&(Y===w||(Y.displayName||Y.name)==="GeneratorFunction")}var k={throw:1,return:2,break:3,continue:3};function M(P){var Y,K;return function(q){Y||(Y={stop:function(){return K(q.a,2)},catch:function(){return q.v},abrupt:function(G,re){return K(q.a,k[G],re)},delegateYield:function(G,re,oe){return Y.resultName=re,K(q.d,h(G),oe)},finish:function(G){return K(q.f,G)}},K=function(G,re,oe){q.p=Y.prev,q.n=Y.next;try{return G(re,oe)}finally{Y.next=q.n}}),Y.resultName&&(Y[Y.resultName]=q.v,Y.resultName=void 0),Y.sent=q.v,Y.next=q.n;try{return P.call(this,Y)}finally{q.p=Y.prev,q.n=Y.next}}}return(a.exports=p=function(){return{wrap:function(K,q,U,G){return m.w(M(K),q,U,G&&G.reverse())},isGeneratorFunction:S,mark:m.m,awrap:function(K,q){return new n(K,q)},AsyncIterator:u,async:function(K,q,U,G,re){return(S(q)?l:s)(M(K),q,U,G,re)},keys:d,values:h}},a.exports.__esModule=!0,a.exports.default=a.exports)()}a.exports=p,a.exports.__esModule=!0,a.exports.default=a.exports})(Vf)),Vf.exports}var Jf,Fg;function nE(){if(Fg)return Jf;Fg=1;var a=tE()();Jf=a;try{regeneratorRuntime=a}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}return Jf}var aE=nE();const ce=th(aE);function rE(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=iE(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(m){throw m},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,d=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var m=r.next();return d=m.done,m},e:function(m){h=!0,u=m},f:function(){try{d||r.return==null||r.return()}finally{if(h)throw u}}}}function iE(a,n){if(a){if(typeof a=="string")return Kg(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Kg(a,n):void 0}}function Kg(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function sE(){return{debug:function(n){}}}var F0=(function(){function a(){Ke(this,a),we(this,"pipes",[])}return Qe(a,[{key:"addPipe",value:function(r){this.pipes.push(r)}},{key:"emit",value:(function(){var n=qe(ce.mark(function s(l){var u,d,h,p;return ce.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:u=l,d=rE(this.pipes),v.prev=2,d.s();case 4:if((h=d.n()).done){v.next=13;break}return p=h.value,v.next=8,p(u);case 8:if(u=v.sent,!(typeof u>"u")){v.next=11;break}return v.abrupt("return");case 11:v.next=4;break;case 13:v.next=18;break;case 15:v.prev=15,v.t0=v.catch(2),d.e(v.t0);case 18:return v.prev=18,d.f(),v.finish(18);case 21:return v.abrupt("return",u);case 22:case"end":return v.stop()}},s,this,[[2,15,18,21]])}));function r(s){return n.apply(this,arguments)}return r})()}])})(),Fi=(function(){function a(n){Ke(this,a),we(this,"signal",new F0),this.name=n}return Qe(a,[{key:"addPipe",value:function(r){this.signal.addPipe(r)}},{key:"use",value:function(r){if(!(r instanceof a))throw new Error("cannot use non-Scope instance");return r.setParent(this),this.addPipe(function(s){return r.signal.emit(s)}),sE()}},{key:"setParent",value:function(r){this.parent=r}},{key:"emit",value:function(r){return this.signal.emit(r)}},{key:"hasParent",value:function(){return!!this.parent}},{key:"parentScope",value:function(r){if(!this.parent)throw new Error("cannot find parent");if(r&&this.parent instanceof r)return this.parent;if(r)throw new Error("actual parent is not instance of type");return this.parent}}])})();function Qg(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=oE(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(m){throw m},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,d=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var m=r.next();return d=m.done,m},e:function(m){h=!0,u=m},f:function(){try{d||r.return==null||r.return()}finally{if(h)throw u}}}}function oE(a,n){if(a){if(typeof a=="string")return Jg(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Jg(a,n):void 0}}function Jg(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function lE(a,n,r){return n=gt(n),ma(a,K0()?Reflect.construct(n,r||[],gt(a).constructor):n.apply(a,r))}function K0(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(K0=function(){return!!a})()}var mr=(function(a){function n(){var r;return Ke(this,n),r=lE(this,n,["NodeEditor"]),we(r,"nodes",[]),we(r,"connections",[]),r}return vn(n,a),Qe(n,[{key:"getNode",value:function(s){return this.nodes.find(function(l){return l.id===s})}},{key:"getNodes",value:function(){return this.nodes.slice()}},{key:"getConnections",value:function(){return this.connections.slice()}},{key:"getConnection",value:function(s){return this.connections.find(function(l){return l.id===s})}},{key:"addNode",value:(function(){var r=qe(ce.mark(function l(u){return ce.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!this.getNode(u.id)){h.next=2;break}throw new Error("node has already been added");case 2:return h.next=4,this.emit({type:"nodecreate",data:u});case 4:if(h.sent){h.next=6;break}return h.abrupt("return",!1);case 6:return this.nodes.push(u),h.next=9,this.emit({type:"nodecreated",data:u});case 9:return h.abrupt("return",!0);case 10:case"end":return h.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"addConnection",value:(function(){var r=qe(ce.mark(function l(u){return ce.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!this.getConnection(u.id)){h.next=2;break}throw new Error("connection has already been added");case 2:return h.next=4,this.emit({type:"connectioncreate",data:u});case 4:if(h.sent){h.next=6;break}return h.abrupt("return",!1);case 6:return this.connections.push(u),h.next=9,this.emit({type:"connectioncreated",data:u});case 9:return h.abrupt("return",!0);case 10:case"end":return h.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"removeNode",value:(function(){var r=qe(ce.mark(function l(u){var d,h;return ce.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(d=this.nodes.find(function(v){return v.id===u}),d){m.next=3;break}throw new Error("cannot find node");case 3:return m.next=5,this.emit({type:"noderemove",data:d});case 5:if(m.sent){m.next=7;break}return m.abrupt("return",!1);case 7:return h=this.nodes.indexOf(d),this.nodes.splice(h,1),m.next=11,this.emit({type:"noderemoved",data:d});case 11:return m.abrupt("return",!0);case 12:case"end":return m.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"removeConnection",value:(function(){var r=qe(ce.mark(function l(u){var d,h;return ce.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(d=this.connections.find(function(v){return v.id===u}),d){m.next=3;break}throw new Error("cannot find connection");case 3:return m.next=5,this.emit({type:"connectionremove",data:d});case 5:if(m.sent){m.next=7;break}return m.abrupt("return",!1);case 7:return h=this.connections.indexOf(d),this.connections.splice(h,1),m.next=11,this.emit({type:"connectionremoved",data:d});case 11:return m.abrupt("return",!0);case 12:case"end":return m.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"clear",value:(function(){var r=qe(ce.mark(function l(){var u,d,h,p,m,v;return ce.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,this.emit({type:"clear"});case 2:if(S.sent){S.next=6;break}return S.next=5,this.emit({type:"clearcancelled"});case 5:return S.abrupt("return",!1);case 6:u=Qg(this.connections.slice()),S.prev=7,u.s();case 9:if((d=u.n()).done){S.next=15;break}return h=d.value,S.next=13,this.removeConnection(h.id);case 13:S.next=9;break;case 15:S.next=20;break;case 17:S.prev=17,S.t0=S.catch(7),u.e(S.t0);case 20:return S.prev=20,u.f(),S.finish(20);case 23:p=Qg(this.nodes.slice()),S.prev=24,p.s();case 26:if((m=p.n()).done){S.next=32;break}return v=m.value,S.next=30,this.removeNode(v.id);case 30:S.next=26;break;case 32:S.next=37;break;case 34:S.prev=34,S.t1=S.catch(24),p.e(S.t1);case 37:return S.prev=37,p.f(),S.finish(37);case 40:return S.next=42,this.emit({type:"cleared"});case 42:return S.abrupt("return",!0);case 43:case"end":return S.stop()}},l,this,[[7,17,20,23],[24,34,37,40]])}));function s(){return r.apply(this,arguments)}return s})()}])})(Fi),Pf=globalThis.crypto;function yr(){if("randomBytes"in Pf)return Pf.randomBytes(8).toString("hex");var a=Pf.getRandomValues(new Uint8Array(8)),n=Array.from(a),r=n.map(function(s){return s.toString(16).padStart(2,"0")});return r.join("")}function ah(a,n,r){return n=gt(n),ma(a,Q0()?Reflect.construct(n,r||[],gt(a).constructor):n.apply(a,r))}function Q0(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Q0=function(){return!!a})()}var uE=Qe(function a(n){Ke(this,a),this.name=n}),rh=Qe(function a(n,r,s){Ke(this,a),this.socket=n,this.label=r,this.multipleConnections=s,this.id=yr()}),cE=(function(a){function n(r,s,l){var u;return Ke(this,n),u=ah(this,n,[r,s,l]),we(u,"control",null),we(u,"showControl",!0),u.socket=r,u.label=s,u.multipleConnections=l,u}return vn(n,a),Qe(n,[{key:"addControl",value:function(s){if(this.control)throw new Error("control already added for this input");this.control=s}},{key:"removeControl",value:function(){this.control=null}}])})(rh),fE=(function(a){function n(r,s,l){return Ke(this,n),ah(this,n,[r,s,l!==!1])}return vn(n,a),Qe(n)})(rh),J0=Qe(function a(){Ke(this,a),this.id=yr()}),dE=(function(a){function n(r,s){var l,u;return Ke(this,n),u=ah(this,n),u.type=r,u.options=s,u.id=yr(),u.readonly=(l=s?.readonly)!==null&&l!==void 0?l:!1,typeof s?.initial<"u"&&(u.value=s.initial),u}return vn(n,a),Qe(n,[{key:"setValue",value:function(s){var l;this.value=s,(l=this.options)!==null&&l!==void 0&&l.change&&this.options.change(s)}}])})(J0),hE=(function(){function a(n){Ke(this,a),we(this,"inputs",{}),we(this,"outputs",{}),we(this,"controls",{}),this.label=n,this.id=yr()}return Qe(a,[{key:"hasInput",value:function(r){return Object.prototype.hasOwnProperty.call(this.inputs,r)}},{key:"addInput",value:function(r,s){if(this.hasInput(r))throw new Error("input with key '".concat(String(r),"' already added"));Object.defineProperty(this.inputs,r,{value:s,enumerable:!0,configurable:!0})}},{key:"removeInput",value:function(r){delete this.inputs[r]}},{key:"hasOutput",value:function(r){return Object.prototype.hasOwnProperty.call(this.outputs,r)}},{key:"addOutput",value:function(r,s){if(this.hasOutput(r))throw new Error("output with key '".concat(String(r),"' already added"));Object.defineProperty(this.outputs,r,{value:s,enumerable:!0,configurable:!0})}},{key:"removeOutput",value:function(r){delete this.outputs[r]}},{key:"hasControl",value:function(r){return Object.prototype.hasOwnProperty.call(this.controls,r)}},{key:"addControl",value:function(r,s){if(this.hasControl(r))throw new Error("control with key '".concat(String(r),"' already added"));Object.defineProperty(this.controls,r,{value:s,enumerable:!0,configurable:!0})}},{key:"removeControl",value:function(r){delete this.controls[r]}}])})(),pE=Qe(function a(n,r,s,l){if(Ke(this,a),this.sourceOutput=r,this.targetInput=l,!n.outputs[r])throw new Error("source node doesn't have output with a key ".concat(String(r)));if(!s.inputs[l])throw new Error("target node doesn't have input with a key ".concat(String(l)));this.id=yr(),this.source=n.id,this.target=s.id}),ft=Object.freeze({__proto__:null,Socket:uE,Port:rh,Input:cE,Output:fE,Control:J0,InputControl:dE,Node:hE,Connection:pE});const mE=Object.freeze(Object.defineProperty({__proto__:null,ClassicPreset:ft,NodeEditor:mr,Scope:Fi,Signal:F0,getUID:yr},Symbol.toStringTag,{value:"Module"}));function wd(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function yE(a){if(Array.isArray(a))return wd(a)}function gE(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function P0(a,n){if(a){if(typeof a=="string")return wd(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wd(a,n):void 0}}function vE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ki(a){return yE(a)||gE(a)||P0(a)||vE()}var bE=(function(){function a(n){Ke(this,a),this.reordered=n,this.holder=document.createElement("div"),this.holder.style.transformOrigin="0 0"}return Qe(a,[{key:"getPointerFrom",value:function(r){var s=this.holder.getBoundingClientRect(),l=s.left,u=s.top,d=r.clientX-l,h=r.clientY-u;return{x:d,y:h}}},{key:"add",value:function(r){this.holder.appendChild(r)}},{key:"reorder",value:(function(){var n=qe(ce.mark(function s(l,u){return ce.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(this.holder.contains(l)){h.next=2;break}throw new Error("content doesn't have 'target' for reordering");case 2:if(!(u!==null&&!this.holder.contains(u))){h.next=4;break}throw new Error("content doesn't have 'next' for reordering");case 4:return this.holder.insertBefore(l,u),h.next=7,this.reordered(l);case 7:case"end":return h.stop()}},s,this)}));function r(s,l){return n.apply(this,arguments)}return r})()},{key:"remove",value:function(r){this.holder.contains(r)&&this.holder.removeChild(r)}}])})();function W0(a,n){var r=function(d){n.move(d)},s=function(d){window.removeEventListener("pointermove",r),window.removeEventListener("pointerup",s),window.removeEventListener("pointercancel",s),n.up(d)},l=function(d){window.addEventListener("pointermove",r),window.addEventListener("pointerup",s),window.addEventListener("pointercancel",s),n.down(d)};return a.addEventListener("pointerdown",l),{destroy:function(){a.removeEventListener("pointerdown",l),window.removeEventListener("pointermove",r),window.removeEventListener("pointerup",s),window.removeEventListener("pointercancel",s)}}}var Pg=function(n){return n.length===0?0:Math.min.apply(Math,Ki(n))},Wg=function(n){return n.length===0?0:Math.max.apply(Math,Ki(n))};function eb(a){var n=Pg(a.map(function(u){return u.position.x})),r=Pg(a.map(function(u){return u.position.y})),s=Wg(a.map(function(u){return u.position.x+u.width})),l=Wg(a.map(function(u){return u.position.y+u.height}));return{left:n,right:s,top:r,bottom:l,width:Math.abs(n-s),height:Math.abs(r-l),center:{x:(n+s)/2,y:(r+l)/2}}}function ev(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function wE(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?ev(Object(r),!0).forEach(function(s){we(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):ev(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}var ih=(function(){function a(n){var r=this;Ke(this,a),we(this,"down",function(s){r.guards.down(s)&&(s.stopPropagation(),r.pointerStart={x:s.pageX,y:s.pageY},r.startPosition=wE({},r.config.getCurrentPosition()),r.events.start(s))}),we(this,"move",function(s){if(!(!r.pointerStart||!r.startPosition)&&r.guards.move(s)){s.preventDefault();var l={x:s.pageX-r.pointerStart.x,y:s.pageY-r.pointerStart.y},u=r.config.getZoom(),d=r.startPosition.x+l.x/u,h=r.startPosition.y+l.y/u;r.events.translate(d,h,s)}}),we(this,"up",function(s){r.pointerStart&&(delete r.pointerStart,r.events.drag(s))}),this.guards=n||{down:function(l){return!(l.pointerType==="mouse"&&l.button!==0)},move:function(){return!0}}}return Qe(a,[{key:"initialize",value:function(r,s,l){this.config=s,this.events=l,r.style.touchAction="none",this.pointerListener=W0(r,{down:this.down,move:this.move,up:this.up})}},{key:"destroy",value:function(){this.pointerListener.destroy()}}])})(),tb=(function(){function a(n){var r=this;Ke(this,a),we(this,"previous",null),we(this,"pointers",[]),we(this,"wheel",function(s){s.preventDefault();var l=r.element.getBoundingClientRect(),u=l.left,d=l.top,h=s.deltaY<0,p=h?r.intensity:-r.intensity,m=(u-s.clientX)*p,v=(d-s.clientY)*p;r.onzoom(p,m,v,"wheel")}),we(this,"down",function(s){r.pointers.push(s)}),we(this,"move",function(s){if(r.pointers=r.pointers.map(function(M){return M.pointerId===s.pointerId?s:M}),!!r.isTranslating()){var l=r.element.getBoundingClientRect(),u=l.left,d=l.top,h=r.getTouches(),p=h.cx,m=h.cy,v=h.distance;if(r.previous!==null&&r.previous.distance>0){var w=v/r.previous.distance-1,S=(u-p)*w,k=(d-m)*w;r.onzoom(w,S-(r.previous.cx-p),k-(r.previous.cy-m),"touch")}r.previous={cx:p,cy:m,distance:v}}}),we(this,"contextmenu",function(){r.pointers=[]}),we(this,"up",function(s){r.previous=null,r.pointers=r.pointers.filter(function(l){return l.pointerId!==s.pointerId})}),we(this,"dblclick",function(s){s.preventDefault();var l=r.element.getBoundingClientRect(),u=l.left,d=l.top,h=4*r.intensity,p=(u-s.clientX)*h,m=(d-s.clientY)*h;r.onzoom(h,p,m,"dblclick")}),this.intensity=n}return Qe(a,[{key:"initialize",value:function(r,s,l){this.container=r,this.element=s,this.onzoom=l,this.container.addEventListener("wheel",this.wheel),this.container.addEventListener("pointerdown",this.down),this.container.addEventListener("dblclick",this.dblclick),window.addEventListener("pointermove",this.move),window.addEventListener("pointerup",this.up),window.addEventListener("pointercancel",this.up),window.addEventListener("contextmenu",this.contextmenu)}},{key:"getTouches",value:function(){var r={touches:this.pointers},s=[r.touches[0].clientX,r.touches[0].clientY],l=s[0],u=s[1],d=[r.touches[1].clientX,r.touches[1].clientY],h=d[0],p=d[1],m=Math.sqrt(Math.pow(l-h,2)+Math.pow(u-p,2));return{cx:(l+h)/2,cy:(u+p)/2,distance:m}}},{key:"isTranslating",value:function(){return this.pointers.length>=2}},{key:"destroy",value:function(){this.container.removeEventListener("wheel",this.wheel),this.container.removeEventListener("pointerdown",this.down),this.container.removeEventListener("dblclick",this.dblclick),window.removeEventListener("pointermove",this.move),window.removeEventListener("pointerup",this.up),window.removeEventListener("pointercancel",this.up),window.removeEventListener("contextmenu",this.contextmenu)}}])})(),nb=(function(){function a(n,r,s){var l=this;Ke(this,a),we(this,"transform",{k:1,x:0,y:0}),we(this,"pointer",{x:0,y:0}),we(this,"zoomHandler",null),we(this,"dragHandler",null),we(this,"pointerdown",function(u){l.setPointerFrom(u),l.events.pointerDown(l.pointer,u)}),we(this,"pointermove",function(u){l.setPointerFrom(u),l.events.pointerMove(l.pointer,u)}),we(this,"pointerup",function(u){l.setPointerFrom(u),l.events.pointerUp(l.pointer,u)}),we(this,"resize",function(u){l.events.resize(u)}),we(this,"onTranslate",function(u,d){var h;(h=l.zoomHandler)!==null&&h!==void 0&&h.isTranslating()||l.translate(u,d)}),we(this,"onZoom",function(u,d,h,p){l.zoom(l.transform.k*(1+u),d,h,p),l.update()}),this.container=n,this.events=r,this.guards=s,this.content=new bE(function(u){return l.events.reordered(u)}),this.content.holder.style.transformOrigin="0 0",this.setZoomHandler(new tb(.1)),this.setDragHandler(new ih),this.container.addEventListener("pointerdown",this.pointerdown),this.container.addEventListener("pointermove",this.pointermove),window.addEventListener("pointerup",this.pointerup),window.addEventListener("resize",this.resize),n.appendChild(this.content.holder),this.update()}return Qe(a,[{key:"update",value:function(){var r=this.transform,s=r.x,l=r.y,u=r.k;this.content.holder.style.transform="translate(".concat(s,"px, ").concat(l,"px) scale(").concat(u,")")}},{key:"setDragHandler",value:function(r){var s=this;this.dragHandler&&this.dragHandler.destroy(),this.dragHandler=r,this.dragHandler&&this.dragHandler.initialize(this.container,{getCurrentPosition:function(){return s.transform},getZoom:function(){return 1}},{start:function(){return null},translate:this.onTranslate,drag:function(){return null}})}},{key:"setZoomHandler",value:function(r){this.zoomHandler&&this.zoomHandler.destroy(),this.zoomHandler=r,this.zoomHandler&&this.zoomHandler.initialize(this.container,this.content.holder,this.onZoom)}},{key:"setPointerFrom",value:function(r){var s=this.content.getPointerFrom(r),l=s.x,u=s.y,d=this.transform.k;this.pointer={x:l/d,y:u/d}}},{key:"translate",value:(function(){var n=qe(ce.mark(function s(l,u){var d,h;return ce.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return d={x:l,y:u},m.next=3,this.guards.translate({previous:this.transform,position:d});case 3:if(h=m.sent,h){m.next=6;break}return m.abrupt("return",!1);case 6:return this.transform.x=h.data.position.x,this.transform.y=h.data.position.y,this.update(),m.next=11,this.events.translated(h.data);case 11:return m.abrupt("return",!0);case 12:case"end":return m.stop()}},s,this)}));function r(s,l){return n.apply(this,arguments)}return r})()},{key:"zoom",value:(function(){var n=qe(ce.mark(function s(l){var u,d,h,p,m,v,w=arguments;return ce.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return u=w.length>1&&w[1]!==void 0?w[1]:0,d=w.length>2&&w[2]!==void 0?w[2]:0,h=w.length>3?w[3]:void 0,p=this.transform.k,k.next=6,this.guards.zoom({previous:this.transform,zoom:l,source:h});case 6:if(m=k.sent,m){k.next=9;break}return k.abrupt("return",!0);case 9:return v=(p-m.data.zoom)/(p-l||1),this.transform.k=m.data.zoom||1,this.transform.x+=u*v,this.transform.y+=d*v,this.update(),k.next=16,this.events.zoomed(m.data);case 16:return k.abrupt("return",!1);case 17:case"end":return k.stop()}},s,this)}));function r(s){return n.apply(this,arguments)}return r})()},{key:"destroy",value:function(){this.container.removeEventListener("pointerdown",this.pointerdown),this.container.removeEventListener("pointermove",this.pointermove),window.removeEventListener("pointerup",this.pointerup),window.removeEventListener("resize",this.resize),this.dragHandler&&this.dragHandler.destroy(),this.zoomHandler&&this.zoomHandler.destroy(),this.content.holder.innerHTML=""}}])})();function SE(a,n,r){return n=gt(n),ma(a,ab()?Reflect.construct(n,r||[],gt(a).constructor):n.apply(a,r))}function ab(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ab=function(){return!!a})()}var fo=(function(a){function n(){return Ke(this,n),SE(this,n,arguments)}return vn(n,a),Qe(n)})(Fi),xE=Qe(function a(n){Ke(this,a),this.element=document.createElement("div"),this.element.style.position="absolute",this.element.style.left="0",this.element.style.top="0",this.element.addEventListener("contextmenu",function(r){return n.contextmenu(r)})}),EE=(function(){function a(){Ke(this,a),we(this,"views",new WeakMap),we(this,"viewsElements",new Map)}return Qe(a,[{key:"set",value:function(r){var s=r.element,l=r.type,u=r.payload;u!=null&&u.id&&(this.views.set(s,r),this.viewsElements.set("".concat(l,"_").concat(u.id),s))}},{key:"get",value:function(r,s){var l=this.viewsElements.get("".concat(r,"_").concat(s));return l&&this.views.get(l)}},{key:"delete",value:function(r){var s,l=this.views.get(r);l&&(s=l.payload)!==null&&s!==void 0&&s.id&&(this.views.delete(r),this.viewsElements.delete("".concat(l.type,"_").concat(l.payload.id)))}}])})();function tv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function nv(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?tv(Object(r),!0).forEach(function(s){we(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):tv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}var rb=(function(){function a(n,r,s){var l=this;Ke(this,a),we(this,"translate",(function(){var u=qe(ce.mark(function d(h,p){var m,v;return ce.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return m=nv({},l.position),S.next=3,l.guards.translate({previous:m,position:{x:h,y:p}});case 3:if(v=S.sent,v){S.next=6;break}return S.abrupt("return",!1);case 6:return l.position=nv({},v.data.position),l.element.style.transform="translate(".concat(l.position.x,"px, ").concat(l.position.y,"px)"),S.next=10,l.events.translated({position:l.position,previous:m});case 10:return S.abrupt("return",!0);case 11:case"end":return S.stop()}},d)}));return function(d,h){return u.apply(this,arguments)}})()),we(this,"resize",(function(){var u=qe(ce.mark(function d(h,p){var m,v;return ce.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return m={width:h,height:p},S.next=3,l.guards.resize({size:m});case 3:if(S.sent){S.next=5;break}return S.abrupt("return",!1);case 5:if(v=l.element.querySelector("*:not(span):not([fragment])"),!(!v||!(v instanceof HTMLElement))){S.next=8;break}return S.abrupt("return",!1);case 8:return v.style.width="".concat(h,"px"),v.style.height="".concat(p,"px"),S.next=12,l.events.resized({size:m});case 12:return S.abrupt("return",!0);case 13:case"end":return S.stop()}},d)}));return function(d,h){return u.apply(this,arguments)}})()),this.getZoom=n,this.events=r,this.guards=s,this.element=document.createElement("div"),this.element.style.position="absolute",this.position={x:0,y:0},this.translate(0,0),this.element.addEventListener("contextmenu",function(u){return l.events.contextmenu(u)}),this.dragHandler=new ih,this.dragHandler.initialize(this.element,{getCurrentPosition:function(){return l.position},getZoom:function(){return l.getZoom()}},{start:this.events.picked,translate:this.translate,drag:this.events.dragged})}return Qe(a,[{key:"destroy",value:function(){this.dragHandler.destroy()}}])})();function ib(a,n){return a.map(function(r){return{view:n.get(r.id),node:r}}).filter(function(r){return r.view}).map(function(r){var s=r.view,l=r.node,u=l.width,d=l.height;return typeof u<"u"&&typeof d<"u"?{position:s.position,width:u,height:d}:{position:s.position,width:s.element.clientWidth,height:s.element.clientHeight}})}function kE(a,n){var r=a.parentScope(mr),s=n.map(function(u){return Pt(u)==="object"?u:r.getNode(u)}),l=ib(s,a.nodeViews);return eb(l)}function OE(a){var n=a;n.addPipe(function(r){if(!r||Pt(r)!=="object"||!("type"in r))return r;if(r.type==="nodepicked"){var s=n.nodeViews.get(r.data.id),l=n.area.content;s&&l.reorder(s.element,null)}if(r.type==="connectioncreated"){var u=n.connectionViews.get(r.data.id),d=n.area.content;u&&d.reorder(u.element,d.holder.firstChild)}return r})}function av(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function za(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?av(Object(r),!0).forEach(function(s){we(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):av(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function TE(a,n){var r=n!=null&&n.scaling?n.scaling===!0?{min:.1,max:1}:n.scaling:!1,s=n!=null&&n.translation?n.translation===!0?{left:0,top:0,right:1e3,bottom:1e3}:n.translation:!1;function l(d){if(!r)throw new Error("scaling param isnt defined");var h=typeof r=="function"?r():r,p=h.min,m=h.max;return d<p?p:d>m?m:d}function u(d){if(!s)throw new Error("translation param isnt defined");var h=za({},d),p=typeof s=="function"?s():s,m=p.left,v=p.top,w=p.right,S=p.bottom;return h.x<m&&(h.x=m),h.x>w&&(h.x=w),h.y<v&&(h.y=v),h.y>S&&(h.y=S),h}a.addPipe(function(d){if(!d||Pt(d)!=="object"||!("type"in d))return d;if(r&&d.type==="zoom")return za(za({},d),{},{data:za(za({},d.data),{},{zoom:l(d.data.zoom)})});if(s&&d.type==="zoomed"){var h=u(a.area.transform);a.area.translate(h.x,h.y)}return s&&d.type==="translate"?za(za({},d),{},{data:za(za({},d.data),{},{position:u(d.data.position)})}):d})}function CE(){var a=!1;function n(s){(s.key==="Control"||s.key==="Meta")&&(a=!0)}function r(s){(s.key==="Control"||s.key==="Meta")&&(a=!1)}return document.addEventListener("keydown",n),document.addEventListener("keyup",r),{active:function(){return a},destroy:function(){document.removeEventListener("keydown",n),document.removeEventListener("keyup",r)}}}var sb=(function(){function a(){Ke(this,a),we(this,"entities",new Map),we(this,"pickId",null)}return Qe(a,[{key:"isSelected",value:function(r){return this.entities.has("".concat(r.label,"_").concat(r.id))}},{key:"add",value:(function(){var n=qe(ce.mark(function s(l,u){return ce.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(u){h.next=3;break}return h.next=3,this.unselectAll();case 3:this.entities.set("".concat(l.label,"_").concat(l.id),l);case 4:case"end":return h.stop()}},s,this)}));function r(s,l){return n.apply(this,arguments)}return r})()},{key:"remove",value:(function(){var n=qe(ce.mark(function s(l){var u,d;return ce.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(u="".concat(l.label,"_").concat(l.id),d=this.entities.get(u),!d){p.next=6;break}return this.entities.delete(u),p.next=6,d.unselect();case 6:case"end":return p.stop()}},s,this)}));function r(s){return n.apply(this,arguments)}return r})()},{key:"unselectAll",value:(function(){var n=qe(ce.mark(function s(){var l=this;return ce.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Promise.all(Ki(Array.from(this.entities.values())).map(function(h){return l.remove(h)}));case 2:case"end":return d.stop()}},s,this)}));function r(){return n.apply(this,arguments)}return r})()},{key:"translate",value:(function(){var n=qe(ce.mark(function s(l,u){var d=this;return ce.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,Promise.all(Array.from(this.entities.values()).map(function(m){return!d.isPicked(m)&&m.translate(l,u)}));case 2:case"end":return p.stop()}},s,this)}));function r(s,l){return n.apply(this,arguments)}return r})()},{key:"pick",value:function(r){this.pickId="".concat(r.label,"_").concat(r.id)}},{key:"release",value:function(){this.pickId=null}},{key:"isPicked",value:function(r){return this.pickId==="".concat(r.label,"_").concat(r.id)}}])})();function NE(){return new sb}function _E(a,n,r){var s=null,l=a,u=function(){return s||(s=l.parentScope(mr))},d=0;function h(k){k.selected||(k.selected=!0,l.update("node",k.id))}function p(k){k.selected&&(k.selected=!1,l.update("node",k.id))}function m(k,M){return v.apply(this,arguments)}function v(){return v=qe(ce.mark(function k(M,P){var Y;return ce.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(Y=u().getNode(M),Y){q.next=3;break}return q.abrupt("return");case 3:return q.next=5,n.add({label:"node",id:Y.id,translate:function(G,re){return qe(ce.mark(function oe(){var ee,he;return ce.wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(ee=l.nodeViews.get(Y.id),he=ee?.position,!he){ae.next=5;break}return ae.next=5,ee.translate(he.x+G,he.y+re);case 5:case"end":return ae.stop()}},oe)}))()},unselect:function(){p(Y)}},P);case 5:h(Y);case 6:case"end":return q.stop()}},k)})),v.apply(this,arguments)}function w(k){return S.apply(this,arguments)}function S(){return S=qe(ce.mark(function k(M){return ce.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.next=2,n.remove({id:M,label:"node"});case 2:case"end":return Y.stop()}},k)})),S.apply(this,arguments)}return l.addPipe((function(){var k=qe(ce.mark(function M(P){var Y,K,q,U,G,re,oe,ee;return ce.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(!(!P||Pt(P)!=="object"||!("type"in P))){I.next=2;break}return I.abrupt("return",P);case 2:if(P.type!=="nodepicked"){I.next=11;break}return Y=P.data.id,K=r.accumulating.active(),n.pick({id:Y,label:"node"}),d=null,I.next=9,m(Y,K);case 9:I.next=33;break;case 11:if(P.type!=="nodetranslated"){I.next=20;break}if(q=P.data,U=q.id,G=q.position,re=q.previous,oe=G.x-re.x,ee=G.y-re.y,!n.isPicked({id:U,label:"node"})){I.next=18;break}return I.next=18,n.translate(oe,ee);case 18:I.next=33;break;case 20:if(P.type!=="pointerdown"){I.next=24;break}d=0,I.next=33;break;case 24:if(P.type!=="pointermove"){I.next=28;break}d!==null&&d++,I.next=33;break;case 28:if(P.type!=="pointerup"){I.next=33;break}if(!(d!==null&&d<4)){I.next=32;break}return I.next=32,n.unselectAll();case 32:d=null;case 33:return I.abrupt("return",P);case 34:case"end":return I.stop()}},M)}));return function(M){return k.apply(this,arguments)}})()),{select:m,unselect:w}}function AE(a,n){var r=null,s=function(){return r||(r=a.parentScope(mr))};function l(u,d){var h=s().getNode(u);if(h){var p=h.inputs[d];if(!p)throw new Error("cannot find input");var m=p.showControl,v=s().getConnections(),w=!!v.find(function(S){return S.target===u&&S.targetInput===d});p.showControl=n?n({hasAnyConnection:w,input:p}):!w,p.showControl!==m&&a.update("node",h.id)}}a.addPipe(function(u){return(u.type==="connectioncreated"||u.type==="connectionremoved")&&l(u.data.target,u.data.targetInput),u})}function rv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function Dl(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?rv(Object(r),!0).forEach(function(s){we(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):rv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function jE(a,n){var r=a,s=typeof n?.size>"u"?16:n.size,l=typeof n?.dynamic>"u"?!0:n.dynamic;function u(d){return Math.round(d/s)*s}r.addPipe(function(d){if(!d||Pt(d)!=="object"||!("type"in d))return d;if(l&&d.type==="nodetranslate"){var h=d.data.position,p=u(h.x),m=u(h.y);return Dl(Dl({},d),{},{data:Dl(Dl({},d.data),{},{position:{x:p,y:m}})})}if(!l&&d.type==="nodedragged"){var v=r.nodeViews.get(d.data.id);if(v){var w=v.position,S=w.x,k=w.y;v.translate(u(S),u(k))}}return d})}function DE(a,n,r){return Sd.apply(this,arguments)}function Sd(){return Sd=qe(ce.mark(function a(n,r,s){var l,u,d,h,p,m,v,w,S,k,M,P,Y;return ce.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return l=s||{},u=l.scale,d=u===void 0?.9:u,h=n.parentScope(mr),p=r.map(function(U){return Pt(U)==="object"?U:h.getNode(U)}),m=ib(p,n.nodeViews),v=eb(m),w=[n.container.clientWidth,n.container.clientHeight],S=w[0],k=w[1],M=S/v.width,P=k/v.height,Y=Math.min(P*d,M*d,1),n.area.transform.x=S/2-v.center.x*Y,n.area.transform.y=k/2-v.center.y*Y,q.next=12,n.area.zoom(Y,0,0);case 12:case"end":return q.stop()}},a)})),Sd.apply(this,arguments)}var Ur=Object.freeze({__proto__:null,getBoundingBox:kE,simpleNodesOrder:OE,restrictor:TE,accumulateOnCtrl:CE,selectableNodes:_E,Selector:sb,selector:NE,showInputControl:AE,snapGrid:jE,zoomAt:DE});function iv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function sv(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?iv(Object(r),!0).forEach(function(s){we(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):iv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function ME(a,n,r){return n=gt(n),ma(a,ob()?Reflect.construct(n,r||[],gt(a).constructor):n.apply(a,r))}function ob(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ob=function(){return!!a})()}var lb=(function(a){function n(r){var s;return Ke(this,n),s=ME(this,n,["area"]),we(s,"nodeViews",new Map),we(s,"connectionViews",new Map),we(s,"elements",new EE),we(s,"onContextMenu",function(l){s.emit({type:"contextmenu",data:{event:l,context:"root"}})}),s.container=r,r.style.overflow="hidden",r.addEventListener("contextmenu",s.onContextMenu),s.addPipe(function(l){return!l||!(Pt(l)==="object"&&"type"in l)||(l.type==="nodecreated"&&s.addNodeView(l.data),l.type==="noderemoved"&&s.removeNodeView(l.data.id),l.type==="connectioncreated"&&s.addConnectionView(l.data),l.type==="connectionremoved"&&s.removeConnectionView(l.data.id),l.type==="render"&&s.elements.set(l.data),l.type==="unmount"&&s.elements.delete(l.data.element)),l}),s.area=new nb(r,{zoomed:function(u){return s.emit({type:"zoomed",data:u})},pointerDown:function(u,d){return void s.emit({type:"pointerdown",data:{position:u,event:d}})},pointerMove:function(u,d){return void s.emit({type:"pointermove",data:{position:u,event:d}})},pointerUp:function(u,d){return void s.emit({type:"pointerup",data:{position:u,event:d}})},resize:function(u){return void s.emit({type:"resized",data:{event:u}})},translated:function(u){return s.emit({type:"translated",data:u})},reordered:function(u){return s.emit({type:"reordered",data:{element:u}})}},{translate:function(u){return s.emit({type:"translate",data:u})},zoom:function(u){return s.emit({type:"zoom",data:u})}}),s}return vn(n,a),Qe(n,[{key:"addNodeView",value:function(s){var l=this,u=s.id,d=new rb(function(){return l.area.transform.k},{picked:function(){return void l.emit({type:"nodepicked",data:{id:u}})},translated:function(p){return l.emit({type:"nodetranslated",data:sv({id:u},p)})},dragged:function(){return void l.emit({type:"nodedragged",data:s})},contextmenu:function(p){return void l.emit({type:"contextmenu",data:{event:p,context:s}})},resized:function(p){var m=p.size;return l.emit({type:"noderesized",data:{id:s.id,size:m}})}},{translate:function(p){return l.emit({type:"nodetranslate",data:sv({id:u},p)})},resize:function(p){var m=p.size;return l.emit({type:"noderesize",data:{id:s.id,size:m}})}});return this.nodeViews.set(u,d),this.area.content.add(d.element),this.emit({type:"render",data:{element:d.element,type:"node",payload:s}}),d}},{key:"removeNodeView",value:function(s){var l=this.nodeViews.get(s);l&&(this.emit({type:"unmount",data:{element:l.element}}),this.nodeViews.delete(s),this.area.content.remove(l.element))}},{key:"addConnectionView",value:function(s){var l=this,u=new xE({contextmenu:function(h){return void l.emit({type:"contextmenu",data:{event:h,context:s}})}});return this.connectionViews.set(s.id,u),this.area.content.add(u.element),this.emit({type:"render",data:{element:u.element,type:"connection",payload:s}}),u}},{key:"removeConnectionView",value:function(s){var l=this.connectionViews.get(s);l&&(this.emit({type:"unmount",data:{element:l.element}}),this.connectionViews.delete(s),this.area.content.remove(l.element))}},{key:"update",value:(function(){var r=qe(ce.mark(function l(u,d){var h;return ce.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(h=this.elements.get(u,d),!h){m.next=4;break}return m.next=4,this.emit({type:"render",data:h});case 4:case"end":return m.stop()}},l,this)}));function s(l,u){return r.apply(this,arguments)}return s})()},{key:"resize",value:(function(){var r=qe(ce.mark(function l(u,d,h){var p;return ce.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(p=this.nodeViews.get(u),!p){v.next=5;break}return v.next=4,p.resize(d,h);case 4:return v.abrupt("return",v.sent);case 5:case"end":return v.stop()}},l,this)}));function s(l,u,d){return r.apply(this,arguments)}return s})()},{key:"translate",value:(function(){var r=qe(ce.mark(function l(u,d){var h,p,m;return ce.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(h=d.x,p=d.y,m=this.nodeViews.get(u),!m){w.next=6;break}return w.next=5,m.translate(h,p);case 5:return w.abrupt("return",w.sent);case 6:case"end":return w.stop()}},l,this)}));function s(l,u){return r.apply(this,arguments)}return s})()},{key:"destroy",value:function(){var s=this;this.container.removeEventListener("contextmenu",this.onContextMenu),Array.from(this.connectionViews.keys()).forEach(function(l){return s.removeConnectionView(l)}),Array.from(this.nodeViews.keys()).forEach(function(l){return s.removeNodeView(l)}),this.area.destroy()}}])})(fo);const ov=Object.freeze(Object.defineProperty({__proto__:null,Area:nb,AreaExtensions:Ur,AreaPlugin:lb,BaseAreaPlugin:fo,Drag:ih,NodeView:rb,Zoom:tb,usePointerListener:W0},Symbol.toStringTag,{value:"Module"}));function zE(a,n){for(;!{}.hasOwnProperty.call(a,n)&&(a=gt(a))!==null;);return a}function lo(){return lo=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(a,n,r){var s=zE(a,n);if(s){var l=Object.getOwnPropertyDescriptor(s,n);return l.get?l.get.call(arguments.length<3?a:r):l.value}},lo.apply(null,arguments)}function RE(a){if(Array.isArray(a))return a}function LE(a,n){var r=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(r!=null){var s,l,u,d,h=[],p=!0,m=!1;try{if(u=(r=r.call(a)).next,n!==0)for(;!(p=(s=u.call(r)).done)&&(h.push(s.value),h.length!==n);p=!0);}catch(v){m=!0,l=v}finally{try{if(!p&&r.return!=null&&(d=r.return(),Object(d)!==d))return}finally{if(m)throw l}}return h}}function BE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ln(a,n){return RE(a)||LE(a,n)||P0(a,n)||BE()}function lv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function Wf(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?lv(Object(r),!0).forEach(function(s){we(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):lv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function UE(a){var n=null,r=null;function s(u){r&&u.removeConnectionView(r),n=null,r=null}function l(u){s(u),r="pseudo_".concat(yr())}return{isMounted:function(){return!!r},mount:l,render:function(d,h,p){var m=h.x,v=h.y,w=p.side==="output",S={x:m+(w?-3:3),y:v};if(!r)throw new Error("pseudo connection id wasn't generated");var k=w?Wf({id:r,source:p.nodeId,sourceOutput:p.key,target:"",targetInput:""},a??{}):Wf({id:r,target:p.nodeId,targetInput:p.key,source:"",sourceOutput:""},a??{});if(!n){var M=d.addConnectionView(k);n=M.element}n&&d.emit({type:"render",data:Wf({element:n,type:"connection",payload:k},w?{end:S}:{start:S})})},unmount:s}}function HE(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=$E(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(m){throw m},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,d=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var m=r.next();return d=m.done,m},e:function(m){h=!0,u=m},f:function(){try{d||r.return==null||r.return()}finally{if(h)throw u}}}}function $E(a,n){if(a){if(typeof a=="string")return uv(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?uv(a,n):void 0}}function uv(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function VE(a,n){var r=HE(n),s;try{for(r.s();!(s=r.n()).done;){var l=s.value,u=a.get(l);if(u)return u}}catch(d){r.e(d)}finally{r.f()}}function ub(a,n){var r,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document,l=s.elementsFromPoint(a,n),u=(r=l[0])===null||r===void 0?void 0:r.shadowRoot;return u&&u!==s&&l.unshift.apply(l,Ki(ub(a,n,u))),l}var sh=(function(){function a(){Ke(this,a)}return Qe(a,[{key:"setContext",value:function(r){this.context=r}}])})();function cb(a,n){var r=a.side==="output"&&n.side==="input",s=a.side==="input"&&n.side==="output",l=r?[a,n]:s?[n,a]:[],u=ln(l,2),d=u[0],h=u[1];if(d&&h)return[d,h]}function qE(a,n){return!!cb(a,n)}function YE(a,n,r){var s=cb(a,n)||[null,null],l=ln(s,2),u=l[0],d=l[1];if(u&&d)return r.editor.addConnection({id:yr(),source:u.nodeId,sourceOutput:u.key,target:d.nodeId,targetInput:d.key}),!0}function IE(a,n){var r=n.getNode(a.nodeId);if(!r)throw new Error("cannot find node");var s=a.side==="input"?r.inputs:r.outputs;return s[a.key]}function GE(a,n){var r=a.nodeId,s=a.side,l=a.key;return n.getConnections().filter(function(u){if(s==="input")return u.target===r&&u.targetInput===l;if(s==="output")return u.source===r&&u.sourceOutput===l})}function xd(a,n){var r=a.map(function(s){var l=IE(s,n),u=l?.multipleConnections;return u?[]:GE(s,n)}).flat();return{commit:function(){var l=Array.from(new Set(r.map(function(u){var d=u.id;return d})));l.forEach(function(u){return void n.removeConnection(u)})}}}function oh(a,n,r){return n=gt(n),ma(a,fb()?Reflect.construct(n,[],gt(a).constructor):n.apply(a,r))}function fb(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fb=function(){return!!a})()}var ZE=(function(a){function n(r,s){var l;return Ke(this,n),l=oh(this,n),l.initial=r,l.params=s,l}return vn(n,a),Qe(n,[{key:"pick",value:(function(){var r=qe(ce.mark(function l(u,d){var h,p;return ce.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:h=u.socket,this.params.canMakeConnection(this.initial,h)&&(xd([this.initial,h],d.editor).commit(),p=this.params.makeConnection(this.initial,h,d),this.drop(d,p?h:null,p));case 2:case"end":return v.stop()}},l,this)}));function s(l,u){return r.apply(this,arguments)}return s})()},{key:"drop",value:function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.initial&&s.scope.emit({type:"connectiondrop",data:{initial:this.initial,socket:l,created:u}}),this.context.switchTo(new lh(this.params))}}])})(sh),XE=(function(a){function n(r,s,l){var u;Ke(this,n),u=oh(this,n),u.connection=r,u.params=s;var d=Array.from(l.socketsCache.values()).find(function(h){return h.nodeId===u.connection.source&&h.side==="output"&&h.key===u.connection.sourceOutput});if(!d)throw new Error("cannot find output socket");return u.outputSocket=d,u}return vn(n,a),Qe(n,[{key:"init",value:(function(){var r=qe(ce.mark(function l(u){var d=this;return ce.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:u.scope.emit({type:"connectionpick",data:{socket:this.outputSocket}}).then(function(m){m?(u.editor.removeConnection(d.connection.id),d.initial=d.outputSocket):d.drop(u)});case 1:case"end":return p.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"pick",value:(function(){var r=qe(ce.mark(function l(u,d){var h,p,m,v,w,S;return ce.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:h=u.socket,p=u.event,this.initial&&!(h.side==="input"&&this.connection.target===h.nodeId&&this.connection.targetInput===h.key)?this.params.canMakeConnection(this.initial,h)&&(xd([this.initial,h],d.editor).commit(),m=this.params.makeConnection(this.initial,h,d),v=m?h:null,this.drop(d,v,m)):p==="down"&&this.initial&&(xd([this.initial,h],d.editor).commit(),w=this.params.makeConnection(this.initial,h,d),S=w?null:h,this.drop(d,S,w));case 2:case"end":return M.stop()}},l,this)}));function s(l,u){return r.apply(this,arguments)}return s})()},{key:"drop",value:function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.initial&&s.scope.emit({type:"connectiondrop",data:{initial:this.initial,socket:l,created:u}}),this.context.switchTo(new lh(this.params))}}])})(sh),lh=(function(a){function n(r){var s;return Ke(this,n),s=oh(this,n),s.params=r,s}return vn(n,a),Qe(n,[{key:"pick",value:(function(){var r=qe(ce.mark(function l(u,d){var h,p,m,v;return ce.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(h=u.socket,p=u.event,p==="down"){S.next=3;break}return S.abrupt("return");case 3:if(h.side!=="input"){S.next=11;break}if(m=d.editor.getConnections().find(function(k){return k.target===h.nodeId&&k.targetInput===h.key}),!m){S.next=11;break}return v=new XE(m,this.params,d),S.next=9,v.init(d);case 9:return this.context.switchTo(v),S.abrupt("return");case 11:return S.next=13,d.scope.emit({type:"connectionpick",data:{socket:h}});case 13:if(!S.sent){S.next=17;break}this.context.switchTo(new ZE(h,this.params)),S.next=18;break;case 17:this.drop(d);case 18:case"end":return S.stop()}},l,this)}));function s(l,u){return r.apply(this,arguments)}return s})()},{key:"drop",value:function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.initial&&s.scope.emit({type:"connectiondrop",data:{initial:this.initial,socket:l,created:u}}),delete this.initial}}])})(sh),FE=(function(){function a(n){Ke(this,a);var r=n?.canMakeConnection||qE,s=n?.makeConnection||YE;this.switchTo(new lh({canMakeConnection:r,makeConnection:s}))}return Qe(a,[{key:"pick",value:(function(){var n=qe(ce.mark(function s(l,u){return ce.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.currentState.pick(l,u);case 2:case"end":return h.stop()}},s,this)}));function r(s,l){return n.apply(this,arguments)}return r})()},{key:"getPickedSocket",value:function(){return this.currentState.initial}},{key:"switchTo",value:function(r){r.setContext(this),this.currentState=r}},{key:"drop",value:function(r){this.currentState.drop(r)}}])})();function KE(){return function(){return new FE}}var QE=Object.freeze({__proto__:null,setup:KE}),JE=Object.freeze({__proto__:null,classic:QE});function PE(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=WE(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(m){throw m},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,d=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var m=r.next();return d=m.done,m},e:function(m){h=!0,u=m},f:function(){try{d||r.return==null||r.return()}finally{if(h)throw u}}}}function WE(a,n){if(a){if(typeof a=="string")return cv(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?cv(a,n):void 0}}function cv(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function e2(a,n,r){return n=gt(n),ma(a,db()?Reflect.construct(n,r||[],gt(a).constructor):n.apply(a,r))}function db(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(db=function(){return!!a})()}function t2(a,n,r,s){var l=lo(gt(a.prototype),n,r);return typeof l=="function"?function(u){return l.apply(r,u)}:l}var n2=(function(a){function n(){var r;return Ke(this,n),r=e2(this,n,["connection"]),we(r,"presets",[]),we(r,"currentFlow",null),we(r,"preudoconnection",UE({isPseudo:!0})),we(r,"socketsCache",new Map),r}return vn(n,a),Qe(n,[{key:"addPreset",value:function(s){this.presets.push(s)}},{key:"findPreset",value:function(s){var l=PE(this.presets),u;try{for(l.s();!(u=l.n()).done;){var d=u.value,h=d(s);if(h)return h}}catch(p){l.e(p)}finally{l.f()}return null}},{key:"update",value:function(){if(this.currentFlow){var s=this.currentFlow.getPickedSocket();s&&this.preudoconnection.render(this.areaPlugin,this.areaPlugin.area.pointer,s)}}},{key:"drop",value:function(){var s={editor:this.editor,scope:this,socketsCache:this.socketsCache};this.currentFlow&&(this.currentFlow.drop(s),this.preudoconnection.unmount(this.areaPlugin),this.currentFlow=null)}},{key:"pick",value:(function(){var r=qe(ce.mark(function l(u,d){var h,p,m;return ce.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(h={editor:this.editor,scope:this,socketsCache:this.socketsCache},p=ub(u.clientX,u.clientY),m=VE(this.socketsCache,p),!m){w.next=13;break}if(u.preventDefault(),u.stopPropagation(),this.currentFlow=this.currentFlow||this.findPreset(m),!this.currentFlow){w.next=11;break}return w.next=10,this.currentFlow.pick({socket:m,event:d},h);case 10:this.preudoconnection.mount(this.areaPlugin);case 11:w.next=14;break;case 13:this.currentFlow&&this.currentFlow.drop(h);case 14:this.currentFlow&&!this.currentFlow.getPickedSocket()&&(this.preudoconnection.unmount(this.areaPlugin),this.currentFlow=null),this.update();case 16:case"end":return w.stop()}},l,this)}));function s(l,u){return r.apply(this,arguments)}return s})()},{key:"setParent",value:function(s){var l=this;t2(n,"setParent",this)([s]),this.areaPlugin=this.parentScope(fo),this.editor=this.areaPlugin.parentScope(mr);var u=function(h){l.pick(h,"down")};this.addPipe(function(d){if(!d||Pt(d)!=="object"||!("type"in d))return d;if(d.type==="pointermove")l.update();else if(d.type==="pointerup")l.pick(d.data.event,"up");else if(d.type==="render"){if(d.data.type==="socket"){var h=d.data.element;h.addEventListener("pointerdown",u),l.socketsCache.set(h,d.data)}}else if(d.type==="unmount"){var p=d.data.element;p.removeEventListener("pointerdown",u),l.socketsCache.delete(p)}return d})}}])})(Fi),Hr=$0();const uh=th(Hr),fv=H0({__proto__:null,default:uh},[Hr]);function a2(a,n){var r=ln(a,2),s=r[0],l=s.x,u=s.y,d=r[1],h=d.x,p=d.y,m=Math.abs(u-p),v=l+Math.max(m/2,Math.abs(h-l))*n,w=h-Math.max(m/2,Math.abs(h-l))*n;return"M ".concat(l," ").concat(u," C ").concat(v," ").concat(u," ").concat(w," ").concat(p," ").concat(h," ").concat(p)}function r2(a,n,r){var s=ln(a,2),l=s[0],u=l.x,d=l.y,h=s[1],p=h.x,m=h.y,v=m>d?1:-1,w=r+Math.abs(u-p)/(r/2),S=(u+p)/2,k=d-v*w,M=(m-d)*n;return`
        M `.concat(u," ").concat(d,`
        C `).concat(u+w," ").concat(d,`
        `).concat(u+w," ").concat(k-M,`
        `).concat(S," ").concat(k,`
        C `).concat(p-w," ").concat(k+M,`
        `).concat(p-w," ").concat(m,`
        `).concat(p," ").concat(m,`
    `)}function i2(a,n){return Ed.apply(this,arguments)}function Ed(){return Ed=qe(ce.mark(function a(n,r){var s,l,u,d,h;return ce.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(n.offsetParent){m.next=5;break}return m.next=3,new Promise(function(v){return setTimeout(v,0)});case 3:m.next=0;break;case 5:if(s=n.offsetLeft,l=n.offsetTop,u=n.offsetParent,u){m.next=10;break}throw new Error("child has null offsetParent");case 10:for(;u!==null&&u!==r;)s+=u.offsetLeft+u.clientLeft,l+=u.offsetTop+u.clientTop,u=u.offsetParent;return d=n.offsetWidth,h=n.offsetHeight,m.abrupt("return",{x:s+d/2,y:l+h/2});case 14:case"end":return m.stop()}},a)})),Ed.apply(this,arguments)}var s2=(function(){function a(){Ke(this,a),we(this,"listeners",new Set)}return Qe(a,[{key:"emit",value:function(r){this.listeners.forEach(function(s){s(r)})}},{key:"listen",value:function(r){var s=this;return this.listeners.add(r),function(){s.listeners.delete(r)}}}])})(),o2=(function(){function a(){Ke(this,a),we(this,"elements",new Map)}return Qe(a,[{key:"getPosition",value:function(r){var s,l,u=Array.from(this.elements.values()).flat(),d=u.filter(function(h){return h.side===r.side&&h.nodeId===r.nodeId&&h.key===r.key});return d.length>1&&console.warn(["Found more than one element for socket with same key and side.","Probably it was not unmounted correctly"].join(" "),r),(s=(l=d.pop())===null||l===void 0?void 0:l.position)!==null&&s!==void 0?s:null}},{key:"add",value:function(r){var s=this.elements.get(r.element);this.elements.set(r.element,s?[].concat(Ki(s.filter(function(l){return!(l.nodeId===r.nodeId&&l.key===r.key&&l.side===r.side)})),[r]):[r])}},{key:"remove",value:function(r){this.elements.delete(r)}},{key:"snapshot",value:function(){return Array.from(this.elements.values()).flat()}}])})(),l2=(function(){function a(){Ke(this,a),we(this,"sockets",new o2),we(this,"emitter",new s2),we(this,"area",null)}return Qe(a,[{key:"attach",value:function(r){var s=this;this.area||r.hasParent()&&(this.area=r.parentScope(fo),this.area.addPipe((function(){var l=qe(ce.mark(function u(d){var h,p,m,v,w,S,k,M,P,Y,K;return ce.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(!(d.type==="rendered"&&d.data.type==="socket")){U.next=8;break}return h=d.data,p=h.nodeId,m=h.key,v=h.side,w=h.element,U.next=4,s.calculatePosition(p,v,m,w);case 4:S=U.sent,S&&(s.sockets.add({nodeId:p,key:m,side:v,element:w,position:S}),s.emitter.emit({nodeId:p,key:m,side:v})),U.next=24;break;case 8:if(d.type!=="unmount"){U.next=12;break}s.sockets.remove(d.data.element),U.next=24;break;case 12:if(d.type!=="nodetranslated"){U.next=16;break}s.emitter.emit({nodeId:d.data.id}),U.next=24;break;case 16:if(d.type!=="noderesized"){U.next=23;break}return k=d.data.id,U.next=20,Promise.all(s.sockets.snapshot().filter(function(G){return G.nodeId===d.data.id&&G.side==="output"}).map((function(){var G=qe(ce.mark(function re(oe){var ee,he,I,ae;return ce.wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:return ee=oe.side,he=oe.key,I=oe.element,Oe.next=3,s.calculatePosition(k,ee,he,I);case 3:ae=Oe.sent,ae&&(oe.position=ae);case 5:case"end":return Oe.stop()}},re)}));return function(re){return G.apply(this,arguments)}})()));case 20:s.emitter.emit({nodeId:k}),U.next=24;break;case 23:d.type==="render"&&d.data.type==="connection"&&(M=d.data.payload,P=M.source,Y=M.target,K=P||Y,s.emitter.emit({nodeId:K}));case 24:return U.abrupt("return",d);case 25:case"end":return U.stop()}},u)}));return function(u){return l.apply(this,arguments)}})()))}},{key:"listen",value:function(r,s,l,u){var d=this,h=this.emitter.listen(function(p){if(p.nodeId===r&&(!p.key||p.side===s)&&(!p.side||p.key===l)){var m,v=d.sockets.getPosition({side:s,nodeId:r,key:l});if(!v)return;var w=v.x,S=v.y,k=(m=d.area)===null||m===void 0?void 0:m.nodeViews.get(r);k&&u({x:w+k.position.x,y:S+k.position.y})}});return this.sockets.snapshot().forEach(function(p){p.nodeId===r&&d.emitter.emit(p)}),h}}])})();function u2(a,n,r){return n=gt(n),ma(a,hb()?Reflect.construct(n,[],gt(a).constructor):n.apply(a,r))}function hb(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hb=function(){return!!a})()}var c2=(function(a){function n(r){var s;return Ke(this,n),s=u2(this,n),s.props=r,s}return vn(n,a),Qe(n,[{key:"calculatePosition",value:(function(){var r=qe(ce.mark(function l(u,d,h,p){var m,v,w,S;return ce.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(w=(m=this.area)===null||m===void 0?void 0:m.nodeViews.get(u),w!=null&&w.element){M.next=3;break}return M.abrupt("return",null);case 3:return M.next=5,i2(p,w.element);case 5:if(S=M.sent,!((v=this.props)!==null&&v!==void 0&&v.offset)){M.next=8;break}return M.abrupt("return",this.props.offset(S,u,d,h));case 8:return M.abrupt("return",{x:S.x+12*(d==="input"?-1:1),y:S.y});case 9:case"end":return M.stop()}},l,this)}));function s(l,u,d,h){return r.apply(this,arguments)}return s})()}])})(l2);function f2(a){return new c2(a)}function Wt(a,n){return n||(n=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(n)}}))}var gn=function(){return gn=Object.assign||function(n){for(var r,s=1,l=arguments.length;s<l;s++){r=arguments[s];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(n[u]=r[u])}return n},gn.apply(this,arguments)};function au(a,n,r){if(r||arguments.length===2)for(var s=0,l=n.length,u;s<l;s++)(u||!(s in n))&&(u||(u=Array.prototype.slice.call(n,0,s)),u[s]=n[s]);return a.concat(u||Array.prototype.slice.call(n))}var St="-ms-",ro="-moz-",ot="-webkit-",pb="comm",fu="rule",ch="decl",d2="@import",mb="@keyframes",h2="@layer",yb=Math.abs,fh=String.fromCharCode,kd=Object.assign;function p2(a,n){return Gt(a,0)^45?(((n<<2^Gt(a,0))<<2^Gt(a,1))<<2^Gt(a,2))<<2^Gt(a,3):0}function gb(a){return a.trim()}function La(a,n){return(a=n.exec(a))?a[0]:a}function Ve(a,n,r){return a.replace(n,r)}function Gl(a,n,r){return a.indexOf(n,r)}function Gt(a,n){return a.charCodeAt(n)|0}function Vi(a,n,r){return a.slice(n,r)}function ua(a){return a.length}function vb(a){return a.length}function Ps(a,n){return n.push(a),a}function m2(a,n){return a.map(n).join("")}function dv(a,n){return a.filter(function(r){return!La(r,n)})}var du=1,qi=1,bb=0,Fn=0,Ht=0,Qi="";function hu(a,n,r,s,l,u,d,h){return{value:a,root:n,parent:r,type:s,props:l,children:u,line:du,column:qi,length:d,return:"",siblings:h}}function cr(a,n){return kd(hu("",null,null,"",null,null,0,a.siblings),a,{length:-a.length},n)}function Di(a){for(;a.root;)a=cr(a.root,{children:[a]});Ps(a,a.siblings)}function y2(){return Ht}function g2(){return Ht=Fn>0?Gt(Qi,--Fn):0,qi--,Ht===10&&(qi=1,du--),Ht}function na(){return Ht=Fn<bb?Gt(Qi,Fn++):0,qi++,Ht===10&&(qi=1,du++),Ht}function qr(){return Gt(Qi,Fn)}function Zl(){return Fn}function pu(a,n){return Vi(Qi,a,n)}function Od(a){switch(a){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function v2(a){return du=qi=1,bb=ua(Qi=a),Fn=0,[]}function b2(a){return Qi="",a}function ed(a){return gb(pu(Fn-1,Td(a===91?a+2:a===40?a+1:a)))}function w2(a){for(;(Ht=qr())&&Ht<33;)na();return Od(a)>2||Od(Ht)>3?"":" "}function S2(a,n){for(;--n&&na()&&!(Ht<48||Ht>102||Ht>57&&Ht<65||Ht>70&&Ht<97););return pu(a,Zl()+(n<6&&qr()==32&&na()==32))}function Td(a){for(;na();)switch(Ht){case a:return Fn;case 34:case 39:a!==34&&a!==39&&Td(Ht);break;case 40:a===41&&Td(a);break;case 92:na();break}return Fn}function x2(a,n){for(;na()&&a+Ht!==57;)if(a+Ht===84&&qr()===47)break;return"/*"+pu(n,Fn-1)+"*"+fh(a===47?a:na())}function E2(a){for(;!Od(qr());)na();return pu(a,Fn)}function k2(a){return b2(Xl("",null,null,null,[""],a=v2(a),0,[0],a))}function Xl(a,n,r,s,l,u,d,h,p){for(var m=0,v=0,w=d,S=0,k=0,M=0,P=1,Y=1,K=1,q=0,U="",G=l,re=u,oe=s,ee=U;Y;)switch(M=q,q=na()){case 40:if(M!=108&&Gt(ee,w-1)==58){Gl(ee+=Ve(ed(q),"&","&\f"),"&\f",yb(m?h[m-1]:0))!=-1&&(K=-1);break}case 34:case 39:case 91:ee+=ed(q);break;case 9:case 10:case 13:case 32:ee+=w2(M);break;case 92:ee+=S2(Zl()-1,7);continue;case 47:switch(qr()){case 42:case 47:Ps(O2(x2(na(),Zl()),n,r,p),p);break;default:ee+="/"}break;case 123*P:h[m++]=ua(ee)*K;case 125*P:case 59:case 0:switch(q){case 0:case 125:Y=0;case 59+v:K==-1&&(ee=Ve(ee,/\f/g,"")),k>0&&ua(ee)-w&&Ps(k>32?pv(ee+";",s,r,w-1,p):pv(Ve(ee," ","")+";",s,r,w-2,p),p);break;case 59:ee+=";";default:if(Ps(oe=hv(ee,n,r,m,v,l,h,U,G=[],re=[],w,u),u),q===123)if(v===0)Xl(ee,n,oe,oe,G,u,w,h,re);else switch(S===99&&Gt(ee,3)===110?100:S){case 100:case 108:case 109:case 115:Xl(a,oe,oe,s&&Ps(hv(a,oe,oe,0,0,l,h,U,l,G=[],w,re),re),l,re,w,h,s?G:re);break;default:Xl(ee,oe,oe,oe,[""],re,0,h,re)}}m=v=k=0,P=K=1,U=ee="",w=d;break;case 58:w=1+ua(ee),k=M;default:if(P<1){if(q==123)--P;else if(q==125&&P++==0&&g2()==125)continue}switch(ee+=fh(q),q*P){case 38:K=v>0?1:(ee+="\f",-1);break;case 44:h[m++]=(ua(ee)-1)*K,K=1;break;case 64:qr()===45&&(ee+=ed(na())),S=qr(),v=w=ua(U=ee+=E2(Zl())),q++;break;case 45:M===45&&ua(ee)==2&&(P=0)}}return u}function hv(a,n,r,s,l,u,d,h,p,m,v,w){for(var S=l-1,k=l===0?u:[""],M=vb(k),P=0,Y=0,K=0;P<s;++P)for(var q=0,U=Vi(a,S+1,S=yb(Y=d[P])),G=a;q<M;++q)(G=gb(Y>0?k[q]+" "+U:Ve(U,/&\f/g,k[q])))&&(p[K++]=G);return hu(a,n,r,l===0?fu:h,p,m,v,w)}function O2(a,n,r,s){return hu(a,n,r,pb,fh(y2()),Vi(a,2,-2),0,s)}function pv(a,n,r,s,l){return hu(a,n,r,ch,Vi(a,0,s),Vi(a,s+1,-1),s,l)}function wb(a,n,r){switch(p2(a,n)){case 5103:return ot+"print-"+a+a;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ot+a+a;case 4789:return ro+a+a;case 5349:case 4246:case 4810:case 6968:case 2756:return ot+a+ro+a+St+a+a;case 5936:switch(Gt(a,n+11)){case 114:return ot+a+St+Ve(a,/[svh]\w+-[tblr]{2}/,"tb")+a;case 108:return ot+a+St+Ve(a,/[svh]\w+-[tblr]{2}/,"tb-rl")+a;case 45:return ot+a+St+Ve(a,/[svh]\w+-[tblr]{2}/,"lr")+a}case 6828:case 4268:case 2903:return ot+a+St+a+a;case 6165:return ot+a+St+"flex-"+a+a;case 5187:return ot+a+Ve(a,/(\w+).+(:[^]+)/,ot+"box-$1$2"+St+"flex-$1$2")+a;case 5443:return ot+a+St+"flex-item-"+Ve(a,/flex-|-self/g,"")+(La(a,/flex-|baseline/)?"":St+"grid-row-"+Ve(a,/flex-|-self/g,""))+a;case 4675:return ot+a+St+"flex-line-pack"+Ve(a,/align-content|flex-|-self/g,"")+a;case 5548:return ot+a+St+Ve(a,"shrink","negative")+a;case 5292:return ot+a+St+Ve(a,"basis","preferred-size")+a;case 6060:return ot+"box-"+Ve(a,"-grow","")+ot+a+St+Ve(a,"grow","positive")+a;case 4554:return ot+Ve(a,/([^-])(transform)/g,"$1"+ot+"$2")+a;case 6187:return Ve(Ve(Ve(a,/(zoom-|grab)/,ot+"$1"),/(image-set)/,ot+"$1"),a,"")+a;case 5495:case 3959:return Ve(a,/(image-set\([^]*)/,ot+"$1$`$1");case 4968:return Ve(Ve(a,/(.+:)(flex-)?(.*)/,ot+"box-pack:$3"+St+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ot+a+a;case 4200:if(!La(a,/flex-|baseline/))return St+"grid-column-align"+Vi(a,n)+a;break;case 2592:case 3360:return St+Ve(a,"template-","")+a;case 4384:case 3616:return r&&r.some(function(s,l){return n=l,La(s.props,/grid-\w+-end/)})?~Gl(a+(r=r[n].value),"span",0)?a:St+Ve(a,"-start","")+a+St+"grid-row-span:"+(~Gl(r,"span",0)?La(r,/\d+/):+La(r,/\d+/)-+La(a,/\d+/))+";":St+Ve(a,"-start","")+a;case 4896:case 4128:return r&&r.some(function(s){return La(s.props,/grid-\w+-start/)})?a:St+Ve(Ve(a,"-end","-span"),"span ","")+a;case 4095:case 3583:case 4068:case 2532:return Ve(a,/(.+)-inline(.+)/,ot+"$1$2")+a;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ua(a)-1-n>6)switch(Gt(a,n+1)){case 109:if(Gt(a,n+4)!==45)break;case 102:return Ve(a,/(.+:)(.+)-([^]+)/,"$1"+ot+"$2-$3$1"+ro+(Gt(a,n+3)==108?"$3":"$2-$3"))+a;case 115:return~Gl(a,"stretch",0)?wb(Ve(a,"stretch","fill-available"),n,r)+a:a}break;case 5152:case 5920:return Ve(a,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,l,u,d,h,p,m){return St+l+":"+u+m+(d?St+l+"-span:"+(h?p:+p-+u)+m:"")+a});case 4949:if(Gt(a,n+6)===121)return Ve(a,":",":"+ot)+a;break;case 6444:switch(Gt(a,Gt(a,14)===45?18:11)){case 120:return Ve(a,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+ot+(Gt(a,14)===45?"inline-":"")+"box$3$1"+ot+"$2$3$1"+St+"$2box$3")+a;case 100:return Ve(a,":",":"+St)+a}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Ve(a,"scroll-","scroll-snap-")+a}return a}function ru(a,n){for(var r="",s=0;s<a.length;s++)r+=n(a[s],s,a,n)||"";return r}function T2(a,n,r,s){switch(a.type){case h2:if(a.children.length)break;case d2:case ch:return a.return=a.return||a.value;case pb:return"";case mb:return a.return=a.value+"{"+ru(a.children,s)+"}";case fu:if(!ua(a.value=a.props.join(",")))return""}return ua(r=ru(a.children,s))?a.return=a.value+"{"+r+"}":""}function C2(a){var n=vb(a);return function(r,s,l,u){for(var d="",h=0;h<n;h++)d+=a[h](r,s,l,u)||"";return d}}function N2(a){return function(n){n.root||(n=n.return)&&a(n)}}function _2(a,n,r,s){if(a.length>-1&&!a.return)switch(a.type){case ch:a.return=wb(a.value,a.length,r);return;case mb:return ru([cr(a,{value:Ve(a.value,"@","@"+ot)})],s);case fu:if(a.length)return m2(r=a.props,function(l){switch(La(l,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Di(cr(a,{props:[Ve(l,/:(read-\w+)/,":"+ro+"$1")]})),Di(cr(a,{props:[l]})),kd(a,{props:dv(r,s)});break;case"::placeholder":Di(cr(a,{props:[Ve(l,/:(plac\w+)/,":"+ot+"input-$1")]})),Di(cr(a,{props:[Ve(l,/:(plac\w+)/,":"+ro+"$1")]})),Di(cr(a,{props:[Ve(l,/:(plac\w+)/,St+"input-$1")]})),Di(cr(a,{props:[l]})),kd(a,{props:dv(r,s)});break}return""})}}var A2={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},jn={},Yi=typeof process<"u"&&jn!==void 0&&(jn.REACT_APP_SC_ATTR||jn.SC_ATTR)||"data-styled",Sb="active",xb="data-styled-version",mu="6.1.19",dh=`/*!sc*/
`,iu=typeof window<"u"&&typeof document<"u",j2=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&jn!==void 0&&jn.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&jn.REACT_APP_SC_DISABLE_SPEEDY!==""?jn.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&jn.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&jn!==void 0&&jn.SC_DISABLE_SPEEDY!==void 0&&jn.SC_DISABLE_SPEEDY!==""&&jn.SC_DISABLE_SPEEDY!=="false"&&jn.SC_DISABLE_SPEEDY),yu=Object.freeze([]),Ii=Object.freeze({});function D2(a,n,r){return r===void 0&&(r=Ii),a.theme!==r.theme&&a.theme||n||r.theme}var Eb=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),M2=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,z2=/(^-|-$)/g;function mv(a){return a.replace(M2,"-").replace(z2,"")}var R2=/(a)(d)/gi,Ml=52,yv=function(a){return String.fromCharCode(a+(a>25?39:97))};function Cd(a){var n,r="";for(n=Math.abs(a);n>Ml;n=n/Ml|0)r=yv(n%Ml)+r;return(yv(n%Ml)+r).replace(R2,"$1-$2")}var td,kb=5381,Bi=function(a,n){for(var r=n.length;r;)a=33*a^n.charCodeAt(--r);return a},Ob=function(a){return Bi(kb,a)};function L2(a){return Cd(Ob(a)>>>0)}function B2(a){return a.displayName||a.name||"Component"}function nd(a){return typeof a=="string"&&!0}var Tb=typeof Symbol=="function"&&Symbol.for,Cb=Tb?Symbol.for("react.memo"):60115,U2=Tb?Symbol.for("react.forward_ref"):60112,H2={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},$2={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Nb={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},V2=((td={})[U2]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},td[Cb]=Nb,td);function gv(a){return("type"in(n=a)&&n.type.$$typeof)===Cb?Nb:"$$typeof"in a?V2[a.$$typeof]:H2;var n}var q2=Object.defineProperty,Y2=Object.getOwnPropertyNames,vv=Object.getOwnPropertySymbols,I2=Object.getOwnPropertyDescriptor,G2=Object.getPrototypeOf,bv=Object.prototype;function _b(a,n,r){if(typeof n!="string"){if(bv){var s=G2(n);s&&s!==bv&&_b(a,s,r)}var l=Y2(n);vv&&(l=l.concat(vv(n)));for(var u=gv(a),d=gv(n),h=0;h<l.length;++h){var p=l[h];if(!(p in $2||r&&r[p]||d&&p in d||u&&p in u)){var m=I2(n,p);try{q2(a,p,m)}catch{}}}}return a}function Gi(a){return typeof a=="function"}function hh(a){return typeof a=="object"&&"styledComponentId"in a}function $r(a,n){return a&&n?"".concat(a," ").concat(n):a||n||""}function wv(a,n){if(a.length===0)return"";for(var r=a[0],s=1;s<a.length;s++)r+=a[s];return r}function uo(a){return a!==null&&typeof a=="object"&&a.constructor.name===Object.name&&!("props"in a&&a.$$typeof)}function Nd(a,n,r){if(r===void 0&&(r=!1),!r&&!uo(a)&&!Array.isArray(a))return n;if(Array.isArray(n))for(var s=0;s<n.length;s++)a[s]=Nd(a[s],n[s]);else if(uo(n))for(var s in n)a[s]=Nd(a[s],n[s]);return a}function ph(a,n){Object.defineProperty(a,"toString",{value:n})}function ho(a){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(a," for more information.").concat(n.length>0?" Args: ".concat(n.join(", ")):""))}var Z2=(function(){function a(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}return a.prototype.indexOfGroup=function(n){for(var r=0,s=0;s<n;s++)r+=this.groupSizes[s];return r},a.prototype.insertRules=function(n,r){if(n>=this.groupSizes.length){for(var s=this.groupSizes,l=s.length,u=l;n>=u;)if((u<<=1)<0)throw ho(16,"".concat(n));this.groupSizes=new Uint32Array(u),this.groupSizes.set(s),this.length=u;for(var d=l;d<u;d++)this.groupSizes[d]=0}for(var h=this.indexOfGroup(n+1),p=(d=0,r.length);d<p;d++)this.tag.insertRule(h,r[d])&&(this.groupSizes[n]++,h++)},a.prototype.clearGroup=function(n){if(n<this.length){var r=this.groupSizes[n],s=this.indexOfGroup(n),l=s+r;this.groupSizes[n]=0;for(var u=s;u<l;u++)this.tag.deleteRule(s)}},a.prototype.getGroup=function(n){var r="";if(n>=this.length||this.groupSizes[n]===0)return r;for(var s=this.groupSizes[n],l=this.indexOfGroup(n),u=l+s,d=l;d<u;d++)r+="".concat(this.tag.getRule(d)).concat(dh);return r},a})(),Fl=new Map,su=new Map,Kl=1,zl=function(a){if(Fl.has(a))return Fl.get(a);for(;su.has(Kl);)Kl++;var n=Kl++;return Fl.set(a,n),su.set(n,a),n},X2=function(a,n){Kl=n+1,Fl.set(a,n),su.set(n,a)},F2="style[".concat(Yi,"][").concat(xb,'="').concat(mu,'"]'),K2=new RegExp("^".concat(Yi,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Q2=function(a,n,r){for(var s,l=r.split(","),u=0,d=l.length;u<d;u++)(s=l[u])&&a.registerName(n,s)},J2=function(a,n){for(var r,s=((r=n.textContent)!==null&&r!==void 0?r:"").split(dh),l=[],u=0,d=s.length;u<d;u++){var h=s[u].trim();if(h){var p=h.match(K2);if(p){var m=0|parseInt(p[1],10),v=p[2];m!==0&&(X2(v,m),Q2(a,v,p[3]),a.getTag().insertRules(m,l)),l.length=0}else l.push(h)}}},Sv=function(a){for(var n=document.querySelectorAll(F2),r=0,s=n.length;r<s;r++){var l=n[r];l&&l.getAttribute(Yi)!==Sb&&(J2(a,l),l.parentNode&&l.parentNode.removeChild(l))}};function P2(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Ab=function(a){var n=document.head,r=a||n,s=document.createElement("style"),l=(function(h){var p=Array.from(h.querySelectorAll("style[".concat(Yi,"]")));return p[p.length-1]})(r),u=l!==void 0?l.nextSibling:null;s.setAttribute(Yi,Sb),s.setAttribute(xb,mu);var d=P2();return d&&s.setAttribute("nonce",d),r.insertBefore(s,u),s},W2=(function(){function a(n){this.element=Ab(n),this.element.appendChild(document.createTextNode("")),this.sheet=(function(r){if(r.sheet)return r.sheet;for(var s=document.styleSheets,l=0,u=s.length;l<u;l++){var d=s[l];if(d.ownerNode===r)return d}throw ho(17)})(this.element),this.length=0}return a.prototype.insertRule=function(n,r){try{return this.sheet.insertRule(r,n),this.length++,!0}catch{return!1}},a.prototype.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},a.prototype.getRule=function(n){var r=this.sheet.cssRules[n];return r&&r.cssText?r.cssText:""},a})(),ek=(function(){function a(n){this.element=Ab(n),this.nodes=this.element.childNodes,this.length=0}return a.prototype.insertRule=function(n,r){if(n<=this.length&&n>=0){var s=document.createTextNode(r);return this.element.insertBefore(s,this.nodes[n]||null),this.length++,!0}return!1},a.prototype.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},a.prototype.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},a})(),tk=(function(){function a(n){this.rules=[],this.length=0}return a.prototype.insertRule=function(n,r){return n<=this.length&&(this.rules.splice(n,0,r),this.length++,!0)},a.prototype.deleteRule=function(n){this.rules.splice(n,1),this.length--},a.prototype.getRule=function(n){return n<this.length?this.rules[n]:""},a})(),xv=iu,nk={isServer:!iu,useCSSOMInjection:!j2},jb=(function(){function a(n,r,s){n===void 0&&(n=Ii),r===void 0&&(r={});var l=this;this.options=gn(gn({},nk),n),this.gs=r,this.names=new Map(s),this.server=!!n.isServer,!this.server&&iu&&xv&&(xv=!1,Sv(this)),ph(this,function(){return(function(u){for(var d=u.getTag(),h=d.length,p="",m=function(w){var S=(function(K){return su.get(K)})(w);if(S===void 0)return"continue";var k=u.names.get(S),M=d.getGroup(w);if(k===void 0||!k.size||M.length===0)return"continue";var P="".concat(Yi,".g").concat(w,'[id="').concat(S,'"]'),Y="";k!==void 0&&k.forEach(function(K){K.length>0&&(Y+="".concat(K,","))}),p+="".concat(M).concat(P,'{content:"').concat(Y,'"}').concat(dh)},v=0;v<h;v++)m(v);return p})(l)})}return a.registerId=function(n){return zl(n)},a.prototype.rehydrate=function(){!this.server&&iu&&Sv(this)},a.prototype.reconstructWithOptions=function(n,r){return r===void 0&&(r=!0),new a(gn(gn({},this.options),n),this.gs,r&&this.names||void 0)},a.prototype.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},a.prototype.getTag=function(){return this.tag||(this.tag=(n=(function(r){var s=r.useCSSOMInjection,l=r.target;return r.isServer?new tk(l):s?new W2(l):new ek(l)})(this.options),new Z2(n)));var n},a.prototype.hasNameForId=function(n,r){return this.names.has(n)&&this.names.get(n).has(r)},a.prototype.registerName=function(n,r){if(zl(n),this.names.has(n))this.names.get(n).add(r);else{var s=new Set;s.add(r),this.names.set(n,s)}},a.prototype.insertRules=function(n,r,s){this.registerName(n,r),this.getTag().insertRules(zl(n),s)},a.prototype.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},a.prototype.clearRules=function(n){this.getTag().clearGroup(zl(n)),this.clearNames(n)},a.prototype.clearTag=function(){this.tag=void 0},a})(),ak=/&/g,rk=/^\s*\/\/.*$/gm;function Db(a,n){return a.map(function(r){return r.type==="rule"&&(r.value="".concat(n," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(n," ")),r.props=r.props.map(function(s){return"".concat(n," ").concat(s)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=Db(r.children,n)),r})}function ik(a){var n,r,s,l=Ii,u=l.options,d=u===void 0?Ii:u,h=l.plugins,p=h===void 0?yu:h,m=function(S,k,M){return M.startsWith(r)&&M.endsWith(r)&&M.replaceAll(r,"").length>0?".".concat(n):S},v=p.slice();v.push(function(S){S.type===fu&&S.value.includes("&")&&(S.props[0]=S.props[0].replace(ak,r).replace(s,m))}),d.prefix&&v.push(_2),v.push(T2);var w=function(S,k,M,P){k===void 0&&(k=""),M===void 0&&(M=""),P===void 0&&(P="&"),n=P,r=k,s=new RegExp("\\".concat(r,"\\b"),"g");var Y=S.replace(rk,""),K=k2(M||k?"".concat(M," ").concat(k," { ").concat(Y," }"):Y);d.namespace&&(K=Db(K,d.namespace));var q=[];return ru(K,C2(v.concat(N2(function(U){return q.push(U)})))),q};return w.hash=p.length?p.reduce(function(S,k){return k.name||ho(15),Bi(S,k.name)},kb).toString():"",w}var sk=new jb,_d=ik(),Mb=Ua.createContext({shouldForwardProp:void 0,styleSheet:sk,stylis:_d});Mb.Consumer;Ua.createContext(void 0);function Ev(){return T.useContext(Mb)}var ok=(function(){function a(n,r){var s=this;this.inject=function(l,u){u===void 0&&(u=_d);var d=s.name+u.hash;l.hasNameForId(s.id,d)||l.insertRules(s.id,d,u(s.rules,d,"@keyframes"))},this.name=n,this.id="sc-keyframes-".concat(n),this.rules=r,ph(this,function(){throw ho(12,String(s.name))})}return a.prototype.getName=function(n){return n===void 0&&(n=_d),this.name+n.hash},a})(),lk=function(a){return a>="A"&&a<="Z"};function kv(a){for(var n="",r=0;r<a.length;r++){var s=a[r];if(r===1&&s==="-"&&a[0]==="-")return a;lk(s)?n+="-"+s.toLowerCase():n+=s}return n.startsWith("ms-")?"-"+n:n}var zb=function(a){return a==null||a===!1||a===""},Rb=function(a){var n,r,s=[];for(var l in a){var u=a[l];a.hasOwnProperty(l)&&!zb(u)&&(Array.isArray(u)&&u.isCss||Gi(u)?s.push("".concat(kv(l),":"),u,";"):uo(u)?s.push.apply(s,au(au(["".concat(l," {")],Rb(u),!1),["}"],!1)):s.push("".concat(kv(l),": ").concat((n=l,(r=u)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||n in A2||n.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return s};function Yr(a,n,r,s){if(zb(a))return[];if(hh(a))return[".".concat(a.styledComponentId)];if(Gi(a)){if(!Gi(u=a)||u.prototype&&u.prototype.isReactComponent||!n)return[a];var l=a(n);return Yr(l,n,r,s)}var u;return a instanceof ok?r?(a.inject(r,s),[a.getName(s)]):[a]:uo(a)?Rb(a):Array.isArray(a)?Array.prototype.concat.apply(yu,a.map(function(d){return Yr(d,n,r,s)})):[a.toString()]}function uk(a){for(var n=0;n<a.length;n+=1){var r=a[n];if(Gi(r)&&!hh(r))return!1}return!0}var ck=Ob(mu),fk=(function(){function a(n,r,s){this.rules=n,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&uk(n),this.componentId=r,this.baseHash=Bi(ck,r),this.baseStyle=s,jb.registerId(r)}return a.prototype.generateAndInjectStyles=function(n,r,s){var l=this.baseStyle?this.baseStyle.generateAndInjectStyles(n,r,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))l=$r(l,this.staticRulesId);else{var u=wv(Yr(this.rules,n,r,s)),d=Cd(Bi(this.baseHash,u)>>>0);if(!r.hasNameForId(this.componentId,d)){var h=s(u,".".concat(d),void 0,this.componentId);r.insertRules(this.componentId,d,h)}l=$r(l,d),this.staticRulesId=d}else{for(var p=Bi(this.baseHash,s.hash),m="",v=0;v<this.rules.length;v++){var w=this.rules[v];if(typeof w=="string")m+=w;else if(w){var S=wv(Yr(w,n,r,s));p=Bi(p,S+v),m+=S}}if(m){var k=Cd(p>>>0);r.hasNameForId(this.componentId,k)||r.insertRules(this.componentId,k,s(m,".".concat(k),void 0,this.componentId)),l=$r(l,k)}}return l},a})(),Lb=Ua.createContext(void 0);Lb.Consumer;var ad={};function dk(a,n,r){var s=hh(a),l=a,u=!nd(a),d=n.attrs,h=d===void 0?yu:d,p=n.componentId,m=p===void 0?(function(G,re){var oe=typeof G!="string"?"sc":mv(G);ad[oe]=(ad[oe]||0)+1;var ee="".concat(oe,"-").concat(L2(mu+oe+ad[oe]));return re?"".concat(re,"-").concat(ee):ee})(n.displayName,n.parentComponentId):p,v=n.displayName,w=v===void 0?(function(G){return nd(G)?"styled.".concat(G):"Styled(".concat(B2(G),")")})(a):v,S=n.displayName&&n.componentId?"".concat(mv(n.displayName),"-").concat(n.componentId):n.componentId||m,k=s&&l.attrs?l.attrs.concat(h).filter(Boolean):h,M=n.shouldForwardProp;if(s&&l.shouldForwardProp){var P=l.shouldForwardProp;if(n.shouldForwardProp){var Y=n.shouldForwardProp;M=function(G,re){return P(G,re)&&Y(G,re)}}else M=P}var K=new fk(r,S,s?l.componentStyle:void 0);function q(G,re){return(function(oe,ee,he){var I=oe.attrs,ae=oe.componentStyle,Ee=oe.defaultProps,Oe=oe.foldedComponentIds,Ce=oe.styledComponentId,ze=oe.target,ne=Ua.useContext(Lb),A=Ev(),_=oe.shouldForwardProp||A.shouldForwardProp,H=D2(ee,ne,Ee)||Ii,z=(function(Z,se,ue){for(var le,me=gn(gn({},se),{className:void 0,theme:ue}),Ne=0;Ne<Z.length;Ne+=1){var Ye=Gi(le=Z[Ne])?le(me):le;for(var pe in Ye)me[pe]=pe==="className"?$r(me[pe],Ye[pe]):pe==="style"?gn(gn({},me[pe]),Ye[pe]):Ye[pe]}return se.className&&(me.className=$r(me.className,se.className)),me})(I,ee,H),J=z.as||ze,x={};for(var E in z)z[E]===void 0||E[0]==="$"||E==="as"||E==="theme"&&z.theme===H||(E==="forwardedAs"?x.as=z.forwardedAs:_&&!_(E,J)||(x[E]=z[E]));var N=(function(Z,se){var ue=Ev(),le=Z.generateAndInjectStyles(se,ue.styleSheet,ue.stylis);return le})(ae,z),D=$r(Oe,Ce);return N&&(D+=" "+N),z.className&&(D+=" "+z.className),x[nd(J)&&!Eb.has(J)?"class":"className"]=D,he&&(x.ref=he),T.createElement(J,x)})(U,G,re)}q.displayName=w;var U=Ua.forwardRef(q);return U.attrs=k,U.componentStyle=K,U.displayName=w,U.shouldForwardProp=M,U.foldedComponentIds=s?$r(l.foldedComponentIds,l.styledComponentId):"",U.styledComponentId=S,U.target=s?l.target:a,Object.defineProperty(U,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(G){this._foldedDefaultProps=s?(function(re){for(var oe=[],ee=1;ee<arguments.length;ee++)oe[ee-1]=arguments[ee];for(var he=0,I=oe;he<I.length;he++)Nd(re,I[he],!0);return re})({},l.defaultProps,G):G}}),ph(U,function(){return".".concat(U.styledComponentId)}),u&&_b(U,a,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),U}function Ov(a,n){for(var r=[a[0]],s=0,l=n.length;s<l;s+=1)r.push(n[s],a[s+1]);return r}var Tv=function(a){return Object.assign(a,{isCss:!0})};function mh(a){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Gi(a)||uo(a))return Tv(Yr(Ov(yu,au([a],n,!0))));var s=a;return n.length===0&&s.length===1&&typeof s[0]=="string"?Yr(s):Tv(Yr(Ov(s,n)))}function Ad(a,n,r){if(r===void 0&&(r=Ii),!n)throw ho(1,n);var s=function(l){for(var u=[],d=1;d<arguments.length;d++)u[d-1]=arguments[d];return a(n,r,mh.apply(void 0,au([l],u,!1)))};return s.attrs=function(l){return Ad(a,n,gn(gn({},r),{attrs:Array.prototype.concat(r.attrs,l).filter(Boolean)}))},s.withConfig=function(l){return Ad(a,n,gn(gn({},r),l))},s}var Bb=function(a){return Ad(dk,a)},sn=Bb;Eb.forEach(function(a){sn[a]=Bb(a)});function Gr(){return Gr=Object.assign?Object.assign.bind():function(a){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var s in r)({}).hasOwnProperty.call(r,s)&&(a[s]=r[s])}return a},Gr.apply(null,arguments)}function hk(a,n){if(a==null)return{};var r={};for(var s in a)if({}.hasOwnProperty.call(a,s)){if(n.indexOf(s)!==-1)continue;r[s]=a[s]}return r}function yh(a,n){if(a==null)return{};var r,s,l=hk(a,n);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);for(s=0;s<u.length;s++)r=u[s],n.indexOf(r)===-1&&{}.propertyIsEnumerable.call(a,r)&&(l[r]=a[r])}return l}function pk(a){var n=a?.createRoot,r=new WeakMap;function s(d){var h=r.get(d);if(h)return h;var p=document.createElement("span");return d.appendChild(p),r.set(d,p),p}function l(d){var h=r.get(d);h&&(h.remove(),r.delete(d))}if(n){var u=new WeakMap;return{mount:function(h,p){var m,v=s(p),w=u.get(v);return w||(w=n(v),u.set(v,w)),w.render(h),(m=v.firstElementChild)!==null&&m!==void 0?m:v},unmount:function(h){var p=s(h),m=u.get(p);m&&(m.unmount(),u.delete(p)),l(h)}}}return{mount:function(h,p){var m=s(p);if("render"in fv&&typeof Hr.render=="function"){var v=Hr.render(h,m);return v||m}throw new Error("ReactDOM.render is not available")},unmount:function(h){var p=s(h);if("unmountComponentAtNode"in fv&&typeof Hr.unmountComponentAtNode=="function")Hr.unmountComponentAtNode(p);else throw new Error("ReactDOM.unmountComponentAtNode is not available");l(h)}}}function mk(a){var n=a.children,r=a.rendered;return T.useEffect(function(){r()}),n}function yk(){var a=T.useRef(!1);return T.useEffect(function(){a.current=!0},[]),{apply:function(r){a.current?queueMicrotask(function(){Hr.flushSync(r)}):r()}}}var Ub=T.createContext({start:null,end:null,path:null});function gk(a){var n=a.children,r=T.useState(null),s=ln(r,2),l=s[0],u=s[1],d=T.useState(null),h=ln(d,2),p=h[0],m=h[1],v=T.useState(null),w=ln(v,2),S=w[0],k=w[1],M="x"in a.start?a.start:l,P="x"in a.end?a.end:p,Y=yk();return T.useEffect(function(){var K=typeof a.start=="function"&&a.start(function(U){Y.apply(function(){u(U)})}),q=typeof a.end=="function"&&a.end(function(U){Y.apply(function(){m(U)})});return function(){K&&K(),q&&q()}},[]),T.useEffect(function(){M&&P&&a.path(M,P).then(function(K){Y.apply(function(){k(K)})})},[M,P]),T.createElement(Ub.Provider,{value:{start:M,end:P,path:S}},n)}function Hb(){return T.useContext(Ub)}var Cv,Nv,vk=sn.svg(Cv||(Cv=Wt([`
    overflow: visible !important;
    position: absolute;
    pointer-events: none;
    width: 9999px;
    height: 9999px;
`]))),bk=sn.path(Nv||(Nv=Wt([`
    fill: none;
    stroke-width: 5px;
    stroke: steelblue;
    pointer-events: auto;
    `,`
`])),function(a){var n;return(n=a.styles)===null||n===void 0?void 0:n.call(a,a)});function $b(a){var n=Hb(),r=n.path;return r?T.createElement(vk,{"data-testid":"connection"},T.createElement(bk,{styles:a.styles,d:r})):null}function wk(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=Sk(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(m){throw m},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,d=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var m=r.next();return d=m.done,m},e:function(m){h=!0,u=m},f:function(){try{d||r.return==null||r.return()}finally{if(h)throw u}}}}function Sk(a,n){if(a){if(typeof a=="string")return _v(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_v(a,n):void 0}}function _v(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function xk(a){for(var n=new a.constructor(a.type),r=n;r=Object.getPrototypeOf(r);){var s=Object.getOwnPropertyNames(r),l=wk(s),u;try{for(l.s();!(u=l.n()).done;){var d=u.value,h=n[d];typeof h!="function"&&Object.defineProperty(n,d,{value:a[d]})}}catch(p){l.e(p)}finally{l.f()}}return n}var Ek="__reactContainer$";function kk(a){for(var n=a;n;){if(n._reactRootContainer||Object.keys(n).some(function(r){return r.startsWith(Ek)}))return n;n=n.parentElement}}function Av(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function jv(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Av(Object(r),!0).forEach(function(s){we(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):Av(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function Vb(a,n){return{start:function(s){var l=jv({},n(s));function u(h){var p=jv({},n(h)),m=p.x-l.x,v=p.y-l.y;l=p,a(m,v)}function d(){window.removeEventListener("pointermove",u),window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",d)}window.addEventListener("pointermove",u),window.addEventListener("pointerup",d),window.addEventListener("pointercancel",d)}}}function Ok(a,n){T.useEffect(function(){var r=function(u){if(!n){var d=kk(u.target),h=T.version.startsWith("16")?document:d;h&&(u.stopPropagation(),h.dispatchEvent(xk(u)))}},s=a.current;return s?.addEventListener("pointerdown",r),function(){s?.removeEventListener("pointerdown",r)}},[a,n])}var Dv,Tk=sn.input(Dv||(Dv=Wt([`
  width: 100%;
  border-radius: 30px;
  background-color: white;
  padding: 2px 6px;
  border: 1px solid #999;
  font-size: 110%;
  box-sizing: border-box;
  `,`
`])),function(a){var n;return(n=a.styles)===null||n===void 0?void 0:n.call(a,a)});function jd(a){var n=T.useState(a.data.value),r=ln(n,2),s=r[0],l=r[1],u=T.useRef(null);return Ok(u),T.useEffect(function(){l(a.data.value)},[a.data.value]),T.createElement(Tk,{value:s,type:a.data.type,ref:u,readOnly:a.data.readonly,onChange:function(h){var p=a.data.type==="number"?+h.target.value:h.target.value;l(p),a.data.setValue(p)},styles:a.styles})}var Dd="rgba(110,136,255,0.8)",qb="#ffd92c",ca=24,Ba=6,Yb="#96b38a",Ib=180,Ck=Object.freeze({__proto__:null,$nodecolor:Dd,$nodecolorselected:qb,$socketsize:ca,$socketmargin:Ba,$socketcolor:Yb,$nodewidth:Ib}),Nk=["init","unmount"];function gh(a){var n=a.init,r=a.unmount,s=yh(a,Nk),l=T.useRef(null);return T.useEffect(function(){var u=l.current;return function(){u&&r(u)}},[]),T.useEffect(function(){l.current&&n(l.current)}),T.createElement("span",Gr({},s,{ref:l}))}var _k=["name","emit","payload"];function Md(a){var n=a.name,r=a.emit,s=a.payload,l=yh(a,_k);return T.createElement(gh,Gr({},l,{className:n,init:function(d){r({type:"render",data:{type:"control",element:d,payload:s}})},unmount:function(d){r({type:"unmount",data:{element:d}})}}))}var Ak=["name","emit","nodeId","side","socketKey","payload"];function zd(a){var n=a.name,r=a.emit,s=a.nodeId,l=a.side,u=a.socketKey,d=a.payload,h=yh(a,Ak);return T.createElement(gh,Gr({},h,{className:n,init:function(m){r({type:"render",data:{type:"socket",side:l,key:u,nodeId:s,element:m,payload:d}})},unmount:function(m){r({type:"unmount",data:{element:m}})}}))}var Mv,zv,Gb=sn.div(Mv||(Mv=Wt([`
    background: `,`;
    border: 2px solid #4e58bf;
    border-radius: 10px;
    cursor: pointer;
    box-sizing: border-box;
    width: `,`;
    height: `,`;
    padding-bottom: 6px;
    position: relative;
    user-select: none;
    line-height: initial;
    font-family: Arial;

    &:hover {
        background: lighten(`,`,4%);
    }
    `,`
    .title {
        color: white;
        font-family: sans-serif;
        font-size: 18px;
        padding: 8px;
    }
    .output {
        text-align: right;
    }
    .input {
        text-align: left;
    }
    .output-socket {
        text-align: right;
        margin-right: -`,`px;
        display: inline-block;
    }
    .input-socket {
        text-align: left;
        margin-left: -`,`px;
        display: inline-block;
    }
    .input-title,.output-title {
        vertical-align: middle;
        color: white;
        display: inline-block;
        font-family: sans-serif;
        font-size: 14px;
        margin: `,`px;
        line-height: `,`px;
    }
    .input-control {
        z-index: 1;
        width: calc(100% - `,`px);
        vertical-align: middle;
        display: inline-block;
    }
    .control {
        display: block;
        padding: `,"px ",`px;
    }
    `,`
`])),Dd,function(a){return Number.isFinite(a.width)?"".concat(a.width,"px"):"".concat(Ib,"px")},function(a){return Number.isFinite(a.height)?"".concat(a.height,"px"):"auto"},Dd,function(a){return a.selected&&mh(zv||(zv=Wt([`
        background: `,`;
        border-color: #e3c000;
    `])),qb)},ca/2+Ba,ca/2+Ba,Ba,ca,ca+2*Ba,Ba,ca/2+Ba,function(a){var n;return(n=a.styles)===null||n===void 0?void 0:n.call(a,a)});function rd(a){a.sort(function(n,r){var s,l,u=((s=n[1])===null||s===void 0?void 0:s.index)||0,d=((l=r[1])===null||l===void 0?void 0:l.index)||0;return u-d})}function Zb(a){var n=Object.entries(a.data.inputs),r=Object.entries(a.data.outputs),s=Object.entries(a.data.controls),l=a.data.selected||!1,u=a.data,d=u.id,h=u.label,p=u.width,m=u.height;return rd(n),rd(r),rd(s),T.createElement(Gb,{selected:l,width:p,height:m,styles:a.styles,"data-testid":"node"},T.createElement("div",{className:"title","data-testid":"title"},h),r.map(function(v){var w=ln(v,2),S=w[0],k=w[1];return k&&T.createElement("div",{className:"output",key:S,"data-testid":"output-".concat(S)},T.createElement("div",{className:"output-title","data-testid":"output-title"},k.label),T.createElement(zd,{name:"output-socket",side:"output",socketKey:S,nodeId:d,emit:a.emit,payload:k.socket,"data-testid":"output-socket"}))}),s.map(function(v){var w=ln(v,2),S=w[0],k=w[1];return k?T.createElement(Md,{key:S,name:"control",emit:a.emit,payload:k,"data-testid":"control-".concat(S)}):null}),n.map(function(v){var w=ln(v,2),S=w[0],k=w[1];return k&&T.createElement("div",{className:"input",key:S,"data-testid":"input-".concat(S)},T.createElement(zd,{name:"input-socket",side:"input",socketKey:S,nodeId:d,emit:a.emit,payload:k.socket,"data-testid":"input-socket"}),k&&(!k.control||!k.showControl)&&T.createElement("div",{className:"input-title","data-testid":"input-title"},k.label),k.control&&k.showControl&&T.createElement(Md,{key:S,name:"input-control",emit:a.emit,payload:k.control,"data-testid":"input-control"}))}))}var Rv,Lv,Xb=sn.div(Rv||(Rv=Wt([`
    display: inline-block;
    cursor: pointer;
    border: 1px solid white;
    border-radius: `,`px;
    width: `,`px;
    height: `,`px;
    vertical-align: middle;
    background: `,`;
    z-index: 2;
    box-sizing: border-box;
    &:hover {
      border-width: 4px;
    }
    &.multiple {
      border-color: yellow;
    }
`])),ca/2,ca,ca,Yb),jk=sn.div(Lv||(Lv=Wt([`
    border-radius: `,`px;
    padding: `,`px;
    &:hover `,` {
      border-width: 4px;
    }
`])),(ca+Ba*2)/2,Ba,Xb);function Fb(a){return T.createElement(jk,null,T.createElement(Xb,{title:a.data.name}))}function Dk(a){var n=typeof a?.socketPositionWatcher>"u"?f2():a.socketPositionWatcher,r=a?.customize||{},s=r.node,l=r.connection,u=r.socket,d=r.control;return{attach:function(p){n.attach(p)},render:function(p,m){if(p.data.type==="node"){var v=m.parentScope(),w=s?s(p.data):Zb;return w&&T.createElement(w,{data:p.data.payload,emit:function(re){return void v.emit(re)}})}else if(p.data.type==="connection"){var S=l?l(p.data):$b,k=p.data.payload,M=k.sourceOutput,P=k.targetInput,Y=k.source,K=k.target;return S&&T.createElement(gk,{start:p.data.start||function(G){return n.listen(Y,"output",M,G)},end:p.data.end||function(G){return n.listen(K,"input",P,G)},path:(function(){var G=qe(ce.mark(function re(oe,ee){var he,I,ae,Ee,Oe;return ce.wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:return Ce.next=1,m.emit({type:"connectionpath",data:{payload:k,points:[oe,ee]}});case 1:if(he=Ce.sent,he){Ce.next=2;break}return Ce.abrupt("return","");case 2:if(I=he.data,ae=I.path,Ee=I.points,Oe=.3,!(!ae&&Ee.length!==2)){Ce.next=3;break}throw new Error("cannot render connection with a custom number of points");case 3:if(ae){Ce.next=4;break}return Ce.abrupt("return",k.isLoop?r2(Ee,Oe,120):a2(Ee,Oe));case 4:return Ce.abrupt("return",ae);case 5:case"end":return Ce.stop()}},re)}));return function(re,oe){return G.apply(this,arguments)}})()},T.createElement(S,{data:p.data.payload}))}else if(p.data.type==="socket"){var q=u?u(p.data):Fb;return q&&p.data.payload&&T.createElement(q,{data:p.data.payload})}else if(p.data.type==="control"){var U=d&&p.data.payload?d(p.data):p.data.payload instanceof ft.InputControl?jd:null;return U&&T.createElement(U,{data:p.data.payload})}}}}var Mk=Object.freeze({__proto__:null,vars:Ck,setup:Dk,Connection:$b,useConnection:Hb,Control:jd,InputControl:jd,Node:Zb,NodeStyles:Gb,RefControl:Md,RefSocket:zd,Socket:Fb});function Kb(a,n){var r=T.useRef(void 0);function s(){r.current&&clearTimeout(r.current)}var l=function(){s(),r.current=setTimeout(function(){a()},n)};return T.useEffect(function(){return s},[]),[l,s]}var zk="rgba(110,136,255,0.8)",Rk="rgba(130, 153, 255, 0.8)",Lk="rgba(69, 103, 255, 0.8)",Rl="5px",Rd=120,Bv,vh=sn.div(Bv||(Bv=Wt([`
  color: #fff;
  padding: 4px;
  border-bottom: 1px solid `,`;
  background-color: `,`;
  cursor: pointer;
  width: 100%;
  position: relative;
  &:first-child {
    border-top-left-radius: `,`;
    border-top-right-radius: `,`;
  }
  &:last-child {
    border-bottom-left-radius: `,`;
    border-bottom-right-radius: `,`;
  }
  &:hover {
    background-color: `,`;
  }
`])),Lk,zk,Rl,Rl,Rl,Rl,Rk),Uv,Hv,$v,Qb=sn(vh)(Uv||(Uv=Wt([`
    `,`
`])),function(a){return a.hasSubitems&&mh(Hv||(Hv=Wt([`&:after {
    content: '';
    position: absolute;
    opacity: 0.6;
    right: 5px;
    top: 5px;
    }`])))}),Jb=sn.div($v||($v=Wt([`
    position: absolute;
    top: 0;
    left: 100%;
    width: `,`px;
`])),Rd);function Pb(a){var n,r,s,l,u=T.useState(!1),d=ln(u,2),h=d[0],p=d[1],m=T.useCallback(function(){p(!1)},[p]),v=Kb(m,a.delay),w=ln(v,2),S=w[0],k=w[1],M=((n=a.components)===null||n===void 0||(r=n.item)===null||r===void 0?void 0:r.call(n,a.data))||Qb,P=((s=a.components)===null||s===void 0||(l=s.subitems)===null||l===void 0?void 0:l.call(s,a.data))||Jb;return T.createElement(M,{onClick:function(K){K.stopPropagation(),a.data.handler(),a.hide()},hasSubitems:!!a.data.subitems,onPointerDown:function(K){K.stopPropagation()},onPointerOver:function(){k(),p(!0)},onPointerLeave:function(){S&&S()},"data-testid":"context-menu-item"},a.children,a.data.subitems&&h&&T.createElement(P,null,a.data.subitems.map(function(Y){return T.createElement(Pb,{key:Y.key,data:Y,delay:a.delay,hide:a.hide,components:a.components},Y.label)})))}var Vv,Wb=sn.input(Vv||(Vv=Wt([`
  color: white;
  padding: 1px 8px;
  border: 1px solid white;
  border-radius: 10px;
  font-size: 16px;
  font-family: serif;
  width: 100%;
  box-sizing: border-box;
  background: transparent;
`])));function Bk(a){var n=a.component||Wb;return T.createElement(n,{value:a.value,onInput:function(s){a.onChange(s.target.value)},onPointerDown:function(s){s.stopPropagation()},"data-testid":"context-menu-search-input"})}var qv,e1=sn.div(qv||(qv=Wt([`
  padding: 10px;
  width: `,`px;
  margin-top: -20px;
  margin-left: -`,`px;
`])),Rd,Rd/2);function Uk(a){var n,r,s,l,u,d,h=Kb(a.onHide,a.delay),p=ln(h,2),m=p[0],v=p[1],w=T.useState(""),S=ln(w,2),k=S[0],M=S[1],P=new RegExp(k,"i"),Y=a.items.filter(function(U){return U.label.match(P)}),K=((n=a.components)===null||n===void 0||(r=n.main)===null||r===void 0?void 0:r.call(n))||e1,q=((s=a.components)===null||s===void 0||(l=s.common)===null||l===void 0?void 0:l.call(s))||vh;return T.createElement(K,{onMouseOver:function(){v()},onMouseLeave:function(){m?.()},onWheel:function(G){G.stopPropagation()},"data-testid":"context-menu"},a.searchBar&&T.createElement(q,null,T.createElement(Bk,{value:k,onChange:M,component:(u=a.components)===null||u===void 0||(d=u.search)===null||d===void 0?void 0:d.call(u)})),Y.map(function(U){return T.createElement(Pb,{key:U.key,data:U,delay:a.delay,hide:a.onHide,components:a.components},U.label)}))}function Hk(a){var n=typeof a?.delay>"u"?1e3:a.delay;return{render:function(s){if(s.data.type==="contextmenu")return T.createElement(Uk,{items:s.data.items,delay:n,searchBar:s.data.searchBar,onHide:s.data.onHide,components:a?.customize})}}}var $k=Object.freeze({__proto__:null,setup:Hk,Item:Qb,Subitems:Jb,Menu:e1,Search:Wb,Common:vh}),Ll=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Vk=typeof Ll=="object"&&Ll&&Ll.Object===Object&&Ll,qk=typeof self=="object"&&self&&self.Object===Object&&self;Vk||qk||Function("return this")();function Yk(){const a=T.useRef(!1);return T.useEffect(()=>(a.current=!0,()=>{a.current=!1}),[]),T.useCallback(()=>a.current,[])}var Yv={width:void 0,height:void 0};function Ik(a){const{ref:n,box:r="content-box"}=a,[{width:s,height:l},u]=T.useState(Yv),d=Yk(),h=T.useRef({...Yv}),p=T.useRef(void 0);return p.current=a.onResize,T.useEffect(()=>{if(!n.current||typeof window>"u"||!("ResizeObserver"in window))return;const m=new ResizeObserver(([v])=>{const w=r==="border-box"?"borderBoxSize":r==="device-pixel-content-box"?"devicePixelContentBoxSize":"contentBoxSize",S=Iv(v,w,"inlineSize"),k=Iv(v,w,"blockSize");if(h.current.width!==S||h.current.height!==k){const P={width:S,height:k};h.current.width=S,h.current.height=k,p.current?p.current(P):d()&&u(P)}});return m.observe(n.current,{box:r}),()=>{m.disconnect()}},[r,n,d]),{width:s,height:l}}function Iv(a,n,r){return a[n]?Array.isArray(a[n])?a[n][0][r]:a[n][r]:n==="contentBoxSize"?a.contentRect[r==="inlineSize"?"width":"height"]:void 0}function fa(a){return"".concat(a,"px")}var Gv,Gk=sn.div(Gv||(Gv=Wt([`
    position: absolute;
    background: rgba(110, 136, 255, 0.8);
    border: 1px solid rgb(192 206 212 / 60%);
`])));function Zk(a){return T.createElement(Gk,{style:{left:fa(a.left),top:fa(a.top),width:fa(a.width),height:fa(a.height)},"data-testid":"minimap-node"})}var Zv,Xk=sn.div(Zv||(Zv=Wt([`
  position: absolute;
  background: rgba(255, 251, 128, 0.32);
  border: 1px solid #ffe52b;
`])));function Fk(a){var n=function(u){return u*a.containerWidth},r=function(u){return u/a.containerWidth},s=Vb(function(l,u){a.translate(r(-l),r(-u))},function(l){return{x:l.pageX,y:l.pageY}});return T.createElement(Xk,{onPointerDown:s.start,style:{left:fa(n(a.left)),top:fa(n(a.top)),width:fa(n(a.width)),height:fa(n(a.height))},"data-testid":"minimap-viewport"})}var Xv,Kk=sn.div(Xv||(Xv=Wt([`
    position: absolute;
    right: 24px;
    bottom: 24px;
    background: rgba(229, 234, 239, 0.65);
    padding: 20px;
    overflow: hidden;
    border: 1px solid #b1b7ff;
    border-radius: 8px;
    box-sizing: border-box;
`])));function Qk(a){var n,r=T.useRef(null),s=Ik({ref:r}),l=s.width,u=l===void 0?0:l,d=((n=r.current)===null||n===void 0?void 0:n.clientWidth)||u,h=T.useCallback(function(p){return p*d},[d]);return T.createElement(Kk,{size:a.size,style:{width:fa(a.size*a.ratio),height:fa(a.size)},onPointerDown:function(m){m.stopPropagation(),m.preventDefault()},onDoubleClick:function(m){if(m.stopPropagation(),m.preventDefault(),!!r.current){var v=r.current.getBoundingClientRect(),w=(m.clientX-v.left)/(a.size*a.ratio),S=(m.clientY-v.top)/(a.size*a.ratio);a.point(w,S)}},ref:r,"data-testid":"minimap"},d?a.nodes.map(function(p,m){return T.createElement(Zk,{key:m,left:h(p.left),top:h(p.top),width:h(p.width),height:h(p.height)})}):null,T.createElement(Fk,Gr({},a.viewport,{start:a.start,containerWidth:d,translate:a.translate})))}function Jk(a){return{render:function(r){if(r.data.type==="minimap")return T.createElement(Qk,{nodes:r.data.nodes,size:a?.size||200,ratio:r.data.ratio,viewport:r.data.viewport,start:r.data.start,translate:r.data.translate,point:r.data.point})}}}var Pk=Object.freeze({__proto__:null,setup:Jk}),Fv,io=20,Wk=sn.div(Fv||(Fv=Wt([`
  width: `,`px;
  height: `,`px;
  box-sizing: border-box;
  background: `,`;
  border: 2px solid white;
  border-radius: `,`px;
`])),io,io,function(a){return a.selected?"#ffd92c":"steelblue"},io);function eO(a){var n=Vb(function(u,d){a.translate(u,d)},a.pointer),r=a.position,s=r.x,l=r.y;return T.createElement(Wk,{onPointerDown:function(d){d.stopPropagation(),d.preventDefault(),n.start(d),a.pointerdown()},onContextMenu:function(d){d.stopPropagation(),d.preventDefault(),a.contextMenu()},selected:a.selected,style:{position:"absolute",top:"".concat(l-io/2,"px"),left:"".concat(s-io/2,"px")},"data-testid":"pin"})}function tO(a){function n(r,s){return T.createElement(T.Fragment,null,r.pins.map(function(l){return T.createElement(eO,Gr({},l,{key:l.id,contextMenu:function(){var d;a==null||(d=a.contextMenu)===null||d===void 0||d.call(a,l.id)},translate:function(d,h){var p;a==null||(p=a.translate)===null||p===void 0||p.call(a,l.id,d,h)},pointerdown:function(){var d;a==null||(d=a.pointerdown)===null||d===void 0||d.call(a,l.id)},pointer:s}))}))}return{render:function(s,l){var u=s.data,d=l.parentScope(fo);if(u.type==="reroute-pins")return n(u.data,function(){return d.area.pointer})}}}var nO=Object.freeze({__proto__:null,setup:tO}),id=Object.freeze({__proto__:null,classic:Mk,contextMenu:$k,minimap:Pk,reroute:nO});function aO(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=rO(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(m){throw m},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,d=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var m=r.next();return d=m.done,m},e:function(m){h=!0,u=m},f:function(){try{d||r.return==null||r.return()}finally{if(h)throw u}}}}function rO(a,n){if(a){if(typeof a=="string")return Kv(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Kv(a,n):void 0}}function Kv(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function Qv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function Bl(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Qv(Object(r),!0).forEach(function(s){we(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):Qv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function iO(a,n,r){return n=gt(n),ma(a,t1()?Reflect.construct(n,r||[],gt(a).constructor):n.apply(a,r))}function t1(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t1=function(){return!!a})()}function sO(a,n,r,s){var l=lo(gt(a.prototype),n,r);return typeof l=="function"?function(u){return l.apply(r,u)}:l}var oO=(function(a){function n(){for(var r,s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var d=l[0];return Ke(this,n),r=iO(this,n,["react-render"]),we(r,"presets",[]),r.renderer=pk({createRoot:d?.createRoot}),r.addPipe(function(h){if(!h||Pt(h)!=="object"||!("type"in h))return h;if(h.type==="unmount")r.unmount(h.data.element);else if(h.type==="render"){if("filled"in h.data&&h.data.filled)return h;if(r.mount(h.data.element,h))return Bl(Bl({},h),{},{data:Bl(Bl({},h.data),{},{filled:!0})})}return h}),r}return vn(n,a),Qe(n,[{key:"setParent",value:function(s){var l=this;sO(n,"setParent",this)([s]),this.presets.forEach(function(u){u.attach&&u.attach(l)})}},{key:"mount",value:function(s,l){var u=this.parentScope(),d=aO(this.presets),h;try{for(d.s();!(h=d.n()).done;){var p=h.value,m=p.render(l,this);if(m){var v=T.createElement(mk,{rendered:function(){return void u.emit({type:"rendered",data:l.data})}},m);return this.renderer.mount(v,s),!0}}}catch(w){d.e(w)}finally{d.f()}}},{key:"unmount",value:function(s){this.renderer.unmount(s)}},{key:"addPreset",value:function(s){var l=s;l.attach&&l.attach(this),this.presets.push(l)}}])})(Fi);function lO(a){try{return Function.toString.call(a).indexOf("[native code]")!==-1}catch{return typeof a=="function"}}function n1(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n1=function(){return!!a})()}function uO(a,n,r){if(n1())return Reflect.construct.apply(null,arguments);var s=[null];s.push.apply(s,n);var l=new(a.bind.apply(a,s));return r&&oo(l,r.prototype),l}function Ld(a){var n=typeof Map=="function"?new Map:void 0;return Ld=function(s){if(s===null||!lO(s))return s;if(typeof s!="function")throw new TypeError("Super expression must either be null or a function");if(n!==void 0){if(n.has(s))return n.get(s);n.set(s,l)}function l(){return uO(s,arguments,gt(this).constructor)}return l.prototype=Object.create(s.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),oo(l,s)},Ld(a)}function cO(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=fO(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(m){throw m},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,d=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var m=r.next();return d=m.done,m},e:function(m){h=!0,u=m},f:function(){try{d||r.return==null||r.return()}finally{if(h)throw u}}}}function fO(a,n){if(a){if(typeof a=="string")return Jv(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Jv(a,n):void 0}}function Jv(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}var dO=(function(){function a(n){Ke(this,a),we(this,"setups",new Map),this.editor=n}return Qe(a,[{key:"add",value:function(r,s){var l=this.setups.get(r.id);if(l)throw new Error("already processed");this.setups.set(r.id,s)}},{key:"remove",value:function(r){this.setups.delete(r)}},{key:"fetchInputs",value:(function(){var n=qe(ce.mark(function s(l){var u=this,d,h,p,m,v,w,S,k,M,P,Y,K;return ce.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(d=this.setups.get(l),d){U.next=3;break}throw new Error("node is not initialized");case 3:return h=d.inputs(),p=this.editor.getConnections().filter(function(G){return G.target===l&&h.includes(G.targetInput)}),m={},U.next=8,Promise.all(p.map((function(){var G=qe(ce.mark(function re(oe){return ce.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.t0=oe,he.next=3,u.fetch(oe.source);case 3:return he.t1=he.sent,he.abrupt("return",{c:he.t0,sourceData:he.t1});case 5:case"end":return he.stop()}},re)}));return function(re){return G.apply(this,arguments)}})()));case 8:v=U.sent,w=cO(v);try{for(w.s();!(S=w.n()).done;)k=S.value,M=k.c,P=k.sourceData,Y=m[M.targetInput]?m[M.targetInput]:[],K=m,K[M.targetInput]=[].concat(Ki(Y),[P[M.sourceOutput]])}catch(G){w.e(G)}finally{w.f()}return U.abrupt("return",m);case 12:case"end":return U.stop()}},s,this)}));function r(s){return n.apply(this,arguments)}return r})()},{key:"fetch",value:(function(){var n=qe(ce.mark(function s(l){var u=this,d,h,p,m;return ce.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(d=this.setups.get(l),d){w.next=3;break}throw new Error("node is not initialized");case 3:return h=d.outputs(),w.next=6,d.data(function(){return u.fetchInputs(l)});case 6:if(p=w.sent,m=Object.keys(p),h.every(function(S){return m.includes(S)})){w.next=10;break}throw new Error('dataflow node "'.concat(l,`" doesn't return all of required properties. Expected "`).concat(h.join('", "'),'". Got "').concat(m.join('", "'),'"'));case 10:return w.abrupt("return",p);case 11:case"end":return w.stop()}},s,this)}));function r(s){return n.apply(this,arguments)}return r})()}])})(),hO=(function(){function a(n){Ke(this,a),we(this,"cache",new Map),this.onDelete=n}return Qe(a,[{key:"get",value:function(r){return this.cache.get(r)}},{key:"add",value:function(r,s){if(this.cache.has(r))throw new Error("cache already exists");this.cache.set(r,s)}},{key:"patch",value:function(r,s){this.cache.set(r,s)}},{key:"delete",value:function(r){var s=this.cache.get(r);this.cache.delete(r),this.onDelete&&this.onDelete(s)}},{key:"clear",value:function(){var r=this;Array.from(this.cache.keys()).forEach(function(s){r.delete(s)})}}])})();function pO(a,n,r){return n=gt(n),ma(a,a1()?Reflect.construct(n,r||[],gt(a).constructor):n.apply(a,r))}function a1(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(a1=function(){return!!a})()}var Pv=(function(a){function n(){return Ke(this,n),pO(this,n,["cancelled"])}return vn(n,a),Qe(n)})(Ld(Error));function mO(){var a=!1;function n(p){if(a)throw new Pv;return p}for(var r,s=new Promise(function(p,m){r=m,p()}),l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var h=u.reduce(function(p,m){var v=p.then(m).then(n);return v},s);return h.cancel=function(){a||r(new Pv),a=!0},h}function yO(a,n,r){return n=gt(n),ma(a,r1()?Reflect.construct(n,r||[],gt(a).constructor):n.apply(a,r))}function r1(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r1=function(){return!!a})()}function gO(a,n,r,s){var l=lo(gt(a.prototype),n,r);return typeof l=="function"?function(u){return l.apply(r,u)}:l}var vO=(function(a){function n(r){var s;return Ke(this,n),s=yO(this,n,["dataflow-engine"]),we(s,"cache",new hO(function(l){return l?.cancel&&l.cancel()})),s.configure=r,s.addPipe(function(l){return l.type==="nodecreated"&&s.add(l.data),l.type==="noderemoved"&&s.remove(l.data),l}),s}return vn(n,a),Qe(n,[{key:"setParent",value:function(s){gO(n,"setParent",this)([s]),this.editor=this.parentScope(mr),this.dataflow=new dO(this.editor)}},{key:"getDataflow",value:function(){if(!this.dataflow)throw new Error("DataflowEngine isn't attached to NodeEditor");return this.dataflow}},{key:"add",value:function(s){var l=this,u=this.configure?this.configure(s):{inputs:function(){return Object.keys(s.inputs)},outputs:function(){return Object.keys(s.outputs)}};this.getDataflow().add(s,{inputs:u.inputs,outputs:u.outputs,data:(function(){var d=qe(ce.mark(function p(m){var v,w;return ce.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(v=l.cache.get(s.id),!v){k.next=3;break}return k.abrupt("return",v);case 3:return w=mO(function(){return m()},function(M){return s.data(M)}),l.cache.add(s.id,w),k.abrupt("return",w);case 6:case"end":return k.stop()}},p)}));function h(p){return d.apply(this,arguments)}return h})()})}},{key:"remove",value:function(s){this.getDataflow().remove(s.id)}},{key:"reset",value:function(s){var l=this;if(s){var u=this.getDataflow().setups.get(s);if(!u)throw new Error("setup");var d=u.outputs();this.cache.delete(s),this.editor.getConnections().filter(function(h){return h.source===s&&d.includes(h.sourceOutput)}).forEach(function(h){l.reset(h.target)})}else this.cache.clear()}},{key:"fetchInputs",value:(function(){var r=qe(ce.mark(function l(u){var d;return ce.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return d=Pt(u)==="object"?u.id:u,p.abrupt("return",this.getDataflow().fetchInputs(d));case 2:case"end":return p.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"fetch",value:(function(){var r=qe(ce.mark(function l(u){var d;return ce.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return d=Pt(u)==="object"?u.id:u,p.abrupt("return",this.getDataflow().fetch(d));case 2:case"end":return p.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()}])})(Fi);const bO=!1,bh=(...a)=>bO,Wv=ft.Socket.canConnect;ft.Socket.canConnect=function(a,n){return bh(`[Socket Check] ${a.name} <-> ${n.name}`),Wv&&Wv(a,n)||a.name==="any"||n.name==="any"?!0:a.name===n.name};ft.Socket.prototype.canConnectTo=function(a){return bh(`[Socket Instance Check] ${this.name} -> ${a.name}`),ft.Socket.canConnect(this,a)};const Zi={boolean:new ft.Socket("boolean"),number:new ft.Socket("number"),object:new ft.Socket("object"),lightInfo:new ft.Socket("light_info"),any:new ft.Socket("any")};Object.values(Zi).forEach(a=>{a.canConnectTo=function(n){return bh(`[Socket Instance Direct] ${this.name} -> ${n.name}`),this.name===n.name||this.name==="any"||n.name==="any"}});const e0={shelly:{icon:"",color:"#ff9800",label:"Shelly"},wled:{icon:"",color:"#e040fb",label:"WLED"},esphome:{icon:"",color:"#00bcd4",label:"ESPHome"},hue:{icon:"",color:"#ffc107",label:"Philips Hue"},kasa:{icon:"",color:"#4caf50",label:"TP-Link Kasa"},tasmota:{icon:"",color:"#ff5722",label:"Tasmota"},chromecast:{icon:"",color:"#5c6bc0",label:"Chromecast"},homekit:{icon:"",color:"#607d8b",label:"HomeKit"},airplay:{icon:"",color:"#9c27b0",label:"AirPlay"},generic:{icon:"",color:"#78909c",label:"HTTP Device"},http:{icon:"",color:"#78909c",label:"HTTP Device"}};function wO(){const[a,n]=T.useState([]),[r,s]=T.useState(!1),[l,u]=T.useState(null),[d,h]=T.useState(null),[p,m]=T.useState(5e3),[v,w]=T.useState(null),S=T.useCallback(async()=>{s(!0),u(null);try{const K=await fetch("/api/discovery/scan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({timeout:p})});if(!K.ok){const U=await K.json();throw new Error(U.error||`Scan failed (${K.status})`)}const q=await K.json();n(q.devices||[]),h(new Date)}catch(K){console.error("[Discovery] Scan error:",K),u(K.message)}finally{s(!1)}},[p]),k=K=>e0[K]||e0.generic,M=K=>K?new Date(K).toLocaleTimeString():"",Y=(K=>{const q={};for(const U of K){const G=U.type||"generic";q[G]||(q[G]=[]),q[G].push(U)}return q})(a);return g.jsxs("div",{className:"discovery-panel",children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[g.jsxs("div",{children:[g.jsx("div",{style:{fontSize:"11px",color:"#8a959e",marginBottom:"4px"},children:"Scan your network for smart home devices"}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[g.jsx("label",{style:{fontSize:"11px",color:"#8a959e"},children:"Timeout:"}),g.jsxs("select",{value:p,onChange:K=>m(Number(K.target.value)),disabled:r,style:{background:"#2a3238",color:"#c5cdd3",border:"1px solid rgba(95, 179, 179, 0.3)",borderRadius:"4px",padding:"4px 8px",fontSize:"11px"},children:[g.jsx("option",{value:3e3,children:"3 seconds"}),g.jsx("option",{value:5e3,children:"5 seconds"}),g.jsx("option",{value:1e4,children:"10 seconds"}),g.jsx("option",{value:15e3,children:"15 seconds"})]})]})]}),g.jsx("button",{onClick:S,disabled:r,style:{padding:"10px 20px",background:r?"rgba(95, 179, 179, 0.2)":"rgba(95, 179, 179, 0.15)",border:"1px solid rgba(95, 179, 179, 0.5)",borderRadius:"6px",color:r?"#8a959e":"#5fb3b3",cursor:r?"not-allowed":"pointer",fontSize:"13px",fontWeight:500,display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s"},children:r?g.jsxs(g.Fragment,{children:[g.jsx("span",{className:"discovery-spinner",children:""}),"Scanning..."]}):g.jsx(g.Fragment,{children:" Scan Network"})})]}),l&&g.jsxs("div",{style:{padding:"10px 14px",background:"rgba(199, 95, 95, 0.15)",border:"1px solid rgba(199, 95, 95, 0.3)",borderRadius:"6px",color:"#c75f5f",fontSize:"12px",marginBottom:"12px"},children:[" ",l]}),d&&g.jsxs("div",{style:{fontSize:"10px",color:"#8a959e",marginBottom:"12px"},children:["Last scan: ",d.toLocaleTimeString(),"  Found ",a.length," device(s)"]}),a.length===0&&!r&&d&&g.jsxs("div",{style:{padding:"30px",textAlign:"center",color:"#8a959e",background:"rgba(0, 0, 0, 0.2)",borderRadius:"8px"},children:[g.jsx("div",{style:{fontSize:"24px",marginBottom:"8px"},children:""}),g.jsx("div",{children:"No devices found on your network."}),g.jsx("div",{style:{fontSize:"11px",marginTop:"8px"},children:"Try increasing the timeout or check if your devices are online."})]}),Object.entries(Y).map(([K,q])=>{const U=k(K);return g.jsxs("div",{style:{marginBottom:"16px"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",paddingBottom:"6px",borderBottom:"1px solid rgba(95, 179, 179, 0.15)"},children:[g.jsx("span",{style:{fontSize:"16px"},children:U.icon}),g.jsx("span",{style:{color:U.color,fontSize:"13px",fontWeight:500},children:U.label}),g.jsx("span",{style:{color:"#8a959e",fontSize:"11px",background:"rgba(0, 0, 0, 0.2)",padding:"2px 8px",borderRadius:"10px"},children:q.length})]}),g.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:q.map(G=>g.jsxs("div",{style:{background:v===G.id?"rgba(95, 179, 179, 0.1)":"rgba(0, 0, 0, 0.15)",border:"1px solid rgba(95, 179, 179, 0.15)",borderRadius:"6px",padding:"10px 14px",cursor:"pointer",transition:"all 0.2s"},onClick:()=>w(v===G.id?null:G.id),children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[g.jsxs("div",{children:[g.jsx("div",{style:{color:"#c5cdd3",fontSize:"13px",fontWeight:500},children:G.name}),g.jsxs("div",{style:{color:"#8a959e",fontSize:"11px",fontFamily:"monospace"},children:[G.ip,":",G.port]})]}),g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[G.configured?g.jsx("span",{style:{background:"rgba(95, 170, 125, 0.2)",color:"#5faa7d",padding:"3px 8px",borderRadius:"4px",fontSize:"10px"},children:"Configured"}):g.jsx("span",{style:{background:"rgba(212, 160, 84, 0.2)",color:"#d4a054",padding:"3px 8px",borderRadius:"4px",fontSize:"10px"},children:"New"}),g.jsx("span",{style:{color:"#8a959e",fontSize:"12px"},children:v===G.id?"":""})]})]}),v===G.id&&g.jsxs("div",{style:{marginTop:"12px",paddingTop:"12px",borderTop:"1px solid rgba(95, 179, 179, 0.1)",fontSize:"11px",color:"#8a959e"},children:[g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"100px 1fr",gap:"6px 12px"},children:[g.jsx("span",{children:"Host:"}),g.jsx("span",{style:{color:"#c5cdd3",fontFamily:"monospace"},children:G.host||"N/A"}),g.jsx("span",{children:"Source:"}),g.jsx("span",{style:{color:"#c5cdd3"},children:G.source==="mdns"?"mDNS/Bonjour":G.source==="udp"?"UDP Broadcast":G.source}),g.jsx("span",{children:"Discovered:"}),g.jsx("span",{style:{color:"#c5cdd3"},children:M(G.discoveredAt)}),G.capabilities&&G.capabilities.length>0&&g.jsxs(g.Fragment,{children:[g.jsx("span",{children:"Capabilities:"}),g.jsx("span",{style:{color:"#5fb3b3"},children:G.capabilities.join(", ")})]}),G.model&&g.jsxs(g.Fragment,{children:[g.jsx("span",{children:"Model:"}),g.jsx("span",{style:{color:"#c5cdd3"},children:G.model})]})]}),g.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"12px"},children:[g.jsx("button",{onClick:re=>{re.stopPropagation(),window.open(`http://${G.ip}:${G.port}`,"_blank")},style:{padding:"6px 12px",background:"rgba(95, 179, 179, 0.15)",border:"1px solid rgba(95, 179, 179, 0.3)",borderRadius:"4px",color:"#5fb3b3",cursor:"pointer",fontSize:"11px"},children:" Open Web UI"}),g.jsx("button",{onClick:re=>{re.stopPropagation(),navigator.clipboard.writeText(G.ip)},style:{padding:"6px 12px",background:"rgba(95, 179, 179, 0.1)",border:"1px solid rgba(95, 179, 179, 0.2)",borderRadius:"4px",color:"#8a959e",cursor:"pointer",fontSize:"11px"},children:" Copy IP"})]})]})]},G.id))})]},K)}),g.jsx("style",{children:`
                .discovery-spinner {
                    display: inline-block;
                    animation: spin 1s linear infinite;
                }
                @keyframes spin {
                    from { transform: rotate(0deg); }
                    to { transform: rotate(360deg); }
                }
            `})]})}const Ul=[{key:"primary",label:"Primary Accent Color",type:"color",default:"#5fb3b3"},{key:"background",label:"Node Background",type:"color",default:"#1e2428"},{key:"surface",label:"Node Surface",type:"color",default:"#2a3238"},{key:"surfaceLight",label:"Elevated Surface",type:"color",default:"#343d44"},{key:"text",label:"Text Color",type:"color",default:"#c5cdd3"},{key:"textMuted",label:"Muted Text",type:"color",default:"#8a959e"},{key:"success",label:"Success Color",type:"color",default:"#5faa7d"},{key:"warning",label:"Warning Color",type:"color",default:"#d4a054"},{key:"error",label:"Error Color",type:"color",default:"#c75f5f"},{key:"borderOpacity",label:"Border Opacity (%)",type:"range",min:0,max:100,default:25}],SO=[{category:"Home Assistant",icon:"",testable:"ha",settings:[{key:"HA_HOST",label:"Home Assistant URL",placeholder:"http://homeassistant.local:8123",type:"text"},{key:"HA_TOKEN",label:"Long-Lived Access Token",placeholder:"eyJ...",type:"password",isSecret:!0}]},{category:"Weather Services",icon:"",testable:"weather",settings:[{key:"OPENWEATHERMAP_API_KEY",label:"OpenWeatherMap API Key",placeholder:"Your API key",type:"password",isSecret:!0}]},{category:"Ambient Weather",icon:"",settings:[{key:"AMBIENT_API_KEY",label:"Ambient Weather API Key",placeholder:"Your API key",type:"password",isSecret:!0},{key:"AMBIENT_APPLICATION_KEY",label:"Application Key",placeholder:"Your app key",type:"password",isSecret:!0},{key:"AMBIENT_MAC_ADDRESS",label:"Device MAC Address",placeholder:"XX:XX:XX:XX:XX:XX",type:"text"}]},{category:"Philips Hue",icon:"",testable:"hue",settings:[{key:"HUE_BRIDGE_IP",label:"Bridge IP Address",placeholder:"192.168.1.x",type:"text"},{key:"HUE_USERNAME",label:"Bridge Username/Key",placeholder:"Generated key",type:"password",isSecret:!0}]},{category:"Telegram Notifications",icon:"",testable:"telegram",settings:[{key:"TELEGRAM_BOT_TOKEN",label:"Bot Token",placeholder:"123456:ABC-DEF...",type:"password",isSecret:!0},{key:"TELEGRAM_CHAT_ID",label:"Chat ID",placeholder:"123456789",type:"text"}]},{category:"Location",icon:"",description:"Your location for sunrise/sunset calculations and weather",settings:[{key:"LOCATION_CITY",label:"City",placeholder:"Dallas, TX",type:"text"},{key:"LOCATION_LATITUDE",label:"Latitude",placeholder:"32.7767",type:"text"},{key:"LOCATION_LONGITUDE",label:"Longitude",placeholder:"-96.7970",type:"text"},{key:"LOCATION_TIMEZONE",label:"Timezone",placeholder:"America/Chicago",type:"text"}]},{category:"Server Settings",icon:"",settings:[{key:"PORT",label:"Server Port",placeholder:"3000",type:"number"},{key:"LOG_LEVEL",label:"Log Level",placeholder:"info",type:"select",options:["debug","info","warn","error"]}]}];function xO({isOpen:a,onClose:n}){const[r,s]=T.useState({}),[l,u]=T.useState(!0),[d,h]=T.useState(!1),[p,m]=T.useState(null),[v,w]=T.useState(null),[S,k]=T.useState({}),[M,P]=T.useState({}),[Y,K]=T.useState({}),[q,U]=T.useState({}),G=T.useRef(null),[re,oe]=T.useState(()=>{try{const $=localStorage.getItem("t2theme-overrides"),F=$?JSON.parse($):{},fe={};return Ul.forEach(ye=>{fe[ye.key]=ye.default}),{...fe,...F}}catch{const $={};return Ul.forEach(F=>{$[F.key]=F.default}),$}}),[ee,he]=T.useState(!1),I={"Home Assistant":{accent:"#4fc3f7",background:"#0a1520",icon:""},Weather:{accent:"#ffb74d",background:"#1a1510",icon:""},Logic:{accent:"#81c784",background:"#0a140a",icon:""},"Timer/Event":{accent:"#ce93d8",background:"#140a14",icon:""},Color:{accent:"#f48fb1",background:"#140a10",icon:""},Utility:{accent:"#90a4ae",background:"#0a0f14",icon:""},Inputs:{accent:"#aed581",background:"#0f140a",icon:""},CC_Control_Nodes:{accent:"#64b5f6",background:"#0a1018",icon:""},Other:{accent:"#b0bec5",background:"#0a0f14",icon:""}},[ae,Ee]=T.useState(()=>{try{const $=localStorage.getItem("t2category-overrides"),F=$?JSON.parse($):{},fe={};for(const[ye,He]of Object.entries(I))fe[ye]={...He,...F[ye]||{}};return fe}catch{return{...I}}}),[Oe,Ce]=T.useState(!1),ze={Boolean:{color:"#10b981",icon:"",description:"True/False values"},Number:{color:"#3b82f6",icon:"",description:"Numeric values"},String:{color:"#f59e0b",icon:"",description:"Text values"},"HSV Info":{color:"#8b5cf6",icon:"",description:"Color HSV data"},"Object/Any":{color:"#06b6d4",icon:"",description:"Generic objects"},"Light Info":{color:"#eab308",icon:"",description:"Light state data"}},ne={Boolean:"boolean",Number:"number",String:"string","HSV Info":"hsv","Object/Any":"object","Light Info":"light"},[A,_]=T.useState(()=>{try{const $=localStorage.getItem("t2socket-colors"),F=$?JSON.parse($):{},fe={};for(const[ye,He]of Object.entries(ze))fe[ye]={...He,...F[ye]||{}};return fe}catch{return{...ze}}}),[H,z]=T.useState(!1),[J,x]=T.useState(!1),[E,N]=T.useState(null);T.useEffect(()=>{a&&(D(),P({"Home Assistant":!0}),K({}))},[a]);const D=async()=>{u(!0),m(null);try{const $=await fetch("/api/settings");if(!$.ok)throw new Error("Failed to fetch settings");const F=await $.json();s(F.settings||{})}catch($){m("Failed to load settings: "+$.message)}finally{u(!1)}},Z=async()=>{h(!0),m(null),w(null);try{const $=await fetch("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:r})});if(!$.ok){const F=await $.json();throw new Error(F.error||"Failed to save settings")}w("Settings saved! Some changes may require a server restart."),setTimeout(()=>w(null),5e3)}catch($){m("Failed to save: "+$.message)}finally{h(!1)}},se=($,F)=>{s(fe=>({...fe,[$]:F}))},ue=async()=>{const $=r.LOCATION_CITY;if(!$||$.trim().length<2){N("Please enter a city name first");return}x(!0),N(null);try{const F=await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent($)}&format=json&limit=1&addressdetails=1`,{headers:{"User-Agent":"T2AutoTron/2.1 (Home Automation App)"}});if(!F.ok)throw new Error("Geocoding service unavailable");const fe=await F.json();if(fe.length===0){N(`Could not find "${$}". Try adding state/country (e.g., "Dallas, TX, USA")`);return}const ye=fe[0],He=parseFloat(ye.lat).toFixed(4),kt=parseFloat(ye.lon).toFixed(4),Ct=ye.address?[ye.address.city||ye.address.town||ye.address.village||ye.name,ye.address.state,ye.address.country].filter(Boolean).join(", "):ye.display_name.split(",").slice(0,3).join(",");let je="UTC";const st=ye.address?.state?.toLowerCase()||"",te=ye.address?.country?.toLowerCase()||"";if(te.includes("portugal"))je="Europe/Lisbon";else if(te.includes("spain"))je="Europe/Madrid";else if(te.includes("france"))je="Europe/Paris";else if(te.includes("germany"))je="Europe/Berlin";else if(te.includes("italy"))je="Europe/Rome";else if(te.includes("united kingdom")||te.includes("ireland"))je="Europe/London";else if(te.includes("netherlands"))je="Europe/Amsterdam";else if(te.includes("belgium"))je="Europe/Brussels";else if(te.includes("australia"))je="Australia/Sydney";else if(te.includes("japan"))je="Asia/Tokyo";else if(te.includes("china"))je="Asia/Shanghai";else if(te.includes("india"))je="Asia/Kolkata";else if(te.includes("brazil"))je="America/Sao_Paulo";else if(te.includes("canada"))st.includes("british columbia")?je="America/Vancouver":st.includes("alberta")?je="America/Edmonton":st.includes("saskatchewan")?je="America/Regina":st.includes("manitoba")?je="America/Winnipeg":st.includes("ontario")?je="America/Toronto":st.includes("quebec")?je="America/Montreal":je="America/Toronto";else if(te.includes("united states")||te.includes("usa"))st.includes("hawaii")?je="Pacific/Honolulu":st.includes("alaska")?je="America/Anchorage":["california","nevada","oregon","washington"].some(ie=>st.includes(ie))?je="America/Los_Angeles":["arizona"].some(ie=>st.includes(ie))?je="America/Phoenix":["colorado","montana","wyoming","utah","new mexico","idaho"].some(ie=>st.includes(ie))?je="America/Denver":["texas","oklahoma","kansas","nebraska","south dakota","north dakota","minnesota","iowa","missouri","arkansas","louisiana","wisconsin","illinois","mississippi","alabama","tennessee"].some(ie=>st.includes(ie))?je="America/Chicago":je="America/New_York";else{const ie=parseFloat(kt);ie>=-125&&ie<-115?je="America/Los_Angeles":ie>=-115&&ie<-102?je="America/Denver":ie>=-102&&ie<-87?je="America/Chicago":ie>=-87&&ie<-67?je="America/New_York":ie>=-10&&ie<3?je="Europe/London":ie>=3&&ie<15?je="Europe/Paris":ie>=15&&ie<30&&(je="Europe/Berlin")}s(ie=>({...ie,LOCATION_CITY:Ct,LOCATION_LATITUDE:He,LOCATION_LONGITUDE:kt,LOCATION_TIMEZONE:je})),w(`Found: ${Ct} (${He}, ${kt})`),setTimeout(()=>w(null),5e3)}catch(F){N("Search failed: "+F.message)}finally{x(!1)}},le=($,F)=>{oe(fe=>({...fe,[$]:F})),he(!0)},me=()=>{try{localStorage.setItem("t2theme-overrides",JSON.stringify(re)),w("Theme saved! Refresh the page to apply changes."),he(!1),setTimeout(()=>w(null),5e3)}catch($){m("Failed to save theme: "+$.message)}},Ne=()=>{const $={};Ul.forEach(F=>{$[F.key]=F.default}),oe($),localStorage.removeItem("t2theme-overrides"),w("Theme reset to defaults! Refresh the page to apply."),he(!1),setTimeout(()=>w(null),5e3)},Ye=($,F,fe)=>{Ee(ye=>({...ye,[$]:{...ye[$],[F]:fe}})),Ce(!0)},pe=$=>{const F=parseInt($.slice(1,3),16),fe=parseInt($.slice(3,5),16),ye=parseInt($.slice(5,7),16);return`${F}, ${fe}, ${ye}`},_e={"Home Assistant":"ha",Weather:"weather",Logic:"logic","Timer/Event":"timer",Color:"color",Utility:"utility",Inputs:"inputs",CC_Control_Nodes:"cc",Other:"other"},Le=$=>{const F=document.documentElement;for(const[fe,ye]of Object.entries($)){const He=_e[fe];He&&(F.style.setProperty(`--node-${He}-color`,ye.accent),F.style.setProperty(`--node-${He}-color-rgb`,pe(ye.accent)),ye.background&&F.style.setProperty(`--node-${He}-bg`,ye.background))}},xt=()=>{try{const $={};for(const[F,fe]of Object.entries(ae)){const ye=I[F],He={};fe.accent!==ye.accent&&(He.accent=fe.accent),fe.background!==ye.background&&(He.background=fe.background),Object.keys(He).length>0&&($[F]=He)}Object.keys($).length>0?localStorage.setItem("t2category-overrides",JSON.stringify($)):localStorage.removeItem("t2category-overrides"),Le(ae),w("Category colors applied!"),Ce(!1),setTimeout(()=>w(null),3e3)}catch($){m("Failed to save category colors: "+$.message)}},un=()=>{Ee({...I}),localStorage.removeItem("t2category-overrides"),Le(I),w("Category colors reset to defaults!"),Ce(!1),setTimeout(()=>w(null),3e3)},ra=($,F)=>{_(fe=>({...fe,[$]:{...fe[$],color:F}})),z(!0)},Be=($,F=20)=>{const fe=parseInt($.slice(1),16),ye=Math.max(0,(fe>>16)-Math.round(255*F/100)),He=Math.max(0,(fe>>8&255)-Math.round(255*F/100)),kt=Math.max(0,(fe&255)-Math.round(255*F/100));return`#${(1<<24|ye<<16|He<<8|kt).toString(16).slice(1)}`},it=($,F=20)=>{const fe=parseInt($.slice(1),16),ye=Math.min(255,(fe>>16)+Math.round(255*F/100)),He=Math.min(255,(fe>>8&255)+Math.round(255*F/100)),kt=Math.min(255,(fe&255)+Math.round(255*F/100));return`#${(1<<24|ye<<16|He<<8|kt).toString(16).slice(1)}`},At=$=>{const F=document.documentElement;for(const[fe,ye]of Object.entries($)){const He=ne[fe];He&&(F.style.setProperty(`--socket-${He}-color`,ye.color),F.style.setProperty(`--socket-${He}-dark`,Be(ye.color,15)),F.style.setProperty(`--socket-${He}-border`,it(ye.color,20)),F.style.setProperty(`--socket-${He}-rgb`,pe(ye.color)))}},mt=()=>{try{const $={};for(const[F,fe]of Object.entries(A)){const ye=ze[F];fe.color!==ye.color&&($[F]={color:fe.color})}Object.keys($).length>0?localStorage.setItem("t2socket-colors",JSON.stringify($)):localStorage.removeItem("t2socket-colors"),At(A),w("Socket colors applied!"),z(!1),setTimeout(()=>w(null),3e3)}catch($){m("Failed to save socket colors: "+$.message)}},bn=()=>{_({...ze}),localStorage.removeItem("t2socket-colors"),At(ze),w("Socket colors reset to defaults!"),z(!1),setTimeout(()=>w(null),3e3)},en=$=>{P(F=>({...F,[$]:!F[$]}))},Mt=$=>{k(F=>({...F,[$]:!F[$]}))},Xr=async $=>{U(F=>({...F,[$]:!0})),K(F=>({...F,[$]:null}));try{const fe=await(await fetch("/api/settings/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({service:$,settings:r})})).json();K(ye=>({...ye,[$]:{success:fe.success,message:fe.message||(fe.success?"Connection successful!":"Connection failed"),details:fe.details}}))}catch(F){K(fe=>({...fe,[$]:{success:!1,message:"Test failed: "+F.message}}))}finally{U(F=>({...F,[$]:!1}))}},gr=()=>{const $={version:"1.0",timestamp:new Date().toISOString(),settings:r},F=new Blob([JSON.stringify($,null,2)],{type:"application/json"}),fe=URL.createObjectURL(F),ye=document.createElement("a");ye.href=fe,ye.download=`t2autotron-settings-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(ye),ye.click(),document.body.removeChild(ye),URL.revokeObjectURL(fe),w("Settings exported successfully!"),setTimeout(()=>w(null),3e3)},vr=$=>{const F=$.target.files?.[0];if(!F)return;const fe=new FileReader;fe.onload=ye=>{try{const He=JSON.parse(ye.target.result);if(!He.settings||typeof He.settings!="object")throw new Error("Invalid backup file format");s(kt=>({...kt,...He.settings})),w(`Imported ${Object.keys(He.settings).length} settings from backup. Click Save to apply.`),setTimeout(()=>w(null),5e3)}catch(He){m("Failed to import backup: "+He.message)}},fe.readAsText(F),$.target.value=""};return a?uh.createPortal(g.jsx("div",{className:"settings-modal-overlay",onClick:n,children:g.jsxs("div",{className:"settings-modal",onClick:$=>$.stopPropagation(),children:[g.jsxs("div",{className:"settings-header",children:[g.jsx("h2",{children:" Settings & API Keys"}),g.jsx("button",{className:"settings-close-btn",onClick:n,children:""})]}),g.jsx("div",{className:"settings-content",children:l?g.jsx("div",{className:"settings-loading",children:"Loading settings..."}):g.jsxs(g.Fragment,{children:[p&&g.jsx("div",{className:"settings-error",children:p}),v&&g.jsx("div",{className:"settings-success",children:v}),g.jsx("div",{className:"settings-warning",children:" API keys are stored in the server's .env file. Keep this secure!"}),g.jsxs("div",{className:"settings-backup-section",children:[g.jsx("span",{className:"settings-backup-label",children:" Backup & Restore"}),g.jsxs("div",{className:"settings-backup-buttons",children:[g.jsx("button",{className:"settings-btn-small settings-btn-export",onClick:gr,children:" Export Backup"}),g.jsx("button",{className:"settings-btn-small settings-btn-import",onClick:()=>G.current?.click(),children:" Import Backup"}),g.jsx("input",{ref:G,type:"file",accept:".json",style:{display:"none"},onChange:vr})]})]}),g.jsxs("div",{className:"settings-category",children:[g.jsx("div",{className:"settings-category-header",onClick:()=>en("Discovery"),children:g.jsxs("span",{children:[M.Discovery?"":""," Network Device Discovery"]})}),M.Discovery&&g.jsx("div",{className:"settings-category-content",children:g.jsx(wO,{})})]}),g.jsxs("div",{className:"settings-category",children:[g.jsxs("div",{className:"settings-category-header",onClick:()=>en("Theme"),children:[g.jsxs("span",{children:[M.Theme?"":""," Node Theme Settings"]}),ee&&g.jsx("span",{style:{fontSize:"10px",color:"#d4a054"},children:" unsaved"})]}),M.Theme&&g.jsxs("div",{className:"settings-category-content",children:[g.jsx("div",{className:"settings-info",style:{fontSize:"11px",color:"#8a959e",marginBottom:"12px",padding:"8px",background:"rgba(95, 179, 179, 0.1)",borderRadius:"4px"},children:" Theme settings are stored locally. Refresh the page after saving to apply changes."}),g.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:Ul.map($=>g.jsxs("div",{className:"settings-field",style:{marginBottom:"8px"},children:[g.jsx("label",{className:"settings-label",style:{fontSize:"10px"},children:$.label}),$.type==="color"?g.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[g.jsx("input",{type:"color",value:re[$.key]||$.default,onChange:F=>le($.key,F.target.value),style:{width:"40px",height:"30px",border:"none",borderRadius:"4px",cursor:"pointer",background:"transparent"}}),g.jsx("input",{type:"text",value:re[$.key]||$.default,onChange:F=>le($.key,F.target.value),className:"settings-input",style:{flex:1,fontFamily:"monospace",fontSize:"11px"}})]}):$.type==="range"?g.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[g.jsx("input",{type:"range",min:$.min,max:$.max,value:re[$.key]||$.default,onChange:F=>le($.key,parseInt(F.target.value)),style:{flex:1}}),g.jsxs("span",{style:{minWidth:"35px",textAlign:"right",color:"#c5cdd3",fontSize:"12px"},children:[re[$.key]||$.default,"%"]})]}):null]},$.key))}),g.jsxs("div",{style:{marginTop:"12px",padding:"12px",background:re.background,borderRadius:"8px",border:`1px solid rgba(95, 179, 179, ${(re.borderOpacity||25)/100})`},children:[g.jsx("div",{style:{fontSize:"10px",color:re.textMuted,marginBottom:"8px"},children:"PREVIEW"}),g.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",alignItems:"center"},children:[g.jsx("div",{style:{padding:"8px 12px",background:re.surface,color:re.text,borderRadius:"4px",fontSize:"12px"},children:"Surface"}),g.jsx("div",{style:{padding:"8px 12px",background:re.surfaceLight,color:re.text,borderRadius:"4px",fontSize:"12px"},children:"Elevated"}),g.jsx("span",{style:{color:re.primary},children:"Primary"}),g.jsx("span",{style:{color:re.success},children:"Success"}),g.jsx("span",{style:{color:re.warning},children:"Warning"}),g.jsx("span",{style:{color:re.error},children:"Error"})]})]}),g.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"12px",justifyContent:"flex-end"},children:[g.jsx("button",{className:"settings-btn-small",onClick:Ne,style:{background:"rgba(199, 95, 95, 0.15)",borderColor:"rgba(199, 95, 95, 0.5)",color:"#c75f5f"},children:"Reset to Defaults"}),g.jsx("button",{className:"settings-btn-small",onClick:me,style:{background:"rgba(95, 170, 125, 0.15)",borderColor:"rgba(95, 170, 125, 0.5)",color:"#5faa7d"},children:" Save Theme"})]})]})]}),g.jsxs("div",{className:"settings-category",children:[g.jsxs("div",{className:"settings-category-header",onClick:()=>en("CategoryColors"),children:[g.jsxs("span",{children:[M.CategoryColors?"":""," Category Accent Colors"]}),Oe&&g.jsx("span",{style:{fontSize:"10px",color:"#d4a054"},children:" unsaved"})]}),M.CategoryColors&&g.jsxs("div",{className:"settings-category-content",children:[g.jsx("div",{className:"settings-info",style:{fontSize:"11px",color:"#8a959e",marginBottom:"12px",padding:"8px",background:"rgba(95, 179, 179, 0.1)",borderRadius:"4px"},children:" Set accent (border/header) and background colors for each node category."}),g.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:Object.entries(ae).map(([$,F])=>g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 8px",background:F.background||"#0a0f14",borderRadius:"4px",border:`1px solid ${F.accent}55`},children:[g.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"2px"},children:[g.jsx("input",{type:"color",value:F.accent,onChange:fe=>Ye($,"accent",fe.target.value),title:"Accent color (borders, headers)",style:{width:"24px",height:"24px",border:"none",borderRadius:"4px",cursor:"pointer",background:"transparent"}}),g.jsx("span",{style:{fontSize:"8px",color:"#666"},children:"Accent"})]}),g.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"2px"},children:[g.jsx("input",{type:"color",value:F.background||"#0a0f14",onChange:fe=>Ye($,"background",fe.target.value),title:"Background color",style:{width:"24px",height:"24px",border:"1px solid #333",borderRadius:"4px",cursor:"pointer",background:"transparent"}}),g.jsx("span",{style:{fontSize:"8px",color:"#666"},children:"BG"})]}),g.jsx("div",{style:{flex:1,minWidth:0},children:g.jsxs("div",{style:{fontSize:"11px",color:F.accent,fontWeight:"600",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[F.icon," ",$]})})]},$))}),g.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"12px",justifyContent:"flex-end"},children:[g.jsx("button",{className:"settings-btn-small",onClick:un,style:{background:"rgba(199, 95, 95, 0.15)",borderColor:"rgba(199, 95, 95, 0.5)",color:"#c75f5f"},children:"Reset to Defaults"}),g.jsx("button",{className:"settings-btn-small",onClick:xt,style:{background:"rgba(95, 170, 125, 0.15)",borderColor:"rgba(95, 170, 125, 0.5)",color:"#5faa7d"},children:" Save Category Colors"})]})]})]}),g.jsxs("div",{className:"settings-category",children:[g.jsxs("div",{className:"settings-category-header",onClick:()=>en("SocketColors"),children:[g.jsxs("span",{children:[M.SocketColors?"":""," Socket Colors"]}),H&&g.jsx("span",{style:{fontSize:"10px",color:"#d4a054"},children:" unsaved"})]}),M.SocketColors&&g.jsxs("div",{className:"settings-category-content",children:[g.jsx("div",{className:"settings-info",style:{fontSize:"11px",color:"#8a959e",marginBottom:"12px",padding:"8px",background:"rgba(95, 130, 179, 0.1)",borderRadius:"4px"},children:" Customize socket connector colors by data type. These appear on all nodes."}),g.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:Object.entries(A).map(([$,F])=>g.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 10px",background:"#0a0f14",borderRadius:"4px",border:`1px solid ${F.color}55`},children:[g.jsx("input",{type:"color",value:F.color,onChange:fe=>ra($,fe.target.value),title:`${$} socket color`,style:{width:"28px",height:"28px",border:"none",borderRadius:"50%",cursor:"pointer",background:"transparent"}}),g.jsxs("div",{style:{flex:1,minWidth:0},children:[g.jsxs("div",{style:{fontSize:"12px",color:F.color,fontWeight:"600"},children:[F.icon," ",$]}),g.jsx("div",{style:{fontSize:"9px",color:"#666",marginTop:"2px"},children:F.description})]})]},$))}),g.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"12px",justifyContent:"flex-end"},children:[g.jsx("button",{className:"settings-btn-small",onClick:bn,style:{background:"rgba(199, 95, 95, 0.15)",borderColor:"rgba(199, 95, 95, 0.5)",color:"#c75f5f"},children:"Reset to Defaults"}),g.jsx("button",{className:"settings-btn-small",onClick:mt,style:{background:"rgba(95, 170, 125, 0.15)",borderColor:"rgba(95, 170, 125, 0.5)",color:"#5faa7d"},children:" Save Socket Colors"})]})]})]}),SO.map($=>g.jsxs("div",{className:"settings-category",children:[g.jsxs("div",{className:"settings-category-header",onClick:()=>en($.category),children:[g.jsxs("span",{children:[M[$.category]?"":"",$.icon," ",$.category]}),$.testable&&M[$.category]&&g.jsx("button",{className:`settings-test-btn ${Y[$.testable]?.success?"success":Y[$.testable]?.success===!1?"error":""}`,onClick:F=>{F.stopPropagation(),Xr($.testable)},disabled:q[$.testable],children:q[$.testable]?" Testing...":" Test Connection"})]}),M[$.category]&&g.jsxs("div",{className:"settings-category-content",children:[Y[$.testable]&&g.jsxs("div",{className:`settings-test-result ${Y[$.testable].success?"success":"error"}`,children:[Y[$.testable].success?"":""," ",Y[$.testable].message,Y[$.testable].details&&g.jsx("div",{className:"settings-test-details",children:Y[$.testable].details})]}),$.category==="Location"&&g.jsxs("div",{className:"settings-location-search",children:[g.jsx("p",{style:{fontSize:"0.85rem",color:"#aaa",margin:"0 0 10px 0"},children:' Enter your city name and click "Search" to auto-fill coordinates.'}),g.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"10px"},children:[g.jsx("input",{type:"text",className:"settings-input",value:r.LOCATION_CITY||"",onChange:F=>se("LOCATION_CITY",F.target.value),placeholder:"e.g., Dallas, TX, USA",style:{flex:1},onKeyDown:F=>{F.key==="Enter"&&ue()}}),g.jsx("button",{className:"settings-test-btn",onClick:ue,disabled:J,style:{whiteSpace:"nowrap"},children:J?" Searching...":" Search City"})]}),E&&g.jsxs("div",{className:"settings-test-result error",style:{marginBottom:"10px"},children:[" ",E]}),g.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[g.jsxs("div",{className:"settings-field",children:[g.jsx("label",{className:"settings-label",children:"Latitude"}),g.jsx("input",{type:"text",className:"settings-input",value:r.LOCATION_LATITUDE||"",onChange:F=>se("LOCATION_LATITUDE",F.target.value),placeholder:"32.7767"})]}),g.jsxs("div",{className:"settings-field",children:[g.jsx("label",{className:"settings-label",children:"Longitude"}),g.jsx("input",{type:"text",className:"settings-input",value:r.LOCATION_LONGITUDE||"",onChange:F=>se("LOCATION_LONGITUDE",F.target.value),placeholder:"-96.7970"})]})]}),g.jsxs("div",{className:"settings-field",style:{marginTop:"10px"},children:[g.jsx("label",{className:"settings-label",children:"Timezone"}),g.jsx("input",{type:"text",className:"settings-input",value:r.LOCATION_TIMEZONE||"",onChange:F=>se("LOCATION_TIMEZONE",F.target.value),placeholder:"America/Chicago"}),g.jsx("span",{className:"settings-key-hint",children:"Common: America/New_York, America/Chicago, America/Denver, America/Los_Angeles"})]})]}),$.category!=="Location"&&$.settings.map(F=>g.jsxs("div",{className:"settings-field",children:[g.jsxs("label",{className:"settings-label",children:[F.label,F.isSecret&&g.jsx("button",{className:"settings-show-btn",onClick:()=>Mt(F.key),type:"button",children:S[F.key]?" Hide":" Show"})]}),F.type==="select"?g.jsxs("select",{className:"settings-input",value:r[F.key]||"",onChange:fe=>se(F.key,fe.target.value),children:[g.jsx("option",{value:"",children:"Select..."}),F.options.map(fe=>g.jsx("option",{value:fe,children:fe},fe))]}):g.jsx("input",{type:F.isSecret&&!S[F.key]?"password":"text",className:"settings-input",value:r[F.key]||"",onChange:fe=>se(F.key,fe.target.value),placeholder:F.placeholder}),g.jsx("span",{className:"settings-key-hint",children:F.key})]},F.key))]})]},$.category))]})}),g.jsxs("div",{className:"settings-footer",children:[g.jsx("button",{className:"settings-btn settings-btn-secondary",onClick:n,children:"Cancel"}),g.jsx("button",{className:"settings-btn settings-btn-primary",onClick:Z,disabled:d||l,children:d?"Saving...":" Save Settings"})]})]})}),document.body):null}const EO=[{category:"Selection & Editing",items:[{keys:["Delete","Backspace"],action:"Delete selected nodes"},{keys:["Ctrl","C"],action:"Copy selected nodes"},{keys:["Ctrl","V"],action:"Paste nodes at cursor"},{keys:["Ctrl","Z"],action:"Undo last delete"},{keys:["Ctrl","A"],action:"Select all nodes"},{keys:["Shift","Click"],action:"Add to selection"},{keys:["Drag"],action:"Lasso select multiple nodes"}]},{category:"Navigation",items:[{keys:["Scroll"],action:"Zoom in/out"},{keys:["Middle-click","Drag"],action:"Pan canvas"},{keys:["Home"],action:"Reset viewport to origin"},{keys:["F5"],action:"Reset editor view (fix frozen pan)"},{keys:["Escape"],action:"Cancel/reset drag state"}]},{category:"Node Operations",items:[{keys:["Right-click"],action:"Open context menu"},{keys:["Right-click node"],action:"Node context menu"},{keys:["Double-click"],action:"Edit node properties (where available)"}]},{category:"Graph Management",items:[{keys:["?"],action:"Show this help dialog"}]}];function kO({isOpen:a,onClose:n}){if(T.useEffect(()=>{if(!a)return;const s=l=>{l.key==="Escape"&&n()};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[a,n]),!a)return null;const r=s=>{s.target===s.currentTarget&&n()};return uh.createPortal(g.jsx("div",{className:"shortcuts-modal-overlay",onClick:r,children:g.jsxs("div",{className:"shortcuts-modal",children:[g.jsxs("div",{className:"shortcuts-modal-header",children:[g.jsx("h2",{children:" Keyboard Shortcuts"}),g.jsx("button",{className:"shortcuts-close-btn",onClick:n,children:" Close"})]}),g.jsx("div",{className:"shortcuts-modal-body",children:EO.map((s,l)=>g.jsxs("div",{className:"shortcuts-section",children:[g.jsx("h3",{children:s.category}),g.jsx("div",{className:"shortcuts-list",children:s.items.map((u,d)=>g.jsxs("div",{className:"shortcut-row",children:[g.jsx("div",{className:"shortcut-keys",children:u.keys.map((h,p)=>g.jsxs(Ua.Fragment,{children:[g.jsx("kbd",{children:h}),p<u.keys.length-1&&g.jsx("span",{className:"key-separator",children:"+"})]},p))}),g.jsx("div",{className:"shortcut-action",children:u.action})]},d))})]},l))}),g.jsx("div",{className:"shortcuts-modal-footer",children:g.jsxs("p",{children:["Press ",g.jsx("kbd",{children:"?"})," anytime to show this dialog"]})})]})}),document.body)}const ha=Object.create(null);ha.open="0";ha.close="1";ha.ping="2";ha.pong="3";ha.message="4";ha.upgrade="5";ha.noop="6";const Ql=Object.create(null);Object.keys(ha).forEach(a=>{Ql[ha[a]]=a});const Bd={type:"error",data:"parser error"},i1=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",s1=typeof ArrayBuffer=="function",o1=a=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(a):a&&a.buffer instanceof ArrayBuffer,wh=({type:a,data:n},r,s)=>i1&&n instanceof Blob?r?s(n):t0(n,s):s1&&(n instanceof ArrayBuffer||o1(n))?r?s(n):t0(new Blob([n]),s):s(ha[a]+(n||"")),t0=(a,n)=>{const r=new FileReader;return r.onload=function(){const s=r.result.split(",")[1];n("b"+(s||""))},r.readAsDataURL(a)};function n0(a){return a instanceof Uint8Array?a:a instanceof ArrayBuffer?new Uint8Array(a):new Uint8Array(a.buffer,a.byteOffset,a.byteLength)}let sd;function OO(a,n){if(i1&&a.data instanceof Blob)return a.data.arrayBuffer().then(n0).then(n);if(s1&&(a.data instanceof ArrayBuffer||o1(a.data)))return n(n0(a.data));wh(a,!1,r=>{sd||(sd=new TextEncoder),n(sd.encode(r))})}const a0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ws=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let a=0;a<a0.length;a++)Ws[a0.charCodeAt(a)]=a;const TO=a=>{let n=a.length*.75,r=a.length,s,l=0,u,d,h,p;a[a.length-1]==="="&&(n--,a[a.length-2]==="="&&n--);const m=new ArrayBuffer(n),v=new Uint8Array(m);for(s=0;s<r;s+=4)u=Ws[a.charCodeAt(s)],d=Ws[a.charCodeAt(s+1)],h=Ws[a.charCodeAt(s+2)],p=Ws[a.charCodeAt(s+3)],v[l++]=u<<2|d>>4,v[l++]=(d&15)<<4|h>>2,v[l++]=(h&3)<<6|p&63;return m},CO=typeof ArrayBuffer=="function",Sh=(a,n)=>{if(typeof a!="string")return{type:"message",data:l1(a,n)};const r=a.charAt(0);return r==="b"?{type:"message",data:NO(a.substring(1),n)}:Ql[r]?a.length>1?{type:Ql[r],data:a.substring(1)}:{type:Ql[r]}:Bd},NO=(a,n)=>{if(CO){const r=TO(a);return l1(r,n)}else return{base64:!0,data:a}},l1=(a,n)=>{switch(n){case"blob":return a instanceof Blob?a:new Blob([a]);case"arraybuffer":default:return a instanceof ArrayBuffer?a:a.buffer}},u1="",_O=(a,n)=>{const r=a.length,s=new Array(r);let l=0;a.forEach((u,d)=>{wh(u,!1,h=>{s[d]=h,++l===r&&n(s.join(u1))})})},AO=(a,n)=>{const r=a.split(u1),s=[];for(let l=0;l<r.length;l++){const u=Sh(r[l],n);if(s.push(u),u.type==="error")break}return s};function jO(){return new TransformStream({transform(a,n){OO(a,r=>{const s=r.length;let l;if(s<126)l=new Uint8Array(1),new DataView(l.buffer).setUint8(0,s);else if(s<65536){l=new Uint8Array(3);const u=new DataView(l.buffer);u.setUint8(0,126),u.setUint16(1,s)}else{l=new Uint8Array(9);const u=new DataView(l.buffer);u.setUint8(0,127),u.setBigUint64(1,BigInt(s))}a.data&&typeof a.data!="string"&&(l[0]|=128),n.enqueue(l),n.enqueue(r)})}})}let od;function Hl(a){return a.reduce((n,r)=>n+r.length,0)}function $l(a,n){if(a[0].length===n)return a.shift();const r=new Uint8Array(n);let s=0;for(let l=0;l<n;l++)r[l]=a[0][s++],s===a[0].length&&(a.shift(),s=0);return a.length&&s<a[0].length&&(a[0]=a[0].slice(s)),r}function DO(a,n){od||(od=new TextDecoder);const r=[];let s=0,l=-1,u=!1;return new TransformStream({transform(d,h){for(r.push(d);;){if(s===0){if(Hl(r)<1)break;const p=$l(r,1);u=(p[0]&128)===128,l=p[0]&127,l<126?s=3:l===126?s=1:s=2}else if(s===1){if(Hl(r)<2)break;const p=$l(r,2);l=new DataView(p.buffer,p.byteOffset,p.length).getUint16(0),s=3}else if(s===2){if(Hl(r)<8)break;const p=$l(r,8),m=new DataView(p.buffer,p.byteOffset,p.length),v=m.getUint32(0);if(v>Math.pow(2,21)-1){h.enqueue(Bd);break}l=v*Math.pow(2,32)+m.getUint32(4),s=3}else{if(Hl(r)<l)break;const p=$l(r,l);h.enqueue(Sh(u?p:od.decode(p),n)),s=0}if(l===0||l>a){h.enqueue(Bd);break}}}})}const c1=4;function $t(a){if(a)return MO(a)}function MO(a){for(var n in $t.prototype)a[n]=$t.prototype[n];return a}$t.prototype.on=$t.prototype.addEventListener=function(a,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+a]=this._callbacks["$"+a]||[]).push(n),this};$t.prototype.once=function(a,n){function r(){this.off(a,r),n.apply(this,arguments)}return r.fn=n,this.on(a,r),this};$t.prototype.off=$t.prototype.removeListener=$t.prototype.removeAllListeners=$t.prototype.removeEventListener=function(a,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+a];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+a],this;for(var s,l=0;l<r.length;l++)if(s=r[l],s===n||s.fn===n){r.splice(l,1);break}return r.length===0&&delete this._callbacks["$"+a],this};$t.prototype.emit=function(a){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),r=this._callbacks["$"+a],s=1;s<arguments.length;s++)n[s-1]=arguments[s];if(r){r=r.slice(0);for(var s=0,l=r.length;s<l;++s)r[s].apply(this,n)}return this};$t.prototype.emitReserved=$t.prototype.emit;$t.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks["$"+a]||[]};$t.prototype.hasListeners=function(a){return!!this.listeners(a).length};const gu=typeof Promise=="function"&&typeof Promise.resolve=="function"?n=>Promise.resolve().then(n):(n,r)=>r(n,0),Gn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),zO="arraybuffer";function f1(a,...n){return n.reduce((r,s)=>(a.hasOwnProperty(s)&&(r[s]=a[s]),r),{})}const RO=Gn.setTimeout,LO=Gn.clearTimeout;function vu(a,n){n.useNativeTimers?(a.setTimeoutFn=RO.bind(Gn),a.clearTimeoutFn=LO.bind(Gn)):(a.setTimeoutFn=Gn.setTimeout.bind(Gn),a.clearTimeoutFn=Gn.clearTimeout.bind(Gn))}const BO=1.33;function UO(a){return typeof a=="string"?HO(a):Math.ceil((a.byteLength||a.size)*BO)}function HO(a){let n=0,r=0;for(let s=0,l=a.length;s<l;s++)n=a.charCodeAt(s),n<128?r+=1:n<2048?r+=2:n<55296||n>=57344?r+=3:(s++,r+=4);return r}function d1(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function $O(a){let n="";for(let r in a)a.hasOwnProperty(r)&&(n.length&&(n+="&"),n+=encodeURIComponent(r)+"="+encodeURIComponent(a[r]));return n}function VO(a){let n={},r=a.split("&");for(let s=0,l=r.length;s<l;s++){let u=r[s].split("=");n[decodeURIComponent(u[0])]=decodeURIComponent(u[1])}return n}class qO extends Error{constructor(n,r,s){super(n),this.description=r,this.context=s,this.type="TransportError"}}class xh extends $t{constructor(n){super(),this.writable=!1,vu(this,n),this.opts=n,this.query=n.query,this.socket=n.socket,this.supportsBinary=!n.forceBase64}onError(n,r,s){return super.emitReserved("error",new qO(n,r,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(n){this.readyState==="open"&&this.write(n)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(n){const r=Sh(n,this.socket.binaryType);this.onPacket(r)}onPacket(n){super.emitReserved("packet",n)}onClose(n){this.readyState="closed",super.emitReserved("close",n)}pause(n){}createUri(n,r={}){return n+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const n=this.opts.hostname;return n.indexOf(":")===-1?n:"["+n+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(n){const r=$O(n);return r.length?"?"+r:""}}class YO extends xh{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(n){this.readyState="pausing";const r=()=>{this.readyState="paused",n()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||r()})),this.writable||(s++,this.once("drain",function(){--s||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(n){const r=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};AO(n,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const n=()=>{this.write([{type:"close"}])};this.readyState==="open"?n():this.once("open",n)}write(n){this.writable=!1,_O(n,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const n=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=d1()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(n,r)}}let h1=!1;try{h1=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const IO=h1;function GO(){}class ZO extends YO{constructor(n){if(super(n),typeof location<"u"){const r=location.protocol==="https:";let s=location.port;s||(s=r?"443":"80"),this.xd=typeof location<"u"&&n.hostname!==location.hostname||s!==n.port}}doWrite(n,r){const s=this.request({method:"POST",data:n});s.on("success",r),s.on("error",(l,u)=>{this.onError("xhr post error",l,u)})}doPoll(){const n=this.request();n.on("data",this.onData.bind(this)),n.on("error",(r,s)=>{this.onError("xhr poll error",r,s)}),this.pollXhr=n}}class da extends $t{constructor(n,r,s){super(),this.createRequest=n,vu(this,s),this._opts=s,this._method=s.method||"GET",this._uri=r,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var n;const r=f1(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(r);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let l in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(l)&&s.setRequestHeader(l,this._opts.extraHeaders[l])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(n=this._opts.cookieJar)===null||n===void 0||n.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var l;s.readyState===3&&((l=this._opts.cookieJar)===null||l===void 0||l.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(l){this.setTimeoutFn(()=>{this._onError(l)},0);return}typeof document<"u"&&(this._index=da.requestsCount++,da.requests[this._index]=this)}_onError(n){this.emitReserved("error",n,this._xhr),this._cleanup(!0)}_cleanup(n){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=GO,n)try{this._xhr.abort()}catch{}typeof document<"u"&&delete da.requests[this._index],this._xhr=null}}_onLoad(){const n=this._xhr.responseText;n!==null&&(this.emitReserved("data",n),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}da.requestsCount=0;da.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",r0);else if(typeof addEventListener=="function"){const a="onpagehide"in Gn?"pagehide":"unload";addEventListener(a,r0,!1)}}function r0(){for(let a in da.requests)da.requests.hasOwnProperty(a)&&da.requests[a].abort()}const XO=(function(){const a=p1({xdomain:!1});return a&&a.responseType!==null})();class FO extends ZO{constructor(n){super(n);const r=n&&n.forceBase64;this.supportsBinary=XO&&!r}request(n={}){return Object.assign(n,{xd:this.xd},this.opts),new da(p1,this.uri(),n)}}function p1(a){const n=a.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!n||IO))return new XMLHttpRequest}catch{}if(!n)try{return new Gn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const m1=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class KO extends xh{get name(){return"websocket"}doOpen(){const n=this.uri(),r=this.opts.protocols,s=m1?{}:f1(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(n,r,s)}catch(l){return this.emitReserved("error",l)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n}),this.ws.onmessage=n=>this.onData(n.data),this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=!1;for(let r=0;r<n.length;r++){const s=n[r],l=r===n.length-1;wh(s,this.supportsBinary,u=>{try{this.doWrite(s,u)}catch{}l&&gu(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const n=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=d1()),this.supportsBinary||(r.b64=1),this.createUri(n,r)}}const ld=Gn.WebSocket||Gn.MozWebSocket;class QO extends KO{createSocket(n,r,s){return m1?new ld(n,r,s):r?new ld(n,r):new ld(n)}doWrite(n,r){this.ws.send(r)}}class JO extends xh{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(n){return this.emitReserved("error",n)}this._transport.closed.then(()=>{this.onClose()}).catch(n=>{this.onError("webtransport error",n)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(n=>{const r=DO(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=n.readable.pipeThrough(r).getReader(),l=jO();l.readable.pipeTo(n.writable),this._writer=l.writable.getWriter();const u=()=>{s.read().then(({done:h,value:p})=>{h||(this.onPacket(p),u())}).catch(h=>{})};u();const d={type:"open"};this.query.sid&&(d.data=`{"sid":"${this.query.sid}"}`),this._writer.write(d).then(()=>this.onOpen())})})}write(n){this.writable=!1;for(let r=0;r<n.length;r++){const s=n[r],l=r===n.length-1;this._writer.write(s).then(()=>{l&&gu(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var n;(n=this._transport)===null||n===void 0||n.close()}}const PO={websocket:QO,webtransport:JO,polling:FO},WO=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,eT=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ud(a){if(a.length>8e3)throw"URI too long";const n=a,r=a.indexOf("["),s=a.indexOf("]");r!=-1&&s!=-1&&(a=a.substring(0,r)+a.substring(r,s).replace(/:/g,";")+a.substring(s,a.length));let l=WO.exec(a||""),u={},d=14;for(;d--;)u[eT[d]]=l[d]||"";return r!=-1&&s!=-1&&(u.source=n,u.host=u.host.substring(1,u.host.length-1).replace(/;/g,":"),u.authority=u.authority.replace("[","").replace("]","").replace(/;/g,":"),u.ipv6uri=!0),u.pathNames=tT(u,u.path),u.queryKey=nT(u,u.query),u}function tT(a,n){const r=/\/{2,9}/g,s=n.replace(r,"/").split("/");return(n.slice(0,1)=="/"||n.length===0)&&s.splice(0,1),n.slice(-1)=="/"&&s.splice(s.length-1,1),s}function nT(a,n){const r={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,l,u){l&&(r[l]=u)}),r}const Hd=typeof addEventListener=="function"&&typeof removeEventListener=="function",Jl=[];Hd&&addEventListener("offline",()=>{Jl.forEach(a=>a())},!1);class hr extends $t{constructor(n,r){if(super(),this.binaryType=zO,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,n&&typeof n=="object"&&(r=n,n=null),n){const s=Ud(n);r.hostname=s.host,r.secure=s.protocol==="https"||s.protocol==="wss",r.port=s.port,s.query&&(r.query=s.query)}else r.host&&(r.hostname=Ud(r.host).host);vu(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(s=>{const l=s.prototype.name;this.transports.push(l),this._transportsByName[l]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=VO(this.opts.query)),Hd&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Jl.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(n){const r=Object.assign({},this.opts.query);r.EIO=c1,r.transport=n,this.id&&(r.sid=this.id);const s=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[n]);return new this._transportsByName[n](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const n=this.opts.rememberUpgrade&&hr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(n);r.open(),this.setTransport(r)}setTransport(n){this.transport&&this.transport.removeAllListeners(),this.transport=n,n.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",hr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",n),this.emitReserved("heartbeat"),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=n.data,this._onError(r);break;case"message":this.emitReserved("data",n.data),this.emitReserved("message",n.data);break}}onHandshake(n){this.emitReserved("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this._pingInterval=n.pingInterval,this._pingTimeout=n.pingTimeout,this._maxPayload=n.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const n=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+n,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},n),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const n=this._getWritablePackets();this.transport.send(n),this._prevBufferLen=n.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let s=0;s<this.writeBuffer.length;s++){const l=this.writeBuffer[s].data;if(l&&(r+=UO(l)),s>0&&r>this._maxPayload)return this.writeBuffer.slice(0,s);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const n=Date.now()>this._pingTimeoutTime;return n&&(this._pingTimeoutTime=0,gu(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),n}write(n,r,s){return this._sendPacket("message",n,r,s),this}send(n,r,s){return this._sendPacket("message",n,r,s),this}_sendPacket(n,r,s,l){if(typeof r=="function"&&(l=r,r=void 0),typeof s=="function"&&(l=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const u={type:n,data:r,options:s};this.emitReserved("packetCreate",u),this.writeBuffer.push(u),l&&this.once("flush",l),this.flush()}close(){const n=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),n()},s=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():n()}):this.upgrading?s():n()),this}_onError(n){if(hr.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",n),this._onClose("transport error",n)}_onClose(n,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Hd&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=Jl.indexOf(this._offlineEventListener);s!==-1&&Jl.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",n,r),this.writeBuffer=[],this._prevBufferLen=0}}}hr.protocol=c1;class aT extends hr{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let n=0;n<this._upgrades.length;n++)this._probe(this._upgrades[n])}_probe(n){let r=this.createTransport(n),s=!1;hr.priorWebsocketSuccess=!1;const l=()=>{s||(r.send([{type:"ping",data:"probe"}]),r.once("packet",w=>{if(!s)if(w.type==="pong"&&w.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;hr.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(v(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const S=new Error("probe error");S.transport=r.name,this.emitReserved("upgradeError",S)}}))};function u(){s||(s=!0,v(),r.close(),r=null)}const d=w=>{const S=new Error("probe error: "+w);S.transport=r.name,u(),this.emitReserved("upgradeError",S)};function h(){d("transport closed")}function p(){d("socket closed")}function m(w){r&&w.name!==r.name&&u()}const v=()=>{r.removeListener("open",l),r.removeListener("error",d),r.removeListener("close",h),this.off("close",p),this.off("upgrading",m)};r.once("open",l),r.once("error",d),r.once("close",h),this.once("close",p),this.once("upgrading",m),this._upgrades.indexOf("webtransport")!==-1&&n!=="webtransport"?this.setTimeoutFn(()=>{s||r.open()},200):r.open()}onHandshake(n){this._upgrades=this._filterUpgrades(n.upgrades),super.onHandshake(n)}_filterUpgrades(n){const r=[];for(let s=0;s<n.length;s++)~this.transports.indexOf(n[s])&&r.push(n[s]);return r}}let rT=class extends aT{constructor(n,r={}){const s=typeof n=="object"?n:r;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(l=>PO[l]).filter(l=>!!l)),super(n,s)}};function iT(a,n="",r){let s=a;r=r||typeof location<"u"&&location,a==null&&(a=r.protocol+"//"+r.host),typeof a=="string"&&(a.charAt(0)==="/"&&(a.charAt(1)==="/"?a=r.protocol+a:a=r.host+a),/^(https?|wss?):\/\//.test(a)||(typeof r<"u"?a=r.protocol+"//"+a:a="https://"+a),s=Ud(a)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const u=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+u+":"+s.port+n,s.href=s.protocol+"://"+u+(r&&r.port===s.port?"":":"+s.port),s}const sT=typeof ArrayBuffer=="function",oT=a=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(a):a.buffer instanceof ArrayBuffer,y1=Object.prototype.toString,lT=typeof Blob=="function"||typeof Blob<"u"&&y1.call(Blob)==="[object BlobConstructor]",uT=typeof File=="function"||typeof File<"u"&&y1.call(File)==="[object FileConstructor]";function Eh(a){return sT&&(a instanceof ArrayBuffer||oT(a))||lT&&a instanceof Blob||uT&&a instanceof File}function Pl(a,n){if(!a||typeof a!="object")return!1;if(Array.isArray(a)){for(let r=0,s=a.length;r<s;r++)if(Pl(a[r]))return!0;return!1}if(Eh(a))return!0;if(a.toJSON&&typeof a.toJSON=="function"&&arguments.length===1)return Pl(a.toJSON(),!0);for(const r in a)if(Object.prototype.hasOwnProperty.call(a,r)&&Pl(a[r]))return!0;return!1}function cT(a){const n=[],r=a.data,s=a;return s.data=$d(r,n),s.attachments=n.length,{packet:s,buffers:n}}function $d(a,n){if(!a)return a;if(Eh(a)){const r={_placeholder:!0,num:n.length};return n.push(a),r}else if(Array.isArray(a)){const r=new Array(a.length);for(let s=0;s<a.length;s++)r[s]=$d(a[s],n);return r}else if(typeof a=="object"&&!(a instanceof Date)){const r={};for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=$d(a[s],n));return r}return a}function fT(a,n){return a.data=Vd(a.data,n),delete a.attachments,a}function Vd(a,n){if(!a)return a;if(a&&a._placeholder===!0){if(typeof a.num=="number"&&a.num>=0&&a.num<n.length)return n[a.num];throw new Error("illegal attachments")}else if(Array.isArray(a))for(let r=0;r<a.length;r++)a[r]=Vd(a[r],n);else if(typeof a=="object")for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&(a[r]=Vd(a[r],n));return a}const dT=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],hT=5;var Pe;(function(a){a[a.CONNECT=0]="CONNECT",a[a.DISCONNECT=1]="DISCONNECT",a[a.EVENT=2]="EVENT",a[a.ACK=3]="ACK",a[a.CONNECT_ERROR=4]="CONNECT_ERROR",a[a.BINARY_EVENT=5]="BINARY_EVENT",a[a.BINARY_ACK=6]="BINARY_ACK"})(Pe||(Pe={}));class pT{constructor(n){this.replacer=n}encode(n){return(n.type===Pe.EVENT||n.type===Pe.ACK)&&Pl(n)?this.encodeAsBinary({type:n.type===Pe.EVENT?Pe.BINARY_EVENT:Pe.BINARY_ACK,nsp:n.nsp,data:n.data,id:n.id}):[this.encodeAsString(n)]}encodeAsString(n){let r=""+n.type;return(n.type===Pe.BINARY_EVENT||n.type===Pe.BINARY_ACK)&&(r+=n.attachments+"-"),n.nsp&&n.nsp!=="/"&&(r+=n.nsp+","),n.id!=null&&(r+=n.id),n.data!=null&&(r+=JSON.stringify(n.data,this.replacer)),r}encodeAsBinary(n){const r=cT(n),s=this.encodeAsString(r.packet),l=r.buffers;return l.unshift(s),l}}function i0(a){return Object.prototype.toString.call(a)==="[object Object]"}class kh extends $t{constructor(n){super(),this.reviver=n}add(n){let r;if(typeof n=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(n);const s=r.type===Pe.BINARY_EVENT;s||r.type===Pe.BINARY_ACK?(r.type=s?Pe.EVENT:Pe.ACK,this.reconstructor=new mT(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Eh(n)||n.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(n),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+n)}decodeString(n){let r=0;const s={type:Number(n.charAt(0))};if(Pe[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===Pe.BINARY_EVENT||s.type===Pe.BINARY_ACK){const u=r+1;for(;n.charAt(++r)!=="-"&&r!=n.length;);const d=n.substring(u,r);if(d!=Number(d)||n.charAt(r)!=="-")throw new Error("Illegal attachments");s.attachments=Number(d)}if(n.charAt(r+1)==="/"){const u=r+1;for(;++r&&!(n.charAt(r)===","||r===n.length););s.nsp=n.substring(u,r)}else s.nsp="/";const l=n.charAt(r+1);if(l!==""&&Number(l)==l){const u=r+1;for(;++r;){const d=n.charAt(r);if(d==null||Number(d)!=d){--r;break}if(r===n.length)break}s.id=Number(n.substring(u,r+1))}if(n.charAt(++r)){const u=this.tryParse(n.substr(r));if(kh.isPayloadValid(s.type,u))s.data=u;else throw new Error("invalid payload")}return s}tryParse(n){try{return JSON.parse(n,this.reviver)}catch{return!1}}static isPayloadValid(n,r){switch(n){case Pe.CONNECT:return i0(r);case Pe.DISCONNECT:return r===void 0;case Pe.CONNECT_ERROR:return typeof r=="string"||i0(r);case Pe.EVENT:case Pe.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&dT.indexOf(r[0])===-1);case Pe.ACK:case Pe.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class mT{constructor(n){this.packet=n,this.buffers=[],this.reconPack=n}takeBinaryData(n){if(this.buffers.push(n),this.buffers.length===this.reconPack.attachments){const r=fT(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const yT=Object.freeze(Object.defineProperty({__proto__:null,Decoder:kh,Encoder:pT,get PacketType(){return Pe},protocol:hT},Symbol.toStringTag,{value:"Module"}));function ea(a,n,r){return a.on(n,r),function(){a.off(n,r)}}const gT=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class g1 extends $t{constructor(n,r,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=n,this.nsp=r,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const n=this.io;this.subs=[ea(n,"open",this.onopen.bind(this)),ea(n,"packet",this.onpacket.bind(this)),ea(n,"error",this.onerror.bind(this)),ea(n,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...n){return n.unshift("message"),this.emit.apply(this,n),this}emit(n,...r){var s,l,u;if(gT.hasOwnProperty(n))throw new Error('"'+n.toString()+'" is a reserved event name');if(r.unshift(n),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const d={type:Pe.EVENT,data:r};if(d.options={},d.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const v=this.ids++,w=r.pop();this._registerAckCallback(v,w),d.id=v}const h=(l=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||l===void 0?void 0:l.writable,p=this.connected&&!(!((u=this.io.engine)===null||u===void 0)&&u._hasPingExpired());return this.flags.volatile&&!h||(p?(this.notifyOutgoingListeners(d),this.packet(d)):this.sendBuffer.push(d)),this.flags={},this}_registerAckCallback(n,r){var s;const l=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(l===void 0){this.acks[n]=r;return}const u=this.io.setTimeoutFn(()=>{delete this.acks[n];for(let h=0;h<this.sendBuffer.length;h++)this.sendBuffer[h].id===n&&this.sendBuffer.splice(h,1);r.call(this,new Error("operation has timed out"))},l),d=(...h)=>{this.io.clearTimeoutFn(u),r.apply(this,h)};d.withError=!0,this.acks[n]=d}emitWithAck(n,...r){return new Promise((s,l)=>{const u=(d,h)=>d?l(d):s(h);u.withError=!0,r.push(u),this.emit(n,...r)})}_addToQueue(n){let r;typeof n[n.length-1]=="function"&&(r=n.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:n,flags:Object.assign({fromQueue:!0},this.flags)};n.push((l,...u)=>s!==this._queue[0]?void 0:(l!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(l)):(this._queue.shift(),r&&r(null,...u)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(n=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!n||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(n){n.nsp=this.nsp,this.io._packet(n)}onopen(){typeof this.auth=="function"?this.auth(n=>{this._sendConnectPacket(n)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(n){this.packet({type:Pe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},n):n})}onerror(n){this.connected||this.emitReserved("connect_error",n)}onclose(n,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",n,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(n=>{if(!this.sendBuffer.some(s=>String(s.id)===n)){const s=this.acks[n];delete this.acks[n],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(n){if(n.nsp===this.nsp)switch(n.type){case Pe.CONNECT:n.data&&n.data.sid?this.onconnect(n.data.sid,n.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Pe.EVENT:case Pe.BINARY_EVENT:this.onevent(n);break;case Pe.ACK:case Pe.BINARY_ACK:this.onack(n);break;case Pe.DISCONNECT:this.ondisconnect();break;case Pe.CONNECT_ERROR:this.destroy();const s=new Error(n.data.message);s.data=n.data.data,this.emitReserved("connect_error",s);break}}onevent(n){const r=n.data||[];n.id!=null&&r.push(this.ack(n.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(n){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const s of r)s.apply(this,n)}super.emit.apply(this,n),this._pid&&n.length&&typeof n[n.length-1]=="string"&&(this._lastOffset=n[n.length-1])}ack(n){const r=this;let s=!1;return function(...l){s||(s=!0,r.packet({type:Pe.ACK,id:n,data:l}))}}onack(n){const r=this.acks[n.id];typeof r=="function"&&(delete this.acks[n.id],r.withError&&n.data.unshift(null),r.apply(this,n.data))}onconnect(n,r){this.id=n,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(n=>this.emitEvent(n)),this.receiveBuffer=[],this.sendBuffer.forEach(n=>{this.notifyOutgoingListeners(n),this.packet(n)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(n=>n()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Pe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(n){return this.flags.compress=n,this}get volatile(){return this.flags.volatile=!0,this}timeout(n){return this.flags.timeout=n,this}onAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(n),this}prependAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(n),this}offAny(n){if(!this._anyListeners)return this;if(n){const r=this._anyListeners;for(let s=0;s<r.length;s++)if(n===r[s])return r.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(n),this}prependAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(n),this}offAnyOutgoing(n){if(!this._anyOutgoingListeners)return this;if(n){const r=this._anyOutgoingListeners;for(let s=0;s<r.length;s++)if(n===r[s])return r.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(n){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const s of r)s.apply(this,n.data)}}}function Ji(a){a=a||{},this.ms=a.min||100,this.max=a.max||1e4,this.factor=a.factor||2,this.jitter=a.jitter>0&&a.jitter<=1?a.jitter:0,this.attempts=0}Ji.prototype.duration=function(){var a=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),r=Math.floor(n*this.jitter*a);a=(Math.floor(n*10)&1)==0?a-r:a+r}return Math.min(a,this.max)|0};Ji.prototype.reset=function(){this.attempts=0};Ji.prototype.setMin=function(a){this.ms=a};Ji.prototype.setMax=function(a){this.max=a};Ji.prototype.setJitter=function(a){this.jitter=a};class qd extends $t{constructor(n,r){var s;super(),this.nsps={},this.subs=[],n&&typeof n=="object"&&(r=n,n=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,vu(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((s=r.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new Ji({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=n;const l=r.parser||yT;this.encoder=new l.Encoder,this.decoder=new l.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(n){return arguments.length?(this._reconnection=!!n,n||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(n){return n===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=n,this)}reconnectionDelay(n){var r;return n===void 0?this._reconnectionDelay:(this._reconnectionDelay=n,(r=this.backoff)===null||r===void 0||r.setMin(n),this)}randomizationFactor(n){var r;return n===void 0?this._randomizationFactor:(this._randomizationFactor=n,(r=this.backoff)===null||r===void 0||r.setJitter(n),this)}reconnectionDelayMax(n){var r;return n===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=n,(r=this.backoff)===null||r===void 0||r.setMax(n),this)}timeout(n){return arguments.length?(this._timeout=n,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(n){if(~this._readyState.indexOf("open"))return this;this.engine=new rT(this.uri,this.opts);const r=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const l=ea(r,"open",function(){s.onopen(),n&&n()}),u=h=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",h),n?n(h):this.maybeReconnectOnOpen()},d=ea(r,"error",u);if(this._timeout!==!1){const h=this._timeout,p=this.setTimeoutFn(()=>{l(),u(new Error("timeout")),r.close()},h);this.opts.autoUnref&&p.unref(),this.subs.push(()=>{this.clearTimeoutFn(p)})}return this.subs.push(l),this.subs.push(d),this}connect(n){return this.open(n)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const n=this.engine;this.subs.push(ea(n,"ping",this.onping.bind(this)),ea(n,"data",this.ondata.bind(this)),ea(n,"error",this.onerror.bind(this)),ea(n,"close",this.onclose.bind(this)),ea(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(n){try{this.decoder.add(n)}catch(r){this.onclose("parse error",r)}}ondecoded(n){gu(()=>{this.emitReserved("packet",n)},this.setTimeoutFn)}onerror(n){this.emitReserved("error",n)}socket(n,r){let s=this.nsps[n];return s?this._autoConnect&&!s.active&&s.connect():(s=new g1(this,n,r),this.nsps[n]=s),s}_destroy(n){const r=Object.keys(this.nsps);for(const s of r)if(this.nsps[s].active)return;this._close()}_packet(n){const r=this.encoder.encode(n);for(let s=0;s<r.length;s++)this.engine.write(r[s],n.options)}cleanup(){this.subs.forEach(n=>n()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(n,r){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",n,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const n=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{n.skipReconnect||(this.emitReserved("reconnect_attempt",n.backoff.attempts),!n.skipReconnect&&n.open(l=>{l?(n._reconnecting=!1,n.reconnect(),this.emitReserved("reconnect_error",l)):n.onreconnect()}))},r);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const n=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",n)}}const Qs={};function Wl(a,n){typeof a=="object"&&(n=a,a=void 0),n=n||{};const r=iT(a,n.path||"/socket.io"),s=r.source,l=r.id,u=r.path,d=Qs[l]&&u in Qs[l].nsps,h=n.forceNew||n["force new connection"]||n.multiplex===!1||d;let p;return h?p=new qd(s,n):(Qs[l]||(Qs[l]=new qd(s,n)),p=Qs[l]),r.query&&!n.query&&(n.query=r.queryKey),p.socket(r.path,n)}Object.assign(Wl,{Manager:qd,Socket:g1,io:Wl,connect:Wl});const vT="http://localhost:3000",Se=Wl(vT,{autoConnect:!1,reconnection:!0,reconnectionAttempts:10,reconnectionDelay:1e3}),bT=()=>{Se.connected||Se.connect()},wT=()=>{Se.connected&&Se.disconnect()};class ST{constructor(){this.nodes=new Map}register(n,r){typeof n=="object"&&r===void 0&&(r=n,n=r.label?r.label.replace(/\s+/g,""):"Node_"+Math.random().toString(36).substr(2,9)),this.nodes.set(n,r)}get(n){return this.nodes.get(n)}getAll(){return Array.from(this.nodes.values()).filter(n=>n)}getByLabel(n){for(const r of this.nodes.values())if(r.label===n)return r;return null}getByInstance(n){for(const r of this.nodes.values())if(r.nodeClass&&n instanceof r.nodeClass)return r;return null}}const An=new ST;class Zr extends Error{}class xT extends Zr{constructor(n){super(`Invalid DateTime: ${n.toMessage()}`)}}class ET extends Zr{constructor(n){super(`Invalid Interval: ${n.toMessage()}`)}}class kT extends Zr{constructor(n){super(`Invalid Duration: ${n.toMessage()}`)}}class Ui extends Zr{}class v1 extends Zr{constructor(n){super(`Invalid unit ${n}`)}}class nn extends Zr{}class ur extends Zr{constructor(){super("Zone is an abstract class")}}const de="numeric",aa="short",Dn="long",ou={year:de,month:de,day:de},b1={year:de,month:aa,day:de},OT={year:de,month:aa,day:de,weekday:aa},w1={year:de,month:Dn,day:de},S1={year:de,month:Dn,day:de,weekday:Dn},x1={hour:de,minute:de},E1={hour:de,minute:de,second:de},k1={hour:de,minute:de,second:de,timeZoneName:aa},O1={hour:de,minute:de,second:de,timeZoneName:Dn},T1={hour:de,minute:de,hourCycle:"h23"},C1={hour:de,minute:de,second:de,hourCycle:"h23"},N1={hour:de,minute:de,second:de,hourCycle:"h23",timeZoneName:aa},_1={hour:de,minute:de,second:de,hourCycle:"h23",timeZoneName:Dn},A1={year:de,month:de,day:de,hour:de,minute:de},j1={year:de,month:de,day:de,hour:de,minute:de,second:de},D1={year:de,month:aa,day:de,hour:de,minute:de},M1={year:de,month:aa,day:de,hour:de,minute:de,second:de},TT={year:de,month:aa,day:de,weekday:aa,hour:de,minute:de},z1={year:de,month:Dn,day:de,hour:de,minute:de,timeZoneName:aa},R1={year:de,month:Dn,day:de,hour:de,minute:de,second:de,timeZoneName:aa},L1={year:de,month:Dn,day:de,weekday:Dn,hour:de,minute:de,timeZoneName:Dn},B1={year:de,month:Dn,day:de,weekday:Dn,hour:de,minute:de,second:de,timeZoneName:Dn};class Pi{get type(){throw new ur}get name(){throw new ur}get ianaName(){return this.name}get isUniversal(){throw new ur}offsetName(n,r){throw new ur}formatOffset(n,r){throw new ur}offset(n){throw new ur}equals(n){throw new ur}get isValid(){throw new ur}}let ud=null;class po extends Pi{static get instance(){return ud===null&&(ud=new po),ud}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(n,{format:r,locale:s}){return K1(n,r,s)}formatOffset(n,r){return so(this.offset(n),r)}offset(n){return-new Date(n).getTimezoneOffset()}equals(n){return n.type==="system"}get isValid(){return!0}}const Yd=new Map;function CT(a){let n=Yd.get(a);return n===void 0&&(n=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:a,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),Yd.set(a,n)),n}const NT={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function _T(a,n){const r=a.format(n).replace(/\u200E/g,""),s=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,l,u,d,h,p,m,v]=s;return[d,l,u,h,p,m,v]}function AT(a,n){const r=a.formatToParts(n),s=[];for(let l=0;l<r.length;l++){const{type:u,value:d}=r[l],h=NT[u];u==="era"?s[h]=d:Ae(h)||(s[h]=parseInt(d,10))}return s}const cd=new Map;class pa extends Pi{static create(n){let r=cd.get(n);return r===void 0&&cd.set(n,r=new pa(n)),r}static resetCache(){cd.clear(),Yd.clear()}static isValidSpecifier(n){return this.isValidZone(n)}static isValidZone(n){if(!n)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:n}).format(),!0}catch{return!1}}constructor(n){super(),this.zoneName=n,this.valid=pa.isValidZone(n)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(n,{format:r,locale:s}){return K1(n,r,s,this.name)}formatOffset(n,r){return so(this.offset(n),r)}offset(n){if(!this.valid)return NaN;const r=new Date(n);if(isNaN(r))return NaN;const s=CT(this.name);let[l,u,d,h,p,m,v]=s.formatToParts?AT(s,r):_T(s,r);h==="BC"&&(l=-Math.abs(l)+1);const S=wu({year:l,month:u,day:d,hour:p===24?0:p,minute:m,second:v,millisecond:0});let k=+r;const M=k%1e3;return k-=M>=0?M:1e3+M,(S-k)/(60*1e3)}equals(n){return n.type==="iana"&&n.name===this.name}get isValid(){return this.valid}}let s0={};function jT(a,n={}){const r=JSON.stringify([a,n]);let s=s0[r];return s||(s=new Intl.ListFormat(a,n),s0[r]=s),s}const Id=new Map;function Gd(a,n={}){const r=JSON.stringify([a,n]);let s=Id.get(r);return s===void 0&&(s=new Intl.DateTimeFormat(a,n),Id.set(r,s)),s}const Zd=new Map;function DT(a,n={}){const r=JSON.stringify([a,n]);let s=Zd.get(r);return s===void 0&&(s=new Intl.NumberFormat(a,n),Zd.set(r,s)),s}const Xd=new Map;function MT(a,n={}){const{base:r,...s}=n,l=JSON.stringify([a,s]);let u=Xd.get(l);return u===void 0&&(u=new Intl.RelativeTimeFormat(a,n),Xd.set(l,u)),u}let eo=null;function zT(){return eo||(eo=new Intl.DateTimeFormat().resolvedOptions().locale,eo)}const Fd=new Map;function U1(a){let n=Fd.get(a);return n===void 0&&(n=new Intl.DateTimeFormat(a).resolvedOptions(),Fd.set(a,n)),n}const Kd=new Map;function RT(a){let n=Kd.get(a);if(!n){const r=new Intl.Locale(a);n="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,"minimalDays"in n||(n={...H1,...n}),Kd.set(a,n)}return n}function LT(a){const n=a.indexOf("-x-");n!==-1&&(a=a.substring(0,n));const r=a.indexOf("-u-");if(r===-1)return[a];{let s,l;try{s=Gd(a).resolvedOptions(),l=a}catch{const p=a.substring(0,r);s=Gd(p).resolvedOptions(),l=p}const{numberingSystem:u,calendar:d}=s;return[l,u,d]}}function BT(a,n,r){return(r||n)&&(a.includes("-u-")||(a+="-u"),r&&(a+=`-ca-${r}`),n&&(a+=`-nu-${n}`)),a}function UT(a){const n=[];for(let r=1;r<=12;r++){const s=Me.utc(2009,r,1);n.push(a(s))}return n}function HT(a){const n=[];for(let r=1;r<=7;r++){const s=Me.utc(2016,11,13+r);n.push(a(s))}return n}function Vl(a,n,r,s){const l=a.listingMode();return l==="error"?null:l==="en"?r(n):s(n)}function $T(a){return a.numberingSystem&&a.numberingSystem!=="latn"?!1:a.numberingSystem==="latn"||!a.locale||a.locale.startsWith("en")||U1(a.locale).numberingSystem==="latn"}class VT{constructor(n,r,s){this.padTo=s.padTo||0,this.floor=s.floor||!1;const{padTo:l,floor:u,...d}=s;if(!r||Object.keys(d).length>0){const h={useGrouping:!1,...s};s.padTo>0&&(h.minimumIntegerDigits=s.padTo),this.inf=DT(n,h)}}format(n){if(this.inf){const r=this.floor?Math.floor(n):n;return this.inf.format(r)}else{const r=this.floor?Math.floor(n):_h(n,3);return Ut(r,this.padTo)}}}class qT{constructor(n,r,s){this.opts=s,this.originalZone=void 0;let l;if(this.opts.timeZone)this.dt=n;else if(n.zone.type==="fixed"){const d=-1*(n.offset/60),h=d>=0?`Etc/GMT+${d}`:`Etc/GMT${d}`;n.offset!==0&&pa.create(h).valid?(l=h,this.dt=n):(l="UTC",this.dt=n.offset===0?n:n.setZone("UTC").plus({minutes:n.offset}),this.originalZone=n.zone)}else n.zone.type==="system"?this.dt=n:n.zone.type==="iana"?(this.dt=n,l=n.zone.name):(l="UTC",this.dt=n.setZone("UTC").plus({minutes:n.offset}),this.originalZone=n.zone);const u={...this.opts};u.timeZone=u.timeZone||l,this.dtf=Gd(r,u)}format(){return this.originalZone?this.formatToParts().map(({value:n})=>n).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const n=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?n.map(r=>{if(r.type==="timeZoneName"){const s=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:s}}else return r}):n}resolvedOptions(){return this.dtf.resolvedOptions()}}class YT{constructor(n,r,s){this.opts={style:"long",...s},!r&&X1()&&(this.rtf=MT(n,s))}format(n,r){return this.rtf?this.rtf.format(n,r):cC(r,n,this.opts.numeric,this.opts.style!=="long")}formatToParts(n,r){return this.rtf?this.rtf.formatToParts(n,r):[]}}const H1={firstDay:1,minimalDays:4,weekend:[6,7]};class lt{static fromOpts(n){return lt.create(n.locale,n.numberingSystem,n.outputCalendar,n.weekSettings,n.defaultToEN)}static create(n,r,s,l,u=!1){const d=n||Tt.defaultLocale,h=d||(u?"en-US":zT()),p=r||Tt.defaultNumberingSystem,m=s||Tt.defaultOutputCalendar,v=Jd(l)||Tt.defaultWeekSettings;return new lt(h,p,m,v,d)}static resetCache(){eo=null,Id.clear(),Zd.clear(),Xd.clear(),Fd.clear(),Kd.clear()}static fromObject({locale:n,numberingSystem:r,outputCalendar:s,weekSettings:l}={}){return lt.create(n,r,s,l)}constructor(n,r,s,l,u){const[d,h,p]=LT(n);this.locale=d,this.numberingSystem=r||h||null,this.outputCalendar=s||p||null,this.weekSettings=l,this.intl=BT(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=u,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=$T(this)),this.fastNumbersCached}listingMode(){const n=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return n&&r?"en":"intl"}clone(n){return!n||Object.getOwnPropertyNames(n).length===0?this:lt.create(n.locale||this.specifiedLocale,n.numberingSystem||this.numberingSystem,n.outputCalendar||this.outputCalendar,Jd(n.weekSettings)||this.weekSettings,n.defaultToEN||!1)}redefaultToEN(n={}){return this.clone({...n,defaultToEN:!0})}redefaultToSystem(n={}){return this.clone({...n,defaultToEN:!1})}months(n,r=!1){return Vl(this,n,P1,()=>{const s=this.intl==="ja"||this.intl.startsWith("ja-");r&=!s;const l=r?{month:n,day:"numeric"}:{month:n},u=r?"format":"standalone";if(!this.monthsCache[u][n]){const d=s?h=>this.dtFormatter(h,l).format():h=>this.extract(h,l,"month");this.monthsCache[u][n]=UT(d)}return this.monthsCache[u][n]})}weekdays(n,r=!1){return Vl(this,n,tw,()=>{const s=r?{weekday:n,year:"numeric",month:"long",day:"numeric"}:{weekday:n},l=r?"format":"standalone";return this.weekdaysCache[l][n]||(this.weekdaysCache[l][n]=HT(u=>this.extract(u,s,"weekday"))),this.weekdaysCache[l][n]})}meridiems(){return Vl(this,void 0,()=>nw,()=>{if(!this.meridiemCache){const n={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Me.utc(2016,11,13,9),Me.utc(2016,11,13,19)].map(r=>this.extract(r,n,"dayperiod"))}return this.meridiemCache})}eras(n){return Vl(this,n,aw,()=>{const r={era:n};return this.eraCache[n]||(this.eraCache[n]=[Me.utc(-40,1,1),Me.utc(2017,1,1)].map(s=>this.extract(s,r,"era"))),this.eraCache[n]})}extract(n,r,s){const l=this.dtFormatter(n,r),u=l.formatToParts(),d=u.find(h=>h.type.toLowerCase()===s);return d?d.value:null}numberFormatter(n={}){return new VT(this.intl,n.forceSimple||this.fastNumbers,n)}dtFormatter(n,r={}){return new qT(n,this.intl,r)}relFormatter(n={}){return new YT(this.intl,this.isEnglish(),n)}listFormatter(n={}){return jT(this.intl,n)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||U1(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:F1()?RT(this.locale):H1}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(n){return this.locale===n.locale&&this.numberingSystem===n.numberingSystem&&this.outputCalendar===n.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let fd=null;class rn extends Pi{static get utcInstance(){return fd===null&&(fd=new rn(0)),fd}static instance(n){return n===0?rn.utcInstance:new rn(n)}static parseSpecifier(n){if(n){const r=n.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new rn(Su(r[1],r[2]))}return null}constructor(n){super(),this.fixed=n}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${so(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${so(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(n,r){return so(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(n){return n.type==="fixed"&&n.fixed===this.fixed}get isValid(){return!0}}class $1 extends Pi{constructor(n){super(),this.zoneName=n}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function dr(a,n){if(Ae(a)||a===null)return n;if(a instanceof Pi)return a;if(KT(a)){const r=a.toLowerCase();return r==="default"?n:r==="local"||r==="system"?po.instance:r==="utc"||r==="gmt"?rn.utcInstance:rn.parseSpecifier(r)||pa.create(a)}else return pr(a)?rn.instance(a):typeof a=="object"&&"offset"in a&&typeof a.offset=="function"?a:new $1(a)}const Oh={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},o0={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},IT=Oh.hanidec.replace(/[\[|\]]/g,"").split("");function GT(a){let n=parseInt(a,10);if(isNaN(n)){n="";for(let r=0;r<a.length;r++){const s=a.charCodeAt(r);if(a[r].search(Oh.hanidec)!==-1)n+=IT.indexOf(a[r]);else for(const l in o0){const[u,d]=o0[l];s>=u&&s<=d&&(n+=s-u)}}return parseInt(n,10)}else return n}const Qd=new Map;function ZT(){Qd.clear()}function Pn({numberingSystem:a},n=""){const r=a||"latn";let s=Qd.get(r);s===void 0&&(s=new Map,Qd.set(r,s));let l=s.get(n);return l===void 0&&(l=new RegExp(`${Oh[r]}${n}`),s.set(n,l)),l}let l0=()=>Date.now(),u0="system",c0=null,f0=null,d0=null,h0=60,p0,m0=null;class Tt{static get now(){return l0}static set now(n){l0=n}static set defaultZone(n){u0=n}static get defaultZone(){return dr(u0,po.instance)}static get defaultLocale(){return c0}static set defaultLocale(n){c0=n}static get defaultNumberingSystem(){return f0}static set defaultNumberingSystem(n){f0=n}static get defaultOutputCalendar(){return d0}static set defaultOutputCalendar(n){d0=n}static get defaultWeekSettings(){return m0}static set defaultWeekSettings(n){m0=Jd(n)}static get twoDigitCutoffYear(){return h0}static set twoDigitCutoffYear(n){h0=n%100}static get throwOnInvalid(){return p0}static set throwOnInvalid(n){p0=n}static resetCaches(){lt.resetCache(),pa.resetCache(),Me.resetCache(),ZT()}}class ta{constructor(n,r){this.reason=n,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const V1=[0,31,59,90,120,151,181,212,243,273,304,334],q1=[0,31,60,91,121,152,182,213,244,274,305,335];function Zn(a,n){return new ta("unit out of range",`you specified ${n} (of type ${typeof n}) as a ${a}, which is invalid`)}function Th(a,n,r){const s=new Date(Date.UTC(a,n-1,r));a<100&&a>=0&&s.setUTCFullYear(s.getUTCFullYear()-1900);const l=s.getUTCDay();return l===0?7:l}function Y1(a,n,r){return r+(mo(a)?q1:V1)[n-1]}function I1(a,n){const r=mo(a)?q1:V1,s=r.findIndex(u=>u<n),l=n-r[s];return{month:s+1,day:l}}function Ch(a,n){return(a-n+7)%7+1}function lu(a,n=4,r=1){const{year:s,month:l,day:u}=a,d=Y1(s,l,u),h=Ch(Th(s,l,u),r);let p=Math.floor((d-h+14-n)/7),m;return p<1?(m=s-1,p=co(m,n,r)):p>co(s,n,r)?(m=s+1,p=1):m=s,{weekYear:m,weekNumber:p,weekday:h,...xu(a)}}function y0(a,n=4,r=1){const{weekYear:s,weekNumber:l,weekday:u}=a,d=Ch(Th(s,1,n),r),h=Hi(s);let p=l*7+u-d-7+n,m;p<1?(m=s-1,p+=Hi(m)):p>h?(m=s+1,p-=Hi(s)):m=s;const{month:v,day:w}=I1(m,p);return{year:m,month:v,day:w,...xu(a)}}function dd(a){const{year:n,month:r,day:s}=a,l=Y1(n,r,s);return{year:n,ordinal:l,...xu(a)}}function g0(a){const{year:n,ordinal:r}=a,{month:s,day:l}=I1(n,r);return{year:n,month:s,day:l,...xu(a)}}function v0(a,n){if(!Ae(a.localWeekday)||!Ae(a.localWeekNumber)||!Ae(a.localWeekYear)){if(!Ae(a.weekday)||!Ae(a.weekNumber)||!Ae(a.weekYear))throw new Ui("Cannot mix locale-based week fields with ISO-based week fields");return Ae(a.localWeekday)||(a.weekday=a.localWeekday),Ae(a.localWeekNumber)||(a.weekNumber=a.localWeekNumber),Ae(a.localWeekYear)||(a.weekYear=a.localWeekYear),delete a.localWeekday,delete a.localWeekNumber,delete a.localWeekYear,{minDaysInFirstWeek:n.getMinDaysInFirstWeek(),startOfWeek:n.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function XT(a,n=4,r=1){const s=bu(a.weekYear),l=Xn(a.weekNumber,1,co(a.weekYear,n,r)),u=Xn(a.weekday,1,7);return s?l?u?!1:Zn("weekday",a.weekday):Zn("week",a.weekNumber):Zn("weekYear",a.weekYear)}function FT(a){const n=bu(a.year),r=Xn(a.ordinal,1,Hi(a.year));return n?r?!1:Zn("ordinal",a.ordinal):Zn("year",a.year)}function G1(a){const n=bu(a.year),r=Xn(a.month,1,12),s=Xn(a.day,1,uu(a.year,a.month));return n?r?s?!1:Zn("day",a.day):Zn("month",a.month):Zn("year",a.year)}function Z1(a){const{hour:n,minute:r,second:s,millisecond:l}=a,u=Xn(n,0,23)||n===24&&r===0&&s===0&&l===0,d=Xn(r,0,59),h=Xn(s,0,59),p=Xn(l,0,999);return u?d?h?p?!1:Zn("millisecond",l):Zn("second",s):Zn("minute",r):Zn("hour",n)}function Ae(a){return typeof a>"u"}function pr(a){return typeof a=="number"}function bu(a){return typeof a=="number"&&a%1===0}function KT(a){return typeof a=="string"}function QT(a){return Object.prototype.toString.call(a)==="[object Date]"}function X1(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function F1(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function JT(a){return Array.isArray(a)?a:[a]}function b0(a,n,r){if(a.length!==0)return a.reduce((s,l)=>{const u=[n(l),l];return s&&r(s[0],u[0])===s[0]?s:u},null)[1]}function PT(a,n){return n.reduce((r,s)=>(r[s]=a[s],r),{})}function Xi(a,n){return Object.prototype.hasOwnProperty.call(a,n)}function Jd(a){if(a==null)return null;if(typeof a!="object")throw new nn("Week settings must be an object");if(!Xn(a.firstDay,1,7)||!Xn(a.minimalDays,1,7)||!Array.isArray(a.weekend)||a.weekend.some(n=>!Xn(n,1,7)))throw new nn("Invalid week settings");return{firstDay:a.firstDay,minimalDays:a.minimalDays,weekend:Array.from(a.weekend)}}function Xn(a,n,r){return bu(a)&&a>=n&&a<=r}function WT(a,n){return a-n*Math.floor(a/n)}function Ut(a,n=2){const r=a<0;let s;return r?s="-"+(""+-a).padStart(n,"0"):s=(""+a).padStart(n,"0"),s}function fr(a){if(!(Ae(a)||a===null||a===""))return parseInt(a,10)}function Lr(a){if(!(Ae(a)||a===null||a===""))return parseFloat(a)}function Nh(a){if(!(Ae(a)||a===null||a==="")){const n=parseFloat("0."+a)*1e3;return Math.floor(n)}}function _h(a,n,r="round"){const s=10**n;switch(r){case"expand":return a>0?Math.ceil(a*s)/s:Math.floor(a*s)/s;case"trunc":return Math.trunc(a*s)/s;case"round":return Math.round(a*s)/s;case"floor":return Math.floor(a*s)/s;case"ceil":return Math.ceil(a*s)/s;default:throw new RangeError(`Value rounding ${r} is out of range`)}}function mo(a){return a%4===0&&(a%100!==0||a%400===0)}function Hi(a){return mo(a)?366:365}function uu(a,n){const r=WT(n-1,12)+1,s=a+(n-r)/12;return r===2?mo(s)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function wu(a){let n=Date.UTC(a.year,a.month-1,a.day,a.hour,a.minute,a.second,a.millisecond);return a.year<100&&a.year>=0&&(n=new Date(n),n.setUTCFullYear(a.year,a.month-1,a.day)),+n}function w0(a,n,r){return-Ch(Th(a,1,n),r)+n-1}function co(a,n=4,r=1){const s=w0(a,n,r),l=w0(a+1,n,r);return(Hi(a)-s+l)/7}function Pd(a){return a>99?a:a>Tt.twoDigitCutoffYear?1900+a:2e3+a}function K1(a,n,r,s=null){const l=new Date(a),u={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};s&&(u.timeZone=s);const d={timeZoneName:n,...u},h=new Intl.DateTimeFormat(r,d).formatToParts(l).find(p=>p.type.toLowerCase()==="timezonename");return h?h.value:null}function Su(a,n){let r=parseInt(a,10);Number.isNaN(r)&&(r=0);const s=parseInt(n,10)||0,l=r<0||Object.is(r,-0)?-s:s;return r*60+l}function Q1(a){const n=Number(a);if(typeof a=="boolean"||a===""||!Number.isFinite(n))throw new nn(`Invalid unit value ${a}`);return n}function cu(a,n){const r={};for(const s in a)if(Xi(a,s)){const l=a[s];if(l==null)continue;r[n(s)]=Q1(l)}return r}function so(a,n){const r=Math.trunc(Math.abs(a/60)),s=Math.trunc(Math.abs(a%60)),l=a>=0?"+":"-";switch(n){case"short":return`${l}${Ut(r,2)}:${Ut(s,2)}`;case"narrow":return`${l}${r}${s>0?`:${s}`:""}`;case"techie":return`${l}${Ut(r,2)}${Ut(s,2)}`;default:throw new RangeError(`Value format ${n} is out of range for property format`)}}function xu(a){return PT(a,["hour","minute","second","millisecond"])}const eC=["January","February","March","April","May","June","July","August","September","October","November","December"],J1=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],tC=["J","F","M","A","M","J","J","A","S","O","N","D"];function P1(a){switch(a){case"narrow":return[...tC];case"short":return[...J1];case"long":return[...eC];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const W1=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],ew=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],nC=["M","T","W","T","F","S","S"];function tw(a){switch(a){case"narrow":return[...nC];case"short":return[...ew];case"long":return[...W1];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const nw=["AM","PM"],aC=["Before Christ","Anno Domini"],rC=["BC","AD"],iC=["B","A"];function aw(a){switch(a){case"narrow":return[...iC];case"short":return[...rC];case"long":return[...aC];default:return null}}function sC(a){return nw[a.hour<12?0:1]}function oC(a,n){return tw(n)[a.weekday-1]}function lC(a,n){return P1(n)[a.month-1]}function uC(a,n){return aw(n)[a.year<0?0:1]}function cC(a,n,r="always",s=!1){const l={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},u=["hours","minutes","seconds"].indexOf(a)===-1;if(r==="auto"&&u){const w=a==="days";switch(n){case 1:return w?"tomorrow":`next ${l[a][0]}`;case-1:return w?"yesterday":`last ${l[a][0]}`;case 0:return w?"today":`this ${l[a][0]}`}}const d=Object.is(n,-0)||n<0,h=Math.abs(n),p=h===1,m=l[a],v=s?p?m[1]:m[2]||m[1]:p?l[a][0]:a;return d?`${h} ${v} ago`:`in ${h} ${v}`}function S0(a,n){let r="";for(const s of a)s.literal?r+=s.val:r+=n(s.val);return r}const fC={D:ou,DD:b1,DDD:w1,DDDD:S1,t:x1,tt:E1,ttt:k1,tttt:O1,T:T1,TT:C1,TTT:N1,TTTT:_1,f:A1,ff:D1,fff:z1,ffff:L1,F:j1,FF:M1,FFF:R1,FFFF:B1};class an{static create(n,r={}){return new an(n,r)}static parseFormat(n){let r=null,s="",l=!1;const u=[];for(let d=0;d<n.length;d++){const h=n.charAt(d);h==="'"?((s.length>0||l)&&u.push({literal:l||/^\s+$/.test(s),val:s===""?"'":s}),r=null,s="",l=!l):l||h===r?s+=h:(s.length>0&&u.push({literal:/^\s+$/.test(s),val:s}),s=h,r=h)}return s.length>0&&u.push({literal:l||/^\s+$/.test(s),val:s}),u}static macroTokenToFormatOpts(n){return fC[n]}constructor(n,r){this.opts=r,this.loc=n,this.systemLoc=null}formatWithSystemDefault(n,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(n,{...this.opts,...r}).format()}dtFormatter(n,r={}){return this.loc.dtFormatter(n,{...this.opts,...r})}formatDateTime(n,r){return this.dtFormatter(n,r).format()}formatDateTimeParts(n,r){return this.dtFormatter(n,r).formatToParts()}formatInterval(n,r){return this.dtFormatter(n.start,r).dtf.formatRange(n.start.toJSDate(),n.end.toJSDate())}resolvedOptions(n,r){return this.dtFormatter(n,r).resolvedOptions()}num(n,r=0,s=void 0){if(this.opts.forceSimple)return Ut(n,r);const l={...this.opts};return r>0&&(l.padTo=r),s&&(l.signDisplay=s),this.loc.numberFormatter(l).format(n)}formatDateTimeFromString(n,r){const s=this.loc.listingMode()==="en",l=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",u=(k,M)=>this.loc.extract(n,k,M),d=k=>n.isOffsetFixed&&n.offset===0&&k.allowZ?"Z":n.isValid?n.zone.formatOffset(n.ts,k.format):"",h=()=>s?sC(n):u({hour:"numeric",hourCycle:"h12"},"dayperiod"),p=(k,M)=>s?lC(n,k):u(M?{month:k}:{month:k,day:"numeric"},"month"),m=(k,M)=>s?oC(n,k):u(M?{weekday:k}:{weekday:k,month:"long",day:"numeric"},"weekday"),v=k=>{const M=an.macroTokenToFormatOpts(k);return M?this.formatWithSystemDefault(n,M):k},w=k=>s?uC(n,k):u({era:k},"era"),S=k=>{switch(k){case"S":return this.num(n.millisecond);case"u":case"SSS":return this.num(n.millisecond,3);case"s":return this.num(n.second);case"ss":return this.num(n.second,2);case"uu":return this.num(Math.floor(n.millisecond/10),2);case"uuu":return this.num(Math.floor(n.millisecond/100));case"m":return this.num(n.minute);case"mm":return this.num(n.minute,2);case"h":return this.num(n.hour%12===0?12:n.hour%12);case"hh":return this.num(n.hour%12===0?12:n.hour%12,2);case"H":return this.num(n.hour);case"HH":return this.num(n.hour,2);case"Z":return d({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return d({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return d({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return n.zone.offsetName(n.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return n.zone.offsetName(n.ts,{format:"long",locale:this.loc.locale});case"z":return n.zoneName;case"a":return h();case"d":return l?u({day:"numeric"},"day"):this.num(n.day);case"dd":return l?u({day:"2-digit"},"day"):this.num(n.day,2);case"c":return this.num(n.weekday);case"ccc":return m("short",!0);case"cccc":return m("long",!0);case"ccccc":return m("narrow",!0);case"E":return this.num(n.weekday);case"EEE":return m("short",!1);case"EEEE":return m("long",!1);case"EEEEE":return m("narrow",!1);case"L":return l?u({month:"numeric",day:"numeric"},"month"):this.num(n.month);case"LL":return l?u({month:"2-digit",day:"numeric"},"month"):this.num(n.month,2);case"LLL":return p("short",!0);case"LLLL":return p("long",!0);case"LLLLL":return p("narrow",!0);case"M":return l?u({month:"numeric"},"month"):this.num(n.month);case"MM":return l?u({month:"2-digit"},"month"):this.num(n.month,2);case"MMM":return p("short",!1);case"MMMM":return p("long",!1);case"MMMMM":return p("narrow",!1);case"y":return l?u({year:"numeric"},"year"):this.num(n.year);case"yy":return l?u({year:"2-digit"},"year"):this.num(n.year.toString().slice(-2),2);case"yyyy":return l?u({year:"numeric"},"year"):this.num(n.year,4);case"yyyyyy":return l?u({year:"numeric"},"year"):this.num(n.year,6);case"G":return w("short");case"GG":return w("long");case"GGGGG":return w("narrow");case"kk":return this.num(n.weekYear.toString().slice(-2),2);case"kkkk":return this.num(n.weekYear,4);case"W":return this.num(n.weekNumber);case"WW":return this.num(n.weekNumber,2);case"n":return this.num(n.localWeekNumber);case"nn":return this.num(n.localWeekNumber,2);case"ii":return this.num(n.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(n.localWeekYear,4);case"o":return this.num(n.ordinal);case"ooo":return this.num(n.ordinal,3);case"q":return this.num(n.quarter);case"qq":return this.num(n.quarter,2);case"X":return this.num(Math.floor(n.ts/1e3));case"x":return this.num(n.ts);default:return v(k)}};return S0(an.parseFormat(r),S)}formatDurationFromString(n,r){const s=this.opts.signMode==="negativeLargestOnly"?-1:1,l=v=>{switch(v[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"w":return"weeks";case"M":return"months";case"y":return"years";default:return null}},u=(v,w)=>S=>{const k=l(S);if(k){const M=w.isNegativeDuration&&k!==w.largestUnit?s:1;let P;return this.opts.signMode==="negativeLargestOnly"&&k!==w.largestUnit?P="never":this.opts.signMode==="all"?P="always":P="auto",this.num(v.get(k)*M,S.length,P)}else return S},d=an.parseFormat(r),h=d.reduce((v,{literal:w,val:S})=>w?v:v.concat(S),[]),p=n.shiftTo(...h.map(l).filter(v=>v)),m={isNegativeDuration:p<0,largestUnit:Object.keys(p.values)[0]};return S0(d,u(p,m))}}const rw=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Wi(...a){const n=a.reduce((r,s)=>r+s.source,"");return RegExp(`^${n}$`)}function es(...a){return n=>a.reduce(([r,s,l],u)=>{const[d,h,p]=u(n,l);return[{...r,...d},h||s,p]},[{},null,1]).slice(0,2)}function ts(a,...n){if(a==null)return[null,null];for(const[r,s]of n){const l=r.exec(a);if(l)return s(l)}return[null,null]}function iw(...a){return(n,r)=>{const s={};let l;for(l=0;l<a.length;l++)s[a[l]]=fr(n[r+l]);return[s,null,r+l]}}const sw=/(?:([Zz])|([+-]\d\d)(?::?(\d\d))?)/,dC=`(?:${sw.source}?(?:\\[(${rw.source})\\])?)?`,Ah=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,ow=RegExp(`${Ah.source}${dC}`),jh=RegExp(`(?:[Tt]${ow.source})?`),hC=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,pC=/(\d{4})-?W(\d\d)(?:-?(\d))?/,mC=/(\d{4})-?(\d{3})/,yC=iw("weekYear","weekNumber","weekDay"),gC=iw("year","ordinal"),vC=/(\d{4})-(\d\d)-(\d\d)/,lw=RegExp(`${Ah.source} ?(?:${sw.source}|(${rw.source}))?`),bC=RegExp(`(?: ${lw.source})?`);function $i(a,n,r){const s=a[n];return Ae(s)?r:fr(s)}function wC(a,n){return[{year:$i(a,n),month:$i(a,n+1,1),day:$i(a,n+2,1)},null,n+3]}function ns(a,n){return[{hours:$i(a,n,0),minutes:$i(a,n+1,0),seconds:$i(a,n+2,0),milliseconds:Nh(a[n+3])},null,n+4]}function yo(a,n){const r=!a[n]&&!a[n+1],s=Su(a[n+1],a[n+2]),l=r?null:rn.instance(s);return[{},l,n+3]}function go(a,n){const r=a[n]?pa.create(a[n]):null;return[{},r,n+1]}const SC=RegExp(`^T?${Ah.source}$`),xC=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function EC(a){const[n,r,s,l,u,d,h,p,m]=a,v=n[0]==="-",w=p&&p[0]==="-",S=(k,M=!1)=>k!==void 0&&(M||k&&v)?-k:k;return[{years:S(Lr(r)),months:S(Lr(s)),weeks:S(Lr(l)),days:S(Lr(u)),hours:S(Lr(d)),minutes:S(Lr(h)),seconds:S(Lr(p),p==="-0"),milliseconds:S(Nh(m),w)}]}const kC={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Dh(a,n,r,s,l,u,d){const h={year:n.length===2?Pd(fr(n)):fr(n),month:J1.indexOf(r)+1,day:fr(s),hour:fr(l),minute:fr(u)};return d&&(h.second=fr(d)),a&&(h.weekday=a.length>3?W1.indexOf(a)+1:ew.indexOf(a)+1),h}const OC=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function TC(a){const[,n,r,s,l,u,d,h,p,m,v,w]=a,S=Dh(n,l,s,r,u,d,h);let k;return p?k=kC[p]:m?k=0:k=Su(v,w),[S,new rn(k)]}function CC(a){return a.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const NC=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,_C=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,AC=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function x0(a){const[,n,r,s,l,u,d,h]=a;return[Dh(n,l,s,r,u,d,h),rn.utcInstance]}function jC(a){const[,n,r,s,l,u,d,h]=a;return[Dh(n,h,r,s,l,u,d),rn.utcInstance]}const DC=Wi(hC,jh),MC=Wi(pC,jh),zC=Wi(mC,jh),RC=Wi(ow),uw=es(wC,ns,yo,go),LC=es(yC,ns,yo,go),BC=es(gC,ns,yo,go),UC=es(ns,yo,go);function HC(a){return ts(a,[DC,uw],[MC,LC],[zC,BC],[RC,UC])}function $C(a){return ts(CC(a),[OC,TC])}function VC(a){return ts(a,[NC,x0],[_C,x0],[AC,jC])}function qC(a){return ts(a,[xC,EC])}const YC=es(ns);function IC(a){return ts(a,[SC,YC])}const GC=Wi(vC,bC),ZC=Wi(lw),XC=es(ns,yo,go);function FC(a){return ts(a,[GC,uw],[ZC,XC])}const E0="Invalid Duration",cw={weeks:{days:7,hours:168,minutes:10080,seconds:10080*60,milliseconds:10080*60*1e3},days:{hours:24,minutes:1440,seconds:1440*60,milliseconds:1440*60*1e3},hours:{minutes:60,seconds:3600,milliseconds:3600*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},KC={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:2184*60,seconds:2184*60*60,milliseconds:2184*60*60*1e3},months:{weeks:4,days:30,hours:720,minutes:720*60,seconds:720*60*60,milliseconds:720*60*60*1e3},...cw},In=146097/400,Mi=146097/4800,QC={years:{quarters:4,months:12,weeks:In/7,days:In,hours:In*24,minutes:In*24*60,seconds:In*24*60*60,milliseconds:In*24*60*60*1e3},quarters:{months:3,weeks:In/28,days:In/4,hours:In*24/4,minutes:In*24*60/4,seconds:In*24*60*60/4,milliseconds:In*24*60*60*1e3/4},months:{weeks:Mi/7,days:Mi,hours:Mi*24,minutes:Mi*24*60,seconds:Mi*24*60*60,milliseconds:Mi*24*60*60*1e3},...cw},Vr=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],JC=Vr.slice(0).reverse();function Ra(a,n,r=!1){const s={values:r?n.values:{...a.values,...n.values||{}},loc:a.loc.clone(n.loc),conversionAccuracy:n.conversionAccuracy||a.conversionAccuracy,matrix:n.matrix||a.matrix};return new We(s)}function fw(a,n){let r=n.milliseconds??0;for(const s of JC.slice(1))n[s]&&(r+=n[s]*a[s].milliseconds);return r}function k0(a,n){const r=fw(a,n)<0?-1:1;Vr.reduceRight((s,l)=>{if(Ae(n[l]))return s;if(s){const u=n[s]*r,d=a[l][s],h=Math.floor(u/d);n[l]+=h*r,n[s]-=h*d*r}return l},null),Vr.reduce((s,l)=>{if(Ae(n[l]))return s;if(s){const u=n[s]%1;n[s]-=u,n[l]+=u*a[s][l]}return l},null)}function O0(a){const n={};for(const[r,s]of Object.entries(a))s!==0&&(n[r]=s);return n}class We{constructor(n){const r=n.conversionAccuracy==="longterm"||!1;let s=r?QC:KC;n.matrix&&(s=n.matrix),this.values=n.values,this.loc=n.loc||lt.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=n.invalid||null,this.matrix=s,this.isLuxonDuration=!0}static fromMillis(n,r){return We.fromObject({milliseconds:n},r)}static fromObject(n,r={}){if(n==null||typeof n!="object")throw new nn(`Duration.fromObject: argument expected to be an object, got ${n===null?"null":typeof n}`);return new We({values:cu(n,We.normalizeUnit),loc:lt.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(n){if(pr(n))return We.fromMillis(n);if(We.isDuration(n))return n;if(typeof n=="object")return We.fromObject(n);throw new nn(`Unknown duration argument ${n} of type ${typeof n}`)}static fromISO(n,r){const[s]=qC(n);return s?We.fromObject(s,r):We.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static fromISOTime(n,r){const[s]=IC(n);return s?We.fromObject(s,r):We.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static invalid(n,r=null){if(!n)throw new nn("need to specify a reason the Duration is invalid");const s=n instanceof ta?n:new ta(n,r);if(Tt.throwOnInvalid)throw new kT(s);return new We({invalid:s})}static normalizeUnit(n){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[n&&n.toLowerCase()];if(!r)throw new v1(n);return r}static isDuration(n){return n&&n.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(n,r={}){const s={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?an.create(this.loc,s).formatDurationFromString(this,n):E0}toHuman(n={}){if(!this.isValid)return E0;const r=n.showZeros!==!1,s=Vr.map(l=>{const u=this.values[l];return Ae(u)||u===0&&!r?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...n,unit:l.slice(0,-1)}).format(u)}).filter(l=>l);return this.loc.listFormatter({type:"conjunction",style:n.listStyle||"narrow",...n}).format(s)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let n="P";return this.years!==0&&(n+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(n+=this.months+this.quarters*3+"M"),this.weeks!==0&&(n+=this.weeks+"W"),this.days!==0&&(n+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(n+="T"),this.hours!==0&&(n+=this.hours+"H"),this.minutes!==0&&(n+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(n+=_h(this.seconds+this.milliseconds/1e3,3)+"S"),n==="P"&&(n+="T0S"),n}toISOTime(n={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(n={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...n,includeOffset:!1},Me.fromMillis(r,{zone:"UTC"}).toISOTime(n))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?fw(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(n){if(!this.isValid)return this;const r=We.fromDurationLike(n),s={};for(const l of Vr)(Xi(r.values,l)||Xi(this.values,l))&&(s[l]=r.get(l)+this.get(l));return Ra(this,{values:s},!0)}minus(n){if(!this.isValid)return this;const r=We.fromDurationLike(n);return this.plus(r.negate())}mapUnits(n){if(!this.isValid)return this;const r={};for(const s of Object.keys(this.values))r[s]=Q1(n(this.values[s],s));return Ra(this,{values:r},!0)}get(n){return this[We.normalizeUnit(n)]}set(n){if(!this.isValid)return this;const r={...this.values,...cu(n,We.normalizeUnit)};return Ra(this,{values:r})}reconfigure({locale:n,numberingSystem:r,conversionAccuracy:s,matrix:l}={}){const d={loc:this.loc.clone({locale:n,numberingSystem:r}),matrix:l,conversionAccuracy:s};return Ra(this,d)}as(n){return this.isValid?this.shiftTo(n).get(n):NaN}normalize(){if(!this.isValid)return this;const n=this.toObject();return k0(this.matrix,n),Ra(this,{values:n},!0)}rescale(){if(!this.isValid)return this;const n=O0(this.normalize().shiftToAll().toObject());return Ra(this,{values:n},!0)}shiftTo(...n){if(!this.isValid)return this;if(n.length===0)return this;n=n.map(d=>We.normalizeUnit(d));const r={},s={},l=this.toObject();let u;for(const d of Vr)if(n.indexOf(d)>=0){u=d;let h=0;for(const m in s)h+=this.matrix[m][d]*s[m],s[m]=0;pr(l[d])&&(h+=l[d]);const p=Math.trunc(h);r[d]=p,s[d]=(h*1e3-p*1e3)/1e3}else pr(l[d])&&(s[d]=l[d]);for(const d in s)s[d]!==0&&(r[u]+=d===u?s[d]:s[d]/this.matrix[u][d]);return k0(this.matrix,r),Ra(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=this.values[r]===0?0:-this.values[r];return Ra(this,{values:n},!0)}removeZeros(){if(!this.isValid)return this;const n=O0(this.values);return Ra(this,{values:n},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(n){if(!this.isValid||!n.isValid||!this.loc.equals(n.loc))return!1;function r(s,l){return s===void 0||s===0?l===void 0||l===0:s===l}for(const s of Vr)if(!r(this.values[s],n.values[s]))return!1;return!0}}const zi="Invalid Interval";function PC(a,n){return!a||!a.isValid?Ot.invalid("missing or invalid start"):!n||!n.isValid?Ot.invalid("missing or invalid end"):n<a?Ot.invalid("end before start",`The end of an interval must be after its start, but you had start=${a.toISO()} and end=${n.toISO()}`):null}class Ot{constructor(n){this.s=n.start,this.e=n.end,this.invalid=n.invalid||null,this.isLuxonInterval=!0}static invalid(n,r=null){if(!n)throw new nn("need to specify a reason the Interval is invalid");const s=n instanceof ta?n:new ta(n,r);if(Tt.throwOnInvalid)throw new ET(s);return new Ot({invalid:s})}static fromDateTimes(n,r){const s=Js(n),l=Js(r),u=PC(s,l);return u??new Ot({start:s,end:l})}static after(n,r){const s=We.fromDurationLike(r),l=Js(n);return Ot.fromDateTimes(l,l.plus(s))}static before(n,r){const s=We.fromDurationLike(r),l=Js(n);return Ot.fromDateTimes(l.minus(s),l)}static fromISO(n,r){const[s,l]=(n||"").split("/",2);if(s&&l){let u,d;try{u=Me.fromISO(s,r),d=u.isValid}catch{d=!1}let h,p;try{h=Me.fromISO(l,r),p=h.isValid}catch{p=!1}if(d&&p)return Ot.fromDateTimes(u,h);if(d){const m=We.fromISO(l,r);if(m.isValid)return Ot.after(u,m)}else if(p){const m=We.fromISO(s,r);if(m.isValid)return Ot.before(h,m)}}return Ot.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static isInterval(n){return n&&n.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(n="milliseconds"){return this.isValid?this.toDuration(n).get(n):NaN}count(n="milliseconds",r){if(!this.isValid)return NaN;const s=this.start.startOf(n,r);let l;return r?.useLocaleWeeks?l=this.end.reconfigure({locale:s.locale}):l=this.end,l=l.startOf(n,r),Math.floor(l.diff(s,n).get(n))+(l.valueOf()!==this.end.valueOf())}hasSame(n){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,n):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(n){return this.isValid?this.s>n:!1}isBefore(n){return this.isValid?this.e<=n:!1}contains(n){return this.isValid?this.s<=n&&this.e>n:!1}set({start:n,end:r}={}){return this.isValid?Ot.fromDateTimes(n||this.s,r||this.e):this}splitAt(...n){if(!this.isValid)return[];const r=n.map(Js).filter(d=>this.contains(d)).sort((d,h)=>d.toMillis()-h.toMillis()),s=[];let{s:l}=this,u=0;for(;l<this.e;){const d=r[u]||this.e,h=+d>+this.e?this.e:d;s.push(Ot.fromDateTimes(l,h)),l=h,u+=1}return s}splitBy(n){const r=We.fromDurationLike(n);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s}=this,l=1,u;const d=[];for(;s<this.e;){const h=this.start.plus(r.mapUnits(p=>p*l));u=+h>+this.e?this.e:h,d.push(Ot.fromDateTimes(s,u)),s=u,l+=1}return d}divideEqually(n){return this.isValid?this.splitBy(this.length()/n).slice(0,n):[]}overlaps(n){return this.e>n.s&&this.s<n.e}abutsStart(n){return this.isValid?+this.e==+n.s:!1}abutsEnd(n){return this.isValid?+n.e==+this.s:!1}engulfs(n){return this.isValid?this.s<=n.s&&this.e>=n.e:!1}equals(n){return!this.isValid||!n.isValid?!1:this.s.equals(n.s)&&this.e.equals(n.e)}intersection(n){if(!this.isValid)return this;const r=this.s>n.s?this.s:n.s,s=this.e<n.e?this.e:n.e;return r>=s?null:Ot.fromDateTimes(r,s)}union(n){if(!this.isValid)return this;const r=this.s<n.s?this.s:n.s,s=this.e>n.e?this.e:n.e;return Ot.fromDateTimes(r,s)}static merge(n){const[r,s]=n.sort((l,u)=>l.s-u.s).reduce(([l,u],d)=>u?u.overlaps(d)||u.abutsStart(d)?[l,u.union(d)]:[l.concat([u]),d]:[l,d],[[],null]);return s&&r.push(s),r}static xor(n){let r=null,s=0;const l=[],u=n.map(p=>[{time:p.s,type:"s"},{time:p.e,type:"e"}]),d=Array.prototype.concat(...u),h=d.sort((p,m)=>p.time-m.time);for(const p of h)s+=p.type==="s"?1:-1,s===1?r=p.time:(r&&+r!=+p.time&&l.push(Ot.fromDateTimes(r,p.time)),r=null);return Ot.merge(l)}difference(...n){return Ot.xor([this].concat(n)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:zi}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(n=ou,r={}){return this.isValid?an.create(this.s.loc.clone(r),n).formatInterval(this):zi}toISO(n){return this.isValid?`${this.s.toISO(n)}/${this.e.toISO(n)}`:zi}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:zi}toISOTime(n){return this.isValid?`${this.s.toISOTime(n)}/${this.e.toISOTime(n)}`:zi}toFormat(n,{separator:r="  "}={}){return this.isValid?`${this.s.toFormat(n)}${r}${this.e.toFormat(n)}`:zi}toDuration(n,r){return this.isValid?this.e.diff(this.s,n,r):We.invalid(this.invalidReason)}mapEndpoints(n){return Ot.fromDateTimes(n(this.s),n(this.e))}}class to{static hasDST(n=Tt.defaultZone){const r=Me.now().setZone(n).set({month:12});return!n.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(n){return pa.isValidZone(n)}static normalizeZone(n){return dr(n,Tt.defaultZone)}static getStartOfWeek({locale:n=null,locObj:r=null}={}){return(r||lt.create(n)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:n=null,locObj:r=null}={}){return(r||lt.create(n)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:n=null,locObj:r=null}={}){return(r||lt.create(n)).getWeekendDays().slice()}static months(n="long",{locale:r=null,numberingSystem:s=null,locObj:l=null,outputCalendar:u="gregory"}={}){return(l||lt.create(r,s,u)).months(n)}static monthsFormat(n="long",{locale:r=null,numberingSystem:s=null,locObj:l=null,outputCalendar:u="gregory"}={}){return(l||lt.create(r,s,u)).months(n,!0)}static weekdays(n="long",{locale:r=null,numberingSystem:s=null,locObj:l=null}={}){return(l||lt.create(r,s,null)).weekdays(n)}static weekdaysFormat(n="long",{locale:r=null,numberingSystem:s=null,locObj:l=null}={}){return(l||lt.create(r,s,null)).weekdays(n,!0)}static meridiems({locale:n=null}={}){return lt.create(n).meridiems()}static eras(n="short",{locale:r=null}={}){return lt.create(r,null,"gregory").eras(n)}static features(){return{relative:X1(),localeWeek:F1()}}}function T0(a,n){const r=l=>l.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),s=r(n)-r(a);return Math.floor(We.fromMillis(s).as("days"))}function WC(a,n,r){const s=[["years",(p,m)=>m.year-p.year],["quarters",(p,m)=>m.quarter-p.quarter+(m.year-p.year)*4],["months",(p,m)=>m.month-p.month+(m.year-p.year)*12],["weeks",(p,m)=>{const v=T0(p,m);return(v-v%7)/7}],["days",T0]],l={},u=a;let d,h;for(const[p,m]of s)r.indexOf(p)>=0&&(d=p,l[p]=m(a,n),h=u.plus(l),h>n?(l[p]--,a=u.plus(l),a>n&&(h=a,l[p]--,a=u.plus(l))):a=h);return[a,l,h,d]}function eN(a,n,r,s){let[l,u,d,h]=WC(a,n,r);const p=n-l,m=r.filter(w=>["hours","minutes","seconds","milliseconds"].indexOf(w)>=0);m.length===0&&(d<n&&(d=l.plus({[h]:1})),d!==l&&(u[h]=(u[h]||0)+p/(d-l)));const v=We.fromObject(u,s);return m.length>0?We.fromMillis(p,s).shiftTo(...m).plus(v):v}const tN="missing Intl.DateTimeFormat.formatToParts support";function rt(a,n=r=>r){return{regex:a,deser:([r])=>n(GT(r))}}const nN="",dw=`[ ${nN}]`,hw=new RegExp(dw,"g");function aN(a){return a.replace(/\./g,"\\.?").replace(hw,dw)}function C0(a){return a.replace(/\./g,"").replace(hw," ").toLowerCase()}function Wn(a,n){return a===null?null:{regex:RegExp(a.map(aN).join("|")),deser:([r])=>a.findIndex(s=>C0(r)===C0(s))+n}}function N0(a,n){return{regex:a,deser:([,r,s])=>Su(r,s),groups:n}}function ql(a){return{regex:a,deser:([n])=>n}}function rN(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function iN(a,n){const r=Pn(n),s=Pn(n,"{2}"),l=Pn(n,"{3}"),u=Pn(n,"{4}"),d=Pn(n,"{6}"),h=Pn(n,"{1,2}"),p=Pn(n,"{1,3}"),m=Pn(n,"{1,6}"),v=Pn(n,"{1,9}"),w=Pn(n,"{2,4}"),S=Pn(n,"{4,6}"),k=Y=>({regex:RegExp(rN(Y.val)),deser:([K])=>K,literal:!0}),P=(Y=>{if(a.literal)return k(Y);switch(Y.val){case"G":return Wn(n.eras("short"),0);case"GG":return Wn(n.eras("long"),0);case"y":return rt(m);case"yy":return rt(w,Pd);case"yyyy":return rt(u);case"yyyyy":return rt(S);case"yyyyyy":return rt(d);case"M":return rt(h);case"MM":return rt(s);case"MMM":return Wn(n.months("short",!0),1);case"MMMM":return Wn(n.months("long",!0),1);case"L":return rt(h);case"LL":return rt(s);case"LLL":return Wn(n.months("short",!1),1);case"LLLL":return Wn(n.months("long",!1),1);case"d":return rt(h);case"dd":return rt(s);case"o":return rt(p);case"ooo":return rt(l);case"HH":return rt(s);case"H":return rt(h);case"hh":return rt(s);case"h":return rt(h);case"mm":return rt(s);case"m":return rt(h);case"q":return rt(h);case"qq":return rt(s);case"s":return rt(h);case"ss":return rt(s);case"S":return rt(p);case"SSS":return rt(l);case"u":return ql(v);case"uu":return ql(h);case"uuu":return rt(r);case"a":return Wn(n.meridiems(),0);case"kkkk":return rt(u);case"kk":return rt(w,Pd);case"W":return rt(h);case"WW":return rt(s);case"E":case"c":return rt(r);case"EEE":return Wn(n.weekdays("short",!1),1);case"EEEE":return Wn(n.weekdays("long",!1),1);case"ccc":return Wn(n.weekdays("short",!0),1);case"cccc":return Wn(n.weekdays("long",!0),1);case"Z":case"ZZ":return N0(new RegExp(`([+-]${h.source})(?::(${s.source}))?`),2);case"ZZZ":return N0(new RegExp(`([+-]${h.source})(${s.source})?`),2);case"z":return ql(/[a-z_+-/]{1,256}?/i);case" ":return ql(/[^\S\n\r]/);default:return k(Y)}})(a)||{invalidReason:tN};return P.token=a,P}const sN={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function oN(a,n,r){const{type:s,value:l}=a;if(s==="literal"){const p=/^\s+$/.test(l);return{literal:!p,val:p?" ":l}}const u=n[s];let d=s;s==="hour"&&(n.hour12!=null?d=n.hour12?"hour12":"hour24":n.hourCycle!=null?n.hourCycle==="h11"||n.hourCycle==="h12"?d="hour12":d="hour24":d=r.hour12?"hour12":"hour24");let h=sN[d];if(typeof h=="object"&&(h=h[u]),h)return{literal:!1,val:h}}function lN(a){return[`^${a.map(r=>r.regex).reduce((r,s)=>`${r}(${s.source})`,"")}$`,a]}function uN(a,n,r){const s=a.match(n);if(s){const l={};let u=1;for(const d in r)if(Xi(r,d)){const h=r[d],p=h.groups?h.groups+1:1;!h.literal&&h.token&&(l[h.token.val[0]]=h.deser(s.slice(u,u+p))),u+=p}return[s,l]}else return[s,{}]}function cN(a){const n=u=>{switch(u){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,s;return Ae(a.z)||(r=pa.create(a.z)),Ae(a.Z)||(r||(r=new rn(a.Z)),s=a.Z),Ae(a.q)||(a.M=(a.q-1)*3+1),Ae(a.h)||(a.h<12&&a.a===1?a.h+=12:a.h===12&&a.a===0&&(a.h=0)),a.G===0&&a.y&&(a.y=-a.y),Ae(a.u)||(a.S=Nh(a.u)),[Object.keys(a).reduce((u,d)=>{const h=n(d);return h&&(u[h]=a[d]),u},{}),r,s]}let hd=null;function fN(){return hd||(hd=Me.fromMillis(1555555555555)),hd}function dN(a,n){if(a.literal)return a;const r=an.macroTokenToFormatOpts(a.val),s=gw(r,n);return s==null||s.includes(void 0)?a:s}function pw(a,n){return Array.prototype.concat(...a.map(r=>dN(r,n)))}class mw{constructor(n,r){if(this.locale=n,this.format=r,this.tokens=pw(an.parseFormat(r),n),this.units=this.tokens.map(s=>iN(s,n)),this.disqualifyingUnit=this.units.find(s=>s.invalidReason),!this.disqualifyingUnit){const[s,l]=lN(this.units);this.regex=RegExp(s,"i"),this.handlers=l}}explainFromTokens(n){if(this.isValid){const[r,s]=uN(n,this.regex,this.handlers),[l,u,d]=s?cN(s):[null,null,void 0];if(Xi(s,"a")&&Xi(s,"H"))throw new Ui("Can't include meridiem when specifying 24-hour format");return{input:n,tokens:this.tokens,regex:this.regex,rawMatches:r,matches:s,result:l,zone:u,specificOffset:d}}else return{input:n,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function yw(a,n,r){return new mw(a,r).explainFromTokens(n)}function hN(a,n,r){const{result:s,zone:l,specificOffset:u,invalidReason:d}=yw(a,n,r);return[s,l,u,d]}function gw(a,n){if(!a)return null;const s=an.create(n,a).dtFormatter(fN()),l=s.formatToParts(),u=s.resolvedOptions();return l.map(d=>oN(d,a,u))}const pd="Invalid DateTime",_0=864e13;function no(a){return new ta("unsupported zone",`the zone "${a.name}" is not supported`)}function md(a){return a.weekData===null&&(a.weekData=lu(a.c)),a.weekData}function yd(a){return a.localWeekData===null&&(a.localWeekData=lu(a.c,a.loc.getMinDaysInFirstWeek(),a.loc.getStartOfWeek())),a.localWeekData}function Br(a,n){const r={ts:a.ts,zone:a.zone,c:a.c,o:a.o,loc:a.loc,invalid:a.invalid};return new Me({...r,...n,old:r})}function vw(a,n,r){let s=a-n*60*1e3;const l=r.offset(s);if(n===l)return[s,n];s-=(l-n)*60*1e3;const u=r.offset(s);return l===u?[s,l]:[a-Math.min(l,u)*60*1e3,Math.max(l,u)]}function Yl(a,n){a+=n*60*1e3;const r=new Date(a);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function eu(a,n,r){return vw(wu(a),n,r)}function A0(a,n){const r=a.o,s=a.c.year+Math.trunc(n.years),l=a.c.month+Math.trunc(n.months)+Math.trunc(n.quarters)*3,u={...a.c,year:s,month:l,day:Math.min(a.c.day,uu(s,l))+Math.trunc(n.days)+Math.trunc(n.weeks)*7},d=We.fromObject({years:n.years-Math.trunc(n.years),quarters:n.quarters-Math.trunc(n.quarters),months:n.months-Math.trunc(n.months),weeks:n.weeks-Math.trunc(n.weeks),days:n.days-Math.trunc(n.days),hours:n.hours,minutes:n.minutes,seconds:n.seconds,milliseconds:n.milliseconds}).as("milliseconds"),h=wu(u);let[p,m]=vw(h,r,a.zone);return d!==0&&(p+=d,m=a.zone.offset(p)),{ts:p,o:m}}function Ri(a,n,r,s,l,u){const{setZone:d,zone:h}=r;if(a&&Object.keys(a).length!==0||n){const p=n||h,m=Me.fromObject(a,{...r,zone:p,specificOffset:u});return d?m:m.setZone(h)}else return Me.invalid(new ta("unparsable",`the input "${l}" can't be parsed as ${s}`))}function Il(a,n,r=!0){return a.isValid?an.create(lt.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(a,n):null}function gd(a,n,r){const s=a.c.year>9999||a.c.year<0;let l="";if(s&&a.c.year>=0&&(l+="+"),l+=Ut(a.c.year,s?6:4),r==="year")return l;if(n){if(l+="-",l+=Ut(a.c.month),r==="month")return l;l+="-"}else if(l+=Ut(a.c.month),r==="month")return l;return l+=Ut(a.c.day),l}function j0(a,n,r,s,l,u,d){let h=!r||a.c.millisecond!==0||a.c.second!==0,p="";switch(d){case"day":case"month":case"year":break;default:if(p+=Ut(a.c.hour),d==="hour")break;if(n){if(p+=":",p+=Ut(a.c.minute),d==="minute")break;h&&(p+=":",p+=Ut(a.c.second))}else{if(p+=Ut(a.c.minute),d==="minute")break;h&&(p+=Ut(a.c.second))}if(d==="second")break;h&&(!s||a.c.millisecond!==0)&&(p+=".",p+=Ut(a.c.millisecond,3))}return l&&(a.isOffsetFixed&&a.offset===0&&!u?p+="Z":a.o<0?(p+="-",p+=Ut(Math.trunc(-a.o/60)),p+=":",p+=Ut(Math.trunc(-a.o%60))):(p+="+",p+=Ut(Math.trunc(a.o/60)),p+=":",p+=Ut(Math.trunc(a.o%60)))),u&&(p+="["+a.zone.ianaName+"]"),p}const bw={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},pN={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},mN={ordinal:1,hour:0,minute:0,second:0,millisecond:0},tu=["year","month","day","hour","minute","second","millisecond"],yN=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],gN=["year","ordinal","hour","minute","second","millisecond"];function nu(a){const n={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[a.toLowerCase()];if(!n)throw new v1(a);return n}function D0(a){switch(a.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return nu(a)}}function vN(a){if(ao===void 0&&(ao=Tt.now()),a.type!=="iana")return a.offset(ao);const n=a.name;let r=Wd.get(n);return r===void 0&&(r=a.offset(ao),Wd.set(n,r)),r}function M0(a,n){const r=dr(n.zone,Tt.defaultZone);if(!r.isValid)return Me.invalid(no(r));const s=lt.fromObject(n);let l,u;if(Ae(a.year))l=Tt.now();else{for(const p of tu)Ae(a[p])&&(a[p]=bw[p]);const d=G1(a)||Z1(a);if(d)return Me.invalid(d);const h=vN(r);[l,u]=eu(a,h,r)}return new Me({ts:l,zone:r,loc:s,o:u})}function z0(a,n,r){const s=Ae(r.round)?!0:r.round,l=Ae(r.rounding)?"trunc":r.rounding,u=(h,p)=>(h=_h(h,s||r.calendary?0:2,r.calendary?"round":l),n.loc.clone(r).relFormatter(r).format(h,p)),d=h=>r.calendary?n.hasSame(a,h)?0:n.startOf(h).diff(a.startOf(h),h).get(h):n.diff(a,h).get(h);if(r.unit)return u(d(r.unit),r.unit);for(const h of r.units){const p=d(h);if(Math.abs(p)>=1)return u(p,h)}return u(a>n?-0:0,r.units[r.units.length-1])}function R0(a){let n={},r;return a.length>0&&typeof a[a.length-1]=="object"?(n=a[a.length-1],r=Array.from(a).slice(0,a.length-1)):r=Array.from(a),[n,r]}let ao;const Wd=new Map;class Me{constructor(n){const r=n.zone||Tt.defaultZone;let s=n.invalid||(Number.isNaN(n.ts)?new ta("invalid input"):null)||(r.isValid?null:no(r));this.ts=Ae(n.ts)?Tt.now():n.ts;let l=null,u=null;if(!s)if(n.old&&n.old.ts===this.ts&&n.old.zone.equals(r))[l,u]=[n.old.c,n.old.o];else{const h=pr(n.o)&&!n.old?n.o:r.offset(this.ts);l=Yl(this.ts,h),s=Number.isNaN(l.year)?new ta("invalid input"):null,l=s?null:l,u=s?null:h}this._zone=r,this.loc=n.loc||lt.create(),this.invalid=s,this.weekData=null,this.localWeekData=null,this.c=l,this.o=u,this.isLuxonDateTime=!0}static now(){return new Me({})}static local(){const[n,r]=R0(arguments),[s,l,u,d,h,p,m]=r;return M0({year:s,month:l,day:u,hour:d,minute:h,second:p,millisecond:m},n)}static utc(){const[n,r]=R0(arguments),[s,l,u,d,h,p,m]=r;return n.zone=rn.utcInstance,M0({year:s,month:l,day:u,hour:d,minute:h,second:p,millisecond:m},n)}static fromJSDate(n,r={}){const s=QT(n)?n.valueOf():NaN;if(Number.isNaN(s))return Me.invalid("invalid input");const l=dr(r.zone,Tt.defaultZone);return l.isValid?new Me({ts:s,zone:l,loc:lt.fromObject(r)}):Me.invalid(no(l))}static fromMillis(n,r={}){if(pr(n))return n<-_0||n>_0?Me.invalid("Timestamp out of range"):new Me({ts:n,zone:dr(r.zone,Tt.defaultZone),loc:lt.fromObject(r)});throw new nn(`fromMillis requires a numerical input, but received a ${typeof n} with value ${n}`)}static fromSeconds(n,r={}){if(pr(n))return new Me({ts:n*1e3,zone:dr(r.zone,Tt.defaultZone),loc:lt.fromObject(r)});throw new nn("fromSeconds requires a numerical input")}static fromObject(n,r={}){n=n||{};const s=dr(r.zone,Tt.defaultZone);if(!s.isValid)return Me.invalid(no(s));const l=lt.fromObject(r),u=cu(n,D0),{minDaysInFirstWeek:d,startOfWeek:h}=v0(u,l),p=Tt.now(),m=Ae(r.specificOffset)?s.offset(p):r.specificOffset,v=!Ae(u.ordinal),w=!Ae(u.year),S=!Ae(u.month)||!Ae(u.day),k=w||S,M=u.weekYear||u.weekNumber;if((k||v)&&M)throw new Ui("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(S&&v)throw new Ui("Can't mix ordinal dates with month/day");const P=M||u.weekday&&!k;let Y,K,q=Yl(p,m);P?(Y=yN,K=pN,q=lu(q,d,h)):v?(Y=gN,K=mN,q=dd(q)):(Y=tu,K=bw);let U=!1;for(const ae of Y){const Ee=u[ae];Ae(Ee)?U?u[ae]=K[ae]:u[ae]=q[ae]:U=!0}const G=P?XT(u,d,h):v?FT(u):G1(u),re=G||Z1(u);if(re)return Me.invalid(re);const oe=P?y0(u,d,h):v?g0(u):u,[ee,he]=eu(oe,m,s),I=new Me({ts:ee,zone:s,o:he,loc:l});return u.weekday&&k&&n.weekday!==I.weekday?Me.invalid("mismatched weekday",`you can't specify both a weekday of ${u.weekday} and a date of ${I.toISO()}`):I.isValid?I:Me.invalid(I.invalid)}static fromISO(n,r={}){const[s,l]=HC(n);return Ri(s,l,r,"ISO 8601",n)}static fromRFC2822(n,r={}){const[s,l]=$C(n);return Ri(s,l,r,"RFC 2822",n)}static fromHTTP(n,r={}){const[s,l]=VC(n);return Ri(s,l,r,"HTTP",r)}static fromFormat(n,r,s={}){if(Ae(n)||Ae(r))throw new nn("fromFormat requires an input string and a format");const{locale:l=null,numberingSystem:u=null}=s,d=lt.fromOpts({locale:l,numberingSystem:u,defaultToEN:!0}),[h,p,m,v]=hN(d,n,r);return v?Me.invalid(v):Ri(h,p,s,`format ${r}`,n,m)}static fromString(n,r,s={}){return Me.fromFormat(n,r,s)}static fromSQL(n,r={}){const[s,l]=FC(n);return Ri(s,l,r,"SQL",n)}static invalid(n,r=null){if(!n)throw new nn("need to specify a reason the DateTime is invalid");const s=n instanceof ta?n:new ta(n,r);if(Tt.throwOnInvalid)throw new xT(s);return new Me({invalid:s})}static isDateTime(n){return n&&n.isLuxonDateTime||!1}static parseFormatForOpts(n,r={}){const s=gw(n,lt.fromObject(r));return s?s.map(l=>l?l.val:null).join(""):null}static expandFormat(n,r={}){return pw(an.parseFormat(n),lt.fromObject(r)).map(l=>l.val).join("")}static resetCache(){ao=void 0,Wd.clear()}get(n){return this[n]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?md(this).weekYear:NaN}get weekNumber(){return this.isValid?md(this).weekNumber:NaN}get weekday(){return this.isValid?md(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?yd(this).weekday:NaN}get localWeekNumber(){return this.isValid?yd(this).weekNumber:NaN}get localWeekYear(){return this.isValid?yd(this).weekYear:NaN}get ordinal(){return this.isValid?dd(this.c).ordinal:NaN}get monthShort(){return this.isValid?to.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?to.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?to.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?to.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const n=864e5,r=6e4,s=wu(this.c),l=this.zone.offset(s-n),u=this.zone.offset(s+n),d=this.zone.offset(s-l*r),h=this.zone.offset(s-u*r);if(d===h)return[this];const p=s-d*r,m=s-h*r,v=Yl(p,d),w=Yl(m,h);return v.hour===w.hour&&v.minute===w.minute&&v.second===w.second&&v.millisecond===w.millisecond?[Br(this,{ts:p}),Br(this,{ts:m})]:[this]}get isInLeapYear(){return mo(this.year)}get daysInMonth(){return uu(this.year,this.month)}get daysInYear(){return this.isValid?Hi(this.year):NaN}get weeksInWeekYear(){return this.isValid?co(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?co(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(n={}){const{locale:r,numberingSystem:s,calendar:l}=an.create(this.loc.clone(n),n).resolvedOptions(this);return{locale:r,numberingSystem:s,outputCalendar:l}}toUTC(n=0,r={}){return this.setZone(rn.instance(n),r)}toLocal(){return this.setZone(Tt.defaultZone)}setZone(n,{keepLocalTime:r=!1,keepCalendarTime:s=!1}={}){if(n=dr(n,Tt.defaultZone),n.equals(this.zone))return this;if(n.isValid){let l=this.ts;if(r||s){const u=n.offset(this.ts),d=this.toObject();[l]=eu(d,u,n)}return Br(this,{ts:l,zone:n})}else return Me.invalid(no(n))}reconfigure({locale:n,numberingSystem:r,outputCalendar:s}={}){const l=this.loc.clone({locale:n,numberingSystem:r,outputCalendar:s});return Br(this,{loc:l})}setLocale(n){return this.reconfigure({locale:n})}set(n){if(!this.isValid)return this;const r=cu(n,D0),{minDaysInFirstWeek:s,startOfWeek:l}=v0(r,this.loc),u=!Ae(r.weekYear)||!Ae(r.weekNumber)||!Ae(r.weekday),d=!Ae(r.ordinal),h=!Ae(r.year),p=!Ae(r.month)||!Ae(r.day),m=h||p,v=r.weekYear||r.weekNumber;if((m||d)&&v)throw new Ui("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(p&&d)throw new Ui("Can't mix ordinal dates with month/day");let w;u?w=y0({...lu(this.c,s,l),...r},s,l):Ae(r.ordinal)?(w={...this.toObject(),...r},Ae(r.day)&&(w.day=Math.min(uu(w.year,w.month),w.day))):w=g0({...dd(this.c),...r});const[S,k]=eu(w,this.o,this.zone);return Br(this,{ts:S,o:k})}plus(n){if(!this.isValid)return this;const r=We.fromDurationLike(n);return Br(this,A0(this,r))}minus(n){if(!this.isValid)return this;const r=We.fromDurationLike(n).negate();return Br(this,A0(this,r))}startOf(n,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;const s={},l=We.normalizeUnit(n);switch(l){case"years":s.month=1;case"quarters":case"months":s.day=1;case"weeks":case"days":s.hour=0;case"hours":s.minute=0;case"minutes":s.second=0;case"seconds":s.millisecond=0;break}if(l==="weeks")if(r){const u=this.loc.getStartOfWeek(),{weekday:d}=this;d<u&&(s.weekNumber=this.weekNumber-1),s.weekday=u}else s.weekday=1;if(l==="quarters"){const u=Math.ceil(this.month/3);s.month=(u-1)*3+1}return this.set(s)}endOf(n,r){return this.isValid?this.plus({[n]:1}).startOf(n,r).minus(1):this}toFormat(n,r={}){return this.isValid?an.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,n):pd}toLocaleString(n=ou,r={}){return this.isValid?an.create(this.loc.clone(r),n).formatDateTime(this):pd}toLocaleParts(n={}){return this.isValid?an.create(this.loc.clone(n),n).formatDateTimeParts(this):[]}toISO({format:n="extended",suppressSeconds:r=!1,suppressMilliseconds:s=!1,includeOffset:l=!0,extendedZone:u=!1,precision:d="milliseconds"}={}){if(!this.isValid)return null;d=nu(d);const h=n==="extended";let p=gd(this,h,d);return tu.indexOf(d)>=3&&(p+="T"),p+=j0(this,h,r,s,l,u,d),p}toISODate({format:n="extended",precision:r="day"}={}){return this.isValid?gd(this,n==="extended",nu(r)):null}toISOWeekDate(){return Il(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:n=!1,suppressSeconds:r=!1,includeOffset:s=!0,includePrefix:l=!1,extendedZone:u=!1,format:d="extended",precision:h="milliseconds"}={}){return this.isValid?(h=nu(h),(l&&tu.indexOf(h)>=3?"T":"")+j0(this,d==="extended",r,n,s,u,h)):null}toRFC2822(){return Il(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Il(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?gd(this,!0):null}toSQLTime({includeOffset:n=!0,includeZone:r=!1,includeOffsetSpace:s=!0}={}){let l="HH:mm:ss.SSS";return(r||n)&&(s&&(l+=" "),r?l+="z":n&&(l+="ZZ")),Il(this,l,!0)}toSQL(n={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(n)}`:null}toString(){return this.isValid?this.toISO():pd}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(n={}){if(!this.isValid)return{};const r={...this.c};return n.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(n,r="milliseconds",s={}){if(!this.isValid||!n.isValid)return We.invalid("created by diffing an invalid DateTime");const l={locale:this.locale,numberingSystem:this.numberingSystem,...s},u=JT(r).map(We.normalizeUnit),d=n.valueOf()>this.valueOf(),h=d?this:n,p=d?n:this,m=eN(h,p,u,l);return d?m.negate():m}diffNow(n="milliseconds",r={}){return this.diff(Me.now(),n,r)}until(n){return this.isValid?Ot.fromDateTimes(this,n):this}hasSame(n,r,s){if(!this.isValid)return!1;const l=n.valueOf(),u=this.setZone(n.zone,{keepLocalTime:!0});return u.startOf(r,s)<=l&&l<=u.endOf(r,s)}equals(n){return this.isValid&&n.isValid&&this.valueOf()===n.valueOf()&&this.zone.equals(n.zone)&&this.loc.equals(n.loc)}toRelative(n={}){if(!this.isValid)return null;const r=n.base||Me.fromObject({},{zone:this.zone}),s=n.padding?this<r?-n.padding:n.padding:0;let l=["years","months","days","hours","minutes","seconds"],u=n.unit;return Array.isArray(n.unit)&&(l=n.unit,u=void 0),z0(r,this.plus(s),{...n,numeric:"always",units:l,unit:u})}toRelativeCalendar(n={}){return this.isValid?z0(n.base||Me.fromObject({},{zone:this.zone}),this,{...n,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...n){if(!n.every(Me.isDateTime))throw new nn("min requires all arguments be DateTimes");return b0(n,r=>r.valueOf(),Math.min)}static max(...n){if(!n.every(Me.isDateTime))throw new nn("max requires all arguments be DateTimes");return b0(n,r=>r.valueOf(),Math.max)}static fromFormatExplain(n,r,s={}){const{locale:l=null,numberingSystem:u=null}=s,d=lt.fromOpts({locale:l,numberingSystem:u,defaultToEN:!0});return yw(d,n,r)}static fromStringExplain(n,r,s={}){return Me.fromFormatExplain(n,r,s)}static buildFormatParser(n,r={}){const{locale:s=null,numberingSystem:l=null}=r,u=lt.fromOpts({locale:s,numberingSystem:l,defaultToEN:!0});return new mw(u,n)}static fromFormatParser(n,r,s={}){if(Ae(n)||Ae(r))throw new nn("fromFormatParser requires an input string and a format parser");const{locale:l=null,numberingSystem:u=null}=s,d=lt.fromOpts({locale:l,numberingSystem:u,defaultToEN:!0});if(!d.equals(r.locale))throw new nn(`fromFormatParser called with a locale of ${d}, but the format parser was created for ${r.locale}`);const{result:h,zone:p,specificOffset:m,invalidReason:v}=r.explainFromTokens(n);return v?Me.invalid(v):Ri(h,p,s,`format ${r.format}`,n,m)}static get DATE_SHORT(){return ou}static get DATE_MED(){return b1}static get DATE_MED_WITH_WEEKDAY(){return OT}static get DATE_FULL(){return w1}static get DATE_HUGE(){return S1}static get TIME_SIMPLE(){return x1}static get TIME_WITH_SECONDS(){return E1}static get TIME_WITH_SHORT_OFFSET(){return k1}static get TIME_WITH_LONG_OFFSET(){return O1}static get TIME_24_SIMPLE(){return T1}static get TIME_24_WITH_SECONDS(){return C1}static get TIME_24_WITH_SHORT_OFFSET(){return N1}static get TIME_24_WITH_LONG_OFFSET(){return _1}static get DATETIME_SHORT(){return A1}static get DATETIME_SHORT_WITH_SECONDS(){return j1}static get DATETIME_MED(){return D1}static get DATETIME_MED_WITH_SECONDS(){return M1}static get DATETIME_MED_WITH_WEEKDAY(){return TT}static get DATETIME_FULL(){return z1}static get DATETIME_FULL_WITH_SECONDS(){return R1}static get DATETIME_HUGE(){return L1}static get DATETIME_HUGE_WITH_SECONDS(){return B1}}function Js(a){if(Me.isDateTime(a))return a;if(a&&a.valueOf&&pr(a.valueOf()))return Me.fromJSDate(a);if(a&&typeof a=="object")return Me.fromObject(a);throw new nn(`Unknown datetime argument: ${a}, of type ${typeof a}`)}const bN="3.7.2",wN=Object.freeze(Object.defineProperty({__proto__:null,DateTime:Me,Duration:We,FixedOffsetZone:rn,IANAZone:pa,Info:to,Interval:Ot,InvalidZone:$1,Settings:Tt,SystemZone:po,VERSION:bN,Zone:Pi},Symbol.toStringTag,{value:"Module"}));window.Rete=mE;window.React=$x;window.RefComponent=gh;window.luxon=wN;window.nodeRegistry=An;window.sockets=Zi;window.socket=Se;let Ir={isLoading:!1,progress:0,status:"Ready",loadedCount:0,totalCount:0,failedPlugins:[],error:null};const eh=new Set;function ww(a){return eh.add(a),a({...Ir}),()=>eh.delete(a)}function Li(a){Ir={...Ir,...a},eh.forEach(n=>n({...Ir}))}function SN(){return{...Ir}}async function xN(){Li({isLoading:!0,progress:0,status:"Fetching plugin list...",error:null,failedPlugins:[]});try{const a=await fetch("/api/plugins");if(!a.ok)throw new Error("Failed to fetch plugin list");const n=await a.json(),r=n.length;Li({totalCount:r,status:`Loading ${r} plugins...`});let s=0;for(const u of n){const d=u.split("/").pop().replace(".js","");Li({status:`Loading ${d}...`});try{await EN(u),s++,Li({loadedCount:s,progress:Math.round(s/r*100)})}catch(h){console.error(`[PluginLoader] Failed to load ${u}`,h),Ir.failedPlugins.push({name:d,error:h.message})}}const l=Ir.failedPlugins.length;Li({isLoading:!1,progress:100,status:l>0?`Loaded ${s} plugins (${l} failed)`:`Loaded ${s} plugins`})}catch(a){console.error("[PluginLoader] Error loading plugins:",a),Li({isLoading:!1,error:a.message,status:"Failed to load plugins"})}}function EN(a){return new Promise((n,r)=>{const s=document.createElement("script");s.src=a,s.onload=n,s.onerror=r,document.body.appendChild(s)})}function kN({onSave:a,onLoad:n,onClear:r,onExport:s,onImport:l,hasUnsavedChanges:u}){const[d,h]=T.useState(!1),[p,m]=T.useState(!1),[v,w]=T.useState(()=>{const z=localStorage.getItem("dock-position");return z?JSON.parse(z):{x:20,y:20}}),[S,k]=T.useState(!1),[M,P]=T.useState({x:0,y:0}),[Y,K]=T.useState(!0),[q,U]=T.useState(!0),[G,re]=T.useState(new Date),[oe,ee]=T.useState({backend:Se.connected,ha:{connected:!1,wsConnected:!1,deviceCount:0},hue:{connected:!1,deviceCount:0},kasa:{connected:!1,deviceCount:0},shelly:{connected:!1,deviceCount:0}}),[he,I]=T.useState({loaded:0,failed:0,total:0});let ae;const Ee=T.useRef(null),Oe=T.useRef(null);T.useEffect(()=>{ae=ww(J=>{console.log("[Dock] Plugin progress update:",J);let x=0,E=J.totalCount||0;window.nodeRegistry&&typeof window.nodeRegistry.getAll=="function"?(x=window.nodeRegistry.getAll().length,(!E||x>E)&&(E=x)):x=J.loadedCount,I({loaded:x,failed:J.failedPlugins?.length||0,total:E})});const z=J=>{J.target.tagName==="INPUT"||J.target.tagName==="TEXTAREA"||J.target.isContentEditable||(J.key==="?"||J.shiftKey&&J.code==="Slash")&&(J.preventDefault(),m(!0))};return window.addEventListener("keydown",z),()=>window.removeEventListener("keydown",z)},[]),T.useEffect(()=>{const z=()=>{ee(ue=>({...ue,backend:!0})),Se.emit("request-hue-status")},J=()=>ee(ue=>({...ue,backend:!1})),x=ue=>ee(le=>({...le,ha:{connected:ue.connected,wsConnected:ue.wsConnected,deviceCount:ue.deviceCount||0}})),E=ue=>{ue.hue&&ee(le=>({...le,hue:ue.hue})),ue.kasa&&ee(le=>({...le,kasa:ue.kasa})),ue.shelly&&ee(le=>({...le,shelly:ue.shelly}))},N=ue=>{ee(le=>({...le,hue:{connected:ue.connected,deviceCount:ue.deviceCount||0,bridgeIp:ue.bridgeIp||null}}))};Se.on("connect",z),Se.on("disconnect",J),Se.on("ha-connection-status",x),Se.on("device-counts",E),Se.on("hue-connection-status",N),ee(ue=>({...ue,backend:Se.connected})),Se.connected&&Se.emit("request-hue-status");const D=SN();let Z=0,se=D.totalCount||0;return window.nodeRegistry&&typeof window.nodeRegistry.getAll=="function"?(Z=window.nodeRegistry.getAll().length,(!se||Z>se)&&(se=Z)):Z=D.loadedCount,I({loaded:Z,failed:D.failedPlugins?.length||0,total:se}),()=>{Se.off("connect",z),Se.off("disconnect",J),Se.off("ha-connection-status",x),Se.off("device-counts",E),Se.off("hue-connection-status",N),ae&&ae()}},[]),T.useEffect(()=>{const z=setInterval(()=>{re(new Date)},1e3);return()=>clearInterval(z)},[]);const Ce=()=>{const z={weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"};return G.toLocaleDateString("en-US",z)};T.useEffect(()=>{localStorage.setItem("dock-position",JSON.stringify(v))},[v]);const ze=z=>{z.target.closest(".dock-header")&&(k(!0),P({x:z.clientX-v.x,y:z.clientY-v.y}))},ne=z=>{S&&w({x:z.clientX-M.x,y:z.clientY-M.y})},A=()=>{k(!1)};T.useEffect(()=>{if(S)return window.addEventListener("mousemove",ne),window.addEventListener("mouseup",A),()=>{window.removeEventListener("mousemove",ne),window.removeEventListener("mouseup",A)}},[S,M]);const _=()=>{Oe.current?.click()},H=z=>{const J=z.target.files?.[0];if(J){const x=new FileReader;x.onload=E=>{try{const N=JSON.parse(E.target.result);l(N)}catch(N){console.error("Failed to parse JSON:",N),alert("Invalid JSON file")}},x.readAsText(J)}z.target.value=""};return g.jsxs("div",{ref:Ee,className:"dock-container",style:{left:`${v.x}px`,top:`${v.y}px`,cursor:S?"grabbing":"default"},onMouseDown:ze,children:[g.jsxs("div",{className:"dock-header",style:{cursor:"grab"},children:[g.jsx("span",{className:"dock-title",children:" Control Panel"}),g.jsx("span",{className:"dock-datetime",children:Ce()})]}),g.jsxs("div",{className:"dock-section",children:[g.jsx("div",{className:"dock-section-header",onClick:()=>K(!Y),children:g.jsxs("span",{children:[Y?"":""," Graph Tools ",u&&g.jsx("span",{className:"unsaved-dot",title:"Unsaved changes",children:""})]})}),Y&&g.jsxs("div",{className:"dock-section-content",children:[g.jsxs("button",{onClick:a,className:`dock-btn ${u?"dock-btn-unsaved":""}`,children:[" Save ",u&&"*"]}),g.jsx("button",{onClick:n,className:"dock-btn",children:" Load Last"}),g.jsx("button",{onClick:_,className:"dock-btn",children:" Import File"}),g.jsx("button",{onClick:r,className:"dock-btn",children:" Clear"}),g.jsx("input",{ref:Oe,type:"file",accept:".json",style:{display:"none"},onChange:H})]})]}),g.jsxs("div",{className:"dock-section",children:[g.jsx("div",{className:"dock-section-header",onClick:()=>U(!q),children:g.jsxs("span",{children:[q?"":""," Connection Status"]})}),q&&g.jsxs("div",{className:"dock-section-content dock-status-grid",children:[g.jsxs("div",{className:`dock-status-item ${oe.backend?"connected":"disconnected"}`,children:[g.jsx("span",{className:"dock-status-dot"}),g.jsx("span",{className:"dock-status-label",children:"Backend"}),g.jsx("span",{className:"dock-status-value",children:oe.backend?"Connected":"Offline"})]}),g.jsxs("div",{className:`dock-status-item ${oe.ha.connected?"connected":"disconnected"}`,children:[g.jsx("span",{className:"dock-status-dot"}),g.jsx("span",{className:"dock-status-label",children:"Home Assistant"}),g.jsx("span",{className:"dock-status-value",children:oe.ha.connected?`${oe.ha.deviceCount} devices`:"Offline"})]}),g.jsxs("div",{className:`dock-status-item ${oe.hue.connected?"connected":"disconnected"}`,children:[g.jsx("span",{className:"dock-status-dot"}),g.jsx("span",{className:"dock-status-label",children:"Philips Hue"}),g.jsx("span",{className:"dock-status-value",children:oe.hue.connected?`${oe.hue.deviceCount||0} lights${oe.hue.bridgeIp?` (${oe.hue.bridgeIp})`:""}`:"Offline"})]}),oe.kasa.deviceCount>0&&g.jsxs("div",{className:`dock-status-item ${oe.kasa.connected?"connected":"disconnected"}`,children:[g.jsx("span",{className:"dock-status-dot"}),g.jsx("span",{className:"dock-status-label",children:"Kasa"}),g.jsxs("span",{className:"dock-status-value",children:[oe.kasa.deviceCount," devices"]})]}),g.jsxs("div",{className:"dock-status-item plugins",children:[g.jsx("span",{className:"dock-status-dot",style:{background:he.failed>0?"#f59e0b":"#10b981"}}),g.jsx("span",{className:"dock-status-label",children:"Plugins"}),g.jsx("span",{className:"dock-status-value",children:he.total>0?`${he.loaded} / ${he.total} loaded${he.failed>0?` (${he.failed} failed)`:""}`:`${he.loaded} loaded`})]})]})]}),g.jsx("div",{className:"dock-section",children:g.jsxs("div",{className:"dock-section-content",children:[g.jsx("button",{onClick:()=>h(!0),className:"dock-btn dock-btn-settings",children:" Settings & API Keys"}),g.jsx("button",{onClick:()=>m(!0),className:"dock-btn dock-btn-help",children:" Keyboard Shortcuts"})]})}),g.jsx(xO,{isOpen:d,onClose:()=>h(!1)}),g.jsx(kO,{isOpen:p,onClose:()=>m(!1)})]})}function ON(){const[a,n]=T.useState(!0),[r,s]=T.useState(!0),[l,u]=T.useState(null),[d,h]=T.useState(null),[p,m]=T.useState(Se?.connected??!1),[v,w]=T.useState({connected:!1,wsConnected:!1,deviceCount:0}),[S,k]=T.useState(new Map),[M,P]=T.useState(()=>parseInt(localStorage.getItem("forecastPanelWidth"))||320),[Y,K]=T.useState(()=>parseInt(localStorage.getItem("devicesOnHeight"))||200),q=T.useRef(null);T.useEffect(()=>{if(!Se)return;const I=()=>{m(!0),Se.emit("request-ha-status")},ae=()=>{m(!1),w({connected:!1,wsConnected:!1,deviceCount:0})},Ee=Ce=>{w(Ce)};Se.on("connect",I),Se.on("disconnect",ae),Se.on("ha-connection-status",Ee),Se.on("forecast-update",Ce=>{u(Ce)});const Oe=Ce=>{const{id:ze,state:ne,on:A,name:_}=Ce;if(!ze)return;const H=A!==void 0?A:ne==="on"||ne==="playing"||ne==="open",z=_||Ce.friendly_name||Ce.attributes?.friendly_name||ze.replace("ha_","").replace("kasa_","").replace(/\./g," ").replace(/_/g," ");(ze.includes("light.")||ze.includes("switch.")||ze.startsWith("kasa_"))&&k(x=>{const E=new Map(x);return H?E.set(ze,{name:z,on:!0}):E.delete(ze),E})};return Se.on("device-state-update",Oe),Se.emit("request-forecast"),Se.connected&&(m(!0),Se.emit("request-ha-status")),()=>{Se.off("connect",I),Se.off("disconnect",ae),Se.off("ha-connection-status",Ee),Se.off("forecast-update"),Se.off("device-state-update",Oe)}},[]);const U=()=>{Se?.emit("request-forecast")},G=I=>{const ae=(I||"").toLowerCase();return ae.includes("clear")||ae.includes("sun")?g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#FFD700",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("circle",{cx:"12",cy:"12",r:"5"}),g.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),g.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),g.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),g.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),g.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),g.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),g.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),g.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):ae.includes("rain")||ae.includes("drizzle")||ae.includes("shower")?g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#4facfe",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M20 16.2A4.5 4.5 0 0 0 17.5 8h-1.8A7 7 0 1 0 4 14.9"}),g.jsx("line",{x1:"8",y1:"19",x2:"8",y2:"21"}),g.jsx("line",{x1:"8",y1:"13",x2:"8",y2:"15"}),g.jsx("line",{x1:"16",y1:"19",x2:"16",y2:"21"}),g.jsx("line",{x1:"16",y1:"13",x2:"16",y2:"15"}),g.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),g.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"17"})]}):ae.includes("partly")||ae.includes("partial")||ae.includes("few")?g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M13 2v2",stroke:"#FFD700"}),g.jsx("path",{d:"M3 13h2",stroke:"#FFD700"}),g.jsx("path",{d:"M20 13h2",stroke:"#FFD700"}),g.jsx("path",{d:"M5.6 5.6l1.4 1.4",stroke:"#FFD700"}),g.jsx("path",{d:"M18.4 5.6l-1.4 1.4",stroke:"#FFD700"}),g.jsx("circle",{cx:"13",cy:"9",r:"4",stroke:"#FFD700"}),g.jsx("path",{d:"M17 17h-10a4 4 0 0 1 0-8h.5a5.5 5.5 0 0 1 10.5 3h.5a3 3 0 0 1 0 6z",stroke:"#B0C4DE",fill:"none"})]}):ae.includes("snow")||ae.includes("flurr")?g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#B0E0E6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"}),g.jsx("line",{x1:"8",y1:"16",x2:"8",y2:"16.01"}),g.jsx("line",{x1:"8",y1:"20",x2:"8",y2:"20.01"}),g.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"18.01"}),g.jsx("line",{x1:"12",y1:"22",x2:"12",y2:"22.01"}),g.jsx("line",{x1:"16",y1:"16",x2:"16",y2:"16.01"}),g.jsx("line",{x1:"16",y1:"20",x2:"16",y2:"20.01"})]}):ae.includes("thunder")||ae.includes("storm")?g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#9370DB",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"}),g.jsx("polyline",{points:"13 11 9 17 15 17 11 23",stroke:"#FFD700",fill:"none"})]}):ae.includes("fog")||ae.includes("mist")||ae.includes("haze")?g.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#A9A9A9",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[g.jsx("path",{d:"M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"}),g.jsx("line",{x1:"3",y1:"20",x2:"21",y2:"20"}),g.jsx("line",{x1:"3",y1:"17",x2:"21",y2:"17"})]}):g.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#B0C4DE",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:g.jsx("path",{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"})})},re=I=>{if(!I)return"";if(typeof I=="string"&&I.match(/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun)/i))return I;const ae=new Date(parseInt(I)||I);if(isNaN(ae.getTime()))return I;const Ee=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Oe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return`${Ee[ae.getDay()]}, ${Oe[ae.getMonth()]} ${ae.getDate()}`},oe=()=>{if(!l||!l.length)return g.jsx("div",{className:"forecast-empty",children:"No forecast data"});if(d!==null){const I=l[d];return g.jsxs("div",{className:"forecast-detail",children:[g.jsxs("div",{className:"forecast-detail-header",children:[g.jsx("button",{className:"detail-back-btn",onClick:()=>h(null),children:" Back"}),g.jsx("span",{className:"detail-date",children:re(I.date||I.day)})]}),g.jsxs("div",{className:"detail-main",children:[g.jsx("div",{className:"detail-icon",children:G(I.conditions||I.condition)}),g.jsxs("div",{className:"detail-temps",children:[g.jsxs("div",{className:"detail-high",children:[I.high,""]}),g.jsxs("div",{className:"detail-low",children:[I.low,""]})]}),g.jsx("div",{className:"detail-condition",children:I.conditions||I.condition||"N/A"})]}),I.description&&g.jsx("div",{className:"detail-description",children:I.description}),g.jsxs("div",{className:"detail-stats",children:[g.jsxs("div",{className:"detail-stat",children:[g.jsx("span",{className:"stat-label",children:"Precipitation"}),g.jsx("span",{className:"stat-value",children:I.precipitation||I.precip||"0%"})]}),I.humidity&&g.jsxs("div",{className:"detail-stat",children:[g.jsx("span",{className:"stat-label",children:"Humidity"}),g.jsxs("span",{className:"stat-value",children:[I.humidity,"%"]})]}),I.wind&&g.jsxs("div",{className:"detail-stat",children:[g.jsx("span",{className:"stat-label",children:"Wind"}),g.jsx("span",{className:"stat-value",children:I.wind})]}),(I.sunrise||I.sunset)&&g.jsxs("div",{className:"detail-sun-times",children:[I.sunrise&&g.jsxs("div",{className:"detail-stat",children:[g.jsx("span",{className:"stat-label",children:" Sunrise"}),g.jsx("span",{className:"stat-value",children:I.sunrise})]}),I.sunset&&g.jsxs("div",{className:"detail-stat",children:[g.jsx("span",{className:"stat-label",children:" Sunset"}),g.jsx("span",{className:"stat-value",children:I.sunset})]})]})]})]})}return l.slice(0,5).map((I,ae)=>g.jsxs("div",{className:"forecast-card",onClick:()=>h(ae),children:[g.jsx("div",{className:"forecast-date",children:re(I.date||I.day)}),g.jsx("div",{className:"forecast-icon",children:G(I.conditions||I.condition)}),g.jsxs("div",{className:"forecast-temps",children:[g.jsxs("span",{className:"temp-high",children:[I.high,""]}),g.jsxs("span",{className:"temp-low",children:[I.low,""]}),g.jsx("span",{className:"precip",children:I.precipitation||I.precip||"0%"})]})]},ae))},ee=I=>{I.preventDefault();const ae=I.clientX,Ee=M,Oe=ze=>{const ne=ae-ze.clientX,A=Math.max(250,Math.min(500,Ee+ne));P(A),localStorage.setItem("forecastPanelWidth",A)},Ce=()=>{document.removeEventListener("mousemove",Oe),document.removeEventListener("mouseup",Ce)};document.addEventListener("mousemove",Oe),document.addEventListener("mouseup",Ce)},he=I=>{I.preventDefault(),I.stopPropagation();const ae=I.clientY,Ee=Y,Oe=ze=>{const ne=ae-ze.clientY,A=Math.max(100,Math.min(500,Ee+ne));K(A),localStorage.setItem("devicesOnHeight",A)},Ce=()=>{document.removeEventListener("mousemove",Oe),document.removeEventListener("mouseup",Ce)};document.addEventListener("mousemove",Oe),document.addEventListener("mouseup",Ce)};return g.jsxs("div",{className:"forecast-panel",style:{width:M},children:[g.jsx("div",{className:"forecast-resize-handle",ref:q,onMouseDown:ee,children:g.jsx("div",{className:"forecast-resize-grip"})}),g.jsxs("div",{className:"forecast-panel-header",onClick:()=>n(!a),children:[g.jsx("span",{children:"5-Day Forecast"}),g.jsx("button",{onClick:I=>{I.stopPropagation(),U()},className:"forecast-refresh-btn",children:"Refresh"})]}),a&&g.jsx("div",{className:"forecast-panel-content",children:oe()}),g.jsxs("div",{className:"devices-on-section",style:{height:r?Y:"auto"},children:[g.jsx("div",{className:"devices-resize-handle",onMouseDown:he,children:g.jsx("div",{className:"devices-resize-grip"})}),g.jsxs("div",{className:"devices-on-header",onClick:()=>s(!r),children:[g.jsxs("span",{children:["Devices ON (",S.size,")"]}),g.jsx("span",{className:"expand-icon",children:r?"":""})]}),r&&g.jsx("div",{className:"devices-on-list",children:S.size===0?g.jsx("div",{className:"no-devices",children:"All devices off"}):Array.from(S.values()).sort((I,ae)=>I.name.localeCompare(ae.name)).map((I,ae)=>g.jsxs("div",{className:"device-on-item",children:[g.jsx("span",{className:"device-on-indicator"}),g.jsx("span",{className:"device-on-name",children:I.name})]},ae))})]}),g.jsxs("div",{className:"status-indicators",children:[g.jsx("div",{className:`connection-status ${p?"connected":"disconnected"}`,children:p?"Backend":"Backend X"}),g.jsx("div",{className:`connection-status ${v.connected?"connected":"disconnected"}`,children:v.connected?`HA (${v.deviceCount})`:"HA X"})]})]})}function TN({visible:a,position:n,items:r,onClose:s,onSelect:l}){const u=T.useRef(null),[d,h]=T.useState(null),[p,m]=T.useState({x:0,y:0}),v=T.useRef(null),w=T.useRef(null);T.useEffect(()=>{if(!a)return;const q=G=>{u.current&&!u.current.contains(G.target)&&s()},U=G=>{G.key==="Escape"&&s()};return document.addEventListener("mousedown",q),document.addEventListener("keydown",U),()=>{document.removeEventListener("mousedown",q),document.removeEventListener("keydown",U)}},[a,s]),T.useEffect(()=>()=>{v.current&&clearTimeout(v.current),w.current&&clearTimeout(w.current)},[]);const S=T.useCallback((q,U,G)=>{if(w.current&&(clearTimeout(w.current),w.current=null),U.subitems&&U.subitems.length>0){const re=q.currentTarget.getBoundingClientRect();m({x:re.right-2,y:re.top}),h(G)}else h(null)},[]),k=T.useCallback(()=>{w.current=setTimeout(()=>{h(null)},150)},[]),M=T.useCallback(()=>{w.current&&(clearTimeout(w.current),w.current=null)},[]),P=T.useCallback(()=>{w.current=setTimeout(()=>{h(null)},100)},[]),Y=T.useCallback(q=>{q.subitems&&q.subitems.length>0||(l(q),s())},[l,s]);if(!a)return null;const K={...n};if(typeof window<"u"){const U=r.length*36;n.x+200>window.innerWidth&&(K.x=window.innerWidth-200-10),n.y+U>window.innerHeight&&(K.y=Math.max(10,window.innerHeight-U-10))}return g.jsx("div",{ref:u,className:"fast-context-menu",style:{left:K.x,top:K.y},children:r.map((q,U)=>g.jsxs("div",{className:`fast-menu-item ${q.subitems?"has-submenu":""} ${d===U?"active":""}`,onMouseEnter:G=>S(G,q,U),onMouseLeave:k,onClick:()=>Y(q),children:[g.jsx("span",{className:"menu-label",children:q.label}),q.subitems&&g.jsx("span",{className:"submenu-arrow",children:""}),d===U&&q.subitems&&g.jsx("div",{className:"fast-submenu",style:{left:"100%",top:0},onMouseEnter:M,onMouseLeave:P,children:q.subitems.map((G,re)=>g.jsx("div",{className:"fast-menu-item",onClick:oe=>{oe.stopPropagation(),Y(G)},children:g.jsx("span",{className:"menu-label",children:G.label})},G.label||re))})]},q.label||U))})}function L0(a){const n=[],r=[];if(!a||typeof a!="object")return{valid:!1,errors:["Graph data is not an object"],warnings:[]};if(!Array.isArray(a.nodes))n.push('Missing or invalid "nodes" array');else{const s=new Set;a.nodes.forEach((l,u)=>{l.id?(s.has(l.id)&&n.push(`Duplicate node ID: ${l.id}`),s.add(l.id)):n.push(`Node at index ${u} is missing "id"`),l.label||n.push(`Node ${l.id||u} is missing "label"`),(!l.position||typeof l.position.x!="number"||typeof l.position.y!="number")&&r.push(`Node ${l.id||u} has invalid position`),l.position&&(!Number.isFinite(l.position.x)||!Number.isFinite(l.position.y))&&n.push(`Node ${l.id||u} has NaN or Infinity in position`)})}if(!Array.isArray(a.connections))n.push('Missing or invalid "connections" array');else{const s=new Set(a.nodes?.map(u=>u.id)||[]),l=new Set;a.connections.forEach((u,d)=>{u.source?s.has(u.source)||n.push(`Connection ${d} references non-existent source node: ${u.source}`):n.push(`Connection at index ${d} is missing "source"`),u.target?s.has(u.target)||n.push(`Connection ${d} references non-existent target node: ${u.target}`):n.push(`Connection at index ${d} is missing "target"`),u.sourceOutput||r.push(`Connection ${d} is missing "sourceOutput"`),u.targetInput||r.push(`Connection ${d} is missing "targetInput"`);const h=`${u.source}:${u.sourceOutput}->${u.target}:${u.targetInput}`;l.has(h)&&r.push(`Duplicate connection: ${h}`),l.add(h),u.source===u.target&&r.push(`Self-connection detected on node ${u.source}`)})}return a.viewport&&((typeof a.viewport.k!="number"||a.viewport.k<=0)&&r.push("Invalid viewport zoom value"),(!Number.isFinite(a.viewport.x)||!Number.isFinite(a.viewport.y))&&r.push("Invalid viewport position")),{valid:n.length===0,errors:n,warnings:r}}function B0(a){const n=[];let r=!1;const s=JSON.parse(JSON.stringify(a));Array.isArray(s.nodes)||(s.nodes=[],n.push("Created empty nodes array"),r=!0),Array.isArray(s.connections)||(s.connections=[],n.push("Created empty connections array"),r=!0);const l=new Set,u=new Set;return s.nodes=s.nodes.filter((d,h)=>{if(!d.id)return n.push(`Removed node at index ${h} (missing ID)`),r=!0,!1;if(u.has(d.id)){const p=`${d.id}_${Date.now()}_${h}`;n.push(`Renamed duplicate node ID ${d.id} to ${p}`),d.id=p,r=!0}return u.add(d.id),l.add(d.id),d.label||(d.label="Unknown Node",n.push(`Set label for node ${d.id} to "Unknown Node"`),r=!0),!d.position||typeof d.position!="object"?(d.position={x:0,y:0},n.push(`Reset position for node ${d.id}`),r=!0):(Number.isFinite(d.position.x)||(d.position.x=0,n.push(`Fixed NaN x position for node ${d.id}`),r=!0),Number.isFinite(d.position.y)||(d.position.y=0,n.push(`Fixed NaN y position for node ${d.id}`),r=!0)),!0}),s.connections=s.connections.filter((d,h)=>l.has(d.source)?l.has(d.target)?!0:(n.push(`Removed connection ${h} (invalid target: ${d.target})`),r=!0,!1):(n.push(`Removed connection ${h} (invalid source: ${d.source})`),r=!0,!1)),s.viewport&&(Number.isFinite(s.viewport.x)||(s.viewport.x=0,n.push("Fixed viewport x position"),r=!0),Number.isFinite(s.viewport.y)||(s.viewport.y=0,n.push("Fixed viewport y position"),r=!0),(!Number.isFinite(s.viewport.k)||s.viewport.k<=0)&&(s.viewport.k=1,n.push("Fixed viewport zoom level"),r=!0)),{repaired:r,graphData:s,fixes:n}}class WN extends ft.Control{constructor(n,r){super(),this.label=n,this.onClick=r}}function CN({data:a}){return g.jsx("button",{onPointerDown:n=>n.stopPropagation(),onDoubleClick:n=>n.stopPropagation(),onClick:a.onClick,style:{width:"100%",padding:"8px",marginBottom:"5px",background:"rgba(0, 243, 255, 0.1)",border:"1px solid rgba(0, 243, 255, 0.4)",color:"#00f3ff",borderRadius:"20px",cursor:"pointer",fontWeight:"600",textTransform:"uppercase",fontSize:"12px",transition:"all 0.2s"},onMouseOver:n=>{n.currentTarget.style.background="rgba(0, 243, 255, 0.25)",n.currentTarget.style.boxShadow="0 0 12px rgba(0, 243, 255, 0.4)"},onMouseOut:n=>{n.currentTarget.style.background="rgba(0, 243, 255, 0.1)",n.currentTarget.style.boxShadow="none"},children:a.label})}class e_ extends ft.Control{constructor(n,r,s,l){super(),this.label=n,this.values=r,this.value=s,this.onChange=l}setValue(n){this.value=n}}function NN({data:a}){const[,n]=T.useReducer(d=>d+1,0),[r,s]=T.useState(a.value);T.useEffect(()=>{s(a.value)},[a.value]),T.useEffect(()=>{n()},[a]);const l=d=>{const h=d.target.value;s(h),typeof a.setValue=="function"?a.setValue(h):a.value=h,a.onChange&&a.onChange(h)},u=a.values||[];return g.jsxs("div",{style:{marginBottom:"5px"},children:[a.label&&g.jsx("label",{style:{display:"block",fontSize:"10px",color:"#00f3ff",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.5px"},children:a.label}),g.jsx("select",{value:r,onChange:l,onPointerDown:d=>d.stopPropagation(),onDoubleClick:d=>d.stopPropagation(),style:{width:"100%",background:"#0a0f14",color:"#00f3ff",border:"1px solid rgba(0, 243, 255, 0.3)",padding:"6px",borderRadius:"4px",outline:"none",fontSize:"12px"},children:u.map(d=>g.jsx("option",{value:d,style:{background:"#0a0f14",color:"#00f3ff"},children:d},d))})]})}class t_ extends ft.Control{constructor(n,r,s){super(),this.label=n,this.value=r,this.onChange=s}}function _N({data:a}){const[n,r]=T.useState(a.value),s=l=>{const u=l.target.value;r(u),a.value=u,a.onChange&&a.onChange(u)};return g.jsxs("div",{style:{marginBottom:"5px"},children:[a.label&&g.jsx("label",{style:{display:"block",fontSize:"10px",color:"#00f3ff",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.5px"},children:a.label}),g.jsx("input",{type:"text",value:n,onChange:s,onPointerDown:l=>l.stopPropagation(),onDoubleClick:l=>l.stopPropagation(),style:{width:"100%",background:"#0a0f14",color:"#00f3ff",border:"1px solid rgba(0, 243, 255, 0.3)",padding:"6px",borderRadius:"4px",outline:"none",fontSize:"12px"}})]})}class n_ extends ft.Control{constructor(n,r,s){super(),this.label=n,this.value=r,this.onChange=s}}function AN({data:a}){const[n,r]=T.useState(a.value),s=l=>{const u=l.target.checked;r(u),a.value=u,a.onChange&&a.onChange(u)};return g.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"5px"},children:[g.jsx("input",{type:"checkbox",checked:n,onChange:s,onPointerDown:l=>l.stopPropagation(),onDoubleClick:l=>l.stopPropagation(),style:{accentColor:"#00f3ff"}}),g.jsx("span",{style:{marginLeft:"5px",fontSize:"12px",color:"#00f3ff",textTransform:"uppercase",letterSpacing:"0.5px"},children:a.label})]})}class a_ extends ft.Control{constructor(n,r,s,l={}){super(),this.label=n,this.value=r,this.onChange=s,this.options=l}}function jN({data:a}){const[n,r]=T.useState(a.value),s=l=>{const u=Number(l.target.value);r(u),a.value=u,a.onChange&&a.onChange(u)};return g.jsxs("div",{style:{marginBottom:"5px"},children:[a.label&&g.jsx("label",{style:{display:"block",fontSize:"10px",color:"#00f3ff",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.5px"},children:a.label}),g.jsx("input",{type:"number",value:n,onChange:s,min:a.options.min,max:a.options.max,step:a.options.step,onPointerDown:l=>l.stopPropagation(),onDoubleClick:l=>l.stopPropagation(),style:{width:"100%",background:"#0a0f14",color:"#00f3ff",border:"1px solid rgba(0, 243, 255, 0.3)",padding:"6px",borderRadius:"4px",outline:"none",fontSize:"12px"}})]})}class r_ extends ft.Control{constructor(n,r,s,l="text"){super(),this.label=n,this.value=r,this.onChange=s,this.type=l}}function DN({data:a}){const[n,r]=T.useState(a.value);T.useEffect(()=>{r(a.value)},[a.value]);const s=l=>{let u=l.target.value;a.type==="number"&&(u=Number(u)),r(u),a.value=u,a.onChange&&a.onChange(u)};return g.jsxs("div",{style:{marginBottom:"5px"},children:[a.label&&g.jsx("label",{style:{display:"block",fontSize:"10px",color:"#00f3ff",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.5px"},children:a.label}),g.jsx("input",{type:a.type||"text",value:n,onChange:s,onPointerDown:l=>l.stopPropagation(),onDoubleClick:l=>l.stopPropagation(),style:{width:"100%",background:"#0a0f14",color:"#00f3ff",border:"1px solid rgba(0, 243, 255, 0.3)",padding:"6px",borderRadius:"4px",outline:"none",fontSize:"12px"}})]})}class i_ extends ft.Control{constructor(n,r){super(),this.deviceId=n,this.getState=r}}function MN({data:a}){const n=a.getState?a.getState(a.deviceId):null;if(Ua.useEffect(()=>{const m=document.createElement("style");return m.innerHTML=`
            @keyframes flash-pulse {
                0% { opacity: 1; box-shadow: 0 0 5px currentColor; }
                50% { opacity: 0.6; box-shadow: 0 0 2px currentColor; }
                100% { opacity: 1; box-shadow: 0 0 5px currentColor; }
            }
        `,document.head.appendChild(m),()=>document.head.removeChild(m)},[]),!n)return g.jsx("div",{style:{padding:"4px 8px",background:"rgba(0, 20, 30, 0.6)",borderRadius:"4px",marginBottom:"4px",display:"flex",alignItems:"center",justifyContent:"space-between",minHeight:"24px",border:"1px solid rgba(0, 243, 255, 0.1)"},children:g.jsx("span",{style:{fontSize:"11px",color:"rgba(0, 243, 255, 0.5)"},children:"No state data"})});const r=n.on||n.state==="on",s=n.brightness?Math.round(n.brightness/255*100):0,l=n.hs_color||[0,0],[u,d]=l;let h="#e74c3c";r&&(d===0?h="#f1c40f":h=`hsl(${u}, ${d}%, 50%)`);const p={width:"14px",height:"14px",borderRadius:"50%",background:h,border:"1px solid rgba(255,255,255,0.3)",animation:r?"flash-pulse 2s infinite ease-in-out":"none",color:h,marginRight:"8px",flexShrink:0,boxShadow:r?`0 0 5px ${h}`:"none"};return g.jsxs("div",{style:{padding:"6px 8px",background:"rgba(0, 20, 30, 0.6)",borderRadius:"4px",marginBottom:"4px",border:"1px solid rgba(0, 243, 255, 0.2)",display:"flex",flexDirection:"column"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:r?"4px":"0"},children:[g.jsxs("div",{style:{display:"flex",alignItems:"center",flex:1,overflow:"hidden"},children:[g.jsx("div",{style:p}),g.jsx("span",{style:{fontSize:"12px",color:"#e0f7fa",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginRight:"8px"},children:n.name||a.deviceId})]}),g.jsx("span",{style:{fontSize:"10px",color:"#00f3ff",fontFamily:"monospace",whiteSpace:"nowrap"},children:r?`${s}%`:"Off"})]}),r&&g.jsx("div",{style:{width:"100%",height:"4px",background:"rgba(0, 243, 255, 0.1)",borderRadius:"2px",overflow:"hidden"},children:g.jsx("div",{style:{width:`${s}%`,height:"100%",background:`linear-gradient(90deg, rgba(0, 243, 255, 0.2), ${h})`,transition:"width 0.3s ease-out"}})})]})}function zN(a){const{state:n,color:r}=a.data.data||{},s=n==="on"||n==="open"||n==="playing",l=r||(s?"#00f3ff":"#333");return g.jsxs("div",{className:"status-indicator-control",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"5px",width:"100%"},onPointerDown:u=>u.stopPropagation(),children:[g.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:s?l:"rgba(0, 20, 30, 0.8)",boxShadow:s?`0 0 10px ${l}, 0 0 20px ${l}`:"none",transition:"all 0.3s ease",border:"1px solid rgba(0, 243, 255, 0.3)",animation:s?"pulse 2s infinite":"none"}}),g.jsx("style",{children:`
                @keyframes pulse {
                    0% { opacity: 1; transform: scale(1); }
                    50% { opacity: 0.7; transform: scale(0.9); }
                    100% { opacity: 1; transform: scale(1); }
                }
            `})]})}function RN(a){const{brightness:n,hs_color:r,entityType:s}=a.data.data||{};let l="#444";r&&r.length===2?l=`hsl(${r[0]}, ${r[1]}%, 50%)`:s==="light"&&(l="#ffaa00");const u=n?n/255*100:0;return g.jsx("div",{className:"color-bar-control",style:{width:"100%",height:"8px",backgroundColor:"rgba(0, 20, 30, 0.6)",borderRadius:"4px",overflow:"hidden",marginTop:"5px",border:"1px solid rgba(0, 243, 255, 0.2)"},onPointerDown:d=>d.stopPropagation(),children:g.jsx("div",{style:{width:`${u}%`,height:"100%",backgroundColor:l,transition:"all 0.3s ease",boxShadow:`0 0 10px ${l}`}})})}function LN(a){const{power:n,energy:r}=a.data.data||{};return n===null&&r===null?g.jsx("div",{className:"power-stats-control",style:{fontSize:"10px",color:"#777",marginTop:"5px",fontFamily:"monospace"},children:"-- W / -- kWh"}):g.jsxs("div",{className:"power-stats-control",style:{display:"flex",flexDirection:"column",fontSize:"10px",color:"#e0f7fa",marginTop:"5px",fontFamily:"monospace"},onPointerDown:s=>s.stopPropagation(),children:[g.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[g.jsx("span",{children:"PWR:"}),g.jsx("span",{style:{color:"#00f3ff"},children:n!==null?`${n} W`:"--"})]}),r!==null&&g.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[g.jsx("span",{children:"NRG:"}),g.jsxs("span",{style:{color:"#ffaa00"},children:[r," kWh"]})]})]})}const BN=!1,Fe=(...a)=>BN;function UN(){const a=T.useRef(null),[n,r]=T.useState(null),[s,l]=T.useState(null),[u,d]=T.useState(null),[h,p]=T.useState(null),m=T.useRef(!1),v=T.useRef(new Set),w=T.useRef(null),S=T.useRef(!1),k=T.useRef(null),M=T.useRef(null),P=T.useRef(null),Y=T.useRef({x:0,y:0}),K=T.useRef(!1),q=T.useRef([]),[U,G]=T.useState({visible:!1,position:{x:0,y:0},items:[],nodeContext:null}),re=T.useCallback(async _=>{await new Promise(te=>{const ie=()=>{const xe=_.getBoundingClientRect();xe.width>0&&xe.height>0?te():requestAnimationFrame(ie)};requestAnimationFrame(ie)});const H=new mr,z=new lb(_),J=new n2,x=new oO({createRoot:V0.createRoot}),E=new vO;H.use(E);let N=null,D=!1;const Z=async()=>{D||(D=!0,N&&clearTimeout(N),N=setTimeout(async()=>{D=!1,N=null,E.reset();for(const te of H.getNodes())try{await E.fetch(te.id)}catch{}},16))},se=async()=>{N&&(clearTimeout(N),N=null),D=!1,E.reset();for(const te of H.getNodes())try{await E.fetch(te.id)}catch{}},ue=new Set;let le=null;const me=te=>{ue.add(te),le||(le=setTimeout(()=>{le=null,ue.forEach(ie=>{z.update("node",ie)}),ue.clear(),Z()},16))},Ne=()=>{Z()},Ye=()=>{const te=An.getAll(),ie={};return te.forEach(ve=>{const De=ve.category||"Other";ie[De]||(ie[De]=[]),ie[De].push({label:ve.label,handler:async nt=>{let vt;const wn=()=>{ve.updateStrategy==="dataflow"?Ne():me(vt.id)};vt=ve.factory(wn),await H.addNode(vt);const qt=z.area.transform,Sn=(nt.x-qt.x)/qt.k,Zt=(nt.y-qt.y)/qt.k;await z.translate(vt.id,{x:Sn,y:Zt})}})}),Object.entries(ie).map(([ve,De])=>({label:ve,subitems:De.sort((nt,vt)=>nt.label.localeCompare(vt.label))})).sort((ve,De)=>ve.label.localeCompare(De.label))};window._t2GetMenuItems=Ye,window._t2Editor=H,window._t2Area=z;const pe=Ur.selector();x.addPreset(id.classic.setup({customize:{node(te){const ie=An.getByInstance(te.payload);return ie?ie.component:id.classic.Node},control(te){if(te.payload instanceof ft.Control){const xe=te.payload.constructor.name;if(xe==="ButtonControl")return CN;if(xe==="DropdownControl")return NN;if(xe==="TextControl")return _N;if(xe==="SwitchControl")return AN;if(xe==="NumberControl")return jN;if(xe==="InputControl")return DN;if(xe==="DeviceStateControl")return MN;if(xe==="StatusIndicatorControl")return zN;if(xe==="ColorBarControl")return RN;if(xe==="PowerStatsControl")return LN}return id.classic.Control}}})),J.addPreset(JE.classic.setup()),H.use(z),z.use(J),z.use(x),Ur.selectableNodes(z,pe,{accumulating:Ur.accumulateOnCtrl()}),Ur.simpleNodesOrder(z),H.addPipe(te=>{if(te.type==="nodecreated"){const ie=te.data,xe=An.getByInstance(ie);xe&&xe.isBackdrop&&setTimeout(()=>{const ve=z.nodeViews.get(ie.id);ve&&ve.element&&(ve.element.style.zIndex="-10",Fe("[Backdrop] Set z-index on creation for:",ie.id))},50)}return te});let _e=!1,Le=!1,xt={x:0,y:0};J.addPipe(te=>(te.type==="connectionpick"?_e=!0:te.type==="connectiondrop"&&(_e=!1,Le=!1),te));const un=te=>{if(_e)if(te.ctrlKey||te.metaKey)if(!Le)Le=!0,xt={x:te.clientX,y:te.clientY},_.style.cursor="grab";else{const ie=te.clientX-xt.x,xe=te.clientY-xt.y;if(ie!==0||xe!==0){const ve=z.area.transform;z.area.translate(ve.x+ie,ve.y+xe),xt={x:te.clientX,y:te.clientY}}}else Le&&(Le=!1,_.style.cursor="")},ra=te=>{(te.key==="Control"||te.key==="Meta")&&Le&&(Le=!1,_.style.cursor="")};window.addEventListener("pointermove",un),window.addEventListener("keyup",ra);const Be=document.createElement("div");Be.classList.add("selection-box"),_.appendChild(Be);let it=!1,At={x:0,y:0};const mt=v.current,bn=()=>{it&&(it=!1,Be.style.display="none")},en=()=>{bn(),window.resetEditorDragState&&window.resetEditorDragState()},Mt=()=>{document.hidden&&(bn(),window.resetEditorDragState&&window.resetEditorDragState())};window.addEventListener("blur",en),document.addEventListener("visibilitychange",Mt);const Xr=te=>{if((te.ctrlKey||te.metaKey)&&te.button===0){te.stopPropagation(),te.preventDefault(),it=!0;const ie=_.getBoundingClientRect();At={x:te.clientX-ie.left,y:te.clientY-ie.top},Be.style.display="block",Be.style.left=`${At.x}px`,Be.style.top=`${At.y}px`,Be.style.width="0px",Be.style.height="0px",te.shiftKey||(mt.forEach(xe=>{const ve=z.nodeViews.get(xe);ve&&ve.element&&(ve.element.classList.remove("selected"),ve.element.style.outline="")}),mt.clear(),pe&&pe.entities&&Array.from(pe.entities).forEach(xe=>pe.remove(xe)))}},gr=te=>{if(!it)return;const ie=_.getBoundingClientRect(),xe=te.clientX-ie.left,ve=te.clientY-ie.top,De=Math.min(At.x,xe),nt=Math.min(At.y,ve),vt=Math.abs(xe-At.x),wn=Math.abs(ve-At.y);Be.style.left=`${De}px`,Be.style.top=`${nt}px`,Be.style.width=`${vt}px`,Be.style.height=`${wn}px`},vr=te=>{if(!it)return;const ie=Be.getBoundingClientRect();if(it=!1,Be.style.display="none",ie.width<5&&ie.height<5)return;const xe=[];H.getNodes().forEach(ve=>{const De=z.nodeViews.get(ve.id);if(De&&De.element){const nt=De.element.getBoundingClientRect();ie.left<=nt.left&&ie.right>=nt.right&&ie.top<=nt.top&&ie.bottom>=nt.bottom&&xe.push({node:ve,view:De})}}),xe.forEach(({node:ve,view:De})=>{mt.add(ve.id),pe.add({id:ve.id,label:"node",translate(nt,vt){},unselect(){De.element.classList.remove("selected"),De.element.style.outline=""}},!1),De.element.classList.add("selected"),De.element.style.outline="3px solid #00f3ff"})},F=()=>{mt.size>0&&(mt.forEach(te=>{const ie=z.nodeViews.get(te);ie&&ie.element&&(ie.element.classList.remove("selected"),ie.element.style.outline="")}),mt.clear()),pe&&pe.entities&&(pe.entities instanceof Map?Array.from(pe.entities.values()):Array.from(pe.entities)).forEach(ie=>{ie.unselect&&ie.unselect(),pe.remove(ie)}),H.getNodes().forEach(te=>{const ie=z.nodeViews.get(te.id);ie&&ie.element&&ie.element.classList.remove("selected")})},fe=te=>{if(!te.ctrlKey&&!te.metaKey&&!it){let ie=!1;for(const[xe,ve]of z.nodeViews)if(ve.element.contains(te.target)){ie=!0;break}if(!ie){const xe=te.target;(xe===_||xe.classList.contains("rete-area")||xe.closest('[data-testid="area"]'))&&F()}}};_.addEventListener("pointerdown",Xr,{capture:!0}),_.addEventListener("click",fe),window.addEventListener("pointermove",gr),window.addEventListener("pointerup",vr),H.addPipe(te=>((te.type==="connectioncreated"||te.type==="connectionremoved")&&Z(),te));let ye={activeBackdropId:null,isDragging:!1},He=!1,kt=null;const Ct=te=>{He=te,kt&&(clearTimeout(kt),kt=null),te&&(kt=setTimeout(()=>{He&&(He=!1),kt=null},500))},je=()=>{it&&(it=!1,Be.style.display="none"),He&&Ct(!1),ye.isDragging&&(ye.isDragging=!1,ye.activeBackdropId=null)};window.resetEditorDragState=je;function st(){const te=H.getNodes(),ie=te.filter(ve=>{const De=An.getByInstance(ve);return De&&De.isBackdrop}),xe=te.filter(ve=>{const De=An.getByInstance(ve);return!De||!De.isBackdrop});ie.forEach(ve=>{const De=z.nodeViews.get(ve.id);if(!De)return;De.element&&(De.element.style.zIndex="-10");const nt=De.position,vt=[],wn=ve.properties.width||400,qt=ve.properties.height||300;xe.forEach(Zt=>{const xn=z.nodeViews.get(Zt.id);if(!xn)return;xn.element&&parseInt(xn.element.style.zIndex||"0",10)<0&&(xn.element.style.zIndex="1");const Mn=xn.position,Eu=Zt.width||180,vo=Zt.height||100,as=Mn.x+Eu/2,rs=Mn.y+vo/2;as>=nt.x&&as<=nt.x+wn&&rs>=nt.y&&rs<=nt.y+qt&&vt.push(Zt.id)});const Sn=ve.properties.capturedNodes.length;ve.properties.capturedNodes=vt,Sn!==vt.length&&ve.changeCallback&&ve.changeCallback()})}return z.updateBackdropCaptures=st,z.addPipe(te=>{if(te.type==="nodepicked"){const ie=te.data.id,xe=H.getNode(ie);if(xe){const De=An.getByInstance(xe);if(De&&De.isBackdrop&&xe.properties.locked)return}!K.current&&!mt.has(ie)&&(mt.forEach(De=>{const nt=z.nodeViews.get(De);nt&&nt.element&&(nt.element.classList.remove("selected"),nt.element.style.outline="")}),mt.clear()),mt.add(ie);const ve=z.nodeViews.get(ie);ve&&ve.element&&(ve.element.classList.add("selected"),ve.element.style.outline="3px solid #00f3ff")}return te}),z.addPipe(te=>{if(te.type==="render"&&te.data?.payload){const ie=te.data.payload,xe=An.getByInstance(ie);xe&&xe.isBackdrop&&setTimeout(()=>{const ve=z.nodeViews.get(ie.id);if(ve&&ve.element){ve.element.style.zIndex!=="-10"&&(ve.element.style.zIndex="-10");const De=ie.properties.locked?"none":"auto";ve.element.style.pointerEvents!==De&&(ve.element.style.pointerEvents=De)}},0)}if(te.type==="nodetranslate"){if(m.current||He)return te;const ie=te.data.id,xe=H.getNode(ie);if(!xe)return te;const ve=te.data.position,De=te.data.previous,nt=ve.x-De.x,vt=ve.y-De.y;if(nt===0&&vt===0)return te;if(mt.size>1&&mt.has(ie)){Ct(!0);const qt=[];return mt.forEach(Sn=>{if(Sn!==ie){const Zt=z.nodeViews.get(Sn);if(Zt){const xn=Zt.position.x+nt,Mn=Zt.position.y+vt;qt.push(z.translate(Sn,{x:xn,y:Mn}))}}}),Promise.all(qt).then(()=>{Ct(!1)}),te}const wn=An.getByInstance(xe);if(wn&&wn.isBackdrop){if(xe.properties.locked)return{...te,data:{...te.data,position:te.data.previous}};if(ye.activeBackdropId!==ie&&(ye.activeBackdropId=ie,ye.isDragging=!0,st()),xe.properties.capturedNodes.length>0){Ct(!0);const qt=[];return xe.properties.capturedNodes.forEach(Sn=>{if(!mt.has(Sn)){const Zt=z.nodeViews.get(Sn);if(Zt){const xn=Zt.position.x+nt,Mn=Zt.position.y+vt;qt.push(z.translate(Sn,{x:xn,y:Mn}))}}}),Promise.all(qt).then(()=>{Ct(!1)}),te}}}if(te.type==="nodedragged"){if(m.current)return te;ye.isDragging=!1,ye.activeBackdropId=null,st()}return te}),k.current=H,M.current=z,P.current=pe,window.updateBackdropLockState=(te,ie)=>{const xe=z.nodeViews.get(te);xe&&xe.element&&(xe.element.style.pointerEvents=ie?"none":"auto")},r(H),l(z),d(E),{destroy:()=>{_.removeEventListener("pointerdown",Xr,{capture:!0}),_.removeEventListener("click",fe),window.removeEventListener("pointermove",gr),window.removeEventListener("pointerup",vr),window.removeEventListener("pointermove",un),window.removeEventListener("keyup",ra),window.removeEventListener("blur",en),document.removeEventListener("visibilitychange",Mt),kt&&clearTimeout(kt),Be.parentNode&&Be.parentNode.removeChild(Be),z.destroy()},selector:pe,editor:H,area:z,engine:E,process:Z,processImmediate:se}},[]);T.useEffect(()=>{const _=a.current;if(!_)return;let H=null,z=null,J=null;z=xN().then(()=>re(_)).then(E=>{E.editor,H=E.area,E.engine,E.selector,r(E.editor),l(E.area),d(E.engine),p(E.selector),w.current=E.processImmediate,setTimeout(()=>{if(_){_.tabIndex=-1,_.focus();const D=_.getBoundingClientRect(),Z=D.left+D.width/2,se=D.top+D.height/2,ue=new WheelEvent("wheel",{bubbles:!0,cancelable:!0,clientX:Z,clientY:se,deltaY:0});_.dispatchEvent(ue),window.resetEditorView=()=>{requestAnimationFrame(()=>{window.resetEditorDragState&&window.resetEditorDragState();const le=_.getBoundingClientRect(),me=le.left+le.width/2,Ne=le.top+le.height/2;_.tabIndex=-1,_.focus();try{for(let _e=0;_e<5;_e++)try{_.releasePointerCapture(_e)}catch{}_.querySelectorAll(".node, .connection, [data-drag]").forEach(_e=>{try{_e.releasePointerCapture(1)}catch{}})}catch{}if(H){const pe=new PointerEvent("pointercancel",{bubbles:!0,cancelable:!0,pointerId:1,pointerType:"mouse"});_.dispatchEvent(pe);const _e=new PointerEvent("lostpointercapture",{bubbles:!0,cancelable:!0,pointerId:1,pointerType:"mouse"});_.dispatchEvent(_e)}setTimeout(()=>{const pe=new PointerEvent("pointerdown",{bubbles:!0,cancelable:!0,clientX:me,clientY:Ne,pointerId:1,pointerType:"mouse",isPrimary:!0,button:0,buttons:1}),_e=new PointerEvent("pointerup",{bubbles:!0,cancelable:!0,clientX:me,clientY:Ne,pointerId:1,pointerType:"mouse",isPrimary:!0,button:0,buttons:0});_.dispatchEvent(pe),setTimeout(()=>{_.dispatchEvent(_e);const Le=new WheelEvent("wheel",{bubbles:!0,cancelable:!0,clientX:me,clientY:Ne,deltaY:0});_.dispatchEvent(Le)},50)},50)})}}},100);let N=!1;return J=new ResizeObserver(D=>{for(const Z of D){const{width:se,height:ue}=Z.contentRect;!N&&se>0&&ue>0&&(N=!0,setTimeout(()=>{_.focus();const le=_.getBoundingClientRect(),me=new WheelEvent("wheel",{bubbles:!0,cancelable:!0,clientX:le.left+le.width/2,clientY:le.top+le.height/2,deltaY:0});_.dispatchEvent(me)},50))}}),J.observe(_),E});const x=()=>{window.resetEditorView&&window.resetEditorView()};return window.addEventListener("graphLoadComplete",x),()=>{J&&J.disconnect(),window.removeEventListener("graphLoadComplete",x),z.then(E=>E.destroy())}},[re]),T.useEffect(()=>{if(!n||!s||!h)return;const _=async N=>{if(N.target.tagName==="INPUT"||N.target.tagName==="TEXTAREA"||N.target.isContentEditable)return;if(Fe(` KeyDown: ${N.code} (Ctrl: ${N.ctrlKey}, Meta: ${N.metaKey})`),N.code==="F5"||(N.ctrlKey||N.metaKey)&&N.shiftKey&&N.code==="KeyR"){N.preventDefault(),window.resetEditorView&&window.resetEditorView();return}const D=k.current,Z=M.current,se=P.current;if(!D||!Z)return;const ue=()=>{const le=new Set;if(se&&se.entities&&se.entities instanceof Map)for(const[me,Ne]of se.entities)D.getNode(me)&&le.add(me);for(const me of v.current)D.getNode(me)&&le.add(me);return Fe(` Found ${le.size} selected nodes:`,Array.from(le)),Array.from(le)};if(N.code==="Delete"||N.code==="Backspace"){Fe(" Delete key pressed. lassoSelectedNodesRef.current size:",v.current.size),Fe(" lassoSelectedNodesRef.current contents:",Array.from(v.current));const le=ue();if(Fe(` Deleting ${le.length} nodes:`,le),le.length>0){const me=[],Ne=[],Ye=new Set(le);for(const pe of D.getConnections())(Ye.has(pe.source)||Ye.has(pe.target))&&Ne.push({source:pe.source,target:pe.target,sourceOutput:pe.sourceOutput,targetInput:pe.targetInput});for(const pe of le){const _e=D.getNode(pe);_e&&me.push({id:pe,label:_e.label,position:Z.nodeViews.get(pe)?.position||{x:0,y:0},properties:JSON.parse(JSON.stringify(_e.properties||{}))})}q.current.push({type:"delete",nodes:me,connections:Ne}),Fe(" Saved undo state:",q.current.length,"items in stack");for(const pe of le){const _e=D.getConnections().filter(Le=>Le.source===pe||Le.target===pe);for(const Le of _e)await D.removeConnection(Le.id);await D.removeNode(pe),v.current.delete(pe)}}}if((N.ctrlKey||N.metaKey)&&N.code==="KeyZ"&&!N.shiftKey){if(N.preventDefault(),q.current.length===0)return;const le=q.current.pop();if(Fe(" Undoing:",le.type,le.nodes.length,"nodes"),le.type==="delete"){const me={};m.current=!0;try{for(const Ne of le.nodes){const Ye=An.getByLabel(Ne.label);if(Ye){let pe;const _e=()=>{Z&&Z.update("node",pe.id),u&&D&&(u.reset(),setTimeout(()=>{D.getNodes().forEach(async xt=>{try{await u.fetch(xt.id)}catch{}})},0))},Le=()=>{Ye.updateStrategy==="dataflow"?(u&&u.reset(),u&&D&&setTimeout(()=>{D.getNodes().forEach(async xt=>{try{await u.fetch(xt.id)}catch{}})},0)):_e()};pe=Ye.factory(Le),Ne.properties&&Object.assign(pe.properties,Ne.properties),await D.addNode(pe),await Z.translate(pe.id,Ne.position),me[Ne.id]=pe.id}}for(const Ne of le.connections){const Ye=me[Ne.source]||Ne.source,pe=me[Ne.target]||Ne.target,_e=D.getNode(Ye),Le=D.getNode(pe);if(_e&&Le)try{await D.addConnection(new ft.Connection(_e,Ne.sourceOutput,Le,Ne.targetInput))}catch(xt){console.warn("[Editor] Could not restore connection:",xt)}}Fe(" Undo complete - restored",le.nodes.length,"nodes")}finally{m.current=!1,Z?.updateBackdropCaptures?.()}}}if((N.ctrlKey||N.metaKey)&&N.code==="KeyC")try{const le=ue();if(le.length===0){Fe(" Nothing selected to copy");return}Fe(` Copying ${le.length} nodes`);const me=[],Ne=new Set(le);for(const _e of le){const Le=D.getNode(_e);Le&&me.push({label:Le.label,position:Z.nodeViews.get(Le.id)?.position||{x:0,y:0},data:{id:Le.id,properties:JSON.parse(JSON.stringify(Le.properties||{}))}})}if(me.length===0){Fe(" Nothing selected to copy (no nodes in selection)");return}const Ye=[];for(const _e of D.getConnections())Ne.has(_e.source)&&Ne.has(_e.target)&&Ye.push({source:_e.source,target:_e.target,sourceOutput:_e.sourceOutput,targetInput:_e.targetInput});const pe={nodes:me,connections:Ye};localStorage.setItem("rete-clipboard",JSON.stringify(pe)),Fe("Copied to clipboard:",pe)}catch(le){console.error("[Editor] Copy failed:",le)}if((N.ctrlKey||N.metaKey)&&N.code==="KeyV"){const le=localStorage.getItem("rete-clipboard");if(!le)return;try{const me=JSON.parse(le),Ne={},pe=(M.current?.container||a.current)?.getBoundingClientRect()||{left:0,top:0},_e=Z.area.transform,Le=(Y.current.x-pe.left-_e.x)/_e.k,xt=(Y.current.y-pe.top-_e.y)/_e.k;let un=1/0,ra=1/0;for(const Be of me.nodes)un=Math.min(un,Be.position.x),ra=Math.min(ra,Be.position.y);se&&se.entities&&Array.from(se.entities).forEach(Be=>se.remove(Be)),m.current=!0;try{for(const Be of me.nodes){let it;const At=An.getByLabel(Be.label);if(At){const mt=()=>{Z&&Z.update("node",it.id),u&&D&&(u.reset(),setTimeout(()=>{D.getNodes().forEach(async en=>{try{await u.fetch(en.id)}catch{}})},0))},bn=()=>{At.updateStrategy==="dataflow"?(u&&u.reset(),u&&D&&setTimeout(()=>{D.getNodes().forEach(async en=>{try{await u.fetch(en.id)}catch{}})},0)):mt()};it=At.factory(bn)}if(it){typeof it.restore=="function"&&Be.data?it.restore(Be.data):Be.data&&Be.data.properties&&it.properties&&Object.assign(it.properties,Be.data.properties),await D.addNode(it);const mt=Be.position.x-un,bn=Be.position.y-ra,en={x:Le+mt,y:xt+bn};await Z.translate(it.id,en),Ne[Be.data.id]=it.id,se&&se.add({id:it.id,label:"node",translate:()=>{},unmount:()=>{}},!0)}}}finally{m.current=!1,Z?.updateBackdropCaptures?.()}for(const Be of me.connections){const it=Ne[Be.source],At=Ne[Be.target];if(it&&At){const mt=D.getNode(it),bn=D.getNode(At);mt&&bn&&await D.addConnection(new ft.Connection(mt,Be.sourceOutput,bn,Be.targetInput))}}Fe("Pasted from clipboard")}catch(me){console.error("[Editor] Paste failed:",me)}}N.code==="Home"&&(N.preventDefault(),Z.area&&(Z.area.zoom(1,0,0),Z.area.translate(0,0))),N.code==="Escape"&&window.resetEditorDragState&&window.resetEditorDragState()},H=N=>{Y.current={x:N.clientX,y:N.clientY}},z=N=>{N.key==="Shift"&&(K.current=!0)},J=N=>{N.key==="Shift"&&(K.current=!1)},x=()=>{_({code:"Delete",ctrlKey:!1,metaKey:!1,target:{tagName:"DIV",isContentEditable:!1}})};let E=null;return window.api&&window.api.onDeleteKey&&(E=window.api.onDeleteKey(x)),window.addEventListener("keydown",_),window.addEventListener("keydown",z),window.addEventListener("keyup",J),window.addEventListener("mousemove",H),()=>{window.removeEventListener("keydown",_),window.removeEventListener("keydown",z),window.removeEventListener("keyup",J),window.removeEventListener("mousemove",H),E&&E()}},[n,s,u,h]),T.useEffect(()=>{const _=a.current;if(!_||!n||!s)return;const H=z=>{const J=z.target.closest('[data-testid="node"]');if(J){z.preventDefault();const x=J.dataset.nodeId||Array.from(s.nodeViews.entries()).find(([E,N])=>N.element===J)?.[0];if(x){const E=n.getNode(x);G({visible:!0,position:{x:z.clientX,y:z.clientY},items:[{label:"Delete",handler:async()=>{const N=n.getConnections().filter(D=>D.source===x||D.target===x);for(const D of N)await n.removeConnection(D.id);await n.removeNode(x)}}],nodeContext:E})}}else{z.preventDefault();const x=window._t2GetMenuItems?window._t2GetMenuItems():[];G({visible:!0,position:{x:z.clientX,y:z.clientY},items:x,nodeContext:null})}};return _.addEventListener("contextmenu",H),()=>{_.removeEventListener("contextmenu",H)}},[n,s]);const oe=T.useCallback(()=>{G(_=>({..._,visible:!1}))},[]),ee=T.useCallback(async _=>{_.handler&&await _.handler(U.position)},[U.position]),he=async()=>{if(!(!n||!s))try{const _=n.getNodes().map(Z=>{const se=typeof Z.toJSON=="function"?Z.toJSON():{...Z};return Z.properties&&(se.properties=Z.properties),{id:Z.id,label:Z.label,position:s.nodeViews.get(Z.id)?.position||{x:0,y:0},data:se}}),H=n.getConnections().map(Z=>({id:Z.id,source:Z.source,target:Z.target,sourceOutput:Z.sourceOutput,targetInput:Z.targetInput})),z=s.area?.transform?{x:s.area.transform.x,y:s.area.transform.y,k:s.area.transform.k}:{x:0,y:0,k:1},x=JSON.stringify({nodes:_,connections:H,viewport:z},null,2);try{x.length<2e6&&(localStorage.removeItem("saved-graph"),localStorage.setItem("saved-graph",x))}catch{console.warn("localStorage skipped")}if(Fe("Graph saved to localStorage"),window.api?.saveTempFile)try{await window.api.saveTempFile("autotron_graph.json",x),Fe("[handleSave] Saved temp file for Electron reload")}catch(Z){console.warn("[handleSave] Failed to save temp file via Electron API",Z)}if(window.showSaveFilePicker)try{const se=await(await window.showSaveFilePicker({suggestedName:"autotron_graph.json",types:[{description:"AutoTron Graph",accept:{"application/json":[".json"]}}]})).createWritable();await se.write(x),await se.close(),Fe("Graph saved to file");return}catch(Z){if(Z.name==="AbortError")return;console.warn("File System Access API failed, falling back to download",Z)}const E=new Blob([x],{type:"application/json"}),N=URL.createObjectURL(E),D=document.createElement("a");D.href=N,D.download=`autotron_graph_${Date.now()}.json`,D.click(),URL.revokeObjectURL(N),Fe("Graph saved via download")}catch(_){console.error("Failed to save graph:",_)}},[I,ae]=T.useState(!1),Ee=T.useRef(null),Oe=T.useRef(Date.now());T.useEffect(()=>{if(!n)return;const _=()=>{ae(!0)};n.addPipe(H=>(["nodecreated","noderemoved","connectioncreated","connectionremoved"].includes(H.type)&&_(),H))},[n]),T.useEffect(()=>{if(!n||!s)return;const _=async()=>{if(!(window.graphLoading||S.current)&&I)try{const H=n.getNodes().map(N=>{const D=typeof N.toJSON=="function"?N.toJSON():{...N};return N.properties&&(D.properties=N.properties),{id:N.id,label:N.label,position:s.nodeViews.get(N.id)?.position||{x:0,y:0},data:D}}),z=n.getConnections().map(N=>({id:N.id,source:N.source,target:N.target,sourceOutput:N.sourceOutput,targetInput:N.targetInput})),J=s.area?.transform?{x:s.area.transform.x,y:s.area.transform.y,k:s.area.transform.k}:{x:0,y:0,k:1},x={nodes:H,connections:z,viewport:J,autoSaved:!0,timestamp:Date.now()},E=JSON.stringify(x);E.length<2e6&&(localStorage.setItem("saved-graph",E),Oe.current=Date.now(),ae(!1),window.T2Toast&&window.T2Toast.success("Auto-saved",2e3))}catch(H){console.warn("[Auto-save] Failed:",H)}};return Ee.current=setInterval(_,12e4),()=>{Ee.current&&clearInterval(Ee.current)}},[n,s,I]);const Ce=async()=>{if(!n||!s||!u){console.error("[handleLoad] Missing instances:",{editor:!!n,area:!!s,engine:!!u});return}try{let _=localStorage.getItem("saved-graph");if(!_&&window.api?.readTempFile)try{const E=await window.api.readTempFile("autotron_graph.json");E?.success&&E.content&&(_=E.content,Fe("[handleLoad] Loaded graph from Electron temp file"))}catch(E){console.warn("[handleLoad] Failed to read Electron temp file",E)}if(!_){alert("No saved graph found");return}const H=JSON.parse(_);Fe(`[handleLoad] Loading graph with ${H.nodes?.length} nodes`);const z=L0(H);if(!z.valid){console.warn("[handleLoad] Graph validation failed:",z.errors),window.T2Toast&&window.T2Toast.warning(`Graph has issues: ${z.errors.length} errors`,4e3);const E=B0(H);E.repaired&&(Fe("[handleLoad] Graph repaired:",E.fixes),window.T2Toast&&window.T2Toast.info(`Graph repaired: ${E.fixes.length} fixes applied`,3e3),Object.assign(H,E.graphData))}z.warnings.length>0&&console.warn("[handleLoad] Graph warnings:",z.warnings),await ze();const J=n.getNodes();if(J.length>0){console.error("[handleLoad] Clear did not work! Still have",J.length,"nodes");for(const E of J)try{await n.removeNode(E.id)}catch(N){console.error("[handleLoad] Force remove failed:",N)}}if(m.current=!0,S.current=!0,s?.area){const E=s.area.transform;E.k=.1,E.x=0,E.y=0}try{for(const E of H.nodes){let N;const D=An.getByLabel(E.label);if(D){const Z=()=>{if(S.current){s&&s.update("node",E.id);return}s&&s.update("node",E.id),u&&n&&(u.reset(),setTimeout(()=>{n.getNodes().forEach(async se=>{try{await u.fetch(se.id)}catch{}})},0))};N=D.factory(Z)}N&&(N.id=E.id,typeof N.restore=="function"&&E.data?N.restore(E.data):E.data&&E.data.properties&&N.properties&&Object.assign(N.properties,E.data.properties),await n.addNode(N),await s.translate(N.id,E.position))}for(const E of H.connections){const N=n.getNode(E.source),D=n.getNode(E.target);N&&D&&await n.addConnection(new ft.Connection(N,E.sourceOutput,D,E.targetInput))}}finally{m.current=!1,s?.updateBackdropCaptures?.()}const x=n.getNodes();if(x.length>0&&s){Fe("[handleLoad] Zooming to fit",x.length,"nodes...");try{await Ur.zoomAt(s,x,{scale:.9})}catch(E){console.warn("[handleLoad] zoomAt failed:",E)}}w.current&&(Fe("[handleLoad] Processing graph immediately..."),await w.current(),Fe("[handleLoad] Graph processing complete")),S.current=!1,Fe("[handleLoad] Setting up viewport restoration timer..."),setTimeout(()=>{if(Fe("[handleLoad] Viewport restoration timer fired, areaInstance:",!!s,"area:",!!s?.area),s?.area){const E=H.viewport||{x:0,y:0,k:1},N=E.k||1,D=E.x||0,Z=E.y||0;Fe("[handleLoad] Restoring viewport:",{savedX:D,savedY:Z,savedK:N}),Fe("[handleLoad] Current transform before restore:",{...s.area.transform});const se=s.area.transform;se.k=N,se.x=D,se.y=Z;const ue=s.container?.querySelector(".rete-area");ue&&(ue.style.transform=`translate(${D}px, ${Z}px) scale(${N})`),s.emit({type:"transformed",data:{transform:se}}),Fe("[handleLoad] Transform after restore:",{...s.area.transform});const le=s.container;le&&(le.tabIndex=-1,le.focus(),document.activeElement&&document.activeElement!==le&&document.activeElement.tagName!=="BODY"&&document.activeElement.blur(),window.resetEditorView&&(setTimeout(()=>window.resetEditorView(),100),setTimeout(()=>window.resetEditorView(),500),setTimeout(()=>window.resetEditorView(),1e3))),n.getNodes().forEach(me=>{const Ne=s.nodeViews.get(me.id);if(Ne?.element)try{for(let Ye=0;Ye<10;Ye++)try{Ne.element.releasePointerCapture(Ye)}catch{}}catch{}})}},300),Fe("Graph loaded")}catch(_){console.error("Failed to load graph:",_),S.current=!1,alert("Failed to load graph")}},ze=async()=>{if(!n){console.warn("[handleClear] No editor instance!");return}try{const _=n.getConnections(),H=n.getNodes();Fe(`[handleClear] Removing ${_.length} connections and ${H.length} nodes`);for(const J of _)await n.removeConnection(J.id);for(const J of H)await n.removeNode(J.id);const z=n.getNodes();Fe(`[handleClear] Complete. Remaining nodes: ${z.length}`),z.length>0&&console.error("[handleClear] Failed to remove all nodes! Remaining:",z.map(J=>J.id))}catch(_){console.error("Failed to clear graph:",_)}},ne=()=>{if(!(!n||!s))try{const _=n.getNodes().map(D=>{const Z=typeof D.toJSON=="function"?D.toJSON():{...D};return D.properties&&(Z.properties=D.properties),{id:D.id,label:D.label,position:s.nodeViews.get(D.id)?.position||{x:0,y:0},data:Z}}),H=n.getConnections().map(D=>({id:D.id,source:D.source,target:D.target,sourceOutput:D.sourceOutput,targetInput:D.targetInput})),z=s.area?.transform?{x:s.area.transform.x,y:s.area.transform.y,k:s.area.transform.k}:{x:0,y:0,k:1},J={nodes:_,connections:H,viewport:z},x=new Blob([JSON.stringify(J,null,2)],{type:"application/json"}),E=URL.createObjectURL(x),N=document.createElement("a");N.href=E,N.download=`graph-${Date.now()}.json`,N.click(),URL.revokeObjectURL(E),Fe("Graph exported")}catch(_){console.error("Failed to export graph:",_)}},A=async _=>{const H=L0(_);if(!H.valid){console.warn("[handleImport] Graph validation failed:",H.errors),window.T2Toast&&window.T2Toast.warning(`Graph has issues: ${H.errors.length} errors`,4e3);const x=B0(_);if(x.repaired)window.T2Toast&&window.T2Toast.info(`Graph repaired: ${x.fixes.length} fixes applied`,3e3),_=x.graphData;else if(!confirm(`Graph has ${H.errors.length} errors. Continue anyway?`))return}const z={log:console.log,warn:console.warn,error:console.error};console.log=()=>{},console.warn=()=>{};let J=0;if(console.error=(...x)=>{J++<10&&z.error(...x)},z.log("%c IMPORT STARTED (console suppressed)","background: green; color: white; font-size: 16px;"),window.graphLoading=!0,!n||!s||!u){Object.assign(console,z);return}try{if(await ze(),m.current=!0,S.current=!0,s?.area){const E=s.area.transform;E.k=.1,E.x=0,E.y=0}try{for(const E of _.nodes){let N;const D=An.getByLabel(E.label);if(!D){console.warn(`[handleImport] No definition found for node label: "${E.label}"`);continue}if(D){const Z=()=>{if(S.current||window.graphLoading){s&&s.update("node",E.id);return}if(s&&s.update("node",E.id),u&&n){if(window.graphLoading)return;u.reset(),setTimeout(()=>{window.graphLoading||n.getNodes().forEach(async se=>{try{await u.fetch(se.id)}catch{}})},0)}};N=D.factory(Z)}N&&(N.id=E.id,typeof N.restore=="function"&&E.data?N.restore(E.data):E.data&&E.data.properties&&N.properties&&Object.assign(N.properties,E.data.properties),await n.addNode(N),await s.translate(N.id,E.position))}for(const E of _.connections){const N=n.getNode(E.source),D=n.getNode(E.target);N&&D?await n.addConnection(new ft.Connection(N,E.sourceOutput,D,E.targetInput)):console.warn(`[handleImport] Connection skipped - missing node: source=${E.source} (${!!N}), target=${E.target} (${!!D})`)}}finally{m.current=!1,s?.updateBackdropCaptures?.()}const x=n.getNodes();if(x.length>0&&s)try{await Ur.zoomAt(s,x,{scale:.9})}catch{}S.current=!1,setTimeout(()=>{window.graphLoading=!1,Fe("[handleImport] Graph loading complete - API calls now enabled"),window.dispatchEvent(new CustomEvent("graphLoadComplete")),w.current&&(Fe("[handleImport] Running processImmediate to sync node states"),w.current()),window.resetEditorView&&setTimeout(()=>window.resetEditorView(),100)},2e3),Object.assign(console,z),console.log("%c IMPORT COMPLETE","background: green; color: white; font-size: 16px;"),Fe("Graph imported successfully. Pan/zoom should work now.")}catch(x){window.graphLoading=!1,typeof z<"u"&&Object.assign(console,z),console.error("Failed to import graph:",x),S.current=!1,alert("Failed to import graph: "+x.message)}};return g.jsxs("div",{style:{width:"100%",height:"100vh",position:"relative"},children:[g.jsx("div",{ref:a,className:"rete-editor",style:{width:"100%",height:"100%",marginRight:"320px"}}),g.jsx(kN,{onSave:he,onLoad:Ce,onClear:ze,onExport:ne,onImport:A,hasUnsavedChanges:I}),g.jsx(ON,{}),g.jsx(TN,{visible:U.visible,position:U.position,items:U.items,onClose:oe,onSelect:ee})]})}class HN extends Ua.Component{constructor(n){super(n),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,r){console.error("[ErrorBoundary] Caught error:",n),console.error("[ErrorBoundary] Error info:",r),this.setState({error:n,errorInfo:r})}handleReload=()=>{window.location.reload()};handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){return this.state.hasError?g.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#1a1a2e",color:"#eee",fontFamily:"system-ui, -apple-system, sans-serif",padding:"20px",textAlign:"center"},children:g.jsxs("div",{style:{backgroundColor:"#252540",borderRadius:"12px",padding:"40px",maxWidth:"500px",boxShadow:"0 4px 20px rgba(0,0,0,0.3)"},children:[g.jsx("div",{style:{fontSize:"48px",marginBottom:"20px"},children:""}),g.jsx("h1",{style:{fontSize:"24px",marginBottom:"16px",color:"#ff6b6b"},children:"Something went wrong"}),g.jsx("p",{style:{fontSize:"14px",color:"#aaa",marginBottom:"24px",lineHeight:"1.5"},children:"The editor encountered an error and couldn't continue. This might be caused by a corrupted graph or a plugin issue."}),this.state.error&&g.jsxs("details",{style:{textAlign:"left",backgroundColor:"#1a1a2e",padding:"12px",borderRadius:"8px",marginBottom:"24px",fontSize:"12px",color:"#888"},children:[g.jsx("summary",{style:{cursor:"pointer",color:"#aaa",marginBottom:"8px"},children:"Error Details"}),g.jsxs("pre",{style:{overflow:"auto",maxHeight:"150px",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:[this.state.error.toString(),this.state.errorInfo?.componentStack]})]}),g.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[g.jsx("button",{onClick:this.handleReset,style:{padding:"12px 24px",fontSize:"14px",backgroundColor:"#3a3a5c",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:n=>n.target.style.backgroundColor="#4a4a6c",onMouseOut:n=>n.target.style.backgroundColor="#3a3a5c",children:"Try Again"}),g.jsx("button",{onClick:this.handleReload,style:{padding:"12px 24px",fontSize:"14px",backgroundColor:"#4dabf7",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:n=>n.target.style.backgroundColor="#339af0",onMouseOut:n=>n.target.style.backgroundColor="#4dabf7",children:"Reload Page"})]})]})}):this.props.children}}const Sw=T.createContext(null),U0={success:{icon:"",className:"toast-success"},error:{icon:"",className:"toast-error"},warning:{icon:"",className:"toast-warning"},info:{icon:"",className:"toast-info"}};function $N({id:a,type:n,message:r,duration:s,onRemove:l}){const[u,d]=T.useState(!1),h=U0[n]||U0.info;T.useEffect(()=>{if(s>0){const m=setTimeout(()=>{d(!0),setTimeout(()=>l(a),300)},s);return()=>clearTimeout(m)}},[a,s,l]);const p=()=>{d(!0),setTimeout(()=>l(a),300)};return g.jsxs("div",{className:`toast ${h.className} ${u?"toast-exit":""}`,children:[g.jsx("span",{className:"toast-icon",children:h.icon}),g.jsx("span",{className:"toast-message",children:r}),g.jsx("button",{className:"toast-close",onClick:p,children:""})]})}function VN({children:a}){const[n,r]=T.useState([]);let s=0;const l=T.useCallback((h,p,m=4e3)=>{const v=++s;return r(w=>[...w,{id:v,type:h,message:p,duration:m}]),v},[]),u=T.useCallback(h=>{r(p=>p.filter(m=>m.id!==h))},[]),d={success:(h,p)=>l("success",h,p),error:(h,p)=>l("error",h,p??6e3),warning:(h,p)=>l("warning",h,p),info:(h,p)=>l("info",h,p),dismiss:u,dismissAll:()=>r([])};return g.jsxs(Sw.Provider,{value:d,children:[a,g.jsx("div",{className:"toast-container",children:n.map(h=>g.jsx($N,{id:h.id,type:h.type,message:h.message,duration:h.duration,onRemove:u},h.id))})]})}function xw(){const a=T.useContext(Sw);return a||{success:()=>{},error:()=>{},warning:()=>{},info:()=>{},dismiss:()=>{},dismissAll:()=>{}}}function qN(){const a=xw();return T.useEffect(()=>(typeof window<"u"&&(window.T2Toast=a),()=>{typeof window<"u"&&(window.T2Toast=null)}),[a]),null}typeof window<"u"&&(window.T2Toast=null);function YN({isLoading:a,progress:n=0,status:r="Initializing...",loadedCount:s=0,totalCount:l=0,error:u=null}){const[d,h]=T.useState(!1),[p,m]=T.useState(a);return T.useEffect(()=>{if(!a&&p){h(!0);const v=setTimeout(()=>{m(!1),h(!1)},500);return()=>clearTimeout(v)}else a&&!p&&m(!0)},[a,p]),p?g.jsxs("div",{className:`loading-overlay ${d?"fade-out":""}`,children:[g.jsx("div",{className:"loading-logo",children:""}),g.jsx("div",{className:"loading-title",children:"T2 AutoTron"}),g.jsx("div",{className:"loading-subtitle",children:"Visual Automation Editor"}),g.jsx("div",{className:"loading-progress-container",children:g.jsx("div",{className:"loading-progress-bar",children:g.jsx("div",{className:"loading-progress-fill",style:{width:`${Math.min(100,n)}%`}})})}),g.jsx("div",{className:"loading-status",children:r}),l>0&&g.jsxs("div",{className:"loading-count",children:[s," / ",l," plugins loaded"]}),u&&g.jsxs("div",{className:"loading-error",children:[" ",u]})]}):null}function IN({updateInfo:a,onClose:n,onApplyUpdate:r}){const[s,l]=T.useState(!1),[u,d]=T.useState("");if(!a||!a.hasUpdate)return null;const h=async()=>{l(!0),d("Starting update...");try{const v=await(await fetch("/api/update/apply",{method:"POST",headers:{"Content-Type":"application/json"}})).json();d(v.message||"Updating... The app will restart shortly."),setTimeout(()=>{d("Update applied! Restarting...")},2e3)}catch(m){d(`Update failed: ${m.message}`),l(!1)}},p=()=>{sessionStorage.setItem("updateSkipped",a.newVersion),n()};return g.jsx("div",{className:"update-modal-overlay",children:g.jsxs("div",{className:"update-modal",children:[g.jsxs("div",{className:"update-modal-header",children:[g.jsx("span",{className:"update-icon",children:""}),g.jsx("h2",{children:"Update Available!"})]}),g.jsxs("div",{className:"update-modal-version",children:[g.jsx("span",{className:"version-current",children:a.currentVersion}),g.jsx("span",{className:"version-arrow",children:""}),g.jsx("span",{className:"version-new",children:a.newVersion})]}),g.jsxs("div",{className:"update-modal-content",children:[g.jsx("h3",{children:"What's New:"}),g.jsx("div",{className:"changelog-content",children:g.jsx("pre",{children:a.changelog||"No changelog available."})})]}),u&&g.jsxs("div",{className:"update-status",children:[g.jsx("span",{className:"status-spinner",children:""}),u]}),g.jsx("div",{className:"update-modal-actions",children:s?g.jsx("div",{className:"updating-message",children:"Please wait while the update is being applied..."}):g.jsxs(g.Fragment,{children:[g.jsx("button",{className:"update-btn update-btn-primary",onClick:h,children:"Update Now"}),g.jsx("button",{className:"update-btn update-btn-secondary",onClick:p,children:"Later"})]})})]})})}console.log("=== Socket Test ===");console.log("Singleton boolean socket:",Zi.boolean);console.log("Singleton object socket:",Zi.object);const Ew=new ft.Socket("boolean"),GN=new ft.Socket("boolean"),ZN=ft.Socket.canConnect(Ew,GN);console.log("Can two 'boolean' sockets connect?",ZN);const XN=ft.Socket.canConnect(Zi.boolean,Zi.boolean);console.log("Can singleton boolean sockets connect?",XN);const FN=new ft.Socket("object"),KN=ft.Socket.canConnect(Ew,FN);console.log("Can 'boolean' and 'object' sockets connect?",KN);console.log("=== End Socket Test ===");const kw=()=>{const a=r=>{const s=parseInt(r.slice(1,3),16),l=parseInt(r.slice(3,5),16),u=parseInt(r.slice(5,7),16);return`${s}, ${l}, ${u}`},n={"Home Assistant":"ha",Weather:"weather",Logic:"logic","Timer/Event":"timer",Color:"color",Utility:"utility",Inputs:"inputs",CC_Control_Nodes:"cc",Other:"other"};try{const r=localStorage.getItem("t2category-overrides");if(r){const s=JSON.parse(r),l=document.documentElement;for(const[u,d]of Object.entries(s)){const h=n[u];h&&(d.accent&&(l.style.setProperty(`--node-${h}-color`,d.accent),l.style.setProperty(`--node-${h}-color-rgb`,a(d.accent))),d.background&&l.style.setProperty(`--node-${h}-bg`,d.background))}}}catch(r){console.warn("Failed to apply stored category colors:",r)}},Ow=()=>{const a=u=>{const d=parseInt(u.slice(1,3),16),h=parseInt(u.slice(3,5),16),p=parseInt(u.slice(5,7),16);return`${d}, ${h}, ${p}`},n=(u,d=15)=>{const h=parseInt(u.slice(1),16),p=Math.max(0,(h>>16)-Math.round(255*d/100)),m=Math.max(0,(h>>8&255)-Math.round(255*d/100)),v=Math.max(0,(h&255)-Math.round(255*d/100));return`#${(16777216|p<<16|m<<8|v).toString(16).slice(1)}`},r=(u,d=20)=>{const h=parseInt(u.slice(1),16),p=Math.min(255,(h>>16)+Math.round(255*d/100)),m=Math.min(255,(h>>8&255)+Math.round(255*d/100)),v=Math.min(255,(h&255)+Math.round(255*d/100));return`#${(16777216|p<<16|m<<8|v).toString(16).slice(1)}`},s={Boolean:"boolean",Number:"number",String:"string","HSV Info":"hsv","Object/Any":"object","Light Info":"light"},l={Boolean:"#10b981",Number:"#3b82f6",String:"#f59e0b","HSV Info":"#8b5cf6","Object/Any":"#06b6d4","Light Info":"#eab308"};try{const u=localStorage.getItem("t2socket-colors"),d=u?JSON.parse(u):{},h=document.documentElement;for(const[p,m]of Object.entries(s)){const v=d[p]?.color||l[p];v&&(h.style.setProperty(`--socket-${m}-color`,v),h.style.setProperty(`--socket-${m}-dark`,n(v)),h.style.setProperty(`--socket-${m}-border`,r(v)),h.style.setProperty(`--socket-${m}-rgb`,a(v)))}}catch(u){console.warn("Failed to apply stored socket colors:",u)}};kw();Ow();window.applyCategoryColors=kw;window.applySocketColors=Ow;const vd=new Map,bd=new Map;function QN(){const[a,n]=T.useState(Se.connected),[r,s]=T.useState({connected:!1,wsConnected:!1,deviceCount:0}),[l,u]=T.useState([]),[d,h]=T.useState([]),[p,m]=T.useState(()=>parseInt(localStorage.getItem("panelHeight"))||150),[v,w]=T.useState(()=>parseInt(localStorage.getItem("panelFontSize"))||11),[S,k]=T.useState({isLoading:!0,progress:0,status:"Starting...",loadedCount:0,totalCount:0,error:null}),[M,P]=T.useState(null),[Y,K]=T.useState(0),[q,U]=T.useState(()=>localStorage.getItem("eventLogFilter")||"all"),G=T.useRef(null),re=T.useRef(null),oe=100,ee=xw();T.useEffect(()=>{const ne=setInterval(()=>{K(A=>A+1)},3e4);return()=>clearInterval(ne)},[]),T.useEffect(()=>ww(A=>{k(A),!A.isLoading&&A.progress===100&&A.failedPlugins?.length>0&&ee.warning(`Loaded ${A.loadedCount} plugins (${A.failedPlugins.length} failed)`),A.error&&ee.error(`Plugin loading failed: ${A.error}`)}),[ee]),T.useEffect(()=>{function ne(){n(!0),ee.success("Connected to server"),he("system","Socket connected to server"),bd.clear(),Se.emit("request-ha-status")}function A(){n(!1),s({connected:!1,wsConnected:!1,deviceCount:0}),ee.warning("Disconnected from server"),he("system","Socket disconnected from server")}function _(D){s(D)}function H(D){const{id:Z,state:se,on:ue,name:le,vendor:me}=D;if(!Z)return;const Ne=bd.get(Z),Ye=ue!==void 0?ue:se==="on"||se==="playing"||se==="open",pe=le||D.friendly_name||D.attributes?.friendly_name||Z.replace("ha_","").replace("kasa_","").replace("hue_","").replace(/\./g," ").replace(/_/g," ");if(Ne&&Ne.on===Ye)return;bd.set(Z,{on:Ye,state:se});const _e=vd.get(Z),Le=Ye?"ON":"OFF";let xt=me||"External";me||(Z.startsWith("ha_")?xt="HA":Z.startsWith("hue_")?xt="Hue":Z.startsWith("kasa_")?xt="Kasa":Z.startsWith("shelly_")&&(xt="Shelly")),_e&&Date.now()-_e.timestamp<5e3?(he("device",`${pe}  ${Le}`,{source:"app",triggeredBy:_e.nodeTitle}),vd.delete(Z)):he("trigger",`${pe}  ${Le}`,{source:xt})}function z(D){}function J(D){const{nodeId:Z,nodeLabel:se,result:ue}=D;he("node",`${se||Z} executed`,ue)}function x(D){Array.isArray(D)&&h(D.slice(0,20))}function E(D){const{type:Z,name:se,value:ue}=D;he("trigger",`${Z}: ${se}`,ue)}function N(D){sessionStorage.getItem("updateSkipped")!==D.newVersion&&P(D)}return Se.on("connect",ne),Se.on("disconnect",A),Se.on("ha-connection-status",_),Se.on("device-state-update",H),Se.on("device_state_change",z),Se.on("node_executed",J),Se.on("scheduled_events",x),Se.on("trigger_event",E),Se.on("update-available",N),bT(),()=>{Se.off("connect",ne),Se.off("disconnect",A),Se.off("ha-connection-status",_),Se.off("device-state-update",H),Se.off("device_state_change",z),Se.off("node_executed",J),Se.off("scheduled_events",x),Se.off("trigger_event",E),Se.off("update-available",N),wT()}},[]);const he=(ne,A,_=null)=>{const H=new Date().toLocaleTimeString();u(z=>[{timestamp:H,type:ne,message:A,details:_},...z].slice(0,oe))},I=T.useRef({}),ae=T.useCallback((ne,A)=>{const _=A.map(x=>({...x,nodeId:ne}));I.current[ne]=_;const H=[];Object.values(I.current).forEach(x=>{Array.isArray(x)&&H.push(...x)});const z=new Date,J=H.filter(x=>x.time&&new Date(x.time)>z).sort((x,E)=>new Date(x.time)-new Date(E.time)).slice(0,20);h(J)},[]),Ee=T.useCallback(ne=>{delete I.current[ne],ae(ne,[])},[ae]);T.useEffect(()=>(window.addEventLog=he,window.setUpcomingEvents=h,window.registerScheduledEvents=ae,window.unregisterScheduledEvents=Ee,window.T2Toast=ee,window.registerPendingCommand=(ne,A,_)=>{vd.set(ne,{nodeTitle:A,action:_,timestamp:Date.now()})},()=>{delete window.addEventLog,delete window.setUpcomingEvents,delete window.registerScheduledEvents,delete window.unregisterScheduledEvents,delete window.registerPendingCommand,delete window.T2Toast}),[ae,Ee,ee]);const Oe=ne=>{if(!ne)return"";const A=new Date(ne),H=A-new Date,z=Math.floor(H/6e4),J=Math.floor(z/60),x=Math.floor(J/24);let E="";return x>0?E=`${x}d ${J%24}h`:J>0?E=`${J}h ${z%60}m`:z>0?E=`${z}m`:E="<1m",`${A.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})} (${E})`},Ce=T.useCallback(async ne=>{if(!ne)return;const A=window._t2Area,_=window._t2Editor;if(!A||!_){console.warn("[focusNode] Editor not ready");return}const H=_.getNode(ne);if(!H){console.warn("[focusNode] Node not found:",ne);return}try{const{AreaExtensions:z}=await Lg(async()=>{const{AreaExtensions:J}=await Promise.resolve().then(()=>ov);return{AreaExtensions:J}},void 0);await z.zoomAt(A,[H],{scale:1})}catch(z){console.warn("[focusNode] Failed to zoom to node:",z)}},[]),ze=T.useCallback(async()=>{const ne=window._t2Area,A=window._t2Editor;if(!ne||!A){console.warn("[zoomExtents] Editor not ready");return}const _=A.getNodes();if(_.length===0){console.warn("[zoomExtents] No nodes in graph");return}try{const{AreaExtensions:H}=await Lg(async()=>{const{AreaExtensions:z}=await Promise.resolve().then(()=>ov);return{AreaExtensions:z}},void 0);await H.zoomAt(ne,_,{scale:.7})}catch(H){console.warn("[zoomExtents] Failed to zoom:",H)}},[]);return g.jsxs("div",{className:"app-container",children:[M&&M.hasUpdate&&g.jsx(IN,{updateInfo:M,onClose:()=>P(null)}),g.jsx(YN,{isLoading:S.isLoading,progress:S.progress,status:S.status,loadedCount:S.loadedCount,totalCount:S.totalCount,error:S.error}),g.jsx("div",{className:"editor-wrapper",children:g.jsx(UN,{})}),g.jsx("div",{className:"resize-handle",ref:re,onMouseDown:ne=>{ne.preventDefault();const A=ne.clientY,_=p,H=J=>{const x=A-J.clientY,E=Math.max(80,Math.min(400,_+x));m(E),localStorage.setItem("panelHeight",E)},z=()=>{document.removeEventListener("mousemove",H),document.removeEventListener("mouseup",z)};document.addEventListener("mousemove",H),document.addEventListener("mouseup",z)},children:g.jsx("div",{className:"resize-handle-grip"})}),g.jsxs("div",{className:"bottom-panels",style:{height:p,fontSize:v},children:[g.jsxs("div",{className:"panel event-log-panel",children:[g.jsxs("div",{className:"panel-header",children:[g.jsx("span",{className:"panel-title",children:"Event Log"}),g.jsxs("div",{className:"panel-controls",children:[g.jsxs("div",{className:"filter-buttons",children:[g.jsx("button",{className:`filter-btn ${q==="all"?"active":""}`,onClick:()=>{U("all"),localStorage.setItem("eventLogFilter","all")},children:"All"}),g.jsx("button",{className:`filter-btn ${q==="app"?"active":""}`,onClick:()=>{U("app"),localStorage.setItem("eventLogFilter","app")},children:"App"}),g.jsx("button",{className:`filter-btn ${q==="ha"?"active":""}`,onClick:()=>{U("ha"),localStorage.setItem("eventLogFilter","ha")},children:"HA"})]}),g.jsx("button",{className:"font-size-btn",onClick:()=>{const ne=Math.max(8,v-1);w(ne),localStorage.setItem("panelFontSize",ne)},children:"A-"}),g.jsxs("span",{className:"font-size-label",children:[v,"px"]}),g.jsx("button",{className:"font-size-btn",onClick:()=>{const ne=Math.min(16,v+1);w(ne),localStorage.setItem("panelFontSize",ne)},children:"A+"}),g.jsx("button",{className:"panel-clear-btn",onClick:()=>u([]),children:"Clear"})]})]}),g.jsx("div",{className:"panel-content",ref:G,children:l.length===0?g.jsx("div",{className:"empty-message",children:"No events yet..."}):l.filter(ne=>q==="all"?!0:q==="app"?ne.details?.triggeredBy||ne.details?.source==="app":q==="ha"?ne.details?.source&&ne.details.source!=="app"&&!ne.details?.triggeredBy:!0).map((ne,A)=>g.jsxs("div",{className:`log-entry log-${ne.type}`,title:ne.details?.triggeredBy?`Triggered by: ${ne.details.triggeredBy}`:ne.details?.source&&ne.details.source!=="app"?`Triggered externally via ${ne.details.source}`:"",children:[g.jsx("span",{className:"log-time",children:ne.timestamp}),g.jsx("span",{className:`log-type-badge ${ne.type}`,children:ne.type==="trigger"?"external":ne.type}),g.jsx("span",{className:"log-message",children:ne.message}),ne.details?.triggeredBy&&g.jsxs("span",{className:"log-source app-source",children:["via ",ne.details.triggeredBy]}),ne.details?.source&&ne.details.source!=="app"&&!ne.details?.triggeredBy&&g.jsxs("span",{className:"log-source external-source",children:["via ",ne.details.source]})]},A))})]}),g.jsxs("div",{className:"panel upcoming-events-panel",children:[g.jsx("div",{className:"panel-header clickable-header",onClick:ze,title:"Click to zoom to fit all nodes",children:g.jsx("span",{className:"panel-title",children:"Upcoming Events"})}),g.jsx("div",{className:"panel-content",children:d.length===0?g.jsx("div",{className:"empty-message",children:"No scheduled events..."}):d.map((ne,A)=>g.jsxs("div",{className:`event-entry event-${ne.action||"unknown"}${ne.nodeId?" clickable":""}`,onClick:()=>ne.nodeId&&Ce(ne.nodeId),title:ne.nodeId?"Click to jump to this node":"",style:ne.nodeId?{cursor:"pointer"}:{},children:[g.jsx("span",{className:"event-time",children:Oe(ne.time)}),g.jsx("span",{className:`event-action ${ne.action}`,children:ne.action||"event"}),g.jsx("span",{className:"event-device",children:ne.deviceName||ne.device||"Unknown"})]},A))})]})]})]})}function JN(){return g.jsx(HN,{children:g.jsxs(VN,{children:[g.jsx(qN,{}),g.jsx(QN,{})]})})}typeof window.api<"u"&&console.log("T2AutoTron running in Electron mode");V0.createRoot(document.getElementById("root")).render(g.jsx(T.StrictMode,{children:g.jsx(JN,{})}));
