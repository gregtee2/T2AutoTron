function I0(a,n){for(var r=0;r<n.length;r++){const s=n[r];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in a)){const u=Object.getOwnPropertyDescriptor(s,l);u&&Object.defineProperty(a,l,u.get?u:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function r(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=r(l);fetch(l.href,u)}})();function th(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Rf={exports:{}},Fs={};var Tg;function Hx(){if(Tg)return Fs;Tg=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(s,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var h in l)h!=="key"&&(u[h]=l[h])}else u=l;return l=u.ref,{$$typeof:a,type:s,key:d,ref:l!==void 0?l:null,props:u}}return Fs.Fragment=n,Fs.jsx=r,Fs.jsxs=r,Fs}var Og;function $x(){return Og||(Og=1,Rf.exports=Hx()),Rf.exports}var m=$x(),Lf={exports:{}},Le={};var Ng;function Vx(){if(Ng)return Le;Ng=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),x=Symbol.iterator;function O(S){return S===null||typeof S!="object"?null:(S=x&&S[x]||S["@@iterator"],typeof S=="function"?S:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,I={};function K(S,k,E){this.props=S,this.context=k,this.refs=I,this.updater=E||A}K.prototype.isReactComponent={},K.prototype.setState=function(S,k){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,k,"setState")},K.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function F(){}F.prototype=K.prototype;function Y(S,k,E){this.props=S,this.context=k,this.refs=I,this.updater=E||A}var Z=Y.prototype=new F;Z.constructor=Y,P(Z,K.prototype),Z.isPureReactComponent=!0;var ie=Array.isArray;function le(){}var q={H:null,A:null,T:null,S:null},oe=Object.prototype.hasOwnProperty;function U(S,k,E){var T=E.ref;return{$$typeof:a,type:S,key:k,ref:T!==void 0?T:null,props:E}}function J(S,k){return U(S.type,k,S.props)}function ye(S){return typeof S=="object"&&S!==null&&S.$$typeof===a}function we(S){var k={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(E){return k[E]})}var Ne=/\/+/g;function _e(S,k){return typeof S=="object"&&S!==null&&S.key!=null?we(""+S.key):k.toString(36)}function ne(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(le,le):(S.status="pending",S.then(function(k){S.status==="pending"&&(S.status="fulfilled",S.value=k)},function(k){S.status==="pending"&&(S.status="rejected",S.reason=k)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function D(S,k,E,T,R){var ae=typeof S;(ae==="undefined"||ae==="boolean")&&(S=null);var pe=!1;if(S===null)pe=!0;else switch(ae){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(S.$$typeof){case a:case n:pe=!0;break;case v:return pe=S._init,D(pe(S._payload),k,E,T,R)}}if(pe)return R=R(S),pe=T===""?"."+_e(S,0):T,ie(R)?(E="",pe!=null&&(E=pe.replace(Ne,"$&/")+"/"),D(R,k,E,"",function(Oe){return Oe})):R!=null&&(ye(R)&&(R=J(R,E+(R.key==null||S&&S.key===R.key?"":(""+R.key).replace(Ne,"$&/")+"/")+pe)),k.push(R)),1;pe=0;var ce=T===""?".":T+":";if(ie(S))for(var me=0;me<S.length;me++)T=S[me],ae=ce+_e(T,me),pe+=D(T,k,E,ae,R);else if(me=O(S),typeof me=="function")for(S=me.call(S),me=0;!(T=S.next()).done;)T=T.value,ae=ce+_e(T,me++),pe+=D(T,k,E,ae,R);else if(ae==="object"){if(typeof S.then=="function")return D(ne(S),k,E,T,R);throw k=String(S),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return pe}function j(S,k,E){if(S==null)return S;var T=[],R=0;return D(S,T,"","",function(ae){return k.call(E,ae,R++)}),T}function $(S){if(S._status===-1){var k=S._result;k=k(),k.then(function(E){(S._status===0||S._status===-1)&&(S._status=1,S._result=E)},function(E){(S._status===0||S._status===-1)&&(S._status=2,S._result=E)}),S._status===-1&&(S._status=0,S._result=k)}if(S._status===1)return S._result.default;throw S._result}var z=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},re={map:j,forEach:function(S,k,E){j(S,function(){k.apply(this,arguments)},E)},count:function(S){var k=0;return j(S,function(){k++}),k},toArray:function(S){return j(S,function(k){return k})||[]},only:function(S){if(!ye(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return Le.Activity=w,Le.Children=re,Le.Component=K,Le.Fragment=r,Le.Profiler=l,Le.PureComponent=Y,Le.StrictMode=s,Le.Suspense=p,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Le.__COMPILER_RUNTIME={__proto__:null,c:function(S){return q.H.useMemoCache(S)}},Le.cache=function(S){return function(){return S.apply(null,arguments)}},Le.cacheSignal=function(){return null},Le.cloneElement=function(S,k,E){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var T=P({},S.props),R=S.key;if(k!=null)for(ae in k.key!==void 0&&(R=""+k.key),k)!oe.call(k,ae)||ae==="key"||ae==="__self"||ae==="__source"||ae==="ref"&&k.ref===void 0||(T[ae]=k[ae]);var ae=arguments.length-2;if(ae===1)T.children=E;else if(1<ae){for(var pe=Array(ae),ce=0;ce<ae;ce++)pe[ce]=arguments[ce+2];T.children=pe}return U(S.type,R,T)},Le.createContext=function(S){return S={$$typeof:d,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:u,_context:S},S},Le.createElement=function(S,k,E){var T,R={},ae=null;if(k!=null)for(T in k.key!==void 0&&(ae=""+k.key),k)oe.call(k,T)&&T!=="key"&&T!=="__self"&&T!=="__source"&&(R[T]=k[T]);var pe=arguments.length-2;if(pe===1)R.children=E;else if(1<pe){for(var ce=Array(pe),me=0;me<pe;me++)ce[me]=arguments[me+2];R.children=ce}if(S&&S.defaultProps)for(T in pe=S.defaultProps,pe)R[T]===void 0&&(R[T]=pe[T]);return U(S,ae,R)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(S){return{$$typeof:h,render:S}},Le.isValidElement=ye,Le.lazy=function(S){return{$$typeof:v,_payload:{_status:-1,_result:S},_init:$}},Le.memo=function(S,k){return{$$typeof:y,type:S,compare:k===void 0?null:k}},Le.startTransition=function(S){var k=q.T,E={};q.T=E;try{var T=S(),R=q.S;R!==null&&R(E,T),typeof T=="object"&&T!==null&&typeof T.then=="function"&&T.then(le,z)}catch(ae){z(ae)}finally{k!==null&&E.types!==null&&(k.types=E.types),q.T=k}},Le.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Le.use=function(S){return q.H.use(S)},Le.useActionState=function(S,k,E){return q.H.useActionState(S,k,E)},Le.useCallback=function(S,k){return q.H.useCallback(S,k)},Le.useContext=function(S){return q.H.useContext(S)},Le.useDebugValue=function(){},Le.useDeferredValue=function(S,k){return q.H.useDeferredValue(S,k)},Le.useEffect=function(S,k){return q.H.useEffect(S,k)},Le.useEffectEvent=function(S){return q.H.useEffectEvent(S)},Le.useId=function(){return q.H.useId()},Le.useImperativeHandle=function(S,k,E){return q.H.useImperativeHandle(S,k,E)},Le.useInsertionEffect=function(S,k){return q.H.useInsertionEffect(S,k)},Le.useLayoutEffect=function(S,k){return q.H.useLayoutEffect(S,k)},Le.useMemo=function(S,k){return q.H.useMemo(S,k)},Le.useOptimistic=function(S,k){return q.H.useOptimistic(S,k)},Le.useReducer=function(S,k,E){return q.H.useReducer(S,k,E)},Le.useRef=function(S){return q.H.useRef(S)},Le.useState=function(S){return q.H.useState(S)},Le.useSyncExternalStore=function(S,k,E){return q.H.useSyncExternalStore(S,k,E)},Le.useTransition=function(){return q.H.useTransition()},Le.version="19.2.0",Le}var jg;function nh(){return jg||(jg=1,Lf.exports=Vx()),Lf.exports}var C=nh();const aa=th(C),Ix=I0({__proto__:null,default:aa},[C]);var Bf={exports:{}},Ks={},Uf={exports:{}},Hf={};var _g;function qx(){return _g||(_g=1,(function(a){function n(D,j){var $=D.length;D.push(j);e:for(;0<$;){var z=$-1>>>1,re=D[z];if(0<l(re,j))D[z]=j,D[$]=re,$=z;else break e}}function r(D){return D.length===0?null:D[0]}function s(D){if(D.length===0)return null;var j=D[0],$=D.pop();if($!==j){D[0]=$;e:for(var z=0,re=D.length,S=re>>>1;z<S;){var k=2*(z+1)-1,E=D[k],T=k+1,R=D[T];if(0>l(E,$))T<re&&0>l(R,E)?(D[z]=R,D[T]=$,z=T):(D[z]=E,D[k]=$,z=k);else if(T<re&&0>l(R,$))D[z]=R,D[T]=$,z=T;else break e}}return j}function l(D,j){var $=D.sortIndex-j.sortIndex;return $!==0?$:D.id-j.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var d=Date,h=d.now();a.unstable_now=function(){return d.now()-h}}var p=[],y=[],v=1,w=null,x=3,O=!1,A=!1,P=!1,I=!1,K=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function Z(D){for(var j=r(y);j!==null;){if(j.callback===null)s(y);else if(j.startTime<=D)s(y),j.sortIndex=j.expirationTime,n(p,j);else break;j=r(y)}}function ie(D){if(P=!1,Z(D),!A)if(r(p)!==null)A=!0,le||(le=!0,we());else{var j=r(y);j!==null&&ne(ie,j.startTime-D)}}var le=!1,q=-1,oe=5,U=-1;function J(){return I?!0:!(a.unstable_now()-U<oe)}function ye(){if(I=!1,le){var D=a.unstable_now();U=D;var j=!0;try{e:{A=!1,P&&(P=!1,F(q),q=-1),O=!0;var $=x;try{t:{for(Z(D),w=r(p);w!==null&&!(w.expirationTime>D&&J());){var z=w.callback;if(typeof z=="function"){w.callback=null,x=w.priorityLevel;var re=z(w.expirationTime<=D);if(D=a.unstable_now(),typeof re=="function"){w.callback=re,Z(D),j=!0;break t}w===r(p)&&s(p),Z(D)}else s(p);w=r(p)}if(w!==null)j=!0;else{var S=r(y);S!==null&&ne(ie,S.startTime-D),j=!1}}break e}finally{w=null,x=$,O=!1}j=void 0}}finally{j?we():le=!1}}}var we;if(typeof Y=="function")we=function(){Y(ye)};else if(typeof MessageChannel<"u"){var Ne=new MessageChannel,_e=Ne.port2;Ne.port1.onmessage=ye,we=function(){_e.postMessage(null)}}else we=function(){K(ye,0)};function ne(D,j){q=K(function(){D(a.unstable_now())},j)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(D){D.callback=null},a.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<D?Math.floor(1e3/D):5},a.unstable_getCurrentPriorityLevel=function(){return x},a.unstable_next=function(D){switch(x){case 1:case 2:case 3:var j=3;break;default:j=x}var $=x;x=j;try{return D()}finally{x=$}},a.unstable_requestPaint=function(){I=!0},a.unstable_runWithPriority=function(D,j){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var $=x;x=D;try{return j()}finally{x=$}},a.unstable_scheduleCallback=function(D,j,$){var z=a.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?z+$:z):$=z,D){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=$+re,D={id:v++,callback:j,priorityLevel:D,startTime:$,expirationTime:re,sortIndex:-1},$>z?(D.sortIndex=$,n(y,D),r(p)===null&&D===r(y)&&(P?(F(q),q=-1):P=!0,ne(ie,$-z))):(D.sortIndex=re,n(p,D),A||O||(A=!0,le||(le=!0,we()))),D},a.unstable_shouldYield=J,a.unstable_wrapCallback=function(D){var j=x;return function(){var $=x;x=j;try{return D.apply(this,arguments)}finally{x=$}}}})(Hf)),Hf}var Ag;function Yx(){return Ag||(Ag=1,Uf.exports=qx()),Uf.exports}var $f={exports:{}},tn={};var Dg;function Gx(){if(Dg)return tn;Dg=1;var a=nh();function n(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)y+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,y,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:p,containerInfo:y,implementation:v}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,tn.createPortal=function(p,y){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(n(299));return u(p,y,null,v)},tn.flushSync=function(p){var y=d.T,v=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=y,s.p=v,s.d.f()}},tn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},tn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},tn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var v=y.as,w=h(v,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,O=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;v==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:x,fetchPriority:O}):v==="script"&&s.d.X(p,{crossOrigin:w,integrity:x,fetchPriority:O,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},tn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var v=h(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},tn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var v=y.as,w=h(v,y.crossOrigin);s.d.L(p,v,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},tn.preloadModule=function(p,y){if(typeof p=="string")if(y){var v=h(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},tn.requestFormReset=function(p){s.d.r(p)},tn.unstable_batchedUpdates=function(p,y){return p(y)},tn.useFormState=function(p,y,v){return d.H.useFormState(p,y,v)},tn.useFormStatus=function(){return d.H.useHostTransitionStatus()},tn.version="19.2.0",tn}var Mg;function q0(){if(Mg)return $f.exports;Mg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),$f.exports=Gx(),$f.exports}var zg;function Zx(){if(zg)return Ks;zg=1;var a=Yx(),n=nh(),r=q0();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function y(e){var t=e.alternate;if(!t){if(t=u(e),t===null)throw Error(s(188));return t!==e?null:e}for(var i=e,o=t;;){var c=i.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){i=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===i)return p(c),e;if(f===o)return p(c),t;f=f.sibling}throw Error(s(188))}if(i.return!==o.return)i=c,o=f;else{for(var g=!1,b=c.child;b;){if(b===i){g=!0,i=c,o=f;break}if(b===o){g=!0,o=c,i=f;break}b=b.sibling}if(!g){for(b=f.child;b;){if(b===i){g=!0,i=f,o=c;break}if(b===o){g=!0,o=f,i=c;break}b=b.sibling}if(!g)throw Error(s(189))}}if(i.alternate!==o)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var w=Object.assign,x=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),F=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),U=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),ye=Symbol.iterator;function we(e){return e===null||typeof e!="object"?null:(e=ye&&e[ye]||e["@@iterator"],typeof e=="function"?e:null)}var Ne=Symbol.for("react.client.reference");function _e(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ne?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case P:return"Fragment";case K:return"Profiler";case I:return"StrictMode";case ie:return"Suspense";case le:return"SuspenseList";case U:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case A:return"Portal";case Y:return e.displayName||"Context";case F:return(e._context.displayName||"Context")+".Consumer";case Z:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case q:return t=e.displayName||null,t!==null?t:_e(e.type)||"Memo";case oe:t=e._payload,e=e._init;try{return _e(e(t))}catch{}}return null}var ne=Array.isArray,D=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},z=[],re=-1;function S(e){return{current:e}}function k(e){0>re||(e.current=z[re],z[re]=null,re--)}function E(e,t){re++,z[re]=e.current,e.current=t}var T=S(null),R=S(null),ae=S(null),pe=S(null);function ce(e,t){switch(E(ae,t),E(R,e),E(T,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ky(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ky(t),e=Qy(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}k(T),E(T,e)}function me(){k(T),k(R),k(ae)}function Oe(e){e.memoizedState!==null&&E(pe,e);var t=T.current,i=Qy(t,e.type);t!==i&&(E(R,e),E(T,i))}function Ee(e){R.current===e&&(k(T),k(R)),pe.current===e&&(k(pe),Ys._currentValue=$)}var ue,De;function Be(e){if(ue===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);ue=t&&t[1]||"",De=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ue+e+De}var xt=!1;function un(e,t){if(!e||xt)return"";xt=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(t){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(G){var H=G}Reflect.construct(e,[],te)}else{try{te.call()}catch(G){H=G}e.call(te.prototype)}}else{try{throw Error()}catch(G){H=G}(te=e())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],b=f[1];if(g&&b){var N=g.split(`
`),B=b.split(`
`);for(c=o=0;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;for(;c<B.length&&!B[c].includes("DetermineComponentFrameRoot");)c++;if(o===N.length||c===B.length)for(o=N.length-1,c=B.length-1;1<=o&&0<=c&&N[o]!==B[c];)c--;for(;1<=o&&0<=c;o--,c--)if(N[o]!==B[c]){if(o!==1||c!==1)do if(o--,c--,0>c||N[o]!==B[c]){var Q=`
`+N[o].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=o&&0<=c);break}}}finally{xt=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Be(i):""}function ia(e,t){switch(e.tag){case 26:case 27:case 5:return Be(e.type);case 16:return Be("Lazy");case 13:return e.child!==t&&t!==null?Be("Suspense Fallback"):Be("Suspense");case 19:return Be("SuspenseList");case 0:case 15:return un(e.type,!1);case 11:return un(e.type.render,!1);case 1:return un(e.type,!0);case 31:return Be("Activity");default:return""}}function Ue(e){try{var t="",i=null;do t+=ia(e,i),i=e,e=e.return;while(e);return t}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var it=Object.prototype.hasOwnProperty,_t=a.unstable_scheduleCallback,mt=a.unstable_cancelCallback,bn=a.unstable_shouldYield,Zt=a.unstable_requestPaint,Mt=a.unstable_now,Xr=a.unstable_getCurrentPriorityLevel,gr=a.unstable_ImmediatePriority,vr=a.unstable_UserBlockingPriority,V=a.unstable_NormalPriority,X=a.unstable_LowPriority,de=a.unstable_IdlePriority,ge=a.log,$e=a.unstable_setDisableYieldValue,kt=null,Ot=null;function ze(e){if(typeof ge=="function"&&$e(e),Ot&&typeof Ot.setStrictMode=="function")try{Ot.setStrictMode(kt,e)}catch{}}var st=Math.clz32?Math.clz32:ke,ee=Math.log,se=Math.LN2;function ke(e){return e>>>=0,e===0?32:31-(ee(e)/se|0)|0}var ve=256,Ae=262144,nt=4194304;function vt(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function wn(e,t,i){var o=e.pendingLanes;if(o===0)return 0;var c=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var b=o&134217727;return b!==0?(o=b&~f,o!==0?c=vt(o):(g&=b,g!==0?c=vt(g):i||(i=b&~e,i!==0&&(c=vt(i))))):(b=o&~f,b!==0?c=vt(b):g!==0?c=vt(g):i||(i=o&~e,i!==0&&(c=vt(i)))),c===0?0:t!==0&&t!==c&&(t&f)===0&&(f=c&-c,i=t&-t,f>=i||f===32&&(i&4194048)!==0)?t:c}function It(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Sn(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xt(){var e=nt;return nt<<=1,(nt&62914560)===0&&(nt=4194304),e}function xn(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Mn(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Eu(e,t,i,o,c,f){var g=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var b=e.entanglements,N=e.expirationTimes,B=e.hiddenUpdates;for(i=g&~i;0<i;){var Q=31-st(i),te=1<<Q;b[Q]=0,N[Q]=-1;var H=B[Q];if(H!==null)for(B[Q]=null,Q=0;Q<H.length;Q++){var G=H[Q];G!==null&&(G.lane&=-536870913)}i&=~te}o!==0&&vo(e,o,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~t))}function vo(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var o=31-st(t);e.entangledLanes|=t,e.entanglements[o]=e.entanglements[o]|1073741824|i&261930}function as(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var o=31-st(i),c=1<<o;c&t|e[o]&t&&(e[o]|=t),i&=~c}}function rs(e,t){var i=t&-t;return i=(i&42)!==0?1:bo(i),(i&(e.suspendedLanes|t))!==0?0:i}function bo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ku(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function zh(){var e=j.p;return e!==0?e:(e=window.event,e===void 0?32:bg(e.type))}function Rh(e,t){var i=j.p;try{return j.p=e,t()}finally{j.p=i}}var Ha=Math.random().toString(36).slice(2),Ft="__reactFiber$"+Ha,cn="__reactProps$"+Ha,Fr="__reactContainer$"+Ha,Cu="__reactEvents$"+Ha,Nw="__reactListeners$"+Ha,jw="__reactHandles$"+Ha,Lh="__reactResources$"+Ha,is="__reactMarker$"+Ha;function Tu(e){delete e[Ft],delete e[cn],delete e[Cu],delete e[Nw],delete e[jw]}function Kr(e){var t=e[Ft];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Fr]||i[Ft]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=ag(e);e!==null;){if(i=e[Ft])return i;e=ag(e)}return t}e=i,i=e.parentNode}return null}function Qr(e){if(e=e[Ft]||e[Fr]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ss(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function Pr(e){var t=e[Lh];return t||(t=e[Lh]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function qt(e){e[is]=!0}var Bh=new Set,Uh={};function br(e,t){Jr(e,t),Jr(e+"Capture",t)}function Jr(e,t){for(Uh[e]=t,e=0;e<t.length;e++)Bh.add(t[e])}var _w=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hh={},$h={};function Aw(e){return it.call($h,e)?!0:it.call(Hh,e)?!1:_w.test(e)?$h[e]=!0:(Hh[e]=!0,!1)}function wo(e,t,i){if(Aw(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var o=t.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function So(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function ga(e,t,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+o)}}function zn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Vh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Dw(e,t,i){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var c=o.get,f=o.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(g){i=""+g,f.call(this,g)}}),Object.defineProperty(e,t,{enumerable:o.enumerable}),{getValue:function(){return i},setValue:function(g){i=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ou(e){if(!e._valueTracker){var t=Vh(e)?"checked":"value";e._valueTracker=Dw(e,t,""+e[t])}}function Ih(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),o="";return e&&(o=Vh(e)?e.checked?"true":"false":e.value),e=o,e!==i?(t.setValue(e),!0):!1}function xo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Mw=/[\n"\\]/g;function Rn(e){return e.replace(Mw,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Nu(e,t,i,o,c,f,g,b){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+zn(t)):e.value!==""+zn(t)&&(e.value=""+zn(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?ju(e,g,zn(t)):i!=null?ju(e,g,zn(i)):o!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+zn(b):e.removeAttribute("name")}function qh(e,t,i,o,c,f,g,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||t!=null)){Ou(e);return}i=i!=null?""+zn(i):"",t=t!=null?""+zn(t):i,b||t===e.value||(e.value=t),e.defaultValue=t}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=b?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Ou(e)}function ju(e,t,i){t==="number"&&xo(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Wr(e,t,i,o){if(e=e.options,t){t={};for(var c=0;c<i.length;c++)t["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=t.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&o&&(e[i].defaultSelected=!0)}else{for(i=""+zn(i),t=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Yh(e,t,i){if(t!=null&&(t=""+zn(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+zn(i):""}function Gh(e,t,i,o){if(t==null){if(o!=null){if(i!=null)throw Error(s(92));if(ne(o)){if(1<o.length)throw Error(s(93));o=o[0]}i=o}i==null&&(i=""),t=i}i=zn(t),e.defaultValue=i,o=e.textContent,o===i&&o!==""&&o!==null&&(e.value=o),Ou(e)}function ei(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var zw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zh(e,t,i){var o=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":o?e.setProperty(t,i):typeof i!="number"||i===0||zw.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Xh(e,t,i){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||t!=null&&t.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in t)o=t[c],t.hasOwnProperty(c)&&i[c]!==o&&Zh(e,c,o)}else for(var f in t)t.hasOwnProperty(f)&&Zh(e,f,t[f])}function _u(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Eo(e){return Lw.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function va(){}var Au=null;function Du(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ti=null,ni=null;function Fh(e){var t=Qr(e);if(t&&(e=t.stateNode)){var i=e[cn]||null;e:switch(e=t.stateNode,t.type){case"input":if(Nu(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Rn(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var o=i[t];if(o!==e&&o.form===e.form){var c=o[cn]||null;if(!c)throw Error(s(90));Nu(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<i.length;t++)o=i[t],o.form===e.form&&Ih(o)}break e;case"textarea":Yh(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Wr(e,!!i.multiple,t,!1)}}}var Mu=!1;function Kh(e,t,i){if(Mu)return e(t,i);Mu=!0;try{var o=e(t);return o}finally{if(Mu=!1,(ti!==null||ni!==null)&&(cl(),ti&&(t=ti,e=ni,ni=ti=null,Fh(t),e)))for(t=0;t<e.length;t++)Fh(e[t])}}function os(e,t){var i=e.stateNode;if(i===null)return null;var o=i[cn]||null;if(o===null)return null;i=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,t,typeof i));return i}var ba=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zu=!1;if(ba)try{var ls={};Object.defineProperty(ls,"passive",{get:function(){zu=!0}}),window.addEventListener("test",ls,ls),window.removeEventListener("test",ls,ls)}catch{zu=!1}var $a=null,Ru=null,ko=null;function Qh(){if(ko)return ko;var e,t=Ru,i=t.length,o,c="value"in $a?$a.value:$a.textContent,f=c.length;for(e=0;e<i&&t[e]===c[e];e++);var g=i-e;for(o=1;o<=g&&t[i-o]===c[f-o];o++);return ko=c.slice(e,1<o?1-o:void 0)}function Co(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function To(){return!0}function Ph(){return!1}function fn(e){function t(i,o,c,f,g){this._reactName=i,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(i=e[b],this[b]=i?i(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?To:Ph,this.isPropagationStopped=Ph,this}return w(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=To)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=To)},persist:function(){},isPersistent:To}),t}var wr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oo=fn(wr),us=w({},wr,{view:0,detail:0}),Bw=fn(us),Lu,Bu,cs,No=w({},us,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cs&&(cs&&e.type==="mousemove"?(Lu=e.screenX-cs.screenX,Bu=e.screenY-cs.screenY):Bu=Lu=0,cs=e),Lu)},movementY:function(e){return"movementY"in e?e.movementY:Bu}}),Jh=fn(No),Uw=w({},No,{dataTransfer:0}),Hw=fn(Uw),$w=w({},us,{relatedTarget:0}),Uu=fn($w),Vw=w({},wr,{animationName:0,elapsedTime:0,pseudoElement:0}),Iw=fn(Vw),qw=w({},wr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Yw=fn(qw),Gw=w({},wr,{data:0}),Wh=fn(Gw),Zw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Fw[e])?!!t[e]:!1}function Hu(){return Kw}var Qw=w({},us,{key:function(e){if(e.key){var t=Zw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Co(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hu,charCode:function(e){return e.type==="keypress"?Co(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Co(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Pw=fn(Qw),Jw=w({},No,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ep=fn(Jw),Ww=w({},us,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hu}),eS=fn(Ww),tS=w({},wr,{propertyName:0,elapsedTime:0,pseudoElement:0}),nS=fn(tS),aS=w({},No,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),rS=fn(aS),iS=w({},wr,{newState:0,oldState:0}),sS=fn(iS),oS=[9,13,27,32],$u=ba&&"CompositionEvent"in window,fs=null;ba&&"documentMode"in document&&(fs=document.documentMode);var lS=ba&&"TextEvent"in window&&!fs,tp=ba&&(!$u||fs&&8<fs&&11>=fs),np=" ",ap=!1;function rp(e,t){switch(e){case"keyup":return oS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ip(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ai=!1;function uS(e,t){switch(e){case"compositionend":return ip(t);case"keypress":return t.which!==32?null:(ap=!0,np);case"textInput":return e=t.data,e===np&&ap?null:e;default:return null}}function cS(e,t){if(ai)return e==="compositionend"||!$u&&rp(e,t)?(e=Qh(),ko=Ru=$a=null,ai=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return tp&&t.locale!=="ko"?null:t.data;default:return null}}var fS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!fS[e.type]:t==="textarea"}function op(e,t,i,o){ti?ni?ni.push(o):ni=[o]:ti=o,t=gl(t,"onChange"),0<t.length&&(i=new Oo("onChange","change",null,i,o),e.push({event:i,listeners:t}))}var ds=null,hs=null;function dS(e){qy(e,0)}function jo(e){var t=ss(e);if(Ih(t))return e}function lp(e,t){if(e==="change")return t}var up=!1;if(ba){var Vu;if(ba){var Iu="oninput"in document;if(!Iu){var cp=document.createElement("div");cp.setAttribute("oninput","return;"),Iu=typeof cp.oninput=="function"}Vu=Iu}else Vu=!1;up=Vu&&(!document.documentMode||9<document.documentMode)}function fp(){ds&&(ds.detachEvent("onpropertychange",dp),hs=ds=null)}function dp(e){if(e.propertyName==="value"&&jo(hs)){var t=[];op(t,hs,e,Du(e)),Kh(dS,t)}}function hS(e,t,i){e==="focusin"?(fp(),ds=t,hs=i,ds.attachEvent("onpropertychange",dp)):e==="focusout"&&fp()}function pS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return jo(hs)}function mS(e,t){if(e==="click")return jo(t)}function yS(e,t){if(e==="input"||e==="change")return jo(t)}function gS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var En=typeof Object.is=="function"?Object.is:gS;function ps(e,t){if(En(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var c=i[o];if(!it.call(t,c)||!En(e[c],t[c]))return!1}return!0}function hp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pp(e,t){var i=hp(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=t&&o>=t)return{node:i,offset:t-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=hp(i)}}function mp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?mp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=xo(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=xo(e.document)}return t}function qu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var vS=ba&&"documentMode"in document&&11>=document.documentMode,ri=null,Yu=null,ms=null,Gu=!1;function gp(e,t,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Gu||ri==null||ri!==xo(o)||(o=ri,"selectionStart"in o&&qu(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ms&&ps(ms,o)||(ms=o,o=gl(Yu,"onSelect"),0<o.length&&(t=new Oo("onSelect","select",null,t,i),e.push({event:t,listeners:o}),t.target=ri)))}function Sr(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var ii={animationend:Sr("Animation","AnimationEnd"),animationiteration:Sr("Animation","AnimationIteration"),animationstart:Sr("Animation","AnimationStart"),transitionrun:Sr("Transition","TransitionRun"),transitionstart:Sr("Transition","TransitionStart"),transitioncancel:Sr("Transition","TransitionCancel"),transitionend:Sr("Transition","TransitionEnd")},Zu={},vp={};ba&&(vp=document.createElement("div").style,"AnimationEvent"in window||(delete ii.animationend.animation,delete ii.animationiteration.animation,delete ii.animationstart.animation),"TransitionEvent"in window||delete ii.transitionend.transition);function xr(e){if(Zu[e])return Zu[e];if(!ii[e])return e;var t=ii[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in vp)return Zu[e]=t[i];return e}var bp=xr("animationend"),wp=xr("animationiteration"),Sp=xr("animationstart"),bS=xr("transitionrun"),wS=xr("transitionstart"),SS=xr("transitioncancel"),xp=xr("transitionend"),Ep=new Map,Xu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xu.push("scrollEnd");function Kn(e,t){Ep.set(e,t),br(t,[e])}var _o=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ln=[],si=0,Fu=0;function Ao(){for(var e=si,t=Fu=si=0;t<e;){var i=Ln[t];Ln[t++]=null;var o=Ln[t];Ln[t++]=null;var c=Ln[t];Ln[t++]=null;var f=Ln[t];if(Ln[t++]=null,o!==null&&c!==null){var g=o.pending;g===null?c.next=c:(c.next=g.next,g.next=c),o.pending=c}f!==0&&kp(i,c,f)}}function Do(e,t,i,o){Ln[si++]=e,Ln[si++]=t,Ln[si++]=i,Ln[si++]=o,Fu|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Ku(e,t,i,o){return Do(e,t,i,o),Mo(e)}function Er(e,t){return Do(e,null,null,t),Mo(e)}function kp(e,t,i){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i);for(var c=!1,f=e.return;f!==null;)f.childLanes|=i,o=f.alternate,o!==null&&(o.childLanes|=i),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&t!==null&&(c=31-st(i),e=f.hiddenUpdates,o=e[c],o===null?e[c]=[t]:o.push(t),t.lane=i|536870912),f):null}function Mo(e){if(50<Bs)throw Bs=0,rf=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var oi={};function xS(e,t,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(e,t,i,o){return new xS(e,t,i,o)}function Qu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function wa(e,t){var i=e.alternate;return i===null?(i=kn(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Cp(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function zo(e,t,i,o,c,f){var g=0;if(o=e,typeof e=="function")Qu(e)&&(g=1);else if(typeof e=="string")g=Ox(e,i,T.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case U:return e=kn(31,i,t,c),e.elementType=U,e.lanes=f,e;case P:return kr(i.children,c,f,t);case I:g=8,c|=24;break;case K:return e=kn(12,i,t,c|2),e.elementType=K,e.lanes=f,e;case ie:return e=kn(13,i,t,c),e.elementType=ie,e.lanes=f,e;case le:return e=kn(19,i,t,c),e.elementType=le,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Y:g=10;break e;case F:g=9;break e;case Z:g=11;break e;case q:g=14;break e;case oe:g=16,o=null;break e}g=29,i=Error(s(130,e===null?"null":typeof e,"")),o=null}return t=kn(g,i,t,c),t.elementType=e,t.type=o,t.lanes=f,t}function kr(e,t,i,o){return e=kn(7,e,o,t),e.lanes=i,e}function Pu(e,t,i){return e=kn(6,e,null,t),e.lanes=i,e}function Tp(e){var t=kn(18,null,null,0);return t.stateNode=e,t}function Ju(e,t,i){return t=kn(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Op=new WeakMap;function Bn(e,t){if(typeof e=="object"&&e!==null){var i=Op.get(e);return i!==void 0?i:(t={value:e,source:t,stack:Ue(t)},Op.set(e,t),t)}return{value:e,source:t,stack:Ue(t)}}var li=[],ui=0,Ro=null,ys=0,Un=[],Hn=0,Va=null,sa=1,oa="";function Sa(e,t){li[ui++]=ys,li[ui++]=Ro,Ro=e,ys=t}function Np(e,t,i){Un[Hn++]=sa,Un[Hn++]=oa,Un[Hn++]=Va,Va=e;var o=sa;e=oa;var c=32-st(o)-1;o&=~(1<<c),i+=1;var f=32-st(t)+c;if(30<f){var g=c-c%5;f=(o&(1<<g)-1).toString(32),o>>=g,c-=g,sa=1<<32-st(t)+c|i<<c|o,oa=f+e}else sa=1<<f|i<<c|o,oa=e}function Wu(e){e.return!==null&&(Sa(e,1),Np(e,1,0))}function ec(e){for(;e===Ro;)Ro=li[--ui],li[ui]=null,ys=li[--ui],li[ui]=null;for(;e===Va;)Va=Un[--Hn],Un[Hn]=null,oa=Un[--Hn],Un[Hn]=null,sa=Un[--Hn],Un[Hn]=null}function jp(e,t){Un[Hn++]=sa,Un[Hn++]=oa,Un[Hn++]=Va,sa=t.id,oa=t.overflow,Va=e}var Kt=null,bt=null,Pe=!1,Ia=null,$n=!1,tc=Error(s(519));function qa(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw gs(Bn(t,e)),tc}function _p(e){var t=e.stateNode,i=e.type,o=e.memoizedProps;switch(t[Ft]=e,t[cn]=o,i){case"dialog":Ze("cancel",t),Ze("close",t);break;case"iframe":case"object":case"embed":Ze("load",t);break;case"video":case"audio":for(i=0;i<Hs.length;i++)Ze(Hs[i],t);break;case"source":Ze("error",t);break;case"img":case"image":case"link":Ze("error",t),Ze("load",t);break;case"details":Ze("toggle",t);break;case"input":Ze("invalid",t),qh(t,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ze("invalid",t);break;case"textarea":Ze("invalid",t),Gh(t,o.value,o.defaultValue,o.children)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||o.suppressHydrationWarning===!0||Xy(t.textContent,i)?(o.popover!=null&&(Ze("beforetoggle",t),Ze("toggle",t)),o.onScroll!=null&&Ze("scroll",t),o.onScrollEnd!=null&&Ze("scrollend",t),o.onClick!=null&&(t.onclick=va),t=!0):t=!1,t||qa(e,!0)}function Ap(e){for(Kt=e.return;Kt;)switch(Kt.tag){case 5:case 31:case 13:$n=!1;return;case 27:case 3:$n=!0;return;default:Kt=Kt.return}}function ci(e){if(e!==Kt)return!1;if(!Pe)return Ap(e),Pe=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||wf(e.type,e.memoizedProps)),i=!i),i&&bt&&qa(e),Ap(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));bt=ng(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));bt=ng(e)}else t===27?(t=bt,ar(e.type)?(e=Cf,Cf=null,bt=e):bt=t):bt=Kt?In(e.stateNode.nextSibling):null;return!0}function Cr(){bt=Kt=null,Pe=!1}function nc(){var e=Ia;return e!==null&&(mn===null?mn=e:mn.push.apply(mn,e),Ia=null),e}function gs(e){Ia===null?Ia=[e]:Ia.push(e)}var ac=S(null),Tr=null,xa=null;function Ya(e,t,i){E(ac,t._currentValue),t._currentValue=i}function Ea(e){e._currentValue=ac.current,k(ac)}function rc(e,t,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===i)break;e=e.return}}function ic(e,t,i,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var g=c.child;f=f.firstContext;e:for(;f!==null;){var b=f;f=c;for(var N=0;N<t.length;N++)if(b.context===t[N]){f.lanes|=i,b=f.alternate,b!==null&&(b.lanes|=i),rc(f.return,i,e),o||(g=null);break e}f=b.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=i,f=g.alternate,f!==null&&(f.lanes|=i),rc(g,i,e),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===e){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function fi(e,t,i,o){e=null;for(var c=t,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var b=c.type;En(c.pendingProps.value,g.value)||(e!==null?e.push(b):e=[b])}}else if(c===pe.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Ys):e=[Ys])}c=c.return}e!==null&&ic(t,e,i,o),t.flags|=262144}function Lo(e){for(e=e.firstContext;e!==null;){if(!En(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Or(e){Tr=e,xa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Qt(e){return Dp(Tr,e)}function Bo(e,t){return Tr===null&&Or(e),Dp(e,t)}function Dp(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},xa===null){if(e===null)throw Error(s(308));xa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else xa=xa.next=t;return i}var ES=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,o){e.push(o)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},kS=a.unstable_scheduleCallback,CS=a.unstable_NormalPriority,zt={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sc(){return{controller:new ES,data:new Map,refCount:0}}function vs(e){e.refCount--,e.refCount===0&&kS(CS,function(){e.controller.abort()})}var bs=null,oc=0,di=0,hi=null;function TS(e,t){if(bs===null){var i=bs=[];oc=0,di=ff(),hi={status:"pending",value:void 0,then:function(o){i.push(o)}}}return oc++,t.then(Mp,Mp),t}function Mp(){if(--oc===0&&bs!==null){hi!==null&&(hi.status="fulfilled");var e=bs;bs=null,di=0,hi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function OS(e,t){var i=[],o={status:"pending",value:null,reason:null,then:function(c){i.push(c)}};return e.then(function(){o.status="fulfilled",o.value=t;for(var c=0;c<i.length;c++)(0,i[c])(t)},function(c){for(o.status="rejected",o.reason=c,c=0;c<i.length;c++)(0,i[c])(void 0)}),o}var zp=D.S;D.S=function(e,t){gy=Mt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&TS(e,t),zp!==null&&zp(e,t)};var Nr=S(null);function lc(){var e=Nr.current;return e!==null?e:yt.pooledCache}function Uo(e,t){t===null?E(Nr,Nr.current):E(Nr,t.pool)}function Rp(){var e=lc();return e===null?null:{parent:zt._currentValue,pool:e}}var pi=Error(s(460)),uc=Error(s(474)),Ho=Error(s(542)),$o={then:function(){}};function Lp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Bp(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(va,va),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Hp(e),e;default:if(typeof t.status=="string")t.then(va,va);else{if(e=yt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(o){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=o}},function(o){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=o}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Hp(e),e}throw _r=t,pi}}function jr(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(_r=i,pi):i}}var _r=null;function Up(){if(_r===null)throw Error(s(459));var e=_r;return _r=null,e}function Hp(e){if(e===pi||e===Ho)throw Error(s(483))}var mi=null,ws=0;function Vo(e){var t=ws;return ws+=1,mi===null&&(mi=[]),Bp(mi,e,t)}function Ss(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Io(e,t){throw t.$$typeof===x?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function $p(e){function t(M,_){if(e){var L=M.deletions;L===null?(M.deletions=[_],M.flags|=16):L.push(_)}}function i(M,_){if(!e)return null;for(;_!==null;)t(M,_),_=_.sibling;return null}function o(M){for(var _=new Map;M!==null;)M.key!==null?_.set(M.key,M):_.set(M.index,M),M=M.sibling;return _}function c(M,_){return M=wa(M,_),M.index=0,M.sibling=null,M}function f(M,_,L){return M.index=L,e?(L=M.alternate,L!==null?(L=L.index,L<_?(M.flags|=67108866,_):L):(M.flags|=67108866,_)):(M.flags|=1048576,_)}function g(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function b(M,_,L,W){return _===null||_.tag!==6?(_=Pu(L,M.mode,W),_.return=M,_):(_=c(_,L),_.return=M,_)}function N(M,_,L,W){var Te=L.type;return Te===P?Q(M,_,L.props.children,W,L.key):_!==null&&(_.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===oe&&jr(Te)===_.type)?(_=c(_,L.props),Ss(_,L),_.return=M,_):(_=zo(L.type,L.key,L.props,null,M.mode,W),Ss(_,L),_.return=M,_)}function B(M,_,L,W){return _===null||_.tag!==4||_.stateNode.containerInfo!==L.containerInfo||_.stateNode.implementation!==L.implementation?(_=Ju(L,M.mode,W),_.return=M,_):(_=c(_,L.children||[]),_.return=M,_)}function Q(M,_,L,W,Te){return _===null||_.tag!==7?(_=kr(L,M.mode,W,Te),_.return=M,_):(_=c(_,L),_.return=M,_)}function te(M,_,L){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=Pu(""+_,M.mode,L),_.return=M,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case O:return L=zo(_.type,_.key,_.props,null,M.mode,L),Ss(L,_),L.return=M,L;case A:return _=Ju(_,M.mode,L),_.return=M,_;case oe:return _=jr(_),te(M,_,L)}if(ne(_)||we(_))return _=kr(_,M.mode,L,null),_.return=M,_;if(typeof _.then=="function")return te(M,Vo(_),L);if(_.$$typeof===Y)return te(M,Bo(M,_),L);Io(M,_)}return null}function H(M,_,L,W){var Te=_!==null?_.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return Te!==null?null:b(M,_,""+L,W);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case O:return L.key===Te?N(M,_,L,W):null;case A:return L.key===Te?B(M,_,L,W):null;case oe:return L=jr(L),H(M,_,L,W)}if(ne(L)||we(L))return Te!==null?null:Q(M,_,L,W,null);if(typeof L.then=="function")return H(M,_,Vo(L),W);if(L.$$typeof===Y)return H(M,_,Bo(M,L),W);Io(M,L)}return null}function G(M,_,L,W,Te){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return M=M.get(L)||null,b(_,M,""+W,Te);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case O:return M=M.get(W.key===null?L:W.key)||null,N(_,M,W,Te);case A:return M=M.get(W.key===null?L:W.key)||null,B(_,M,W,Te);case oe:return W=jr(W),G(M,_,L,W,Te)}if(ne(W)||we(W))return M=M.get(L)||null,Q(_,M,W,Te,null);if(typeof W.then=="function")return G(M,_,L,Vo(W),Te);if(W.$$typeof===Y)return G(M,_,L,Bo(_,W),Te);Io(_,W)}return null}function be(M,_,L,W){for(var Te=null,et=null,Se=_,Ve=_=0,Fe=null;Se!==null&&Ve<L.length;Ve++){Se.index>Ve?(Fe=Se,Se=null):Fe=Se.sibling;var tt=H(M,Se,L[Ve],W);if(tt===null){Se===null&&(Se=Fe);break}e&&Se&&tt.alternate===null&&t(M,Se),_=f(tt,_,Ve),et===null?Te=tt:et.sibling=tt,et=tt,Se=Fe}if(Ve===L.length)return i(M,Se),Pe&&Sa(M,Ve),Te;if(Se===null){for(;Ve<L.length;Ve++)Se=te(M,L[Ve],W),Se!==null&&(_=f(Se,_,Ve),et===null?Te=Se:et.sibling=Se,et=Se);return Pe&&Sa(M,Ve),Te}for(Se=o(Se);Ve<L.length;Ve++)Fe=G(Se,M,Ve,L[Ve],W),Fe!==null&&(e&&Fe.alternate!==null&&Se.delete(Fe.key===null?Ve:Fe.key),_=f(Fe,_,Ve),et===null?Te=Fe:et.sibling=Fe,et=Fe);return e&&Se.forEach(function(lr){return t(M,lr)}),Pe&&Sa(M,Ve),Te}function je(M,_,L,W){if(L==null)throw Error(s(151));for(var Te=null,et=null,Se=_,Ve=_=0,Fe=null,tt=L.next();Se!==null&&!tt.done;Ve++,tt=L.next()){Se.index>Ve?(Fe=Se,Se=null):Fe=Se.sibling;var lr=H(M,Se,tt.value,W);if(lr===null){Se===null&&(Se=Fe);break}e&&Se&&lr.alternate===null&&t(M,Se),_=f(lr,_,Ve),et===null?Te=lr:et.sibling=lr,et=lr,Se=Fe}if(tt.done)return i(M,Se),Pe&&Sa(M,Ve),Te;if(Se===null){for(;!tt.done;Ve++,tt=L.next())tt=te(M,tt.value,W),tt!==null&&(_=f(tt,_,Ve),et===null?Te=tt:et.sibling=tt,et=tt);return Pe&&Sa(M,Ve),Te}for(Se=o(Se);!tt.done;Ve++,tt=L.next())tt=G(Se,M,Ve,tt.value,W),tt!==null&&(e&&tt.alternate!==null&&Se.delete(tt.key===null?Ve:tt.key),_=f(tt,_,Ve),et===null?Te=tt:et.sibling=tt,et=tt);return e&&Se.forEach(function(Ux){return t(M,Ux)}),Pe&&Sa(M,Ve),Te}function pt(M,_,L,W){if(typeof L=="object"&&L!==null&&L.type===P&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case O:e:{for(var Te=L.key;_!==null;){if(_.key===Te){if(Te=L.type,Te===P){if(_.tag===7){i(M,_.sibling),W=c(_,L.props.children),W.return=M,M=W;break e}}else if(_.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===oe&&jr(Te)===_.type){i(M,_.sibling),W=c(_,L.props),Ss(W,L),W.return=M,M=W;break e}i(M,_);break}else t(M,_);_=_.sibling}L.type===P?(W=kr(L.props.children,M.mode,W,L.key),W.return=M,M=W):(W=zo(L.type,L.key,L.props,null,M.mode,W),Ss(W,L),W.return=M,M=W)}return g(M);case A:e:{for(Te=L.key;_!==null;){if(_.key===Te)if(_.tag===4&&_.stateNode.containerInfo===L.containerInfo&&_.stateNode.implementation===L.implementation){i(M,_.sibling),W=c(_,L.children||[]),W.return=M,M=W;break e}else{i(M,_);break}else t(M,_);_=_.sibling}W=Ju(L,M.mode,W),W.return=M,M=W}return g(M);case oe:return L=jr(L),pt(M,_,L,W)}if(ne(L))return be(M,_,L,W);if(we(L)){if(Te=we(L),typeof Te!="function")throw Error(s(150));return L=Te.call(L),je(M,_,L,W)}if(typeof L.then=="function")return pt(M,_,Vo(L),W);if(L.$$typeof===Y)return pt(M,_,Bo(M,L),W);Io(M,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,_!==null&&_.tag===6?(i(M,_.sibling),W=c(_,L),W.return=M,M=W):(i(M,_),W=Pu(L,M.mode,W),W.return=M,M=W),g(M)):i(M,_)}return function(M,_,L,W){try{ws=0;var Te=pt(M,_,L,W);return mi=null,Te}catch(Se){if(Se===pi||Se===Ho)throw Se;var et=kn(29,Se,null,M.mode);return et.lanes=W,et.return=M,et}finally{}}}var Ar=$p(!0),Vp=$p(!1),Ga=!1;function cc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Za(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Xa(e,t,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(at&2)!==0){var c=o.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),o.pending=t,t=Mo(e),kp(e,null,i),t}return Do(e,o,t,i),Mo(e)}function xs(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,as(e,i)}}function dc(e,t){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var c=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var g={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?c=f=g:f=f.next=g,i=i.next}while(i!==null);f===null?c=f=t:f=f.next=t}else c=f=t;i={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var hc=!1;function Es(){if(hc){var e=hi;if(e!==null)throw e}}function ks(e,t,i,o){hc=!1;var c=e.updateQueue;Ga=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,b=c.shared.pending;if(b!==null){c.shared.pending=null;var N=b,B=N.next;N.next=null,g===null?f=B:g.next=B,g=N;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,b=Q.lastBaseUpdate,b!==g&&(b===null?Q.firstBaseUpdate=B:b.next=B,Q.lastBaseUpdate=N))}if(f!==null){var te=c.baseState;g=0,Q=B=N=null,b=f;do{var H=b.lane&-536870913,G=H!==b.lane;if(G?(Xe&H)===H:(o&H)===H){H!==0&&H===di&&(hc=!0),Q!==null&&(Q=Q.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var be=e,je=b;H=t;var pt=i;switch(je.tag){case 1:if(be=je.payload,typeof be=="function"){te=be.call(pt,te,H);break e}te=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=je.payload,H=typeof be=="function"?be.call(pt,te,H):be,H==null)break e;te=w({},te,H);break e;case 2:Ga=!0}}H=b.callback,H!==null&&(e.flags|=64,G&&(e.flags|=8192),G=c.callbacks,G===null?c.callbacks=[H]:G.push(H))}else G={lane:H,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Q===null?(B=Q=G,N=te):Q=Q.next=G,g|=H;if(b=b.next,b===null){if(b=c.shared.pending,b===null)break;G=b,b=G.next,G.next=null,c.lastBaseUpdate=G,c.shared.pending=null}}while(!0);Q===null&&(N=te),c.baseState=N,c.firstBaseUpdate=B,c.lastBaseUpdate=Q,f===null&&(c.shared.lanes=0),Ja|=g,e.lanes=g,e.memoizedState=te}}function Ip(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function qp(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Ip(i[e],t)}var yi=S(null),qo=S(0);function Yp(e,t){e=Da,E(qo,e),E(yi,t),Da=e|t.baseLanes}function pc(){E(qo,Da),E(yi,yi.current)}function mc(){Da=qo.current,k(yi),k(qo)}var Cn=S(null),Vn=null;function Fa(e){var t=e.alternate;E(At,At.current&1),E(Cn,e),Vn===null&&(t===null||yi.current!==null||t.memoizedState!==null)&&(Vn=e)}function yc(e){E(At,At.current),E(Cn,e),Vn===null&&(Vn=e)}function Gp(e){e.tag===22?(E(At,At.current),E(Cn,e),Vn===null&&(Vn=e)):Ka()}function Ka(){E(At,At.current),E(Cn,Cn.current)}function Tn(e){k(Cn),Vn===e&&(Vn=null),k(At)}var At=S(0);function Yo(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Ef(i)||kf(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ka=0,He=null,dt=null,Rt=null,Go=!1,gi=!1,Dr=!1,Zo=0,Cs=0,vi=null,NS=0;function Nt(){throw Error(s(321))}function gc(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!En(e[i],t[i]))return!1;return!0}function vc(e,t,i,o,c,f){return ka=f,He=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=e===null||e.memoizedState===null?Nm:Mc,Dr=!1,f=i(o,c),Dr=!1,gi&&(f=Xp(t,i,o,c)),Zp(e),f}function Zp(e){D.H=Ns;var t=dt!==null&&dt.next!==null;if(ka=0,Rt=dt=He=null,Go=!1,Cs=0,vi=null,t)throw Error(s(300));e===null||Lt||(e=e.dependencies,e!==null&&Lo(e)&&(Lt=!0))}function Xp(e,t,i,o){He=e;var c=0;do{if(gi&&(vi=null),Cs=0,gi=!1,25<=c)throw Error(s(301));if(c+=1,Rt=dt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}D.H=jm,f=t(i,o)}while(gi);return f}function jS(){var e=D.H,t=e.useState()[0];return t=typeof t.then=="function"?Ts(t):t,e=e.useState()[0],(dt!==null?dt.memoizedState:null)!==e&&(He.flags|=1024),t}function bc(){var e=Zo!==0;return Zo=0,e}function wc(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Sc(e){if(Go){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Go=!1}ka=0,Rt=dt=He=null,gi=!1,Cs=Zo=0,vi=null}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?He.memoizedState=Rt=e:Rt=Rt.next=e,Rt}function Dt(){if(dt===null){var e=He.alternate;e=e!==null?e.memoizedState:null}else e=dt.next;var t=Rt===null?He.memoizedState:Rt.next;if(t!==null)Rt=t,dt=e;else{if(e===null)throw He.alternate===null?Error(s(467)):Error(s(310));dt=e,e={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Rt===null?He.memoizedState=Rt=e:Rt=Rt.next=e}return Rt}function Xo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ts(e){var t=Cs;return Cs+=1,vi===null&&(vi=[]),e=Bp(vi,e,t),t=He,(Rt===null?t.memoizedState:Rt.next)===null&&(t=t.alternate,D.H=t===null||t.memoizedState===null?Nm:Mc),e}function Fo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ts(e);if(e.$$typeof===Y)return Qt(e)}throw Error(s(438,String(e)))}function xc(e){var t=null,i=He.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var o=He.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(t={data:o.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=Xo(),He.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),o=0;o<e;o++)i[o]=J;return t.index++,i}function Ca(e,t){return typeof t=="function"?t(e):t}function Ko(e){var t=Dt();return Ec(t,dt,e)}function Ec(e,t,i){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=e.baseQueue,f=o.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}t.baseQueue=c=f,o.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{t=c.next;var b=g=null,N=null,B=t,Q=!1;do{var te=B.lane&-536870913;if(te!==B.lane?(Xe&te)===te:(ka&te)===te){var H=B.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),te===di&&(Q=!0);else if((ka&H)===H){B=B.next,H===di&&(Q=!0);continue}else te={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(b=N=te,g=f):N=N.next=te,He.lanes|=H,Ja|=H;te=B.action,Dr&&i(f,te),f=B.hasEagerState?B.eagerState:i(f,te)}else H={lane:te,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(b=N=H,g=f):N=N.next=H,He.lanes|=te,Ja|=te;B=B.next}while(B!==null&&B!==t);if(N===null?g=f:N.next=b,!En(f,e.memoizedState)&&(Lt=!0,Q&&(i=hi,i!==null)))throw i;e.memoizedState=f,e.baseState=g,e.baseQueue=N,o.lastRenderedState=f}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function kc(e){var t=Dt(),i=t.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var o=i.dispatch,c=i.pending,f=t.memoizedState;if(c!==null){i.pending=null;var g=c=c.next;do f=e(f,g.action),g=g.next;while(g!==c);En(f,t.memoizedState)||(Lt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),i.lastRenderedState=f}return[f,o]}function Fp(e,t,i){var o=He,c=Dt(),f=Pe;if(f){if(i===void 0)throw Error(s(407));i=i()}else i=t();var g=!En((dt||c).memoizedState,i);if(g&&(c.memoizedState=i,Lt=!0),c=c.queue,Oc(Pp.bind(null,o,c,e),[e]),c.getSnapshot!==t||g||Rt!==null&&Rt.memoizedState.tag&1){if(o.flags|=2048,bi(9,{destroy:void 0},Qp.bind(null,o,c,i,t),null),yt===null)throw Error(s(349));f||(ka&127)!==0||Kp(o,t,i)}return i}function Kp(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=He.updateQueue,t===null?(t=Xo(),He.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Qp(e,t,i,o){t.value=i,t.getSnapshot=o,Jp(t)&&Wp(e)}function Pp(e,t,i){return i(function(){Jp(t)&&Wp(e)})}function Jp(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!En(e,i)}catch{return!0}}function Wp(e){var t=Er(e,2);t!==null&&yn(t,e,2)}function Cc(e){var t=on();if(typeof e=="function"){var i=e;if(e=i(),Dr){ze(!0);try{i()}finally{ze(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},t}function em(e,t,i,o){return e.baseState=i,Ec(e,dt,typeof o=="function"?o:Ca)}function _S(e,t,i,o,c){if(Jo(e))throw Error(s(485));if(e=t.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};D.T!==null?i(!0):f.isTransition=!1,o(f),i=t.pending,i===null?(f.next=t.pending=f,tm(t,f)):(f.next=i.next,t.pending=i.next=f)}}function tm(e,t){var i=t.action,o=t.payload,c=e.state;if(t.isTransition){var f=D.T,g={};D.T=g;try{var b=i(c,o),N=D.S;N!==null&&N(g,b),nm(e,t,b)}catch(B){Tc(e,t,B)}finally{f!==null&&g.types!==null&&(f.types=g.types),D.T=f}}else try{f=i(c,o),nm(e,t,f)}catch(B){Tc(e,t,B)}}function nm(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){am(e,t,o)},function(o){return Tc(e,t,o)}):am(e,t,i)}function am(e,t,i){t.status="fulfilled",t.value=i,rm(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,tm(e,i)))}function Tc(e,t,i){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do t.status="rejected",t.reason=i,rm(t),t=t.next;while(t!==o)}e.action=null}function rm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function im(e,t){return t}function sm(e,t){if(Pe){var i=yt.formState;if(i!==null){e:{var o=He;if(Pe){if(bt){t:{for(var c=bt,f=$n;c.nodeType!==8;){if(!f){c=null;break t}if(c=In(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){bt=In(c.nextSibling),o=c.data==="F!";break e}}qa(o)}o=!1}o&&(t=i[0])}}return i=on(),i.memoizedState=i.baseState=t,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:im,lastRenderedState:t},i.queue=o,i=Cm.bind(null,He,o),o.dispatch=i,o=Cc(!1),f=Dc.bind(null,He,!1,o.queue),o=on(),c={state:t,dispatch:null,action:e,pending:null},o.queue=c,i=_S.bind(null,He,c,f,i),c.dispatch=i,o.memoizedState=e,[t,i,!1]}function om(e){var t=Dt();return lm(t,dt,e)}function lm(e,t,i){if(t=Ec(e,t,im)[0],e=Ko(Ca)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var o=Ts(t)}catch(g){throw g===pi?Ho:g}else o=t;t=Dt();var c=t.queue,f=c.dispatch;return i!==t.memoizedState&&(He.flags|=2048,bi(9,{destroy:void 0},AS.bind(null,c,i),null)),[o,f,e]}function AS(e,t){e.action=t}function um(e){var t=Dt(),i=dt;if(i!==null)return lm(t,i,e);Dt(),t=t.memoizedState,i=Dt();var o=i.queue.dispatch;return i.memoizedState=e,[t,o,!1]}function bi(e,t,i,o){return e={tag:e,create:i,deps:o,inst:t,next:null},t=He.updateQueue,t===null&&(t=Xo(),He.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,t.lastEffect=e),e}function cm(){return Dt().memoizedState}function Qo(e,t,i,o){var c=on();He.flags|=e,c.memoizedState=bi(1|t,{destroy:void 0},i,o===void 0?null:o)}function Po(e,t,i,o){var c=Dt();o=o===void 0?null:o;var f=c.memoizedState.inst;dt!==null&&o!==null&&gc(o,dt.memoizedState.deps)?c.memoizedState=bi(t,f,i,o):(He.flags|=e,c.memoizedState=bi(1|t,f,i,o))}function fm(e,t){Qo(8390656,8,e,t)}function Oc(e,t){Po(2048,8,e,t)}function DS(e){He.flags|=4;var t=He.updateQueue;if(t===null)t=Xo(),He.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function dm(e){var t=Dt().memoizedState;return DS({ref:t,nextImpl:e}),function(){if((at&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function hm(e,t){return Po(4,2,e,t)}function pm(e,t){return Po(4,4,e,t)}function mm(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ym(e,t,i){i=i!=null?i.concat([e]):null,Po(4,4,mm.bind(null,t,e),i)}function Nc(){}function gm(e,t){var i=Dt();t=t===void 0?null:t;var o=i.memoizedState;return t!==null&&gc(t,o[1])?o[0]:(i.memoizedState=[e,t],e)}function vm(e,t){var i=Dt();t=t===void 0?null:t;var o=i.memoizedState;if(t!==null&&gc(t,o[1]))return o[0];if(o=e(),Dr){ze(!0);try{e()}finally{ze(!1)}}return i.memoizedState=[o,t],o}function jc(e,t,i){return i===void 0||(ka&1073741824)!==0&&(Xe&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=by(),He.lanes|=e,Ja|=e,i)}function bm(e,t,i,o){return En(i,t)?i:yi.current!==null?(e=jc(e,i,o),En(e,t)||(Lt=!0),e):(ka&42)===0||(ka&1073741824)!==0&&(Xe&261930)===0?(Lt=!0,e.memoizedState=i):(e=by(),He.lanes|=e,Ja|=e,t)}function wm(e,t,i,o,c){var f=j.p;j.p=f!==0&&8>f?f:8;var g=D.T,b={};D.T=b,Dc(e,!1,t,i);try{var N=c(),B=D.S;if(B!==null&&B(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Q=OS(N,o);Os(e,t,Q,jn(e))}else Os(e,t,o,jn(e))}catch(te){Os(e,t,{then:function(){},status:"rejected",reason:te},jn())}finally{j.p=f,g!==null&&b.types!==null&&(g.types=b.types),D.T=g}}function MS(){}function _c(e,t,i,o){if(e.tag!==5)throw Error(s(476));var c=Sm(e).queue;wm(e,c,t,$,i===null?MS:function(){return xm(e),i(o)})}function Sm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:$},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function xm(e){var t=Sm(e);t.next===null&&(t=e.alternate.memoizedState),Os(e,t.next.queue,{},jn())}function Ac(){return Qt(Ys)}function Em(){return Dt().memoizedState}function km(){return Dt().memoizedState}function zS(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=jn();e=Za(i);var o=Xa(t,e,i);o!==null&&(yn(o,t,i),xs(o,t,i)),t={cache:sc()},e.payload=t;return}t=t.return}}function RS(e,t,i){var o=jn();i={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Jo(e)?Tm(t,i):(i=Ku(e,t,i,o),i!==null&&(yn(i,e,o),Om(i,t,o)))}function Cm(e,t,i){var o=jn();Os(e,t,i,o)}function Os(e,t,i,o){var c={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Jo(e))Tm(t,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var g=t.lastRenderedState,b=f(g,i);if(c.hasEagerState=!0,c.eagerState=b,En(b,g))return Do(e,t,c,0),yt===null&&Ao(),!1}catch{}finally{}if(i=Ku(e,t,c,o),i!==null)return yn(i,e,o),Om(i,t,o),!0}return!1}function Dc(e,t,i,o){if(o={lane:2,revertLane:ff(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Jo(e)){if(t)throw Error(s(479))}else t=Ku(e,i,o,2),t!==null&&yn(t,e,2)}function Jo(e){var t=e.alternate;return e===He||t!==null&&t===He}function Tm(e,t){gi=Go=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Om(e,t,i){if((i&4194048)!==0){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,as(e,i)}}var Ns={readContext:Qt,use:Fo,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt};Ns.useEffectEvent=Nt;var Nm={readContext:Qt,use:Fo,useCallback:function(e,t){return on().memoizedState=[e,t===void 0?null:t],e},useContext:Qt,useEffect:fm,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Qo(4194308,4,mm.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Qo(4194308,4,e,t)},useInsertionEffect:function(e,t){Qo(4,2,e,t)},useMemo:function(e,t){var i=on();t=t===void 0?null:t;var o=e();if(Dr){ze(!0);try{e()}finally{ze(!1)}}return i.memoizedState=[o,t],o},useReducer:function(e,t,i){var o=on();if(i!==void 0){var c=i(t);if(Dr){ze(!0);try{i(t)}finally{ze(!1)}}}else c=t;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=RS.bind(null,He,e),[o.memoizedState,e]},useRef:function(e){var t=on();return e={current:e},t.memoizedState=e},useState:function(e){e=Cc(e);var t=e.queue,i=Cm.bind(null,He,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:Nc,useDeferredValue:function(e,t){var i=on();return jc(i,e,t)},useTransition:function(){var e=Cc(!1);return e=wm.bind(null,He,e.queue,!0,!1),on().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var o=He,c=on();if(Pe){if(i===void 0)throw Error(s(407));i=i()}else{if(i=t(),yt===null)throw Error(s(349));(Xe&127)!==0||Kp(o,t,i)}c.memoizedState=i;var f={value:i,getSnapshot:t};return c.queue=f,fm(Pp.bind(null,o,f,e),[e]),o.flags|=2048,bi(9,{destroy:void 0},Qp.bind(null,o,f,i,t),null),i},useId:function(){var e=on(),t=yt.identifierPrefix;if(Pe){var i=oa,o=sa;i=(o&~(1<<32-st(o)-1)).toString(32)+i,t="_"+t+"R_"+i,i=Zo++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=NS++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Ac,useFormState:sm,useActionState:sm,useOptimistic:function(e){var t=on();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Dc.bind(null,He,!0,i),i.dispatch=t,[e,t]},useMemoCache:xc,useCacheRefresh:function(){return on().memoizedState=zS.bind(null,He)},useEffectEvent:function(e){var t=on(),i={impl:e};return t.memoizedState=i,function(){if((at&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}},Mc={readContext:Qt,use:Fo,useCallback:gm,useContext:Qt,useEffect:Oc,useImperativeHandle:ym,useInsertionEffect:hm,useLayoutEffect:pm,useMemo:vm,useReducer:Ko,useRef:cm,useState:function(){return Ko(Ca)},useDebugValue:Nc,useDeferredValue:function(e,t){var i=Dt();return bm(i,dt.memoizedState,e,t)},useTransition:function(){var e=Ko(Ca)[0],t=Dt().memoizedState;return[typeof e=="boolean"?e:Ts(e),t]},useSyncExternalStore:Fp,useId:Em,useHostTransitionStatus:Ac,useFormState:om,useActionState:om,useOptimistic:function(e,t){var i=Dt();return em(i,dt,e,t)},useMemoCache:xc,useCacheRefresh:km};Mc.useEffectEvent=dm;var jm={readContext:Qt,use:Fo,useCallback:gm,useContext:Qt,useEffect:Oc,useImperativeHandle:ym,useInsertionEffect:hm,useLayoutEffect:pm,useMemo:vm,useReducer:kc,useRef:cm,useState:function(){return kc(Ca)},useDebugValue:Nc,useDeferredValue:function(e,t){var i=Dt();return dt===null?jc(i,e,t):bm(i,dt.memoizedState,e,t)},useTransition:function(){var e=kc(Ca)[0],t=Dt().memoizedState;return[typeof e=="boolean"?e:Ts(e),t]},useSyncExternalStore:Fp,useId:Em,useHostTransitionStatus:Ac,useFormState:um,useActionState:um,useOptimistic:function(e,t){var i=Dt();return dt!==null?em(i,dt,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:xc,useCacheRefresh:km};jm.useEffectEvent=dm;function zc(e,t,i,o){t=e.memoizedState,i=i(o,t),i=i==null?t:w({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Rc={enqueueSetState:function(e,t,i){e=e._reactInternals;var o=jn(),c=Za(o);c.payload=t,i!=null&&(c.callback=i),t=Xa(e,c,o),t!==null&&(yn(t,e,o),xs(t,e,o))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var o=jn(),c=Za(o);c.tag=1,c.payload=t,i!=null&&(c.callback=i),t=Xa(e,c,o),t!==null&&(yn(t,e,o),xs(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=jn(),o=Za(i);o.tag=2,t!=null&&(o.callback=t),t=Xa(e,o,i),t!==null&&(yn(t,e,i),xs(t,e,i))}};function _m(e,t,i,o,c,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):t.prototype&&t.prototype.isPureReactComponent?!ps(i,o)||!ps(c,f):!0}function Am(e,t,i,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,o),t.state!==e&&Rc.enqueueReplaceState(t,t.state,null)}function Mr(e,t){var i=t;if("ref"in t){i={};for(var o in t)o!=="ref"&&(i[o]=t[o])}if(e=e.defaultProps){i===t&&(i=w({},i));for(var c in e)i[c]===void 0&&(i[c]=e[c])}return i}function Dm(e){_o(e)}function Mm(e){console.error(e)}function zm(e){_o(e)}function Wo(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(o){setTimeout(function(){throw o})}}function Rm(e,t,i){try{var o=e.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Lc(e,t,i){return i=Za(i),i.tag=3,i.payload={element:null},i.callback=function(){Wo(e,t)},i}function Lm(e){return e=Za(e),e.tag=3,e}function Bm(e,t,i,o){var c=i.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;e.payload=function(){return c(f)},e.callback=function(){Rm(t,i,o)}}var g=i.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Rm(t,i,o),typeof c!="function"&&(Wa===null?Wa=new Set([this]):Wa.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function LS(e,t,i,o,c){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(t=i.alternate,t!==null&&fi(t,i,c,!0),i=Cn.current,i!==null){switch(i.tag){case 31:case 13:return Vn===null?fl():i.alternate===null&&jt===0&&(jt=3),i.flags&=-257,i.flags|=65536,i.lanes=c,o===$o?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([o]):t.add(o),lf(e,o,c)),!1;case 22:return i.flags|=65536,o===$o?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([o]):i.add(o)),lf(e,o,c)),!1}throw Error(s(435,i.tag))}return lf(e,o,c),fl(),!1}if(Pe)return t=Cn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,o!==tc&&(e=Error(s(422),{cause:o}),gs(Bn(e,i)))):(o!==tc&&(t=Error(s(423),{cause:o}),gs(Bn(t,i))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=Bn(o,i),c=Lc(e.stateNode,o,c),dc(e,c),jt!==4&&(jt=2)),!1;var f=Error(s(520),{cause:o});if(f=Bn(f,i),Ls===null?Ls=[f]:Ls.push(f),jt!==4&&(jt=2),t===null)return!0;o=Bn(o,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=c&-c,i.lanes|=e,e=Lc(i.stateNode,o,e),dc(i,e),!1;case 1:if(t=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Wa===null||!Wa.has(f))))return i.flags|=65536,c&=-c,i.lanes|=c,c=Lm(c),Bm(c,e,i,o),dc(i,c),!1}i=i.return}while(i!==null);return!1}var Bc=Error(s(461)),Lt=!1;function Pt(e,t,i,o){t.child=e===null?Vp(t,null,i,o):Ar(t,e.child,i,o)}function Um(e,t,i,o,c){i=i.render;var f=t.ref;if("ref"in o){var g={};for(var b in o)b!=="ref"&&(g[b]=o[b])}else g=o;return Or(t),o=vc(e,t,i,g,f,c),b=bc(),e!==null&&!Lt?(wc(e,t,c),Ta(e,t,c)):(Pe&&b&&Wu(t),t.flags|=1,Pt(e,t,o,c),t.child)}function Hm(e,t,i,o,c){if(e===null){var f=i.type;return typeof f=="function"&&!Qu(f)&&f.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=f,$m(e,t,f,o,c)):(e=zo(i.type,null,o,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!Gc(e,c)){var g=f.memoizedProps;if(i=i.compare,i=i!==null?i:ps,i(g,o)&&e.ref===t.ref)return Ta(e,t,c)}return t.flags|=1,e=wa(f,o),e.ref=t.ref,e.return=t,t.child=e}function $m(e,t,i,o,c){if(e!==null){var f=e.memoizedProps;if(ps(f,o)&&e.ref===t.ref)if(Lt=!1,t.pendingProps=o=f,Gc(e,c))(e.flags&131072)!==0&&(Lt=!0);else return t.lanes=e.lanes,Ta(e,t,c)}return Uc(e,t,i,o,c)}function Vm(e,t,i,o){var c=o.children,f=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((t.flags&128)!==0){if(f=f!==null?f.baseLanes|i:i,e!==null){for(o=t.child=e.child,c=0;o!==null;)c=c|o.lanes|o.childLanes,o=o.sibling;o=c&~f}else o=0,t.child=null;return Im(e,t,f,i,o)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Uo(t,f!==null?f.cachePool:null),f!==null?Yp(t,f):pc(),Gp(t);else return o=t.lanes=536870912,Im(e,t,f!==null?f.baseLanes|i:i,i,o)}else f!==null?(Uo(t,f.cachePool),Yp(t,f),Ka(),t.memoizedState=null):(e!==null&&Uo(t,null),pc(),Ka());return Pt(e,t,c,i),t.child}function js(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Im(e,t,i,o,c){var f=lc();return f=f===null?null:{parent:zt._currentValue,pool:f},t.memoizedState={baseLanes:i,cachePool:f},e!==null&&Uo(t,null),pc(),Gp(t),e!==null&&fi(e,t,o,!0),t.childLanes=c,null}function el(e,t){return t=nl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function qm(e,t,i){return Ar(t,e.child,null,i),e=el(t,t.pendingProps),e.flags|=2,Tn(t),t.memoizedState=null,e}function BS(e,t,i){var o=t.pendingProps,c=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Pe){if(o.mode==="hidden")return e=el(t,o),t.lanes=536870912,js(null,e);if(yc(t),(e=bt)?(e=tg(e,$n),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Va!==null?{id:sa,overflow:oa}:null,retryLane:536870912,hydrationErrors:null},i=Tp(e),i.return=t,t.child=i,Kt=t,bt=null)):e=null,e===null)throw qa(t);return t.lanes=536870912,null}return el(t,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(yc(t),c)if(t.flags&256)t.flags&=-257,t=qm(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(Lt||fi(e,t,i,!1),c=(i&e.childLanes)!==0,Lt||c){if(o=yt,o!==null&&(g=rs(o,i),g!==0&&g!==f.retryLane))throw f.retryLane=g,Er(e,g),yn(o,e,g),Bc;fl(),t=qm(e,t,i)}else e=f.treeContext,bt=In(g.nextSibling),Kt=t,Pe=!0,Ia=null,$n=!1,e!==null&&jp(t,e),t=el(t,o),t.flags|=4096;return t}return e=wa(e.child,{mode:o.mode,children:o.children}),e.ref=t.ref,t.child=e,e.return=t,e}function tl(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function Uc(e,t,i,o,c){return Or(t),i=vc(e,t,i,o,void 0,c),o=bc(),e!==null&&!Lt?(wc(e,t,c),Ta(e,t,c)):(Pe&&o&&Wu(t),t.flags|=1,Pt(e,t,i,c),t.child)}function Ym(e,t,i,o,c,f){return Or(t),t.updateQueue=null,i=Xp(t,o,i,c),Zp(e),o=bc(),e!==null&&!Lt?(wc(e,t,f),Ta(e,t,f)):(Pe&&o&&Wu(t),t.flags|=1,Pt(e,t,i,f),t.child)}function Gm(e,t,i,o,c){if(Or(t),t.stateNode===null){var f=oi,g=i.contextType;typeof g=="object"&&g!==null&&(f=Qt(g)),f=new i(o,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Rc,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=o,f.state=t.memoizedState,f.refs={},cc(t),g=i.contextType,f.context=typeof g=="object"&&g!==null?Qt(g):oi,f.state=t.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(zc(t,i,g,o),f.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Rc.enqueueReplaceState(f,f.state,null),ks(t,o,f,c),Es(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),o=!0}else if(e===null){f=t.stateNode;var b=t.memoizedProps,N=Mr(i,b);f.props=N;var B=f.context,Q=i.contextType;g=oi,typeof Q=="object"&&Q!==null&&(g=Qt(Q));var te=i.getDerivedStateFromProps;Q=typeof te=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=t.pendingProps!==b,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||B!==g)&&Am(t,f,o,g),Ga=!1;var H=t.memoizedState;f.state=H,ks(t,o,f,c),Es(),B=t.memoizedState,b||H!==B||Ga?(typeof te=="function"&&(zc(t,i,te,o),B=t.memoizedState),(N=Ga||_m(t,i,N,o,H,B,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=B),f.props=o,f.state=B,f.context=g,o=N):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{f=t.stateNode,fc(e,t),g=t.memoizedProps,Q=Mr(i,g),f.props=Q,te=t.pendingProps,H=f.context,B=i.contextType,N=oi,typeof B=="object"&&B!==null&&(N=Qt(B)),b=i.getDerivedStateFromProps,(B=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==te||H!==N)&&Am(t,f,o,N),Ga=!1,H=t.memoizedState,f.state=H,ks(t,o,f,c),Es();var G=t.memoizedState;g!==te||H!==G||Ga||e!==null&&e.dependencies!==null&&Lo(e.dependencies)?(typeof b=="function"&&(zc(t,i,b,o),G=t.memoizedState),(Q=Ga||_m(t,i,Q,o,H,G,N)||e!==null&&e.dependencies!==null&&Lo(e.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,G,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,G,N)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=G),f.props=o,f.state=G,f.context=N,o=Q):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&H===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&H===e.memoizedState||(t.flags|=1024),o=!1)}return f=o,tl(e,t),o=(t.flags&128)!==0,f||o?(f=t.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&o?(t.child=Ar(t,e.child,null,c),t.child=Ar(t,null,i,c)):Pt(e,t,i,c),t.memoizedState=f.state,e=t.child):e=Ta(e,t,c),e}function Zm(e,t,i,o){return Cr(),t.flags|=256,Pt(e,t,i,o),t.child}var Hc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $c(e){return{baseLanes:e,cachePool:Rp()}}function Vc(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Nn),e}function Xm(e,t,i){var o=t.pendingProps,c=!1,f=(t.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(At.current&2)!==0),g&&(c=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(Pe){if(c?Fa(t):Ka(),(e=bt)?(e=tg(e,$n),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Va!==null?{id:sa,overflow:oa}:null,retryLane:536870912,hydrationErrors:null},i=Tp(e),i.return=t,t.child=i,Kt=t,bt=null)):e=null,e===null)throw qa(t);return kf(e)?t.lanes=32:t.lanes=536870912,null}var b=o.children;return o=o.fallback,c?(Ka(),c=t.mode,b=nl({mode:"hidden",children:b},c),o=kr(o,c,i,null),b.return=t,o.return=t,b.sibling=o,t.child=b,o=t.child,o.memoizedState=$c(i),o.childLanes=Vc(e,g,i),t.memoizedState=Hc,js(null,o)):(Fa(t),Ic(t,b))}var N=e.memoizedState;if(N!==null&&(b=N.dehydrated,b!==null)){if(f)t.flags&256?(Fa(t),t.flags&=-257,t=qc(e,t,i)):t.memoizedState!==null?(Ka(),t.child=e.child,t.flags|=128,t=null):(Ka(),b=o.fallback,c=t.mode,o=nl({mode:"visible",children:o.children},c),b=kr(b,c,i,null),b.flags|=2,o.return=t,b.return=t,o.sibling=b,t.child=o,Ar(t,e.child,null,i),o=t.child,o.memoizedState=$c(i),o.childLanes=Vc(e,g,i),t.memoizedState=Hc,t=js(null,o));else if(Fa(t),kf(b)){if(g=b.nextSibling&&b.nextSibling.dataset,g)var B=g.dgst;g=B,o=Error(s(419)),o.stack="",o.digest=g,gs({value:o,source:null,stack:null}),t=qc(e,t,i)}else if(Lt||fi(e,t,i,!1),g=(i&e.childLanes)!==0,Lt||g){if(g=yt,g!==null&&(o=rs(g,i),o!==0&&o!==N.retryLane))throw N.retryLane=o,Er(e,o),yn(g,e,o),Bc;Ef(b)||fl(),t=qc(e,t,i)}else Ef(b)?(t.flags|=192,t.child=e.child,t=null):(e=N.treeContext,bt=In(b.nextSibling),Kt=t,Pe=!0,Ia=null,$n=!1,e!==null&&jp(t,e),t=Ic(t,o.children),t.flags|=4096);return t}return c?(Ka(),b=o.fallback,c=t.mode,N=e.child,B=N.sibling,o=wa(N,{mode:"hidden",children:o.children}),o.subtreeFlags=N.subtreeFlags&65011712,B!==null?b=wa(B,b):(b=kr(b,c,i,null),b.flags|=2),b.return=t,o.return=t,o.sibling=b,t.child=o,js(null,o),o=t.child,b=e.child.memoizedState,b===null?b=$c(i):(c=b.cachePool,c!==null?(N=zt._currentValue,c=c.parent!==N?{parent:N,pool:N}:c):c=Rp(),b={baseLanes:b.baseLanes|i,cachePool:c}),o.memoizedState=b,o.childLanes=Vc(e,g,i),t.memoizedState=Hc,js(e.child,o)):(Fa(t),i=e.child,e=i.sibling,i=wa(i,{mode:"visible",children:o.children}),i.return=t,i.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=i,t.memoizedState=null,i)}function Ic(e,t){return t=nl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function nl(e,t){return e=kn(22,e,null,t),e.lanes=0,e}function qc(e,t,i){return Ar(t,e.child,null,i),e=Ic(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Fm(e,t,i){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),rc(e.return,t,i)}function Yc(e,t,i,o,c,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:c,treeForkCount:f}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=i,g.tailMode=c,g.treeForkCount=f)}function Km(e,t,i){var o=t.pendingProps,c=o.revealOrder,f=o.tail;o=o.children;var g=At.current,b=(g&2)!==0;if(b?(g=g&1|2,t.flags|=128):g&=1,E(At,g),Pt(e,t,o,i),o=Pe?ys:0,!b&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fm(e,i,t);else if(e.tag===19)Fm(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(c){case"forwards":for(i=t.child,c=null;i!==null;)e=i.alternate,e!==null&&Yo(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=t.child,t.child=null):(c=i.sibling,i.sibling=null),Yc(t,!1,c,i,f,o);break;case"backwards":case"unstable_legacy-backwards":for(i=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&Yo(e)===null){t.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}Yc(t,!0,i,null,f,o);break;case"together":Yc(t,!1,null,null,void 0,o);break;default:t.memoizedState=null}return t.child}function Ta(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Ja|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(fi(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,i=wa(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=wa(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Gc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Lo(e)))}function US(e,t,i){switch(t.tag){case 3:ce(t,t.stateNode.containerInfo),Ya(t,zt,e.memoizedState.cache),Cr();break;case 27:case 5:Oe(t);break;case 4:ce(t,t.stateNode.containerInfo);break;case 10:Ya(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,yc(t),null;break;case 13:var o=t.memoizedState;if(o!==null)return o.dehydrated!==null?(Fa(t),t.flags|=128,null):(i&t.child.childLanes)!==0?Xm(e,t,i):(Fa(t),e=Ta(e,t,i),e!==null?e.sibling:null);Fa(t);break;case 19:var c=(e.flags&128)!==0;if(o=(i&t.childLanes)!==0,o||(fi(e,t,i,!1),o=(i&t.childLanes)!==0),c){if(o)return Km(e,t,i);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),E(At,At.current),o)break;return null;case 22:return t.lanes=0,Vm(e,t,i,t.pendingProps);case 24:Ya(t,zt,e.memoizedState.cache)}return Ta(e,t,i)}function Qm(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Lt=!0;else{if(!Gc(e,i)&&(t.flags&128)===0)return Lt=!1,US(e,t,i);Lt=(e.flags&131072)!==0}else Lt=!1,Pe&&(t.flags&1048576)!==0&&Np(t,ys,t.index);switch(t.lanes=0,t.tag){case 16:e:{var o=t.pendingProps;if(e=jr(t.elementType),t.type=e,typeof e=="function")Qu(e)?(o=Mr(e,o),t.tag=1,t=Gm(null,t,e,o,i)):(t.tag=0,t=Uc(null,t,e,o,i));else{if(e!=null){var c=e.$$typeof;if(c===Z){t.tag=11,t=Um(null,t,e,o,i);break e}else if(c===q){t.tag=14,t=Hm(null,t,e,o,i);break e}}throw t=_e(e)||e,Error(s(306,t,""))}}return t;case 0:return Uc(e,t,t.type,t.pendingProps,i);case 1:return o=t.type,c=Mr(o,t.pendingProps),Gm(e,t,o,c,i);case 3:e:{if(ce(t,t.stateNode.containerInfo),e===null)throw Error(s(387));o=t.pendingProps;var f=t.memoizedState;c=f.element,fc(e,t),ks(t,o,null,i);var g=t.memoizedState;if(o=g.cache,Ya(t,zt,o),o!==f.cache&&ic(t,[zt],i,!0),Es(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=Zm(e,t,o,i);break e}else if(o!==c){c=Bn(Error(s(424)),t),gs(c),t=Zm(e,t,o,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(bt=In(e.firstChild),Kt=t,Pe=!0,Ia=null,$n=!0,i=Vp(t,null,o,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Cr(),o===c){t=Ta(e,t,i);break e}Pt(e,t,o,i)}t=t.child}return t;case 26:return tl(e,t),e===null?(i=og(t.type,null,t.pendingProps,null))?t.memoizedState=i:Pe||(i=t.type,e=t.pendingProps,o=vl(ae.current).createElement(i),o[Ft]=t,o[cn]=e,Jt(o,i,e),qt(o),t.stateNode=o):t.memoizedState=og(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Oe(t),e===null&&Pe&&(o=t.stateNode=rg(t.type,t.pendingProps,ae.current),Kt=t,$n=!0,c=bt,ar(t.type)?(Cf=c,bt=In(o.firstChild)):bt=c),Pt(e,t,t.pendingProps.children,i),tl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Pe&&((c=o=bt)&&(o=px(o,t.type,t.pendingProps,$n),o!==null?(t.stateNode=o,Kt=t,bt=In(o.firstChild),$n=!1,c=!0):c=!1),c||qa(t)),Oe(t),c=t.type,f=t.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,wf(c,f)?o=null:g!==null&&wf(c,g)&&(t.flags|=32),t.memoizedState!==null&&(c=vc(e,t,jS,null,null,i),Ys._currentValue=c),tl(e,t),Pt(e,t,o,i),t.child;case 6:return e===null&&Pe&&((e=i=bt)&&(i=mx(i,t.pendingProps,$n),i!==null?(t.stateNode=i,Kt=t,bt=null,e=!0):e=!1),e||qa(t)),null;case 13:return Xm(e,t,i);case 4:return ce(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Ar(t,null,o,i):Pt(e,t,o,i),t.child;case 11:return Um(e,t,t.type,t.pendingProps,i);case 7:return Pt(e,t,t.pendingProps,i),t.child;case 8:return Pt(e,t,t.pendingProps.children,i),t.child;case 12:return Pt(e,t,t.pendingProps.children,i),t.child;case 10:return o=t.pendingProps,Ya(t,t.type,o.value),Pt(e,t,o.children,i),t.child;case 9:return c=t.type._context,o=t.pendingProps.children,Or(t),c=Qt(c),o=o(c),t.flags|=1,Pt(e,t,o,i),t.child;case 14:return Hm(e,t,t.type,t.pendingProps,i);case 15:return $m(e,t,t.type,t.pendingProps,i);case 19:return Km(e,t,i);case 31:return BS(e,t,i);case 22:return Vm(e,t,i,t.pendingProps);case 24:return Or(t),o=Qt(zt),e===null?(c=lc(),c===null&&(c=yt,f=sc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=i),c=f),t.memoizedState={parent:o,cache:c},cc(t),Ya(t,zt,c)):((e.lanes&i)!==0&&(fc(e,t),ks(t,null,null,i),Es()),c=e.memoizedState,f=t.memoizedState,c.parent!==o?(c={parent:o,cache:o},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Ya(t,zt,o)):(o=f.cache,Ya(t,zt,o),o!==c.cache&&ic(t,[zt],i,!0))),Pt(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Oa(e){e.flags|=4}function Zc(e,t,i,o,c){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(c&335544128)===c)if(e.stateNode.complete)e.flags|=8192;else if(Ey())e.flags|=8192;else throw _r=$o,uc}else e.flags&=-16777217}function Pm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!dg(t))if(Ey())e.flags|=8192;else throw _r=$o,uc}function al(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Xt():536870912,e.lanes|=t,Ei|=t)}function _s(e,t){if(!Pe)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(t)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,o|=c.subtreeFlags&65011712,o|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=i,t}function HS(e,t,i){var o=t.pendingProps;switch(ec(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(t),null;case 1:return wt(t),null;case 3:return i=t.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),t.memoizedState.cache!==o&&(t.flags|=2048),Ea(zt),me(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(ci(t)?Oa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,nc())),wt(t),null;case 26:var c=t.type,f=t.memoizedState;return e===null?(Oa(t),f!==null?(wt(t),Pm(t,f)):(wt(t),Zc(t,c,null,o,i))):f?f!==e.memoizedState?(Oa(t),wt(t),Pm(t,f)):(wt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==o&&Oa(t),wt(t),Zc(t,c,e,o,i)),null;case 27:if(Ee(t),i=ae.current,c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==o&&Oa(t);else{if(!o){if(t.stateNode===null)throw Error(s(166));return wt(t),null}e=T.current,ci(t)?_p(t):(e=rg(c,o,i),t.stateNode=e,Oa(t))}return wt(t),null;case 5:if(Ee(t),c=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==o&&Oa(t);else{if(!o){if(t.stateNode===null)throw Error(s(166));return wt(t),null}if(f=T.current,ci(t))_p(t);else{var g=vl(ae.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(c,{is:o.is}):g.createElement(c)}}f[Ft]=t,f[cn]=o;e:for(g=t.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}t.stateNode=f;e:switch(Jt(f,c,o),c){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Oa(t)}}return wt(t),Zc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==o&&Oa(t);else{if(typeof o!="string"&&t.stateNode===null)throw Error(s(166));if(e=ae.current,ci(t)){if(e=t.stateNode,i=t.memoizedProps,o=null,c=Kt,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[Ft]=t,e=!!(e.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||Xy(e.nodeValue,i)),e||qa(t,!0)}else e=vl(e).createTextNode(o),e[Ft]=t,t.stateNode=e}return wt(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(o=ci(t),i!==null){if(e===null){if(!o)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Ft]=t}else Cr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;wt(t),e=!1}else i=nc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(Tn(t),t):(Tn(t),null);if((t.flags&128)!==0)throw Error(s(558))}return wt(t),null;case 13:if(o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=ci(t),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(s(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[Ft]=t}else Cr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;wt(t),c=!1}else c=nc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(Tn(t),t):(Tn(t),null)}return Tn(t),(t.flags&128)!==0?(t.lanes=i,t):(i=o!==null,e=e!==null&&e.memoizedState!==null,i&&(o=t.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),al(t,t.updateQueue),wt(t),null);case 4:return me(),e===null&&mf(t.stateNode.containerInfo),wt(t),null;case 10:return Ea(t.type),wt(t),null;case 19:if(k(At),o=t.memoizedState,o===null)return wt(t),null;if(c=(t.flags&128)!==0,f=o.rendering,f===null)if(c)_s(o,!1);else{if(jt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=Yo(e),f!==null){for(t.flags|=128,_s(o,!1),e=f.updateQueue,t.updateQueue=e,al(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Cp(i,e),i=i.sibling;return E(At,At.current&1|2),Pe&&Sa(t,o.treeForkCount),t.child}e=e.sibling}o.tail!==null&&Mt()>ll&&(t.flags|=128,c=!0,_s(o,!1),t.lanes=4194304)}else{if(!c)if(e=Yo(f),e!==null){if(t.flags|=128,c=!0,e=e.updateQueue,t.updateQueue=e,al(t,e),_s(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Pe)return wt(t),null}else 2*Mt()-o.renderingStartTime>ll&&i!==536870912&&(t.flags|=128,c=!0,_s(o,!1),t.lanes=4194304);o.isBackwards?(f.sibling=t.child,t.child=f):(e=o.last,e!==null?e.sibling=f:t.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Mt(),e.sibling=null,i=At.current,E(At,c?i&1|2:i&1),Pe&&Sa(t,o.treeForkCount),e):(wt(t),null);case 22:case 23:return Tn(t),mc(),o=t.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(t.flags|=8192):o&&(t.flags|=8192),o?(i&536870912)!==0&&(t.flags&128)===0&&(wt(t),t.subtreeFlags&6&&(t.flags|=8192)):wt(t),i=t.updateQueue,i!==null&&al(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),o=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),o!==i&&(t.flags|=2048),e!==null&&k(Nr),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Ea(zt),wt(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function $S(e,t){switch(ec(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ea(zt),me(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ee(t),null;case 31:if(t.memoizedState!==null){if(Tn(t),t.alternate===null)throw Error(s(340));Cr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Tn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Cr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return k(At),null;case 4:return me(),null;case 10:return Ea(t.type),null;case 22:case 23:return Tn(t),mc(),e!==null&&k(Nr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ea(zt),null;case 25:return null;default:return null}}function Jm(e,t){switch(ec(t),t.tag){case 3:Ea(zt),me();break;case 26:case 27:case 5:Ee(t);break;case 4:me();break;case 31:t.memoizedState!==null&&Tn(t);break;case 13:Tn(t);break;case 19:k(At);break;case 10:Ea(t.type);break;case 22:case 23:Tn(t),mc(),e!==null&&k(Nr);break;case 24:Ea(zt)}}function As(e,t){try{var i=t.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var c=o.next;i=c;do{if((i.tag&e)===e){o=void 0;var f=i.create,g=i.inst;o=f(),g.destroy=o}i=i.next}while(i!==c)}}catch(b){ct(t,t.return,b)}}function Qa(e,t,i){try{var o=t.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&e)===e){var g=o.inst,b=g.destroy;if(b!==void 0){g.destroy=void 0,c=t;var N=i,B=b;try{B()}catch(Q){ct(c,N,Q)}}}o=o.next}while(o!==f)}}catch(Q){ct(t,t.return,Q)}}function Wm(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{qp(t,i)}catch(o){ct(e,e.return,o)}}}function ey(e,t,i){i.props=Mr(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(o){ct(e,t,o)}}function Ds(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof i=="function"?e.refCleanup=i(o):i.current=o}}catch(c){ct(e,t,c)}}function la(e,t){var i=e.ref,o=e.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(c){ct(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(c){ct(e,t,c)}else i.current=null}function ty(e){var t=e.type,i=e.memoizedProps,o=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break e;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(c){ct(e,e.return,c)}}function Xc(e,t,i){try{var o=e.stateNode;lx(o,e.type,i,t),o[cn]=t}catch(c){ct(e,e.return,c)}}function ny(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ar(e.type)||e.tag===4}function Fc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ny(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ar(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Kc(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=va));else if(o!==4&&(o===27&&ar(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(Kc(e,t,i),e=e.sibling;e!==null;)Kc(e,t,i),e=e.sibling}function rl(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(o!==4&&(o===27&&ar(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(rl(e,t,i),e=e.sibling;e!==null;)rl(e,t,i),e=e.sibling}function ay(e){var t=e.stateNode,i=e.memoizedProps;try{for(var o=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);Jt(t,o,i),t[Ft]=e,t[cn]=i}catch(f){ct(e,e.return,f)}}var Na=!1,Bt=!1,Qc=!1,ry=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function VS(e,t){if(e=e.containerInfo,vf=Cl,e=yp(e),qu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var g=0,b=-1,N=-1,B=0,Q=0,te=e,H=null;t:for(;;){for(var G;te!==i||c!==0&&te.nodeType!==3||(b=g+c),te!==f||o!==0&&te.nodeType!==3||(N=g+o),te.nodeType===3&&(g+=te.nodeValue.length),(G=te.firstChild)!==null;)H=te,te=G;for(;;){if(te===e)break t;if(H===i&&++B===c&&(b=g),H===f&&++Q===o&&(N=g),(G=te.nextSibling)!==null)break;te=H,H=te.parentNode}te=G}i=b===-1||N===-1?null:{start:b,end:N}}else i=null}i=i||{start:0,end:0}}else i=null;for(bf={focusedElem:e,selectionRange:i},Cl=!1,Yt=t;Yt!==null;)if(t=Yt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Yt=e;else for(;Yt!==null;){switch(t=Yt,f=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)c=e[i],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,i=t,c=f.memoizedProps,f=f.memoizedState,o=i.stateNode;try{var be=Mr(i.type,c);e=o.getSnapshotBeforeUpdate(be,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(je){ct(i,i.return,je)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)xf(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":xf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,Yt=e;break}Yt=t.return}}function iy(e,t,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:_a(e,i),o&4&&As(5,i);break;case 1:if(_a(e,i),o&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(g){ct(i,i.return,g)}else{var c=Mr(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){ct(i,i.return,g)}}o&64&&Wm(i),o&512&&Ds(i,i.return);break;case 3:if(_a(e,i),o&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{qp(e,t)}catch(g){ct(i,i.return,g)}}break;case 27:t===null&&o&4&&ay(i);case 26:case 5:_a(e,i),t===null&&o&4&&ty(i),o&512&&Ds(i,i.return);break;case 12:_a(e,i);break;case 31:_a(e,i),o&4&&ly(e,i);break;case 13:_a(e,i),o&4&&uy(e,i),o&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=QS.bind(null,i),yx(e,i))));break;case 22:if(o=i.memoizedState!==null||Na,!o){t=t!==null&&t.memoizedState!==null||Bt,c=Na;var f=Bt;Na=o,(Bt=t)&&!f?Aa(e,i,(i.subtreeFlags&8772)!==0):_a(e,i),Na=c,Bt=f}break;case 30:break;default:_a(e,i)}}function sy(e){var t=e.alternate;t!==null&&(e.alternate=null,sy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Tu(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Et=null,dn=!1;function ja(e,t,i){for(i=i.child;i!==null;)oy(e,t,i),i=i.sibling}function oy(e,t,i){if(Ot&&typeof Ot.onCommitFiberUnmount=="function")try{Ot.onCommitFiberUnmount(kt,i)}catch{}switch(i.tag){case 26:Bt||la(i,t),ja(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Bt||la(i,t);var o=Et,c=dn;ar(i.type)&&(Et=i.stateNode,dn=!1),ja(e,t,i),Vs(i.stateNode),Et=o,dn=c;break;case 5:Bt||la(i,t);case 6:if(o=Et,c=dn,Et=null,ja(e,t,i),Et=o,dn=c,Et!==null)if(dn)try{(Et.nodeType===9?Et.body:Et.nodeName==="HTML"?Et.ownerDocument.body:Et).removeChild(i.stateNode)}catch(f){ct(i,t,f)}else try{Et.removeChild(i.stateNode)}catch(f){ct(i,t,f)}break;case 18:Et!==null&&(dn?(e=Et,Wy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Ai(e)):Wy(Et,i.stateNode));break;case 4:o=Et,c=dn,Et=i.stateNode.containerInfo,dn=!0,ja(e,t,i),Et=o,dn=c;break;case 0:case 11:case 14:case 15:Qa(2,i,t),Bt||Qa(4,i,t),ja(e,t,i);break;case 1:Bt||(la(i,t),o=i.stateNode,typeof o.componentWillUnmount=="function"&&ey(i,t,o)),ja(e,t,i);break;case 21:ja(e,t,i);break;case 22:Bt=(o=Bt)||i.memoizedState!==null,ja(e,t,i),Bt=o;break;default:ja(e,t,i)}}function ly(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ai(e)}catch(i){ct(t,t.return,i)}}}function uy(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ai(e)}catch(i){ct(t,t.return,i)}}function IS(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ry),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ry),t;default:throw Error(s(435,e.tag))}}function il(e,t){var i=IS(e);t.forEach(function(o){if(!i.has(o)){i.add(o);var c=PS.bind(null,e,o);o.then(c,c)}})}function hn(e,t){var i=t.deletions;if(i!==null)for(var o=0;o<i.length;o++){var c=i[o],f=e,g=t,b=g;e:for(;b!==null;){switch(b.tag){case 27:if(ar(b.type)){Et=b.stateNode,dn=!1;break e}break;case 5:Et=b.stateNode,dn=!1;break e;case 3:case 4:Et=b.stateNode.containerInfo,dn=!0;break e}b=b.return}if(Et===null)throw Error(s(160));oy(f,g,c),Et=null,dn=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)cy(t,e),t=t.sibling}var Qn=null;function cy(e,t){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(t,e),pn(e),o&4&&(Qa(3,e,e.return),As(3,e),Qa(5,e,e.return));break;case 1:hn(t,e),pn(e),o&512&&(Bt||i===null||la(i,i.return)),o&64&&Na&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var c=Qn;if(hn(t,e),pn(e),o&512&&(Bt||i===null||la(i,i.return)),o&4){var f=i!==null?i.memoizedState:null;if(o=e.memoizedState,i===null)if(o===null)if(e.stateNode===null){e:{o=e.type,i=e.memoizedProps,c=c.ownerDocument||c;t:switch(o){case"title":f=c.getElementsByTagName("title")[0],(!f||f[is]||f[Ft]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(o),c.head.insertBefore(f,c.querySelector("head > title"))),Jt(f,o,i),f[Ft]=e,qt(f),o=f;break e;case"link":var g=cg("link","href",c).get(o+(i.href||""));if(g){for(var b=0;b<g.length;b++)if(f=g[b],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){g.splice(b,1);break t}}f=c.createElement(o),Jt(f,o,i),c.head.appendChild(f);break;case"meta":if(g=cg("meta","content",c).get(o+(i.content||""))){for(b=0;b<g.length;b++)if(f=g[b],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){g.splice(b,1);break t}}f=c.createElement(o),Jt(f,o,i),c.head.appendChild(f);break;default:throw Error(s(468,o))}f[Ft]=e,qt(f),o=f}e.stateNode=o}else fg(c,e.type,e.stateNode);else e.stateNode=ug(c,o,e.memoizedProps);else f!==o?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,o===null?fg(c,e.type,e.stateNode):ug(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Xc(e,e.memoizedProps,i.memoizedProps)}break;case 27:hn(t,e),pn(e),o&512&&(Bt||i===null||la(i,i.return)),i!==null&&o&4&&Xc(e,e.memoizedProps,i.memoizedProps);break;case 5:if(hn(t,e),pn(e),o&512&&(Bt||i===null||la(i,i.return)),e.flags&32){c=e.stateNode;try{ei(c,"")}catch(be){ct(e,e.return,be)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,Xc(e,c,i!==null?i.memoizedProps:c)),o&1024&&(Qc=!0);break;case 6:if(hn(t,e),pn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,i=e.stateNode;try{i.nodeValue=o}catch(be){ct(e,e.return,be)}}break;case 3:if(Sl=null,c=Qn,Qn=bl(t.containerInfo),hn(t,e),Qn=c,pn(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{Ai(t.containerInfo)}catch(be){ct(e,e.return,be)}Qc&&(Qc=!1,fy(e));break;case 4:o=Qn,Qn=bl(e.stateNode.containerInfo),hn(t,e),pn(e),Qn=o;break;case 12:hn(t,e),pn(e);break;case 31:hn(t,e),pn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,il(e,o)));break;case 13:hn(t,e),pn(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(ol=Mt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,il(e,o)));break;case 22:c=e.memoizedState!==null;var N=i!==null&&i.memoizedState!==null,B=Na,Q=Bt;if(Na=B||c,Bt=Q||N,hn(t,e),Bt=Q,Na=B,pn(e),o&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(i===null||N||Na||Bt||zr(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){N=i=t;try{if(f=N.stateNode,c)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{b=N.stateNode;var te=N.memoizedProps.style,H=te!=null&&te.hasOwnProperty("display")?te.display:null;b.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(be){ct(N,N.return,be)}}}else if(t.tag===6){if(i===null){N=t;try{N.stateNode.nodeValue=c?"":N.memoizedProps}catch(be){ct(N,N.return,be)}}}else if(t.tag===18){if(i===null){N=t;try{var G=N.stateNode;c?eg(G,!0):eg(N.stateNode,!1)}catch(be){ct(N,N.return,be)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}o&4&&(o=e.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,il(e,i))));break;case 19:hn(t,e),pn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,il(e,o)));break;case 30:break;case 21:break;default:hn(t,e),pn(e)}}function pn(e){var t=e.flags;if(t&2){try{for(var i,o=e.return;o!==null;){if(ny(o)){i=o;break}o=o.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var c=i.stateNode,f=Fc(e);rl(e,f,c);break;case 5:var g=i.stateNode;i.flags&32&&(ei(g,""),i.flags&=-33);var b=Fc(e);rl(e,b,g);break;case 3:case 4:var N=i.stateNode.containerInfo,B=Fc(e);Kc(e,B,N);break;default:throw Error(s(161))}}catch(Q){ct(e,e.return,Q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;fy(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function _a(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)iy(e,t.alternate,t),t=t.sibling}function zr(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Qa(4,t,t.return),zr(t);break;case 1:la(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&ey(t,t.return,i),zr(t);break;case 27:Vs(t.stateNode);case 26:case 5:la(t,t.return),zr(t);break;case 22:t.memoizedState===null&&zr(t);break;case 30:zr(t);break;default:zr(t)}e=e.sibling}}function Aa(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var o=t.alternate,c=e,f=t,g=f.flags;switch(f.tag){case 0:case 11:case 15:Aa(c,f,i),As(4,f);break;case 1:if(Aa(c,f,i),o=f,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(B){ct(o,o.return,B)}if(o=f,c=o.updateQueue,c!==null){var b=o.stateNode;try{var N=c.shared.hiddenCallbacks;if(N!==null)for(c.shared.hiddenCallbacks=null,c=0;c<N.length;c++)Ip(N[c],b)}catch(B){ct(o,o.return,B)}}i&&g&64&&Wm(f),Ds(f,f.return);break;case 27:ay(f);case 26:case 5:Aa(c,f,i),i&&o===null&&g&4&&ty(f),Ds(f,f.return);break;case 12:Aa(c,f,i);break;case 31:Aa(c,f,i),i&&g&4&&ly(c,f);break;case 13:Aa(c,f,i),i&&g&4&&uy(c,f);break;case 22:f.memoizedState===null&&Aa(c,f,i),Ds(f,f.return);break;case 30:break;default:Aa(c,f,i)}t=t.sibling}}function Pc(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&vs(i))}function Jc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&vs(e))}function Pn(e,t,i,o){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)dy(e,t,i,o),t=t.sibling}function dy(e,t,i,o){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Pn(e,t,i,o),c&2048&&As(9,t);break;case 1:Pn(e,t,i,o);break;case 3:Pn(e,t,i,o),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&vs(e)));break;case 12:if(c&2048){Pn(e,t,i,o),e=t.stateNode;try{var f=t.memoizedProps,g=f.id,b=f.onPostCommit;typeof b=="function"&&b(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){ct(t,t.return,N)}}else Pn(e,t,i,o);break;case 31:Pn(e,t,i,o);break;case 13:Pn(e,t,i,o);break;case 23:break;case 22:f=t.stateNode,g=t.alternate,t.memoizedState!==null?f._visibility&2?Pn(e,t,i,o):Ms(e,t):f._visibility&2?Pn(e,t,i,o):(f._visibility|=2,wi(e,t,i,o,(t.subtreeFlags&10256)!==0||!1)),c&2048&&Pc(g,t);break;case 24:Pn(e,t,i,o),c&2048&&Jc(t.alternate,t);break;default:Pn(e,t,i,o)}}function wi(e,t,i,o,c){for(c=c&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var f=e,g=t,b=i,N=o,B=g.flags;switch(g.tag){case 0:case 11:case 15:wi(f,g,b,N,c),As(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?wi(f,g,b,N,c):Ms(f,g):(Q._visibility|=2,wi(f,g,b,N,c)),c&&B&2048&&Pc(g.alternate,g);break;case 24:wi(f,g,b,N,c),c&&B&2048&&Jc(g.alternate,g);break;default:wi(f,g,b,N,c)}t=t.sibling}}function Ms(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,o=t,c=o.flags;switch(o.tag){case 22:Ms(i,o),c&2048&&Pc(o.alternate,o);break;case 24:Ms(i,o),c&2048&&Jc(o.alternate,o);break;default:Ms(i,o)}t=t.sibling}}var zs=8192;function Si(e,t,i){if(e.subtreeFlags&zs)for(e=e.child;e!==null;)hy(e,t,i),e=e.sibling}function hy(e,t,i){switch(e.tag){case 26:Si(e,t,i),e.flags&zs&&e.memoizedState!==null&&Nx(i,Qn,e.memoizedState,e.memoizedProps);break;case 5:Si(e,t,i);break;case 3:case 4:var o=Qn;Qn=bl(e.stateNode.containerInfo),Si(e,t,i),Qn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=zs,zs=16777216,Si(e,t,i),zs=o):Si(e,t,i));break;default:Si(e,t,i)}}function py(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Rs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var o=t[i];Yt=o,yy(o,e)}py(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)my(e),e=e.sibling}function my(e){switch(e.tag){case 0:case 11:case 15:Rs(e),e.flags&2048&&Qa(9,e,e.return);break;case 3:Rs(e);break;case 12:Rs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,sl(e)):Rs(e);break;default:Rs(e)}}function sl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var o=t[i];Yt=o,yy(o,e)}py(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Qa(8,t,t.return),sl(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,sl(t));break;default:sl(t)}e=e.sibling}}function yy(e,t){for(;Yt!==null;){var i=Yt;switch(i.tag){case 0:case 11:case 15:Qa(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:vs(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,Yt=o;else e:for(i=e;Yt!==null;){o=Yt;var c=o.sibling,f=o.return;if(sy(o),o===i){Yt=null;break e}if(c!==null){c.return=f,Yt=c;break e}Yt=f}}}var qS={getCacheForType:function(e){var t=Qt(zt),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return Qt(zt).controller.signal}},YS=typeof WeakMap=="function"?WeakMap:Map,at=0,yt=null,Ge=null,Xe=0,ut=0,On=null,Pa=!1,xi=!1,Wc=!1,Da=0,jt=0,Ja=0,Rr=0,ef=0,Nn=0,Ei=0,Ls=null,mn=null,tf=!1,ol=0,gy=0,ll=1/0,ul=null,Wa=null,Vt=0,er=null,ki=null,Ma=0,nf=0,af=null,vy=null,Bs=0,rf=null;function jn(){return(at&2)!==0&&Xe!==0?Xe&-Xe:D.T!==null?ff():zh()}function by(){if(Nn===0)if((Xe&536870912)===0||Pe){var e=Ae;Ae<<=1,(Ae&3932160)===0&&(Ae=262144),Nn=e}else Nn=536870912;return e=Cn.current,e!==null&&(e.flags|=32),Nn}function yn(e,t,i){(e===yt&&(ut===2||ut===9)||e.cancelPendingCommit!==null)&&(Ci(e,0),tr(e,Xe,Nn,!1)),Mn(e,i),((at&2)===0||e!==yt)&&(e===yt&&((at&2)===0&&(Rr|=i),jt===4&&tr(e,Xe,Nn,!1)),ua(e))}function wy(e,t,i){if((at&6)!==0)throw Error(s(327));var o=!i&&(t&127)===0&&(t&e.expiredLanes)===0||It(e,t),c=o?XS(e,t):of(e,t,!0),f=o;do{if(c===0){xi&&!o&&tr(e,t,0,!1);break}else{if(i=e.current.alternate,f&&!GS(i)){c=of(e,t,!1),f=!1;continue}if(c===2){if(f=t,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var b=e;c=Ls;var N=b.current.memoizedState.isDehydrated;if(N&&(Ci(b,g).flags|=256),g=of(b,g,!1),g!==2){if(Wc&&!N){b.errorRecoveryDisabledLanes|=f,Rr|=f,c=4;break e}f=mn,mn=c,f!==null&&(mn===null?mn=f:mn.push.apply(mn,f))}c=g}if(f=!1,c!==2)continue}}if(c===1){Ci(e,0),tr(e,t,0,!0);break}e:{switch(o=e,f=c,f){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:tr(o,t,Nn,!Pa);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(c=ol+300-Mt(),10<c)){if(tr(o,t,Nn,!Pa),wn(o,0,!0)!==0)break e;Ma=t,o.timeoutHandle=Py(Sy.bind(null,o,i,mn,ul,tf,t,Nn,Rr,Ei,Pa,f,"Throttled",-0,0),c);break e}Sy(o,i,mn,ul,tf,t,Nn,Rr,Ei,Pa,f,null,-0,0)}}break}while(!0);ua(e)}function Sy(e,t,i,o,c,f,g,b,N,B,Q,te,H,G){if(e.timeoutHandle=-1,te=t.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:va},hy(t,f,te);var be=(f&62914560)===f?ol-Mt():(f&4194048)===f?gy-Mt():0;if(be=jx(te,be),be!==null){Ma=f,e.cancelPendingCommit=be(jy.bind(null,e,t,f,i,o,c,g,b,N,Q,te,null,H,G)),tr(e,f,g,!B);return}}jy(e,t,f,i,o,c,g,b,N)}function GS(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var c=i[o],f=c.getSnapshot;c=c.value;try{if(!En(f(),c))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function tr(e,t,i,o){t&=~ef,t&=~Rr,e.suspendedLanes|=t,e.pingedLanes&=~t,o&&(e.warmLanes|=t),o=e.expirationTimes;for(var c=t;0<c;){var f=31-st(c),g=1<<f;o[f]=-1,c&=~g}i!==0&&vo(e,i,t)}function cl(){return(at&6)===0?(Us(0),!1):!0}function sf(){if(Ge!==null){if(ut===0)var e=Ge.return;else e=Ge,xa=Tr=null,Sc(e),mi=null,ws=0,e=Ge;for(;e!==null;)Jm(e.alternate,e),e=e.return;Ge=null}}function Ci(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,fx(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Ma=0,sf(),yt=e,Ge=i=wa(e.current,null),Xe=t,ut=0,On=null,Pa=!1,xi=It(e,t),Wc=!1,Ei=Nn=ef=Rr=Ja=jt=0,mn=Ls=null,tf=!1,(t&8)!==0&&(t|=t&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=t;0<o;){var c=31-st(o),f=1<<c;t|=e[c],o&=~f}return Da=t,Ao(),i}function xy(e,t){He=null,D.H=Ns,t===pi||t===Ho?(t=Up(),ut=3):t===uc?(t=Up(),ut=4):ut=t===Bc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,On=t,Ge===null&&(jt=1,Wo(e,Bn(t,e.current)))}function Ey(){var e=Cn.current;return e===null?!0:(Xe&4194048)===Xe?Vn===null:(Xe&62914560)===Xe||(Xe&536870912)!==0?e===Vn:!1}function ky(){var e=D.H;return D.H=Ns,e===null?Ns:e}function Cy(){var e=D.A;return D.A=qS,e}function fl(){jt=4,Pa||(Xe&4194048)!==Xe&&Cn.current!==null||(xi=!0),(Ja&134217727)===0&&(Rr&134217727)===0||yt===null||tr(yt,Xe,Nn,!1)}function of(e,t,i){var o=at;at|=2;var c=ky(),f=Cy();(yt!==e||Xe!==t)&&(ul=null,Ci(e,t)),t=!1;var g=jt;e:do try{if(ut!==0&&Ge!==null){var b=Ge,N=On;switch(ut){case 8:sf(),g=6;break e;case 3:case 2:case 9:case 6:Cn.current===null&&(t=!0);var B=ut;if(ut=0,On=null,Ti(e,b,N,B),i&&xi){g=0;break e}break;default:B=ut,ut=0,On=null,Ti(e,b,N,B)}}ZS(),g=jt;break}catch(Q){xy(e,Q)}while(!0);return t&&e.shellSuspendCounter++,xa=Tr=null,at=o,D.H=c,D.A=f,Ge===null&&(yt=null,Xe=0,Ao()),g}function ZS(){for(;Ge!==null;)Ty(Ge)}function XS(e,t){var i=at;at|=2;var o=ky(),c=Cy();yt!==e||Xe!==t?(ul=null,ll=Mt()+500,Ci(e,t)):xi=It(e,t);e:do try{if(ut!==0&&Ge!==null){t=Ge;var f=On;t:switch(ut){case 1:ut=0,On=null,Ti(e,t,f,1);break;case 2:case 9:if(Lp(f)){ut=0,On=null,Oy(t);break}t=function(){ut!==2&&ut!==9||yt!==e||(ut=7),ua(e)},f.then(t,t);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:Lp(f)?(ut=0,On=null,Oy(t)):(ut=0,On=null,Ti(e,t,f,7));break;case 5:var g=null;switch(Ge.tag){case 26:g=Ge.memoizedState;case 5:case 27:var b=Ge;if(g?dg(g):b.stateNode.complete){ut=0,On=null;var N=b.sibling;if(N!==null)Ge=N;else{var B=b.return;B!==null?(Ge=B,dl(B)):Ge=null}break t}}ut=0,On=null,Ti(e,t,f,5);break;case 6:ut=0,On=null,Ti(e,t,f,6);break;case 8:sf(),jt=6;break e;default:throw Error(s(462))}}FS();break}catch(Q){xy(e,Q)}while(!0);return xa=Tr=null,D.H=o,D.A=c,at=i,Ge!==null?0:(yt=null,Xe=0,Ao(),jt)}function FS(){for(;Ge!==null&&!bn();)Ty(Ge)}function Ty(e){var t=Qm(e.alternate,e,Da);e.memoizedProps=e.pendingProps,t===null?dl(e):Ge=t}function Oy(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=Ym(i,t,t.pendingProps,t.type,void 0,Xe);break;case 11:t=Ym(i,t,t.pendingProps,t.type.render,t.ref,Xe);break;case 5:Sc(t);default:Jm(i,t),t=Ge=Cp(t,Da),t=Qm(i,t,Da)}e.memoizedProps=e.pendingProps,t===null?dl(e):Ge=t}function Ti(e,t,i,o){xa=Tr=null,Sc(t),mi=null,ws=0;var c=t.return;try{if(LS(e,c,t,i,Xe)){jt=1,Wo(e,Bn(i,e.current)),Ge=null;return}}catch(f){if(c!==null)throw Ge=c,f;jt=1,Wo(e,Bn(i,e.current)),Ge=null;return}t.flags&32768?(Pe||o===1?e=!0:xi||(Xe&536870912)!==0?e=!1:(Pa=e=!0,(o===2||o===9||o===3||o===6)&&(o=Cn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ny(t,e)):dl(t)}function dl(e){var t=e;do{if((t.flags&32768)!==0){Ny(t,Pa);return}e=t.return;var i=HS(t.alternate,t,Da);if(i!==null){Ge=i;return}if(t=t.sibling,t!==null){Ge=t;return}Ge=t=e}while(t!==null);jt===0&&(jt=5)}function Ny(e,t){do{var i=$S(e.alternate,e);if(i!==null){i.flags&=32767,Ge=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){Ge=e;return}Ge=e=i}while(e!==null);jt=6,Ge=null}function jy(e,t,i,o,c,f,g,b,N){e.cancelPendingCommit=null;do hl();while(Vt!==0);if((at&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(f=t.lanes|t.childLanes,f|=Fu,Eu(e,i,f,g,b,N),e===yt&&(Ge=yt=null,Xe=0),ki=t,er=e,Ma=i,nf=f,af=c,vy=o,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,JS(V,function(){return zy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||o){o=D.T,D.T=null,c=j.p,j.p=2,g=at,at|=4;try{VS(e,t,i)}finally{at=g,j.p=c,D.T=o}}Vt=1,_y(),Ay(),Dy()}}function _y(){if(Vt===1){Vt=0;var e=er,t=ki,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=D.T,D.T=null;var o=j.p;j.p=2;var c=at;at|=4;try{cy(t,e);var f=bf,g=yp(e.containerInfo),b=f.focusedElem,N=f.selectionRange;if(g!==b&&b&&b.ownerDocument&&mp(b.ownerDocument.documentElement,b)){if(N!==null&&qu(b)){var B=N.start,Q=N.end;if(Q===void 0&&(Q=B),"selectionStart"in b)b.selectionStart=B,b.selectionEnd=Math.min(Q,b.value.length);else{var te=b.ownerDocument||document,H=te&&te.defaultView||window;if(H.getSelection){var G=H.getSelection(),be=b.textContent.length,je=Math.min(N.start,be),pt=N.end===void 0?je:Math.min(N.end,be);!G.extend&&je>pt&&(g=pt,pt=je,je=g);var M=pp(b,je),_=pp(b,pt);if(M&&_&&(G.rangeCount!==1||G.anchorNode!==M.node||G.anchorOffset!==M.offset||G.focusNode!==_.node||G.focusOffset!==_.offset)){var L=te.createRange();L.setStart(M.node,M.offset),G.removeAllRanges(),je>pt?(G.addRange(L),G.extend(_.node,_.offset)):(L.setEnd(_.node,_.offset),G.addRange(L))}}}}for(te=[],G=b;G=G.parentNode;)G.nodeType===1&&te.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<te.length;b++){var W=te[b];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Cl=!!vf,bf=vf=null}finally{at=c,j.p=o,D.T=i}}e.current=t,Vt=2}}function Ay(){if(Vt===2){Vt=0;var e=er,t=ki,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=D.T,D.T=null;var o=j.p;j.p=2;var c=at;at|=4;try{iy(e,t.alternate,t)}finally{at=c,j.p=o,D.T=i}}Vt=3}}function Dy(){if(Vt===4||Vt===3){Vt=0,Zt();var e=er,t=ki,i=Ma,o=vy;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Vt=5:(Vt=0,ki=er=null,My(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(Wa=null),ku(i),t=t.stateNode,Ot&&typeof Ot.onCommitFiberRoot=="function")try{Ot.onCommitFiberRoot(kt,t,void 0,(t.current.flags&128)===128)}catch{}if(o!==null){t=D.T,c=j.p,j.p=2,D.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var b=o[g];f(b.value,{componentStack:b.stack})}}finally{D.T=t,j.p=c}}(Ma&3)!==0&&hl(),ua(e),c=e.pendingLanes,(i&261930)!==0&&(c&42)!==0?e===rf?Bs++:(Bs=0,rf=e):Bs=0,Us(0)}}function My(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,vs(t)))}function hl(){return _y(),Ay(),Dy(),zy()}function zy(){if(Vt!==5)return!1;var e=er,t=nf;nf=0;var i=ku(Ma),o=D.T,c=j.p;try{j.p=32>i?32:i,D.T=null,i=af,af=null;var f=er,g=Ma;if(Vt=0,ki=er=null,Ma=0,(at&6)!==0)throw Error(s(331));var b=at;if(at|=4,my(f.current),dy(f,f.current,g,i),at=b,Us(0,!1),Ot&&typeof Ot.onPostCommitFiberRoot=="function")try{Ot.onPostCommitFiberRoot(kt,f)}catch{}return!0}finally{j.p=c,D.T=o,My(e,t)}}function Ry(e,t,i){t=Bn(i,t),t=Lc(e.stateNode,t,2),e=Xa(e,t,2),e!==null&&(Mn(e,2),ua(e))}function ct(e,t,i){if(e.tag===3)Ry(e,e,i);else for(;t!==null;){if(t.tag===3){Ry(t,e,i);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Wa===null||!Wa.has(o))){e=Bn(i,e),i=Lm(2),o=Xa(t,i,2),o!==null&&(Bm(i,o,t,e),Mn(o,2),ua(o));break}}t=t.return}}function lf(e,t,i){var o=e.pingCache;if(o===null){o=e.pingCache=new YS;var c=new Set;o.set(t,c)}else c=o.get(t),c===void 0&&(c=new Set,o.set(t,c));c.has(i)||(Wc=!0,c.add(i),e=KS.bind(null,e,t,i),t.then(e,e))}function KS(e,t,i){var o=e.pingCache;o!==null&&o.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,yt===e&&(Xe&i)===i&&(jt===4||jt===3&&(Xe&62914560)===Xe&&300>Mt()-ol?(at&2)===0&&Ci(e,0):ef|=i,Ei===Xe&&(Ei=0)),ua(e)}function Ly(e,t){t===0&&(t=Xt()),e=Er(e,t),e!==null&&(Mn(e,t),ua(e))}function QS(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Ly(e,i)}function PS(e,t){var i=0;switch(e.tag){case 31:case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(t),Ly(e,i)}function JS(e,t){return _t(e,t)}var pl=null,Oi=null,uf=!1,ml=!1,cf=!1,nr=0;function ua(e){e!==Oi&&e.next===null&&(Oi===null?pl=Oi=e:Oi=Oi.next=e),ml=!0,uf||(uf=!0,ex())}function Us(e,t){if(!cf&&ml){cf=!0;do for(var i=!1,o=pl;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var f=0;else{var g=o.suspendedLanes,b=o.pingedLanes;f=(1<<31-st(42|e)+1)-1,f&=c&~(g&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,$y(o,f))}else f=Xe,f=wn(o,o===yt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||It(o,f)||(i=!0,$y(o,f));o=o.next}while(i);cf=!1}}function WS(){By()}function By(){ml=uf=!1;var e=0;nr!==0&&cx()&&(e=nr);for(var t=Mt(),i=null,o=pl;o!==null;){var c=o.next,f=Uy(o,t);f===0?(o.next=null,i===null?pl=c:i.next=c,c===null&&(Oi=i)):(i=o,(e!==0||(f&3)!==0)&&(ml=!0)),o=c}Vt!==0&&Vt!==5||Us(e),nr!==0&&(nr=0)}function Uy(e,t){for(var i=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-st(f),b=1<<g,N=c[g];N===-1?((b&i)===0||(b&o)!==0)&&(c[g]=Sn(b,t)):N<=t&&(e.expiredLanes|=b),f&=~b}if(t=yt,i=Xe,i=wn(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,i===0||e===t&&(ut===2||ut===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&mt(o),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||It(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(o!==null&&mt(o),ku(i)){case 2:case 8:i=vr;break;case 32:i=V;break;case 268435456:i=de;break;default:i=V}return o=Hy.bind(null,e),i=_t(i,o),e.callbackPriority=t,e.callbackNode=i,t}return o!==null&&o!==null&&mt(o),e.callbackPriority=2,e.callbackNode=null,2}function Hy(e,t){if(Vt!==0&&Vt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(hl()&&e.callbackNode!==i)return null;var o=Xe;return o=wn(e,e===yt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(wy(e,o,t),Uy(e,Mt()),e.callbackNode!=null&&e.callbackNode===i?Hy.bind(null,e):null)}function $y(e,t){if(hl())return null;wy(e,t,!0)}function ex(){dx(function(){(at&6)!==0?_t(gr,WS):By()})}function ff(){if(nr===0){var e=di;e===0&&(e=ve,ve<<=1,(ve&261888)===0&&(ve=256)),nr=e}return nr}function Vy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Eo(""+e)}function Iy(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function tx(e,t,i,o,c){if(t==="submit"&&i&&i.stateNode===c){var f=Vy((c[cn]||null).action),g=o.submitter;g&&(t=(t=g[cn]||null)?Vy(t.formAction):g.getAttribute("formAction"),t!==null&&(f=t,g=null));var b=new Oo("action","action",null,o,c);e.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(nr!==0){var N=g?Iy(c,g):new FormData(c);_c(i,{pending:!0,data:N,method:c.method,action:f},null,N)}}else typeof f=="function"&&(b.preventDefault(),N=g?Iy(c,g):new FormData(c),_c(i,{pending:!0,data:N,method:c.method,action:f},f,N))},currentTarget:c}]})}}for(var df=0;df<Xu.length;df++){var hf=Xu[df],nx=hf.toLowerCase(),ax=hf[0].toUpperCase()+hf.slice(1);Kn(nx,"on"+ax)}Kn(bp,"onAnimationEnd"),Kn(wp,"onAnimationIteration"),Kn(Sp,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(bS,"onTransitionRun"),Kn(wS,"onTransitionStart"),Kn(SS,"onTransitionCancel"),Kn(xp,"onTransitionEnd"),Jr("onMouseEnter",["mouseout","mouseover"]),Jr("onMouseLeave",["mouseout","mouseover"]),Jr("onPointerEnter",["pointerout","pointerover"]),Jr("onPointerLeave",["pointerout","pointerover"]),br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),br("onBeforeInput",["compositionend","keypress","textInput","paste"]),br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hs));function qy(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],c=o.event;o=o.listeners;e:{var f=void 0;if(t)for(var g=o.length-1;0<=g;g--){var b=o[g],N=b.instance,B=b.currentTarget;if(b=b.listener,N!==f&&c.isPropagationStopped())break e;f=b,c.currentTarget=B;try{f(c)}catch(Q){_o(Q)}c.currentTarget=null,f=N}else for(g=0;g<o.length;g++){if(b=o[g],N=b.instance,B=b.currentTarget,b=b.listener,N!==f&&c.isPropagationStopped())break e;f=b,c.currentTarget=B;try{f(c)}catch(Q){_o(Q)}c.currentTarget=null,f=N}}}}function Ze(e,t){var i=t[Cu];i===void 0&&(i=t[Cu]=new Set);var o=e+"__bubble";i.has(o)||(Yy(t,e,2,!1),i.add(o))}function pf(e,t,i){var o=0;t&&(o|=4),Yy(i,e,o,t)}var yl="_reactListening"+Math.random().toString(36).slice(2);function mf(e){if(!e[yl]){e[yl]=!0,Bh.forEach(function(i){i!=="selectionchange"&&(rx.has(i)||pf(i,!1,e),pf(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yl]||(t[yl]=!0,pf("selectionchange",!1,t))}}function Yy(e,t,i,o){switch(bg(t)){case 2:var c=Dx;break;case 8:c=Mx;break;default:c=_f}i=c.bind(null,t,i,e),c=void 0,!zu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(t,i,{capture:!0,passive:c}):e.addEventListener(t,i,!0):c!==void 0?e.addEventListener(t,i,{passive:c}):e.addEventListener(t,i,!1)}function yf(e,t,i,o,c){var f=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var b=o.stateNode.containerInfo;if(b===c)break;if(g===4)for(g=o.return;g!==null;){var N=g.tag;if((N===3||N===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;b!==null;){if(g=Kr(b),g===null)return;if(N=g.tag,N===5||N===6||N===26||N===27){o=f=g;continue e}b=b.parentNode}}o=o.return}Kh(function(){var B=f,Q=Du(i),te=[];e:{var H=Ep.get(e);if(H!==void 0){var G=Oo,be=e;switch(e){case"keypress":if(Co(i)===0)break e;case"keydown":case"keyup":G=Pw;break;case"focusin":be="focus",G=Uu;break;case"focusout":be="blur",G=Uu;break;case"beforeblur":case"afterblur":G=Uu;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Jh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Hw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=eS;break;case bp:case wp:case Sp:G=Iw;break;case xp:G=nS;break;case"scroll":case"scrollend":G=Bw;break;case"wheel":G=rS;break;case"copy":case"cut":case"paste":G=Yw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=ep;break;case"toggle":case"beforetoggle":G=sS}var je=(t&4)!==0,pt=!je&&(e==="scroll"||e==="scrollend"),M=je?H!==null?H+"Capture":null:H;je=[];for(var _=B,L;_!==null;){var W=_;if(L=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||L===null||M===null||(W=os(_,M),W!=null&&je.push($s(_,W,L))),pt)break;_=_.return}0<je.length&&(H=new G(H,be,null,i,Q),te.push({event:H,listeners:je}))}}if((t&7)===0){e:{if(H=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",H&&i!==Au&&(be=i.relatedTarget||i.fromElement)&&(Kr(be)||be[Fr]))break e;if((G||H)&&(H=Q.window===Q?Q:(H=Q.ownerDocument)?H.defaultView||H.parentWindow:window,G?(be=i.relatedTarget||i.toElement,G=B,be=be?Kr(be):null,be!==null&&(pt=u(be),je=be.tag,be!==pt||je!==5&&je!==27&&je!==6)&&(be=null)):(G=null,be=B),G!==be)){if(je=Jh,W="onMouseLeave",M="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(je=ep,W="onPointerLeave",M="onPointerEnter",_="pointer"),pt=G==null?H:ss(G),L=be==null?H:ss(be),H=new je(W,_+"leave",G,i,Q),H.target=pt,H.relatedTarget=L,W=null,Kr(Q)===B&&(je=new je(M,_+"enter",be,i,Q),je.target=L,je.relatedTarget=pt,W=je),pt=W,G&&be)t:{for(je=ix,M=G,_=be,L=0,W=M;W;W=je(W))L++;W=0;for(var Te=_;Te;Te=je(Te))W++;for(;0<L-W;)M=je(M),L--;for(;0<W-L;)_=je(_),W--;for(;L--;){if(M===_||_!==null&&M===_.alternate){je=M;break t}M=je(M),_=je(_)}je=null}else je=null;G!==null&&Gy(te,H,G,je,!1),be!==null&&pt!==null&&Gy(te,pt,be,je,!0)}}e:{if(H=B?ss(B):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var et=lp;else if(sp(H))if(up)et=yS;else{et=pS;var Se=hS}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&_u(B.elementType)&&(et=lp):et=mS;if(et&&(et=et(e,B))){op(te,et,i,Q);break e}Se&&Se(e,H,B),e==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&ju(H,"number",H.value)}switch(Se=B?ss(B):window,e){case"focusin":(sp(Se)||Se.contentEditable==="true")&&(ri=Se,Yu=B,ms=null);break;case"focusout":ms=Yu=ri=null;break;case"mousedown":Gu=!0;break;case"contextmenu":case"mouseup":case"dragend":Gu=!1,gp(te,i,Q);break;case"selectionchange":if(vS)break;case"keydown":case"keyup":gp(te,i,Q)}var Ve;if($u)e:{switch(e){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else ai?rp(e,i)&&(Fe="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Fe="onCompositionStart");Fe&&(tp&&i.locale!=="ko"&&(ai||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&ai&&(Ve=Qh()):($a=Q,Ru="value"in $a?$a.value:$a.textContent,ai=!0)),Se=gl(B,Fe),0<Se.length&&(Fe=new Wh(Fe,e,null,i,Q),te.push({event:Fe,listeners:Se}),Ve?Fe.data=Ve:(Ve=ip(i),Ve!==null&&(Fe.data=Ve)))),(Ve=lS?uS(e,i):cS(e,i))&&(Fe=gl(B,"onBeforeInput"),0<Fe.length&&(Se=new Wh("onBeforeInput","beforeinput",null,i,Q),te.push({event:Se,listeners:Fe}),Se.data=Ve)),tx(te,e,B,i,Q)}qy(te,t)})}function $s(e,t,i){return{instance:e,listener:t,currentTarget:i}}function gl(e,t){for(var i=t+"Capture",o=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=os(e,i),c!=null&&o.unshift($s(e,c,f)),c=os(e,t),c!=null&&o.push($s(e,c,f))),e.tag===3)return o;e=e.return}return[]}function ix(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Gy(e,t,i,o,c){for(var f=t._reactName,g=[];i!==null&&i!==o;){var b=i,N=b.alternate,B=b.stateNode;if(b=b.tag,N!==null&&N===o)break;b!==5&&b!==26&&b!==27||B===null||(N=B,c?(B=os(i,f),B!=null&&g.unshift($s(i,B,N))):c||(B=os(i,f),B!=null&&g.push($s(i,B,N)))),i=i.return}g.length!==0&&e.push({event:t,listeners:g})}var sx=/\r\n?/g,ox=/\u0000|\uFFFD/g;function Zy(e){return(typeof e=="string"?e:""+e).replace(sx,`
`).replace(ox,"")}function Xy(e,t){return t=Zy(t),Zy(e)===t}function ht(e,t,i,o,c,f){switch(i){case"children":typeof o=="string"?t==="body"||t==="textarea"&&o===""||ei(e,o):(typeof o=="number"||typeof o=="bigint")&&t!=="body"&&ei(e,""+o);break;case"className":So(e,"class",o);break;case"tabIndex":So(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":So(e,i,o);break;case"style":Xh(e,o,f);break;case"data":if(t!=="object"){So(e,"data",o);break}case"src":case"href":if(o===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=Eo(""+o),e.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(t!=="input"&&ht(e,t,"name",c.name,c,null),ht(e,t,"formEncType",c.formEncType,c,null),ht(e,t,"formMethod",c.formMethod,c,null),ht(e,t,"formTarget",c.formTarget,c,null)):(ht(e,t,"encType",c.encType,c,null),ht(e,t,"method",c.method,c,null),ht(e,t,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=Eo(""+o),e.setAttribute(i,o);break;case"onClick":o!=null&&(e.onclick=va);break;case"onScroll":o!=null&&Ze("scroll",e);break;case"onScrollEnd":o!=null&&Ze("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(i=o.__html,i!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}i=Eo(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""+o):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":o===!0?e.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,o):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(i,o):e.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(i):e.setAttribute(i,o);break;case"popover":Ze("beforetoggle",e),Ze("toggle",e),wo(e,"popover",o);break;case"xlinkActuate":ga(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ga(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ga(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ga(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ga(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ga(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ga(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ga(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ga(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":wo(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Rw.get(i)||i,wo(e,i,o))}}function gf(e,t,i,o,c,f){switch(i){case"style":Xh(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(i=o.__html,i!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"children":typeof o=="string"?ei(e,o):(typeof o=="number"||typeof o=="bigint")&&ei(e,""+o);break;case"onScroll":o!=null&&Ze("scroll",e);break;case"onScrollEnd":o!=null&&Ze("scrollend",e);break;case"onClick":o!=null&&(e.onclick=va);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Uh.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(c=i.endsWith("Capture"),t=i.slice(2,c?i.length-7:void 0),f=e[cn]||null,f=f!=null?f[i]:null,typeof f=="function"&&e.removeEventListener(t,f,c),typeof o=="function")){typeof f!="function"&&f!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,o,c);break e}i in e?e[i]=o:o===!0?e.setAttribute(i,""):wo(e,i,o)}}}function Jt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ze("error",e),Ze("load",e);var o=!1,c=!1,f;for(f in i)if(i.hasOwnProperty(f)){var g=i[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ht(e,t,f,g,i,null)}}c&&ht(e,t,"srcSet",i.srcSet,i,null),o&&ht(e,t,"src",i.src,i,null);return;case"input":Ze("invalid",e);var b=f=g=c=null,N=null,B=null;for(o in i)if(i.hasOwnProperty(o)){var Q=i[o];if(Q!=null)switch(o){case"name":c=Q;break;case"type":g=Q;break;case"checked":N=Q;break;case"defaultChecked":B=Q;break;case"value":f=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,t));break;default:ht(e,t,o,Q,i,null)}}qh(e,f,b,N,B,g,c,!1);return;case"select":Ze("invalid",e),o=g=f=null;for(c in i)if(i.hasOwnProperty(c)&&(b=i[c],b!=null))switch(c){case"value":f=b;break;case"defaultValue":g=b;break;case"multiple":o=b;default:ht(e,t,c,b,i,null)}t=f,i=g,e.multiple=!!o,t!=null?Wr(e,!!o,t,!1):i!=null&&Wr(e,!!o,i,!0);return;case"textarea":Ze("invalid",e),f=c=o=null;for(g in i)if(i.hasOwnProperty(g)&&(b=i[g],b!=null))switch(g){case"value":o=b;break;case"defaultValue":c=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:ht(e,t,g,b,i,null)}Gh(e,o,c,f);return;case"option":for(N in i)if(i.hasOwnProperty(N)&&(o=i[N],o!=null))switch(N){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ht(e,t,N,o,i,null)}return;case"dialog":Ze("beforetoggle",e),Ze("toggle",e),Ze("cancel",e),Ze("close",e);break;case"iframe":case"object":Ze("load",e);break;case"video":case"audio":for(o=0;o<Hs.length;o++)Ze(Hs[o],e);break;case"image":Ze("error",e),Ze("load",e);break;case"details":Ze("toggle",e);break;case"embed":case"source":case"link":Ze("error",e),Ze("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in i)if(i.hasOwnProperty(B)&&(o=i[B],o!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ht(e,t,B,o,i,null)}return;default:if(_u(t)){for(Q in i)i.hasOwnProperty(Q)&&(o=i[Q],o!==void 0&&gf(e,t,Q,o,i,void 0));return}}for(b in i)i.hasOwnProperty(b)&&(o=i[b],o!=null&&ht(e,t,b,o,i,null))}function lx(e,t,i,o){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,g=null,b=null,N=null,B=null,Q=null;for(G in i){var te=i[G];if(i.hasOwnProperty(G)&&te!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":N=te;default:o.hasOwnProperty(G)||ht(e,t,G,null,o,te)}}for(var H in o){var G=o[H];if(te=i[H],o.hasOwnProperty(H)&&(G!=null||te!=null))switch(H){case"type":f=G;break;case"name":c=G;break;case"checked":B=G;break;case"defaultChecked":Q=G;break;case"value":g=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,t));break;default:G!==te&&ht(e,t,H,G,o,te)}}Nu(e,g,b,N,B,Q,f,c);return;case"select":G=g=b=H=null;for(f in i)if(N=i[f],i.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":G=N;default:o.hasOwnProperty(f)||ht(e,t,f,null,o,N)}for(c in o)if(f=o[c],N=i[c],o.hasOwnProperty(c)&&(f!=null||N!=null))switch(c){case"value":H=f;break;case"defaultValue":b=f;break;case"multiple":g=f;default:f!==N&&ht(e,t,c,f,o,N)}t=b,i=g,o=G,H!=null?Wr(e,!!i,H,!1):!!o!=!!i&&(t!=null?Wr(e,!!i,t,!0):Wr(e,!!i,i?[]:"",!1));return;case"textarea":G=H=null;for(b in i)if(c=i[b],i.hasOwnProperty(b)&&c!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ht(e,t,b,null,o,c)}for(g in o)if(c=o[g],f=i[g],o.hasOwnProperty(g)&&(c!=null||f!=null))switch(g){case"value":H=c;break;case"defaultValue":G=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&ht(e,t,g,c,o,f)}Yh(e,H,G);return;case"option":for(var be in i)if(H=i[be],i.hasOwnProperty(be)&&H!=null&&!o.hasOwnProperty(be))switch(be){case"selected":e.selected=!1;break;default:ht(e,t,be,null,o,H)}for(N in o)if(H=o[N],G=i[N],o.hasOwnProperty(N)&&H!==G&&(H!=null||G!=null))switch(N){case"selected":e.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:ht(e,t,N,H,o,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in i)H=i[je],i.hasOwnProperty(je)&&H!=null&&!o.hasOwnProperty(je)&&ht(e,t,je,null,o,H);for(B in o)if(H=o[B],G=i[B],o.hasOwnProperty(B)&&H!==G&&(H!=null||G!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,t));break;default:ht(e,t,B,H,o,G)}return;default:if(_u(t)){for(var pt in i)H=i[pt],i.hasOwnProperty(pt)&&H!==void 0&&!o.hasOwnProperty(pt)&&gf(e,t,pt,void 0,o,H);for(Q in o)H=o[Q],G=i[Q],!o.hasOwnProperty(Q)||H===G||H===void 0&&G===void 0||gf(e,t,Q,H,o,G);return}}for(var M in i)H=i[M],i.hasOwnProperty(M)&&H!=null&&!o.hasOwnProperty(M)&&ht(e,t,M,null,o,H);for(te in o)H=o[te],G=i[te],!o.hasOwnProperty(te)||H===G||H==null&&G==null||ht(e,t,te,H,o,G)}function Fy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ux(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),o=0;o<i.length;o++){var c=i[o],f=c.transferSize,g=c.initiatorType,b=c.duration;if(f&&b&&Fy(g)){for(g=0,b=c.responseEnd,o+=1;o<i.length;o++){var N=i[o],B=N.startTime;if(B>b)break;var Q=N.transferSize,te=N.initiatorType;Q&&Fy(te)&&(N=N.responseEnd,g+=Q*(N<b?1:(b-B)/(N-B)))}if(--o,t+=8*(f+g)/(c.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var vf=null,bf=null;function vl(e){return e.nodeType===9?e:e.ownerDocument}function Ky(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qy(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function wf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Sf=null;function cx(){var e=window.event;return e&&e.type==="popstate"?e===Sf?!1:(Sf=e,!0):(Sf=null,!1)}var Py=typeof setTimeout=="function"?setTimeout:void 0,fx=typeof clearTimeout=="function"?clearTimeout:void 0,Jy=typeof Promise=="function"?Promise:void 0,dx=typeof queueMicrotask=="function"?queueMicrotask:typeof Jy<"u"?function(e){return Jy.resolve(null).then(e).catch(hx)}:Py;function hx(e){setTimeout(function(){throw e})}function ar(e){return e==="head"}function Wy(e,t){var i=t,o=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"||i==="/&"){if(o===0){e.removeChild(c),Ai(t);return}o--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")o++;else if(i==="html")Vs(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Vs(i);for(var f=i.firstChild;f;){var g=f.nextSibling,b=f.nodeName;f[is]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||i.removeChild(f),f=g}}else i==="body"&&Vs(e.ownerDocument.body);i=c}while(i);Ai(t)}function eg(e,t){var i=e;e=0;do{var o=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=o}while(i)}function xf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":xf(i),Tu(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function px(e,t,i,o){for(;e.nodeType===1;){var c=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[is])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=In(e.nextSibling),e===null)break}return null}function mx(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=In(e.nextSibling),e===null))return null;return e}function tg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=In(e.nextSibling),e===null))return null;return e}function Ef(e){return e.data==="$?"||e.data==="$~"}function kf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function yx(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var o=function(){t(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function In(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Cf=null;function ng(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return In(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function ag(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function rg(e,t,i){switch(t=vl(i),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Vs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Tu(e)}var qn=new Map,ig=new Set;function bl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var za=j.d;j.d={f:gx,r:vx,D:bx,C:wx,L:Sx,m:xx,X:kx,S:Ex,M:Cx};function gx(){var e=za.f(),t=cl();return e||t}function vx(e){var t=Qr(e);t!==null&&t.tag===5&&t.type==="form"?xm(t):za.r(e)}var Ni=typeof document>"u"?null:document;function sg(e,t,i){var o=Ni;if(o&&typeof t=="string"&&t){var c=Rn(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof i=="string"&&(c+='[crossorigin="'+i+'"]'),ig.has(c)||(ig.add(c),e={rel:e,crossOrigin:i,href:t},o.querySelector(c)===null&&(t=o.createElement("link"),Jt(t,"link",e),qt(t),o.head.appendChild(t)))}}function bx(e){za.D(e),sg("dns-prefetch",e,null)}function wx(e,t){za.C(e,t),sg("preconnect",e,t)}function Sx(e,t,i){za.L(e,t,i);var o=Ni;if(o&&e&&t){var c='link[rel="preload"][as="'+Rn(t)+'"]';t==="image"&&i&&i.imageSrcSet?(c+='[imagesrcset="'+Rn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(c+='[imagesizes="'+Rn(i.imageSizes)+'"]')):c+='[href="'+Rn(e)+'"]';var f=c;switch(t){case"style":f=ji(e);break;case"script":f=_i(e)}qn.has(f)||(e=w({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),qn.set(f,e),o.querySelector(c)!==null||t==="style"&&o.querySelector(Is(f))||t==="script"&&o.querySelector(qs(f))||(t=o.createElement("link"),Jt(t,"link",e),qt(t),o.head.appendChild(t)))}}function xx(e,t){za.m(e,t);var i=Ni;if(i&&e){var o=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+Rn(o)+'"][href="'+Rn(e)+'"]',f=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=_i(e)}if(!qn.has(f)&&(e=w({rel:"modulepreload",href:e},t),qn.set(f,e),i.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(qs(f)))return}o=i.createElement("link"),Jt(o,"link",e),qt(o),i.head.appendChild(o)}}}function Ex(e,t,i){za.S(e,t,i);var o=Ni;if(o&&e){var c=Pr(o).hoistableStyles,f=ji(e);t=t||"default";var g=c.get(f);if(!g){var b={loading:0,preload:null};if(g=o.querySelector(Is(f)))b.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":t},i),(i=qn.get(f))&&Tf(e,i);var N=g=o.createElement("link");qt(N),Jt(N,"link",e),N._p=new Promise(function(B,Q){N.onload=B,N.onerror=Q}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,wl(g,t,o)}g={type:"stylesheet",instance:g,count:1,state:b},c.set(f,g)}}}function kx(e,t){za.X(e,t);var i=Ni;if(i&&e){var o=Pr(i).hoistableScripts,c=_i(e),f=o.get(c);f||(f=i.querySelector(qs(c)),f||(e=w({src:e,async:!0},t),(t=qn.get(c))&&Of(e,t),f=i.createElement("script"),qt(f),Jt(f,"link",e),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function Cx(e,t){za.M(e,t);var i=Ni;if(i&&e){var o=Pr(i).hoistableScripts,c=_i(e),f=o.get(c);f||(f=i.querySelector(qs(c)),f||(e=w({src:e,async:!0,type:"module"},t),(t=qn.get(c))&&Of(e,t),f=i.createElement("script"),qt(f),Jt(f,"link",e),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function og(e,t,i,o){var c=(c=ae.current)?bl(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=ji(i.href),i=Pr(c).hoistableStyles,o=i.get(t),o||(o={type:"style",instance:null,count:0,state:null},i.set(t,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=ji(i.href);var f=Pr(c).hoistableStyles,g=f.get(e);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=c.querySelector(Is(e)))&&!f._p&&(g.instance=f,g.state.loading=5),qn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},qn.set(e,i),f||Tx(c,e,i,g.state))),t&&o===null)throw Error(s(528,""));return g}if(t&&o!==null)throw Error(s(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=_i(i),i=Pr(c).hoistableScripts,o=i.get(t),o||(o={type:"script",instance:null,count:0,state:null},i.set(t,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ji(e){return'href="'+Rn(e)+'"'}function Is(e){return'link[rel="stylesheet"]['+e+"]"}function lg(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function Tx(e,t,i,o){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?o.loading=1:(t=e.createElement("link"),o.preload=t,t.addEventListener("load",function(){return o.loading|=1}),t.addEventListener("error",function(){return o.loading|=2}),Jt(t,"link",i),qt(t),e.head.appendChild(t))}function _i(e){return'[src="'+Rn(e)+'"]'}function qs(e){return"script[async]"+e}function ug(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var o=e.querySelector('style[data-href~="'+Rn(i.href)+'"]');if(o)return t.instance=o,qt(o),o;var c=w({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),qt(o),Jt(o,"style",c),wl(o,i.precedence,e),t.instance=o;case"stylesheet":c=ji(i.href);var f=e.querySelector(Is(c));if(f)return t.state.loading|=4,t.instance=f,qt(f),f;o=lg(i),(c=qn.get(c))&&Tf(o,c),f=(e.ownerDocument||e).createElement("link"),qt(f);var g=f;return g._p=new Promise(function(b,N){g.onload=b,g.onerror=N}),Jt(f,"link",o),t.state.loading|=4,wl(f,i.precedence,e),t.instance=f;case"script":return f=_i(i.src),(c=e.querySelector(qs(f)))?(t.instance=c,qt(c),c):(o=i,(c=qn.get(f))&&(o=w({},i),Of(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),qt(c),Jt(c,"link",o),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(o=t.instance,t.state.loading|=4,wl(o,i.precedence,e));return t.instance}function wl(e,t,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,f=c,g=0;g<o.length;g++){var b=o[g];if(b.dataset.precedence===t)f=b;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Tf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Of(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Sl=null;function cg(e,t,i){if(Sl===null){var o=new Map,c=Sl=new Map;c.set(i,o)}else c=Sl,o=c.get(i),o||(o=new Map,c.set(i,o));if(o.has(e))return o;for(o.set(e,null),i=i.getElementsByTagName(e),c=0;c<i.length;c++){var f=i[c];if(!(f[is]||f[Ft]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(t)||"";g=e+g;var b=o.get(g);b?b.push(f):o.set(g,[f])}}return o}function fg(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function Ox(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function dg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Nx(e,t,i,o){if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var c=ji(o.href),f=t.querySelector(Is(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=xl.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=f,qt(f);return}f=t.ownerDocument||t,o=lg(o),(c=qn.get(c))&&Tf(o,c),f=f.createElement("link"),qt(f);var g=f;g._p=new Promise(function(b,N){g.onload=b,g.onerror=N}),Jt(f,"link",o),i.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=xl.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var Nf=0;function jx(e,t){return e.stylesheets&&e.count===0&&kl(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var o=setTimeout(function(){if(e.stylesheets&&kl(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+t);0<e.imgBytes&&Nf===0&&(Nf=62500*ux());var c=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&kl(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Nf?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(c)}}:null}function xl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var El=null;function kl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,El=new Map,t.forEach(_x,e),El=null,xl.call(e))}function _x(e,t){if(!(t.state.loading&4)){var i=El.get(e);if(i)var o=i.get(null);else{i=new Map,El.set(e,i);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var g=c[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(i.set(g.dataset.precedence,g),o=g)}o&&i.set(null,o)}c=t.instance,g=c.getAttribute("data-precedence"),f=i.get(g)||o,f===o&&i.set(null,c),i.set(g,c),this.count++,o=xl.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Ys={$$typeof:Y,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function Ax(e,t,i,o,c,f,g,b,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xn(0),this.hiddenUpdates=xn(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function hg(e,t,i,o,c,f,g,b,N,B,Q,te){return e=new Ax(e,t,i,g,N,B,Q,te,b),t=1,f===!0&&(t|=24),f=kn(3,null,null,t),e.current=f,f.stateNode=e,t=sc(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:o,isDehydrated:i,cache:t},cc(f),e}function pg(e){return e?(e=oi,e):oi}function mg(e,t,i,o,c,f){c=pg(c),o.context===null?o.context=c:o.pendingContext=c,o=Za(t),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=Xa(e,o,t),i!==null&&(yn(i,e,t),xs(i,e,t))}function yg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function jf(e,t){yg(e,t),(e=e.alternate)&&yg(e,t)}function gg(e){if(e.tag===13||e.tag===31){var t=Er(e,67108864);t!==null&&yn(t,e,67108864),jf(e,67108864)}}function vg(e){if(e.tag===13||e.tag===31){var t=jn();t=bo(t);var i=Er(e,t);i!==null&&yn(i,e,t),jf(e,t)}}var Cl=!0;function Dx(e,t,i,o){var c=D.T;D.T=null;var f=j.p;try{j.p=2,_f(e,t,i,o)}finally{j.p=f,D.T=c}}function Mx(e,t,i,o){var c=D.T;D.T=null;var f=j.p;try{j.p=8,_f(e,t,i,o)}finally{j.p=f,D.T=c}}function _f(e,t,i,o){if(Cl){var c=Af(o);if(c===null)yf(e,t,o,Tl,i),wg(e,o);else if(Rx(c,e,t,i,o))o.stopPropagation();else if(wg(e,o),t&4&&-1<zx.indexOf(e)){for(;c!==null;){var f=Qr(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=vt(f.pendingLanes);if(g!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;g;){var N=1<<31-st(g);b.entanglements[1]|=N,g&=~N}ua(f),(at&6)===0&&(ll=Mt()+500,Us(0))}}break;case 31:case 13:b=Er(f,2),b!==null&&yn(b,f,2),cl(),jf(f,2)}if(f=Af(o),f===null&&yf(e,t,o,Tl,i),f===c)break;c=f}c!==null&&o.stopPropagation()}else yf(e,t,o,null,i)}}function Af(e){return e=Du(e),Df(e)}var Tl=null;function Df(e){if(Tl=null,e=Kr(e),e!==null){var t=u(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=d(t),e!==null)return e;e=null}else if(i===31){if(e=h(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Tl=e,null}function bg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xr()){case gr:return 2;case vr:return 8;case V:case X:return 32;case de:return 268435456;default:return 32}default:return 32}}var Mf=!1,rr=null,ir=null,sr=null,Gs=new Map,Zs=new Map,or=[],zx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wg(e,t){switch(e){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":Gs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zs.delete(t.pointerId)}}function Xs(e,t,i,o,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:i,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},t!==null&&(t=Qr(t),t!==null&&gg(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Rx(e,t,i,o,c){switch(t){case"focusin":return rr=Xs(rr,e,t,i,o,c),!0;case"dragenter":return ir=Xs(ir,e,t,i,o,c),!0;case"mouseover":return sr=Xs(sr,e,t,i,o,c),!0;case"pointerover":var f=c.pointerId;return Gs.set(f,Xs(Gs.get(f)||null,e,t,i,o,c)),!0;case"gotpointercapture":return f=c.pointerId,Zs.set(f,Xs(Zs.get(f)||null,e,t,i,o,c)),!0}return!1}function Sg(e){var t=Kr(e.target);if(t!==null){var i=u(t);if(i!==null){if(t=i.tag,t===13){if(t=d(i),t!==null){e.blockedOn=t,Rh(e.priority,function(){vg(i)});return}}else if(t===31){if(t=h(i),t!==null){e.blockedOn=t,Rh(e.priority,function(){vg(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ol(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Af(e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);Au=o,i.target.dispatchEvent(o),Au=null}else return t=Qr(i),t!==null&&gg(t),e.blockedOn=i,!1;t.shift()}return!0}function xg(e,t,i){Ol(e)&&i.delete(t)}function Lx(){Mf=!1,rr!==null&&Ol(rr)&&(rr=null),ir!==null&&Ol(ir)&&(ir=null),sr!==null&&Ol(sr)&&(sr=null),Gs.forEach(xg),Zs.forEach(xg)}function Nl(e,t){e.blockedOn===t&&(e.blockedOn=null,Mf||(Mf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Lx)))}var jl=null;function Eg(e){jl!==e&&(jl=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){jl===e&&(jl=null);for(var t=0;t<e.length;t+=3){var i=e[t],o=e[t+1],c=e[t+2];if(typeof o!="function"){if(Df(o||i)===null)continue;break}var f=Qr(i);f!==null&&(e.splice(t,3),t-=3,_c(f,{pending:!0,data:c,method:i.method,action:o},o,c))}}))}function Ai(e){function t(N){return Nl(N,e)}rr!==null&&Nl(rr,e),ir!==null&&Nl(ir,e),sr!==null&&Nl(sr,e),Gs.forEach(t),Zs.forEach(t);for(var i=0;i<or.length;i++){var o=or[i];o.blockedOn===e&&(o.blockedOn=null)}for(;0<or.length&&(i=or[0],i.blockedOn===null);)Sg(i),i.blockedOn===null&&or.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var c=i[o],f=i[o+1],g=c[cn]||null;if(typeof f=="function")g||Eg(i);else if(g){var b=null;if(f&&f.hasAttribute("formAction")){if(c=f,g=f[cn]||null)b=g.formAction;else if(Df(c)!==null)continue}else b=g.action;typeof b=="function"?i[o+1]=b:(i.splice(o,3),o-=3),Eg(i)}}}function kg(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function t(){c!==null&&(c(),c=null),o||setTimeout(i,20)}function i(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,c=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),c!==null&&(c(),c=null)}}}function zf(e){this._internalRoot=e}_l.prototype.render=zf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var i=t.current,o=jn();mg(i,o,e,t,null,null)},_l.prototype.unmount=zf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mg(e.current,2,null,e,null,null),cl(),t[Fr]=null}};function _l(e){this._internalRoot=e}_l.prototype.unstable_scheduleHydration=function(e){if(e){var t=zh();e={blockedOn:null,target:e,priority:t};for(var i=0;i<or.length&&t!==0&&t<or[i].priority;i++);or.splice(i,0,e),i===0&&Sg(e)}};var Cg=n.version;if(Cg!=="19.2.0")throw Error(s(527,Cg,"19.2.0"));j.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Bx={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Al.isDisabled&&Al.supportsFiber)try{kt=Al.inject(Bx),Ot=Al}catch{}}return Ks.createRoot=function(e,t){if(!l(e))throw Error(s(299));var i=!1,o="",c=Dm,f=Mm,g=zm;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=hg(e,1,!1,null,null,i,o,null,c,f,g,kg),e[Fr]=t.current,mf(e),new zf(t)},Ks.hydrateRoot=function(e,t,i){if(!l(e))throw Error(s(299));var o=!1,c="",f=Dm,g=Mm,b=zm,N=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError),i.formState!==void 0&&(N=i.formState)),t=hg(e,1,!0,t,i??null,o,c,N,f,g,b,kg),t.context=pg(null),i=t.current,o=jn(),o=bo(o),c=Za(o),c.callback=null,Xa(i,c,o),i=o,t.current.lanes=i,Mn(t,i),ua(t),e[Fr]=t.current,mf(e),new _l(t)},Ks.version="19.2.0",Ks}var Rg;function Xx(){if(Rg)return Bf.exports;Rg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Bf.exports=Zx(),Bf.exports}var Y0=Xx();const Fx="modulepreload",Kx=function(a){return"/"+a},Lg={},Bg=function(n,r,s){let l=Promise.resolve();if(r&&r.length>0){let y=function(v){return Promise.all(v.map(w=>Promise.resolve(w).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};var d=y;document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),p=h?.nonce||h?.getAttribute("nonce");l=y(r.map(v=>{if(v=Kx(v),v in Lg)return;Lg[v]=!0;const w=v.endsWith(".css"),x=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${v}"]${x}`))return;const O=document.createElement("link");if(O.rel=w?"stylesheet":Fx,w||(O.as="script"),O.crossOrigin="",O.href=v,p&&O.setAttribute("nonce",p),document.head.appendChild(O),w)return new Promise((A,P)=>{O.addEventListener("load",A),O.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${v}`)))})}))}function u(h){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=h,window.dispatchEvent(p),!p.defaultPrevented)throw h}return l.then(h=>{for(const p of h||[])p.status==="rejected"&&u(p.reason);return n().catch(u)})};function Ug(a,n,r,s,l,u,d){try{var h=a[u](d),p=h.value}catch(y){return void r(y)}h.done?n(p):Promise.resolve(p).then(s,l)}function qe(a){return function(){var n=this,r=arguments;return new Promise(function(s,l){var u=a.apply(n,r);function d(p){Ug(u,s,l,d,h,"next",p)}function h(p){Ug(u,s,l,d,h,"throw",p)}d(void 0)})}}function Ke(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function Wt(a){"@babel/helpers - typeof";return Wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Wt(a)}function Qx(a,n){if(Wt(a)!="object"||!a)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var s=r.call(a,n);if(Wt(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function G0(a){var n=Qx(a,"string");return Wt(n)=="symbol"?n:n+""}function Px(a,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(a,G0(s.key),s)}}function Qe(a,n,r){return n&&Px(a.prototype,n),Object.defineProperty(a,"prototype",{writable:!1}),a}function Jx(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function ya(a,n){if(n&&(Wt(n)=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jx(a)}function gt(a){return gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gt(a)}function oo(a,n){return oo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},oo(a,n)}function vn(a,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(n&&n.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),n&&oo(a,n)}function xe(a,n,r){return(n=G0(n))in a?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r,a}var Vf={exports:{}},If={exports:{}},Hg;function Z0(){return Hg||(Hg=1,(function(a){function n(r,s){this.v=r,this.k=s}a.exports=n,a.exports.__esModule=!0,a.exports.default=a.exports})(If)),If.exports}var qf={exports:{}},Yf={exports:{}},$g;function X0(){return $g||($g=1,(function(a){function n(r,s,l,u){var d=Object.defineProperty;try{d({},"",{})}catch{d=0}a.exports=n=function(p,y,v,w){function x(O,A){n(p,O,function(P){return this._invoke(O,A,P)})}y?d?d(p,y,{value:v,enumerable:!w,configurable:!w,writable:!w}):p[y]=v:(x("next",0),x("throw",1),x("return",2))},a.exports.__esModule=!0,a.exports.default=a.exports,n(r,s,l,u)}a.exports=n,a.exports.__esModule=!0,a.exports.default=a.exports})(Yf)),Yf.exports}var Vg;function F0(){return Vg||(Vg=1,(function(a){var n=X0();function r(){var s,l,u=typeof Symbol=="function"?Symbol:{},d=u.iterator||"@@iterator",h=u.toStringTag||"@@toStringTag";function p(I,K,F,Y){var Z=K&&K.prototype instanceof v?K:v,ie=Object.create(Z.prototype);return n(ie,"_invoke",(function(le,q,oe){var U,J,ye,we=0,Ne=oe||[],_e=!1,ne={p:0,n:0,v:s,a:D,f:D.bind(s,4),d:function($,z){return U=$,J=0,ye=s,ne.n=z,y}};function D(j,$){for(J=j,ye=$,l=0;!_e&&we&&!z&&l<Ne.length;l++){var z,re=Ne[l],S=ne.p,k=re[2];j>3?(z=k===$)&&(ye=re[(J=re[4])?5:(J=3,3)],re[4]=re[5]=s):re[0]<=S&&((z=j<2&&S<re[1])?(J=0,ne.v=$,ne.n=re[1]):S<k&&(z=j<3||re[0]>$||$>k)&&(re[4]=j,re[5]=$,ne.n=k,J=0))}if(z||j>1)return y;throw _e=!0,$}return function(j,$,z){if(we>1)throw TypeError("Generator is already running");for(_e&&$===1&&D($,z),J=$,ye=z;(l=J<2?s:ye)||!_e;){U||(J?J<3?(J>1&&(ne.n=-1),D(J,ye)):ne.n=ye:ne.v=ye);try{if(we=2,U){if(J||(j="next"),l=U[j]){if(!(l=l.call(U,ye)))throw TypeError("iterator result is not an object");if(!l.done)return l;ye=l.value,J<2&&(J=0)}else J===1&&(l=U.return)&&l.call(U),J<2&&(ye=TypeError("The iterator does not provide a '"+j+"' method"),J=1);U=s}else if((l=(_e=ne.n<0)?ye:le.call(q,ne))!==y)break}catch(re){U=s,J=1,ye=re}finally{we=1}}return{value:l,done:_e}}})(I,F,Y),!0),ie}var y={};function v(){}function w(){}function x(){}l=Object.getPrototypeOf;var O=[][d]?l(l([][d]())):(n(l={},d,function(){return this}),l),A=x.prototype=v.prototype=Object.create(O);function P(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,x):(I.__proto__=x,n(I,h,"GeneratorFunction")),I.prototype=Object.create(A),I}return w.prototype=x,n(A,"constructor",x),n(x,"constructor",w),w.displayName="GeneratorFunction",n(x,h,"GeneratorFunction"),n(A),n(A,h,"Generator"),n(A,d,function(){return this}),n(A,"toString",function(){return"[object Generator]"}),(a.exports=r=function(){return{w:p,m:P}},a.exports.__esModule=!0,a.exports.default=a.exports)()}a.exports=r,a.exports.__esModule=!0,a.exports.default=a.exports})(qf)),qf.exports}var Gf={exports:{}},Zf={exports:{}},Xf={exports:{}},Ig;function K0(){return Ig||(Ig=1,(function(a){var n=Z0(),r=X0();function s(l,u){function d(p,y,v,w){try{var x=l[p](y),O=x.value;return O instanceof n?u.resolve(O.v).then(function(A){d("next",A,v,w)},function(A){d("throw",A,v,w)}):u.resolve(O).then(function(A){x.value=A,v(x)},function(A){return d("throw",A,v,w)})}catch(A){w(A)}}var h;this.next||(r(s.prototype),r(s.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),r(this,"_invoke",function(p,y,v){function w(){return new u(function(x,O){d(p,v,x,O)})}return h=h?h.then(w,w):w()},!0)}a.exports=s,a.exports.__esModule=!0,a.exports.default=a.exports})(Xf)),Xf.exports}var qg;function Q0(){return qg||(qg=1,(function(a){var n=F0(),r=K0();function s(l,u,d,h,p){return new r(n().w(l,u,d,h),p||Promise)}a.exports=s,a.exports.__esModule=!0,a.exports.default=a.exports})(Zf)),Zf.exports}var Yg;function Wx(){return Yg||(Yg=1,(function(a){var n=Q0();function r(s,l,u,d,h){var p=n(s,l,u,d,h);return p.next().then(function(y){return y.done?y.value:p.next()})}a.exports=r,a.exports.__esModule=!0,a.exports.default=a.exports})(Gf)),Gf.exports}var Ff={exports:{}},Gg;function e2(){return Gg||(Gg=1,(function(a){function n(r){var s=Object(r),l=[];for(var u in s)l.unshift(u);return function d(){for(;l.length;)if((u=l.pop())in s)return d.value=u,d.done=!1,d;return d.done=!0,d}}a.exports=n,a.exports.__esModule=!0,a.exports.default=a.exports})(Ff)),Ff.exports}var Kf={exports:{}},Qf={exports:{}},Zg;function t2(){return Zg||(Zg=1,(function(a){function n(r){"@babel/helpers - typeof";return a.exports=n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},a.exports.__esModule=!0,a.exports.default=a.exports,n(r)}a.exports=n,a.exports.__esModule=!0,a.exports.default=a.exports})(Qf)),Qf.exports}var Xg;function n2(){return Xg||(Xg=1,(function(a){var n=t2().default;function r(s){if(s!=null){var l=s[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],u=0;if(l)return l.call(s);if(typeof s.next=="function")return s;if(!isNaN(s.length))return{next:function(){return s&&u>=s.length&&(s=void 0),{value:s&&s[u++],done:!s}}}}throw new TypeError(n(s)+" is not iterable")}a.exports=r,a.exports.__esModule=!0,a.exports.default=a.exports})(Kf)),Kf.exports}var Fg;function a2(){return Fg||(Fg=1,(function(a){var n=Z0(),r=F0(),s=Wx(),l=Q0(),u=K0(),d=e2(),h=n2();function p(){var y=r(),v=y.m(p),w=(Object.getPrototypeOf?Object.getPrototypeOf(v):v.__proto__).constructor;function x(P){var I=typeof P=="function"&&P.constructor;return!!I&&(I===w||(I.displayName||I.name)==="GeneratorFunction")}var O={throw:1,return:2,break:3,continue:3};function A(P){var I,K;return function(F){I||(I={stop:function(){return K(F.a,2)},catch:function(){return F.v},abrupt:function(Z,ie){return K(F.a,O[Z],ie)},delegateYield:function(Z,ie,le){return I.resultName=ie,K(F.d,h(Z),le)},finish:function(Z){return K(F.f,Z)}},K=function(Z,ie,le){F.p=I.prev,F.n=I.next;try{return Z(ie,le)}finally{I.next=F.n}}),I.resultName&&(I[I.resultName]=F.v,I.resultName=void 0),I.sent=F.v,I.next=F.n;try{return P.call(this,I)}finally{F.p=I.prev,F.n=I.next}}}return(a.exports=p=function(){return{wrap:function(K,F,Y,Z){return y.w(A(K),F,Y,Z&&Z.reverse())},isGeneratorFunction:x,mark:y.m,awrap:function(K,F){return new n(K,F)},AsyncIterator:u,async:function(K,F,Y,Z,ie){return(x(F)?l:s)(A(K),F,Y,Z,ie)},keys:d,values:h}},a.exports.__esModule=!0,a.exports.default=a.exports)()}a.exports=p,a.exports.__esModule=!0,a.exports.default=a.exports})(Vf)),Vf.exports}var Pf,Kg;function r2(){if(Kg)return Pf;Kg=1;var a=a2()();Pf=a;try{regeneratorRuntime=a}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}return Pf}var i2=r2();const fe=th(i2);function s2(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=o2(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(y){throw y},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,d=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var y=r.next();return d=y.done,y},e:function(y){h=!0,u=y},f:function(){try{d||r.return==null||r.return()}finally{if(h)throw u}}}}function o2(a,n){if(a){if(typeof a=="string")return Qg(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qg(a,n):void 0}}function Qg(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function l2(){return{debug:function(n){}}}var P0=(function(){function a(){Ke(this,a),xe(this,"pipes",[])}return Qe(a,[{key:"addPipe",value:function(r){this.pipes.push(r)}},{key:"emit",value:(function(){var n=qe(fe.mark(function s(l){var u,d,h,p;return fe.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:u=l,d=s2(this.pipes),v.prev=2,d.s();case 4:if((h=d.n()).done){v.next=13;break}return p=h.value,v.next=8,p(u);case 8:if(u=v.sent,!(typeof u>"u")){v.next=11;break}return v.abrupt("return");case 11:v.next=4;break;case 13:v.next=18;break;case 15:v.prev=15,v.t0=v.catch(2),d.e(v.t0);case 18:return v.prev=18,d.f(),v.finish(18);case 21:return v.abrupt("return",u);case 22:case"end":return v.stop()}},s,this,[[2,15,18,21]])}));function r(s){return n.apply(this,arguments)}return r})()}])})(),Fi=(function(){function a(n){Ke(this,a),xe(this,"signal",new P0),this.name=n}return Qe(a,[{key:"addPipe",value:function(r){this.signal.addPipe(r)}},{key:"use",value:function(r){if(!(r instanceof a))throw new Error("cannot use non-Scope instance");return r.setParent(this),this.addPipe(function(s){return r.signal.emit(s)}),l2()}},{key:"setParent",value:function(r){this.parent=r}},{key:"emit",value:function(r){return this.signal.emit(r)}},{key:"hasParent",value:function(){return!!this.parent}},{key:"parentScope",value:function(r){if(!this.parent)throw new Error("cannot find parent");if(r&&this.parent instanceof r)return this.parent;if(r)throw new Error("actual parent is not instance of type");return this.parent}}])})();function Pg(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=u2(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(y){throw y},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,d=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var y=r.next();return d=y.done,y},e:function(y){h=!0,u=y},f:function(){try{d||r.return==null||r.return()}finally{if(h)throw u}}}}function u2(a,n){if(a){if(typeof a=="string")return Jg(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Jg(a,n):void 0}}function Jg(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function c2(a,n,r){return n=gt(n),ya(a,J0()?Reflect.construct(n,r||[],gt(a).constructor):n.apply(a,r))}function J0(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J0=function(){return!!a})()}var mr=(function(a){function n(){var r;return Ke(this,n),r=c2(this,n,["NodeEditor"]),xe(r,"nodes",[]),xe(r,"connections",[]),r}return vn(n,a),Qe(n,[{key:"getNode",value:function(s){return this.nodes.find(function(l){return l.id===s})}},{key:"getNodes",value:function(){return this.nodes.slice()}},{key:"getConnections",value:function(){return this.connections.slice()}},{key:"getConnection",value:function(s){return this.connections.find(function(l){return l.id===s})}},{key:"addNode",value:(function(){var r=qe(fe.mark(function l(u){return fe.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!this.getNode(u.id)){h.next=2;break}throw new Error("node has already been added");case 2:return h.next=4,this.emit({type:"nodecreate",data:u});case 4:if(h.sent){h.next=6;break}return h.abrupt("return",!1);case 6:return this.nodes.push(u),h.next=9,this.emit({type:"nodecreated",data:u});case 9:return h.abrupt("return",!0);case 10:case"end":return h.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"addConnection",value:(function(){var r=qe(fe.mark(function l(u){return fe.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!this.getConnection(u.id)){h.next=2;break}throw new Error("connection has already been added");case 2:return h.next=4,this.emit({type:"connectioncreate",data:u});case 4:if(h.sent){h.next=6;break}return h.abrupt("return",!1);case 6:return this.connections.push(u),h.next=9,this.emit({type:"connectioncreated",data:u});case 9:return h.abrupt("return",!0);case 10:case"end":return h.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"removeNode",value:(function(){var r=qe(fe.mark(function l(u){var d,h;return fe.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(d=this.nodes.find(function(v){return v.id===u}),d){y.next=3;break}throw new Error("cannot find node");case 3:return y.next=5,this.emit({type:"noderemove",data:d});case 5:if(y.sent){y.next=7;break}return y.abrupt("return",!1);case 7:return h=this.nodes.indexOf(d),this.nodes.splice(h,1),y.next=11,this.emit({type:"noderemoved",data:d});case 11:return y.abrupt("return",!0);case 12:case"end":return y.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"removeConnection",value:(function(){var r=qe(fe.mark(function l(u){var d,h;return fe.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(d=this.connections.find(function(v){return v.id===u}),d){y.next=3;break}throw new Error("cannot find connection");case 3:return y.next=5,this.emit({type:"connectionremove",data:d});case 5:if(y.sent){y.next=7;break}return y.abrupt("return",!1);case 7:return h=this.connections.indexOf(d),this.connections.splice(h,1),y.next=11,this.emit({type:"connectionremoved",data:d});case 11:return y.abrupt("return",!0);case 12:case"end":return y.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"clear",value:(function(){var r=qe(fe.mark(function l(){var u,d,h,p,y,v;return fe.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,this.emit({type:"clear"});case 2:if(x.sent){x.next=6;break}return x.next=5,this.emit({type:"clearcancelled"});case 5:return x.abrupt("return",!1);case 6:u=Pg(this.connections.slice()),x.prev=7,u.s();case 9:if((d=u.n()).done){x.next=15;break}return h=d.value,x.next=13,this.removeConnection(h.id);case 13:x.next=9;break;case 15:x.next=20;break;case 17:x.prev=17,x.t0=x.catch(7),u.e(x.t0);case 20:return x.prev=20,u.f(),x.finish(20);case 23:p=Pg(this.nodes.slice()),x.prev=24,p.s();case 26:if((y=p.n()).done){x.next=32;break}return v=y.value,x.next=30,this.removeNode(v.id);case 30:x.next=26;break;case 32:x.next=37;break;case 34:x.prev=34,x.t1=x.catch(24),p.e(x.t1);case 37:return x.prev=37,p.f(),x.finish(37);case 40:return x.next=42,this.emit({type:"cleared"});case 42:return x.abrupt("return",!0);case 43:case"end":return x.stop()}},l,this,[[7,17,20,23],[24,34,37,40]])}));function s(){return r.apply(this,arguments)}return s})()}])})(Fi),Jf=globalThis.crypto;function yr(){if("randomBytes"in Jf)return Jf.randomBytes(8).toString("hex");var a=Jf.getRandomValues(new Uint8Array(8)),n=Array.from(a),r=n.map(function(s){return s.toString(16).padStart(2,"0")});return r.join("")}function ah(a,n,r){return n=gt(n),ya(a,W0()?Reflect.construct(n,r||[],gt(a).constructor):n.apply(a,r))}function W0(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(W0=function(){return!!a})()}var f2=Qe(function a(n){Ke(this,a),this.name=n}),rh=Qe(function a(n,r,s){Ke(this,a),this.socket=n,this.label=r,this.multipleConnections=s,this.id=yr()}),d2=(function(a){function n(r,s,l){var u;return Ke(this,n),u=ah(this,n,[r,s,l]),xe(u,"control",null),xe(u,"showControl",!0),u.socket=r,u.label=s,u.multipleConnections=l,u}return vn(n,a),Qe(n,[{key:"addControl",value:function(s){if(this.control)throw new Error("control already added for this input");this.control=s}},{key:"removeControl",value:function(){this.control=null}}])})(rh),h2=(function(a){function n(r,s,l){return Ke(this,n),ah(this,n,[r,s,l!==!1])}return vn(n,a),Qe(n)})(rh),eb=Qe(function a(){Ke(this,a),this.id=yr()}),p2=(function(a){function n(r,s){var l,u;return Ke(this,n),u=ah(this,n),u.type=r,u.options=s,u.id=yr(),u.readonly=(l=s?.readonly)!==null&&l!==void 0?l:!1,typeof s?.initial<"u"&&(u.value=s.initial),u}return vn(n,a),Qe(n,[{key:"setValue",value:function(s){var l;this.value=s,(l=this.options)!==null&&l!==void 0&&l.change&&this.options.change(s)}}])})(eb),m2=(function(){function a(n){Ke(this,a),xe(this,"inputs",{}),xe(this,"outputs",{}),xe(this,"controls",{}),this.label=n,this.id=yr()}return Qe(a,[{key:"hasInput",value:function(r){return Object.prototype.hasOwnProperty.call(this.inputs,r)}},{key:"addInput",value:function(r,s){if(this.hasInput(r))throw new Error("input with key '".concat(String(r),"' already added"));Object.defineProperty(this.inputs,r,{value:s,enumerable:!0,configurable:!0})}},{key:"removeInput",value:function(r){delete this.inputs[r]}},{key:"hasOutput",value:function(r){return Object.prototype.hasOwnProperty.call(this.outputs,r)}},{key:"addOutput",value:function(r,s){if(this.hasOutput(r))throw new Error("output with key '".concat(String(r),"' already added"));Object.defineProperty(this.outputs,r,{value:s,enumerable:!0,configurable:!0})}},{key:"removeOutput",value:function(r){delete this.outputs[r]}},{key:"hasControl",value:function(r){return Object.prototype.hasOwnProperty.call(this.controls,r)}},{key:"addControl",value:function(r,s){if(this.hasControl(r))throw new Error("control with key '".concat(String(r),"' already added"));Object.defineProperty(this.controls,r,{value:s,enumerable:!0,configurable:!0})}},{key:"removeControl",value:function(r){delete this.controls[r]}}])})(),y2=Qe(function a(n,r,s,l){if(Ke(this,a),this.sourceOutput=r,this.targetInput=l,!n.outputs[r])throw new Error("source node doesn't have output with a key ".concat(String(r)));if(!s.inputs[l])throw new Error("target node doesn't have input with a key ".concat(String(l)));this.id=yr(),this.source=n.id,this.target=s.id}),ft=Object.freeze({__proto__:null,Socket:f2,Port:rh,Input:d2,Output:h2,Control:eb,InputControl:p2,Node:m2,Connection:y2});const g2=Object.freeze(Object.defineProperty({__proto__:null,ClassicPreset:ft,NodeEditor:mr,Scope:Fi,Signal:P0,getUID:yr},Symbol.toStringTag,{value:"Module"}));function wd(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function v2(a){if(Array.isArray(a))return wd(a)}function b2(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function tb(a,n){if(a){if(typeof a=="string")return wd(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?wd(a,n):void 0}}function w2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ki(a){return v2(a)||b2(a)||tb(a)||w2()}var S2=(function(){function a(n){Ke(this,a),this.reordered=n,this.holder=document.createElement("div"),this.holder.style.transformOrigin="0 0"}return Qe(a,[{key:"getPointerFrom",value:function(r){var s=this.holder.getBoundingClientRect(),l=s.left,u=s.top,d=r.clientX-l,h=r.clientY-u;return{x:d,y:h}}},{key:"add",value:function(r){this.holder.appendChild(r)}},{key:"reorder",value:(function(){var n=qe(fe.mark(function s(l,u){return fe.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(this.holder.contains(l)){h.next=2;break}throw new Error("content doesn't have 'target' for reordering");case 2:if(!(u!==null&&!this.holder.contains(u))){h.next=4;break}throw new Error("content doesn't have 'next' for reordering");case 4:return this.holder.insertBefore(l,u),h.next=7,this.reordered(l);case 7:case"end":return h.stop()}},s,this)}));function r(s,l){return n.apply(this,arguments)}return r})()},{key:"remove",value:function(r){this.holder.contains(r)&&this.holder.removeChild(r)}}])})();function nb(a,n){var r=function(d){n.move(d)},s=function(d){window.removeEventListener("pointermove",r),window.removeEventListener("pointerup",s),window.removeEventListener("pointercancel",s),n.up(d)},l=function(d){window.addEventListener("pointermove",r),window.addEventListener("pointerup",s),window.addEventListener("pointercancel",s),n.down(d)};return a.addEventListener("pointerdown",l),{destroy:function(){a.removeEventListener("pointerdown",l),window.removeEventListener("pointermove",r),window.removeEventListener("pointerup",s),window.removeEventListener("pointercancel",s)}}}var Wg=function(n){return n.length===0?0:Math.min.apply(Math,Ki(n))},ev=function(n){return n.length===0?0:Math.max.apply(Math,Ki(n))};function ab(a){var n=Wg(a.map(function(u){return u.position.x})),r=Wg(a.map(function(u){return u.position.y})),s=ev(a.map(function(u){return u.position.x+u.width})),l=ev(a.map(function(u){return u.position.y+u.height}));return{left:n,right:s,top:r,bottom:l,width:Math.abs(n-s),height:Math.abs(r-l),center:{x:(n+s)/2,y:(r+l)/2}}}function tv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function x2(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?tv(Object(r),!0).forEach(function(s){xe(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):tv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}var ih=(function(){function a(n){var r=this;Ke(this,a),xe(this,"down",function(s){r.guards.down(s)&&(s.stopPropagation(),r.pointerStart={x:s.pageX,y:s.pageY},r.startPosition=x2({},r.config.getCurrentPosition()),r.events.start(s))}),xe(this,"move",function(s){if(!(!r.pointerStart||!r.startPosition)&&r.guards.move(s)){s.preventDefault();var l={x:s.pageX-r.pointerStart.x,y:s.pageY-r.pointerStart.y},u=r.config.getZoom(),d=r.startPosition.x+l.x/u,h=r.startPosition.y+l.y/u;r.events.translate(d,h,s)}}),xe(this,"up",function(s){r.pointerStart&&(delete r.pointerStart,r.events.drag(s))}),this.guards=n||{down:function(l){return!(l.pointerType==="mouse"&&l.button!==0)},move:function(){return!0}}}return Qe(a,[{key:"initialize",value:function(r,s,l){this.config=s,this.events=l,r.style.touchAction="none",this.pointerListener=nb(r,{down:this.down,move:this.move,up:this.up})}},{key:"destroy",value:function(){this.pointerListener.destroy()}}])})(),rb=(function(){function a(n){var r=this;Ke(this,a),xe(this,"previous",null),xe(this,"pointers",[]),xe(this,"wheel",function(s){s.preventDefault();var l=r.element.getBoundingClientRect(),u=l.left,d=l.top,h=s.deltaY<0,p=h?r.intensity:-r.intensity,y=(u-s.clientX)*p,v=(d-s.clientY)*p;r.onzoom(p,y,v,"wheel")}),xe(this,"down",function(s){r.pointers.push(s)}),xe(this,"move",function(s){if(r.pointers=r.pointers.map(function(A){return A.pointerId===s.pointerId?s:A}),!!r.isTranslating()){var l=r.element.getBoundingClientRect(),u=l.left,d=l.top,h=r.getTouches(),p=h.cx,y=h.cy,v=h.distance;if(r.previous!==null&&r.previous.distance>0){var w=v/r.previous.distance-1,x=(u-p)*w,O=(d-y)*w;r.onzoom(w,x-(r.previous.cx-p),O-(r.previous.cy-y),"touch")}r.previous={cx:p,cy:y,distance:v}}}),xe(this,"contextmenu",function(){r.pointers=[]}),xe(this,"up",function(s){r.previous=null,r.pointers=r.pointers.filter(function(l){return l.pointerId!==s.pointerId})}),xe(this,"dblclick",function(s){s.preventDefault();var l=r.element.getBoundingClientRect(),u=l.left,d=l.top,h=4*r.intensity,p=(u-s.clientX)*h,y=(d-s.clientY)*h;r.onzoom(h,p,y,"dblclick")}),this.intensity=n}return Qe(a,[{key:"initialize",value:function(r,s,l){this.container=r,this.element=s,this.onzoom=l,this.container.addEventListener("wheel",this.wheel),this.container.addEventListener("pointerdown",this.down),this.container.addEventListener("dblclick",this.dblclick),window.addEventListener("pointermove",this.move),window.addEventListener("pointerup",this.up),window.addEventListener("pointercancel",this.up),window.addEventListener("contextmenu",this.contextmenu)}},{key:"getTouches",value:function(){var r={touches:this.pointers},s=[r.touches[0].clientX,r.touches[0].clientY],l=s[0],u=s[1],d=[r.touches[1].clientX,r.touches[1].clientY],h=d[0],p=d[1],y=Math.sqrt(Math.pow(l-h,2)+Math.pow(u-p,2));return{cx:(l+h)/2,cy:(u+p)/2,distance:y}}},{key:"isTranslating",value:function(){return this.pointers.length>=2}},{key:"destroy",value:function(){this.container.removeEventListener("wheel",this.wheel),this.container.removeEventListener("pointerdown",this.down),this.container.removeEventListener("dblclick",this.dblclick),window.removeEventListener("pointermove",this.move),window.removeEventListener("pointerup",this.up),window.removeEventListener("pointercancel",this.up),window.removeEventListener("contextmenu",this.contextmenu)}}])})(),ib=(function(){function a(n,r,s){var l=this;Ke(this,a),xe(this,"transform",{k:1,x:0,y:0}),xe(this,"pointer",{x:0,y:0}),xe(this,"zoomHandler",null),xe(this,"dragHandler",null),xe(this,"pointerdown",function(u){l.setPointerFrom(u),l.events.pointerDown(l.pointer,u)}),xe(this,"pointermove",function(u){l.setPointerFrom(u),l.events.pointerMove(l.pointer,u)}),xe(this,"pointerup",function(u){l.setPointerFrom(u),l.events.pointerUp(l.pointer,u)}),xe(this,"resize",function(u){l.events.resize(u)}),xe(this,"onTranslate",function(u,d){var h;(h=l.zoomHandler)!==null&&h!==void 0&&h.isTranslating()||l.translate(u,d)}),xe(this,"onZoom",function(u,d,h,p){l.zoom(l.transform.k*(1+u),d,h,p),l.update()}),this.container=n,this.events=r,this.guards=s,this.content=new S2(function(u){return l.events.reordered(u)}),this.content.holder.style.transformOrigin="0 0",this.setZoomHandler(new rb(.1)),this.setDragHandler(new ih),this.container.addEventListener("pointerdown",this.pointerdown),this.container.addEventListener("pointermove",this.pointermove),window.addEventListener("pointerup",this.pointerup),window.addEventListener("resize",this.resize),n.appendChild(this.content.holder),this.update()}return Qe(a,[{key:"update",value:function(){var r=this.transform,s=r.x,l=r.y,u=r.k;this.content.holder.style.transform="translate(".concat(s,"px, ").concat(l,"px) scale(").concat(u,")")}},{key:"setDragHandler",value:function(r){var s=this;this.dragHandler&&this.dragHandler.destroy(),this.dragHandler=r,this.dragHandler&&this.dragHandler.initialize(this.container,{getCurrentPosition:function(){return s.transform},getZoom:function(){return 1}},{start:function(){return null},translate:this.onTranslate,drag:function(){return null}})}},{key:"setZoomHandler",value:function(r){this.zoomHandler&&this.zoomHandler.destroy(),this.zoomHandler=r,this.zoomHandler&&this.zoomHandler.initialize(this.container,this.content.holder,this.onZoom)}},{key:"setPointerFrom",value:function(r){var s=this.content.getPointerFrom(r),l=s.x,u=s.y,d=this.transform.k;this.pointer={x:l/d,y:u/d}}},{key:"translate",value:(function(){var n=qe(fe.mark(function s(l,u){var d,h;return fe.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return d={x:l,y:u},y.next=3,this.guards.translate({previous:this.transform,position:d});case 3:if(h=y.sent,h){y.next=6;break}return y.abrupt("return",!1);case 6:return this.transform.x=h.data.position.x,this.transform.y=h.data.position.y,this.update(),y.next=11,this.events.translated(h.data);case 11:return y.abrupt("return",!0);case 12:case"end":return y.stop()}},s,this)}));function r(s,l){return n.apply(this,arguments)}return r})()},{key:"zoom",value:(function(){var n=qe(fe.mark(function s(l){var u,d,h,p,y,v,w=arguments;return fe.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return u=w.length>1&&w[1]!==void 0?w[1]:0,d=w.length>2&&w[2]!==void 0?w[2]:0,h=w.length>3?w[3]:void 0,p=this.transform.k,O.next=6,this.guards.zoom({previous:this.transform,zoom:l,source:h});case 6:if(y=O.sent,y){O.next=9;break}return O.abrupt("return",!0);case 9:return v=(p-y.data.zoom)/(p-l||1),this.transform.k=y.data.zoom||1,this.transform.x+=u*v,this.transform.y+=d*v,this.update(),O.next=16,this.events.zoomed(y.data);case 16:return O.abrupt("return",!1);case 17:case"end":return O.stop()}},s,this)}));function r(s){return n.apply(this,arguments)}return r})()},{key:"destroy",value:function(){this.container.removeEventListener("pointerdown",this.pointerdown),this.container.removeEventListener("pointermove",this.pointermove),window.removeEventListener("pointerup",this.pointerup),window.removeEventListener("resize",this.resize),this.dragHandler&&this.dragHandler.destroy(),this.zoomHandler&&this.zoomHandler.destroy(),this.content.holder.innerHTML=""}}])})();function E2(a,n,r){return n=gt(n),ya(a,sb()?Reflect.construct(n,r||[],gt(a).constructor):n.apply(a,r))}function sb(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sb=function(){return!!a})()}var fo=(function(a){function n(){return Ke(this,n),E2(this,n,arguments)}return vn(n,a),Qe(n)})(Fi),k2=Qe(function a(n){Ke(this,a),this.element=document.createElement("div"),this.element.style.position="absolute",this.element.style.left="0",this.element.style.top="0",this.element.addEventListener("contextmenu",function(r){return n.contextmenu(r)})}),C2=(function(){function a(){Ke(this,a),xe(this,"views",new WeakMap),xe(this,"viewsElements",new Map)}return Qe(a,[{key:"set",value:function(r){var s=r.element,l=r.type,u=r.payload;u!=null&&u.id&&(this.views.set(s,r),this.viewsElements.set("".concat(l,"_").concat(u.id),s))}},{key:"get",value:function(r,s){var l=this.viewsElements.get("".concat(r,"_").concat(s));return l&&this.views.get(l)}},{key:"delete",value:function(r){var s,l=this.views.get(r);l&&(s=l.payload)!==null&&s!==void 0&&s.id&&(this.views.delete(r),this.viewsElements.delete("".concat(l.type,"_").concat(l.payload.id)))}}])})();function nv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function av(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?nv(Object(r),!0).forEach(function(s){xe(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):nv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}var ob=(function(){function a(n,r,s){var l=this;Ke(this,a),xe(this,"translate",(function(){var u=qe(fe.mark(function d(h,p){var y,v;return fe.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return y=av({},l.position),x.next=3,l.guards.translate({previous:y,position:{x:h,y:p}});case 3:if(v=x.sent,v){x.next=6;break}return x.abrupt("return",!1);case 6:return l.position=av({},v.data.position),l.element.style.transform="translate(".concat(l.position.x,"px, ").concat(l.position.y,"px)"),x.next=10,l.events.translated({position:l.position,previous:y});case 10:return x.abrupt("return",!0);case 11:case"end":return x.stop()}},d)}));return function(d,h){return u.apply(this,arguments)}})()),xe(this,"resize",(function(){var u=qe(fe.mark(function d(h,p){var y,v;return fe.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return y={width:h,height:p},x.next=3,l.guards.resize({size:y});case 3:if(x.sent){x.next=5;break}return x.abrupt("return",!1);case 5:if(v=l.element.querySelector("*:not(span):not([fragment])"),!(!v||!(v instanceof HTMLElement))){x.next=8;break}return x.abrupt("return",!1);case 8:return v.style.width="".concat(h,"px"),v.style.height="".concat(p,"px"),x.next=12,l.events.resized({size:y});case 12:return x.abrupt("return",!0);case 13:case"end":return x.stop()}},d)}));return function(d,h){return u.apply(this,arguments)}})()),this.getZoom=n,this.events=r,this.guards=s,this.element=document.createElement("div"),this.element.style.position="absolute",this.position={x:0,y:0},this.translate(0,0),this.element.addEventListener("contextmenu",function(u){return l.events.contextmenu(u)}),this.dragHandler=new ih,this.dragHandler.initialize(this.element,{getCurrentPosition:function(){return l.position},getZoom:function(){return l.getZoom()}},{start:this.events.picked,translate:this.translate,drag:this.events.dragged})}return Qe(a,[{key:"destroy",value:function(){this.dragHandler.destroy()}}])})();function lb(a,n){return a.map(function(r){return{view:n.get(r.id),node:r}}).filter(function(r){return r.view}).map(function(r){var s=r.view,l=r.node,u=l.width,d=l.height;return typeof u<"u"&&typeof d<"u"?{position:s.position,width:u,height:d}:{position:s.position,width:s.element.clientWidth,height:s.element.clientHeight}})}function T2(a,n){var r=a.parentScope(mr),s=n.map(function(u){return Wt(u)==="object"?u:r.getNode(u)}),l=lb(s,a.nodeViews);return ab(l)}function O2(a){var n=a;n.addPipe(function(r){if(!r||Wt(r)!=="object"||!("type"in r))return r;if(r.type==="nodepicked"){var s=n.nodeViews.get(r.data.id),l=n.area.content;s&&l.reorder(s.element,null)}if(r.type==="connectioncreated"){var u=n.connectionViews.get(r.data.id),d=n.area.content;u&&d.reorder(u.element,d.holder.firstChild)}return r})}function rv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function Ra(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?rv(Object(r),!0).forEach(function(s){xe(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):rv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function N2(a,n){var r=n!=null&&n.scaling?n.scaling===!0?{min:.1,max:1}:n.scaling:!1,s=n!=null&&n.translation?n.translation===!0?{left:0,top:0,right:1e3,bottom:1e3}:n.translation:!1;function l(d){if(!r)throw new Error("scaling param isnt defined");var h=typeof r=="function"?r():r,p=h.min,y=h.max;return d<p?p:d>y?y:d}function u(d){if(!s)throw new Error("translation param isnt defined");var h=Ra({},d),p=typeof s=="function"?s():s,y=p.left,v=p.top,w=p.right,x=p.bottom;return h.x<y&&(h.x=y),h.x>w&&(h.x=w),h.y<v&&(h.y=v),h.y>x&&(h.y=x),h}a.addPipe(function(d){if(!d||Wt(d)!=="object"||!("type"in d))return d;if(r&&d.type==="zoom")return Ra(Ra({},d),{},{data:Ra(Ra({},d.data),{},{zoom:l(d.data.zoom)})});if(s&&d.type==="zoomed"){var h=u(a.area.transform);a.area.translate(h.x,h.y)}return s&&d.type==="translate"?Ra(Ra({},d),{},{data:Ra(Ra({},d.data),{},{position:u(d.data.position)})}):d})}function j2(){var a=!1;function n(s){(s.key==="Control"||s.key==="Meta")&&(a=!0)}function r(s){(s.key==="Control"||s.key==="Meta")&&(a=!1)}return document.addEventListener("keydown",n),document.addEventListener("keyup",r),{active:function(){return a},destroy:function(){document.removeEventListener("keydown",n),document.removeEventListener("keyup",r)}}}var ub=(function(){function a(){Ke(this,a),xe(this,"entities",new Map),xe(this,"pickId",null)}return Qe(a,[{key:"isSelected",value:function(r){return this.entities.has("".concat(r.label,"_").concat(r.id))}},{key:"add",value:(function(){var n=qe(fe.mark(function s(l,u){return fe.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(u){h.next=3;break}return h.next=3,this.unselectAll();case 3:this.entities.set("".concat(l.label,"_").concat(l.id),l);case 4:case"end":return h.stop()}},s,this)}));function r(s,l){return n.apply(this,arguments)}return r})()},{key:"remove",value:(function(){var n=qe(fe.mark(function s(l){var u,d;return fe.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(u="".concat(l.label,"_").concat(l.id),d=this.entities.get(u),!d){p.next=6;break}return this.entities.delete(u),p.next=6,d.unselect();case 6:case"end":return p.stop()}},s,this)}));function r(s){return n.apply(this,arguments)}return r})()},{key:"unselectAll",value:(function(){var n=qe(fe.mark(function s(){var l=this;return fe.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Promise.all(Ki(Array.from(this.entities.values())).map(function(h){return l.remove(h)}));case 2:case"end":return d.stop()}},s,this)}));function r(){return n.apply(this,arguments)}return r})()},{key:"translate",value:(function(){var n=qe(fe.mark(function s(l,u){var d=this;return fe.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,Promise.all(Array.from(this.entities.values()).map(function(y){return!d.isPicked(y)&&y.translate(l,u)}));case 2:case"end":return p.stop()}},s,this)}));function r(s,l){return n.apply(this,arguments)}return r})()},{key:"pick",value:function(r){this.pickId="".concat(r.label,"_").concat(r.id)}},{key:"release",value:function(){this.pickId=null}},{key:"isPicked",value:function(r){return this.pickId==="".concat(r.label,"_").concat(r.id)}}])})();function _2(){return new ub}function A2(a,n,r){var s=null,l=a,u=function(){return s||(s=l.parentScope(mr))},d=0;function h(O){O.selected||(O.selected=!0,l.update("node",O.id))}function p(O){O.selected&&(O.selected=!1,l.update("node",O.id))}function y(O,A){return v.apply(this,arguments)}function v(){return v=qe(fe.mark(function O(A,P){var I;return fe.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(I=u().getNode(A),I){F.next=3;break}return F.abrupt("return");case 3:return F.next=5,n.add({label:"node",id:I.id,translate:function(Z,ie){return qe(fe.mark(function le(){var q,oe;return fe.wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(q=l.nodeViews.get(I.id),oe=q?.position,!oe){J.next=5;break}return J.next=5,q.translate(oe.x+Z,oe.y+ie);case 5:case"end":return J.stop()}},le)}))()},unselect:function(){p(I)}},P);case 5:h(I);case 6:case"end":return F.stop()}},O)})),v.apply(this,arguments)}function w(O){return x.apply(this,arguments)}function x(){return x=qe(fe.mark(function O(A){return fe.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,n.remove({id:A,label:"node"});case 2:case"end":return I.stop()}},O)})),x.apply(this,arguments)}return l.addPipe((function(){var O=qe(fe.mark(function A(P){var I,K,F,Y,Z,ie,le,q;return fe.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(!(!P||Wt(P)!=="object"||!("type"in P))){U.next=2;break}return U.abrupt("return",P);case 2:if(P.type!=="nodepicked"){U.next=11;break}return I=P.data.id,K=r.accumulating.active(),n.pick({id:I,label:"node"}),d=null,U.next=9,y(I,K);case 9:U.next=33;break;case 11:if(P.type!=="nodetranslated"){U.next=20;break}if(F=P.data,Y=F.id,Z=F.position,ie=F.previous,le=Z.x-ie.x,q=Z.y-ie.y,!n.isPicked({id:Y,label:"node"})){U.next=18;break}return U.next=18,n.translate(le,q);case 18:U.next=33;break;case 20:if(P.type!=="pointerdown"){U.next=24;break}d=0,U.next=33;break;case 24:if(P.type!=="pointermove"){U.next=28;break}d!==null&&d++,U.next=33;break;case 28:if(P.type!=="pointerup"){U.next=33;break}if(!(d!==null&&d<4)){U.next=32;break}return U.next=32,n.unselectAll();case 32:d=null;case 33:return U.abrupt("return",P);case 34:case"end":return U.stop()}},A)}));return function(A){return O.apply(this,arguments)}})()),{select:y,unselect:w}}function D2(a,n){var r=null,s=function(){return r||(r=a.parentScope(mr))};function l(u,d){var h=s().getNode(u);if(h){var p=h.inputs[d];if(!p)throw new Error("cannot find input");var y=p.showControl,v=s().getConnections(),w=!!v.find(function(x){return x.target===u&&x.targetInput===d});p.showControl=n?n({hasAnyConnection:w,input:p}):!w,p.showControl!==y&&a.update("node",h.id)}}a.addPipe(function(u){return(u.type==="connectioncreated"||u.type==="connectionremoved")&&l(u.data.target,u.data.targetInput),u})}function iv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function Dl(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?iv(Object(r),!0).forEach(function(s){xe(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):iv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function M2(a,n){var r=a,s=typeof n?.size>"u"?16:n.size,l=typeof n?.dynamic>"u"?!0:n.dynamic;function u(d){return Math.round(d/s)*s}r.addPipe(function(d){if(!d||Wt(d)!=="object"||!("type"in d))return d;if(l&&d.type==="nodetranslate"){var h=d.data.position,p=u(h.x),y=u(h.y);return Dl(Dl({},d),{},{data:Dl(Dl({},d.data),{},{position:{x:p,y}})})}if(!l&&d.type==="nodedragged"){var v=r.nodeViews.get(d.data.id);if(v){var w=v.position,x=w.x,O=w.y;v.translate(u(x),u(O))}}return d})}function z2(a,n,r){return Sd.apply(this,arguments)}function Sd(){return Sd=qe(fe.mark(function a(n,r,s){var l,u,d,h,p,y,v,w,x,O,A,P,I;return fe.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return l=s||{},u=l.scale,d=u===void 0?.9:u,h=n.parentScope(mr),p=r.map(function(Y){return Wt(Y)==="object"?Y:h.getNode(Y)}),y=lb(p,n.nodeViews),v=ab(y),w=[n.container.clientWidth,n.container.clientHeight],x=w[0],O=w[1],A=x/v.width,P=O/v.height,I=Math.min(P*d,A*d,1),n.area.transform.x=x/2-v.center.x*I,n.area.transform.y=O/2-v.center.y*I,F.next=12,n.area.zoom(I,0,0);case 12:case"end":return F.stop()}},a)})),Sd.apply(this,arguments)}var Ur=Object.freeze({__proto__:null,getBoundingBox:T2,simpleNodesOrder:O2,restrictor:N2,accumulateOnCtrl:j2,selectableNodes:A2,Selector:ub,selector:_2,showInputControl:D2,snapGrid:M2,zoomAt:z2});function sv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function ov(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?sv(Object(r),!0).forEach(function(s){xe(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):sv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function R2(a,n,r){return n=gt(n),ya(a,cb()?Reflect.construct(n,r||[],gt(a).constructor):n.apply(a,r))}function cb(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cb=function(){return!!a})()}var fb=(function(a){function n(r){var s;return Ke(this,n),s=R2(this,n,["area"]),xe(s,"nodeViews",new Map),xe(s,"connectionViews",new Map),xe(s,"elements",new C2),xe(s,"onContextMenu",function(l){s.emit({type:"contextmenu",data:{event:l,context:"root"}})}),s.container=r,r.style.overflow="hidden",r.addEventListener("contextmenu",s.onContextMenu),s.addPipe(function(l){return!l||!(Wt(l)==="object"&&"type"in l)||(l.type==="nodecreated"&&s.addNodeView(l.data),l.type==="noderemoved"&&s.removeNodeView(l.data.id),l.type==="connectioncreated"&&s.addConnectionView(l.data),l.type==="connectionremoved"&&s.removeConnectionView(l.data.id),l.type==="render"&&s.elements.set(l.data),l.type==="unmount"&&s.elements.delete(l.data.element)),l}),s.area=new ib(r,{zoomed:function(u){return s.emit({type:"zoomed",data:u})},pointerDown:function(u,d){return void s.emit({type:"pointerdown",data:{position:u,event:d}})},pointerMove:function(u,d){return void s.emit({type:"pointermove",data:{position:u,event:d}})},pointerUp:function(u,d){return void s.emit({type:"pointerup",data:{position:u,event:d}})},resize:function(u){return void s.emit({type:"resized",data:{event:u}})},translated:function(u){return s.emit({type:"translated",data:u})},reordered:function(u){return s.emit({type:"reordered",data:{element:u}})}},{translate:function(u){return s.emit({type:"translate",data:u})},zoom:function(u){return s.emit({type:"zoom",data:u})}}),s}return vn(n,a),Qe(n,[{key:"addNodeView",value:function(s){var l=this,u=s.id,d=new ob(function(){return l.area.transform.k},{picked:function(){return void l.emit({type:"nodepicked",data:{id:u}})},translated:function(p){return l.emit({type:"nodetranslated",data:ov({id:u},p)})},dragged:function(){return void l.emit({type:"nodedragged",data:s})},contextmenu:function(p){return void l.emit({type:"contextmenu",data:{event:p,context:s}})},resized:function(p){var y=p.size;return l.emit({type:"noderesized",data:{id:s.id,size:y}})}},{translate:function(p){return l.emit({type:"nodetranslate",data:ov({id:u},p)})},resize:function(p){var y=p.size;return l.emit({type:"noderesize",data:{id:s.id,size:y}})}});return this.nodeViews.set(u,d),this.area.content.add(d.element),this.emit({type:"render",data:{element:d.element,type:"node",payload:s}}),d}},{key:"removeNodeView",value:function(s){var l=this.nodeViews.get(s);l&&(this.emit({type:"unmount",data:{element:l.element}}),this.nodeViews.delete(s),this.area.content.remove(l.element))}},{key:"addConnectionView",value:function(s){var l=this,u=new k2({contextmenu:function(h){return void l.emit({type:"contextmenu",data:{event:h,context:s}})}});return this.connectionViews.set(s.id,u),this.area.content.add(u.element),this.emit({type:"render",data:{element:u.element,type:"connection",payload:s}}),u}},{key:"removeConnectionView",value:function(s){var l=this.connectionViews.get(s);l&&(this.emit({type:"unmount",data:{element:l.element}}),this.connectionViews.delete(s),this.area.content.remove(l.element))}},{key:"update",value:(function(){var r=qe(fe.mark(function l(u,d){var h;return fe.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(h=this.elements.get(u,d),!h){y.next=4;break}return y.next=4,this.emit({type:"render",data:h});case 4:case"end":return y.stop()}},l,this)}));function s(l,u){return r.apply(this,arguments)}return s})()},{key:"resize",value:(function(){var r=qe(fe.mark(function l(u,d,h){var p;return fe.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(p=this.nodeViews.get(u),!p){v.next=5;break}return v.next=4,p.resize(d,h);case 4:return v.abrupt("return",v.sent);case 5:case"end":return v.stop()}},l,this)}));function s(l,u,d){return r.apply(this,arguments)}return s})()},{key:"translate",value:(function(){var r=qe(fe.mark(function l(u,d){var h,p,y;return fe.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(h=d.x,p=d.y,y=this.nodeViews.get(u),!y){w.next=6;break}return w.next=5,y.translate(h,p);case 5:return w.abrupt("return",w.sent);case 6:case"end":return w.stop()}},l,this)}));function s(l,u){return r.apply(this,arguments)}return s})()},{key:"destroy",value:function(){var s=this;this.container.removeEventListener("contextmenu",this.onContextMenu),Array.from(this.connectionViews.keys()).forEach(function(l){return s.removeConnectionView(l)}),Array.from(this.nodeViews.keys()).forEach(function(l){return s.removeNodeView(l)}),this.area.destroy()}}])})(fo);const lv=Object.freeze(Object.defineProperty({__proto__:null,Area:ib,AreaExtensions:Ur,AreaPlugin:fb,BaseAreaPlugin:fo,Drag:ih,NodeView:ob,Zoom:rb,usePointerListener:nb},Symbol.toStringTag,{value:"Module"}));function L2(a,n){for(;!{}.hasOwnProperty.call(a,n)&&(a=gt(a))!==null;);return a}function lo(){return lo=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(a,n,r){var s=L2(a,n);if(s){var l=Object.getOwnPropertyDescriptor(s,n);return l.get?l.get.call(arguments.length<3?a:r):l.value}},lo.apply(null,arguments)}function B2(a){if(Array.isArray(a))return a}function U2(a,n){var r=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(r!=null){var s,l,u,d,h=[],p=!0,y=!1;try{if(u=(r=r.call(a)).next,n!==0)for(;!(p=(s=u.call(r)).done)&&(h.push(s.value),h.length!==n);p=!0);}catch(v){y=!0,l=v}finally{try{if(!p&&r.return!=null&&(d=r.return(),Object(d)!==d))return}finally{if(y)throw l}}return h}}function H2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ln(a,n){return B2(a)||U2(a,n)||tb(a,n)||H2()}function uv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function Wf(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?uv(Object(r),!0).forEach(function(s){xe(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):uv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function $2(a){var n=null,r=null;function s(u){r&&u.removeConnectionView(r),n=null,r=null}function l(u){s(u),r="pseudo_".concat(yr())}return{isMounted:function(){return!!r},mount:l,render:function(d,h,p){var y=h.x,v=h.y,w=p.side==="output",x={x:y+(w?-3:3),y:v};if(!r)throw new Error("pseudo connection id wasn't generated");var O=w?Wf({id:r,source:p.nodeId,sourceOutput:p.key,target:"",targetInput:""},a??{}):Wf({id:r,target:p.nodeId,targetInput:p.key,source:"",sourceOutput:""},a??{});if(!n){var A=d.addConnectionView(O);n=A.element}n&&d.emit({type:"render",data:Wf({element:n,type:"connection",payload:O},w?{end:x}:{start:x})})},unmount:s}}function V2(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=I2(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(y){throw y},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,d=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var y=r.next();return d=y.done,y},e:function(y){h=!0,u=y},f:function(){try{d||r.return==null||r.return()}finally{if(h)throw u}}}}function I2(a,n){if(a){if(typeof a=="string")return cv(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?cv(a,n):void 0}}function cv(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function q2(a,n){var r=V2(n),s;try{for(r.s();!(s=r.n()).done;){var l=s.value,u=a.get(l);if(u)return u}}catch(d){r.e(d)}finally{r.f()}}function db(a,n){var r,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document,l=s.elementsFromPoint(a,n),u=(r=l[0])===null||r===void 0?void 0:r.shadowRoot;return u&&u!==s&&l.unshift.apply(l,Ki(db(a,n,u))),l}var sh=(function(){function a(){Ke(this,a)}return Qe(a,[{key:"setContext",value:function(r){this.context=r}}])})();function hb(a,n){var r=a.side==="output"&&n.side==="input",s=a.side==="input"&&n.side==="output",l=r?[a,n]:s?[n,a]:[],u=ln(l,2),d=u[0],h=u[1];if(d&&h)return[d,h]}function Y2(a,n){return!!hb(a,n)}function G2(a,n,r){var s=hb(a,n)||[null,null],l=ln(s,2),u=l[0],d=l[1];if(u&&d)return r.editor.addConnection({id:yr(),source:u.nodeId,sourceOutput:u.key,target:d.nodeId,targetInput:d.key}),!0}function Z2(a,n){var r=n.getNode(a.nodeId);if(!r)throw new Error("cannot find node");var s=a.side==="input"?r.inputs:r.outputs;return s[a.key]}function X2(a,n){var r=a.nodeId,s=a.side,l=a.key;return n.getConnections().filter(function(u){if(s==="input")return u.target===r&&u.targetInput===l;if(s==="output")return u.source===r&&u.sourceOutput===l})}function xd(a,n){var r=a.map(function(s){var l=Z2(s,n),u=l?.multipleConnections;return u?[]:X2(s,n)}).flat();return{commit:function(){var l=Array.from(new Set(r.map(function(u){var d=u.id;return d})));l.forEach(function(u){return void n.removeConnection(u)})}}}function oh(a,n,r){return n=gt(n),ya(a,pb()?Reflect.construct(n,[],gt(a).constructor):n.apply(a,r))}function pb(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pb=function(){return!!a})()}var F2=(function(a){function n(r,s){var l;return Ke(this,n),l=oh(this,n),l.initial=r,l.params=s,l}return vn(n,a),Qe(n,[{key:"pick",value:(function(){var r=qe(fe.mark(function l(u,d){var h,p;return fe.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:h=u.socket,this.params.canMakeConnection(this.initial,h)&&(xd([this.initial,h],d.editor).commit(),p=this.params.makeConnection(this.initial,h,d),this.drop(d,p?h:null,p));case 2:case"end":return v.stop()}},l,this)}));function s(l,u){return r.apply(this,arguments)}return s})()},{key:"drop",value:function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.initial&&s.scope.emit({type:"connectiondrop",data:{initial:this.initial,socket:l,created:u}}),this.context.switchTo(new lh(this.params))}}])})(sh),K2=(function(a){function n(r,s,l){var u;Ke(this,n),u=oh(this,n),u.connection=r,u.params=s;var d=Array.from(l.socketsCache.values()).find(function(h){return h.nodeId===u.connection.source&&h.side==="output"&&h.key===u.connection.sourceOutput});if(!d)throw new Error("cannot find output socket");return u.outputSocket=d,u}return vn(n,a),Qe(n,[{key:"init",value:(function(){var r=qe(fe.mark(function l(u){var d=this;return fe.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:u.scope.emit({type:"connectionpick",data:{socket:this.outputSocket}}).then(function(y){y?(u.editor.removeConnection(d.connection.id),d.initial=d.outputSocket):d.drop(u)});case 1:case"end":return p.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"pick",value:(function(){var r=qe(fe.mark(function l(u,d){var h,p,y,v,w,x;return fe.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:h=u.socket,p=u.event,this.initial&&!(h.side==="input"&&this.connection.target===h.nodeId&&this.connection.targetInput===h.key)?this.params.canMakeConnection(this.initial,h)&&(xd([this.initial,h],d.editor).commit(),y=this.params.makeConnection(this.initial,h,d),v=y?h:null,this.drop(d,v,y)):p==="down"&&this.initial&&(xd([this.initial,h],d.editor).commit(),w=this.params.makeConnection(this.initial,h,d),x=w?null:h,this.drop(d,x,w));case 2:case"end":return A.stop()}},l,this)}));function s(l,u){return r.apply(this,arguments)}return s})()},{key:"drop",value:function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.initial&&s.scope.emit({type:"connectiondrop",data:{initial:this.initial,socket:l,created:u}}),this.context.switchTo(new lh(this.params))}}])})(sh),lh=(function(a){function n(r){var s;return Ke(this,n),s=oh(this,n),s.params=r,s}return vn(n,a),Qe(n,[{key:"pick",value:(function(){var r=qe(fe.mark(function l(u,d){var h,p,y,v;return fe.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(h=u.socket,p=u.event,p==="down"){x.next=3;break}return x.abrupt("return");case 3:if(h.side!=="input"){x.next=11;break}if(y=d.editor.getConnections().find(function(O){return O.target===h.nodeId&&O.targetInput===h.key}),!y){x.next=11;break}return v=new K2(y,this.params,d),x.next=9,v.init(d);case 9:return this.context.switchTo(v),x.abrupt("return");case 11:return x.next=13,d.scope.emit({type:"connectionpick",data:{socket:h}});case 13:if(!x.sent){x.next=17;break}this.context.switchTo(new F2(h,this.params)),x.next=18;break;case 17:this.drop(d);case 18:case"end":return x.stop()}},l,this)}));function s(l,u){return r.apply(this,arguments)}return s})()},{key:"drop",value:function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.initial&&s.scope.emit({type:"connectiondrop",data:{initial:this.initial,socket:l,created:u}}),delete this.initial}}])})(sh),Q2=(function(){function a(n){Ke(this,a);var r=n?.canMakeConnection||Y2,s=n?.makeConnection||G2;this.switchTo(new lh({canMakeConnection:r,makeConnection:s}))}return Qe(a,[{key:"pick",value:(function(){var n=qe(fe.mark(function s(l,u){return fe.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.currentState.pick(l,u);case 2:case"end":return h.stop()}},s,this)}));function r(s,l){return n.apply(this,arguments)}return r})()},{key:"getPickedSocket",value:function(){return this.currentState.initial}},{key:"switchTo",value:function(r){r.setContext(this),this.currentState=r}},{key:"drop",value:function(r){this.currentState.drop(r)}}])})();function P2(){return function(){return new Q2}}var J2=Object.freeze({__proto__:null,setup:P2}),W2=Object.freeze({__proto__:null,classic:J2});function eE(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=tE(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(y){throw y},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,d=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var y=r.next();return d=y.done,y},e:function(y){h=!0,u=y},f:function(){try{d||r.return==null||r.return()}finally{if(h)throw u}}}}function tE(a,n){if(a){if(typeof a=="string")return fv(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fv(a,n):void 0}}function fv(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function nE(a,n,r){return n=gt(n),ya(a,mb()?Reflect.construct(n,r||[],gt(a).constructor):n.apply(a,r))}function mb(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mb=function(){return!!a})()}function aE(a,n,r,s){var l=lo(gt(a.prototype),n,r);return typeof l=="function"?function(u){return l.apply(r,u)}:l}var rE=(function(a){function n(){var r;return Ke(this,n),r=nE(this,n,["connection"]),xe(r,"presets",[]),xe(r,"currentFlow",null),xe(r,"preudoconnection",$2({isPseudo:!0})),xe(r,"socketsCache",new Map),r}return vn(n,a),Qe(n,[{key:"addPreset",value:function(s){this.presets.push(s)}},{key:"findPreset",value:function(s){var l=eE(this.presets),u;try{for(l.s();!(u=l.n()).done;){var d=u.value,h=d(s);if(h)return h}}catch(p){l.e(p)}finally{l.f()}return null}},{key:"update",value:function(){if(this.currentFlow){var s=this.currentFlow.getPickedSocket();s&&this.preudoconnection.render(this.areaPlugin,this.areaPlugin.area.pointer,s)}}},{key:"drop",value:function(){var s={editor:this.editor,scope:this,socketsCache:this.socketsCache};this.currentFlow&&(this.currentFlow.drop(s),this.preudoconnection.unmount(this.areaPlugin),this.currentFlow=null)}},{key:"pick",value:(function(){var r=qe(fe.mark(function l(u,d){var h,p,y;return fe.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(h={editor:this.editor,scope:this,socketsCache:this.socketsCache},p=db(u.clientX,u.clientY),y=q2(this.socketsCache,p),!y){w.next=13;break}if(u.preventDefault(),u.stopPropagation(),this.currentFlow=this.currentFlow||this.findPreset(y),!this.currentFlow){w.next=11;break}return w.next=10,this.currentFlow.pick({socket:y,event:d},h);case 10:this.preudoconnection.mount(this.areaPlugin);case 11:w.next=14;break;case 13:this.currentFlow&&this.currentFlow.drop(h);case 14:this.currentFlow&&!this.currentFlow.getPickedSocket()&&(this.preudoconnection.unmount(this.areaPlugin),this.currentFlow=null),this.update();case 16:case"end":return w.stop()}},l,this)}));function s(l,u){return r.apply(this,arguments)}return s})()},{key:"setParent",value:function(s){var l=this;aE(n,"setParent",this)([s]),this.areaPlugin=this.parentScope(fo),this.editor=this.areaPlugin.parentScope(mr);var u=function(h){l.pick(h,"down")};this.addPipe(function(d){if(!d||Wt(d)!=="object"||!("type"in d))return d;if(d.type==="pointermove")l.update();else if(d.type==="pointerup")l.pick(d.data.event,"up");else if(d.type==="render"){if(d.data.type==="socket"){var h=d.data.element;h.addEventListener("pointerdown",u),l.socketsCache.set(h,d.data)}}else if(d.type==="unmount"){var p=d.data.element;p.removeEventListener("pointerdown",u),l.socketsCache.delete(p)}return d})}}])})(Fi),Hr=q0();const uh=th(Hr),dv=I0({__proto__:null,default:uh},[Hr]);function iE(a,n){var r=ln(a,2),s=r[0],l=s.x,u=s.y,d=r[1],h=d.x,p=d.y,y=Math.abs(u-p),v=l+Math.max(y/2,Math.abs(h-l))*n,w=h-Math.max(y/2,Math.abs(h-l))*n;return"M ".concat(l," ").concat(u," C ").concat(v," ").concat(u," ").concat(w," ").concat(p," ").concat(h," ").concat(p)}function sE(a,n,r){var s=ln(a,2),l=s[0],u=l.x,d=l.y,h=s[1],p=h.x,y=h.y,v=y>d?1:-1,w=r+Math.abs(u-p)/(r/2),x=(u+p)/2,O=d-v*w,A=(y-d)*n;return`
        M `.concat(u," ").concat(d,`
        C `).concat(u+w," ").concat(d,`
        `).concat(u+w," ").concat(O-A,`
        `).concat(x," ").concat(O,`
        C `).concat(p-w," ").concat(O+A,`
        `).concat(p-w," ").concat(y,`
        `).concat(p," ").concat(y,`
    `)}function oE(a,n){return Ed.apply(this,arguments)}function Ed(){return Ed=qe(fe.mark(function a(n,r){var s,l,u,d,h;return fe.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(n.offsetParent){y.next=5;break}return y.next=3,new Promise(function(v){return setTimeout(v,0)});case 3:y.next=0;break;case 5:if(s=n.offsetLeft,l=n.offsetTop,u=n.offsetParent,u){y.next=10;break}throw new Error("child has null offsetParent");case 10:for(;u!==null&&u!==r;)s+=u.offsetLeft+u.clientLeft,l+=u.offsetTop+u.clientTop,u=u.offsetParent;return d=n.offsetWidth,h=n.offsetHeight,y.abrupt("return",{x:s+d/2,y:l+h/2});case 14:case"end":return y.stop()}},a)})),Ed.apply(this,arguments)}var lE=(function(){function a(){Ke(this,a),xe(this,"listeners",new Set)}return Qe(a,[{key:"emit",value:function(r){this.listeners.forEach(function(s){s(r)})}},{key:"listen",value:function(r){var s=this;return this.listeners.add(r),function(){s.listeners.delete(r)}}}])})(),uE=(function(){function a(){Ke(this,a),xe(this,"elements",new Map)}return Qe(a,[{key:"getPosition",value:function(r){var s,l,u=Array.from(this.elements.values()).flat(),d=u.filter(function(h){return h.side===r.side&&h.nodeId===r.nodeId&&h.key===r.key});return d.length>1&&console.warn(["Found more than one element for socket with same key and side.","Probably it was not unmounted correctly"].join(" "),r),(s=(l=d.pop())===null||l===void 0?void 0:l.position)!==null&&s!==void 0?s:null}},{key:"add",value:function(r){var s=this.elements.get(r.element);this.elements.set(r.element,s?[].concat(Ki(s.filter(function(l){return!(l.nodeId===r.nodeId&&l.key===r.key&&l.side===r.side)})),[r]):[r])}},{key:"remove",value:function(r){this.elements.delete(r)}},{key:"snapshot",value:function(){return Array.from(this.elements.values()).flat()}}])})(),cE=(function(){function a(){Ke(this,a),xe(this,"sockets",new uE),xe(this,"emitter",new lE),xe(this,"area",null)}return Qe(a,[{key:"attach",value:function(r){var s=this;this.area||r.hasParent()&&(this.area=r.parentScope(fo),this.area.addPipe((function(){var l=qe(fe.mark(function u(d){var h,p,y,v,w,x,O,A,P,I,K;return fe.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(!(d.type==="rendered"&&d.data.type==="socket")){Y.next=8;break}return h=d.data,p=h.nodeId,y=h.key,v=h.side,w=h.element,Y.next=4,s.calculatePosition(p,v,y,w);case 4:x=Y.sent,x&&(s.sockets.add({nodeId:p,key:y,side:v,element:w,position:x}),s.emitter.emit({nodeId:p,key:y,side:v})),Y.next=24;break;case 8:if(d.type!=="unmount"){Y.next=12;break}s.sockets.remove(d.data.element),Y.next=24;break;case 12:if(d.type!=="nodetranslated"){Y.next=16;break}s.emitter.emit({nodeId:d.data.id}),Y.next=24;break;case 16:if(d.type!=="noderesized"){Y.next=23;break}return O=d.data.id,Y.next=20,Promise.all(s.sockets.snapshot().filter(function(Z){return Z.nodeId===d.data.id&&Z.side==="output"}).map((function(){var Z=qe(fe.mark(function ie(le){var q,oe,U,J;return fe.wrap(function(we){for(;;)switch(we.prev=we.next){case 0:return q=le.side,oe=le.key,U=le.element,we.next=3,s.calculatePosition(O,q,oe,U);case 3:J=we.sent,J&&(le.position=J);case 5:case"end":return we.stop()}},ie)}));return function(ie){return Z.apply(this,arguments)}})()));case 20:s.emitter.emit({nodeId:O}),Y.next=24;break;case 23:d.type==="render"&&d.data.type==="connection"&&(A=d.data.payload,P=A.source,I=A.target,K=P||I,s.emitter.emit({nodeId:K}));case 24:return Y.abrupt("return",d);case 25:case"end":return Y.stop()}},u)}));return function(u){return l.apply(this,arguments)}})()))}},{key:"listen",value:function(r,s,l,u){var d=this,h=this.emitter.listen(function(p){if(p.nodeId===r&&(!p.key||p.side===s)&&(!p.side||p.key===l)){var y,v=d.sockets.getPosition({side:s,nodeId:r,key:l});if(!v)return;var w=v.x,x=v.y,O=(y=d.area)===null||y===void 0?void 0:y.nodeViews.get(r);O&&u({x:w+O.position.x,y:x+O.position.y})}});return this.sockets.snapshot().forEach(function(p){p.nodeId===r&&d.emitter.emit(p)}),h}}])})();function fE(a,n,r){return n=gt(n),ya(a,yb()?Reflect.construct(n,[],gt(a).constructor):n.apply(a,r))}function yb(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yb=function(){return!!a})()}var dE=(function(a){function n(r){var s;return Ke(this,n),s=fE(this,n),s.props=r,s}return vn(n,a),Qe(n,[{key:"calculatePosition",value:(function(){var r=qe(fe.mark(function l(u,d,h,p){var y,v,w,x;return fe.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(w=(y=this.area)===null||y===void 0?void 0:y.nodeViews.get(u),w!=null&&w.element){A.next=3;break}return A.abrupt("return",null);case 3:return A.next=5,oE(p,w.element);case 5:if(x=A.sent,!((v=this.props)!==null&&v!==void 0&&v.offset)){A.next=8;break}return A.abrupt("return",this.props.offset(x,u,d,h));case 8:return A.abrupt("return",{x:x.x+12*(d==="input"?-1:1),y:x.y});case 9:case"end":return A.stop()}},l,this)}));function s(l,u,d,h){return r.apply(this,arguments)}return s})()}])})(cE);function hE(a){return new dE(a)}function en(a,n){return n||(n=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(n)}}))}var gn=function(){return gn=Object.assign||function(n){for(var r,s=1,l=arguments.length;s<l;s++){r=arguments[s];for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&(n[u]=r[u])}return n},gn.apply(this,arguments)};function au(a,n,r){if(r||arguments.length===2)for(var s=0,l=n.length,u;s<l;s++)(u||!(s in n))&&(u||(u=Array.prototype.slice.call(n,0,s)),u[s]=n[s]);return a.concat(u||Array.prototype.slice.call(n))}var St="-ms-",ro="-moz-",ot="-webkit-",gb="comm",fu="rule",ch="decl",pE="@import",vb="@keyframes",mE="@layer",bb=Math.abs,fh=String.fromCharCode,kd=Object.assign;function yE(a,n){return Gt(a,0)^45?(((n<<2^Gt(a,0))<<2^Gt(a,1))<<2^Gt(a,2))<<2^Gt(a,3):0}function wb(a){return a.trim()}function Ba(a,n){return(a=n.exec(a))?a[0]:a}function Ie(a,n,r){return a.replace(n,r)}function Gl(a,n,r){return a.indexOf(n,r)}function Gt(a,n){return a.charCodeAt(n)|0}function Vi(a,n,r){return a.slice(n,r)}function ca(a){return a.length}function Sb(a){return a.length}function Js(a,n){return n.push(a),a}function gE(a,n){return a.map(n).join("")}function hv(a,n){return a.filter(function(r){return!Ba(r,n)})}var du=1,Ii=1,xb=0,Fn=0,Ht=0,Qi="";function hu(a,n,r,s,l,u,d,h){return{value:a,root:n,parent:r,type:s,props:l,children:u,line:du,column:Ii,length:d,return:"",siblings:h}}function cr(a,n){return kd(hu("",null,null,"",null,null,0,a.siblings),a,{length:-a.length},n)}function Di(a){for(;a.root;)a=cr(a.root,{children:[a]});Js(a,a.siblings)}function vE(){return Ht}function bE(){return Ht=Fn>0?Gt(Qi,--Fn):0,Ii--,Ht===10&&(Ii=1,du--),Ht}function na(){return Ht=Fn<xb?Gt(Qi,Fn++):0,Ii++,Ht===10&&(Ii=1,du++),Ht}function Ir(){return Gt(Qi,Fn)}function Zl(){return Fn}function pu(a,n){return Vi(Qi,a,n)}function Cd(a){switch(a){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function wE(a){return du=Ii=1,xb=ca(Qi=a),Fn=0,[]}function SE(a){return Qi="",a}function ed(a){return wb(pu(Fn-1,Td(a===91?a+2:a===40?a+1:a)))}function xE(a){for(;(Ht=Ir())&&Ht<33;)na();return Cd(a)>2||Cd(Ht)>3?"":" "}function EE(a,n){for(;--n&&na()&&!(Ht<48||Ht>102||Ht>57&&Ht<65||Ht>70&&Ht<97););return pu(a,Zl()+(n<6&&Ir()==32&&na()==32))}function Td(a){for(;na();)switch(Ht){case a:return Fn;case 34:case 39:a!==34&&a!==39&&Td(Ht);break;case 40:a===41&&Td(a);break;case 92:na();break}return Fn}function kE(a,n){for(;na()&&a+Ht!==57;)if(a+Ht===84&&Ir()===47)break;return"/*"+pu(n,Fn-1)+"*"+fh(a===47?a:na())}function CE(a){for(;!Cd(Ir());)na();return pu(a,Fn)}function TE(a){return SE(Xl("",null,null,null,[""],a=wE(a),0,[0],a))}function Xl(a,n,r,s,l,u,d,h,p){for(var y=0,v=0,w=d,x=0,O=0,A=0,P=1,I=1,K=1,F=0,Y="",Z=l,ie=u,le=s,q=Y;I;)switch(A=F,F=na()){case 40:if(A!=108&&Gt(q,w-1)==58){Gl(q+=Ie(ed(F),"&","&\f"),"&\f",bb(y?h[y-1]:0))!=-1&&(K=-1);break}case 34:case 39:case 91:q+=ed(F);break;case 9:case 10:case 13:case 32:q+=xE(A);break;case 92:q+=EE(Zl()-1,7);continue;case 47:switch(Ir()){case 42:case 47:Js(OE(kE(na(),Zl()),n,r,p),p);break;default:q+="/"}break;case 123*P:h[y++]=ca(q)*K;case 125*P:case 59:case 0:switch(F){case 0:case 125:I=0;case 59+v:K==-1&&(q=Ie(q,/\f/g,"")),O>0&&ca(q)-w&&Js(O>32?mv(q+";",s,r,w-1,p):mv(Ie(q," ","")+";",s,r,w-2,p),p);break;case 59:q+=";";default:if(Js(le=pv(q,n,r,y,v,l,h,Y,Z=[],ie=[],w,u),u),F===123)if(v===0)Xl(q,n,le,le,Z,u,w,h,ie);else switch(x===99&&Gt(q,3)===110?100:x){case 100:case 108:case 109:case 115:Xl(a,le,le,s&&Js(pv(a,le,le,0,0,l,h,Y,l,Z=[],w,ie),ie),l,ie,w,h,s?Z:ie);break;default:Xl(q,le,le,le,[""],ie,0,h,ie)}}y=v=O=0,P=K=1,Y=q="",w=d;break;case 58:w=1+ca(q),O=A;default:if(P<1){if(F==123)--P;else if(F==125&&P++==0&&bE()==125)continue}switch(q+=fh(F),F*P){case 38:K=v>0?1:(q+="\f",-1);break;case 44:h[y++]=(ca(q)-1)*K,K=1;break;case 64:Ir()===45&&(q+=ed(na())),x=Ir(),v=w=ca(Y=q+=CE(Zl())),F++;break;case 45:A===45&&ca(q)==2&&(P=0)}}return u}function pv(a,n,r,s,l,u,d,h,p,y,v,w){for(var x=l-1,O=l===0?u:[""],A=Sb(O),P=0,I=0,K=0;P<s;++P)for(var F=0,Y=Vi(a,x+1,x=bb(I=d[P])),Z=a;F<A;++F)(Z=wb(I>0?O[F]+" "+Y:Ie(Y,/&\f/g,O[F])))&&(p[K++]=Z);return hu(a,n,r,l===0?fu:h,p,y,v,w)}function OE(a,n,r,s){return hu(a,n,r,gb,fh(vE()),Vi(a,2,-2),0,s)}function mv(a,n,r,s,l){return hu(a,n,r,ch,Vi(a,0,s),Vi(a,s+1,-1),s,l)}function Eb(a,n,r){switch(yE(a,n)){case 5103:return ot+"print-"+a+a;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ot+a+a;case 4789:return ro+a+a;case 5349:case 4246:case 4810:case 6968:case 2756:return ot+a+ro+a+St+a+a;case 5936:switch(Gt(a,n+11)){case 114:return ot+a+St+Ie(a,/[svh]\w+-[tblr]{2}/,"tb")+a;case 108:return ot+a+St+Ie(a,/[svh]\w+-[tblr]{2}/,"tb-rl")+a;case 45:return ot+a+St+Ie(a,/[svh]\w+-[tblr]{2}/,"lr")+a}case 6828:case 4268:case 2903:return ot+a+St+a+a;case 6165:return ot+a+St+"flex-"+a+a;case 5187:return ot+a+Ie(a,/(\w+).+(:[^]+)/,ot+"box-$1$2"+St+"flex-$1$2")+a;case 5443:return ot+a+St+"flex-item-"+Ie(a,/flex-|-self/g,"")+(Ba(a,/flex-|baseline/)?"":St+"grid-row-"+Ie(a,/flex-|-self/g,""))+a;case 4675:return ot+a+St+"flex-line-pack"+Ie(a,/align-content|flex-|-self/g,"")+a;case 5548:return ot+a+St+Ie(a,"shrink","negative")+a;case 5292:return ot+a+St+Ie(a,"basis","preferred-size")+a;case 6060:return ot+"box-"+Ie(a,"-grow","")+ot+a+St+Ie(a,"grow","positive")+a;case 4554:return ot+Ie(a,/([^-])(transform)/g,"$1"+ot+"$2")+a;case 6187:return Ie(Ie(Ie(a,/(zoom-|grab)/,ot+"$1"),/(image-set)/,ot+"$1"),a,"")+a;case 5495:case 3959:return Ie(a,/(image-set\([^]*)/,ot+"$1$`$1");case 4968:return Ie(Ie(a,/(.+:)(flex-)?(.*)/,ot+"box-pack:$3"+St+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ot+a+a;case 4200:if(!Ba(a,/flex-|baseline/))return St+"grid-column-align"+Vi(a,n)+a;break;case 2592:case 3360:return St+Ie(a,"template-","")+a;case 4384:case 3616:return r&&r.some(function(s,l){return n=l,Ba(s.props,/grid-\w+-end/)})?~Gl(a+(r=r[n].value),"span",0)?a:St+Ie(a,"-start","")+a+St+"grid-row-span:"+(~Gl(r,"span",0)?Ba(r,/\d+/):+Ba(r,/\d+/)-+Ba(a,/\d+/))+";":St+Ie(a,"-start","")+a;case 4896:case 4128:return r&&r.some(function(s){return Ba(s.props,/grid-\w+-start/)})?a:St+Ie(Ie(a,"-end","-span"),"span ","")+a;case 4095:case 3583:case 4068:case 2532:return Ie(a,/(.+)-inline(.+)/,ot+"$1$2")+a;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ca(a)-1-n>6)switch(Gt(a,n+1)){case 109:if(Gt(a,n+4)!==45)break;case 102:return Ie(a,/(.+:)(.+)-([^]+)/,"$1"+ot+"$2-$3$1"+ro+(Gt(a,n+3)==108?"$3":"$2-$3"))+a;case 115:return~Gl(a,"stretch",0)?Eb(Ie(a,"stretch","fill-available"),n,r)+a:a}break;case 5152:case 5920:return Ie(a,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,l,u,d,h,p,y){return St+l+":"+u+y+(d?St+l+"-span:"+(h?p:+p-+u)+y:"")+a});case 4949:if(Gt(a,n+6)===121)return Ie(a,":",":"+ot)+a;break;case 6444:switch(Gt(a,Gt(a,14)===45?18:11)){case 120:return Ie(a,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+ot+(Gt(a,14)===45?"inline-":"")+"box$3$1"+ot+"$2$3$1"+St+"$2box$3")+a;case 100:return Ie(a,":",":"+St)+a}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Ie(a,"scroll-","scroll-snap-")+a}return a}function ru(a,n){for(var r="",s=0;s<a.length;s++)r+=n(a[s],s,a,n)||"";return r}function NE(a,n,r,s){switch(a.type){case mE:if(a.children.length)break;case pE:case ch:return a.return=a.return||a.value;case gb:return"";case vb:return a.return=a.value+"{"+ru(a.children,s)+"}";case fu:if(!ca(a.value=a.props.join(",")))return""}return ca(r=ru(a.children,s))?a.return=a.value+"{"+r+"}":""}function jE(a){var n=Sb(a);return function(r,s,l,u){for(var d="",h=0;h<n;h++)d+=a[h](r,s,l,u)||"";return d}}function _E(a){return function(n){n.root||(n=n.return)&&a(n)}}function AE(a,n,r,s){if(a.length>-1&&!a.return)switch(a.type){case ch:a.return=Eb(a.value,a.length,r);return;case vb:return ru([cr(a,{value:Ie(a.value,"@","@"+ot)})],s);case fu:if(a.length)return gE(r=a.props,function(l){switch(Ba(l,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Di(cr(a,{props:[Ie(l,/:(read-\w+)/,":"+ro+"$1")]})),Di(cr(a,{props:[l]})),kd(a,{props:hv(r,s)});break;case"::placeholder":Di(cr(a,{props:[Ie(l,/:(plac\w+)/,":"+ot+"input-$1")]})),Di(cr(a,{props:[Ie(l,/:(plac\w+)/,":"+ro+"$1")]})),Di(cr(a,{props:[Ie(l,/:(plac\w+)/,St+"input-$1")]})),Di(cr(a,{props:[l]})),kd(a,{props:hv(r,s)});break}return""})}}var DE={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},An={},qi=typeof process<"u"&&An!==void 0&&(An.REACT_APP_SC_ATTR||An.SC_ATTR)||"data-styled",kb="active",Cb="data-styled-version",mu="6.1.19",dh=`/*!sc*/
`,iu=typeof window<"u"&&typeof document<"u",ME=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&An!==void 0&&An.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&An.REACT_APP_SC_DISABLE_SPEEDY!==""?An.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&An.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&An!==void 0&&An.SC_DISABLE_SPEEDY!==void 0&&An.SC_DISABLE_SPEEDY!==""&&An.SC_DISABLE_SPEEDY!=="false"&&An.SC_DISABLE_SPEEDY),yu=Object.freeze([]),Yi=Object.freeze({});function zE(a,n,r){return r===void 0&&(r=Yi),a.theme!==r.theme&&a.theme||n||r.theme}var Tb=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),RE=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,LE=/(^-|-$)/g;function yv(a){return a.replace(RE,"-").replace(LE,"")}var BE=/(a)(d)/gi,Ml=52,gv=function(a){return String.fromCharCode(a+(a>25?39:97))};function Od(a){var n,r="";for(n=Math.abs(a);n>Ml;n=n/Ml|0)r=gv(n%Ml)+r;return(gv(n%Ml)+r).replace(BE,"$1-$2")}var td,Ob=5381,Bi=function(a,n){for(var r=n.length;r;)a=33*a^n.charCodeAt(--r);return a},Nb=function(a){return Bi(Ob,a)};function UE(a){return Od(Nb(a)>>>0)}function HE(a){return a.displayName||a.name||"Component"}function nd(a){return typeof a=="string"&&!0}var jb=typeof Symbol=="function"&&Symbol.for,_b=jb?Symbol.for("react.memo"):60115,$E=jb?Symbol.for("react.forward_ref"):60112,VE={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},IE={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Ab={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},qE=((td={})[$E]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},td[_b]=Ab,td);function vv(a){return("type"in(n=a)&&n.type.$$typeof)===_b?Ab:"$$typeof"in a?qE[a.$$typeof]:VE;var n}var YE=Object.defineProperty,GE=Object.getOwnPropertyNames,bv=Object.getOwnPropertySymbols,ZE=Object.getOwnPropertyDescriptor,XE=Object.getPrototypeOf,wv=Object.prototype;function Db(a,n,r){if(typeof n!="string"){if(wv){var s=XE(n);s&&s!==wv&&Db(a,s,r)}var l=GE(n);bv&&(l=l.concat(bv(n)));for(var u=vv(a),d=vv(n),h=0;h<l.length;++h){var p=l[h];if(!(p in IE||r&&r[p]||d&&p in d||u&&p in u)){var y=ZE(n,p);try{YE(a,p,y)}catch{}}}}return a}function Gi(a){return typeof a=="function"}function hh(a){return typeof a=="object"&&"styledComponentId"in a}function $r(a,n){return a&&n?"".concat(a," ").concat(n):a||n||""}function Sv(a,n){if(a.length===0)return"";for(var r=a[0],s=1;s<a.length;s++)r+=a[s];return r}function uo(a){return a!==null&&typeof a=="object"&&a.constructor.name===Object.name&&!("props"in a&&a.$$typeof)}function Nd(a,n,r){if(r===void 0&&(r=!1),!r&&!uo(a)&&!Array.isArray(a))return n;if(Array.isArray(n))for(var s=0;s<n.length;s++)a[s]=Nd(a[s],n[s]);else if(uo(n))for(var s in n)a[s]=Nd(a[s],n[s]);return a}function ph(a,n){Object.defineProperty(a,"toString",{value:n})}function ho(a){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(a," for more information.").concat(n.length>0?" Args: ".concat(n.join(", ")):""))}var FE=(function(){function a(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}return a.prototype.indexOfGroup=function(n){for(var r=0,s=0;s<n;s++)r+=this.groupSizes[s];return r},a.prototype.insertRules=function(n,r){if(n>=this.groupSizes.length){for(var s=this.groupSizes,l=s.length,u=l;n>=u;)if((u<<=1)<0)throw ho(16,"".concat(n));this.groupSizes=new Uint32Array(u),this.groupSizes.set(s),this.length=u;for(var d=l;d<u;d++)this.groupSizes[d]=0}for(var h=this.indexOfGroup(n+1),p=(d=0,r.length);d<p;d++)this.tag.insertRule(h,r[d])&&(this.groupSizes[n]++,h++)},a.prototype.clearGroup=function(n){if(n<this.length){var r=this.groupSizes[n],s=this.indexOfGroup(n),l=s+r;this.groupSizes[n]=0;for(var u=s;u<l;u++)this.tag.deleteRule(s)}},a.prototype.getGroup=function(n){var r="";if(n>=this.length||this.groupSizes[n]===0)return r;for(var s=this.groupSizes[n],l=this.indexOfGroup(n),u=l+s,d=l;d<u;d++)r+="".concat(this.tag.getRule(d)).concat(dh);return r},a})(),Fl=new Map,su=new Map,Kl=1,zl=function(a){if(Fl.has(a))return Fl.get(a);for(;su.has(Kl);)Kl++;var n=Kl++;return Fl.set(a,n),su.set(n,a),n},KE=function(a,n){Kl=n+1,Fl.set(a,n),su.set(n,a)},QE="style[".concat(qi,"][").concat(Cb,'="').concat(mu,'"]'),PE=new RegExp("^".concat(qi,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),JE=function(a,n,r){for(var s,l=r.split(","),u=0,d=l.length;u<d;u++)(s=l[u])&&a.registerName(n,s)},WE=function(a,n){for(var r,s=((r=n.textContent)!==null&&r!==void 0?r:"").split(dh),l=[],u=0,d=s.length;u<d;u++){var h=s[u].trim();if(h){var p=h.match(PE);if(p){var y=0|parseInt(p[1],10),v=p[2];y!==0&&(KE(v,y),JE(a,v,p[3]),a.getTag().insertRules(y,l)),l.length=0}else l.push(h)}}},xv=function(a){for(var n=document.querySelectorAll(QE),r=0,s=n.length;r<s;r++){var l=n[r];l&&l.getAttribute(qi)!==kb&&(WE(a,l),l.parentNode&&l.parentNode.removeChild(l))}};function ek(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Mb=function(a){var n=document.head,r=a||n,s=document.createElement("style"),l=(function(h){var p=Array.from(h.querySelectorAll("style[".concat(qi,"]")));return p[p.length-1]})(r),u=l!==void 0?l.nextSibling:null;s.setAttribute(qi,kb),s.setAttribute(Cb,mu);var d=ek();return d&&s.setAttribute("nonce",d),r.insertBefore(s,u),s},tk=(function(){function a(n){this.element=Mb(n),this.element.appendChild(document.createTextNode("")),this.sheet=(function(r){if(r.sheet)return r.sheet;for(var s=document.styleSheets,l=0,u=s.length;l<u;l++){var d=s[l];if(d.ownerNode===r)return d}throw ho(17)})(this.element),this.length=0}return a.prototype.insertRule=function(n,r){try{return this.sheet.insertRule(r,n),this.length++,!0}catch{return!1}},a.prototype.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},a.prototype.getRule=function(n){var r=this.sheet.cssRules[n];return r&&r.cssText?r.cssText:""},a})(),nk=(function(){function a(n){this.element=Mb(n),this.nodes=this.element.childNodes,this.length=0}return a.prototype.insertRule=function(n,r){if(n<=this.length&&n>=0){var s=document.createTextNode(r);return this.element.insertBefore(s,this.nodes[n]||null),this.length++,!0}return!1},a.prototype.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},a.prototype.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},a})(),ak=(function(){function a(n){this.rules=[],this.length=0}return a.prototype.insertRule=function(n,r){return n<=this.length&&(this.rules.splice(n,0,r),this.length++,!0)},a.prototype.deleteRule=function(n){this.rules.splice(n,1),this.length--},a.prototype.getRule=function(n){return n<this.length?this.rules[n]:""},a})(),Ev=iu,rk={isServer:!iu,useCSSOMInjection:!ME},zb=(function(){function a(n,r,s){n===void 0&&(n=Yi),r===void 0&&(r={});var l=this;this.options=gn(gn({},rk),n),this.gs=r,this.names=new Map(s),this.server=!!n.isServer,!this.server&&iu&&Ev&&(Ev=!1,xv(this)),ph(this,function(){return(function(u){for(var d=u.getTag(),h=d.length,p="",y=function(w){var x=(function(K){return su.get(K)})(w);if(x===void 0)return"continue";var O=u.names.get(x),A=d.getGroup(w);if(O===void 0||!O.size||A.length===0)return"continue";var P="".concat(qi,".g").concat(w,'[id="').concat(x,'"]'),I="";O!==void 0&&O.forEach(function(K){K.length>0&&(I+="".concat(K,","))}),p+="".concat(A).concat(P,'{content:"').concat(I,'"}').concat(dh)},v=0;v<h;v++)y(v);return p})(l)})}return a.registerId=function(n){return zl(n)},a.prototype.rehydrate=function(){!this.server&&iu&&xv(this)},a.prototype.reconstructWithOptions=function(n,r){return r===void 0&&(r=!0),new a(gn(gn({},this.options),n),this.gs,r&&this.names||void 0)},a.prototype.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},a.prototype.getTag=function(){return this.tag||(this.tag=(n=(function(r){var s=r.useCSSOMInjection,l=r.target;return r.isServer?new ak(l):s?new tk(l):new nk(l)})(this.options),new FE(n)));var n},a.prototype.hasNameForId=function(n,r){return this.names.has(n)&&this.names.get(n).has(r)},a.prototype.registerName=function(n,r){if(zl(n),this.names.has(n))this.names.get(n).add(r);else{var s=new Set;s.add(r),this.names.set(n,s)}},a.prototype.insertRules=function(n,r,s){this.registerName(n,r),this.getTag().insertRules(zl(n),s)},a.prototype.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},a.prototype.clearRules=function(n){this.getTag().clearGroup(zl(n)),this.clearNames(n)},a.prototype.clearTag=function(){this.tag=void 0},a})(),ik=/&/g,sk=/^\s*\/\/.*$/gm;function Rb(a,n){return a.map(function(r){return r.type==="rule"&&(r.value="".concat(n," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(n," ")),r.props=r.props.map(function(s){return"".concat(n," ").concat(s)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=Rb(r.children,n)),r})}function ok(a){var n,r,s,l=Yi,u=l.options,d=u===void 0?Yi:u,h=l.plugins,p=h===void 0?yu:h,y=function(x,O,A){return A.startsWith(r)&&A.endsWith(r)&&A.replaceAll(r,"").length>0?".".concat(n):x},v=p.slice();v.push(function(x){x.type===fu&&x.value.includes("&")&&(x.props[0]=x.props[0].replace(ik,r).replace(s,y))}),d.prefix&&v.push(AE),v.push(NE);var w=function(x,O,A,P){O===void 0&&(O=""),A===void 0&&(A=""),P===void 0&&(P="&"),n=P,r=O,s=new RegExp("\\".concat(r,"\\b"),"g");var I=x.replace(sk,""),K=TE(A||O?"".concat(A," ").concat(O," { ").concat(I," }"):I);d.namespace&&(K=Rb(K,d.namespace));var F=[];return ru(K,jE(v.concat(_E(function(Y){return F.push(Y)})))),F};return w.hash=p.length?p.reduce(function(x,O){return O.name||ho(15),Bi(x,O.name)},Ob).toString():"",w}var lk=new zb,jd=ok(),Lb=aa.createContext({shouldForwardProp:void 0,styleSheet:lk,stylis:jd});Lb.Consumer;aa.createContext(void 0);function kv(){return C.useContext(Lb)}var uk=(function(){function a(n,r){var s=this;this.inject=function(l,u){u===void 0&&(u=jd);var d=s.name+u.hash;l.hasNameForId(s.id,d)||l.insertRules(s.id,d,u(s.rules,d,"@keyframes"))},this.name=n,this.id="sc-keyframes-".concat(n),this.rules=r,ph(this,function(){throw ho(12,String(s.name))})}return a.prototype.getName=function(n){return n===void 0&&(n=jd),this.name+n.hash},a})(),ck=function(a){return a>="A"&&a<="Z"};function Cv(a){for(var n="",r=0;r<a.length;r++){var s=a[r];if(r===1&&s==="-"&&a[0]==="-")return a;ck(s)?n+="-"+s.toLowerCase():n+=s}return n.startsWith("ms-")?"-"+n:n}var Bb=function(a){return a==null||a===!1||a===""},Ub=function(a){var n,r,s=[];for(var l in a){var u=a[l];a.hasOwnProperty(l)&&!Bb(u)&&(Array.isArray(u)&&u.isCss||Gi(u)?s.push("".concat(Cv(l),":"),u,";"):uo(u)?s.push.apply(s,au(au(["".concat(l," {")],Ub(u),!1),["}"],!1)):s.push("".concat(Cv(l),": ").concat((n=l,(r=u)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||n in DE||n.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return s};function qr(a,n,r,s){if(Bb(a))return[];if(hh(a))return[".".concat(a.styledComponentId)];if(Gi(a)){if(!Gi(u=a)||u.prototype&&u.prototype.isReactComponent||!n)return[a];var l=a(n);return qr(l,n,r,s)}var u;return a instanceof uk?r?(a.inject(r,s),[a.getName(s)]):[a]:uo(a)?Ub(a):Array.isArray(a)?Array.prototype.concat.apply(yu,a.map(function(d){return qr(d,n,r,s)})):[a.toString()]}function fk(a){for(var n=0;n<a.length;n+=1){var r=a[n];if(Gi(r)&&!hh(r))return!1}return!0}var dk=Nb(mu),hk=(function(){function a(n,r,s){this.rules=n,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&fk(n),this.componentId=r,this.baseHash=Bi(dk,r),this.baseStyle=s,zb.registerId(r)}return a.prototype.generateAndInjectStyles=function(n,r,s){var l=this.baseStyle?this.baseStyle.generateAndInjectStyles(n,r,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))l=$r(l,this.staticRulesId);else{var u=Sv(qr(this.rules,n,r,s)),d=Od(Bi(this.baseHash,u)>>>0);if(!r.hasNameForId(this.componentId,d)){var h=s(u,".".concat(d),void 0,this.componentId);r.insertRules(this.componentId,d,h)}l=$r(l,d),this.staticRulesId=d}else{for(var p=Bi(this.baseHash,s.hash),y="",v=0;v<this.rules.length;v++){var w=this.rules[v];if(typeof w=="string")y+=w;else if(w){var x=Sv(qr(w,n,r,s));p=Bi(p,x+v),y+=x}}if(y){var O=Od(p>>>0);r.hasNameForId(this.componentId,O)||r.insertRules(this.componentId,O,s(y,".".concat(O),void 0,this.componentId)),l=$r(l,O)}}return l},a})(),Hb=aa.createContext(void 0);Hb.Consumer;var ad={};function pk(a,n,r){var s=hh(a),l=a,u=!nd(a),d=n.attrs,h=d===void 0?yu:d,p=n.componentId,y=p===void 0?(function(Z,ie){var le=typeof Z!="string"?"sc":yv(Z);ad[le]=(ad[le]||0)+1;var q="".concat(le,"-").concat(UE(mu+le+ad[le]));return ie?"".concat(ie,"-").concat(q):q})(n.displayName,n.parentComponentId):p,v=n.displayName,w=v===void 0?(function(Z){return nd(Z)?"styled.".concat(Z):"Styled(".concat(HE(Z),")")})(a):v,x=n.displayName&&n.componentId?"".concat(yv(n.displayName),"-").concat(n.componentId):n.componentId||y,O=s&&l.attrs?l.attrs.concat(h).filter(Boolean):h,A=n.shouldForwardProp;if(s&&l.shouldForwardProp){var P=l.shouldForwardProp;if(n.shouldForwardProp){var I=n.shouldForwardProp;A=function(Z,ie){return P(Z,ie)&&I(Z,ie)}}else A=P}var K=new hk(r,x,s?l.componentStyle:void 0);function F(Z,ie){return(function(le,q,oe){var U=le.attrs,J=le.componentStyle,ye=le.defaultProps,we=le.foldedComponentIds,Ne=le.styledComponentId,_e=le.target,ne=aa.useContext(Hb),D=kv(),j=le.shouldForwardProp||D.shouldForwardProp,$=zE(q,ne,ye)||Yi,z=(function(R,ae,pe){for(var ce,me=gn(gn({},ae),{className:void 0,theme:pe}),Oe=0;Oe<R.length;Oe+=1){var Ee=Gi(ce=R[Oe])?ce(me):ce;for(var ue in Ee)me[ue]=ue==="className"?$r(me[ue],Ee[ue]):ue==="style"?gn(gn({},me[ue]),Ee[ue]):Ee[ue]}return ae.className&&(me.className=$r(me.className,ae.className)),me})(U,q,$),re=z.as||_e,S={};for(var k in z)z[k]===void 0||k[0]==="$"||k==="as"||k==="theme"&&z.theme===$||(k==="forwardedAs"?S.as=z.forwardedAs:j&&!j(k,re)||(S[k]=z[k]));var E=(function(R,ae){var pe=kv(),ce=R.generateAndInjectStyles(ae,pe.styleSheet,pe.stylis);return ce})(J,z),T=$r(we,Ne);return E&&(T+=" "+E),z.className&&(T+=" "+z.className),S[nd(re)&&!Tb.has(re)?"class":"className"]=T,oe&&(S.ref=oe),C.createElement(re,S)})(Y,Z,ie)}F.displayName=w;var Y=aa.forwardRef(F);return Y.attrs=O,Y.componentStyle=K,Y.displayName=w,Y.shouldForwardProp=A,Y.foldedComponentIds=s?$r(l.foldedComponentIds,l.styledComponentId):"",Y.styledComponentId=x,Y.target=s?l.target:a,Object.defineProperty(Y,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(Z){this._foldedDefaultProps=s?(function(ie){for(var le=[],q=1;q<arguments.length;q++)le[q-1]=arguments[q];for(var oe=0,U=le;oe<U.length;oe++)Nd(ie,U[oe],!0);return ie})({},l.defaultProps,Z):Z}}),ph(Y,function(){return".".concat(Y.styledComponentId)}),u&&Db(Y,a,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),Y}function Tv(a,n){for(var r=[a[0]],s=0,l=n.length;s<l;s+=1)r.push(n[s],a[s+1]);return r}var Ov=function(a){return Object.assign(a,{isCss:!0})};function mh(a){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(Gi(a)||uo(a))return Ov(qr(Tv(yu,au([a],n,!0))));var s=a;return n.length===0&&s.length===1&&typeof s[0]=="string"?qr(s):Ov(qr(Tv(s,n)))}function _d(a,n,r){if(r===void 0&&(r=Yi),!n)throw ho(1,n);var s=function(l){for(var u=[],d=1;d<arguments.length;d++)u[d-1]=arguments[d];return a(n,r,mh.apply(void 0,au([l],u,!1)))};return s.attrs=function(l){return _d(a,n,gn(gn({},r),{attrs:Array.prototype.concat(r.attrs,l).filter(Boolean)}))},s.withConfig=function(l){return _d(a,n,gn(gn({},r),l))},s}var $b=function(a){return _d(pk,a)},sn=$b;Tb.forEach(function(a){sn[a]=$b(a)});function Gr(){return Gr=Object.assign?Object.assign.bind():function(a){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var s in r)({}).hasOwnProperty.call(r,s)&&(a[s]=r[s])}return a},Gr.apply(null,arguments)}function mk(a,n){if(a==null)return{};var r={};for(var s in a)if({}.hasOwnProperty.call(a,s)){if(n.indexOf(s)!==-1)continue;r[s]=a[s]}return r}function yh(a,n){if(a==null)return{};var r,s,l=mk(a,n);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(a);for(s=0;s<u.length;s++)r=u[s],n.indexOf(r)===-1&&{}.propertyIsEnumerable.call(a,r)&&(l[r]=a[r])}return l}function yk(a){var n=a?.createRoot,r=new WeakMap;function s(d){var h=r.get(d);if(h)return h;var p=document.createElement("span");return d.appendChild(p),r.set(d,p),p}function l(d){var h=r.get(d);h&&(h.remove(),r.delete(d))}if(n){var u=new WeakMap;return{mount:function(h,p){var y,v=s(p),w=u.get(v);return w||(w=n(v),u.set(v,w)),w.render(h),(y=v.firstElementChild)!==null&&y!==void 0?y:v},unmount:function(h){var p=s(h),y=u.get(p);y&&(y.unmount(),u.delete(p)),l(h)}}}return{mount:function(h,p){var y=s(p);if("render"in dv&&typeof Hr.render=="function"){var v=Hr.render(h,y);return v||y}throw new Error("ReactDOM.render is not available")},unmount:function(h){var p=s(h);if("unmountComponentAtNode"in dv&&typeof Hr.unmountComponentAtNode=="function")Hr.unmountComponentAtNode(p);else throw new Error("ReactDOM.unmountComponentAtNode is not available");l(h)}}}function gk(a){var n=a.children,r=a.rendered;return C.useEffect(function(){r()}),n}function vk(){var a=C.useRef(!1);return C.useEffect(function(){a.current=!0},[]),{apply:function(r){a.current?queueMicrotask(function(){Hr.flushSync(r)}):r()}}}var Vb=C.createContext({start:null,end:null,path:null});function bk(a){var n=a.children,r=C.useState(null),s=ln(r,2),l=s[0],u=s[1],d=C.useState(null),h=ln(d,2),p=h[0],y=h[1],v=C.useState(null),w=ln(v,2),x=w[0],O=w[1],A="x"in a.start?a.start:l,P="x"in a.end?a.end:p,I=vk();return C.useEffect(function(){var K=typeof a.start=="function"&&a.start(function(Y){I.apply(function(){u(Y)})}),F=typeof a.end=="function"&&a.end(function(Y){I.apply(function(){y(Y)})});return function(){K&&K(),F&&F()}},[]),C.useEffect(function(){A&&P&&a.path(A,P).then(function(K){I.apply(function(){O(K)})})},[A,P]),C.createElement(Vb.Provider,{value:{start:A,end:P,path:x}},n)}function Ib(){return C.useContext(Vb)}var Nv,jv,wk=sn.svg(Nv||(Nv=en([`
    overflow: visible !important;
    position: absolute;
    pointer-events: none;
    width: 9999px;
    height: 9999px;
`]))),Sk=sn.path(jv||(jv=en([`
    fill: none;
    stroke-width: 5px;
    stroke: steelblue;
    pointer-events: auto;
    `,`
`])),function(a){var n;return(n=a.styles)===null||n===void 0?void 0:n.call(a,a)});function qb(a){var n=Ib(),r=n.path;return r?C.createElement(wk,{"data-testid":"connection"},C.createElement(Sk,{styles:a.styles,d:r})):null}function xk(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=Ek(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(y){throw y},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,d=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var y=r.next();return d=y.done,y},e:function(y){h=!0,u=y},f:function(){try{d||r.return==null||r.return()}finally{if(h)throw u}}}}function Ek(a,n){if(a){if(typeof a=="string")return _v(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_v(a,n):void 0}}function _v(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function kk(a){for(var n=new a.constructor(a.type),r=n;r=Object.getPrototypeOf(r);){var s=Object.getOwnPropertyNames(r),l=xk(s),u;try{for(l.s();!(u=l.n()).done;){var d=u.value,h=n[d];typeof h!="function"&&Object.defineProperty(n,d,{value:a[d]})}}catch(p){l.e(p)}finally{l.f()}}return n}var Ck="__reactContainer$";function Tk(a){for(var n=a;n;){if(n._reactRootContainer||Object.keys(n).some(function(r){return r.startsWith(Ck)}))return n;n=n.parentElement}}function Av(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function Dv(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Av(Object(r),!0).forEach(function(s){xe(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):Av(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function Yb(a,n){return{start:function(s){var l=Dv({},n(s));function u(h){var p=Dv({},n(h)),y=p.x-l.x,v=p.y-l.y;l=p,a(y,v)}function d(){window.removeEventListener("pointermove",u),window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",d)}window.addEventListener("pointermove",u),window.addEventListener("pointerup",d),window.addEventListener("pointercancel",d)}}}function Ok(a,n){C.useEffect(function(){var r=function(u){if(!n){var d=Tk(u.target),h=C.version.startsWith("16")?document:d;h&&(u.stopPropagation(),h.dispatchEvent(kk(u)))}},s=a.current;return s?.addEventListener("pointerdown",r),function(){s?.removeEventListener("pointerdown",r)}},[a,n])}var Mv,Nk=sn.input(Mv||(Mv=en([`
  width: 100%;
  border-radius: 30px;
  background-color: white;
  padding: 2px 6px;
  border: 1px solid #999;
  font-size: 110%;
  box-sizing: border-box;
  `,`
`])),function(a){var n;return(n=a.styles)===null||n===void 0?void 0:n.call(a,a)});function Ad(a){var n=C.useState(a.data.value),r=ln(n,2),s=r[0],l=r[1],u=C.useRef(null);return Ok(u),C.useEffect(function(){l(a.data.value)},[a.data.value]),C.createElement(Nk,{value:s,type:a.data.type,ref:u,readOnly:a.data.readonly,onChange:function(h){var p=a.data.type==="number"?+h.target.value:h.target.value;l(p),a.data.setValue(p)},styles:a.styles})}var Dd="rgba(110,136,255,0.8)",Gb="#ffd92c",fa=24,Ua=6,Zb="#96b38a",Xb=180,jk=Object.freeze({__proto__:null,$nodecolor:Dd,$nodecolorselected:Gb,$socketsize:fa,$socketmargin:Ua,$socketcolor:Zb,$nodewidth:Xb}),_k=["init","unmount"];function gh(a){var n=a.init,r=a.unmount,s=yh(a,_k),l=C.useRef(null);return C.useEffect(function(){var u=l.current;return function(){u&&r(u)}},[]),C.useEffect(function(){l.current&&n(l.current)}),C.createElement("span",Gr({},s,{ref:l}))}var Ak=["name","emit","payload"];function Md(a){var n=a.name,r=a.emit,s=a.payload,l=yh(a,Ak);return C.createElement(gh,Gr({},l,{className:n,init:function(d){r({type:"render",data:{type:"control",element:d,payload:s}})},unmount:function(d){r({type:"unmount",data:{element:d}})}}))}var Dk=["name","emit","nodeId","side","socketKey","payload"];function zd(a){var n=a.name,r=a.emit,s=a.nodeId,l=a.side,u=a.socketKey,d=a.payload,h=yh(a,Dk);return C.createElement(gh,Gr({},h,{className:n,init:function(y){r({type:"render",data:{type:"socket",side:l,key:u,nodeId:s,element:y,payload:d}})},unmount:function(y){r({type:"unmount",data:{element:y}})}}))}var zv,Rv,Fb=sn.div(zv||(zv=en([`
    background: `,`;
    border: 2px solid #4e58bf;
    border-radius: 10px;
    cursor: pointer;
    box-sizing: border-box;
    width: `,`;
    height: `,`;
    padding-bottom: 6px;
    position: relative;
    user-select: none;
    line-height: initial;
    font-family: Arial;

    &:hover {
        background: lighten(`,`,4%);
    }
    `,`
    .title {
        color: white;
        font-family: sans-serif;
        font-size: 18px;
        padding: 8px;
    }
    .output {
        text-align: right;
    }
    .input {
        text-align: left;
    }
    .output-socket {
        text-align: right;
        margin-right: -`,`px;
        display: inline-block;
    }
    .input-socket {
        text-align: left;
        margin-left: -`,`px;
        display: inline-block;
    }
    .input-title,.output-title {
        vertical-align: middle;
        color: white;
        display: inline-block;
        font-family: sans-serif;
        font-size: 14px;
        margin: `,`px;
        line-height: `,`px;
    }
    .input-control {
        z-index: 1;
        width: calc(100% - `,`px);
        vertical-align: middle;
        display: inline-block;
    }
    .control {
        display: block;
        padding: `,"px ",`px;
    }
    `,`
`])),Dd,function(a){return Number.isFinite(a.width)?"".concat(a.width,"px"):"".concat(Xb,"px")},function(a){return Number.isFinite(a.height)?"".concat(a.height,"px"):"auto"},Dd,function(a){return a.selected&&mh(Rv||(Rv=en([`
        background: `,`;
        border-color: #e3c000;
    `])),Gb)},fa/2+Ua,fa/2+Ua,Ua,fa,fa+2*Ua,Ua,fa/2+Ua,function(a){var n;return(n=a.styles)===null||n===void 0?void 0:n.call(a,a)});function rd(a){a.sort(function(n,r){var s,l,u=((s=n[1])===null||s===void 0?void 0:s.index)||0,d=((l=r[1])===null||l===void 0?void 0:l.index)||0;return u-d})}function Kb(a){var n=Object.entries(a.data.inputs),r=Object.entries(a.data.outputs),s=Object.entries(a.data.controls),l=a.data.selected||!1,u=a.data,d=u.id,h=u.label,p=u.width,y=u.height;return rd(n),rd(r),rd(s),C.createElement(Fb,{selected:l,width:p,height:y,styles:a.styles,"data-testid":"node"},C.createElement("div",{className:"title","data-testid":"title"},h),r.map(function(v){var w=ln(v,2),x=w[0],O=w[1];return O&&C.createElement("div",{className:"output",key:x,"data-testid":"output-".concat(x)},C.createElement("div",{className:"output-title","data-testid":"output-title"},O.label),C.createElement(zd,{name:"output-socket",side:"output",socketKey:x,nodeId:d,emit:a.emit,payload:O.socket,"data-testid":"output-socket"}))}),s.map(function(v){var w=ln(v,2),x=w[0],O=w[1];return O?C.createElement(Md,{key:x,name:"control",emit:a.emit,payload:O,"data-testid":"control-".concat(x)}):null}),n.map(function(v){var w=ln(v,2),x=w[0],O=w[1];return O&&C.createElement("div",{className:"input",key:x,"data-testid":"input-".concat(x)},C.createElement(zd,{name:"input-socket",side:"input",socketKey:x,nodeId:d,emit:a.emit,payload:O.socket,"data-testid":"input-socket"}),O&&(!O.control||!O.showControl)&&C.createElement("div",{className:"input-title","data-testid":"input-title"},O.label),O.control&&O.showControl&&C.createElement(Md,{key:x,name:"input-control",emit:a.emit,payload:O.control,"data-testid":"input-control"}))}))}var Lv,Bv,Qb=sn.div(Lv||(Lv=en([`
    display: inline-block;
    cursor: pointer;
    border: 1px solid white;
    border-radius: `,`px;
    width: `,`px;
    height: `,`px;
    vertical-align: middle;
    background: `,`;
    z-index: 2;
    box-sizing: border-box;
    &:hover {
      border-width: 4px;
    }
    &.multiple {
      border-color: yellow;
    }
`])),fa/2,fa,fa,Zb),Mk=sn.div(Bv||(Bv=en([`
    border-radius: `,`px;
    padding: `,`px;
    &:hover `,` {
      border-width: 4px;
    }
`])),(fa+Ua*2)/2,Ua,Qb);function Pb(a){return C.createElement(Mk,null,C.createElement(Qb,{title:a.data.name}))}function zk(a){var n=typeof a?.socketPositionWatcher>"u"?hE():a.socketPositionWatcher,r=a?.customize||{},s=r.node,l=r.connection,u=r.socket,d=r.control;return{attach:function(p){n.attach(p)},render:function(p,y){if(p.data.type==="node"){var v=y.parentScope(),w=s?s(p.data):Kb;return w&&C.createElement(w,{data:p.data.payload,emit:function(ie){return void v.emit(ie)}})}else if(p.data.type==="connection"){var x=l?l(p.data):qb,O=p.data.payload,A=O.sourceOutput,P=O.targetInput,I=O.source,K=O.target;return x&&C.createElement(bk,{start:p.data.start||function(Z){return n.listen(I,"output",A,Z)},end:p.data.end||function(Z){return n.listen(K,"input",P,Z)},path:(function(){var Z=qe(fe.mark(function ie(le,q){var oe,U,J,ye,we;return fe.wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:return Ne.next=1,y.emit({type:"connectionpath",data:{payload:O,points:[le,q]}});case 1:if(oe=Ne.sent,oe){Ne.next=2;break}return Ne.abrupt("return","");case 2:if(U=oe.data,J=U.path,ye=U.points,we=.3,!(!J&&ye.length!==2)){Ne.next=3;break}throw new Error("cannot render connection with a custom number of points");case 3:if(J){Ne.next=4;break}return Ne.abrupt("return",O.isLoop?sE(ye,we,120):iE(ye,we));case 4:return Ne.abrupt("return",J);case 5:case"end":return Ne.stop()}},ie)}));return function(ie,le){return Z.apply(this,arguments)}})()},C.createElement(x,{data:p.data.payload}))}else if(p.data.type==="socket"){var F=u?u(p.data):Pb;return F&&p.data.payload&&C.createElement(F,{data:p.data.payload})}else if(p.data.type==="control"){var Y=d&&p.data.payload?d(p.data):p.data.payload instanceof ft.InputControl?Ad:null;return Y&&C.createElement(Y,{data:p.data.payload})}}}}var Rk=Object.freeze({__proto__:null,vars:jk,setup:zk,Connection:qb,useConnection:Ib,Control:Ad,InputControl:Ad,Node:Kb,NodeStyles:Fb,RefControl:Md,RefSocket:zd,Socket:Pb});function Jb(a,n){var r=C.useRef(void 0);function s(){r.current&&clearTimeout(r.current)}var l=function(){s(),r.current=setTimeout(function(){a()},n)};return C.useEffect(function(){return s},[]),[l,s]}var Lk="rgba(110,136,255,0.8)",Bk="rgba(130, 153, 255, 0.8)",Uk="rgba(69, 103, 255, 0.8)",Rl="5px",Rd=120,Uv,vh=sn.div(Uv||(Uv=en([`
  color: #fff;
  padding: 4px;
  border-bottom: 1px solid `,`;
  background-color: `,`;
  cursor: pointer;
  width: 100%;
  position: relative;
  &:first-child {
    border-top-left-radius: `,`;
    border-top-right-radius: `,`;
  }
  &:last-child {
    border-bottom-left-radius: `,`;
    border-bottom-right-radius: `,`;
  }
  &:hover {
    background-color: `,`;
  }
`])),Uk,Lk,Rl,Rl,Rl,Rl,Bk),Hv,$v,Vv,Wb=sn(vh)(Hv||(Hv=en([`
    `,`
`])),function(a){return a.hasSubitems&&mh($v||($v=en([`&:after {
    content: '';
    position: absolute;
    opacity: 0.6;
    right: 5px;
    top: 5px;
    }`])))}),e1=sn.div(Vv||(Vv=en([`
    position: absolute;
    top: 0;
    left: 100%;
    width: `,`px;
`])),Rd);function t1(a){var n,r,s,l,u=C.useState(!1),d=ln(u,2),h=d[0],p=d[1],y=C.useCallback(function(){p(!1)},[p]),v=Jb(y,a.delay),w=ln(v,2),x=w[0],O=w[1],A=((n=a.components)===null||n===void 0||(r=n.item)===null||r===void 0?void 0:r.call(n,a.data))||Wb,P=((s=a.components)===null||s===void 0||(l=s.subitems)===null||l===void 0?void 0:l.call(s,a.data))||e1;return C.createElement(A,{onClick:function(K){K.stopPropagation(),a.data.handler(),a.hide()},hasSubitems:!!a.data.subitems,onPointerDown:function(K){K.stopPropagation()},onPointerOver:function(){O(),p(!0)},onPointerLeave:function(){x&&x()},"data-testid":"context-menu-item"},a.children,a.data.subitems&&h&&C.createElement(P,null,a.data.subitems.map(function(I){return C.createElement(t1,{key:I.key,data:I,delay:a.delay,hide:a.hide,components:a.components},I.label)})))}var Iv,n1=sn.input(Iv||(Iv=en([`
  color: white;
  padding: 1px 8px;
  border: 1px solid white;
  border-radius: 10px;
  font-size: 16px;
  font-family: serif;
  width: 100%;
  box-sizing: border-box;
  background: transparent;
`])));function Hk(a){var n=a.component||n1;return C.createElement(n,{value:a.value,onInput:function(s){a.onChange(s.target.value)},onPointerDown:function(s){s.stopPropagation()},"data-testid":"context-menu-search-input"})}var qv,a1=sn.div(qv||(qv=en([`
  padding: 10px;
  width: `,`px;
  margin-top: -20px;
  margin-left: -`,`px;
`])),Rd,Rd/2);function $k(a){var n,r,s,l,u,d,h=Jb(a.onHide,a.delay),p=ln(h,2),y=p[0],v=p[1],w=C.useState(""),x=ln(w,2),O=x[0],A=x[1],P=new RegExp(O,"i"),I=a.items.filter(function(Y){return Y.label.match(P)}),K=((n=a.components)===null||n===void 0||(r=n.main)===null||r===void 0?void 0:r.call(n))||a1,F=((s=a.components)===null||s===void 0||(l=s.common)===null||l===void 0?void 0:l.call(s))||vh;return C.createElement(K,{onMouseOver:function(){v()},onMouseLeave:function(){y?.()},onWheel:function(Z){Z.stopPropagation()},"data-testid":"context-menu"},a.searchBar&&C.createElement(F,null,C.createElement(Hk,{value:O,onChange:A,component:(u=a.components)===null||u===void 0||(d=u.search)===null||d===void 0?void 0:d.call(u)})),I.map(function(Y){return C.createElement(t1,{key:Y.key,data:Y,delay:a.delay,hide:a.onHide,components:a.components},Y.label)}))}function Vk(a){var n=typeof a?.delay>"u"?1e3:a.delay;return{render:function(s){if(s.data.type==="contextmenu")return C.createElement($k,{items:s.data.items,delay:n,searchBar:s.data.searchBar,onHide:s.data.onHide,components:a?.customize})}}}var Ik=Object.freeze({__proto__:null,setup:Vk,Item:Wb,Subitems:e1,Menu:a1,Search:n1,Common:vh}),Ll=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qk=typeof Ll=="object"&&Ll&&Ll.Object===Object&&Ll,Yk=typeof self=="object"&&self&&self.Object===Object&&self;qk||Yk||Function("return this")();function Gk(){const a=C.useRef(!1);return C.useEffect(()=>(a.current=!0,()=>{a.current=!1}),[]),C.useCallback(()=>a.current,[])}var Yv={width:void 0,height:void 0};function Zk(a){const{ref:n,box:r="content-box"}=a,[{width:s,height:l},u]=C.useState(Yv),d=Gk(),h=C.useRef({...Yv}),p=C.useRef(void 0);return p.current=a.onResize,C.useEffect(()=>{if(!n.current||typeof window>"u"||!("ResizeObserver"in window))return;const y=new ResizeObserver(([v])=>{const w=r==="border-box"?"borderBoxSize":r==="device-pixel-content-box"?"devicePixelContentBoxSize":"contentBoxSize",x=Gv(v,w,"inlineSize"),O=Gv(v,w,"blockSize");if(h.current.width!==x||h.current.height!==O){const P={width:x,height:O};h.current.width=x,h.current.height=O,p.current?p.current(P):d()&&u(P)}});return y.observe(n.current,{box:r}),()=>{y.disconnect()}},[r,n,d]),{width:s,height:l}}function Gv(a,n,r){return a[n]?Array.isArray(a[n])?a[n][0][r]:a[n][r]:n==="contentBoxSize"?a.contentRect[r==="inlineSize"?"width":"height"]:void 0}function da(a){return"".concat(a,"px")}var Zv,Xk=sn.div(Zv||(Zv=en([`
    position: absolute;
    background: rgba(110, 136, 255, 0.8);
    border: 1px solid rgb(192 206 212 / 60%);
`])));function Fk(a){return C.createElement(Xk,{style:{left:da(a.left),top:da(a.top),width:da(a.width),height:da(a.height)},"data-testid":"minimap-node"})}var Xv,Kk=sn.div(Xv||(Xv=en([`
  position: absolute;
  background: rgba(255, 251, 128, 0.32);
  border: 1px solid #ffe52b;
`])));function Qk(a){var n=function(u){return u*a.containerWidth},r=function(u){return u/a.containerWidth},s=Yb(function(l,u){a.translate(r(-l),r(-u))},function(l){return{x:l.pageX,y:l.pageY}});return C.createElement(Kk,{onPointerDown:s.start,style:{left:da(n(a.left)),top:da(n(a.top)),width:da(n(a.width)),height:da(n(a.height))},"data-testid":"minimap-viewport"})}var Fv,Pk=sn.div(Fv||(Fv=en([`
    position: absolute;
    right: 24px;
    bottom: 24px;
    background: rgba(229, 234, 239, 0.65);
    padding: 20px;
    overflow: hidden;
    border: 1px solid #b1b7ff;
    border-radius: 8px;
    box-sizing: border-box;
`])));function Jk(a){var n,r=C.useRef(null),s=Zk({ref:r}),l=s.width,u=l===void 0?0:l,d=((n=r.current)===null||n===void 0?void 0:n.clientWidth)||u,h=C.useCallback(function(p){return p*d},[d]);return C.createElement(Pk,{size:a.size,style:{width:da(a.size*a.ratio),height:da(a.size)},onPointerDown:function(y){y.stopPropagation(),y.preventDefault()},onDoubleClick:function(y){if(y.stopPropagation(),y.preventDefault(),!!r.current){var v=r.current.getBoundingClientRect(),w=(y.clientX-v.left)/(a.size*a.ratio),x=(y.clientY-v.top)/(a.size*a.ratio);a.point(w,x)}},ref:r,"data-testid":"minimap"},d?a.nodes.map(function(p,y){return C.createElement(Fk,{key:y,left:h(p.left),top:h(p.top),width:h(p.width),height:h(p.height)})}):null,C.createElement(Qk,Gr({},a.viewport,{start:a.start,containerWidth:d,translate:a.translate})))}function Wk(a){return{render:function(r){if(r.data.type==="minimap")return C.createElement(Jk,{nodes:r.data.nodes,size:a?.size||200,ratio:r.data.ratio,viewport:r.data.viewport,start:r.data.start,translate:r.data.translate,point:r.data.point})}}}var eC=Object.freeze({__proto__:null,setup:Wk}),Kv,io=20,tC=sn.div(Kv||(Kv=en([`
  width: `,`px;
  height: `,`px;
  box-sizing: border-box;
  background: `,`;
  border: 2px solid white;
  border-radius: `,`px;
`])),io,io,function(a){return a.selected?"#ffd92c":"steelblue"},io);function nC(a){var n=Yb(function(u,d){a.translate(u,d)},a.pointer),r=a.position,s=r.x,l=r.y;return C.createElement(tC,{onPointerDown:function(d){d.stopPropagation(),d.preventDefault(),n.start(d),a.pointerdown()},onContextMenu:function(d){d.stopPropagation(),d.preventDefault(),a.contextMenu()},selected:a.selected,style:{position:"absolute",top:"".concat(l-io/2,"px"),left:"".concat(s-io/2,"px")},"data-testid":"pin"})}function aC(a){function n(r,s){return C.createElement(C.Fragment,null,r.pins.map(function(l){return C.createElement(nC,Gr({},l,{key:l.id,contextMenu:function(){var d;a==null||(d=a.contextMenu)===null||d===void 0||d.call(a,l.id)},translate:function(d,h){var p;a==null||(p=a.translate)===null||p===void 0||p.call(a,l.id,d,h)},pointerdown:function(){var d;a==null||(d=a.pointerdown)===null||d===void 0||d.call(a,l.id)},pointer:s}))}))}return{render:function(s,l){var u=s.data,d=l.parentScope(fo);if(u.type==="reroute-pins")return n(u.data,function(){return d.area.pointer})}}}var rC=Object.freeze({__proto__:null,setup:aC}),id=Object.freeze({__proto__:null,classic:Rk,contextMenu:Ik,minimap:eC,reroute:rC});function iC(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=sC(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(y){throw y},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,d=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var y=r.next();return d=y.done,y},e:function(y){h=!0,u=y},f:function(){try{d||r.return==null||r.return()}finally{if(h)throw u}}}}function sC(a,n){if(a){if(typeof a=="string")return Qv(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Qv(a,n):void 0}}function Qv(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function Pv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function Bl(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Pv(Object(r),!0).forEach(function(s){xe(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):Pv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function oC(a,n,r){return n=gt(n),ya(a,r1()?Reflect.construct(n,r||[],gt(a).constructor):n.apply(a,r))}function r1(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(r1=function(){return!!a})()}function lC(a,n,r,s){var l=lo(gt(a.prototype),n,r);return typeof l=="function"?function(u){return l.apply(r,u)}:l}var uC=(function(a){function n(){for(var r,s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var d=l[0];return Ke(this,n),r=oC(this,n,["react-render"]),xe(r,"presets",[]),r.renderer=yk({createRoot:d?.createRoot}),r.addPipe(function(h){if(!h||Wt(h)!=="object"||!("type"in h))return h;if(h.type==="unmount")r.unmount(h.data.element);else if(h.type==="render"){if("filled"in h.data&&h.data.filled)return h;if(r.mount(h.data.element,h))return Bl(Bl({},h),{},{data:Bl(Bl({},h.data),{},{filled:!0})})}return h}),r}return vn(n,a),Qe(n,[{key:"setParent",value:function(s){var l=this;lC(n,"setParent",this)([s]),this.presets.forEach(function(u){u.attach&&u.attach(l)})}},{key:"mount",value:function(s,l){var u=this.parentScope(),d=iC(this.presets),h;try{for(d.s();!(h=d.n()).done;){var p=h.value,y=p.render(l,this);if(y){var v=C.createElement(gk,{rendered:function(){return void u.emit({type:"rendered",data:l.data})}},y);return this.renderer.mount(v,s),!0}}}catch(w){d.e(w)}finally{d.f()}}},{key:"unmount",value:function(s){this.renderer.unmount(s)}},{key:"addPreset",value:function(s){var l=s;l.attach&&l.attach(this),this.presets.push(l)}}])})(Fi);function cC(a){try{return Function.toString.call(a).indexOf("[native code]")!==-1}catch{return typeof a=="function"}}function i1(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i1=function(){return!!a})()}function fC(a,n,r){if(i1())return Reflect.construct.apply(null,arguments);var s=[null];s.push.apply(s,n);var l=new(a.bind.apply(a,s));return r&&oo(l,r.prototype),l}function Ld(a){var n=typeof Map=="function"?new Map:void 0;return Ld=function(s){if(s===null||!cC(s))return s;if(typeof s!="function")throw new TypeError("Super expression must either be null or a function");if(n!==void 0){if(n.has(s))return n.get(s);n.set(s,l)}function l(){return fC(s,arguments,gt(this).constructor)}return l.prototype=Object.create(s.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),oo(l,s)},Ld(a)}function dC(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=hC(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(y){throw y},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,d=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var y=r.next();return d=y.done,y},e:function(y){h=!0,u=y},f:function(){try{d||r.return==null||r.return()}finally{if(h)throw u}}}}function hC(a,n){if(a){if(typeof a=="string")return Jv(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Jv(a,n):void 0}}function Jv(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}var pC=(function(){function a(n){Ke(this,a),xe(this,"setups",new Map),this.editor=n}return Qe(a,[{key:"add",value:function(r,s){var l=this.setups.get(r.id);if(l)throw new Error("already processed");this.setups.set(r.id,s)}},{key:"remove",value:function(r){this.setups.delete(r)}},{key:"fetchInputs",value:(function(){var n=qe(fe.mark(function s(l){var u=this,d,h,p,y,v,w,x,O,A,P,I,K;return fe.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(d=this.setups.get(l),d){Y.next=3;break}throw new Error("node is not initialized");case 3:return h=d.inputs(),p=this.editor.getConnections().filter(function(Z){return Z.target===l&&h.includes(Z.targetInput)}),y={},Y.next=8,Promise.all(p.map((function(){var Z=qe(fe.mark(function ie(le){return fe.wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return oe.t0=le,oe.next=3,u.fetch(le.source);case 3:return oe.t1=oe.sent,oe.abrupt("return",{c:oe.t0,sourceData:oe.t1});case 5:case"end":return oe.stop()}},ie)}));return function(ie){return Z.apply(this,arguments)}})()));case 8:v=Y.sent,w=dC(v);try{for(w.s();!(x=w.n()).done;)O=x.value,A=O.c,P=O.sourceData,I=y[A.targetInput]?y[A.targetInput]:[],K=y,K[A.targetInput]=[].concat(Ki(I),[P[A.sourceOutput]])}catch(Z){w.e(Z)}finally{w.f()}return Y.abrupt("return",y);case 12:case"end":return Y.stop()}},s,this)}));function r(s){return n.apply(this,arguments)}return r})()},{key:"fetch",value:(function(){var n=qe(fe.mark(function s(l){var u=this,d,h,p,y;return fe.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(d=this.setups.get(l),d){w.next=3;break}throw new Error("node is not initialized");case 3:return h=d.outputs(),w.next=6,d.data(function(){return u.fetchInputs(l)});case 6:if(p=w.sent,y=Object.keys(p),h.every(function(x){return y.includes(x)})){w.next=10;break}throw new Error('dataflow node "'.concat(l,`" doesn't return all of required properties. Expected "`).concat(h.join('", "'),'". Got "').concat(y.join('", "'),'"'));case 10:return w.abrupt("return",p);case 11:case"end":return w.stop()}},s,this)}));function r(s){return n.apply(this,arguments)}return r})()}])})(),mC=(function(){function a(n){Ke(this,a),xe(this,"cache",new Map),this.onDelete=n}return Qe(a,[{key:"get",value:function(r){return this.cache.get(r)}},{key:"add",value:function(r,s){if(this.cache.has(r))throw new Error("cache already exists");this.cache.set(r,s)}},{key:"patch",value:function(r,s){this.cache.set(r,s)}},{key:"delete",value:function(r){var s=this.cache.get(r);this.cache.delete(r),this.onDelete&&this.onDelete(s)}},{key:"clear",value:function(){var r=this;Array.from(this.cache.keys()).forEach(function(s){r.delete(s)})}}])})();function yC(a,n,r){return n=gt(n),ya(a,s1()?Reflect.construct(n,r||[],gt(a).constructor):n.apply(a,r))}function s1(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s1=function(){return!!a})()}var Wv=(function(a){function n(){return Ke(this,n),yC(this,n,["cancelled"])}return vn(n,a),Qe(n)})(Ld(Error));function gC(){var a=!1;function n(p){if(a)throw new Wv;return p}for(var r,s=new Promise(function(p,y){r=y,p()}),l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];var h=u.reduce(function(p,y){var v=p.then(y).then(n);return v},s);return h.cancel=function(){a||r(new Wv),a=!0},h}function vC(a,n,r){return n=gt(n),ya(a,o1()?Reflect.construct(n,r||[],gt(a).constructor):n.apply(a,r))}function o1(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(o1=function(){return!!a})()}function bC(a,n,r,s){var l=lo(gt(a.prototype),n,r);return typeof l=="function"?function(u){return l.apply(r,u)}:l}var wC=(function(a){function n(r){var s;return Ke(this,n),s=vC(this,n,["dataflow-engine"]),xe(s,"cache",new mC(function(l){return l?.cancel&&l.cancel()})),s.configure=r,s.addPipe(function(l){return l.type==="nodecreated"&&s.add(l.data),l.type==="noderemoved"&&s.remove(l.data),l}),s}return vn(n,a),Qe(n,[{key:"setParent",value:function(s){bC(n,"setParent",this)([s]),this.editor=this.parentScope(mr),this.dataflow=new pC(this.editor)}},{key:"getDataflow",value:function(){if(!this.dataflow)throw new Error("DataflowEngine isn't attached to NodeEditor");return this.dataflow}},{key:"add",value:function(s){var l=this,u=this.configure?this.configure(s):{inputs:function(){return Object.keys(s.inputs)},outputs:function(){return Object.keys(s.outputs)}};this.getDataflow().add(s,{inputs:u.inputs,outputs:u.outputs,data:(function(){var d=qe(fe.mark(function p(y){var v,w;return fe.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(v=l.cache.get(s.id),!v){O.next=3;break}return O.abrupt("return",v);case 3:return w=gC(function(){return y()},function(A){return s.data(A)}),l.cache.add(s.id,w),O.abrupt("return",w);case 6:case"end":return O.stop()}},p)}));function h(p){return d.apply(this,arguments)}return h})()})}},{key:"remove",value:function(s){this.getDataflow().remove(s.id)}},{key:"reset",value:function(s){var l=this;if(s){var u=this.getDataflow().setups.get(s);if(!u)throw new Error("setup");var d=u.outputs();this.cache.delete(s),this.editor.getConnections().filter(function(h){return h.source===s&&d.includes(h.sourceOutput)}).forEach(function(h){l.reset(h.target)})}else this.cache.clear()}},{key:"fetchInputs",value:(function(){var r=qe(fe.mark(function l(u){var d;return fe.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return d=Wt(u)==="object"?u.id:u,p.abrupt("return",this.getDataflow().fetchInputs(d));case 2:case"end":return p.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"fetch",value:(function(){var r=qe(fe.mark(function l(u){var d;return fe.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return d=Wt(u)==="object"?u.id:u,p.abrupt("return",this.getDataflow().fetch(d));case 2:case"end":return p.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()}])})(Fi);const SC=!1,bh=(...a)=>SC,e0=ft.Socket.canConnect;ft.Socket.canConnect=function(a,n){return bh(`[Socket Check] ${a.name} <-> ${n.name}`),e0&&e0(a,n)||a.name==="any"||n.name==="any"?!0:a.name===n.name};ft.Socket.prototype.canConnectTo=function(a){return bh(`[Socket Instance Check] ${this.name} -> ${a.name}`),ft.Socket.canConnect(this,a)};const Zi={boolean:new ft.Socket("boolean"),number:new ft.Socket("number"),object:new ft.Socket("object"),lightInfo:new ft.Socket("light_info"),any:new ft.Socket("any")};Object.values(Zi).forEach(a=>{a.canConnectTo=function(n){return bh(`[Socket Instance Direct] ${this.name} -> ${n.name}`),this.name===n.name||this.name==="any"||n.name==="any"}});const t0={shelly:{icon:"",color:"#ff9800",label:"Shelly"},wled:{icon:"",color:"#e040fb",label:"WLED"},esphome:{icon:"",color:"#00bcd4",label:"ESPHome"},hue:{icon:"",color:"#ffc107",label:"Philips Hue"},kasa:{icon:"",color:"#4caf50",label:"TP-Link Kasa"},tasmota:{icon:"",color:"#ff5722",label:"Tasmota"},chromecast:{icon:"",color:"#5c6bc0",label:"Chromecast"},homekit:{icon:"",color:"#607d8b",label:"HomeKit"},airplay:{icon:"",color:"#9c27b0",label:"AirPlay"},generic:{icon:"",color:"#78909c",label:"HTTP Device"},http:{icon:"",color:"#78909c",label:"HTTP Device"}};function xC(){const[a,n]=C.useState([]),[r,s]=C.useState(!1),[l,u]=C.useState(null),[d,h]=C.useState(null),[p,y]=C.useState(5e3),[v,w]=C.useState(null),x=C.useCallback(async()=>{s(!0),u(null);try{const K=await fetch("/api/discovery/scan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({timeout:p})});if(!K.ok){const Y=await K.json();throw new Error(Y.error||`Scan failed (${K.status})`)}const F=await K.json();n(F.devices||[]),h(new Date)}catch(K){console.error("[Discovery] Scan error:",K),u(K.message)}finally{s(!1)}},[p]),O=K=>t0[K]||t0.generic,A=K=>K?new Date(K).toLocaleTimeString():"",I=(K=>{const F={};for(const Y of K){const Z=Y.type||"generic";F[Z]||(F[Z]=[]),F[Z].push(Y)}return F})(a);return m.jsxs("div",{className:"discovery-panel",children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[m.jsxs("div",{children:[m.jsx("div",{style:{fontSize:"11px",color:"#8a959e",marginBottom:"4px"},children:"Scan your network for smart home devices"}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx("label",{style:{fontSize:"11px",color:"#8a959e"},children:"Timeout:"}),m.jsxs("select",{value:p,onChange:K=>y(Number(K.target.value)),disabled:r,style:{background:"#2a3238",color:"#c5cdd3",border:"1px solid rgba(95, 179, 179, 0.3)",borderRadius:"4px",padding:"4px 8px",fontSize:"11px"},children:[m.jsx("option",{value:3e3,children:"3 seconds"}),m.jsx("option",{value:5e3,children:"5 seconds"}),m.jsx("option",{value:1e4,children:"10 seconds"}),m.jsx("option",{value:15e3,children:"15 seconds"})]})]})]}),m.jsx("button",{onClick:x,disabled:r,style:{padding:"10px 20px",background:r?"rgba(95, 179, 179, 0.2)":"rgba(95, 179, 179, 0.15)",border:"1px solid rgba(95, 179, 179, 0.5)",borderRadius:"6px",color:r?"#8a959e":"#5fb3b3",cursor:r?"not-allowed":"pointer",fontSize:"13px",fontWeight:500,display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s"},children:r?m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"discovery-spinner",children:""}),"Scanning..."]}):m.jsx(m.Fragment,{children:" Scan Network"})})]}),l&&m.jsxs("div",{style:{padding:"10px 14px",background:"rgba(199, 95, 95, 0.15)",border:"1px solid rgba(199, 95, 95, 0.3)",borderRadius:"6px",color:"#c75f5f",fontSize:"12px",marginBottom:"12px"},children:[" ",l]}),d&&m.jsxs("div",{style:{fontSize:"10px",color:"#8a959e",marginBottom:"12px"},children:["Last scan: ",d.toLocaleTimeString(),"  Found ",a.length," device(s)"]}),a.length===0&&!r&&d&&m.jsxs("div",{style:{padding:"30px",textAlign:"center",color:"#8a959e",background:"rgba(0, 0, 0, 0.2)",borderRadius:"8px"},children:[m.jsx("div",{style:{fontSize:"24px",marginBottom:"8px"},children:""}),m.jsx("div",{children:"No devices found on your network."}),m.jsx("div",{style:{fontSize:"11px",marginTop:"8px"},children:"Try increasing the timeout or check if your devices are online."})]}),Object.entries(I).map(([K,F])=>{const Y=O(K);return m.jsxs("div",{style:{marginBottom:"16px"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",paddingBottom:"6px",borderBottom:"1px solid rgba(95, 179, 179, 0.15)"},children:[m.jsx("span",{style:{fontSize:"16px"},children:Y.icon}),m.jsx("span",{style:{color:Y.color,fontSize:"13px",fontWeight:500},children:Y.label}),m.jsx("span",{style:{color:"#8a959e",fontSize:"11px",background:"rgba(0, 0, 0, 0.2)",padding:"2px 8px",borderRadius:"10px"},children:F.length})]}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:F.map(Z=>m.jsxs("div",{style:{background:v===Z.id?"rgba(95, 179, 179, 0.1)":"rgba(0, 0, 0, 0.15)",border:"1px solid rgba(95, 179, 179, 0.15)",borderRadius:"6px",padding:"10px 14px",cursor:"pointer",transition:"all 0.2s"},onClick:()=>w(v===Z.id?null:Z.id),children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[m.jsxs("div",{children:[m.jsx("div",{style:{color:"#c5cdd3",fontSize:"13px",fontWeight:500},children:Z.name}),m.jsxs("div",{style:{color:"#8a959e",fontSize:"11px",fontFamily:"monospace"},children:[Z.ip,":",Z.port]})]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[Z.configured?m.jsx("span",{style:{background:"rgba(95, 170, 125, 0.2)",color:"#5faa7d",padding:"3px 8px",borderRadius:"4px",fontSize:"10px"},children:"Configured"}):m.jsx("span",{style:{background:"rgba(212, 160, 84, 0.2)",color:"#d4a054",padding:"3px 8px",borderRadius:"4px",fontSize:"10px"},children:"New"}),m.jsx("span",{style:{color:"#8a959e",fontSize:"12px"},children:v===Z.id?"":""})]})]}),v===Z.id&&m.jsxs("div",{style:{marginTop:"12px",paddingTop:"12px",borderTop:"1px solid rgba(95, 179, 179, 0.1)",fontSize:"11px",color:"#8a959e"},children:[m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"100px 1fr",gap:"6px 12px"},children:[m.jsx("span",{children:"Host:"}),m.jsx("span",{style:{color:"#c5cdd3",fontFamily:"monospace"},children:Z.host||"N/A"}),m.jsx("span",{children:"Source:"}),m.jsx("span",{style:{color:"#c5cdd3"},children:Z.source==="mdns"?"mDNS/Bonjour":Z.source==="udp"?"UDP Broadcast":Z.source}),m.jsx("span",{children:"Discovered:"}),m.jsx("span",{style:{color:"#c5cdd3"},children:A(Z.discoveredAt)}),Z.capabilities&&Z.capabilities.length>0&&m.jsxs(m.Fragment,{children:[m.jsx("span",{children:"Capabilities:"}),m.jsx("span",{style:{color:"#5fb3b3"},children:Z.capabilities.join(", ")})]}),Z.model&&m.jsxs(m.Fragment,{children:[m.jsx("span",{children:"Model:"}),m.jsx("span",{style:{color:"#c5cdd3"},children:Z.model})]})]}),m.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"12px"},children:[m.jsx("button",{onClick:ie=>{ie.stopPropagation(),window.open(`http://${Z.ip}:${Z.port}`,"_blank")},style:{padding:"6px 12px",background:"rgba(95, 179, 179, 0.15)",border:"1px solid rgba(95, 179, 179, 0.3)",borderRadius:"4px",color:"#5fb3b3",cursor:"pointer",fontSize:"11px"},children:" Open Web UI"}),m.jsx("button",{onClick:ie=>{ie.stopPropagation(),navigator.clipboard.writeText(Z.ip)},style:{padding:"6px 12px",background:"rgba(95, 179, 179, 0.1)",border:"1px solid rgba(95, 179, 179, 0.2)",borderRadius:"4px",color:"#8a959e",cursor:"pointer",fontSize:"11px"},children:" Copy IP"})]})]})]},Z.id))})]},K)}),m.jsx("style",{children:`
                .discovery-spinner {
                    display: inline-block;
                    animation: spin 1s linear infinite;
                }
                @keyframes spin {
                    from { transform: rotate(0deg); }
                    to { transform: rotate(360deg); }
                }
            `})]})}const Ul=[{key:"primary",label:"Primary Accent Color",type:"color",default:"#5fb3b3"},{key:"background",label:"Node Background",type:"color",default:"#1e2428"},{key:"surface",label:"Node Surface",type:"color",default:"#2a3238"},{key:"surfaceLight",label:"Elevated Surface",type:"color",default:"#343d44"},{key:"text",label:"Text Color",type:"color",default:"#c5cdd3"},{key:"textMuted",label:"Muted Text",type:"color",default:"#8a959e"},{key:"success",label:"Success Color",type:"color",default:"#5faa7d"},{key:"warning",label:"Warning Color",type:"color",default:"#d4a054"},{key:"error",label:"Error Color",type:"color",default:"#c75f5f"},{key:"borderOpacity",label:"Border Opacity (%)",type:"range",min:0,max:100,default:25}],EC=[{category:"Home Assistant",icon:"",testable:"ha",settings:[{key:"HA_HOST",label:"Home Assistant URL",placeholder:"http://homeassistant.local:8123",type:"text"},{key:"HA_TOKEN",label:"Long-Lived Access Token",placeholder:"eyJ...",type:"password",isSecret:!0}]},{category:"Weather Services",icon:"",testable:"weather",settings:[{key:"OPENWEATHERMAP_API_KEY",label:"OpenWeatherMap API Key",placeholder:"Your API key",type:"password",isSecret:!0}]},{category:"Ambient Weather",icon:"",settings:[{key:"AMBIENT_API_KEY",label:"Ambient Weather API Key",placeholder:"Your API key",type:"password",isSecret:!0},{key:"AMBIENT_APPLICATION_KEY",label:"Application Key",placeholder:"Your app key",type:"password",isSecret:!0},{key:"AMBIENT_MAC_ADDRESS",label:"Device MAC Address",placeholder:"XX:XX:XX:XX:XX:XX",type:"text"}]},{category:"Philips Hue",icon:"",testable:"hue",settings:[{key:"HUE_BRIDGE_IP",label:"Bridge IP Address",placeholder:"192.168.1.x",type:"text"},{key:"HUE_USERNAME",label:"Bridge Username/Key",placeholder:"Generated key",type:"password",isSecret:!0}]},{category:"Telegram Notifications",icon:"",testable:"telegram",settings:[{key:"TELEGRAM_BOT_TOKEN",label:"Bot Token",placeholder:"123456:ABC-DEF...",type:"password",isSecret:!0},{key:"TELEGRAM_CHAT_ID",label:"Chat ID",placeholder:"123456789",type:"text"}]},{category:"Location",icon:"",description:"Your location for sunrise/sunset calculations and weather",settings:[{key:"LOCATION_CITY",label:"City",placeholder:"Dallas, TX",type:"text"},{key:"LOCATION_LATITUDE",label:"Latitude",placeholder:"32.7767",type:"text"},{key:"LOCATION_LONGITUDE",label:"Longitude",placeholder:"-96.7970",type:"text"},{key:"LOCATION_TIMEZONE",label:"Timezone",placeholder:"America/Chicago",type:"text"}]},{category:"Server Settings",icon:"",settings:[{key:"PORT",label:"Server Port",placeholder:"3000",type:"number"},{key:"LOG_LEVEL",label:"Log Level",placeholder:"info",type:"select",options:["debug","info","warn","error"]}]}],n0=a=>{try{const n=Math.max(0,parseInt(a.slice(1,3),16)-40),r=Math.max(0,parseInt(a.slice(3,5),16)-40),s=Math.max(0,parseInt(a.slice(5,7),16)-40);return`#${n.toString(16).padStart(2,"0")}${r.toString(16).padStart(2,"0")}${s.toString(16).padStart(2,"0")}`}catch{return a}},a0=a=>{try{const n=Math.min(255,parseInt(a.slice(1,3),16)+50),r=Math.min(255,parseInt(a.slice(3,5),16)+50),s=Math.min(255,parseInt(a.slice(5,7),16)+50);return`#${n.toString(16).padStart(2,"0")}${r.toString(16).padStart(2,"0")}${s.toString(16).padStart(2,"0")}`}catch{return a}};function kC({isOpen:a,onClose:n}){const[r,s]=C.useState({}),[l,u]=C.useState(!0),[d,h]=C.useState(!1),[p,y]=C.useState(null),[v,w]=C.useState(null),[x,O]=C.useState({}),[A,P]=C.useState({}),[I,K]=C.useState({}),[F,Y]=C.useState({}),Z=C.useRef(null),[ie,le]=C.useState(()=>{try{const V=localStorage.getItem("t2theme-overrides"),X=V?JSON.parse(V):{},de={};return Ul.forEach(ge=>{de[ge.key]=ge.default}),{...de,...X}}catch{const V={};return Ul.forEach(X=>{V[X.key]=X.default}),V}}),[q,oe]=C.useState(!1),U={"Home Assistant":{accent:"#4fc3f7",background:"#0a1520",icon:""},Weather:{accent:"#ffb74d",background:"#1a1510",icon:""},Logic:{accent:"#81c784",background:"#0a140a",icon:""},"Timer/Event":{accent:"#ce93d8",background:"#140a14",icon:""},Color:{accent:"#f48fb1",background:"#140a10",icon:""},Utility:{accent:"#90a4ae",background:"#0a0f14",icon:""},Inputs:{accent:"#aed581",background:"#0f140a",icon:""},CC_Control_Nodes:{accent:"#64b5f6",background:"#0a1018",icon:""},Other:{accent:"#b0bec5",background:"#0a0f14",icon:""}},[J,ye]=C.useState(()=>{try{const V=localStorage.getItem("t2category-overrides"),X=V?JSON.parse(V):{},de={};for(const[ge,$e]of Object.entries(U))de[ge]={...$e,...X[ge]||{}};return de}catch{return{...U}}}),[we,Ne]=C.useState(!1),_e={Boolean:{color:"#10b981",icon:"",description:"True/False values"},Number:{color:"#3b82f6",icon:"",description:"Numeric values"},String:{color:"#f59e0b",icon:"",description:"Text values"},"HSV Info":{color:"#8b5cf6",icon:"",description:"Color HSV data"},"Object/Any":{color:"#06b6d4",icon:"",description:"Generic objects"},"Light Info":{color:"#eab308",icon:"",description:"Light state data"}},ne={Boolean:"boolean",Number:"number",String:"string","HSV Info":"hsv","Object/Any":"object","Light Info":"light"},[D,j]=C.useState(()=>{try{const V=localStorage.getItem("t2socket-colors"),X=V?JSON.parse(V):{},de={};for(const[ge,$e]of Object.entries(_e))de[ge]={...$e,...X[ge]||{}};return de}catch{return{..._e}}}),[$,z]=C.useState(!1),[re,S]=C.useState(!1),[k,E]=C.useState(null);C.useEffect(()=>{a&&(T(),P({"Home Assistant":!0}),K({}))},[a]);const T=async()=>{u(!0),y(null);try{const V=await fetch("/api/settings");if(!V.ok)throw new Error("Failed to fetch settings");const X=await V.json();s(X.settings||{})}catch(V){y("Failed to load settings: "+V.message)}finally{u(!1)}},R=async()=>{h(!0),y(null),w(null);try{const V=await fetch("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:r})});if(!V.ok){const X=await V.json();throw new Error(X.error||"Failed to save settings")}w("Settings saved! Some changes may require a server restart."),setTimeout(()=>w(null),5e3)}catch(V){y("Failed to save: "+V.message)}finally{h(!1)}},ae=(V,X)=>{s(de=>({...de,[V]:X}))},pe=async()=>{const V=r.LOCATION_CITY;if(!V||V.trim().length<2){E("Please enter a city name first");return}S(!0),E(null);try{const X=await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(V)}&format=json&limit=1&addressdetails=1`,{headers:{"User-Agent":"T2AutoTron/2.1 (Home Automation App)"}});if(!X.ok)throw new Error("Geocoding service unavailable");const de=await X.json();if(de.length===0){E(`Could not find "${V}". Try adding state/country (e.g., "Dallas, TX, USA")`);return}const ge=de[0],$e=parseFloat(ge.lat).toFixed(4),kt=parseFloat(ge.lon).toFixed(4),Ot=ge.address?[ge.address.city||ge.address.town||ge.address.village||ge.name,ge.address.state,ge.address.country].filter(Boolean).join(", "):ge.display_name.split(",").slice(0,3).join(",");let ze="UTC";const st=ge.address?.state?.toLowerCase()||"",ee=ge.address?.country?.toLowerCase()||"";if(ee.includes("portugal"))ze="Europe/Lisbon";else if(ee.includes("spain"))ze="Europe/Madrid";else if(ee.includes("france"))ze="Europe/Paris";else if(ee.includes("germany"))ze="Europe/Berlin";else if(ee.includes("italy"))ze="Europe/Rome";else if(ee.includes("united kingdom")||ee.includes("ireland"))ze="Europe/London";else if(ee.includes("netherlands"))ze="Europe/Amsterdam";else if(ee.includes("belgium"))ze="Europe/Brussels";else if(ee.includes("australia"))ze="Australia/Sydney";else if(ee.includes("japan"))ze="Asia/Tokyo";else if(ee.includes("china"))ze="Asia/Shanghai";else if(ee.includes("india"))ze="Asia/Kolkata";else if(ee.includes("brazil"))ze="America/Sao_Paulo";else if(ee.includes("canada"))st.includes("british columbia")?ze="America/Vancouver":st.includes("alberta")?ze="America/Edmonton":st.includes("saskatchewan")?ze="America/Regina":st.includes("manitoba")?ze="America/Winnipeg":st.includes("ontario")?ze="America/Toronto":st.includes("quebec")?ze="America/Montreal":ze="America/Toronto";else if(ee.includes("united states")||ee.includes("usa"))st.includes("hawaii")?ze="Pacific/Honolulu":st.includes("alaska")?ze="America/Anchorage":["california","nevada","oregon","washington"].some(se=>st.includes(se))?ze="America/Los_Angeles":["arizona"].some(se=>st.includes(se))?ze="America/Phoenix":["colorado","montana","wyoming","utah","new mexico","idaho"].some(se=>st.includes(se))?ze="America/Denver":["texas","oklahoma","kansas","nebraska","south dakota","north dakota","minnesota","iowa","missouri","arkansas","louisiana","wisconsin","illinois","mississippi","alabama","tennessee"].some(se=>st.includes(se))?ze="America/Chicago":ze="America/New_York";else{const se=parseFloat(kt);se>=-125&&se<-115?ze="America/Los_Angeles":se>=-115&&se<-102?ze="America/Denver":se>=-102&&se<-87?ze="America/Chicago":se>=-87&&se<-67?ze="America/New_York":se>=-10&&se<3?ze="Europe/London":se>=3&&se<15?ze="Europe/Paris":se>=15&&se<30&&(ze="Europe/Berlin")}s(se=>({...se,LOCATION_CITY:Ot,LOCATION_LATITUDE:$e,LOCATION_LONGITUDE:kt,LOCATION_TIMEZONE:ze})),w(`Found: ${Ot} (${$e}, ${kt})`),setTimeout(()=>w(null),5e3)}catch(X){E("Search failed: "+X.message)}finally{S(!1)}},ce=(V,X)=>{le(de=>({...de,[V]:X})),oe(!0)},me=()=>{try{localStorage.setItem("t2theme-overrides",JSON.stringify(ie)),w("Theme saved! Refresh the page to apply changes."),oe(!1),setTimeout(()=>w(null),5e3)}catch(V){y("Failed to save theme: "+V.message)}},Oe=()=>{const V={};Ul.forEach(X=>{V[X.key]=X.default}),le(V),localStorage.removeItem("t2theme-overrides"),w("Theme reset to defaults! Refresh the page to apply."),oe(!1),setTimeout(()=>w(null),5e3)},Ee=(V,X,de)=>{ye(ge=>({...ge,[V]:{...ge[V],[X]:de}})),Ne(!0)},ue=V=>{const X=parseInt(V.slice(1,3),16),de=parseInt(V.slice(3,5),16),ge=parseInt(V.slice(5,7),16);return`${X}, ${de}, ${ge}`},De={"Home Assistant":"ha",Weather:"weather",Logic:"logic","Timer/Event":"timer",Color:"color",Utility:"utility",Inputs:"inputs",CC_Control_Nodes:"cc",Other:"other"},Be=V=>{const X=document.documentElement;for(const[de,ge]of Object.entries(V)){const $e=De[de];$e&&(X.style.setProperty(`--node-${$e}-color`,ge.accent),X.style.setProperty(`--node-${$e}-color-rgb`,ue(ge.accent)),ge.background&&X.style.setProperty(`--node-${$e}-bg`,ge.background))}},xt=()=>{try{const V={};for(const[X,de]of Object.entries(J)){const ge=U[X],$e={};de.accent!==ge.accent&&($e.accent=de.accent),de.background!==ge.background&&($e.background=de.background),Object.keys($e).length>0&&(V[X]=$e)}Object.keys(V).length>0?localStorage.setItem("t2category-overrides",JSON.stringify(V)):localStorage.removeItem("t2category-overrides"),Be(J),w("Category colors applied!"),Ne(!1),setTimeout(()=>w(null),3e3)}catch(V){y("Failed to save category colors: "+V.message)}},un=()=>{ye({...U}),localStorage.removeItem("t2category-overrides"),Be(U),w("Category colors reset to defaults!"),Ne(!1),setTimeout(()=>w(null),3e3)},ia=(V,X)=>{j(de=>({...de,[V]:{...de[V],color:X}})),z(!0)},Ue=(V,X=20)=>{const de=parseInt(V.slice(1),16),ge=Math.max(0,(de>>16)-Math.round(255*X/100)),$e=Math.max(0,(de>>8&255)-Math.round(255*X/100)),kt=Math.max(0,(de&255)-Math.round(255*X/100));return`#${(1<<24|ge<<16|$e<<8|kt).toString(16).slice(1)}`},it=(V,X=20)=>{const de=parseInt(V.slice(1),16),ge=Math.min(255,(de>>16)+Math.round(255*X/100)),$e=Math.min(255,(de>>8&255)+Math.round(255*X/100)),kt=Math.min(255,(de&255)+Math.round(255*X/100));return`#${(1<<24|ge<<16|$e<<8|kt).toString(16).slice(1)}`},_t=V=>{const X=document.documentElement;for(const[de,ge]of Object.entries(V)){const $e=ne[de];$e&&(X.style.setProperty(`--socket-${$e}-color`,ge.color),X.style.setProperty(`--socket-${$e}-dark`,Ue(ge.color,15)),X.style.setProperty(`--socket-${$e}-border`,it(ge.color,20)),X.style.setProperty(`--socket-${$e}-rgb`,ue(ge.color)))}},mt=()=>{try{const V={};for(const[X,de]of Object.entries(D)){const ge=_e[X];de.color!==ge.color&&(V[X]={color:de.color})}Object.keys(V).length>0?localStorage.setItem("t2socket-colors",JSON.stringify(V)):localStorage.removeItem("t2socket-colors"),_t(D),w("Socket colors applied!"),z(!1),setTimeout(()=>w(null),3e3)}catch(V){y("Failed to save socket colors: "+V.message)}},bn=()=>{j({..._e}),localStorage.removeItem("t2socket-colors"),_t(_e),w("Socket colors reset to defaults!"),z(!1),setTimeout(()=>w(null),3e3)},Zt=V=>{P(X=>({...X,[V]:!X[V]}))},Mt=V=>{O(X=>({...X,[V]:!X[V]}))},Xr=async V=>{Y(X=>({...X,[V]:!0})),K(X=>({...X,[V]:null}));try{const de=await(await fetch("/api/settings/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({service:V,settings:r})})).json();K(ge=>({...ge,[V]:{success:de.success,message:de.message||(de.success?"Connection successful!":"Connection failed"),details:de.details}}))}catch(X){K(de=>({...de,[V]:{success:!1,message:"Test failed: "+X.message}}))}finally{Y(X=>({...X,[V]:!1}))}},gr=()=>{const V={version:"1.0",timestamp:new Date().toISOString(),settings:r},X=new Blob([JSON.stringify(V,null,2)],{type:"application/json"}),de=URL.createObjectURL(X),ge=document.createElement("a");ge.href=de,ge.download=`t2autotron-settings-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(ge),ge.click(),document.body.removeChild(ge),URL.revokeObjectURL(de),w("Settings exported successfully!"),setTimeout(()=>w(null),3e3)},vr=V=>{const X=V.target.files?.[0];if(!X)return;const de=new FileReader;de.onload=ge=>{try{const $e=JSON.parse(ge.target.result);if(!$e.settings||typeof $e.settings!="object")throw new Error("Invalid backup file format");s(kt=>({...kt,...$e.settings})),w(`Imported ${Object.keys($e.settings).length} settings from backup. Click Save to apply.`),setTimeout(()=>w(null),5e3)}catch($e){y("Failed to import backup: "+$e.message)}},de.readAsText(X),V.target.value=""};return a?uh.createPortal(m.jsx("div",{className:"settings-modal-overlay",onClick:n,children:m.jsxs("div",{className:"settings-modal",onClick:V=>V.stopPropagation(),children:[m.jsxs("div",{className:"settings-header",children:[m.jsx("h2",{children:" Settings & API Keys"}),m.jsx("button",{className:"settings-close-btn",onClick:n,children:""})]}),m.jsx("div",{className:"settings-content",children:l?m.jsx("div",{className:"settings-loading",children:"Loading settings..."}):m.jsxs(m.Fragment,{children:[p&&m.jsx("div",{className:"settings-error",children:p}),v&&m.jsx("div",{className:"settings-success",children:v}),m.jsx("div",{className:"settings-warning",children:" API keys are stored in the server's .env file. Keep this secure!"}),m.jsxs("div",{className:"settings-backup-section",children:[m.jsx("span",{className:"settings-backup-label",children:" Backup & Restore"}),m.jsxs("div",{className:"settings-backup-buttons",children:[m.jsx("button",{className:"settings-btn-small settings-btn-export",onClick:gr,children:" Export Backup"}),m.jsx("button",{className:"settings-btn-small settings-btn-import",onClick:()=>Z.current?.click(),children:" Import Backup"}),m.jsx("input",{ref:Z,type:"file",accept:".json",style:{display:"none"},onChange:vr})]})]}),m.jsxs("div",{className:"settings-category",children:[m.jsxs("div",{className:"settings-category-header",onClick:()=>Zt("Performance"),style:{background:"linear-gradient(135deg, rgba(255, 170, 0, 0.15), rgba(255, 100, 50, 0.1))"},children:[m.jsxs("span",{children:[A.Performance?"":""," Performance Mode"]}),window.getPerformanceMode?.()&&m.jsx("span",{style:{fontSize:"10px",color:"#10b981"},children:" ACTIVE"})]}),A.Performance&&m.jsxs("div",{className:"settings-category-content",children:[m.jsxs("div",{className:"settings-info",style:{fontSize:"11px",color:"#ffaa00",marginBottom:"12px",padding:"10px",background:"rgba(255, 170, 0, 0.1)",borderRadius:"4px",border:"1px solid rgba(255, 170, 0, 0.2)"},children:[" ",m.jsx("strong",{children:"Enable this if you experience lag or high GPU usage with many nodes."}),m.jsx("br",{}),m.jsx("br",{}),"Performance Mode disables:",m.jsxs("ul",{style:{margin:"8px 0 0 0",paddingLeft:"20px"},children:[m.jsx("li",{children:"Backdrop blur effects on nodes (biggest impact)"}),m.jsx("li",{children:"Complex glow shadows"}),m.jsx("li",{children:"Infinite pulse/glow animations"}),m.jsx("li",{children:"Transition effects on nodes"})]})]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px",background:"rgba(0, 0, 0, 0.3)",borderRadius:"6px"},children:[m.jsxs("div",{children:[m.jsx("div",{style:{color:"#e0e0e0",fontSize:"13px",fontWeight:"500"},children:"Performance Mode"}),m.jsx("div",{style:{color:"#888",fontSize:"11px",marginTop:"2px"},children:"Recommended for 40+ nodes"})]}),m.jsxs("label",{style:{position:"relative",display:"inline-block",width:"50px",height:"26px"},children:[m.jsx("input",{type:"checkbox",checked:window.getPerformanceMode?.()||!1,onChange:V=>{window.setPerformanceMode?.(V.target.checked),P(X=>({...X}))},style:{opacity:0,width:0,height:0}}),m.jsx("span",{style:{position:"absolute",cursor:"pointer",top:0,left:0,right:0,bottom:0,background:window.getPerformanceMode?.()?"#10b981":"#444",transition:"background 0.2s",borderRadius:"26px"},children:m.jsx("span",{style:{position:"absolute",content:"",height:"20px",width:"20px",left:window.getPerformanceMode?.()?"26px":"3px",bottom:"3px",background:"#fff",transition:"left 0.2s",borderRadius:"50%"}})})]})]}),m.jsx("div",{style:{marginTop:"12px",fontSize:"10px",color:"#666",textAlign:"center"},children:"Changes apply immediately. Look for  indicator in bottom-left when active."})]})]}),m.jsxs("div",{className:"settings-category",children:[m.jsx("div",{className:"settings-category-header",onClick:()=>Zt("Discovery"),children:m.jsxs("span",{children:[A.Discovery?"":""," Network Device Discovery"]})}),A.Discovery&&m.jsx("div",{className:"settings-category-content",children:m.jsx(xC,{})})]}),m.jsxs("div",{className:"settings-category",children:[m.jsxs("div",{className:"settings-category-header",onClick:()=>Zt("Theme"),children:[m.jsxs("span",{children:[A.Theme?"":""," Node Theme Settings"]}),q&&m.jsx("span",{style:{fontSize:"10px",color:"#d4a054"},children:" unsaved"})]}),A.Theme&&m.jsxs("div",{className:"settings-category-content",children:[m.jsx("div",{className:"settings-info",style:{fontSize:"11px",color:"#8a959e",marginBottom:"12px",padding:"8px",background:"rgba(95, 179, 179, 0.1)",borderRadius:"4px"},children:" Theme settings are stored locally. Refresh the page after saving to apply changes."}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:Ul.map(V=>m.jsxs("div",{className:"settings-field",style:{marginBottom:"8px"},children:[m.jsx("label",{className:"settings-label",style:{fontSize:"10px"},children:V.label}),V.type==="color"?m.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[m.jsx("input",{type:"color",value:ie[V.key]||V.default,onChange:X=>ce(V.key,X.target.value),style:{width:"40px",height:"30px",border:"none",borderRadius:"4px",cursor:"pointer",background:"transparent"}}),m.jsx("input",{type:"text",value:ie[V.key]||V.default,onChange:X=>ce(V.key,X.target.value),className:"settings-input",style:{flex:1,fontFamily:"monospace",fontSize:"11px"}})]}):V.type==="range"?m.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[m.jsx("input",{type:"range",min:V.min,max:V.max,value:ie[V.key]||V.default,onChange:X=>ce(V.key,parseInt(X.target.value)),style:{flex:1}}),m.jsxs("span",{style:{minWidth:"35px",textAlign:"right",color:"#c5cdd3",fontSize:"12px"},children:[ie[V.key]||V.default,"%"]})]}):null]},V.key))}),m.jsxs("div",{style:{marginTop:"12px",padding:"12px",background:ie.background,borderRadius:"8px",border:`1px solid rgba(95, 179, 179, ${(ie.borderOpacity||25)/100})`},children:[m.jsx("div",{style:{fontSize:"10px",color:ie.textMuted,marginBottom:"8px"},children:"PREVIEW"}),m.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",alignItems:"center"},children:[m.jsx("div",{style:{padding:"8px 12px",background:ie.surface,color:ie.text,borderRadius:"4px",fontSize:"12px"},children:"Surface"}),m.jsx("div",{style:{padding:"8px 12px",background:ie.surfaceLight,color:ie.text,borderRadius:"4px",fontSize:"12px"},children:"Elevated"}),m.jsx("span",{style:{color:ie.primary},children:"Primary"}),m.jsx("span",{style:{color:ie.success},children:"Success"}),m.jsx("span",{style:{color:ie.warning},children:"Warning"}),m.jsx("span",{style:{color:ie.error},children:"Error"})]})]}),m.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"12px",justifyContent:"flex-end"},children:[m.jsx("button",{className:"settings-btn-small",onClick:Oe,style:{background:"rgba(199, 95, 95, 0.15)",borderColor:"rgba(199, 95, 95, 0.5)",color:"#c75f5f"},children:"Reset to Defaults"}),m.jsx("button",{className:"settings-btn-small",onClick:me,style:{background:"rgba(95, 170, 125, 0.15)",borderColor:"rgba(95, 170, 125, 0.5)",color:"#5faa7d"},children:" Save Theme"})]})]})]}),m.jsxs("div",{className:"settings-category",children:[m.jsxs("div",{className:"settings-category-header",onClick:()=>Zt("CategoryColors"),children:[m.jsxs("span",{children:[A.CategoryColors?"":""," Category Accent Colors"]}),we&&m.jsx("span",{style:{fontSize:"10px",color:"#d4a054"},children:" unsaved"})]}),A.CategoryColors&&m.jsxs("div",{className:"settings-category-content",children:[m.jsx("div",{className:"settings-info",style:{fontSize:"11px",color:"#8a959e",marginBottom:"12px",padding:"8px",background:"rgba(95, 179, 179, 0.1)",borderRadius:"4px"},children:" Set accent (border/header) and background colors for each node category."}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:Object.entries(J).map(([V,X])=>m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 8px",background:X.background||"#0a0f14",borderRadius:"4px",border:`1px solid ${X.accent}55`},children:[m.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"2px"},children:[m.jsx("input",{type:"color",value:X.accent,onChange:de=>Ee(V,"accent",de.target.value),title:"Accent color (borders, headers)",style:{width:"24px",height:"24px",border:"none",borderRadius:"4px",cursor:"pointer",background:"transparent"}}),m.jsx("span",{style:{fontSize:"8px",color:"#666"},children:"Accent"})]}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"2px"},children:[m.jsx("input",{type:"color",value:X.background||"#0a0f14",onChange:de=>Ee(V,"background",de.target.value),title:"Background color",style:{width:"24px",height:"24px",border:"1px solid #333",borderRadius:"4px",cursor:"pointer",background:"transparent"}}),m.jsx("span",{style:{fontSize:"8px",color:"#666"},children:"BG"})]}),m.jsx("div",{style:{flex:1,minWidth:0},children:m.jsxs("div",{style:{fontSize:"11px",color:X.accent,fontWeight:"600",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[X.icon," ",V]})})]},V))}),m.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"12px",justifyContent:"flex-end"},children:[m.jsx("button",{className:"settings-btn-small",onClick:un,style:{background:"rgba(199, 95, 95, 0.15)",borderColor:"rgba(199, 95, 95, 0.5)",color:"#c75f5f"},children:"Reset to Defaults"}),m.jsx("button",{className:"settings-btn-small",onClick:xt,style:{background:"rgba(95, 170, 125, 0.15)",borderColor:"rgba(95, 170, 125, 0.5)",color:"#5faa7d"},children:" Save Category Colors"})]})]})]}),m.jsxs("div",{className:"settings-category",children:[m.jsxs("div",{className:"settings-category-header",onClick:()=>Zt("SocketColors"),children:[m.jsxs("span",{children:[A.SocketColors?"":""," Socket Colors"]}),$&&m.jsx("span",{style:{fontSize:"10px",color:"#d4a054"},children:" unsaved"})]}),A.SocketColors&&m.jsxs("div",{className:"settings-category-content",children:[m.jsx("div",{className:"settings-info",style:{fontSize:"11px",color:"#8a959e",marginBottom:"12px",padding:"8px",background:"rgba(95, 130, 179, 0.1)",borderRadius:"4px"},children:" Customize socket connector colors by data type. These appear on all nodes."}),m.jsxs("div",{style:{background:"linear-gradient(145deg, #1e2428, #2a3238)",border:"1px solid rgba(95, 179, 179, 0.3)",borderRadius:"8px",padding:"12px",marginBottom:"16px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.4)"},children:[m.jsxs("div",{style:{fontSize:"11px",color:"#5fb3b3",marginBottom:"10px",fontWeight:"600",display:"flex",alignItems:"center",gap:"6px"},children:[m.jsx("span",{children:""})," Preview Node"]}),m.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:Object.entries(D).slice(0,3).map(([V,X])=>m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",background:`linear-gradient(145deg, ${X.color}, ${n0(X.color)})`,border:`2px solid ${a0(X.color)}`,boxShadow:`0 0 8px ${X.color}80`}}),m.jsx("span",{style:{fontSize:"10px",color:"#8a959e"},children:V})]},V))}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",alignItems:"flex-end"},children:Object.entries(D).slice(3).map(([V,X])=>m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx("span",{style:{fontSize:"10px",color:"#8a959e"},children:V}),m.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",background:`linear-gradient(145deg, ${X.color}, ${n0(X.color)})`,border:`2px solid ${a0(X.color)}`,boxShadow:`0 0 8px ${X.color}80`}})]},V))})]})]}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:Object.entries(D).map(([V,X])=>m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 10px",background:"#0a0f14",borderRadius:"4px",border:`1px solid ${X.color}55`},children:[m.jsx("input",{type:"color",value:X.color,onChange:de=>ia(V,de.target.value),title:`${V} socket color`,style:{width:"28px",height:"28px",border:"none",borderRadius:"50%",cursor:"pointer",background:"transparent"}}),m.jsxs("div",{style:{flex:1,minWidth:0},children:[m.jsxs("div",{style:{fontSize:"12px",color:X.color,fontWeight:"600"},children:[X.icon," ",V]}),m.jsx("div",{style:{fontSize:"9px",color:"#666",marginTop:"2px"},children:X.description})]})]},V))}),m.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"12px",justifyContent:"flex-end"},children:[m.jsx("button",{className:"settings-btn-small",onClick:bn,style:{background:"rgba(199, 95, 95, 0.15)",borderColor:"rgba(199, 95, 95, 0.5)",color:"#c75f5f"},children:"Reset to Defaults"}),m.jsx("button",{className:"settings-btn-small",onClick:mt,style:{background:"rgba(95, 170, 125, 0.15)",borderColor:"rgba(95, 170, 125, 0.5)",color:"#5faa7d"},children:" Save Socket Colors"})]})]})]}),EC.map(V=>m.jsxs("div",{className:"settings-category",children:[m.jsxs("div",{className:"settings-category-header",onClick:()=>Zt(V.category),children:[m.jsxs("span",{children:[A[V.category]?"":"",V.icon," ",V.category]}),V.testable&&A[V.category]&&m.jsx("button",{className:`settings-test-btn ${I[V.testable]?.success?"success":I[V.testable]?.success===!1?"error":""}`,onClick:X=>{X.stopPropagation(),Xr(V.testable)},disabled:F[V.testable],children:F[V.testable]?" Testing...":" Test Connection"})]}),A[V.category]&&m.jsxs("div",{className:"settings-category-content",children:[I[V.testable]&&m.jsxs("div",{className:`settings-test-result ${I[V.testable].success?"success":"error"}`,children:[I[V.testable].success?"":""," ",I[V.testable].message,I[V.testable].details&&m.jsx("div",{className:"settings-test-details",children:I[V.testable].details})]}),V.category==="Location"&&m.jsxs("div",{className:"settings-location-search",children:[m.jsx("p",{style:{fontSize:"0.85rem",color:"#aaa",margin:"0 0 10px 0"},children:' Enter your city name and click "Search" to auto-fill coordinates.'}),m.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"10px"},children:[m.jsx("input",{type:"text",className:"settings-input",value:r.LOCATION_CITY||"",onChange:X=>ae("LOCATION_CITY",X.target.value),placeholder:"e.g., Dallas, TX, USA",style:{flex:1},onKeyDown:X=>{X.key==="Enter"&&pe()}}),m.jsx("button",{className:"settings-test-btn",onClick:pe,disabled:re,style:{whiteSpace:"nowrap"},children:re?" Searching...":" Search City"})]}),k&&m.jsxs("div",{className:"settings-test-result error",style:{marginBottom:"10px"},children:[" ",k]}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[m.jsxs("div",{className:"settings-field",children:[m.jsx("label",{className:"settings-label",children:"Latitude"}),m.jsx("input",{type:"text",className:"settings-input",value:r.LOCATION_LATITUDE||"",onChange:X=>ae("LOCATION_LATITUDE",X.target.value),placeholder:"32.7767"})]}),m.jsxs("div",{className:"settings-field",children:[m.jsx("label",{className:"settings-label",children:"Longitude"}),m.jsx("input",{type:"text",className:"settings-input",value:r.LOCATION_LONGITUDE||"",onChange:X=>ae("LOCATION_LONGITUDE",X.target.value),placeholder:"-96.7970"})]})]}),m.jsxs("div",{className:"settings-field",style:{marginTop:"10px"},children:[m.jsx("label",{className:"settings-label",children:"Timezone"}),m.jsx("input",{type:"text",className:"settings-input",value:r.LOCATION_TIMEZONE||"",onChange:X=>ae("LOCATION_TIMEZONE",X.target.value),placeholder:"America/Chicago"}),m.jsx("span",{className:"settings-key-hint",children:"Common: America/New_York, America/Chicago, America/Denver, America/Los_Angeles"})]})]}),V.category!=="Location"&&V.settings.map(X=>m.jsxs("div",{className:"settings-field",children:[m.jsxs("label",{className:"settings-label",children:[X.label,X.isSecret&&m.jsx("button",{className:"settings-show-btn",onClick:()=>Mt(X.key),type:"button",children:x[X.key]?" Hide":" Show"})]}),X.type==="select"?m.jsxs("select",{className:"settings-input",value:r[X.key]||"",onChange:de=>ae(X.key,de.target.value),children:[m.jsx("option",{value:"",children:"Select..."}),X.options.map(de=>m.jsx("option",{value:de,children:de},de))]}):m.jsx("input",{type:X.isSecret&&!x[X.key]?"password":"text",className:"settings-input",value:r[X.key]||"",onChange:de=>ae(X.key,de.target.value),placeholder:X.placeholder}),m.jsx("span",{className:"settings-key-hint",children:X.key})]},X.key))]})]},V.category))]})}),m.jsxs("div",{className:"settings-footer",children:[m.jsx("button",{className:"settings-btn settings-btn-secondary",onClick:n,children:"Cancel"}),m.jsx("button",{className:"settings-btn settings-btn-primary",onClick:R,disabled:d||l,children:d?"Saving...":" Save Settings"})]})]})}),document.body):null}const CC=[{category:"Selection & Editing",items:[{keys:["Delete","Backspace"],action:"Delete selected nodes"},{keys:["Ctrl","C"],action:"Copy selected nodes"},{keys:["Ctrl","V"],action:"Paste nodes at cursor"},{keys:["Ctrl","Z"],action:"Undo last delete"},{keys:["Ctrl","A"],action:"Select all nodes"},{keys:["Shift","Click"],action:"Add to selection"},{keys:["Drag"],action:"Lasso select multiple nodes"}]},{category:"Navigation",items:[{keys:["Scroll"],action:"Zoom in/out"},{keys:["Middle-click","Drag"],action:"Pan canvas"},{keys:["Home"],action:"Reset viewport to origin"},{keys:["F5"],action:"Reset editor view (fix frozen pan)"},{keys:["Escape"],action:"Cancel/reset drag state"}]},{category:"Node Operations",items:[{keys:["Right-click"],action:"Open context menu"},{keys:["Right-click node"],action:"Node context menu"},{keys:["Double-click"],action:"Edit node properties (where available)"}]},{category:"Graph Management",items:[{keys:["?"],action:"Show this help dialog"}]}];function TC({isOpen:a,onClose:n}){if(C.useEffect(()=>{if(!a)return;const s=l=>{l.key==="Escape"&&n()};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[a,n]),!a)return null;const r=s=>{s.target===s.currentTarget&&n()};return uh.createPortal(m.jsx("div",{className:"shortcuts-modal-overlay",onClick:r,children:m.jsxs("div",{className:"shortcuts-modal",children:[m.jsxs("div",{className:"shortcuts-modal-header",children:[m.jsx("h2",{children:" Keyboard Shortcuts"}),m.jsx("button",{className:"shortcuts-close-btn",onClick:n,children:" Close"})]}),m.jsx("div",{className:"shortcuts-modal-body",children:CC.map((s,l)=>m.jsxs("div",{className:"shortcuts-section",children:[m.jsx("h3",{children:s.category}),m.jsx("div",{className:"shortcuts-list",children:s.items.map((u,d)=>m.jsxs("div",{className:"shortcut-row",children:[m.jsx("div",{className:"shortcut-keys",children:u.keys.map((h,p)=>m.jsxs(aa.Fragment,{children:[m.jsx("kbd",{children:h}),p<u.keys.length-1&&m.jsx("span",{className:"key-separator",children:"+"})]},p))}),m.jsx("div",{className:"shortcut-action",children:u.action})]},d))})]},l))}),m.jsx("div",{className:"shortcuts-modal-footer",children:m.jsxs("p",{children:["Press ",m.jsx("kbd",{children:"?"})," anytime to show this dialog"]})})]})}),document.body)}function OC({isExpanded:a,onToggle:n}){const[r,s]=C.useState([]),[l,u]=C.useState([]),[d,h]=C.useState(!0),[p,y]=C.useState(!1),[v,w]=C.useState(null),[x,O]=C.useState(!1),[A,P]=C.useState(null),[I,K]=C.useState(null),[F,Y]=C.useState({username:"",password:"",name:""}),[Z,ie]=C.useState({username:"",password:""}),[le,q]=C.useState(""),[oe,U]=C.useState(5e3),[J,ye]=C.useState(null),we=C.useRef(null),[Ne,_e]=C.useState({});C.useEffect(()=>(ne(),()=>{we.current&&clearInterval(we.current)}),[]),C.useEffect(()=>(we.current&&clearInterval(we.current),a&&r.length>0&&oe>0&&(we.current=setInterval(()=>{_e(E=>{const T={...E};return r.forEach(R=>{T[R.ip]=Date.now()}),T})},oe)),()=>{we.current&&clearInterval(we.current)}),[a,r,oe]);const ne=async()=>{try{h(!0);const E=await fetch("/api/cameras");if(E.ok){const T=await E.json();s(T.cameras||[]),T.defaultCredentials&&ie(R=>({...R,username:T.defaultCredentials.username||""}))}}catch{w("Failed to load cameras")}finally{h(!1)}},D=async()=>{y(!0),w(null);try{const E=await fetch("/api/cameras/discover",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});if(E.ok){const T=await E.json();if(T.found&&T.found.length>0){const R=r.map(pe=>pe.ip),ae=T.found.filter(pe=>!R.includes(pe.ip));u(ae),window.T2Toast&&(ae.length>0?window.T2Toast.success(`Found ${ae.length} new camera(s)! Click to configure.`):window.T2Toast.info(`Found ${T.found.length} cameras, all already configured.`))}else u([]),window.T2Toast&&window.T2Toast.info("No cameras found on network")}}catch{w("Discovery failed")}finally{y(!1)}},j=async()=>{try{await fetch("/api/cameras/credentials",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Z)}),window.T2Toast&&window.T2Toast.success("Credentials saved")}catch{w("Failed to save credentials")}},$=async(E,T,R)=>{try{await fetch("/api/cameras",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ip:E,name:T||`Camera ${E.split(".").pop()}`,username:R?.username||Z.username,password:R?.password||Z.password})}),u(ae=>ae.filter(pe=>pe.ip!==E)),P(null),q(""),await ne(),window.T2Toast&&window.T2Toast.success(`Camera ${E} added!`)}catch{w("Failed to add camera")}},z=async E=>{try{await fetch(`/api/cameras/${E}`,{method:"DELETE"}),await ne(),J===E&&ye(null)}catch{w("Failed to remove camera")}},re=async()=>{if(I)try{await fetch("/api/cameras",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ip:I,name:F.name,username:F.username,password:F.password})}),K(null),_e(E=>({...E,[I]:Date.now()})),await ne(),window.T2Toast&&window.T2Toast.success(`Camera ${I} updated!`)}catch{w("Failed to update camera")}},S={container:{background:"linear-gradient(180deg, rgba(12, 20, 35, 0.95) 0%, rgba(8, 15, 28, 0.98) 100%)",borderRadius:"12px",border:"1px solid rgba(0, 200, 255, 0.2)",overflow:"hidden",marginBottom:"8px"},header:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 14px",background:"linear-gradient(90deg, rgba(0, 150, 200, 0.15), transparent)",borderBottom:"1px solid rgba(0, 200, 255, 0.1)",cursor:"pointer"},title:{display:"flex",alignItems:"center",gap:"8px",color:"#00d4ff",fontSize:"14px",fontWeight:600},icon:{fontSize:"16px"},badge:{background:"rgba(0, 200, 255, 0.2)",color:"#00d4ff",padding:"2px 8px",borderRadius:"10px",fontSize:"11px"},content:{padding:a?"12px":"0",maxHeight:a?"400px":"0",overflow:"auto",transition:"all 0.3s ease"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"10px"},cameraCard:{background:"rgba(0, 0, 0, 0.3)",borderRadius:"8px",overflow:"hidden",border:"1px solid rgba(0, 200, 255, 0.15)",cursor:"pointer",transition:"all 0.2s ease"},cameraCardSelected:{border:"2px solid #00d4ff",boxShadow:"0 0 10px rgba(0, 200, 255, 0.3)"},cameraImage:{width:"100%",height:"100px",objectFit:"cover",background:"#111"},cameraInfo:{padding:"6px 8px",display:"flex",justifyContent:"space-between",alignItems:"center"},cameraName:{color:"#b8e6ea",fontSize:"11px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},deleteBtn:{background:"rgba(255, 80, 80, 0.2)",border:"none",color:"#ff6b6b",padding:"2px 6px",borderRadius:"4px",cursor:"pointer",fontSize:"10px"},toolbar:{display:"flex",gap:"8px",marginBottom:"10px",flexWrap:"wrap"},btn:{background:"rgba(0, 200, 255, 0.15)",border:"1px solid rgba(0, 200, 255, 0.3)",color:"#00d4ff",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",fontSize:"12px",display:"flex",alignItems:"center",gap:"4px"},btnActive:{background:"rgba(0, 200, 255, 0.3)"},settings:{background:"rgba(0, 0, 0, 0.2)",borderRadius:"8px",padding:"12px",marginBottom:"10px"},inputGroup:{marginBottom:"8px"},label:{color:"#8899aa",fontSize:"11px",marginBottom:"4px",display:"block"},input:{width:"100%",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 200, 255, 0.2)",borderRadius:"4px",padding:"6px 10px",color:"#fff",fontSize:"12px",boxSizing:"border-box"},fullView:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.9)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:1e4},fullImage:{maxWidth:"90vw",maxHeight:"80vh",objectFit:"contain"},closeBtn:{position:"absolute",top:"20px",right:"20px",background:"rgba(255, 255, 255, 0.1)",border:"none",color:"#fff",padding:"10px 20px",borderRadius:"8px",cursor:"pointer",fontSize:"14px"},emptyState:{textAlign:"center",padding:"20px",color:"#667788"},refreshSelect:{background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 200, 255, 0.2)",borderRadius:"4px",padding:"6px",color:"#fff",fontSize:"11px"}},k=E=>{const T=Ne[E]||Date.now();return`/api/cameras/snapshot/${E}?t=${T}`};return m.jsxs("div",{style:S.container,children:[m.jsxs("div",{style:S.header,onClick:n,children:[m.jsxs("div",{style:S.title,children:[m.jsx("span",{style:S.icon,children:""}),m.jsx("span",{children:"Cameras"}),r.length>0&&m.jsx("span",{style:S.badge,children:r.length})]}),m.jsx("span",{style:{color:"#00d4ff"},children:a?"":""})]}),a&&m.jsxs("div",{style:S.content,children:[m.jsxs("div",{style:S.toolbar,children:[m.jsx("button",{style:{...S.btn,...p?S.btnActive:{}},onClick:D,disabled:p,children:p?" Scanning...":" Discover"}),m.jsx("button",{style:{...S.btn,...x?S.btnActive:{}},onClick:()=>O(!x),children:" Settings"}),m.jsxs("select",{style:S.refreshSelect,value:oe,onChange:E=>U(Number(E.target.value)),title:"Refresh interval",children:[m.jsx("option",{value:0,children:"Manual"}),m.jsx("option",{value:2e3,children:"2s"}),m.jsx("option",{value:5e3,children:"5s"}),m.jsx("option",{value:1e4,children:"10s"}),m.jsx("option",{value:3e4,children:"30s"})]})]}),x&&m.jsxs("div",{style:S.settings,children:[m.jsxs("div",{style:S.inputGroup,children:[m.jsx("label",{style:S.label,children:"Select Camera to Configure"}),m.jsxs("select",{style:{...S.input,cursor:"pointer"},value:I||"",onChange:E=>{const T=E.target.value;if(!T){K(null),Y({username:"",password:"",name:""});return}const R=r.find(ae=>ae.ip===T);R?(K(T),Y({name:R.name||"",username:R.username||"",password:""})):(K(T),Y({name:`Camera ${T.split(".").pop()}`,username:Z.username||"",password:Z.password||""}))},children:[m.jsx("option",{value:"",children:"-- Select a camera --"}),r.length>0&&m.jsx("optgroup",{label:" Configured Cameras",children:r.map(E=>m.jsxs("option",{value:E.ip,children:[E.name," (",E.ip,")"]},E.ip))}),l.length>0&&m.jsx("optgroup",{label:" Discovered (Not Configured)",children:l.map(E=>m.jsxs("option",{value:E.ip,children:[E.ip," (Ports: ",E.ports.join(", "),")"]},E.ip))})]})]}),I&&m.jsxs("div",{style:{background:"rgba(0, 0, 0, 0.2)",borderRadius:"6px",padding:"10px",marginTop:"8px"},children:[m.jsxs("div",{style:S.inputGroup,children:[m.jsx("label",{style:S.label,children:"Camera Name"}),m.jsx("input",{type:"text",style:S.input,value:F.name,onChange:E=>Y(T=>({...T,name:E.target.value})),placeholder:"Front Door"})]}),m.jsxs("div",{style:S.inputGroup,children:[m.jsx("label",{style:S.label,children:"Username"}),m.jsx("input",{type:"text",style:S.input,value:F.username,onChange:E=>Y(T=>({...T,username:E.target.value})),placeholder:"admin"})]}),m.jsxs("div",{style:S.inputGroup,children:[m.jsxs("label",{style:S.label,children:["Password ",r.find(E=>E.ip===I)?"(leave blank to keep current)":""]}),m.jsx("input",{type:"password",style:S.input,value:F.password,onChange:E=>Y(T=>({...T,password:E.target.value})),placeholder:""})]}),m.jsx("div",{style:{display:"flex",gap:"8px",marginTop:"8px"},children:m.jsx("button",{style:{...S.btn,flex:1,justifyContent:"center"},onClick:()=>{!r.find(T=>T.ip===I)?$(I,F.name,F):re()},children:r.find(E=>E.ip===I)?" Save Changes":" Add Camera"})})]}),m.jsxs("div",{style:{borderTop:"1px solid rgba(0, 200, 255, 0.15)",marginTop:"12px",paddingTop:"12px"},children:[m.jsx("div",{style:{color:"#8899aa",fontSize:"11px",marginBottom:"8px"},children:"Default credentials (used for new cameras)"}),m.jsxs("div",{style:{display:"flex",gap:"8px"},children:[m.jsx("input",{type:"text",style:{...S.input,flex:1},value:Z.username,onChange:E=>ie(T=>({...T,username:E.target.value})),placeholder:"Username"}),m.jsx("input",{type:"password",style:{...S.input,flex:1},value:Z.password,onChange:E=>ie(T=>({...T,password:E.target.value})),placeholder:"Password"}),m.jsx("button",{style:S.btn,onClick:j,title:"Save as default",children:""})]})]}),m.jsxs("div",{style:{borderTop:"1px solid rgba(0, 200, 255, 0.15)",marginTop:"12px",paddingTop:"12px"},children:[m.jsx("div",{style:{color:"#8899aa",fontSize:"11px",marginBottom:"8px"},children:"Add camera by IP (if not discovered)"}),m.jsxs("div",{style:{display:"flex",gap:"8px"},children:[m.jsx("input",{type:"text",id:"addCameraIp",style:{...S.input,flex:1},placeholder:"192.168.1.100",onKeyDown:E=>{if(E.key==="Enter"&&E.target.value){const T=E.target.value;!l.find(R=>R.ip===T)&&!r.find(R=>R.ip===T)&&u(R=>[...R,{ip:T,ports:["manual"]}]),K(T),Y({name:`Camera ${T.split(".").pop()}`,username:Z.username||"",password:Z.password||""}),E.target.value=""}}}),m.jsx("button",{style:S.btn,onClick:()=>{const E=document.getElementById("addCameraIp"),T=E?.value;T&&(!l.find(R=>R.ip===T)&&!r.find(R=>R.ip===T)&&u(R=>[...R,{ip:T,ports:["manual"]}]),K(T),Y({name:`Camera ${T.split(".").pop()}`,username:Z.username||"",password:Z.password||""}),E.value="")},children:"Configure"})]})]})]}),v&&m.jsxs("div",{style:{color:"#ff6b6b",padding:"8px",fontSize:"12px"},children:[" ",v]}),d?m.jsx("div",{style:S.emptyState,children:"Loading cameras..."}):r.length===0&&l.length===0?m.jsxs("div",{style:S.emptyState,children:[m.jsx("p",{children:"No cameras configured"}),m.jsx("p",{style:{fontSize:"11px"},children:"Click Discover to scan your network"})]}):m.jsx("div",{style:S.grid,children:r.map(E=>m.jsxs("div",{style:{...S.cameraCard,...J===E.ip?S.cameraCardSelected:{}},onClick:()=>ye(E.ip),children:[m.jsx("img",{src:k(E.ip),alt:E.name,style:S.cameraImage,onError:T=>{T.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect fill="%23222" width="100" height="100"/><text x="50" y="55" text-anchor="middle" fill="%23666" font-size="12">No Signal</text></svg>'}}),m.jsxs("div",{style:S.cameraInfo,children:[m.jsx("span",{style:S.cameraName,title:E.ip,children:E.name}),m.jsxs("div",{style:{display:"flex",gap:"4px"},children:[m.jsx("button",{style:{...S.deleteBtn,background:"rgba(0, 150, 255, 0.2)",color:"#00aaff"},onClick:T=>{T.stopPropagation(),O(!0),K(E.ip),Y({name:E.name||"",username:E.username||"",password:""})},title:"Edit credentials",children:""}),m.jsx("button",{style:S.deleteBtn,onClick:T=>{T.stopPropagation(),z(E.ip)},title:"Remove camera",children:""})]})]})]},E.ip))})]}),J&&m.jsxs("div",{style:S.fullView,onClick:()=>ye(null),children:[m.jsx("img",{src:k(J),alt:"Camera feed",style:S.fullImage}),m.jsx("button",{style:S.closeBtn,onClick:()=>ye(null),children:" Close"}),m.jsx("div",{style:{color:"#fff",marginTop:"10px"},children:r.find(E=>E.ip===J)?.name||J})]})]})}const pa=Object.create(null);pa.open="0";pa.close="1";pa.ping="2";pa.pong="3";pa.message="4";pa.upgrade="5";pa.noop="6";const Ql=Object.create(null);Object.keys(pa).forEach(a=>{Ql[pa[a]]=a});const Bd={type:"error",data:"parser error"},l1=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",u1=typeof ArrayBuffer=="function",c1=a=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(a):a&&a.buffer instanceof ArrayBuffer,wh=({type:a,data:n},r,s)=>l1&&n instanceof Blob?r?s(n):r0(n,s):u1&&(n instanceof ArrayBuffer||c1(n))?r?s(n):r0(new Blob([n]),s):s(pa[a]+(n||"")),r0=(a,n)=>{const r=new FileReader;return r.onload=function(){const s=r.result.split(",")[1];n("b"+(s||""))},r.readAsDataURL(a)};function i0(a){return a instanceof Uint8Array?a:a instanceof ArrayBuffer?new Uint8Array(a):new Uint8Array(a.buffer,a.byteOffset,a.byteLength)}let sd;function NC(a,n){if(l1&&a.data instanceof Blob)return a.data.arrayBuffer().then(i0).then(n);if(u1&&(a.data instanceof ArrayBuffer||c1(a.data)))return n(i0(a.data));wh(a,!1,r=>{sd||(sd=new TextEncoder),n(sd.encode(r))})}const s0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ws=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let a=0;a<s0.length;a++)Ws[s0.charCodeAt(a)]=a;const jC=a=>{let n=a.length*.75,r=a.length,s,l=0,u,d,h,p;a[a.length-1]==="="&&(n--,a[a.length-2]==="="&&n--);const y=new ArrayBuffer(n),v=new Uint8Array(y);for(s=0;s<r;s+=4)u=Ws[a.charCodeAt(s)],d=Ws[a.charCodeAt(s+1)],h=Ws[a.charCodeAt(s+2)],p=Ws[a.charCodeAt(s+3)],v[l++]=u<<2|d>>4,v[l++]=(d&15)<<4|h>>2,v[l++]=(h&3)<<6|p&63;return y},_C=typeof ArrayBuffer=="function",Sh=(a,n)=>{if(typeof a!="string")return{type:"message",data:f1(a,n)};const r=a.charAt(0);return r==="b"?{type:"message",data:AC(a.substring(1),n)}:Ql[r]?a.length>1?{type:Ql[r],data:a.substring(1)}:{type:Ql[r]}:Bd},AC=(a,n)=>{if(_C){const r=jC(a);return f1(r,n)}else return{base64:!0,data:a}},f1=(a,n)=>{switch(n){case"blob":return a instanceof Blob?a:new Blob([a]);case"arraybuffer":default:return a instanceof ArrayBuffer?a:a.buffer}},d1="",DC=(a,n)=>{const r=a.length,s=new Array(r);let l=0;a.forEach((u,d)=>{wh(u,!1,h=>{s[d]=h,++l===r&&n(s.join(d1))})})},MC=(a,n)=>{const r=a.split(d1),s=[];for(let l=0;l<r.length;l++){const u=Sh(r[l],n);if(s.push(u),u.type==="error")break}return s};function zC(){return new TransformStream({transform(a,n){NC(a,r=>{const s=r.length;let l;if(s<126)l=new Uint8Array(1),new DataView(l.buffer).setUint8(0,s);else if(s<65536){l=new Uint8Array(3);const u=new DataView(l.buffer);u.setUint8(0,126),u.setUint16(1,s)}else{l=new Uint8Array(9);const u=new DataView(l.buffer);u.setUint8(0,127),u.setBigUint64(1,BigInt(s))}a.data&&typeof a.data!="string"&&(l[0]|=128),n.enqueue(l),n.enqueue(r)})}})}let od;function Hl(a){return a.reduce((n,r)=>n+r.length,0)}function $l(a,n){if(a[0].length===n)return a.shift();const r=new Uint8Array(n);let s=0;for(let l=0;l<n;l++)r[l]=a[0][s++],s===a[0].length&&(a.shift(),s=0);return a.length&&s<a[0].length&&(a[0]=a[0].slice(s)),r}function RC(a,n){od||(od=new TextDecoder);const r=[];let s=0,l=-1,u=!1;return new TransformStream({transform(d,h){for(r.push(d);;){if(s===0){if(Hl(r)<1)break;const p=$l(r,1);u=(p[0]&128)===128,l=p[0]&127,l<126?s=3:l===126?s=1:s=2}else if(s===1){if(Hl(r)<2)break;const p=$l(r,2);l=new DataView(p.buffer,p.byteOffset,p.length).getUint16(0),s=3}else if(s===2){if(Hl(r)<8)break;const p=$l(r,8),y=new DataView(p.buffer,p.byteOffset,p.length),v=y.getUint32(0);if(v>Math.pow(2,21)-1){h.enqueue(Bd);break}l=v*Math.pow(2,32)+y.getUint32(4),s=3}else{if(Hl(r)<l)break;const p=$l(r,l);h.enqueue(Sh(u?p:od.decode(p),n)),s=0}if(l===0||l>a){h.enqueue(Bd);break}}}})}const h1=4;function $t(a){if(a)return LC(a)}function LC(a){for(var n in $t.prototype)a[n]=$t.prototype[n];return a}$t.prototype.on=$t.prototype.addEventListener=function(a,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+a]=this._callbacks["$"+a]||[]).push(n),this};$t.prototype.once=function(a,n){function r(){this.off(a,r),n.apply(this,arguments)}return r.fn=n,this.on(a,r),this};$t.prototype.off=$t.prototype.removeListener=$t.prototype.removeAllListeners=$t.prototype.removeEventListener=function(a,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+a];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+a],this;for(var s,l=0;l<r.length;l++)if(s=r[l],s===n||s.fn===n){r.splice(l,1);break}return r.length===0&&delete this._callbacks["$"+a],this};$t.prototype.emit=function(a){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),r=this._callbacks["$"+a],s=1;s<arguments.length;s++)n[s-1]=arguments[s];if(r){r=r.slice(0);for(var s=0,l=r.length;s<l;++s)r[s].apply(this,n)}return this};$t.prototype.emitReserved=$t.prototype.emit;$t.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks["$"+a]||[]};$t.prototype.hasListeners=function(a){return!!this.listeners(a).length};const gu=typeof Promise=="function"&&typeof Promise.resolve=="function"?n=>Promise.resolve().then(n):(n,r)=>r(n,0),Gn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),BC="arraybuffer";function p1(a,...n){return n.reduce((r,s)=>(a.hasOwnProperty(s)&&(r[s]=a[s]),r),{})}const UC=Gn.setTimeout,HC=Gn.clearTimeout;function vu(a,n){n.useNativeTimers?(a.setTimeoutFn=UC.bind(Gn),a.clearTimeoutFn=HC.bind(Gn)):(a.setTimeoutFn=Gn.setTimeout.bind(Gn),a.clearTimeoutFn=Gn.clearTimeout.bind(Gn))}const $C=1.33;function VC(a){return typeof a=="string"?IC(a):Math.ceil((a.byteLength||a.size)*$C)}function IC(a){let n=0,r=0;for(let s=0,l=a.length;s<l;s++)n=a.charCodeAt(s),n<128?r+=1:n<2048?r+=2:n<55296||n>=57344?r+=3:(s++,r+=4);return r}function m1(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function qC(a){let n="";for(let r in a)a.hasOwnProperty(r)&&(n.length&&(n+="&"),n+=encodeURIComponent(r)+"="+encodeURIComponent(a[r]));return n}function YC(a){let n={},r=a.split("&");for(let s=0,l=r.length;s<l;s++){let u=r[s].split("=");n[decodeURIComponent(u[0])]=decodeURIComponent(u[1])}return n}class GC extends Error{constructor(n,r,s){super(n),this.description=r,this.context=s,this.type="TransportError"}}class xh extends $t{constructor(n){super(),this.writable=!1,vu(this,n),this.opts=n,this.query=n.query,this.socket=n.socket,this.supportsBinary=!n.forceBase64}onError(n,r,s){return super.emitReserved("error",new GC(n,r,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(n){this.readyState==="open"&&this.write(n)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(n){const r=Sh(n,this.socket.binaryType);this.onPacket(r)}onPacket(n){super.emitReserved("packet",n)}onClose(n){this.readyState="closed",super.emitReserved("close",n)}pause(n){}createUri(n,r={}){return n+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const n=this.opts.hostname;return n.indexOf(":")===-1?n:"["+n+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(n){const r=qC(n);return r.length?"?"+r:""}}class ZC extends xh{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(n){this.readyState="pausing";const r=()=>{this.readyState="paused",n()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||r()})),this.writable||(s++,this.once("drain",function(){--s||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(n){const r=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};MC(n,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const n=()=>{this.write([{type:"close"}])};this.readyState==="open"?n():this.once("open",n)}write(n){this.writable=!1,DC(n,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const n=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=m1()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(n,r)}}let y1=!1;try{y1=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const XC=y1;function FC(){}class KC extends ZC{constructor(n){if(super(n),typeof location<"u"){const r=location.protocol==="https:";let s=location.port;s||(s=r?"443":"80"),this.xd=typeof location<"u"&&n.hostname!==location.hostname||s!==n.port}}doWrite(n,r){const s=this.request({method:"POST",data:n});s.on("success",r),s.on("error",(l,u)=>{this.onError("xhr post error",l,u)})}doPoll(){const n=this.request();n.on("data",this.onData.bind(this)),n.on("error",(r,s)=>{this.onError("xhr poll error",r,s)}),this.pollXhr=n}}class ha extends $t{constructor(n,r,s){super(),this.createRequest=n,vu(this,s),this._opts=s,this._method=s.method||"GET",this._uri=r,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var n;const r=p1(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(r);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let l in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(l)&&s.setRequestHeader(l,this._opts.extraHeaders[l])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(n=this._opts.cookieJar)===null||n===void 0||n.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var l;s.readyState===3&&((l=this._opts.cookieJar)===null||l===void 0||l.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(l){this.setTimeoutFn(()=>{this._onError(l)},0);return}typeof document<"u"&&(this._index=ha.requestsCount++,ha.requests[this._index]=this)}_onError(n){this.emitReserved("error",n,this._xhr),this._cleanup(!0)}_cleanup(n){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=FC,n)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ha.requests[this._index],this._xhr=null}}_onLoad(){const n=this._xhr.responseText;n!==null&&(this.emitReserved("data",n),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}ha.requestsCount=0;ha.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",o0);else if(typeof addEventListener=="function"){const a="onpagehide"in Gn?"pagehide":"unload";addEventListener(a,o0,!1)}}function o0(){for(let a in ha.requests)ha.requests.hasOwnProperty(a)&&ha.requests[a].abort()}const QC=(function(){const a=g1({xdomain:!1});return a&&a.responseType!==null})();class PC extends KC{constructor(n){super(n);const r=n&&n.forceBase64;this.supportsBinary=QC&&!r}request(n={}){return Object.assign(n,{xd:this.xd},this.opts),new ha(g1,this.uri(),n)}}function g1(a){const n=a.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!n||XC))return new XMLHttpRequest}catch{}if(!n)try{return new Gn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const v1=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class JC extends xh{get name(){return"websocket"}doOpen(){const n=this.uri(),r=this.opts.protocols,s=v1?{}:p1(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(n,r,s)}catch(l){return this.emitReserved("error",l)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n}),this.ws.onmessage=n=>this.onData(n.data),this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=!1;for(let r=0;r<n.length;r++){const s=n[r],l=r===n.length-1;wh(s,this.supportsBinary,u=>{try{this.doWrite(s,u)}catch{}l&&gu(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const n=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=m1()),this.supportsBinary||(r.b64=1),this.createUri(n,r)}}const ld=Gn.WebSocket||Gn.MozWebSocket;class WC extends JC{createSocket(n,r,s){return v1?new ld(n,r,s):r?new ld(n,r):new ld(n)}doWrite(n,r){this.ws.send(r)}}class eT extends xh{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(n){return this.emitReserved("error",n)}this._transport.closed.then(()=>{this.onClose()}).catch(n=>{this.onError("webtransport error",n)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(n=>{const r=RC(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=n.readable.pipeThrough(r).getReader(),l=zC();l.readable.pipeTo(n.writable),this._writer=l.writable.getWriter();const u=()=>{s.read().then(({done:h,value:p})=>{h||(this.onPacket(p),u())}).catch(h=>{})};u();const d={type:"open"};this.query.sid&&(d.data=`{"sid":"${this.query.sid}"}`),this._writer.write(d).then(()=>this.onOpen())})})}write(n){this.writable=!1;for(let r=0;r<n.length;r++){const s=n[r],l=r===n.length-1;this._writer.write(s).then(()=>{l&&gu(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var n;(n=this._transport)===null||n===void 0||n.close()}}const tT={websocket:WC,webtransport:eT,polling:PC},nT=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,aT=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ud(a){if(a.length>8e3)throw"URI too long";const n=a,r=a.indexOf("["),s=a.indexOf("]");r!=-1&&s!=-1&&(a=a.substring(0,r)+a.substring(r,s).replace(/:/g,";")+a.substring(s,a.length));let l=nT.exec(a||""),u={},d=14;for(;d--;)u[aT[d]]=l[d]||"";return r!=-1&&s!=-1&&(u.source=n,u.host=u.host.substring(1,u.host.length-1).replace(/;/g,":"),u.authority=u.authority.replace("[","").replace("]","").replace(/;/g,":"),u.ipv6uri=!0),u.pathNames=rT(u,u.path),u.queryKey=iT(u,u.query),u}function rT(a,n){const r=/\/{2,9}/g,s=n.replace(r,"/").split("/");return(n.slice(0,1)=="/"||n.length===0)&&s.splice(0,1),n.slice(-1)=="/"&&s.splice(s.length-1,1),s}function iT(a,n){const r={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,l,u){l&&(r[l]=u)}),r}const Hd=typeof addEventListener=="function"&&typeof removeEventListener=="function",Pl=[];Hd&&addEventListener("offline",()=>{Pl.forEach(a=>a())},!1);class hr extends $t{constructor(n,r){if(super(),this.binaryType=BC,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,n&&typeof n=="object"&&(r=n,n=null),n){const s=Ud(n);r.hostname=s.host,r.secure=s.protocol==="https"||s.protocol==="wss",r.port=s.port,s.query&&(r.query=s.query)}else r.host&&(r.hostname=Ud(r.host).host);vu(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(s=>{const l=s.prototype.name;this.transports.push(l),this._transportsByName[l]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=YC(this.opts.query)),Hd&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Pl.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(n){const r=Object.assign({},this.opts.query);r.EIO=h1,r.transport=n,this.id&&(r.sid=this.id);const s=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[n]);return new this._transportsByName[n](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const n=this.opts.rememberUpgrade&&hr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(n);r.open(),this.setTransport(r)}setTransport(n){this.transport&&this.transport.removeAllListeners(),this.transport=n,n.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",hr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",n),this.emitReserved("heartbeat"),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=n.data,this._onError(r);break;case"message":this.emitReserved("data",n.data),this.emitReserved("message",n.data);break}}onHandshake(n){this.emitReserved("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this._pingInterval=n.pingInterval,this._pingTimeout=n.pingTimeout,this._maxPayload=n.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const n=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+n,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},n),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const n=this._getWritablePackets();this.transport.send(n),this._prevBufferLen=n.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let s=0;s<this.writeBuffer.length;s++){const l=this.writeBuffer[s].data;if(l&&(r+=VC(l)),s>0&&r>this._maxPayload)return this.writeBuffer.slice(0,s);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const n=Date.now()>this._pingTimeoutTime;return n&&(this._pingTimeoutTime=0,gu(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),n}write(n,r,s){return this._sendPacket("message",n,r,s),this}send(n,r,s){return this._sendPacket("message",n,r,s),this}_sendPacket(n,r,s,l){if(typeof r=="function"&&(l=r,r=void 0),typeof s=="function"&&(l=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const u={type:n,data:r,options:s};this.emitReserved("packetCreate",u),this.writeBuffer.push(u),l&&this.once("flush",l),this.flush()}close(){const n=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),n()},s=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():n()}):this.upgrading?s():n()),this}_onError(n){if(hr.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",n),this._onClose("transport error",n)}_onClose(n,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Hd&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=Pl.indexOf(this._offlineEventListener);s!==-1&&Pl.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",n,r),this.writeBuffer=[],this._prevBufferLen=0}}}hr.protocol=h1;class sT extends hr{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let n=0;n<this._upgrades.length;n++)this._probe(this._upgrades[n])}_probe(n){let r=this.createTransport(n),s=!1;hr.priorWebsocketSuccess=!1;const l=()=>{s||(r.send([{type:"ping",data:"probe"}]),r.once("packet",w=>{if(!s)if(w.type==="pong"&&w.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;hr.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(v(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const x=new Error("probe error");x.transport=r.name,this.emitReserved("upgradeError",x)}}))};function u(){s||(s=!0,v(),r.close(),r=null)}const d=w=>{const x=new Error("probe error: "+w);x.transport=r.name,u(),this.emitReserved("upgradeError",x)};function h(){d("transport closed")}function p(){d("socket closed")}function y(w){r&&w.name!==r.name&&u()}const v=()=>{r.removeListener("open",l),r.removeListener("error",d),r.removeListener("close",h),this.off("close",p),this.off("upgrading",y)};r.once("open",l),r.once("error",d),r.once("close",h),this.once("close",p),this.once("upgrading",y),this._upgrades.indexOf("webtransport")!==-1&&n!=="webtransport"?this.setTimeoutFn(()=>{s||r.open()},200):r.open()}onHandshake(n){this._upgrades=this._filterUpgrades(n.upgrades),super.onHandshake(n)}_filterUpgrades(n){const r=[];for(let s=0;s<n.length;s++)~this.transports.indexOf(n[s])&&r.push(n[s]);return r}}let oT=class extends sT{constructor(n,r={}){const s=typeof n=="object"?n:r;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(l=>tT[l]).filter(l=>!!l)),super(n,s)}};function lT(a,n="",r){let s=a;r=r||typeof location<"u"&&location,a==null&&(a=r.protocol+"//"+r.host),typeof a=="string"&&(a.charAt(0)==="/"&&(a.charAt(1)==="/"?a=r.protocol+a:a=r.host+a),/^(https?|wss?):\/\//.test(a)||(typeof r<"u"?a=r.protocol+"//"+a:a="https://"+a),s=Ud(a)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const u=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+u+":"+s.port+n,s.href=s.protocol+"://"+u+(r&&r.port===s.port?"":":"+s.port),s}const uT=typeof ArrayBuffer=="function",cT=a=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(a):a.buffer instanceof ArrayBuffer,b1=Object.prototype.toString,fT=typeof Blob=="function"||typeof Blob<"u"&&b1.call(Blob)==="[object BlobConstructor]",dT=typeof File=="function"||typeof File<"u"&&b1.call(File)==="[object FileConstructor]";function Eh(a){return uT&&(a instanceof ArrayBuffer||cT(a))||fT&&a instanceof Blob||dT&&a instanceof File}function Jl(a,n){if(!a||typeof a!="object")return!1;if(Array.isArray(a)){for(let r=0,s=a.length;r<s;r++)if(Jl(a[r]))return!0;return!1}if(Eh(a))return!0;if(a.toJSON&&typeof a.toJSON=="function"&&arguments.length===1)return Jl(a.toJSON(),!0);for(const r in a)if(Object.prototype.hasOwnProperty.call(a,r)&&Jl(a[r]))return!0;return!1}function hT(a){const n=[],r=a.data,s=a;return s.data=$d(r,n),s.attachments=n.length,{packet:s,buffers:n}}function $d(a,n){if(!a)return a;if(Eh(a)){const r={_placeholder:!0,num:n.length};return n.push(a),r}else if(Array.isArray(a)){const r=new Array(a.length);for(let s=0;s<a.length;s++)r[s]=$d(a[s],n);return r}else if(typeof a=="object"&&!(a instanceof Date)){const r={};for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=$d(a[s],n));return r}return a}function pT(a,n){return a.data=Vd(a.data,n),delete a.attachments,a}function Vd(a,n){if(!a)return a;if(a&&a._placeholder===!0){if(typeof a.num=="number"&&a.num>=0&&a.num<n.length)return n[a.num];throw new Error("illegal attachments")}else if(Array.isArray(a))for(let r=0;r<a.length;r++)a[r]=Vd(a[r],n);else if(typeof a=="object")for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&(a[r]=Vd(a[r],n));return a}const mT=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],yT=5;var Je;(function(a){a[a.CONNECT=0]="CONNECT",a[a.DISCONNECT=1]="DISCONNECT",a[a.EVENT=2]="EVENT",a[a.ACK=3]="ACK",a[a.CONNECT_ERROR=4]="CONNECT_ERROR",a[a.BINARY_EVENT=5]="BINARY_EVENT",a[a.BINARY_ACK=6]="BINARY_ACK"})(Je||(Je={}));class gT{constructor(n){this.replacer=n}encode(n){return(n.type===Je.EVENT||n.type===Je.ACK)&&Jl(n)?this.encodeAsBinary({type:n.type===Je.EVENT?Je.BINARY_EVENT:Je.BINARY_ACK,nsp:n.nsp,data:n.data,id:n.id}):[this.encodeAsString(n)]}encodeAsString(n){let r=""+n.type;return(n.type===Je.BINARY_EVENT||n.type===Je.BINARY_ACK)&&(r+=n.attachments+"-"),n.nsp&&n.nsp!=="/"&&(r+=n.nsp+","),n.id!=null&&(r+=n.id),n.data!=null&&(r+=JSON.stringify(n.data,this.replacer)),r}encodeAsBinary(n){const r=hT(n),s=this.encodeAsString(r.packet),l=r.buffers;return l.unshift(s),l}}function l0(a){return Object.prototype.toString.call(a)==="[object Object]"}class kh extends $t{constructor(n){super(),this.reviver=n}add(n){let r;if(typeof n=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(n);const s=r.type===Je.BINARY_EVENT;s||r.type===Je.BINARY_ACK?(r.type=s?Je.EVENT:Je.ACK,this.reconstructor=new vT(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Eh(n)||n.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(n),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+n)}decodeString(n){let r=0;const s={type:Number(n.charAt(0))};if(Je[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===Je.BINARY_EVENT||s.type===Je.BINARY_ACK){const u=r+1;for(;n.charAt(++r)!=="-"&&r!=n.length;);const d=n.substring(u,r);if(d!=Number(d)||n.charAt(r)!=="-")throw new Error("Illegal attachments");s.attachments=Number(d)}if(n.charAt(r+1)==="/"){const u=r+1;for(;++r&&!(n.charAt(r)===","||r===n.length););s.nsp=n.substring(u,r)}else s.nsp="/";const l=n.charAt(r+1);if(l!==""&&Number(l)==l){const u=r+1;for(;++r;){const d=n.charAt(r);if(d==null||Number(d)!=d){--r;break}if(r===n.length)break}s.id=Number(n.substring(u,r+1))}if(n.charAt(++r)){const u=this.tryParse(n.substr(r));if(kh.isPayloadValid(s.type,u))s.data=u;else throw new Error("invalid payload")}return s}tryParse(n){try{return JSON.parse(n,this.reviver)}catch{return!1}}static isPayloadValid(n,r){switch(n){case Je.CONNECT:return l0(r);case Je.DISCONNECT:return r===void 0;case Je.CONNECT_ERROR:return typeof r=="string"||l0(r);case Je.EVENT:case Je.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&mT.indexOf(r[0])===-1);case Je.ACK:case Je.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class vT{constructor(n){this.packet=n,this.buffers=[],this.reconPack=n}takeBinaryData(n){if(this.buffers.push(n),this.buffers.length===this.reconPack.attachments){const r=pT(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const bT=Object.freeze(Object.defineProperty({__proto__:null,Decoder:kh,Encoder:gT,get PacketType(){return Je},protocol:yT},Symbol.toStringTag,{value:"Module"}));function ea(a,n,r){return a.on(n,r),function(){a.off(n,r)}}const wT=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class w1 extends $t{constructor(n,r,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=n,this.nsp=r,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const n=this.io;this.subs=[ea(n,"open",this.onopen.bind(this)),ea(n,"packet",this.onpacket.bind(this)),ea(n,"error",this.onerror.bind(this)),ea(n,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...n){return n.unshift("message"),this.emit.apply(this,n),this}emit(n,...r){var s,l,u;if(wT.hasOwnProperty(n))throw new Error('"'+n.toString()+'" is a reserved event name');if(r.unshift(n),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const d={type:Je.EVENT,data:r};if(d.options={},d.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const v=this.ids++,w=r.pop();this._registerAckCallback(v,w),d.id=v}const h=(l=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||l===void 0?void 0:l.writable,p=this.connected&&!(!((u=this.io.engine)===null||u===void 0)&&u._hasPingExpired());return this.flags.volatile&&!h||(p?(this.notifyOutgoingListeners(d),this.packet(d)):this.sendBuffer.push(d)),this.flags={},this}_registerAckCallback(n,r){var s;const l=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(l===void 0){this.acks[n]=r;return}const u=this.io.setTimeoutFn(()=>{delete this.acks[n];for(let h=0;h<this.sendBuffer.length;h++)this.sendBuffer[h].id===n&&this.sendBuffer.splice(h,1);r.call(this,new Error("operation has timed out"))},l),d=(...h)=>{this.io.clearTimeoutFn(u),r.apply(this,h)};d.withError=!0,this.acks[n]=d}emitWithAck(n,...r){return new Promise((s,l)=>{const u=(d,h)=>d?l(d):s(h);u.withError=!0,r.push(u),this.emit(n,...r)})}_addToQueue(n){let r;typeof n[n.length-1]=="function"&&(r=n.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:n,flags:Object.assign({fromQueue:!0},this.flags)};n.push((l,...u)=>s!==this._queue[0]?void 0:(l!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(l)):(this._queue.shift(),r&&r(null,...u)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(n=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!n||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(n){n.nsp=this.nsp,this.io._packet(n)}onopen(){typeof this.auth=="function"?this.auth(n=>{this._sendConnectPacket(n)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(n){this.packet({type:Je.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},n):n})}onerror(n){this.connected||this.emitReserved("connect_error",n)}onclose(n,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",n,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(n=>{if(!this.sendBuffer.some(s=>String(s.id)===n)){const s=this.acks[n];delete this.acks[n],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(n){if(n.nsp===this.nsp)switch(n.type){case Je.CONNECT:n.data&&n.data.sid?this.onconnect(n.data.sid,n.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Je.EVENT:case Je.BINARY_EVENT:this.onevent(n);break;case Je.ACK:case Je.BINARY_ACK:this.onack(n);break;case Je.DISCONNECT:this.ondisconnect();break;case Je.CONNECT_ERROR:this.destroy();const s=new Error(n.data.message);s.data=n.data.data,this.emitReserved("connect_error",s);break}}onevent(n){const r=n.data||[];n.id!=null&&r.push(this.ack(n.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(n){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const s of r)s.apply(this,n)}super.emit.apply(this,n),this._pid&&n.length&&typeof n[n.length-1]=="string"&&(this._lastOffset=n[n.length-1])}ack(n){const r=this;let s=!1;return function(...l){s||(s=!0,r.packet({type:Je.ACK,id:n,data:l}))}}onack(n){const r=this.acks[n.id];typeof r=="function"&&(delete this.acks[n.id],r.withError&&n.data.unshift(null),r.apply(this,n.data))}onconnect(n,r){this.id=n,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(n=>this.emitEvent(n)),this.receiveBuffer=[],this.sendBuffer.forEach(n=>{this.notifyOutgoingListeners(n),this.packet(n)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(n=>n()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Je.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(n){return this.flags.compress=n,this}get volatile(){return this.flags.volatile=!0,this}timeout(n){return this.flags.timeout=n,this}onAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(n),this}prependAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(n),this}offAny(n){if(!this._anyListeners)return this;if(n){const r=this._anyListeners;for(let s=0;s<r.length;s++)if(n===r[s])return r.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(n),this}prependAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(n),this}offAnyOutgoing(n){if(!this._anyOutgoingListeners)return this;if(n){const r=this._anyOutgoingListeners;for(let s=0;s<r.length;s++)if(n===r[s])return r.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(n){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const s of r)s.apply(this,n.data)}}}function Pi(a){a=a||{},this.ms=a.min||100,this.max=a.max||1e4,this.factor=a.factor||2,this.jitter=a.jitter>0&&a.jitter<=1?a.jitter:0,this.attempts=0}Pi.prototype.duration=function(){var a=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),r=Math.floor(n*this.jitter*a);a=(Math.floor(n*10)&1)==0?a-r:a+r}return Math.min(a,this.max)|0};Pi.prototype.reset=function(){this.attempts=0};Pi.prototype.setMin=function(a){this.ms=a};Pi.prototype.setMax=function(a){this.max=a};Pi.prototype.setJitter=function(a){this.jitter=a};class Id extends $t{constructor(n,r){var s;super(),this.nsps={},this.subs=[],n&&typeof n=="object"&&(r=n,n=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,vu(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((s=r.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new Pi({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=n;const l=r.parser||bT;this.encoder=new l.Encoder,this.decoder=new l.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(n){return arguments.length?(this._reconnection=!!n,n||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(n){return n===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=n,this)}reconnectionDelay(n){var r;return n===void 0?this._reconnectionDelay:(this._reconnectionDelay=n,(r=this.backoff)===null||r===void 0||r.setMin(n),this)}randomizationFactor(n){var r;return n===void 0?this._randomizationFactor:(this._randomizationFactor=n,(r=this.backoff)===null||r===void 0||r.setJitter(n),this)}reconnectionDelayMax(n){var r;return n===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=n,(r=this.backoff)===null||r===void 0||r.setMax(n),this)}timeout(n){return arguments.length?(this._timeout=n,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(n){if(~this._readyState.indexOf("open"))return this;this.engine=new oT(this.uri,this.opts);const r=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const l=ea(r,"open",function(){s.onopen(),n&&n()}),u=h=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",h),n?n(h):this.maybeReconnectOnOpen()},d=ea(r,"error",u);if(this._timeout!==!1){const h=this._timeout,p=this.setTimeoutFn(()=>{l(),u(new Error("timeout")),r.close()},h);this.opts.autoUnref&&p.unref(),this.subs.push(()=>{this.clearTimeoutFn(p)})}return this.subs.push(l),this.subs.push(d),this}connect(n){return this.open(n)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const n=this.engine;this.subs.push(ea(n,"ping",this.onping.bind(this)),ea(n,"data",this.ondata.bind(this)),ea(n,"error",this.onerror.bind(this)),ea(n,"close",this.onclose.bind(this)),ea(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(n){try{this.decoder.add(n)}catch(r){this.onclose("parse error",r)}}ondecoded(n){gu(()=>{this.emitReserved("packet",n)},this.setTimeoutFn)}onerror(n){this.emitReserved("error",n)}socket(n,r){let s=this.nsps[n];return s?this._autoConnect&&!s.active&&s.connect():(s=new w1(this,n,r),this.nsps[n]=s),s}_destroy(n){const r=Object.keys(this.nsps);for(const s of r)if(this.nsps[s].active)return;this._close()}_packet(n){const r=this.encoder.encode(n);for(let s=0;s<r.length;s++)this.engine.write(r[s],n.options)}cleanup(){this.subs.forEach(n=>n()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(n,r){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",n,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const n=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{n.skipReconnect||(this.emitReserved("reconnect_attempt",n.backoff.attempts),!n.skipReconnect&&n.open(l=>{l?(n._reconnecting=!1,n.reconnect(),this.emitReserved("reconnect_error",l)):n.onreconnect()}))},r);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const n=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",n)}}const Qs={};function Wl(a,n){typeof a=="object"&&(n=a,a=void 0),n=n||{};const r=lT(a,n.path||"/socket.io"),s=r.source,l=r.id,u=r.path,d=Qs[l]&&u in Qs[l].nsps,h=n.forceNew||n["force new connection"]||n.multiplex===!1||d;let p;return h?p=new Id(s,n):(Qs[l]||(Qs[l]=new Id(s,n)),p=Qs[l]),r.query&&!n.query&&(n.query=r.queryKey),p.socket(r.path,n)}Object.assign(Wl,{Manager:Id,Socket:w1,io:Wl,connect:Wl});const ST="http://localhost:3000",Ce=Wl(ST,{autoConnect:!1,reconnection:!0,reconnectionAttempts:10,reconnectionDelay:1e3}),xT=()=>{Ce.connected||Ce.connect()},ET=()=>{Ce.connected&&Ce.disconnect()};class kT{constructor(){this.nodes=new Map}register(n,r){typeof n=="object"&&r===void 0&&(r=n,n=r.label?r.label.replace(/\s+/g,""):"Node_"+Math.random().toString(36).substr(2,9)),this.nodes.set(n,r)}get(n){return this.nodes.get(n)}getAll(){return Array.from(this.nodes.values()).filter(n=>n)}getByLabel(n){for(const r of this.nodes.values())if(r.label===n)return r;return null}getByInstance(n){for(const r of this.nodes.values())if(r.nodeClass&&n instanceof r.nodeClass)return r;return null}}const _n=new kT;class Zr extends Error{}class CT extends Zr{constructor(n){super(`Invalid DateTime: ${n.toMessage()}`)}}class TT extends Zr{constructor(n){super(`Invalid Interval: ${n.toMessage()}`)}}class OT extends Zr{constructor(n){super(`Invalid Duration: ${n.toMessage()}`)}}class Ui extends Zr{}class S1 extends Zr{constructor(n){super(`Invalid unit ${n}`)}}class nn extends Zr{}class ur extends Zr{constructor(){super("Zone is an abstract class")}}const he="numeric",ra="short",Dn="long",ou={year:he,month:he,day:he},x1={year:he,month:ra,day:he},NT={year:he,month:ra,day:he,weekday:ra},E1={year:he,month:Dn,day:he},k1={year:he,month:Dn,day:he,weekday:Dn},C1={hour:he,minute:he},T1={hour:he,minute:he,second:he},O1={hour:he,minute:he,second:he,timeZoneName:ra},N1={hour:he,minute:he,second:he,timeZoneName:Dn},j1={hour:he,minute:he,hourCycle:"h23"},_1={hour:he,minute:he,second:he,hourCycle:"h23"},A1={hour:he,minute:he,second:he,hourCycle:"h23",timeZoneName:ra},D1={hour:he,minute:he,second:he,hourCycle:"h23",timeZoneName:Dn},M1={year:he,month:he,day:he,hour:he,minute:he},z1={year:he,month:he,day:he,hour:he,minute:he,second:he},R1={year:he,month:ra,day:he,hour:he,minute:he},L1={year:he,month:ra,day:he,hour:he,minute:he,second:he},jT={year:he,month:ra,day:he,weekday:ra,hour:he,minute:he},B1={year:he,month:Dn,day:he,hour:he,minute:he,timeZoneName:ra},U1={year:he,month:Dn,day:he,hour:he,minute:he,second:he,timeZoneName:ra},H1={year:he,month:Dn,day:he,weekday:Dn,hour:he,minute:he,timeZoneName:Dn},$1={year:he,month:Dn,day:he,weekday:Dn,hour:he,minute:he,second:he,timeZoneName:Dn};class Ji{get type(){throw new ur}get name(){throw new ur}get ianaName(){return this.name}get isUniversal(){throw new ur}offsetName(n,r){throw new ur}formatOffset(n,r){throw new ur}offset(n){throw new ur}equals(n){throw new ur}get isValid(){throw new ur}}let ud=null;class po extends Ji{static get instance(){return ud===null&&(ud=new po),ud}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(n,{format:r,locale:s}){return J1(n,r,s)}formatOffset(n,r){return so(this.offset(n),r)}offset(n){return-new Date(n).getTimezoneOffset()}equals(n){return n.type==="system"}get isValid(){return!0}}const qd=new Map;function _T(a){let n=qd.get(a);return n===void 0&&(n=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:a,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),qd.set(a,n)),n}const AT={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function DT(a,n){const r=a.format(n).replace(/\u200E/g,""),s=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,l,u,d,h,p,y,v]=s;return[d,l,u,h,p,y,v]}function MT(a,n){const r=a.formatToParts(n),s=[];for(let l=0;l<r.length;l++){const{type:u,value:d}=r[l],h=AT[u];u==="era"?s[h]=d:Me(h)||(s[h]=parseInt(d,10))}return s}const cd=new Map;class ma extends Ji{static create(n){let r=cd.get(n);return r===void 0&&cd.set(n,r=new ma(n)),r}static resetCache(){cd.clear(),qd.clear()}static isValidSpecifier(n){return this.isValidZone(n)}static isValidZone(n){if(!n)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:n}).format(),!0}catch{return!1}}constructor(n){super(),this.zoneName=n,this.valid=ma.isValidZone(n)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(n,{format:r,locale:s}){return J1(n,r,s,this.name)}formatOffset(n,r){return so(this.offset(n),r)}offset(n){if(!this.valid)return NaN;const r=new Date(n);if(isNaN(r))return NaN;const s=_T(this.name);let[l,u,d,h,p,y,v]=s.formatToParts?MT(s,r):DT(s,r);h==="BC"&&(l=-Math.abs(l)+1);const x=wu({year:l,month:u,day:d,hour:p===24?0:p,minute:y,second:v,millisecond:0});let O=+r;const A=O%1e3;return O-=A>=0?A:1e3+A,(x-O)/(60*1e3)}equals(n){return n.type==="iana"&&n.name===this.name}get isValid(){return this.valid}}let u0={};function zT(a,n={}){const r=JSON.stringify([a,n]);let s=u0[r];return s||(s=new Intl.ListFormat(a,n),u0[r]=s),s}const Yd=new Map;function Gd(a,n={}){const r=JSON.stringify([a,n]);let s=Yd.get(r);return s===void 0&&(s=new Intl.DateTimeFormat(a,n),Yd.set(r,s)),s}const Zd=new Map;function RT(a,n={}){const r=JSON.stringify([a,n]);let s=Zd.get(r);return s===void 0&&(s=new Intl.NumberFormat(a,n),Zd.set(r,s)),s}const Xd=new Map;function LT(a,n={}){const{base:r,...s}=n,l=JSON.stringify([a,s]);let u=Xd.get(l);return u===void 0&&(u=new Intl.RelativeTimeFormat(a,n),Xd.set(l,u)),u}let eo=null;function BT(){return eo||(eo=new Intl.DateTimeFormat().resolvedOptions().locale,eo)}const Fd=new Map;function V1(a){let n=Fd.get(a);return n===void 0&&(n=new Intl.DateTimeFormat(a).resolvedOptions(),Fd.set(a,n)),n}const Kd=new Map;function UT(a){let n=Kd.get(a);if(!n){const r=new Intl.Locale(a);n="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,"minimalDays"in n||(n={...I1,...n}),Kd.set(a,n)}return n}function HT(a){const n=a.indexOf("-x-");n!==-1&&(a=a.substring(0,n));const r=a.indexOf("-u-");if(r===-1)return[a];{let s,l;try{s=Gd(a).resolvedOptions(),l=a}catch{const p=a.substring(0,r);s=Gd(p).resolvedOptions(),l=p}const{numberingSystem:u,calendar:d}=s;return[l,u,d]}}function $T(a,n,r){return(r||n)&&(a.includes("-u-")||(a+="-u"),r&&(a+=`-ca-${r}`),n&&(a+=`-nu-${n}`)),a}function VT(a){const n=[];for(let r=1;r<=12;r++){const s=Re.utc(2009,r,1);n.push(a(s))}return n}function IT(a){const n=[];for(let r=1;r<=7;r++){const s=Re.utc(2016,11,13+r);n.push(a(s))}return n}function Vl(a,n,r,s){const l=a.listingMode();return l==="error"?null:l==="en"?r(n):s(n)}function qT(a){return a.numberingSystem&&a.numberingSystem!=="latn"?!1:a.numberingSystem==="latn"||!a.locale||a.locale.startsWith("en")||V1(a.locale).numberingSystem==="latn"}class YT{constructor(n,r,s){this.padTo=s.padTo||0,this.floor=s.floor||!1;const{padTo:l,floor:u,...d}=s;if(!r||Object.keys(d).length>0){const h={useGrouping:!1,...s};s.padTo>0&&(h.minimumIntegerDigits=s.padTo),this.inf=RT(n,h)}}format(n){if(this.inf){const r=this.floor?Math.floor(n):n;return this.inf.format(r)}else{const r=this.floor?Math.floor(n):jh(n,3);return Ut(r,this.padTo)}}}class GT{constructor(n,r,s){this.opts=s,this.originalZone=void 0;let l;if(this.opts.timeZone)this.dt=n;else if(n.zone.type==="fixed"){const d=-1*(n.offset/60),h=d>=0?`Etc/GMT+${d}`:`Etc/GMT${d}`;n.offset!==0&&ma.create(h).valid?(l=h,this.dt=n):(l="UTC",this.dt=n.offset===0?n:n.setZone("UTC").plus({minutes:n.offset}),this.originalZone=n.zone)}else n.zone.type==="system"?this.dt=n:n.zone.type==="iana"?(this.dt=n,l=n.zone.name):(l="UTC",this.dt=n.setZone("UTC").plus({minutes:n.offset}),this.originalZone=n.zone);const u={...this.opts};u.timeZone=u.timeZone||l,this.dtf=Gd(r,u)}format(){return this.originalZone?this.formatToParts().map(({value:n})=>n).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const n=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?n.map(r=>{if(r.type==="timeZoneName"){const s=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:s}}else return r}):n}resolvedOptions(){return this.dtf.resolvedOptions()}}class ZT{constructor(n,r,s){this.opts={style:"long",...s},!r&&Q1()&&(this.rtf=LT(n,s))}format(n,r){return this.rtf?this.rtf.format(n,r):hO(r,n,this.opts.numeric,this.opts.style!=="long")}formatToParts(n,r){return this.rtf?this.rtf.formatToParts(n,r):[]}}const I1={firstDay:1,minimalDays:4,weekend:[6,7]};class lt{static fromOpts(n){return lt.create(n.locale,n.numberingSystem,n.outputCalendar,n.weekSettings,n.defaultToEN)}static create(n,r,s,l,u=!1){const d=n||Tt.defaultLocale,h=d||(u?"en-US":BT()),p=r||Tt.defaultNumberingSystem,y=s||Tt.defaultOutputCalendar,v=Pd(l)||Tt.defaultWeekSettings;return new lt(h,p,y,v,d)}static resetCache(){eo=null,Yd.clear(),Zd.clear(),Xd.clear(),Fd.clear(),Kd.clear()}static fromObject({locale:n,numberingSystem:r,outputCalendar:s,weekSettings:l}={}){return lt.create(n,r,s,l)}constructor(n,r,s,l,u){const[d,h,p]=HT(n);this.locale=d,this.numberingSystem=r||h||null,this.outputCalendar=s||p||null,this.weekSettings=l,this.intl=$T(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=u,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=qT(this)),this.fastNumbersCached}listingMode(){const n=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return n&&r?"en":"intl"}clone(n){return!n||Object.getOwnPropertyNames(n).length===0?this:lt.create(n.locale||this.specifiedLocale,n.numberingSystem||this.numberingSystem,n.outputCalendar||this.outputCalendar,Pd(n.weekSettings)||this.weekSettings,n.defaultToEN||!1)}redefaultToEN(n={}){return this.clone({...n,defaultToEN:!0})}redefaultToSystem(n={}){return this.clone({...n,defaultToEN:!1})}months(n,r=!1){return Vl(this,n,tw,()=>{const s=this.intl==="ja"||this.intl.startsWith("ja-");r&=!s;const l=r?{month:n,day:"numeric"}:{month:n},u=r?"format":"standalone";if(!this.monthsCache[u][n]){const d=s?h=>this.dtFormatter(h,l).format():h=>this.extract(h,l,"month");this.monthsCache[u][n]=VT(d)}return this.monthsCache[u][n]})}weekdays(n,r=!1){return Vl(this,n,rw,()=>{const s=r?{weekday:n,year:"numeric",month:"long",day:"numeric"}:{weekday:n},l=r?"format":"standalone";return this.weekdaysCache[l][n]||(this.weekdaysCache[l][n]=IT(u=>this.extract(u,s,"weekday"))),this.weekdaysCache[l][n]})}meridiems(){return Vl(this,void 0,()=>iw,()=>{if(!this.meridiemCache){const n={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Re.utc(2016,11,13,9),Re.utc(2016,11,13,19)].map(r=>this.extract(r,n,"dayperiod"))}return this.meridiemCache})}eras(n){return Vl(this,n,sw,()=>{const r={era:n};return this.eraCache[n]||(this.eraCache[n]=[Re.utc(-40,1,1),Re.utc(2017,1,1)].map(s=>this.extract(s,r,"era"))),this.eraCache[n]})}extract(n,r,s){const l=this.dtFormatter(n,r),u=l.formatToParts(),d=u.find(h=>h.type.toLowerCase()===s);return d?d.value:null}numberFormatter(n={}){return new YT(this.intl,n.forceSimple||this.fastNumbers,n)}dtFormatter(n,r={}){return new GT(n,this.intl,r)}relFormatter(n={}){return new ZT(this.intl,this.isEnglish(),n)}listFormatter(n={}){return zT(this.intl,n)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||V1(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:P1()?UT(this.locale):I1}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(n){return this.locale===n.locale&&this.numberingSystem===n.numberingSystem&&this.outputCalendar===n.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let fd=null;class rn extends Ji{static get utcInstance(){return fd===null&&(fd=new rn(0)),fd}static instance(n){return n===0?rn.utcInstance:new rn(n)}static parseSpecifier(n){if(n){const r=n.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new rn(Su(r[1],r[2]))}return null}constructor(n){super(),this.fixed=n}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${so(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${so(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(n,r){return so(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(n){return n.type==="fixed"&&n.fixed===this.fixed}get isValid(){return!0}}class q1 extends Ji{constructor(n){super(),this.zoneName=n}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function dr(a,n){if(Me(a)||a===null)return n;if(a instanceof Ji)return a;if(JT(a)){const r=a.toLowerCase();return r==="default"?n:r==="local"||r==="system"?po.instance:r==="utc"||r==="gmt"?rn.utcInstance:rn.parseSpecifier(r)||ma.create(a)}else return pr(a)?rn.instance(a):typeof a=="object"&&"offset"in a&&typeof a.offset=="function"?a:new q1(a)}const Ch={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},c0={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},XT=Ch.hanidec.replace(/[\[|\]]/g,"").split("");function FT(a){let n=parseInt(a,10);if(isNaN(n)){n="";for(let r=0;r<a.length;r++){const s=a.charCodeAt(r);if(a[r].search(Ch.hanidec)!==-1)n+=XT.indexOf(a[r]);else for(const l in c0){const[u,d]=c0[l];s>=u&&s<=d&&(n+=s-u)}}return parseInt(n,10)}else return n}const Qd=new Map;function KT(){Qd.clear()}function Jn({numberingSystem:a},n=""){const r=a||"latn";let s=Qd.get(r);s===void 0&&(s=new Map,Qd.set(r,s));let l=s.get(n);return l===void 0&&(l=new RegExp(`${Ch[r]}${n}`),s.set(n,l)),l}let f0=()=>Date.now(),d0="system",h0=null,p0=null,m0=null,y0=60,g0,v0=null;class Tt{static get now(){return f0}static set now(n){f0=n}static set defaultZone(n){d0=n}static get defaultZone(){return dr(d0,po.instance)}static get defaultLocale(){return h0}static set defaultLocale(n){h0=n}static get defaultNumberingSystem(){return p0}static set defaultNumberingSystem(n){p0=n}static get defaultOutputCalendar(){return m0}static set defaultOutputCalendar(n){m0=n}static get defaultWeekSettings(){return v0}static set defaultWeekSettings(n){v0=Pd(n)}static get twoDigitCutoffYear(){return y0}static set twoDigitCutoffYear(n){y0=n%100}static get throwOnInvalid(){return g0}static set throwOnInvalid(n){g0=n}static resetCaches(){lt.resetCache(),ma.resetCache(),Re.resetCache(),KT()}}class ta{constructor(n,r){this.reason=n,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const Y1=[0,31,59,90,120,151,181,212,243,273,304,334],G1=[0,31,60,91,121,152,182,213,244,274,305,335];function Zn(a,n){return new ta("unit out of range",`you specified ${n} (of type ${typeof n}) as a ${a}, which is invalid`)}function Th(a,n,r){const s=new Date(Date.UTC(a,n-1,r));a<100&&a>=0&&s.setUTCFullYear(s.getUTCFullYear()-1900);const l=s.getUTCDay();return l===0?7:l}function Z1(a,n,r){return r+(mo(a)?G1:Y1)[n-1]}function X1(a,n){const r=mo(a)?G1:Y1,s=r.findIndex(u=>u<n),l=n-r[s];return{month:s+1,day:l}}function Oh(a,n){return(a-n+7)%7+1}function lu(a,n=4,r=1){const{year:s,month:l,day:u}=a,d=Z1(s,l,u),h=Oh(Th(s,l,u),r);let p=Math.floor((d-h+14-n)/7),y;return p<1?(y=s-1,p=co(y,n,r)):p>co(s,n,r)?(y=s+1,p=1):y=s,{weekYear:y,weekNumber:p,weekday:h,...xu(a)}}function b0(a,n=4,r=1){const{weekYear:s,weekNumber:l,weekday:u}=a,d=Oh(Th(s,1,n),r),h=Hi(s);let p=l*7+u-d-7+n,y;p<1?(y=s-1,p+=Hi(y)):p>h?(y=s+1,p-=Hi(s)):y=s;const{month:v,day:w}=X1(y,p);return{year:y,month:v,day:w,...xu(a)}}function dd(a){const{year:n,month:r,day:s}=a,l=Z1(n,r,s);return{year:n,ordinal:l,...xu(a)}}function w0(a){const{year:n,ordinal:r}=a,{month:s,day:l}=X1(n,r);return{year:n,month:s,day:l,...xu(a)}}function S0(a,n){if(!Me(a.localWeekday)||!Me(a.localWeekNumber)||!Me(a.localWeekYear)){if(!Me(a.weekday)||!Me(a.weekNumber)||!Me(a.weekYear))throw new Ui("Cannot mix locale-based week fields with ISO-based week fields");return Me(a.localWeekday)||(a.weekday=a.localWeekday),Me(a.localWeekNumber)||(a.weekNumber=a.localWeekNumber),Me(a.localWeekYear)||(a.weekYear=a.localWeekYear),delete a.localWeekday,delete a.localWeekNumber,delete a.localWeekYear,{minDaysInFirstWeek:n.getMinDaysInFirstWeek(),startOfWeek:n.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function QT(a,n=4,r=1){const s=bu(a.weekYear),l=Xn(a.weekNumber,1,co(a.weekYear,n,r)),u=Xn(a.weekday,1,7);return s?l?u?!1:Zn("weekday",a.weekday):Zn("week",a.weekNumber):Zn("weekYear",a.weekYear)}function PT(a){const n=bu(a.year),r=Xn(a.ordinal,1,Hi(a.year));return n?r?!1:Zn("ordinal",a.ordinal):Zn("year",a.year)}function F1(a){const n=bu(a.year),r=Xn(a.month,1,12),s=Xn(a.day,1,uu(a.year,a.month));return n?r?s?!1:Zn("day",a.day):Zn("month",a.month):Zn("year",a.year)}function K1(a){const{hour:n,minute:r,second:s,millisecond:l}=a,u=Xn(n,0,23)||n===24&&r===0&&s===0&&l===0,d=Xn(r,0,59),h=Xn(s,0,59),p=Xn(l,0,999);return u?d?h?p?!1:Zn("millisecond",l):Zn("second",s):Zn("minute",r):Zn("hour",n)}function Me(a){return typeof a>"u"}function pr(a){return typeof a=="number"}function bu(a){return typeof a=="number"&&a%1===0}function JT(a){return typeof a=="string"}function WT(a){return Object.prototype.toString.call(a)==="[object Date]"}function Q1(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function P1(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function eO(a){return Array.isArray(a)?a:[a]}function x0(a,n,r){if(a.length!==0)return a.reduce((s,l)=>{const u=[n(l),l];return s&&r(s[0],u[0])===s[0]?s:u},null)[1]}function tO(a,n){return n.reduce((r,s)=>(r[s]=a[s],r),{})}function Xi(a,n){return Object.prototype.hasOwnProperty.call(a,n)}function Pd(a){if(a==null)return null;if(typeof a!="object")throw new nn("Week settings must be an object");if(!Xn(a.firstDay,1,7)||!Xn(a.minimalDays,1,7)||!Array.isArray(a.weekend)||a.weekend.some(n=>!Xn(n,1,7)))throw new nn("Invalid week settings");return{firstDay:a.firstDay,minimalDays:a.minimalDays,weekend:Array.from(a.weekend)}}function Xn(a,n,r){return bu(a)&&a>=n&&a<=r}function nO(a,n){return a-n*Math.floor(a/n)}function Ut(a,n=2){const r=a<0;let s;return r?s="-"+(""+-a).padStart(n,"0"):s=(""+a).padStart(n,"0"),s}function fr(a){if(!(Me(a)||a===null||a===""))return parseInt(a,10)}function Lr(a){if(!(Me(a)||a===null||a===""))return parseFloat(a)}function Nh(a){if(!(Me(a)||a===null||a==="")){const n=parseFloat("0."+a)*1e3;return Math.floor(n)}}function jh(a,n,r="round"){const s=10**n;switch(r){case"expand":return a>0?Math.ceil(a*s)/s:Math.floor(a*s)/s;case"trunc":return Math.trunc(a*s)/s;case"round":return Math.round(a*s)/s;case"floor":return Math.floor(a*s)/s;case"ceil":return Math.ceil(a*s)/s;default:throw new RangeError(`Value rounding ${r} is out of range`)}}function mo(a){return a%4===0&&(a%100!==0||a%400===0)}function Hi(a){return mo(a)?366:365}function uu(a,n){const r=nO(n-1,12)+1,s=a+(n-r)/12;return r===2?mo(s)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function wu(a){let n=Date.UTC(a.year,a.month-1,a.day,a.hour,a.minute,a.second,a.millisecond);return a.year<100&&a.year>=0&&(n=new Date(n),n.setUTCFullYear(a.year,a.month-1,a.day)),+n}function E0(a,n,r){return-Oh(Th(a,1,n),r)+n-1}function co(a,n=4,r=1){const s=E0(a,n,r),l=E0(a+1,n,r);return(Hi(a)-s+l)/7}function Jd(a){return a>99?a:a>Tt.twoDigitCutoffYear?1900+a:2e3+a}function J1(a,n,r,s=null){const l=new Date(a),u={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};s&&(u.timeZone=s);const d={timeZoneName:n,...u},h=new Intl.DateTimeFormat(r,d).formatToParts(l).find(p=>p.type.toLowerCase()==="timezonename");return h?h.value:null}function Su(a,n){let r=parseInt(a,10);Number.isNaN(r)&&(r=0);const s=parseInt(n,10)||0,l=r<0||Object.is(r,-0)?-s:s;return r*60+l}function W1(a){const n=Number(a);if(typeof a=="boolean"||a===""||!Number.isFinite(n))throw new nn(`Invalid unit value ${a}`);return n}function cu(a,n){const r={};for(const s in a)if(Xi(a,s)){const l=a[s];if(l==null)continue;r[n(s)]=W1(l)}return r}function so(a,n){const r=Math.trunc(Math.abs(a/60)),s=Math.trunc(Math.abs(a%60)),l=a>=0?"+":"-";switch(n){case"short":return`${l}${Ut(r,2)}:${Ut(s,2)}`;case"narrow":return`${l}${r}${s>0?`:${s}`:""}`;case"techie":return`${l}${Ut(r,2)}${Ut(s,2)}`;default:throw new RangeError(`Value format ${n} is out of range for property format`)}}function xu(a){return tO(a,["hour","minute","second","millisecond"])}const aO=["January","February","March","April","May","June","July","August","September","October","November","December"],ew=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],rO=["J","F","M","A","M","J","J","A","S","O","N","D"];function tw(a){switch(a){case"narrow":return[...rO];case"short":return[...ew];case"long":return[...aO];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const nw=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],aw=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],iO=["M","T","W","T","F","S","S"];function rw(a){switch(a){case"narrow":return[...iO];case"short":return[...aw];case"long":return[...nw];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const iw=["AM","PM"],sO=["Before Christ","Anno Domini"],oO=["BC","AD"],lO=["B","A"];function sw(a){switch(a){case"narrow":return[...lO];case"short":return[...oO];case"long":return[...sO];default:return null}}function uO(a){return iw[a.hour<12?0:1]}function cO(a,n){return rw(n)[a.weekday-1]}function fO(a,n){return tw(n)[a.month-1]}function dO(a,n){return sw(n)[a.year<0?0:1]}function hO(a,n,r="always",s=!1){const l={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},u=["hours","minutes","seconds"].indexOf(a)===-1;if(r==="auto"&&u){const w=a==="days";switch(n){case 1:return w?"tomorrow":`next ${l[a][0]}`;case-1:return w?"yesterday":`last ${l[a][0]}`;case 0:return w?"today":`this ${l[a][0]}`}}const d=Object.is(n,-0)||n<0,h=Math.abs(n),p=h===1,y=l[a],v=s?p?y[1]:y[2]||y[1]:p?l[a][0]:a;return d?`${h} ${v} ago`:`in ${h} ${v}`}function k0(a,n){let r="";for(const s of a)s.literal?r+=s.val:r+=n(s.val);return r}const pO={D:ou,DD:x1,DDD:E1,DDDD:k1,t:C1,tt:T1,ttt:O1,tttt:N1,T:j1,TT:_1,TTT:A1,TTTT:D1,f:M1,ff:R1,fff:B1,ffff:H1,F:z1,FF:L1,FFF:U1,FFFF:$1};class an{static create(n,r={}){return new an(n,r)}static parseFormat(n){let r=null,s="",l=!1;const u=[];for(let d=0;d<n.length;d++){const h=n.charAt(d);h==="'"?((s.length>0||l)&&u.push({literal:l||/^\s+$/.test(s),val:s===""?"'":s}),r=null,s="",l=!l):l||h===r?s+=h:(s.length>0&&u.push({literal:/^\s+$/.test(s),val:s}),s=h,r=h)}return s.length>0&&u.push({literal:l||/^\s+$/.test(s),val:s}),u}static macroTokenToFormatOpts(n){return pO[n]}constructor(n,r){this.opts=r,this.loc=n,this.systemLoc=null}formatWithSystemDefault(n,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(n,{...this.opts,...r}).format()}dtFormatter(n,r={}){return this.loc.dtFormatter(n,{...this.opts,...r})}formatDateTime(n,r){return this.dtFormatter(n,r).format()}formatDateTimeParts(n,r){return this.dtFormatter(n,r).formatToParts()}formatInterval(n,r){return this.dtFormatter(n.start,r).dtf.formatRange(n.start.toJSDate(),n.end.toJSDate())}resolvedOptions(n,r){return this.dtFormatter(n,r).resolvedOptions()}num(n,r=0,s=void 0){if(this.opts.forceSimple)return Ut(n,r);const l={...this.opts};return r>0&&(l.padTo=r),s&&(l.signDisplay=s),this.loc.numberFormatter(l).format(n)}formatDateTimeFromString(n,r){const s=this.loc.listingMode()==="en",l=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",u=(O,A)=>this.loc.extract(n,O,A),d=O=>n.isOffsetFixed&&n.offset===0&&O.allowZ?"Z":n.isValid?n.zone.formatOffset(n.ts,O.format):"",h=()=>s?uO(n):u({hour:"numeric",hourCycle:"h12"},"dayperiod"),p=(O,A)=>s?fO(n,O):u(A?{month:O}:{month:O,day:"numeric"},"month"),y=(O,A)=>s?cO(n,O):u(A?{weekday:O}:{weekday:O,month:"long",day:"numeric"},"weekday"),v=O=>{const A=an.macroTokenToFormatOpts(O);return A?this.formatWithSystemDefault(n,A):O},w=O=>s?dO(n,O):u({era:O},"era"),x=O=>{switch(O){case"S":return this.num(n.millisecond);case"u":case"SSS":return this.num(n.millisecond,3);case"s":return this.num(n.second);case"ss":return this.num(n.second,2);case"uu":return this.num(Math.floor(n.millisecond/10),2);case"uuu":return this.num(Math.floor(n.millisecond/100));case"m":return this.num(n.minute);case"mm":return this.num(n.minute,2);case"h":return this.num(n.hour%12===0?12:n.hour%12);case"hh":return this.num(n.hour%12===0?12:n.hour%12,2);case"H":return this.num(n.hour);case"HH":return this.num(n.hour,2);case"Z":return d({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return d({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return d({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return n.zone.offsetName(n.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return n.zone.offsetName(n.ts,{format:"long",locale:this.loc.locale});case"z":return n.zoneName;case"a":return h();case"d":return l?u({day:"numeric"},"day"):this.num(n.day);case"dd":return l?u({day:"2-digit"},"day"):this.num(n.day,2);case"c":return this.num(n.weekday);case"ccc":return y("short",!0);case"cccc":return y("long",!0);case"ccccc":return y("narrow",!0);case"E":return this.num(n.weekday);case"EEE":return y("short",!1);case"EEEE":return y("long",!1);case"EEEEE":return y("narrow",!1);case"L":return l?u({month:"numeric",day:"numeric"},"month"):this.num(n.month);case"LL":return l?u({month:"2-digit",day:"numeric"},"month"):this.num(n.month,2);case"LLL":return p("short",!0);case"LLLL":return p("long",!0);case"LLLLL":return p("narrow",!0);case"M":return l?u({month:"numeric"},"month"):this.num(n.month);case"MM":return l?u({month:"2-digit"},"month"):this.num(n.month,2);case"MMM":return p("short",!1);case"MMMM":return p("long",!1);case"MMMMM":return p("narrow",!1);case"y":return l?u({year:"numeric"},"year"):this.num(n.year);case"yy":return l?u({year:"2-digit"},"year"):this.num(n.year.toString().slice(-2),2);case"yyyy":return l?u({year:"numeric"},"year"):this.num(n.year,4);case"yyyyyy":return l?u({year:"numeric"},"year"):this.num(n.year,6);case"G":return w("short");case"GG":return w("long");case"GGGGG":return w("narrow");case"kk":return this.num(n.weekYear.toString().slice(-2),2);case"kkkk":return this.num(n.weekYear,4);case"W":return this.num(n.weekNumber);case"WW":return this.num(n.weekNumber,2);case"n":return this.num(n.localWeekNumber);case"nn":return this.num(n.localWeekNumber,2);case"ii":return this.num(n.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(n.localWeekYear,4);case"o":return this.num(n.ordinal);case"ooo":return this.num(n.ordinal,3);case"q":return this.num(n.quarter);case"qq":return this.num(n.quarter,2);case"X":return this.num(Math.floor(n.ts/1e3));case"x":return this.num(n.ts);default:return v(O)}};return k0(an.parseFormat(r),x)}formatDurationFromString(n,r){const s=this.opts.signMode==="negativeLargestOnly"?-1:1,l=v=>{switch(v[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"w":return"weeks";case"M":return"months";case"y":return"years";default:return null}},u=(v,w)=>x=>{const O=l(x);if(O){const A=w.isNegativeDuration&&O!==w.largestUnit?s:1;let P;return this.opts.signMode==="negativeLargestOnly"&&O!==w.largestUnit?P="never":this.opts.signMode==="all"?P="always":P="auto",this.num(v.get(O)*A,x.length,P)}else return x},d=an.parseFormat(r),h=d.reduce((v,{literal:w,val:x})=>w?v:v.concat(x),[]),p=n.shiftTo(...h.map(l).filter(v=>v)),y={isNegativeDuration:p<0,largestUnit:Object.keys(p.values)[0]};return k0(d,u(p,y))}}const ow=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Wi(...a){const n=a.reduce((r,s)=>r+s.source,"");return RegExp(`^${n}$`)}function es(...a){return n=>a.reduce(([r,s,l],u)=>{const[d,h,p]=u(n,l);return[{...r,...d},h||s,p]},[{},null,1]).slice(0,2)}function ts(a,...n){if(a==null)return[null,null];for(const[r,s]of n){const l=r.exec(a);if(l)return s(l)}return[null,null]}function lw(...a){return(n,r)=>{const s={};let l;for(l=0;l<a.length;l++)s[a[l]]=fr(n[r+l]);return[s,null,r+l]}}const uw=/(?:([Zz])|([+-]\d\d)(?::?(\d\d))?)/,mO=`(?:${uw.source}?(?:\\[(${ow.source})\\])?)?`,_h=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,cw=RegExp(`${_h.source}${mO}`),Ah=RegExp(`(?:[Tt]${cw.source})?`),yO=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,gO=/(\d{4})-?W(\d\d)(?:-?(\d))?/,vO=/(\d{4})-?(\d{3})/,bO=lw("weekYear","weekNumber","weekDay"),wO=lw("year","ordinal"),SO=/(\d{4})-(\d\d)-(\d\d)/,fw=RegExp(`${_h.source} ?(?:${uw.source}|(${ow.source}))?`),xO=RegExp(`(?: ${fw.source})?`);function $i(a,n,r){const s=a[n];return Me(s)?r:fr(s)}function EO(a,n){return[{year:$i(a,n),month:$i(a,n+1,1),day:$i(a,n+2,1)},null,n+3]}function ns(a,n){return[{hours:$i(a,n,0),minutes:$i(a,n+1,0),seconds:$i(a,n+2,0),milliseconds:Nh(a[n+3])},null,n+4]}function yo(a,n){const r=!a[n]&&!a[n+1],s=Su(a[n+1],a[n+2]),l=r?null:rn.instance(s);return[{},l,n+3]}function go(a,n){const r=a[n]?ma.create(a[n]):null;return[{},r,n+1]}const kO=RegExp(`^T?${_h.source}$`),CO=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function TO(a){const[n,r,s,l,u,d,h,p,y]=a,v=n[0]==="-",w=p&&p[0]==="-",x=(O,A=!1)=>O!==void 0&&(A||O&&v)?-O:O;return[{years:x(Lr(r)),months:x(Lr(s)),weeks:x(Lr(l)),days:x(Lr(u)),hours:x(Lr(d)),minutes:x(Lr(h)),seconds:x(Lr(p),p==="-0"),milliseconds:x(Nh(y),w)}]}const OO={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Dh(a,n,r,s,l,u,d){const h={year:n.length===2?Jd(fr(n)):fr(n),month:ew.indexOf(r)+1,day:fr(s),hour:fr(l),minute:fr(u)};return d&&(h.second=fr(d)),a&&(h.weekday=a.length>3?nw.indexOf(a)+1:aw.indexOf(a)+1),h}const NO=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function jO(a){const[,n,r,s,l,u,d,h,p,y,v,w]=a,x=Dh(n,l,s,r,u,d,h);let O;return p?O=OO[p]:y?O=0:O=Su(v,w),[x,new rn(O)]}function _O(a){return a.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const AO=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,DO=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,MO=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function C0(a){const[,n,r,s,l,u,d,h]=a;return[Dh(n,l,s,r,u,d,h),rn.utcInstance]}function zO(a){const[,n,r,s,l,u,d,h]=a;return[Dh(n,h,r,s,l,u,d),rn.utcInstance]}const RO=Wi(yO,Ah),LO=Wi(gO,Ah),BO=Wi(vO,Ah),UO=Wi(cw),dw=es(EO,ns,yo,go),HO=es(bO,ns,yo,go),$O=es(wO,ns,yo,go),VO=es(ns,yo,go);function IO(a){return ts(a,[RO,dw],[LO,HO],[BO,$O],[UO,VO])}function qO(a){return ts(_O(a),[NO,jO])}function YO(a){return ts(a,[AO,C0],[DO,C0],[MO,zO])}function GO(a){return ts(a,[CO,TO])}const ZO=es(ns);function XO(a){return ts(a,[kO,ZO])}const FO=Wi(SO,xO),KO=Wi(fw),QO=es(ns,yo,go);function PO(a){return ts(a,[FO,dw],[KO,QO])}const T0="Invalid Duration",hw={weeks:{days:7,hours:168,minutes:10080,seconds:10080*60,milliseconds:10080*60*1e3},days:{hours:24,minutes:1440,seconds:1440*60,milliseconds:1440*60*1e3},hours:{minutes:60,seconds:3600,milliseconds:3600*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},JO={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:2184*60,seconds:2184*60*60,milliseconds:2184*60*60*1e3},months:{weeks:4,days:30,hours:720,minutes:720*60,seconds:720*60*60,milliseconds:720*60*60*1e3},...hw},Yn=146097/400,Mi=146097/4800,WO={years:{quarters:4,months:12,weeks:Yn/7,days:Yn,hours:Yn*24,minutes:Yn*24*60,seconds:Yn*24*60*60,milliseconds:Yn*24*60*60*1e3},quarters:{months:3,weeks:Yn/28,days:Yn/4,hours:Yn*24/4,minutes:Yn*24*60/4,seconds:Yn*24*60*60/4,milliseconds:Yn*24*60*60*1e3/4},months:{weeks:Mi/7,days:Mi,hours:Mi*24,minutes:Mi*24*60,seconds:Mi*24*60*60,milliseconds:Mi*24*60*60*1e3},...hw},Vr=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],eN=Vr.slice(0).reverse();function La(a,n,r=!1){const s={values:r?n.values:{...a.values,...n.values||{}},loc:a.loc.clone(n.loc),conversionAccuracy:n.conversionAccuracy||a.conversionAccuracy,matrix:n.matrix||a.matrix};return new We(s)}function pw(a,n){let r=n.milliseconds??0;for(const s of eN.slice(1))n[s]&&(r+=n[s]*a[s].milliseconds);return r}function O0(a,n){const r=pw(a,n)<0?-1:1;Vr.reduceRight((s,l)=>{if(Me(n[l]))return s;if(s){const u=n[s]*r,d=a[l][s],h=Math.floor(u/d);n[l]+=h*r,n[s]-=h*d*r}return l},null),Vr.reduce((s,l)=>{if(Me(n[l]))return s;if(s){const u=n[s]%1;n[s]-=u,n[l]+=u*a[s][l]}return l},null)}function N0(a){const n={};for(const[r,s]of Object.entries(a))s!==0&&(n[r]=s);return n}class We{constructor(n){const r=n.conversionAccuracy==="longterm"||!1;let s=r?WO:JO;n.matrix&&(s=n.matrix),this.values=n.values,this.loc=n.loc||lt.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=n.invalid||null,this.matrix=s,this.isLuxonDuration=!0}static fromMillis(n,r){return We.fromObject({milliseconds:n},r)}static fromObject(n,r={}){if(n==null||typeof n!="object")throw new nn(`Duration.fromObject: argument expected to be an object, got ${n===null?"null":typeof n}`);return new We({values:cu(n,We.normalizeUnit),loc:lt.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(n){if(pr(n))return We.fromMillis(n);if(We.isDuration(n))return n;if(typeof n=="object")return We.fromObject(n);throw new nn(`Unknown duration argument ${n} of type ${typeof n}`)}static fromISO(n,r){const[s]=GO(n);return s?We.fromObject(s,r):We.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static fromISOTime(n,r){const[s]=XO(n);return s?We.fromObject(s,r):We.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static invalid(n,r=null){if(!n)throw new nn("need to specify a reason the Duration is invalid");const s=n instanceof ta?n:new ta(n,r);if(Tt.throwOnInvalid)throw new OT(s);return new We({invalid:s})}static normalizeUnit(n){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[n&&n.toLowerCase()];if(!r)throw new S1(n);return r}static isDuration(n){return n&&n.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(n,r={}){const s={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?an.create(this.loc,s).formatDurationFromString(this,n):T0}toHuman(n={}){if(!this.isValid)return T0;const r=n.showZeros!==!1,s=Vr.map(l=>{const u=this.values[l];return Me(u)||u===0&&!r?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...n,unit:l.slice(0,-1)}).format(u)}).filter(l=>l);return this.loc.listFormatter({type:"conjunction",style:n.listStyle||"narrow",...n}).format(s)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let n="P";return this.years!==0&&(n+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(n+=this.months+this.quarters*3+"M"),this.weeks!==0&&(n+=this.weeks+"W"),this.days!==0&&(n+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(n+="T"),this.hours!==0&&(n+=this.hours+"H"),this.minutes!==0&&(n+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(n+=jh(this.seconds+this.milliseconds/1e3,3)+"S"),n==="P"&&(n+="T0S"),n}toISOTime(n={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(n={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...n,includeOffset:!1},Re.fromMillis(r,{zone:"UTC"}).toISOTime(n))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?pw(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(n){if(!this.isValid)return this;const r=We.fromDurationLike(n),s={};for(const l of Vr)(Xi(r.values,l)||Xi(this.values,l))&&(s[l]=r.get(l)+this.get(l));return La(this,{values:s},!0)}minus(n){if(!this.isValid)return this;const r=We.fromDurationLike(n);return this.plus(r.negate())}mapUnits(n){if(!this.isValid)return this;const r={};for(const s of Object.keys(this.values))r[s]=W1(n(this.values[s],s));return La(this,{values:r},!0)}get(n){return this[We.normalizeUnit(n)]}set(n){if(!this.isValid)return this;const r={...this.values,...cu(n,We.normalizeUnit)};return La(this,{values:r})}reconfigure({locale:n,numberingSystem:r,conversionAccuracy:s,matrix:l}={}){const d={loc:this.loc.clone({locale:n,numberingSystem:r}),matrix:l,conversionAccuracy:s};return La(this,d)}as(n){return this.isValid?this.shiftTo(n).get(n):NaN}normalize(){if(!this.isValid)return this;const n=this.toObject();return O0(this.matrix,n),La(this,{values:n},!0)}rescale(){if(!this.isValid)return this;const n=N0(this.normalize().shiftToAll().toObject());return La(this,{values:n},!0)}shiftTo(...n){if(!this.isValid)return this;if(n.length===0)return this;n=n.map(d=>We.normalizeUnit(d));const r={},s={},l=this.toObject();let u;for(const d of Vr)if(n.indexOf(d)>=0){u=d;let h=0;for(const y in s)h+=this.matrix[y][d]*s[y],s[y]=0;pr(l[d])&&(h+=l[d]);const p=Math.trunc(h);r[d]=p,s[d]=(h*1e3-p*1e3)/1e3}else pr(l[d])&&(s[d]=l[d]);for(const d in s)s[d]!==0&&(r[u]+=d===u?s[d]:s[d]/this.matrix[u][d]);return O0(this.matrix,r),La(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=this.values[r]===0?0:-this.values[r];return La(this,{values:n},!0)}removeZeros(){if(!this.isValid)return this;const n=N0(this.values);return La(this,{values:n},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(n){if(!this.isValid||!n.isValid||!this.loc.equals(n.loc))return!1;function r(s,l){return s===void 0||s===0?l===void 0||l===0:s===l}for(const s of Vr)if(!r(this.values[s],n.values[s]))return!1;return!0}}const zi="Invalid Interval";function tN(a,n){return!a||!a.isValid?Ct.invalid("missing or invalid start"):!n||!n.isValid?Ct.invalid("missing or invalid end"):n<a?Ct.invalid("end before start",`The end of an interval must be after its start, but you had start=${a.toISO()} and end=${n.toISO()}`):null}class Ct{constructor(n){this.s=n.start,this.e=n.end,this.invalid=n.invalid||null,this.isLuxonInterval=!0}static invalid(n,r=null){if(!n)throw new nn("need to specify a reason the Interval is invalid");const s=n instanceof ta?n:new ta(n,r);if(Tt.throwOnInvalid)throw new TT(s);return new Ct({invalid:s})}static fromDateTimes(n,r){const s=Ps(n),l=Ps(r),u=tN(s,l);return u??new Ct({start:s,end:l})}static after(n,r){const s=We.fromDurationLike(r),l=Ps(n);return Ct.fromDateTimes(l,l.plus(s))}static before(n,r){const s=We.fromDurationLike(r),l=Ps(n);return Ct.fromDateTimes(l.minus(s),l)}static fromISO(n,r){const[s,l]=(n||"").split("/",2);if(s&&l){let u,d;try{u=Re.fromISO(s,r),d=u.isValid}catch{d=!1}let h,p;try{h=Re.fromISO(l,r),p=h.isValid}catch{p=!1}if(d&&p)return Ct.fromDateTimes(u,h);if(d){const y=We.fromISO(l,r);if(y.isValid)return Ct.after(u,y)}else if(p){const y=We.fromISO(s,r);if(y.isValid)return Ct.before(h,y)}}return Ct.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static isInterval(n){return n&&n.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(n="milliseconds"){return this.isValid?this.toDuration(n).get(n):NaN}count(n="milliseconds",r){if(!this.isValid)return NaN;const s=this.start.startOf(n,r);let l;return r?.useLocaleWeeks?l=this.end.reconfigure({locale:s.locale}):l=this.end,l=l.startOf(n,r),Math.floor(l.diff(s,n).get(n))+(l.valueOf()!==this.end.valueOf())}hasSame(n){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,n):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(n){return this.isValid?this.s>n:!1}isBefore(n){return this.isValid?this.e<=n:!1}contains(n){return this.isValid?this.s<=n&&this.e>n:!1}set({start:n,end:r}={}){return this.isValid?Ct.fromDateTimes(n||this.s,r||this.e):this}splitAt(...n){if(!this.isValid)return[];const r=n.map(Ps).filter(d=>this.contains(d)).sort((d,h)=>d.toMillis()-h.toMillis()),s=[];let{s:l}=this,u=0;for(;l<this.e;){const d=r[u]||this.e,h=+d>+this.e?this.e:d;s.push(Ct.fromDateTimes(l,h)),l=h,u+=1}return s}splitBy(n){const r=We.fromDurationLike(n);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s}=this,l=1,u;const d=[];for(;s<this.e;){const h=this.start.plus(r.mapUnits(p=>p*l));u=+h>+this.e?this.e:h,d.push(Ct.fromDateTimes(s,u)),s=u,l+=1}return d}divideEqually(n){return this.isValid?this.splitBy(this.length()/n).slice(0,n):[]}overlaps(n){return this.e>n.s&&this.s<n.e}abutsStart(n){return this.isValid?+this.e==+n.s:!1}abutsEnd(n){return this.isValid?+n.e==+this.s:!1}engulfs(n){return this.isValid?this.s<=n.s&&this.e>=n.e:!1}equals(n){return!this.isValid||!n.isValid?!1:this.s.equals(n.s)&&this.e.equals(n.e)}intersection(n){if(!this.isValid)return this;const r=this.s>n.s?this.s:n.s,s=this.e<n.e?this.e:n.e;return r>=s?null:Ct.fromDateTimes(r,s)}union(n){if(!this.isValid)return this;const r=this.s<n.s?this.s:n.s,s=this.e>n.e?this.e:n.e;return Ct.fromDateTimes(r,s)}static merge(n){const[r,s]=n.sort((l,u)=>l.s-u.s).reduce(([l,u],d)=>u?u.overlaps(d)||u.abutsStart(d)?[l,u.union(d)]:[l.concat([u]),d]:[l,d],[[],null]);return s&&r.push(s),r}static xor(n){let r=null,s=0;const l=[],u=n.map(p=>[{time:p.s,type:"s"},{time:p.e,type:"e"}]),d=Array.prototype.concat(...u),h=d.sort((p,y)=>p.time-y.time);for(const p of h)s+=p.type==="s"?1:-1,s===1?r=p.time:(r&&+r!=+p.time&&l.push(Ct.fromDateTimes(r,p.time)),r=null);return Ct.merge(l)}difference(...n){return Ct.xor([this].concat(n)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:zi}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(n=ou,r={}){return this.isValid?an.create(this.s.loc.clone(r),n).formatInterval(this):zi}toISO(n){return this.isValid?`${this.s.toISO(n)}/${this.e.toISO(n)}`:zi}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:zi}toISOTime(n){return this.isValid?`${this.s.toISOTime(n)}/${this.e.toISOTime(n)}`:zi}toFormat(n,{separator:r="  "}={}){return this.isValid?`${this.s.toFormat(n)}${r}${this.e.toFormat(n)}`:zi}toDuration(n,r){return this.isValid?this.e.diff(this.s,n,r):We.invalid(this.invalidReason)}mapEndpoints(n){return Ct.fromDateTimes(n(this.s),n(this.e))}}class to{static hasDST(n=Tt.defaultZone){const r=Re.now().setZone(n).set({month:12});return!n.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(n){return ma.isValidZone(n)}static normalizeZone(n){return dr(n,Tt.defaultZone)}static getStartOfWeek({locale:n=null,locObj:r=null}={}){return(r||lt.create(n)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:n=null,locObj:r=null}={}){return(r||lt.create(n)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:n=null,locObj:r=null}={}){return(r||lt.create(n)).getWeekendDays().slice()}static months(n="long",{locale:r=null,numberingSystem:s=null,locObj:l=null,outputCalendar:u="gregory"}={}){return(l||lt.create(r,s,u)).months(n)}static monthsFormat(n="long",{locale:r=null,numberingSystem:s=null,locObj:l=null,outputCalendar:u="gregory"}={}){return(l||lt.create(r,s,u)).months(n,!0)}static weekdays(n="long",{locale:r=null,numberingSystem:s=null,locObj:l=null}={}){return(l||lt.create(r,s,null)).weekdays(n)}static weekdaysFormat(n="long",{locale:r=null,numberingSystem:s=null,locObj:l=null}={}){return(l||lt.create(r,s,null)).weekdays(n,!0)}static meridiems({locale:n=null}={}){return lt.create(n).meridiems()}static eras(n="short",{locale:r=null}={}){return lt.create(r,null,"gregory").eras(n)}static features(){return{relative:Q1(),localeWeek:P1()}}}function j0(a,n){const r=l=>l.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),s=r(n)-r(a);return Math.floor(We.fromMillis(s).as("days"))}function nN(a,n,r){const s=[["years",(p,y)=>y.year-p.year],["quarters",(p,y)=>y.quarter-p.quarter+(y.year-p.year)*4],["months",(p,y)=>y.month-p.month+(y.year-p.year)*12],["weeks",(p,y)=>{const v=j0(p,y);return(v-v%7)/7}],["days",j0]],l={},u=a;let d,h;for(const[p,y]of s)r.indexOf(p)>=0&&(d=p,l[p]=y(a,n),h=u.plus(l),h>n?(l[p]--,a=u.plus(l),a>n&&(h=a,l[p]--,a=u.plus(l))):a=h);return[a,l,h,d]}function aN(a,n,r,s){let[l,u,d,h]=nN(a,n,r);const p=n-l,y=r.filter(w=>["hours","minutes","seconds","milliseconds"].indexOf(w)>=0);y.length===0&&(d<n&&(d=l.plus({[h]:1})),d!==l&&(u[h]=(u[h]||0)+p/(d-l)));const v=We.fromObject(u,s);return y.length>0?We.fromMillis(p,s).shiftTo(...y).plus(v):v}const rN="missing Intl.DateTimeFormat.formatToParts support";function rt(a,n=r=>r){return{regex:a,deser:([r])=>n(FT(r))}}const iN="",mw=`[ ${iN}]`,yw=new RegExp(mw,"g");function sN(a){return a.replace(/\./g,"\\.?").replace(yw,mw)}function _0(a){return a.replace(/\./g,"").replace(yw," ").toLowerCase()}function Wn(a,n){return a===null?null:{regex:RegExp(a.map(sN).join("|")),deser:([r])=>a.findIndex(s=>_0(r)===_0(s))+n}}function A0(a,n){return{regex:a,deser:([,r,s])=>Su(r,s),groups:n}}function Il(a){return{regex:a,deser:([n])=>n}}function oN(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function lN(a,n){const r=Jn(n),s=Jn(n,"{2}"),l=Jn(n,"{3}"),u=Jn(n,"{4}"),d=Jn(n,"{6}"),h=Jn(n,"{1,2}"),p=Jn(n,"{1,3}"),y=Jn(n,"{1,6}"),v=Jn(n,"{1,9}"),w=Jn(n,"{2,4}"),x=Jn(n,"{4,6}"),O=I=>({regex:RegExp(oN(I.val)),deser:([K])=>K,literal:!0}),P=(I=>{if(a.literal)return O(I);switch(I.val){case"G":return Wn(n.eras("short"),0);case"GG":return Wn(n.eras("long"),0);case"y":return rt(y);case"yy":return rt(w,Jd);case"yyyy":return rt(u);case"yyyyy":return rt(x);case"yyyyyy":return rt(d);case"M":return rt(h);case"MM":return rt(s);case"MMM":return Wn(n.months("short",!0),1);case"MMMM":return Wn(n.months("long",!0),1);case"L":return rt(h);case"LL":return rt(s);case"LLL":return Wn(n.months("short",!1),1);case"LLLL":return Wn(n.months("long",!1),1);case"d":return rt(h);case"dd":return rt(s);case"o":return rt(p);case"ooo":return rt(l);case"HH":return rt(s);case"H":return rt(h);case"hh":return rt(s);case"h":return rt(h);case"mm":return rt(s);case"m":return rt(h);case"q":return rt(h);case"qq":return rt(s);case"s":return rt(h);case"ss":return rt(s);case"S":return rt(p);case"SSS":return rt(l);case"u":return Il(v);case"uu":return Il(h);case"uuu":return rt(r);case"a":return Wn(n.meridiems(),0);case"kkkk":return rt(u);case"kk":return rt(w,Jd);case"W":return rt(h);case"WW":return rt(s);case"E":case"c":return rt(r);case"EEE":return Wn(n.weekdays("short",!1),1);case"EEEE":return Wn(n.weekdays("long",!1),1);case"ccc":return Wn(n.weekdays("short",!0),1);case"cccc":return Wn(n.weekdays("long",!0),1);case"Z":case"ZZ":return A0(new RegExp(`([+-]${h.source})(?::(${s.source}))?`),2);case"ZZZ":return A0(new RegExp(`([+-]${h.source})(${s.source})?`),2);case"z":return Il(/[a-z_+-/]{1,256}?/i);case" ":return Il(/[^\S\n\r]/);default:return O(I)}})(a)||{invalidReason:rN};return P.token=a,P}const uN={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function cN(a,n,r){const{type:s,value:l}=a;if(s==="literal"){const p=/^\s+$/.test(l);return{literal:!p,val:p?" ":l}}const u=n[s];let d=s;s==="hour"&&(n.hour12!=null?d=n.hour12?"hour12":"hour24":n.hourCycle!=null?n.hourCycle==="h11"||n.hourCycle==="h12"?d="hour12":d="hour24":d=r.hour12?"hour12":"hour24");let h=uN[d];if(typeof h=="object"&&(h=h[u]),h)return{literal:!1,val:h}}function fN(a){return[`^${a.map(r=>r.regex).reduce((r,s)=>`${r}(${s.source})`,"")}$`,a]}function dN(a,n,r){const s=a.match(n);if(s){const l={};let u=1;for(const d in r)if(Xi(r,d)){const h=r[d],p=h.groups?h.groups+1:1;!h.literal&&h.token&&(l[h.token.val[0]]=h.deser(s.slice(u,u+p))),u+=p}return[s,l]}else return[s,{}]}function hN(a){const n=u=>{switch(u){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,s;return Me(a.z)||(r=ma.create(a.z)),Me(a.Z)||(r||(r=new rn(a.Z)),s=a.Z),Me(a.q)||(a.M=(a.q-1)*3+1),Me(a.h)||(a.h<12&&a.a===1?a.h+=12:a.h===12&&a.a===0&&(a.h=0)),a.G===0&&a.y&&(a.y=-a.y),Me(a.u)||(a.S=Nh(a.u)),[Object.keys(a).reduce((u,d)=>{const h=n(d);return h&&(u[h]=a[d]),u},{}),r,s]}let hd=null;function pN(){return hd||(hd=Re.fromMillis(1555555555555)),hd}function mN(a,n){if(a.literal)return a;const r=an.macroTokenToFormatOpts(a.val),s=ww(r,n);return s==null||s.includes(void 0)?a:s}function gw(a,n){return Array.prototype.concat(...a.map(r=>mN(r,n)))}class vw{constructor(n,r){if(this.locale=n,this.format=r,this.tokens=gw(an.parseFormat(r),n),this.units=this.tokens.map(s=>lN(s,n)),this.disqualifyingUnit=this.units.find(s=>s.invalidReason),!this.disqualifyingUnit){const[s,l]=fN(this.units);this.regex=RegExp(s,"i"),this.handlers=l}}explainFromTokens(n){if(this.isValid){const[r,s]=dN(n,this.regex,this.handlers),[l,u,d]=s?hN(s):[null,null,void 0];if(Xi(s,"a")&&Xi(s,"H"))throw new Ui("Can't include meridiem when specifying 24-hour format");return{input:n,tokens:this.tokens,regex:this.regex,rawMatches:r,matches:s,result:l,zone:u,specificOffset:d}}else return{input:n,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function bw(a,n,r){return new vw(a,r).explainFromTokens(n)}function yN(a,n,r){const{result:s,zone:l,specificOffset:u,invalidReason:d}=bw(a,n,r);return[s,l,u,d]}function ww(a,n){if(!a)return null;const s=an.create(n,a).dtFormatter(pN()),l=s.formatToParts(),u=s.resolvedOptions();return l.map(d=>cN(d,a,u))}const pd="Invalid DateTime",D0=864e13;function no(a){return new ta("unsupported zone",`the zone "${a.name}" is not supported`)}function md(a){return a.weekData===null&&(a.weekData=lu(a.c)),a.weekData}function yd(a){return a.localWeekData===null&&(a.localWeekData=lu(a.c,a.loc.getMinDaysInFirstWeek(),a.loc.getStartOfWeek())),a.localWeekData}function Br(a,n){const r={ts:a.ts,zone:a.zone,c:a.c,o:a.o,loc:a.loc,invalid:a.invalid};return new Re({...r,...n,old:r})}function Sw(a,n,r){let s=a-n*60*1e3;const l=r.offset(s);if(n===l)return[s,n];s-=(l-n)*60*1e3;const u=r.offset(s);return l===u?[s,l]:[a-Math.min(l,u)*60*1e3,Math.max(l,u)]}function ql(a,n){a+=n*60*1e3;const r=new Date(a);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function eu(a,n,r){return Sw(wu(a),n,r)}function M0(a,n){const r=a.o,s=a.c.year+Math.trunc(n.years),l=a.c.month+Math.trunc(n.months)+Math.trunc(n.quarters)*3,u={...a.c,year:s,month:l,day:Math.min(a.c.day,uu(s,l))+Math.trunc(n.days)+Math.trunc(n.weeks)*7},d=We.fromObject({years:n.years-Math.trunc(n.years),quarters:n.quarters-Math.trunc(n.quarters),months:n.months-Math.trunc(n.months),weeks:n.weeks-Math.trunc(n.weeks),days:n.days-Math.trunc(n.days),hours:n.hours,minutes:n.minutes,seconds:n.seconds,milliseconds:n.milliseconds}).as("milliseconds"),h=wu(u);let[p,y]=Sw(h,r,a.zone);return d!==0&&(p+=d,y=a.zone.offset(p)),{ts:p,o:y}}function Ri(a,n,r,s,l,u){const{setZone:d,zone:h}=r;if(a&&Object.keys(a).length!==0||n){const p=n||h,y=Re.fromObject(a,{...r,zone:p,specificOffset:u});return d?y:y.setZone(h)}else return Re.invalid(new ta("unparsable",`the input "${l}" can't be parsed as ${s}`))}function Yl(a,n,r=!0){return a.isValid?an.create(lt.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(a,n):null}function gd(a,n,r){const s=a.c.year>9999||a.c.year<0;let l="";if(s&&a.c.year>=0&&(l+="+"),l+=Ut(a.c.year,s?6:4),r==="year")return l;if(n){if(l+="-",l+=Ut(a.c.month),r==="month")return l;l+="-"}else if(l+=Ut(a.c.month),r==="month")return l;return l+=Ut(a.c.day),l}function z0(a,n,r,s,l,u,d){let h=!r||a.c.millisecond!==0||a.c.second!==0,p="";switch(d){case"day":case"month":case"year":break;default:if(p+=Ut(a.c.hour),d==="hour")break;if(n){if(p+=":",p+=Ut(a.c.minute),d==="minute")break;h&&(p+=":",p+=Ut(a.c.second))}else{if(p+=Ut(a.c.minute),d==="minute")break;h&&(p+=Ut(a.c.second))}if(d==="second")break;h&&(!s||a.c.millisecond!==0)&&(p+=".",p+=Ut(a.c.millisecond,3))}return l&&(a.isOffsetFixed&&a.offset===0&&!u?p+="Z":a.o<0?(p+="-",p+=Ut(Math.trunc(-a.o/60)),p+=":",p+=Ut(Math.trunc(-a.o%60))):(p+="+",p+=Ut(Math.trunc(a.o/60)),p+=":",p+=Ut(Math.trunc(a.o%60)))),u&&(p+="["+a.zone.ianaName+"]"),p}const xw={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},gN={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},vN={ordinal:1,hour:0,minute:0,second:0,millisecond:0},tu=["year","month","day","hour","minute","second","millisecond"],bN=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],wN=["year","ordinal","hour","minute","second","millisecond"];function nu(a){const n={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[a.toLowerCase()];if(!n)throw new S1(a);return n}function R0(a){switch(a.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return nu(a)}}function SN(a){if(ao===void 0&&(ao=Tt.now()),a.type!=="iana")return a.offset(ao);const n=a.name;let r=Wd.get(n);return r===void 0&&(r=a.offset(ao),Wd.set(n,r)),r}function L0(a,n){const r=dr(n.zone,Tt.defaultZone);if(!r.isValid)return Re.invalid(no(r));const s=lt.fromObject(n);let l,u;if(Me(a.year))l=Tt.now();else{for(const p of tu)Me(a[p])&&(a[p]=xw[p]);const d=F1(a)||K1(a);if(d)return Re.invalid(d);const h=SN(r);[l,u]=eu(a,h,r)}return new Re({ts:l,zone:r,loc:s,o:u})}function B0(a,n,r){const s=Me(r.round)?!0:r.round,l=Me(r.rounding)?"trunc":r.rounding,u=(h,p)=>(h=jh(h,s||r.calendary?0:2,r.calendary?"round":l),n.loc.clone(r).relFormatter(r).format(h,p)),d=h=>r.calendary?n.hasSame(a,h)?0:n.startOf(h).diff(a.startOf(h),h).get(h):n.diff(a,h).get(h);if(r.unit)return u(d(r.unit),r.unit);for(const h of r.units){const p=d(h);if(Math.abs(p)>=1)return u(p,h)}return u(a>n?-0:0,r.units[r.units.length-1])}function U0(a){let n={},r;return a.length>0&&typeof a[a.length-1]=="object"?(n=a[a.length-1],r=Array.from(a).slice(0,a.length-1)):r=Array.from(a),[n,r]}let ao;const Wd=new Map;class Re{constructor(n){const r=n.zone||Tt.defaultZone;let s=n.invalid||(Number.isNaN(n.ts)?new ta("invalid input"):null)||(r.isValid?null:no(r));this.ts=Me(n.ts)?Tt.now():n.ts;let l=null,u=null;if(!s)if(n.old&&n.old.ts===this.ts&&n.old.zone.equals(r))[l,u]=[n.old.c,n.old.o];else{const h=pr(n.o)&&!n.old?n.o:r.offset(this.ts);l=ql(this.ts,h),s=Number.isNaN(l.year)?new ta("invalid input"):null,l=s?null:l,u=s?null:h}this._zone=r,this.loc=n.loc||lt.create(),this.invalid=s,this.weekData=null,this.localWeekData=null,this.c=l,this.o=u,this.isLuxonDateTime=!0}static now(){return new Re({})}static local(){const[n,r]=U0(arguments),[s,l,u,d,h,p,y]=r;return L0({year:s,month:l,day:u,hour:d,minute:h,second:p,millisecond:y},n)}static utc(){const[n,r]=U0(arguments),[s,l,u,d,h,p,y]=r;return n.zone=rn.utcInstance,L0({year:s,month:l,day:u,hour:d,minute:h,second:p,millisecond:y},n)}static fromJSDate(n,r={}){const s=WT(n)?n.valueOf():NaN;if(Number.isNaN(s))return Re.invalid("invalid input");const l=dr(r.zone,Tt.defaultZone);return l.isValid?new Re({ts:s,zone:l,loc:lt.fromObject(r)}):Re.invalid(no(l))}static fromMillis(n,r={}){if(pr(n))return n<-D0||n>D0?Re.invalid("Timestamp out of range"):new Re({ts:n,zone:dr(r.zone,Tt.defaultZone),loc:lt.fromObject(r)});throw new nn(`fromMillis requires a numerical input, but received a ${typeof n} with value ${n}`)}static fromSeconds(n,r={}){if(pr(n))return new Re({ts:n*1e3,zone:dr(r.zone,Tt.defaultZone),loc:lt.fromObject(r)});throw new nn("fromSeconds requires a numerical input")}static fromObject(n,r={}){n=n||{};const s=dr(r.zone,Tt.defaultZone);if(!s.isValid)return Re.invalid(no(s));const l=lt.fromObject(r),u=cu(n,R0),{minDaysInFirstWeek:d,startOfWeek:h}=S0(u,l),p=Tt.now(),y=Me(r.specificOffset)?s.offset(p):r.specificOffset,v=!Me(u.ordinal),w=!Me(u.year),x=!Me(u.month)||!Me(u.day),O=w||x,A=u.weekYear||u.weekNumber;if((O||v)&&A)throw new Ui("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(x&&v)throw new Ui("Can't mix ordinal dates with month/day");const P=A||u.weekday&&!O;let I,K,F=ql(p,y);P?(I=bN,K=gN,F=lu(F,d,h)):v?(I=wN,K=vN,F=dd(F)):(I=tu,K=xw);let Y=!1;for(const J of I){const ye=u[J];Me(ye)?Y?u[J]=K[J]:u[J]=F[J]:Y=!0}const Z=P?QT(u,d,h):v?PT(u):F1(u),ie=Z||K1(u);if(ie)return Re.invalid(ie);const le=P?b0(u,d,h):v?w0(u):u,[q,oe]=eu(le,y,s),U=new Re({ts:q,zone:s,o:oe,loc:l});return u.weekday&&O&&n.weekday!==U.weekday?Re.invalid("mismatched weekday",`you can't specify both a weekday of ${u.weekday} and a date of ${U.toISO()}`):U.isValid?U:Re.invalid(U.invalid)}static fromISO(n,r={}){const[s,l]=IO(n);return Ri(s,l,r,"ISO 8601",n)}static fromRFC2822(n,r={}){const[s,l]=qO(n);return Ri(s,l,r,"RFC 2822",n)}static fromHTTP(n,r={}){const[s,l]=YO(n);return Ri(s,l,r,"HTTP",r)}static fromFormat(n,r,s={}){if(Me(n)||Me(r))throw new nn("fromFormat requires an input string and a format");const{locale:l=null,numberingSystem:u=null}=s,d=lt.fromOpts({locale:l,numberingSystem:u,defaultToEN:!0}),[h,p,y,v]=yN(d,n,r);return v?Re.invalid(v):Ri(h,p,s,`format ${r}`,n,y)}static fromString(n,r,s={}){return Re.fromFormat(n,r,s)}static fromSQL(n,r={}){const[s,l]=PO(n);return Ri(s,l,r,"SQL",n)}static invalid(n,r=null){if(!n)throw new nn("need to specify a reason the DateTime is invalid");const s=n instanceof ta?n:new ta(n,r);if(Tt.throwOnInvalid)throw new CT(s);return new Re({invalid:s})}static isDateTime(n){return n&&n.isLuxonDateTime||!1}static parseFormatForOpts(n,r={}){const s=ww(n,lt.fromObject(r));return s?s.map(l=>l?l.val:null).join(""):null}static expandFormat(n,r={}){return gw(an.parseFormat(n),lt.fromObject(r)).map(l=>l.val).join("")}static resetCache(){ao=void 0,Wd.clear()}get(n){return this[n]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?md(this).weekYear:NaN}get weekNumber(){return this.isValid?md(this).weekNumber:NaN}get weekday(){return this.isValid?md(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?yd(this).weekday:NaN}get localWeekNumber(){return this.isValid?yd(this).weekNumber:NaN}get localWeekYear(){return this.isValid?yd(this).weekYear:NaN}get ordinal(){return this.isValid?dd(this.c).ordinal:NaN}get monthShort(){return this.isValid?to.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?to.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?to.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?to.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const n=864e5,r=6e4,s=wu(this.c),l=this.zone.offset(s-n),u=this.zone.offset(s+n),d=this.zone.offset(s-l*r),h=this.zone.offset(s-u*r);if(d===h)return[this];const p=s-d*r,y=s-h*r,v=ql(p,d),w=ql(y,h);return v.hour===w.hour&&v.minute===w.minute&&v.second===w.second&&v.millisecond===w.millisecond?[Br(this,{ts:p}),Br(this,{ts:y})]:[this]}get isInLeapYear(){return mo(this.year)}get daysInMonth(){return uu(this.year,this.month)}get daysInYear(){return this.isValid?Hi(this.year):NaN}get weeksInWeekYear(){return this.isValid?co(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?co(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(n={}){const{locale:r,numberingSystem:s,calendar:l}=an.create(this.loc.clone(n),n).resolvedOptions(this);return{locale:r,numberingSystem:s,outputCalendar:l}}toUTC(n=0,r={}){return this.setZone(rn.instance(n),r)}toLocal(){return this.setZone(Tt.defaultZone)}setZone(n,{keepLocalTime:r=!1,keepCalendarTime:s=!1}={}){if(n=dr(n,Tt.defaultZone),n.equals(this.zone))return this;if(n.isValid){let l=this.ts;if(r||s){const u=n.offset(this.ts),d=this.toObject();[l]=eu(d,u,n)}return Br(this,{ts:l,zone:n})}else return Re.invalid(no(n))}reconfigure({locale:n,numberingSystem:r,outputCalendar:s}={}){const l=this.loc.clone({locale:n,numberingSystem:r,outputCalendar:s});return Br(this,{loc:l})}setLocale(n){return this.reconfigure({locale:n})}set(n){if(!this.isValid)return this;const r=cu(n,R0),{minDaysInFirstWeek:s,startOfWeek:l}=S0(r,this.loc),u=!Me(r.weekYear)||!Me(r.weekNumber)||!Me(r.weekday),d=!Me(r.ordinal),h=!Me(r.year),p=!Me(r.month)||!Me(r.day),y=h||p,v=r.weekYear||r.weekNumber;if((y||d)&&v)throw new Ui("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(p&&d)throw new Ui("Can't mix ordinal dates with month/day");let w;u?w=b0({...lu(this.c,s,l),...r},s,l):Me(r.ordinal)?(w={...this.toObject(),...r},Me(r.day)&&(w.day=Math.min(uu(w.year,w.month),w.day))):w=w0({...dd(this.c),...r});const[x,O]=eu(w,this.o,this.zone);return Br(this,{ts:x,o:O})}plus(n){if(!this.isValid)return this;const r=We.fromDurationLike(n);return Br(this,M0(this,r))}minus(n){if(!this.isValid)return this;const r=We.fromDurationLike(n).negate();return Br(this,M0(this,r))}startOf(n,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;const s={},l=We.normalizeUnit(n);switch(l){case"years":s.month=1;case"quarters":case"months":s.day=1;case"weeks":case"days":s.hour=0;case"hours":s.minute=0;case"minutes":s.second=0;case"seconds":s.millisecond=0;break}if(l==="weeks")if(r){const u=this.loc.getStartOfWeek(),{weekday:d}=this;d<u&&(s.weekNumber=this.weekNumber-1),s.weekday=u}else s.weekday=1;if(l==="quarters"){const u=Math.ceil(this.month/3);s.month=(u-1)*3+1}return this.set(s)}endOf(n,r){return this.isValid?this.plus({[n]:1}).startOf(n,r).minus(1):this}toFormat(n,r={}){return this.isValid?an.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,n):pd}toLocaleString(n=ou,r={}){return this.isValid?an.create(this.loc.clone(r),n).formatDateTime(this):pd}toLocaleParts(n={}){return this.isValid?an.create(this.loc.clone(n),n).formatDateTimeParts(this):[]}toISO({format:n="extended",suppressSeconds:r=!1,suppressMilliseconds:s=!1,includeOffset:l=!0,extendedZone:u=!1,precision:d="milliseconds"}={}){if(!this.isValid)return null;d=nu(d);const h=n==="extended";let p=gd(this,h,d);return tu.indexOf(d)>=3&&(p+="T"),p+=z0(this,h,r,s,l,u,d),p}toISODate({format:n="extended",precision:r="day"}={}){return this.isValid?gd(this,n==="extended",nu(r)):null}toISOWeekDate(){return Yl(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:n=!1,suppressSeconds:r=!1,includeOffset:s=!0,includePrefix:l=!1,extendedZone:u=!1,format:d="extended",precision:h="milliseconds"}={}){return this.isValid?(h=nu(h),(l&&tu.indexOf(h)>=3?"T":"")+z0(this,d==="extended",r,n,s,u,h)):null}toRFC2822(){return Yl(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Yl(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?gd(this,!0):null}toSQLTime({includeOffset:n=!0,includeZone:r=!1,includeOffsetSpace:s=!0}={}){let l="HH:mm:ss.SSS";return(r||n)&&(s&&(l+=" "),r?l+="z":n&&(l+="ZZ")),Yl(this,l,!0)}toSQL(n={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(n)}`:null}toString(){return this.isValid?this.toISO():pd}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(n={}){if(!this.isValid)return{};const r={...this.c};return n.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(n,r="milliseconds",s={}){if(!this.isValid||!n.isValid)return We.invalid("created by diffing an invalid DateTime");const l={locale:this.locale,numberingSystem:this.numberingSystem,...s},u=eO(r).map(We.normalizeUnit),d=n.valueOf()>this.valueOf(),h=d?this:n,p=d?n:this,y=aN(h,p,u,l);return d?y.negate():y}diffNow(n="milliseconds",r={}){return this.diff(Re.now(),n,r)}until(n){return this.isValid?Ct.fromDateTimes(this,n):this}hasSame(n,r,s){if(!this.isValid)return!1;const l=n.valueOf(),u=this.setZone(n.zone,{keepLocalTime:!0});return u.startOf(r,s)<=l&&l<=u.endOf(r,s)}equals(n){return this.isValid&&n.isValid&&this.valueOf()===n.valueOf()&&this.zone.equals(n.zone)&&this.loc.equals(n.loc)}toRelative(n={}){if(!this.isValid)return null;const r=n.base||Re.fromObject({},{zone:this.zone}),s=n.padding?this<r?-n.padding:n.padding:0;let l=["years","months","days","hours","minutes","seconds"],u=n.unit;return Array.isArray(n.unit)&&(l=n.unit,u=void 0),B0(r,this.plus(s),{...n,numeric:"always",units:l,unit:u})}toRelativeCalendar(n={}){return this.isValid?B0(n.base||Re.fromObject({},{zone:this.zone}),this,{...n,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...n){if(!n.every(Re.isDateTime))throw new nn("min requires all arguments be DateTimes");return x0(n,r=>r.valueOf(),Math.min)}static max(...n){if(!n.every(Re.isDateTime))throw new nn("max requires all arguments be DateTimes");return x0(n,r=>r.valueOf(),Math.max)}static fromFormatExplain(n,r,s={}){const{locale:l=null,numberingSystem:u=null}=s,d=lt.fromOpts({locale:l,numberingSystem:u,defaultToEN:!0});return bw(d,n,r)}static fromStringExplain(n,r,s={}){return Re.fromFormatExplain(n,r,s)}static buildFormatParser(n,r={}){const{locale:s=null,numberingSystem:l=null}=r,u=lt.fromOpts({locale:s,numberingSystem:l,defaultToEN:!0});return new vw(u,n)}static fromFormatParser(n,r,s={}){if(Me(n)||Me(r))throw new nn("fromFormatParser requires an input string and a format parser");const{locale:l=null,numberingSystem:u=null}=s,d=lt.fromOpts({locale:l,numberingSystem:u,defaultToEN:!0});if(!d.equals(r.locale))throw new nn(`fromFormatParser called with a locale of ${d}, but the format parser was created for ${r.locale}`);const{result:h,zone:p,specificOffset:y,invalidReason:v}=r.explainFromTokens(n);return v?Re.invalid(v):Ri(h,p,s,`format ${r.format}`,n,y)}static get DATE_SHORT(){return ou}static get DATE_MED(){return x1}static get DATE_MED_WITH_WEEKDAY(){return NT}static get DATE_FULL(){return E1}static get DATE_HUGE(){return k1}static get TIME_SIMPLE(){return C1}static get TIME_WITH_SECONDS(){return T1}static get TIME_WITH_SHORT_OFFSET(){return O1}static get TIME_WITH_LONG_OFFSET(){return N1}static get TIME_24_SIMPLE(){return j1}static get TIME_24_WITH_SECONDS(){return _1}static get TIME_24_WITH_SHORT_OFFSET(){return A1}static get TIME_24_WITH_LONG_OFFSET(){return D1}static get DATETIME_SHORT(){return M1}static get DATETIME_SHORT_WITH_SECONDS(){return z1}static get DATETIME_MED(){return R1}static get DATETIME_MED_WITH_SECONDS(){return L1}static get DATETIME_MED_WITH_WEEKDAY(){return jT}static get DATETIME_FULL(){return B1}static get DATETIME_FULL_WITH_SECONDS(){return U1}static get DATETIME_HUGE(){return H1}static get DATETIME_HUGE_WITH_SECONDS(){return $1}}function Ps(a){if(Re.isDateTime(a))return a;if(a&&a.valueOf&&pr(a.valueOf()))return Re.fromJSDate(a);if(a&&typeof a=="object")return Re.fromObject(a);throw new nn(`Unknown datetime argument: ${a}, of type ${typeof a}`)}const xN="3.7.2",EN=Object.freeze(Object.defineProperty({__proto__:null,DateTime:Re,Duration:We,FixedOffsetZone:rn,IANAZone:ma,Info:to,Interval:Ct,InvalidZone:q1,Settings:Tt,SystemZone:po,VERSION:xN,Zone:Ji},Symbol.toStringTag,{value:"Module"}));window.Rete=g2;window.React=Ix;window.RefComponent=gh;window.luxon=EN;window.nodeRegistry=_n;window.sockets=Zi;window.socket=Ce;let Yr={isLoading:!1,progress:0,status:"Ready",loadedCount:0,totalCount:0,failedPlugins:[],error:null};const eh=new Set;function Ew(a){return eh.add(a),a({...Yr}),()=>eh.delete(a)}function Li(a){Yr={...Yr,...a},eh.forEach(n=>n({...Yr}))}function kN(){return{...Yr}}async function CN(){Li({isLoading:!0,progress:0,status:"Fetching plugin list...",error:null,failedPlugins:[]});try{const a=await fetch("/api/plugins");if(!a.ok)throw new Error("Failed to fetch plugin list");const n=await a.json(),r=n.length;Li({totalCount:r,status:`Loading ${r} plugins...`});let s=0;for(const u of n){const d=u.split("/").pop().replace(".js","");Li({status:`Loading ${d}...`});try{await TN(u),s++,Li({loadedCount:s,progress:Math.round(s/r*100)})}catch(h){console.error(`[PluginLoader] Failed to load ${u}`,h),Yr.failedPlugins.push({name:d,error:h.message})}}const l=Yr.failedPlugins.length;Li({isLoading:!1,progress:100,status:l>0?`Loaded ${s} plugins (${l} failed)`:`Loaded ${s} plugins`})}catch(a){console.error("[PluginLoader] Error loading plugins:",a),Li({isLoading:!1,error:a.message,status:"Failed to load plugins"})}}function TN(a){return new Promise((n,r)=>{const s=document.createElement("script");s.src=a,s.onload=n,s.onerror=r,document.body.appendChild(s)})}const kw=C.createContext(null),H0={success:{icon:"",className:"toast-success"},error:{icon:"",className:"toast-error"},warning:{icon:"",className:"toast-warning"},info:{icon:"",className:"toast-info"}};function ON({id:a,type:n,message:r,duration:s,onRemove:l,action:u,actionLabel:d}){const[h,p]=C.useState(!1),y=H0[n]||H0.info;C.useEffect(()=>{if(s>0){const x=setTimeout(()=>{p(!0),setTimeout(()=>l(a),300)},s);return()=>clearTimeout(x)}},[a,s,l]);const v=()=>{p(!0),setTimeout(()=>l(a),300)},w=()=>{u&&u(),v()};return m.jsxs("div",{className:`toast ${y.className} ${h?"toast-exit":""}`,children:[m.jsx("span",{className:"toast-icon",children:y.icon}),m.jsx("span",{className:"toast-message",children:r}),u&&d&&m.jsx("button",{className:"toast-action",onClick:w,children:d}),m.jsx("button",{className:"toast-close",onClick:v,children:""})]})}function NN({children:a}){const[n,r]=C.useState([]);let s=0;const l=C.useCallback((h,p,y={})=>{const v=++s,w=typeof y=="number"?y:y.duration??4e3,x=typeof y=="object"?y.action:null,O=typeof y=="object"?y.actionLabel:null;return r(A=>[...A,{id:v,type:h,message:p,duration:w,action:x,actionLabel:O}]),v},[]),u=C.useCallback(h=>{r(p=>p.filter(y=>y.id!==h))},[]),d={success:(h,p)=>l("success",h,p),error:(h,p)=>l("error",h,typeof p=="number"?p:{duration:6e3,...p}),warning:(h,p)=>l("warning",h,p),info:(h,p)=>l("info",h,p),dismiss:u,dismissAll:()=>r([])};return m.jsxs(kw.Provider,{value:d,children:[a,m.jsx("div",{className:"toast-container",children:n.map(h=>m.jsx(ON,{id:h.id,type:h.type,message:h.message,duration:h.duration,onRemove:u,action:h.action,actionLabel:h.actionLabel},h.id))})]})}function Mh(){const a=C.useContext(kw);return a||{success:()=>{},error:()=>{},warning:()=>{},info:()=>{},dismiss:()=>{},dismissAll:()=>{}}}function jN(){const a=Mh();return C.useEffect(()=>(typeof window<"u"&&(window.T2Toast=a),()=>{typeof window<"u"&&(window.T2Toast=null)}),[a]),null}typeof window<"u"&&(window.T2Toast=null);function _N({onSave:a,onLoad:n,onClear:r,onExport:s,onImport:l,hasUnsavedChanges:u}){const[d,h]=C.useState(!1),[p,y]=C.useState(!1),[v,w]=C.useState(!1);Mh();const[x,O]=C.useState(()=>{const E=localStorage.getItem("dock-position");return E?JSON.parse(E):{x:20,y:20}}),[A,P]=C.useState(!1),[I,K]=C.useState({x:0,y:0}),[F,Y]=C.useState(!0),[Z,ie]=C.useState(!0),[le,q]=C.useState(!1),[oe,U]=C.useState(new Date),[J,ye]=C.useState({backend:Ce.connected,ha:{connected:!1,wsConnected:!1,deviceCount:0},hue:{connected:!1,deviceCount:0},kasa:{connected:!1,deviceCount:0},shelly:{connected:!1,deviceCount:0}}),[we,Ne]=C.useState({loaded:0,failed:0,total:0});let _e;const ne=C.useRef(null),D=C.useRef(null);C.useEffect(()=>{_e=Ew(T=>{let R=0,ae=T.totalCount||0;window.nodeRegistry&&typeof window.nodeRegistry.getAll=="function"?(R=window.nodeRegistry.getAll().length,(!ae||R>ae)&&(ae=R)):R=T.loadedCount,Ne({loaded:R,failed:T.failedPlugins?.length||0,total:ae})});const E=T=>{T.target.tagName==="INPUT"||T.target.tagName==="TEXTAREA"||T.target.isContentEditable||(T.key==="?"||T.shiftKey&&T.code==="Slash")&&(T.preventDefault(),y(!0))};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[]),C.useEffect(()=>{const E=()=>{ye(Ee=>({...Ee,backend:!0})),Ce.emit("request-hue-status")},T=()=>ye(Ee=>({...Ee,backend:!1})),R=Ee=>ye(ue=>({...ue,ha:{connected:Ee.connected,wsConnected:Ee.wsConnected,deviceCount:Ee.deviceCount||0}})),ae=Ee=>{Ee.hue&&ye(ue=>({...ue,hue:Ee.hue})),Ee.kasa&&ye(ue=>({...ue,kasa:Ee.kasa})),Ee.shelly&&ye(ue=>({...ue,shelly:Ee.shelly}))},pe=Ee=>{ye(ue=>({...ue,hue:{connected:Ee.connected,deviceCount:Ee.deviceCount||0,bridgeIp:Ee.bridgeIp||null}}))};Ce.on("connect",E),Ce.on("disconnect",T),Ce.on("ha-connection-status",R),Ce.on("device-counts",ae),Ce.on("hue-connection-status",pe),ye(Ee=>({...Ee,backend:Ce.connected})),Ce.connected&&Ce.emit("request-hue-status");const ce=kN();let me=0,Oe=ce.totalCount||0;return window.nodeRegistry&&typeof window.nodeRegistry.getAll=="function"?(me=window.nodeRegistry.getAll().length,(!Oe||me>Oe)&&(Oe=me)):me=ce.loadedCount,Ne({loaded:me,failed:ce.failedPlugins?.length||0,total:Oe}),()=>{Ce.off("connect",E),Ce.off("disconnect",T),Ce.off("ha-connection-status",R),Ce.off("device-counts",ae),Ce.off("hue-connection-status",pe),_e&&_e()}},[]),C.useEffect(()=>{const E=setInterval(()=>{U(new Date)},1e3);return()=>clearInterval(E)},[]);const j=()=>{const E={weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"};return oe.toLocaleDateString("en-US",E)};C.useEffect(()=>{localStorage.setItem("dock-position",JSON.stringify(x))},[x]);const $=E=>{E.target.closest(".dock-header")&&(P(!0),K({x:E.clientX-x.x,y:E.clientY-x.y}))},z=E=>{A&&O({x:E.clientX-I.x,y:E.clientY-I.y})},re=()=>{P(!1)};C.useEffect(()=>{if(A)return window.addEventListener("mousemove",z),window.addEventListener("mouseup",re),()=>{window.removeEventListener("mousemove",z),window.removeEventListener("mouseup",re)}},[A,I]);const S=()=>{D.current?.click()},k=E=>{const T=E.target.files?.[0];if(T){const R=new FileReader;R.onload=ae=>{try{const pe=JSON.parse(ae.target.result);l(pe)}catch(pe){console.error("Failed to parse JSON:",pe),alert("Invalid JSON file")}},R.readAsText(T)}E.target.value=""};return m.jsxs("div",{ref:ne,className:"dock-container",style:{left:`${x.x}px`,top:`${x.y}px`,cursor:A?"grabbing":"default"},onMouseDown:$,children:[m.jsxs("div",{className:"dock-header",style:{cursor:"grab"},children:[m.jsx("span",{className:"dock-title",children:" Control Panel"}),m.jsx("span",{className:"dock-datetime",children:j()})]}),m.jsxs("div",{className:"dock-section",children:[m.jsx("div",{className:"dock-section-header",onClick:()=>Y(!F),children:m.jsxs("span",{children:[F?"":""," Graph Tools ",u&&m.jsx("span",{className:"unsaved-dot",title:"Unsaved changes",children:""})]})}),F&&m.jsxs("div",{className:"dock-section-content",children:[m.jsxs("button",{onClick:a,className:`dock-btn ${u?"dock-btn-unsaved":""}`,children:[" Save ",u&&"*"]}),m.jsx("button",{onClick:n,className:"dock-btn",children:" Load Last"}),m.jsx("button",{onClick:S,className:"dock-btn",children:" Import File"}),m.jsx("button",{onClick:r,className:"dock-btn",children:" Clear"}),m.jsx("input",{ref:D,type:"file",accept:".json",style:{display:"none"},onChange:k})]})]}),m.jsxs("div",{className:"dock-section",children:[m.jsx("div",{className:"dock-section-header",onClick:()=>ie(!Z),children:m.jsxs("span",{children:[Z?"":""," Connection Status"]})}),Z&&m.jsxs("div",{className:"dock-section-content dock-status-grid",children:[m.jsxs("div",{className:`dock-status-item ${J.backend?"connected":"disconnected"}`,children:[m.jsx("span",{className:"dock-status-dot"}),m.jsx("span",{className:"dock-status-label",children:"Backend"}),m.jsx("span",{className:"dock-status-value",children:J.backend?"Connected":"Offline"})]}),m.jsxs("div",{className:`dock-status-item ${J.ha.connected?"connected":"disconnected"}`,children:[m.jsx("span",{className:"dock-status-dot"}),m.jsx("span",{className:"dock-status-label",children:"Home Assistant"}),m.jsx("span",{className:"dock-status-value",children:J.ha.connected?`${J.ha.deviceCount} devices`:"Offline"})]}),m.jsxs("div",{className:`dock-status-item ${J.hue.connected?"connected":"disconnected"}`,children:[m.jsx("span",{className:"dock-status-dot"}),m.jsx("span",{className:"dock-status-label",children:"Philips Hue"}),m.jsx("span",{className:"dock-status-value",children:J.hue.connected?`${J.hue.deviceCount||0} lights${J.hue.bridgeIp?` (${J.hue.bridgeIp})`:""}`:"Offline"})]}),J.kasa.deviceCount>0&&m.jsxs("div",{className:`dock-status-item ${J.kasa.connected?"connected":"disconnected"}`,children:[m.jsx("span",{className:"dock-status-dot"}),m.jsx("span",{className:"dock-status-label",children:"Kasa"}),m.jsxs("span",{className:"dock-status-value",children:[J.kasa.deviceCount," devices"]})]}),m.jsxs("div",{className:"dock-status-item plugins",children:[m.jsx("span",{className:"dock-status-dot",style:{background:we.failed>0?"#f59e0b":"#10b981"}}),m.jsx("span",{className:"dock-status-label",children:"Plugins"}),m.jsx("span",{className:"dock-status-value",children:we.total>0?`${we.loaded} / ${we.total} loaded${we.failed>0?` (${we.failed} failed)`:""}`:`${we.loaded} loaded`})]})]})]}),m.jsx(OC,{isExpanded:le,onToggle:()=>q(!le)}),m.jsx("div",{className:"dock-section",children:m.jsxs("div",{className:"dock-section-content",children:[m.jsx("button",{onClick:()=>h(!0),className:"dock-btn dock-btn-settings",children:" Settings & API Keys"}),m.jsx("button",{onClick:()=>y(!0),className:"dock-btn dock-btn-help",children:" Keyboard Shortcuts"}),m.jsx("button",{onClick:handleCheckUpdates,disabled:checkingUpdates,className:"dock-btn dock-btn-update",title:"Check for available updates",children:checkingUpdates?" Checking...":" Check for Updates"})]})}),m.jsx(kC,{isOpen:d,onClose:()=>h(!1)}),m.jsx(TC,{isOpen:p,onClose:()=>y(!1)})]})}function AN(){const[a,n]=C.useState(!0),[r,s]=C.useState(!0),[l,u]=C.useState(null),[d,h]=C.useState(null),[p,y]=C.useState(Ce?.connected??!1),[v,w]=C.useState({connected:!1,wsConnected:!1,deviceCount:0}),[x,O]=C.useState(new Map),[A,P]=C.useState(()=>parseInt(localStorage.getItem("forecastPanelWidth"))||320),[I,K]=C.useState(()=>parseInt(localStorage.getItem("devicesOnHeight"))||200),F=C.useRef(null);C.useEffect(()=>{if(!Ce)return;const U=()=>{y(!0),Ce.emit("request-ha-status")},J=()=>{y(!1),w({connected:!1,wsConnected:!1,deviceCount:0})},ye=Ne=>{w(Ne)};Ce.on("connect",U),Ce.on("disconnect",J),Ce.on("ha-connection-status",ye),Ce.on("forecast-update",Ne=>{u(Ne)});const we=Ne=>{const{id:_e,state:ne,on:D,name:j}=Ne;if(!_e)return;const $=D!==void 0?D:ne==="on"||ne==="playing"||ne==="open",z=j||Ne.friendly_name||Ne.attributes?.friendly_name||_e.replace("ha_","").replace("kasa_","").replace(/\./g," ").replace(/_/g," ");(_e.includes("light.")||_e.includes("switch.")||_e.startsWith("kasa_"))&&O(S=>{const k=new Map(S);return $?k.set(_e,{name:z,on:!0}):k.delete(_e),k})};return Ce.on("device-state-update",we),Ce.emit("request-forecast"),Ce.connected&&(y(!0),Ce.emit("request-ha-status")),()=>{Ce.off("connect",U),Ce.off("disconnect",J),Ce.off("ha-connection-status",ye),Ce.off("forecast-update"),Ce.off("device-state-update",we)}},[]);const Y=()=>{Ce?.emit("request-forecast")},Z=U=>{const J=(U||"").toLowerCase();return J.includes("clear")||J.includes("sun")?m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#FFD700",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"12",cy:"12",r:"5"}),m.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),m.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),m.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),m.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),m.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),m.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),m.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),m.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):J.includes("rain")||J.includes("drizzle")||J.includes("shower")?m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#4facfe",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M20 16.2A4.5 4.5 0 0 0 17.5 8h-1.8A7 7 0 1 0 4 14.9"}),m.jsx("line",{x1:"8",y1:"19",x2:"8",y2:"21"}),m.jsx("line",{x1:"8",y1:"13",x2:"8",y2:"15"}),m.jsx("line",{x1:"16",y1:"19",x2:"16",y2:"21"}),m.jsx("line",{x1:"16",y1:"13",x2:"16",y2:"15"}),m.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),m.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"17"})]}):J.includes("partly")||J.includes("partial")||J.includes("few")?m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M13 2v2",stroke:"#FFD700"}),m.jsx("path",{d:"M3 13h2",stroke:"#FFD700"}),m.jsx("path",{d:"M20 13h2",stroke:"#FFD700"}),m.jsx("path",{d:"M5.6 5.6l1.4 1.4",stroke:"#FFD700"}),m.jsx("path",{d:"M18.4 5.6l-1.4 1.4",stroke:"#FFD700"}),m.jsx("circle",{cx:"13",cy:"9",r:"4",stroke:"#FFD700"}),m.jsx("path",{d:"M17 17h-10a4 4 0 0 1 0-8h.5a5.5 5.5 0 0 1 10.5 3h.5a3 3 0 0 1 0 6z",stroke:"#B0C4DE",fill:"none"})]}):J.includes("snow")||J.includes("flurr")?m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#B0E0E6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"}),m.jsx("line",{x1:"8",y1:"16",x2:"8",y2:"16.01"}),m.jsx("line",{x1:"8",y1:"20",x2:"8",y2:"20.01"}),m.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"18.01"}),m.jsx("line",{x1:"12",y1:"22",x2:"12",y2:"22.01"}),m.jsx("line",{x1:"16",y1:"16",x2:"16",y2:"16.01"}),m.jsx("line",{x1:"16",y1:"20",x2:"16",y2:"20.01"})]}):J.includes("thunder")||J.includes("storm")?m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#9370DB",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"}),m.jsx("polyline",{points:"13 11 9 17 15 17 11 23",stroke:"#FFD700",fill:"none"})]}):J.includes("fog")||J.includes("mist")||J.includes("haze")?m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#A9A9A9",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"}),m.jsx("line",{x1:"3",y1:"20",x2:"21",y2:"20"}),m.jsx("line",{x1:"3",y1:"17",x2:"21",y2:"17"})]}):m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#B0C4DE",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"})})},ie=U=>{if(!U)return"";if(typeof U=="string"&&U.match(/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun)/i))return U;const J=new Date(parseInt(U)||U);if(isNaN(J.getTime()))return U;const ye=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],we=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return`${ye[J.getDay()]}, ${we[J.getMonth()]} ${J.getDate()}`},le=()=>{if(!l||!l.length)return m.jsx("div",{className:"forecast-empty",children:"No forecast data"});if(d!==null){const U=l[d];return m.jsxs("div",{className:"forecast-detail",children:[m.jsxs("div",{className:"forecast-detail-header",children:[m.jsx("button",{className:"detail-back-btn",onClick:()=>h(null),children:" Back"}),m.jsx("span",{className:"detail-date",children:ie(U.date||U.day)})]}),m.jsxs("div",{className:"detail-main",children:[m.jsx("div",{className:"detail-icon",children:Z(U.conditions||U.condition)}),m.jsxs("div",{className:"detail-temps",children:[m.jsxs("div",{className:"detail-high",children:[U.high,""]}),m.jsxs("div",{className:"detail-low",children:[U.low,""]})]}),m.jsx("div",{className:"detail-condition",children:U.conditions||U.condition||"N/A"})]}),U.description&&m.jsx("div",{className:"detail-description",children:U.description}),m.jsxs("div",{className:"detail-stats",children:[m.jsxs("div",{className:"detail-stat",children:[m.jsx("span",{className:"stat-label",children:"Precipitation"}),m.jsx("span",{className:"stat-value",children:U.precipitation||U.precip||"0%"})]}),U.humidity&&m.jsxs("div",{className:"detail-stat",children:[m.jsx("span",{className:"stat-label",children:"Humidity"}),m.jsxs("span",{className:"stat-value",children:[U.humidity,"%"]})]}),U.wind&&m.jsxs("div",{className:"detail-stat",children:[m.jsx("span",{className:"stat-label",children:"Wind"}),m.jsx("span",{className:"stat-value",children:U.wind})]}),(U.sunrise||U.sunset)&&m.jsxs("div",{className:"detail-sun-times",children:[U.sunrise&&m.jsxs("div",{className:"detail-stat",children:[m.jsx("span",{className:"stat-label",children:" Sunrise"}),m.jsx("span",{className:"stat-value",children:U.sunrise})]}),U.sunset&&m.jsxs("div",{className:"detail-stat",children:[m.jsx("span",{className:"stat-label",children:" Sunset"}),m.jsx("span",{className:"stat-value",children:U.sunset})]})]})]})]})}return l.slice(0,5).map((U,J)=>m.jsxs("div",{className:"forecast-card",onClick:()=>h(J),children:[m.jsx("div",{className:"forecast-date",children:ie(U.date||U.day)}),m.jsx("div",{className:"forecast-icon",children:Z(U.conditions||U.condition)}),m.jsxs("div",{className:"forecast-temps",children:[m.jsxs("span",{className:"temp-high",children:[U.high,""]}),m.jsxs("span",{className:"temp-low",children:[U.low,""]}),m.jsx("span",{className:"precip",children:U.precipitation||U.precip||"0%"})]})]},J))},q=U=>{U.preventDefault();const J=U.clientX,ye=A,we=_e=>{const ne=J-_e.clientX,D=Math.max(250,Math.min(500,ye+ne));P(D),localStorage.setItem("forecastPanelWidth",D)},Ne=()=>{document.removeEventListener("mousemove",we),document.removeEventListener("mouseup",Ne)};document.addEventListener("mousemove",we),document.addEventListener("mouseup",Ne)},oe=U=>{U.preventDefault(),U.stopPropagation();const J=U.clientY,ye=I,we=_e=>{const ne=J-_e.clientY,D=Math.max(100,Math.min(500,ye+ne));K(D),localStorage.setItem("devicesOnHeight",D)},Ne=()=>{document.removeEventListener("mousemove",we),document.removeEventListener("mouseup",Ne)};document.addEventListener("mousemove",we),document.addEventListener("mouseup",Ne)};return m.jsxs("div",{className:"forecast-panel",style:{width:A},children:[m.jsx("div",{className:"forecast-resize-handle",ref:F,onMouseDown:q,children:m.jsx("div",{className:"forecast-resize-grip"})}),m.jsxs("div",{className:"forecast-panel-header",onClick:()=>n(!a),children:[m.jsx("span",{children:"5-Day Forecast"}),m.jsx("button",{onClick:U=>{U.stopPropagation(),Y()},className:"forecast-refresh-btn",children:"Refresh"})]}),a&&m.jsx("div",{className:"forecast-panel-content",children:le()}),m.jsxs("div",{className:"devices-on-section",style:{height:r?I:"auto"},children:[m.jsx("div",{className:"devices-resize-handle",onMouseDown:oe,children:m.jsx("div",{className:"devices-resize-grip"})}),m.jsxs("div",{className:"devices-on-header",onClick:()=>s(!r),children:[m.jsxs("span",{children:["Devices ON (",x.size,")"]}),m.jsx("span",{className:"expand-icon",children:r?"":""})]}),r&&m.jsx("div",{className:"devices-on-list",children:x.size===0?m.jsx("div",{className:"no-devices",children:"All devices off"}):Array.from(x.values()).sort((U,J)=>U.name.localeCompare(J.name)).map((U,J)=>m.jsxs("div",{className:"device-on-item",children:[m.jsx("span",{className:"device-on-indicator"}),m.jsx("span",{className:"device-on-name",children:U.name})]},J))})]}),m.jsxs("div",{className:"status-indicators",children:[m.jsx("div",{className:`connection-status ${p?"connected":"disconnected"}`,children:p?"Backend":"Backend X"}),m.jsx("div",{className:`connection-status ${v.connected?"connected":"disconnected"}`,children:v.connected?`HA (${v.deviceCount})`:"HA X"})]})]})}function DN({visible:a,position:n,items:r,onClose:s,onSelect:l}){const u=C.useRef(null),d=C.useRef(null),[h,p]=C.useState(null),[y,v]=C.useState({x:0,y:0}),[w,x]=C.useState(""),O=C.useRef(null),A=C.useRef(null);C.useEffect(()=>{a&&(x(""),p(null),setTimeout(()=>{d.current?.focus()},50))},[a]);const P=C.useMemo(()=>{if(!w.trim())return r;const q=w.toLowerCase(),oe=[];for(const U of r)if(U.subitems)for(const J of U.subitems)J.label&&J.label.toLowerCase().includes(q)&&oe.push({...J,categoryHint:U.label});else U.label&&U.label.toLowerCase().includes(q)&&oe.push(U);return oe},[r,w]),I=w.trim().length>0;C.useEffect(()=>{if(!a)return;const q=U=>{u.current&&!u.current.contains(U.target)&&s()},oe=U=>{U.key==="Escape"&&s()};return document.addEventListener("mousedown",q),document.addEventListener("keydown",oe),()=>{document.removeEventListener("mousedown",q),document.removeEventListener("keydown",oe)}},[a,s]),C.useEffect(()=>()=>{O.current&&clearTimeout(O.current),A.current&&clearTimeout(A.current)},[]);const K=C.useCallback((q,oe,U)=>{A.current&&(clearTimeout(A.current),A.current=null),oe.subitems&&oe.subitems.length>0?p(U):p(null)},[]),F=C.useCallback(()=>{A.current=setTimeout(()=>{p(null)},150)},[]),Y=C.useCallback(()=>{A.current&&(clearTimeout(A.current),A.current=null)},[]),Z=C.useCallback(()=>{A.current=setTimeout(()=>{p(null)},100)},[]),ie=C.useCallback(q=>{q.subitems&&q.subitems.length>0||(l(q),s())},[l,s]);if(!a)return null;const le={...n};if(typeof window<"u"){const oe=Math.min(P.length*36+50,400);n.x+220>window.innerWidth&&(le.x=window.innerWidth-220-10),n.y+oe>window.innerHeight&&(le.y=Math.max(10,window.innerHeight-oe-10))}return m.jsxs("div",{ref:u,className:"fast-context-menu",style:{left:le.x,top:le.y},children:[m.jsxs("div",{className:"fast-menu-search",children:[m.jsx("input",{ref:d,type:"text",placeholder:"Search nodes...",value:w,onChange:q=>x(q.target.value),onClick:q=>q.stopPropagation(),onKeyDown:q=>{if(q.key==="Enter"&&P.length===1){const oe=P[0];oe.subitems||ie(oe)}q.stopPropagation()}}),w&&m.jsx("span",{className:"search-clear",onClick:q=>{q.stopPropagation(),x(""),d.current?.focus()},children:""})]}),m.jsx("div",{className:"fast-menu-results",children:P.length===0?m.jsx("div",{className:"fast-menu-empty",children:"No nodes found"}):I?P.map((q,oe)=>m.jsxs("div",{className:"fast-menu-item search-result",onClick:()=>ie(q),children:[m.jsx("span",{className:"menu-label",children:q.label}),q.categoryHint&&m.jsx("span",{className:"category-hint",children:q.categoryHint})]},q.label||oe)):P.map((q,oe)=>m.jsxs("div",{className:`fast-menu-item ${q.subitems?"has-submenu":""} ${h===oe?"active":""}`,onMouseEnter:U=>K(U,q,oe),onMouseLeave:F,onClick:()=>ie(q),children:[m.jsx("span",{className:"menu-label",children:q.label}),q.subitems&&m.jsx("span",{className:"submenu-arrow",children:""}),h===oe&&q.subitems&&m.jsx("div",{className:"fast-submenu",onMouseEnter:Y,onMouseLeave:Z,children:q.subitems.map((U,J)=>m.jsx("div",{className:"fast-menu-item",onClick:ye=>{ye.stopPropagation(),ie(U)},children:m.jsx("span",{className:"menu-label",children:U.label})},U.label||J))})]},q.label||oe))})]})}function $0(a){const n=[],r=[];if(!a||typeof a!="object")return{valid:!1,errors:["Graph data is not an object"],warnings:[]};if(!Array.isArray(a.nodes))n.push('Missing or invalid "nodes" array');else{const s=new Set;a.nodes.forEach((l,u)=>{l.id?(s.has(l.id)&&n.push(`Duplicate node ID: ${l.id}`),s.add(l.id)):n.push(`Node at index ${u} is missing "id"`),l.label||n.push(`Node ${l.id||u} is missing "label"`),(!l.position||typeof l.position.x!="number"||typeof l.position.y!="number")&&r.push(`Node ${l.id||u} has invalid position`),l.position&&(!Number.isFinite(l.position.x)||!Number.isFinite(l.position.y))&&n.push(`Node ${l.id||u} has NaN or Infinity in position`)})}if(!Array.isArray(a.connections))n.push('Missing or invalid "connections" array');else{const s=new Set(a.nodes?.map(u=>u.id)||[]),l=new Set;a.connections.forEach((u,d)=>{u.source?s.has(u.source)||n.push(`Connection ${d} references non-existent source node: ${u.source}`):n.push(`Connection at index ${d} is missing "source"`),u.target?s.has(u.target)||n.push(`Connection ${d} references non-existent target node: ${u.target}`):n.push(`Connection at index ${d} is missing "target"`),u.sourceOutput||r.push(`Connection ${d} is missing "sourceOutput"`),u.targetInput||r.push(`Connection ${d} is missing "targetInput"`);const h=`${u.source}:${u.sourceOutput}->${u.target}:${u.targetInput}`;l.has(h)&&r.push(`Duplicate connection: ${h}`),l.add(h),u.source===u.target&&r.push(`Self-connection detected on node ${u.source}`)})}return a.viewport&&((typeof a.viewport.k!="number"||a.viewport.k<=0)&&r.push("Invalid viewport zoom value"),(!Number.isFinite(a.viewport.x)||!Number.isFinite(a.viewport.y))&&r.push("Invalid viewport position")),{valid:n.length===0,errors:n,warnings:r}}function V0(a){const n=[];let r=!1;const s=JSON.parse(JSON.stringify(a));Array.isArray(s.nodes)||(s.nodes=[],n.push("Created empty nodes array"),r=!0),Array.isArray(s.connections)||(s.connections=[],n.push("Created empty connections array"),r=!0);const l=new Set,u=new Set;return s.nodes=s.nodes.filter((d,h)=>{if(!d.id)return n.push(`Removed node at index ${h} (missing ID)`),r=!0,!1;if(u.has(d.id)){const p=`${d.id}_${Date.now()}_${h}`;n.push(`Renamed duplicate node ID ${d.id} to ${p}`),d.id=p,r=!0}return u.add(d.id),l.add(d.id),d.label||(d.label="Unknown Node",n.push(`Set label for node ${d.id} to "Unknown Node"`),r=!0),!d.position||typeof d.position!="object"?(d.position={x:0,y:0},n.push(`Reset position for node ${d.id}`),r=!0):(Number.isFinite(d.position.x)||(d.position.x=0,n.push(`Fixed NaN x position for node ${d.id}`),r=!0),Number.isFinite(d.position.y)||(d.position.y=0,n.push(`Fixed NaN y position for node ${d.id}`),r=!0)),!0}),s.connections=s.connections.filter((d,h)=>l.has(d.source)?l.has(d.target)?!0:(n.push(`Removed connection ${h} (invalid target: ${d.target})`),r=!0,!1):(n.push(`Removed connection ${h} (invalid source: ${d.source})`),r=!0,!1)),s.viewport&&(Number.isFinite(s.viewport.x)||(s.viewport.x=0,n.push("Fixed viewport x position"),r=!0),Number.isFinite(s.viewport.y)||(s.viewport.y=0,n.push("Fixed viewport y position"),r=!0),(!Number.isFinite(s.viewport.k)||s.viewport.k<=0)&&(s.viewport.k=1,n.push("Fixed viewport zoom level"),r=!0)),{repaired:r,graphData:s,fixes:n}}class rj extends ft.Control{constructor(n,r){super(),this.label=n,this.onClick=r}}function MN({data:a}){return m.jsx("button",{onPointerDown:n=>n.stopPropagation(),onDoubleClick:n=>n.stopPropagation(),onClick:a.onClick,style:{width:"100%",padding:"8px",marginBottom:"5px",background:"rgba(0, 243, 255, 0.1)",border:"1px solid rgba(0, 243, 255, 0.4)",color:"#00f3ff",borderRadius:"20px",cursor:"pointer",fontWeight:"600",textTransform:"uppercase",fontSize:"12px",transition:"all 0.2s"},onMouseOver:n=>{n.currentTarget.style.background="rgba(0, 243, 255, 0.25)",n.currentTarget.style.boxShadow="0 0 12px rgba(0, 243, 255, 0.4)"},onMouseOut:n=>{n.currentTarget.style.background="rgba(0, 243, 255, 0.1)",n.currentTarget.style.boxShadow="none"},children:a.label})}class ij extends ft.Control{constructor(n,r,s,l){super(),this.label=n,this.values=r,this.value=s,this.onChange=l}setValue(n){this.value=n}}function zN({data:a}){const[,n]=C.useReducer(d=>d+1,0),[r,s]=C.useState(a.value);C.useEffect(()=>{s(a.value)},[a.value]),C.useEffect(()=>{n()},[a]);const l=d=>{const h=d.target.value;s(h),typeof a.setValue=="function"?a.setValue(h):a.value=h,a.onChange&&a.onChange(h)},u=a.values||[];return m.jsxs("div",{style:{marginBottom:"5px"},children:[a.label&&m.jsx("label",{style:{display:"block",fontSize:"10px",color:"#00f3ff",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.5px"},children:a.label}),m.jsx("select",{value:r,onChange:l,onPointerDown:d=>d.stopPropagation(),onDoubleClick:d=>d.stopPropagation(),style:{width:"100%",background:"#0a0f14",color:"#00f3ff",border:"1px solid rgba(0, 243, 255, 0.3)",padding:"6px",borderRadius:"4px",outline:"none",fontSize:"12px"},children:u.map(d=>m.jsx("option",{value:d,style:{background:"#0a0f14",color:"#00f3ff"},children:d},d))})]})}class sj extends ft.Control{constructor(n,r,s){super(),this.label=n,this.value=r,this.onChange=s}}function RN({data:a}){const[n,r]=C.useState(a.value),s=l=>{const u=l.target.value;r(u),a.value=u,a.onChange&&a.onChange(u)};return m.jsxs("div",{style:{marginBottom:"5px"},children:[a.label&&m.jsx("label",{style:{display:"block",fontSize:"10px",color:"#00f3ff",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.5px"},children:a.label}),m.jsx("input",{type:"text",value:n,onChange:s,onPointerDown:l=>l.stopPropagation(),onDoubleClick:l=>l.stopPropagation(),style:{width:"100%",background:"#0a0f14",color:"#00f3ff",border:"1px solid rgba(0, 243, 255, 0.3)",padding:"6px",borderRadius:"4px",outline:"none",fontSize:"12px"}})]})}class oj extends ft.Control{constructor(n,r,s){super(),this.label=n,this.value=r,this.onChange=s}}function LN({data:a}){const[n,r]=C.useState(a.value),s=l=>{const u=l.target.checked;r(u),a.value=u,a.onChange&&a.onChange(u)};return m.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"5px"},children:[m.jsx("input",{type:"checkbox",checked:n,onChange:s,onPointerDown:l=>l.stopPropagation(),onDoubleClick:l=>l.stopPropagation(),style:{accentColor:"#00f3ff"}}),m.jsx("span",{style:{marginLeft:"5px",fontSize:"12px",color:"#00f3ff",textTransform:"uppercase",letterSpacing:"0.5px"},children:a.label})]})}class lj extends ft.Control{constructor(n,r,s,l={}){super(),this.label=n,this.value=r,this.onChange=s,this.options=l}}function BN({data:a}){const[n,r]=C.useState(a.value),s=l=>{const u=Number(l.target.value);r(u),a.value=u,a.onChange&&a.onChange(u)};return m.jsxs("div",{style:{marginBottom:"5px"},children:[a.label&&m.jsx("label",{style:{display:"block",fontSize:"10px",color:"#00f3ff",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.5px"},children:a.label}),m.jsx("input",{type:"number",value:n,onChange:s,min:a.options.min,max:a.options.max,step:a.options.step,onPointerDown:l=>l.stopPropagation(),onDoubleClick:l=>l.stopPropagation(),style:{width:"100%",background:"#0a0f14",color:"#00f3ff",border:"1px solid rgba(0, 243, 255, 0.3)",padding:"6px",borderRadius:"4px",outline:"none",fontSize:"12px"}})]})}class uj extends ft.Control{constructor(n,r,s,l="text"){super(),this.label=n,this.value=r,this.onChange=s,this.type=l}}function UN({data:a}){const[n,r]=C.useState(a.value);C.useEffect(()=>{r(a.value)},[a.value]);const s=l=>{let u=l.target.value;a.type==="number"&&(u=Number(u)),r(u),a.value=u,a.onChange&&a.onChange(u)};return m.jsxs("div",{style:{marginBottom:"5px"},children:[a.label&&m.jsx("label",{style:{display:"block",fontSize:"10px",color:"#00f3ff",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.5px"},children:a.label}),m.jsx("input",{type:a.type||"text",value:n,onChange:s,onPointerDown:l=>l.stopPropagation(),onDoubleClick:l=>l.stopPropagation(),style:{width:"100%",background:"#0a0f14",color:"#00f3ff",border:"1px solid rgba(0, 243, 255, 0.3)",padding:"6px",borderRadius:"4px",outline:"none",fontSize:"12px"}})]})}class cj extends ft.Control{constructor(n,r){super(),this.deviceId=n,this.getState=r}}function HN({data:a}){const n=a.getState?a.getState(a.deviceId):null,r=document.body.classList.contains("performance-mode");if(!n)return m.jsx("div",{style:{padding:"4px 8px",background:"rgba(0, 20, 30, 0.6)",borderRadius:"4px",marginBottom:"4px",display:"flex",alignItems:"center",justifyContent:"space-between",minHeight:"24px",border:"1px solid rgba(0, 243, 255, 0.1)"},children:m.jsx("span",{style:{fontSize:"11px",color:"rgba(0, 243, 255, 0.5)"},children:"No state data"})});const s=n.on||n.state==="on",l=n.brightness?Math.round(n.brightness/255*100):0,u=n.hs_color||[0,0],[d,h]=u;let p="#e74c3c";s&&(h===0?p="#f1c40f":p=`hsl(${d}, ${h}%, 50%)`);const y={width:"14px",height:"14px",borderRadius:"50%",background:p,border:"1px solid rgba(255,255,255,0.3)",animation:s&&!r?"flash-pulse 2s infinite ease-in-out":"none",color:p,marginRight:"8px",flexShrink:0,boxShadow:s?`0 0 5px ${p}`:"none"};return m.jsxs("div",{style:{padding:"6px 8px",background:"rgba(0, 20, 30, 0.6)",borderRadius:"4px",marginBottom:"4px",border:"1px solid rgba(0, 243, 255, 0.2)",display:"flex",flexDirection:"column"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:s?"4px":"0"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",flex:1,overflow:"hidden"},children:[m.jsx("div",{style:y}),m.jsx("span",{style:{fontSize:"12px",color:"#e0f7fa",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginRight:"8px"},children:n.name||a.deviceId})]}),m.jsx("span",{style:{fontSize:"10px",color:"#00f3ff",fontFamily:"monospace",whiteSpace:"nowrap"},children:s?`${l}%`:"Off"})]}),s&&m.jsx("div",{style:{width:"100%",height:"4px",background:"rgba(0, 243, 255, 0.1)",borderRadius:"2px",overflow:"hidden"},children:m.jsx("div",{style:{width:`${l}%`,height:"100%",background:`linear-gradient(90deg, rgba(0, 243, 255, 0.2), ${p})`,transition:"width 0.3s ease-out"}})})]})}function $N(a){const{state:n,color:r}=a.data.data||{},s=n==="on"||n==="open"||n==="playing",l=r||(s?"#00f3ff":"#333");return m.jsxs("div",{className:"status-indicator-control",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"5px",width:"100%"},onPointerDown:u=>u.stopPropagation(),children:[m.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:s?l:"rgba(0, 20, 30, 0.8)",boxShadow:s?`0 0 10px ${l}, 0 0 20px ${l}`:"none",transition:"all 0.3s ease",border:"1px solid rgba(0, 243, 255, 0.3)",animation:s?"pulse 2s infinite":"none"}}),m.jsx("style",{children:`
                @keyframes pulse {
                    0% { opacity: 1; transform: scale(1); }
                    50% { opacity: 0.7; transform: scale(0.9); }
                    100% { opacity: 1; transform: scale(1); }
                }
            `})]})}function VN(a){const{brightness:n,hs_color:r,entityType:s}=a.data.data||{};let l="#444";r&&r.length===2?l=`hsl(${r[0]}, ${r[1]}%, 50%)`:s==="light"&&(l="#ffaa00");const u=n?n/255*100:0;return m.jsx("div",{className:"color-bar-control",style:{width:"100%",height:"8px",backgroundColor:"rgba(0, 20, 30, 0.6)",borderRadius:"4px",overflow:"hidden",marginTop:"5px",border:"1px solid rgba(0, 243, 255, 0.2)"},onPointerDown:d=>d.stopPropagation(),children:m.jsx("div",{style:{width:`${u}%`,height:"100%",backgroundColor:l,transition:"all 0.3s ease",boxShadow:`0 0 10px ${l}`}})})}function IN(a){const{power:n,energy:r}=a.data.data||{};return n===null&&r===null?m.jsx("div",{className:"power-stats-control",style:{fontSize:"10px",color:"#777",marginTop:"5px",fontFamily:"monospace"},children:"-- W / -- kWh"}):m.jsxs("div",{className:"power-stats-control",style:{display:"flex",flexDirection:"column",fontSize:"10px",color:"#e0f7fa",marginTop:"5px",fontFamily:"monospace"},onPointerDown:s=>s.stopPropagation(),children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[m.jsx("span",{children:"PWR:"}),m.jsx("span",{style:{color:"#00f3ff"},children:n!==null?`${n} W`:"--"})]}),r!==null&&m.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[m.jsx("span",{children:"NRG:"}),m.jsxs("span",{style:{color:"#ffaa00"},children:[r," kWh"]})]})]})}const qN=!1,Ye=(...a)=>qN,YN=aa.memo(({data:a,socketKey:n,side:r})=>{let l=a?.name||"any";if(n&&typeof n=="string"){const d=n.toLowerCase();d.includes("hsv")||d.includes("color")?l="hsv_info":d.includes("trigger")||d.includes("enable")||d.includes("active")?l="boolean":(d.includes("light")||d.includes("device"))&&(l="light_info")}const u=`${n||"socket"} (${l})`;return aa.createElement("div",{className:"rete-socket","data-socket-type":l,title:u})});function GN(){const a=C.useRef(null),[n,r]=C.useState(null),[s,l]=C.useState(null),[u,d]=C.useState(null),[h,p]=C.useState(null),y=C.useRef(!1),v=C.useRef(new Set),w=C.useRef(null),x=C.useRef(!1),O=C.useRef(null),A=C.useRef(null),P=C.useRef(null),I=C.useRef({x:0,y:0}),K=C.useRef(!1),F=C.useRef([]),[Y,Z]=C.useState({visible:!1,position:{x:0,y:0},items:[],nodeContext:null}),ie=C.useCallback(async j=>{await new Promise(ee=>{const se=()=>{const ke=j.getBoundingClientRect();ke.width>0&&ke.height>0?ee():requestAnimationFrame(se)};requestAnimationFrame(se)});const $=new mr,z=new fb(j),re=new rE,S=new uC({createRoot:Y0.createRoot}),k=new wC;$.use(k);let E=null,T=!1;const R=async()=>{T||(T=!0,E&&clearTimeout(E),E=setTimeout(async()=>{T=!1,E=null,k.reset();for(const ee of $.getNodes())try{await k.fetch(ee.id)}catch{}},16))},ae=async()=>{E&&(clearTimeout(E),E=null),T=!1,k.reset();for(const ee of $.getNodes())try{await k.fetch(ee.id)}catch{}},pe=new Set;let ce=null;const me=ee=>{pe.add(ee),ce||(ce=setTimeout(()=>{ce=null,pe.forEach(se=>{z.update("node",se)}),pe.clear(),R()},16))},Oe=()=>{R()},Ee=()=>{const ee=_n.getAll(),se={};return ee.forEach(ve=>{const Ae=ve.category||"Other";se[Ae]||(se[Ae]=[]),se[Ae].push({label:ve.label,handler:async nt=>{let vt;const wn=()=>{ve.updateStrategy==="dataflow"?Oe():me(vt.id)};vt=ve.factory(wn),await $.addNode(vt);const It=z.area.transform,Sn=(nt.x-It.x)/It.k,Xt=(nt.y-It.y)/It.k;await z.translate(vt.id,{x:Sn,y:Xt})}})}),Object.entries(se).map(([ve,Ae])=>({label:ve,subitems:Ae.sort((nt,vt)=>nt.label.localeCompare(vt.label))})).sort((ve,Ae)=>ve.label.localeCompare(Ae.label))};window._t2GetMenuItems=Ee,window._t2Editor=$,window._t2Area=z;const ue=Ur.selector();S.addPreset(id.classic.setup({customize:{node(ee){const se=_n.getByInstance(ee.payload);return se?se.component:id.classic.Node},socket(ee){const se=ee.key,ke=ee.side;return function({data:Ae}){return aa.createElement(YN,{data:Ae,socketKey:se,side:ke})}},control(ee){if(ee.payload instanceof ft.Control){const ke=ee.payload.constructor.name;if(ke==="ButtonControl")return MN;if(ke==="DropdownControl")return zN;if(ke==="TextControl")return RN;if(ke==="SwitchControl")return LN;if(ke==="NumberControl")return BN;if(ke==="InputControl")return UN;if(ke==="DeviceStateControl")return HN;if(ke==="StatusIndicatorControl")return $N;if(ke==="ColorBarControl")return VN;if(ke==="PowerStatsControl")return IN}return id.classic.Control}}})),re.addPreset(W2.classic.setup()),$.use(z),z.use(re),z.use(S),Ur.selectableNodes(z,ue,{accumulating:Ur.accumulateOnCtrl()}),Ur.simpleNodesOrder(z),$.addPipe(ee=>{if(ee.type==="nodecreated"){const se=ee.data,ke=_n.getByInstance(se);ke&&ke.isBackdrop&&setTimeout(()=>{const ve=z.nodeViews.get(se.id);ve&&ve.element&&(ve.element.style.zIndex="-10",Ye("[Backdrop] Set z-index on creation for:",se.id))},50)}return ee});let De=!1,Be=!1,xt={x:0,y:0};re.addPipe(ee=>(ee.type==="connectionpick"?De=!0:ee.type==="connectiondrop"&&(De=!1,Be=!1),ee));const un=ee=>{if(De)if(ee.ctrlKey||ee.metaKey)if(!Be)Be=!0,xt={x:ee.clientX,y:ee.clientY},j.style.cursor="grab";else{const se=ee.clientX-xt.x,ke=ee.clientY-xt.y;if(se!==0||ke!==0){const ve=z.area.transform;z.area.translate(ve.x+se,ve.y+ke),xt={x:ee.clientX,y:ee.clientY}}}else Be&&(Be=!1,j.style.cursor="")},ia=ee=>{(ee.key==="Control"||ee.key==="Meta")&&Be&&(Be=!1,j.style.cursor="")};window.addEventListener("pointermove",un),window.addEventListener("keyup",ia);const Ue=document.createElement("div");Ue.classList.add("selection-box"),j.appendChild(Ue);let it=!1,_t={x:0,y:0};const mt=v.current,bn=()=>{it&&(it=!1,Ue.style.display="none")},Zt=()=>{bn(),window.resetEditorDragState&&window.resetEditorDragState()},Mt=()=>{document.hidden&&(bn(),window.resetEditorDragState&&window.resetEditorDragState())};window.addEventListener("blur",Zt),document.addEventListener("visibilitychange",Mt);const Xr=ee=>{if((ee.ctrlKey||ee.metaKey)&&ee.button===0){ee.stopPropagation(),ee.preventDefault(),it=!0;const se=j.getBoundingClientRect();_t={x:ee.clientX-se.left,y:ee.clientY-se.top},Ue.style.display="block",Ue.style.left=`${_t.x}px`,Ue.style.top=`${_t.y}px`,Ue.style.width="0px",Ue.style.height="0px",ee.shiftKey||(mt.forEach(ke=>{const ve=z.nodeViews.get(ke);ve&&ve.element&&(ve.element.classList.remove("selected"),ve.element.style.outline="")}),mt.clear(),ue&&ue.entities&&Array.from(ue.entities).forEach(ke=>ue.remove(ke)))}},gr=ee=>{if(!it)return;const se=j.getBoundingClientRect(),ke=ee.clientX-se.left,ve=ee.clientY-se.top,Ae=Math.min(_t.x,ke),nt=Math.min(_t.y,ve),vt=Math.abs(ke-_t.x),wn=Math.abs(ve-_t.y);Ue.style.left=`${Ae}px`,Ue.style.top=`${nt}px`,Ue.style.width=`${vt}px`,Ue.style.height=`${wn}px`},vr=ee=>{if(!it)return;const se=Ue.getBoundingClientRect();if(it=!1,Ue.style.display="none",se.width<5&&se.height<5)return;const ke=[];$.getNodes().forEach(ve=>{const Ae=z.nodeViews.get(ve.id);if(Ae&&Ae.element){const nt=Ae.element.getBoundingClientRect();se.left<=nt.left&&se.right>=nt.right&&se.top<=nt.top&&se.bottom>=nt.bottom&&ke.push({node:ve,view:Ae})}}),ke.forEach(({node:ve,view:Ae})=>{mt.add(ve.id),ue.add({id:ve.id,label:"node",translate(nt,vt){},unselect(){Ae.element.classList.remove("selected"),Ae.element.style.outline=""}},!1),Ae.element.classList.add("selected"),Ae.element.style.outline="3px solid #00f3ff"})},X=()=>{mt.size>0&&(mt.forEach(ee=>{const se=z.nodeViews.get(ee);se&&se.element&&(se.element.classList.remove("selected"),se.element.style.outline="")}),mt.clear()),ue&&ue.entities&&(ue.entities instanceof Map?Array.from(ue.entities.values()):Array.from(ue.entities)).forEach(se=>{se.unselect&&se.unselect(),ue.remove(se)}),$.getNodes().forEach(ee=>{const se=z.nodeViews.get(ee.id);se&&se.element&&se.element.classList.remove("selected")})},de=ee=>{if(!ee.ctrlKey&&!ee.metaKey&&!it){let se=!1;for(const[ke,ve]of z.nodeViews)if(ve.element.contains(ee.target)){se=!0;break}if(!se){const ke=ee.target;(ke===j||ke.classList.contains("rete-area")||ke.closest('[data-testid="area"]'))&&X()}}};j.addEventListener("pointerdown",Xr,{capture:!0}),j.addEventListener("click",de),window.addEventListener("pointermove",gr),window.addEventListener("pointerup",vr),$.addPipe(ee=>((ee.type==="connectioncreated"||ee.type==="connectionremoved")&&R(),ee));let ge={activeBackdropId:null,isDragging:!1},$e=!1,kt=null;const Ot=ee=>{$e=ee,kt&&(clearTimeout(kt),kt=null),ee&&(kt=setTimeout(()=>{$e&&($e=!1),kt=null},500))},ze=()=>{it&&(it=!1,Ue.style.display="none"),$e&&Ot(!1),ge.isDragging&&(ge.isDragging=!1,ge.activeBackdropId=null)};window.resetEditorDragState=ze;function st(){const ee=$.getNodes(),se=ee.filter(ve=>{const Ae=_n.getByInstance(ve);return Ae&&Ae.isBackdrop}),ke=ee.filter(ve=>{const Ae=_n.getByInstance(ve);return!Ae||!Ae.isBackdrop});se.forEach(ve=>{const Ae=z.nodeViews.get(ve.id);if(!Ae)return;Ae.element&&(Ae.element.style.zIndex="-10");const nt=Ae.position,vt=[],wn=ve.properties.width||400,It=ve.properties.height||300;ke.forEach(Xt=>{const xn=z.nodeViews.get(Xt.id);if(!xn)return;xn.element&&parseInt(xn.element.style.zIndex||"0",10)<0&&(xn.element.style.zIndex="1");const Mn=xn.position,Eu=Xt.width||180,vo=Xt.height||100,as=Mn.x+Eu/2,rs=Mn.y+vo/2;as>=nt.x&&as<=nt.x+wn&&rs>=nt.y&&rs<=nt.y+It&&vt.push(Xt.id)});const Sn=ve.properties.capturedNodes.length;ve.properties.capturedNodes=vt,Sn!==vt.length&&ve.changeCallback&&ve.changeCallback()})}return z.updateBackdropCaptures=st,z.addPipe(ee=>{if(ee.type==="nodepicked"){const se=ee.data.id,ke=$.getNode(se);if(ke){const Ae=_n.getByInstance(ke);if(Ae&&Ae.isBackdrop&&ke.properties.locked)return}!K.current&&!mt.has(se)&&(mt.forEach(Ae=>{const nt=z.nodeViews.get(Ae);nt&&nt.element&&(nt.element.classList.remove("selected"),nt.element.style.outline="")}),mt.clear()),mt.add(se);const ve=z.nodeViews.get(se);ve&&ve.element&&(ve.element.classList.add("selected"),ve.element.style.outline="3px solid #00f3ff")}return ee}),z.addPipe(ee=>{if(ee.type==="render"&&ee.data?.payload){const se=ee.data.payload,ke=_n.getByInstance(se);ke&&ke.isBackdrop&&setTimeout(()=>{const ve=z.nodeViews.get(se.id);if(ve&&ve.element){ve.element.style.zIndex!=="-10"&&(ve.element.style.zIndex="-10");const Ae=se.properties.locked?"none":"auto";ve.element.style.pointerEvents!==Ae&&(ve.element.style.pointerEvents=Ae)}},0)}if(ee.type==="nodetranslate"){if(y.current||$e)return ee;const se=ee.data.id,ke=$.getNode(se);if(!ke)return ee;const ve=ee.data.position,Ae=ee.data.previous,nt=ve.x-Ae.x,vt=ve.y-Ae.y;if(nt===0&&vt===0)return ee;if(mt.size>1&&mt.has(se)){Ot(!0);const It=[];return mt.forEach(Sn=>{if(Sn!==se){const Xt=z.nodeViews.get(Sn);if(Xt){const xn=Xt.position.x+nt,Mn=Xt.position.y+vt;It.push(z.translate(Sn,{x:xn,y:Mn}))}}}),Promise.all(It).then(()=>{Ot(!1)}),ee}const wn=_n.getByInstance(ke);if(wn&&wn.isBackdrop){if(ke.properties.locked)return{...ee,data:{...ee.data,position:ee.data.previous}};if(ge.activeBackdropId!==se&&(ge.activeBackdropId=se,ge.isDragging=!0,st()),ke.properties.capturedNodes.length>0){Ot(!0);const It=[];return ke.properties.capturedNodes.forEach(Sn=>{if(!mt.has(Sn)){const Xt=z.nodeViews.get(Sn);if(Xt){const xn=Xt.position.x+nt,Mn=Xt.position.y+vt;It.push(z.translate(Sn,{x:xn,y:Mn}))}}}),Promise.all(It).then(()=>{Ot(!1)}),ee}}}if(ee.type==="nodedragged"){if(y.current)return ee;ge.isDragging=!1,ge.activeBackdropId=null,st()}return ee}),O.current=$,A.current=z,P.current=ue,window.updateBackdropLockState=(ee,se)=>{const ke=z.nodeViews.get(ee);ke&&ke.element&&(ke.element.style.pointerEvents=se?"none":"auto")},r($),l(z),d(k),{destroy:()=>{j.removeEventListener("pointerdown",Xr,{capture:!0}),j.removeEventListener("click",de),window.removeEventListener("pointermove",gr),window.removeEventListener("pointerup",vr),window.removeEventListener("pointermove",un),window.removeEventListener("keyup",ia),window.removeEventListener("blur",Zt),document.removeEventListener("visibilitychange",Mt),kt&&clearTimeout(kt),Ue.parentNode&&Ue.parentNode.removeChild(Ue),z.destroy()},selector:ue,editor:$,area:z,engine:k,process:R,processImmediate:ae}},[]);C.useEffect(()=>{const j=a.current;if(!j)return;let $=null,z=null,re=null;z=CN().then(()=>ie(j)).then(k=>{k.editor,$=k.area,k.engine,k.selector,r(k.editor),l(k.area),d(k.engine),p(k.selector),w.current=k.processImmediate,setTimeout(()=>{if(j){j.tabIndex=-1,j.focus();const T=j.getBoundingClientRect(),R=T.left+T.width/2,ae=T.top+T.height/2,pe=new WheelEvent("wheel",{bubbles:!0,cancelable:!0,clientX:R,clientY:ae,deltaY:0});j.dispatchEvent(pe),window.resetEditorView=()=>{requestAnimationFrame(()=>{window.resetEditorDragState&&window.resetEditorDragState();const ce=j.getBoundingClientRect(),me=ce.left+ce.width/2,Oe=ce.top+ce.height/2;j.tabIndex=-1,j.focus();try{for(let De=0;De<5;De++)try{j.releasePointerCapture(De)}catch{}j.querySelectorAll(".node, .connection, [data-drag]").forEach(De=>{try{De.releasePointerCapture(1)}catch{}})}catch{}if($){const ue=new PointerEvent("pointercancel",{bubbles:!0,cancelable:!0,pointerId:1,pointerType:"mouse"});j.dispatchEvent(ue);const De=new PointerEvent("lostpointercapture",{bubbles:!0,cancelable:!0,pointerId:1,pointerType:"mouse"});j.dispatchEvent(De)}setTimeout(()=>{const ue=new PointerEvent("pointerdown",{bubbles:!0,cancelable:!0,clientX:me,clientY:Oe,pointerId:1,pointerType:"mouse",isPrimary:!0,button:0,buttons:1}),De=new PointerEvent("pointerup",{bubbles:!0,cancelable:!0,clientX:me,clientY:Oe,pointerId:1,pointerType:"mouse",isPrimary:!0,button:0,buttons:0});j.dispatchEvent(ue),setTimeout(()=>{j.dispatchEvent(De);const Be=new WheelEvent("wheel",{bubbles:!0,cancelable:!0,clientX:me,clientY:Oe,deltaY:0});j.dispatchEvent(Be)},50)},50)})}}},100);let E=!1;return re=new ResizeObserver(T=>{for(const R of T){const{width:ae,height:pe}=R.contentRect;!E&&ae>0&&pe>0&&(E=!0,setTimeout(()=>{j.focus();const ce=j.getBoundingClientRect(),me=new WheelEvent("wheel",{bubbles:!0,cancelable:!0,clientX:ce.left+ce.width/2,clientY:ce.top+ce.height/2,deltaY:0});j.dispatchEvent(me)},50))}}),re.observe(j),k});const S=()=>{window.resetEditorView&&window.resetEditorView()};return window.addEventListener("graphLoadComplete",S),()=>{re&&re.disconnect(),window.removeEventListener("graphLoadComplete",S),z.then(k=>k.destroy())}},[ie]),C.useEffect(()=>{if(!n||!s||!h)return;const j=async E=>{if(E.target.tagName==="INPUT"||E.target.tagName==="TEXTAREA"||E.target.isContentEditable)return;if(Ye(` KeyDown: ${E.code} (Ctrl: ${E.ctrlKey}, Meta: ${E.metaKey})`),E.code==="F5"||(E.ctrlKey||E.metaKey)&&E.shiftKey&&E.code==="KeyR"){E.preventDefault(),window.resetEditorView&&window.resetEditorView();return}const T=O.current,R=A.current,ae=P.current;if(!T||!R)return;const pe=()=>{const ce=new Set;if(ae&&ae.entities&&ae.entities instanceof Map)for(const[me,Oe]of ae.entities)T.getNode(me)&&ce.add(me);for(const me of v.current)T.getNode(me)&&ce.add(me);return Ye(` Found ${ce.size} selected nodes:`,Array.from(ce)),Array.from(ce)};if(E.code==="Delete"||E.code==="Backspace"){Ye(" Delete key pressed. lassoSelectedNodesRef.current size:",v.current.size),Ye(" lassoSelectedNodesRef.current contents:",Array.from(v.current));const ce=pe();if(Ye(` Deleting ${ce.length} nodes:`,ce),ce.length>0){const me=[],Oe=[],Ee=new Set(ce);for(const ue of T.getConnections())(Ee.has(ue.source)||Ee.has(ue.target))&&Oe.push({source:ue.source,target:ue.target,sourceOutput:ue.sourceOutput,targetInput:ue.targetInput});for(const ue of ce){const De=T.getNode(ue);De&&me.push({id:ue,label:De.label,position:R.nodeViews.get(ue)?.position||{x:0,y:0},properties:JSON.parse(JSON.stringify(De.properties||{}))})}F.current.push({type:"delete",nodes:me,connections:Oe}),Ye(" Saved undo state:",F.current.length,"items in stack");for(const ue of ce){const De=T.getConnections().filter(Be=>Be.source===ue||Be.target===ue);for(const Be of De)await T.removeConnection(Be.id);await T.removeNode(ue),v.current.delete(ue)}}}if((E.ctrlKey||E.metaKey)&&E.code==="KeyZ"&&!E.shiftKey){if(E.preventDefault(),F.current.length===0)return;const ce=F.current.pop();if(Ye(" Undoing:",ce.type,ce.nodes.length,"nodes"),ce.type==="delete"){const me={};y.current=!0;try{for(const Oe of ce.nodes){const Ee=_n.getByLabel(Oe.label);if(Ee){let ue;const De=()=>{R&&R.update("node",ue.id),u&&T&&(u.reset(),setTimeout(()=>{T.getNodes().forEach(async xt=>{try{await u.fetch(xt.id)}catch{}})},0))},Be=()=>{Ee.updateStrategy==="dataflow"?(u&&u.reset(),u&&T&&setTimeout(()=>{T.getNodes().forEach(async xt=>{try{await u.fetch(xt.id)}catch{}})},0)):De()};ue=Ee.factory(Be),Oe.properties&&Object.assign(ue.properties,Oe.properties),await T.addNode(ue),await R.translate(ue.id,Oe.position),me[Oe.id]=ue.id}}for(const Oe of ce.connections){const Ee=me[Oe.source]||Oe.source,ue=me[Oe.target]||Oe.target,De=T.getNode(Ee),Be=T.getNode(ue);if(De&&Be)try{await T.addConnection(new ft.Connection(De,Oe.sourceOutput,Be,Oe.targetInput))}catch(xt){console.warn("[Editor] Could not restore connection:",xt)}}Ye(" Undo complete - restored",ce.nodes.length,"nodes")}finally{y.current=!1,R?.updateBackdropCaptures?.()}}}if((E.ctrlKey||E.metaKey)&&E.code==="KeyC")try{const ce=pe();if(ce.length===0){Ye(" Nothing selected to copy");return}Ye(` Copying ${ce.length} nodes`);const me=[],Oe=new Set(ce);for(const De of ce){const Be=T.getNode(De);Be&&me.push({label:Be.label,position:R.nodeViews.get(Be.id)?.position||{x:0,y:0},data:{id:Be.id,properties:JSON.parse(JSON.stringify(Be.properties||{}))}})}if(me.length===0){Ye(" Nothing selected to copy (no nodes in selection)");return}const Ee=[];for(const De of T.getConnections())Oe.has(De.source)&&Oe.has(De.target)&&Ee.push({source:De.source,target:De.target,sourceOutput:De.sourceOutput,targetInput:De.targetInput});const ue={nodes:me,connections:Ee};localStorage.setItem("rete-clipboard",JSON.stringify(ue)),Ye("Copied to clipboard:",ue)}catch(ce){console.error("[Editor] Copy failed:",ce)}if((E.ctrlKey||E.metaKey)&&E.code==="KeyV"){const ce=localStorage.getItem("rete-clipboard");if(!ce)return;try{const me=JSON.parse(ce),Oe={},ue=(A.current?.container||a.current)?.getBoundingClientRect()||{left:0,top:0},De=R.area.transform,Be=(I.current.x-ue.left-De.x)/De.k,xt=(I.current.y-ue.top-De.y)/De.k;let un=1/0,ia=1/0;for(const Ue of me.nodes)un=Math.min(un,Ue.position.x),ia=Math.min(ia,Ue.position.y);ae&&ae.entities&&Array.from(ae.entities).forEach(Ue=>ae.remove(Ue)),y.current=!0;try{for(const Ue of me.nodes){let it;const _t=_n.getByLabel(Ue.label);if(_t){const mt=()=>{R&&R.update("node",it.id),u&&T&&(u.reset(),setTimeout(()=>{T.getNodes().forEach(async Zt=>{try{await u.fetch(Zt.id)}catch{}})},0))},bn=()=>{_t.updateStrategy==="dataflow"?(u&&u.reset(),u&&T&&setTimeout(()=>{T.getNodes().forEach(async Zt=>{try{await u.fetch(Zt.id)}catch{}})},0)):mt()};it=_t.factory(bn)}if(it){typeof it.restore=="function"&&Ue.data?it.restore(Ue.data):Ue.data&&Ue.data.properties&&it.properties&&Object.assign(it.properties,Ue.data.properties),await T.addNode(it);const mt=Ue.position.x-un,bn=Ue.position.y-ia,Zt={x:Be+mt,y:xt+bn};await R.translate(it.id,Zt),Oe[Ue.data.id]=it.id,ae&&ae.add({id:it.id,label:"node",translate:()=>{},unmount:()=>{}},!0)}}}finally{y.current=!1,R?.updateBackdropCaptures?.()}for(const Ue of me.connections){const it=Oe[Ue.source],_t=Oe[Ue.target];if(it&&_t){const mt=T.getNode(it),bn=T.getNode(_t);mt&&bn&&await T.addConnection(new ft.Connection(mt,Ue.sourceOutput,bn,Ue.targetInput))}}Ye("Pasted from clipboard")}catch(me){console.error("[Editor] Paste failed:",me)}}E.code==="Home"&&(E.preventDefault(),R.area&&(R.area.zoom(1,0,0),R.area.translate(0,0))),E.code==="Escape"&&window.resetEditorDragState&&window.resetEditorDragState()},$=E=>{I.current={x:E.clientX,y:E.clientY}},z=E=>{E.key==="Shift"&&(K.current=!0)},re=E=>{E.key==="Shift"&&(K.current=!1)},S=()=>{j({code:"Delete",ctrlKey:!1,metaKey:!1,target:{tagName:"DIV",isContentEditable:!1}})};let k=null;return window.api&&window.api.onDeleteKey&&(k=window.api.onDeleteKey(S)),window.addEventListener("keydown",j),window.addEventListener("keydown",z),window.addEventListener("keyup",re),window.addEventListener("mousemove",$),()=>{window.removeEventListener("keydown",j),window.removeEventListener("keydown",z),window.removeEventListener("keyup",re),window.removeEventListener("mousemove",$),k&&k()}},[n,s,u,h]),C.useEffect(()=>{const j=a.current;if(!j||!n||!s)return;const $=z=>{const re=z.target.closest('[data-testid="node"]');if(re){z.preventDefault();const S=re.dataset.nodeId||Array.from(s.nodeViews.entries()).find(([k,E])=>E.element===re)?.[0];if(S){const k=n.getNode(S);Z({visible:!0,position:{x:z.clientX,y:z.clientY},items:[{label:"Delete",handler:async()=>{const E=n.getConnections().filter(T=>T.source===S||T.target===S);for(const T of E)await n.removeConnection(T.id);await n.removeNode(S)}}],nodeContext:k})}}else{z.preventDefault();const S=window._t2GetMenuItems?window._t2GetMenuItems():[];Z({visible:!0,position:{x:z.clientX,y:z.clientY},items:S,nodeContext:null})}};return j.addEventListener("contextmenu",$),()=>{j.removeEventListener("contextmenu",$)}},[n,s]);const le=C.useCallback(()=>{Z(j=>({...j,visible:!1}))},[]),q=C.useCallback(async j=>{j.handler&&await j.handler(Y.position)},[Y.position]),oe=async()=>{if(!(!n||!s))try{const j=n.getNodes().map(R=>{const ae=typeof R.toJSON=="function"?R.toJSON():{...R};return R.properties&&(ae.properties=R.properties),{id:R.id,label:R.label,position:s.nodeViews.get(R.id)?.position||{x:0,y:0},data:ae}}),$=n.getConnections().map(R=>({id:R.id,source:R.source,target:R.target,sourceOutput:R.sourceOutput,targetInput:R.targetInput})),z=s.area?.transform?{x:s.area.transform.x,y:s.area.transform.y,k:s.area.transform.k}:{x:0,y:0,k:1},S=JSON.stringify({nodes:j,connections:$,viewport:z},null,2);try{S.length<2e6&&(localStorage.removeItem("saved-graph"),localStorage.setItem("saved-graph",S))}catch{console.warn("localStorage skipped")}if(Ye("Graph saved to localStorage"),window.api?.saveTempFile)try{await window.api.saveTempFile("autotron_graph.json",S),Ye("[handleSave] Saved temp file for Electron reload")}catch(R){console.warn("[handleSave] Failed to save temp file via Electron API",R)}if(window.showSaveFilePicker)try{const ae=await(await window.showSaveFilePicker({suggestedName:"autotron_graph.json",types:[{description:"AutoTron Graph",accept:{"application/json":[".json"]}}]})).createWritable();await ae.write(S),await ae.close(),Ye("Graph saved to file");return}catch(R){if(R.name==="AbortError")return;console.warn("File System Access API failed, falling back to download",R)}const k=new Blob([S],{type:"application/json"}),E=URL.createObjectURL(k),T=document.createElement("a");T.href=E,T.download=`autotron_graph_${Date.now()}.json`,T.click(),URL.revokeObjectURL(E),Ye("Graph saved via download")}catch(j){console.error("Failed to save graph:",j)}};C.useEffect(()=>(window.triggerGraphSave=async()=>{if(!(!n||!s))try{const j=n.getNodes().map(k=>{const E=typeof k.toJSON=="function"?k.toJSON():{...k};return k.properties&&(E.properties=k.properties),{id:k.id,label:k.label,position:s.nodeViews.get(k.id)?.position||{x:0,y:0},data:E}}),$=n.getConnections().map(k=>({id:k.id,source:k.source,target:k.target,sourceOutput:k.sourceOutput,targetInput:k.targetInput})),z=s.area?.transform?{x:s.area.transform.x,y:s.area.transform.y,k:s.area.transform.k}:{x:0,y:0,k:1},re={nodes:j,connections:$,viewport:z,preUpdateSave:!0,timestamp:Date.now()},S=JSON.stringify(re);S.length<2e6&&(localStorage.setItem("saved-graph",S),Ye("[triggerGraphSave] Graph saved before update"))}catch(j){console.warn("[triggerGraphSave] Failed:",j)}},()=>{delete window.triggerGraphSave}),[n,s]);const[U,J]=C.useState(!1),ye=C.useRef(null),we=C.useRef(Date.now());C.useEffect(()=>{if(!n)return;const j=()=>{J(!0)};n.addPipe($=>(["nodecreated","noderemoved","connectioncreated","connectionremoved"].includes($.type)&&j(),$))},[n]),C.useEffect(()=>{if(!n||!s)return;const j=async()=>{if(!(window.graphLoading||x.current)&&U)try{const $=n.getNodes().map(E=>{const T=typeof E.toJSON=="function"?E.toJSON():{...E};return E.properties&&(T.properties=E.properties),{id:E.id,label:E.label,position:s.nodeViews.get(E.id)?.position||{x:0,y:0},data:T}}),z=n.getConnections().map(E=>({id:E.id,source:E.source,target:E.target,sourceOutput:E.sourceOutput,targetInput:E.targetInput})),re=s.area?.transform?{x:s.area.transform.x,y:s.area.transform.y,k:s.area.transform.k}:{x:0,y:0,k:1},S={nodes:$,connections:z,viewport:re,autoSaved:!0,timestamp:Date.now()},k=JSON.stringify(S);k.length<2e6&&(localStorage.setItem("saved-graph",k),we.current=Date.now(),J(!1),window.T2Toast&&window.T2Toast.success("Auto-saved",2e3))}catch($){console.warn("[Auto-save] Failed:",$)}};return ye.current=setInterval(j,12e4),()=>{ye.current&&clearInterval(ye.current)}},[n,s,U]),C.useEffect(()=>{if(!n||!s||!u)return;if(sessionStorage.getItem("autoLoadAfterUpdate")==="true"){sessionStorage.removeItem("autoLoadAfterUpdate");const $=setTimeout(async()=>{try{const z=localStorage.getItem("saved-graph");if(z){Ye("[AutoLoad] Found saved graph, loading...");const re=JSON.parse(z);re.nodes&&re.nodes.length>0&&(window.T2Toast&&window.T2Toast.info("Restoring your graph after update...",3e3),document.dispatchEvent(new CustomEvent("autoLoadGraph")))}}catch(z){console.warn("[AutoLoad] Failed to auto-load graph:",z)}},1e3);return()=>clearTimeout($)}},[n,s,u]);const Ne=async()=>{if(!n||!s||!u){console.error("[handleLoad] Missing instances:",{editor:!!n,area:!!s,engine:!!u});return}try{let j=localStorage.getItem("saved-graph");if(!j&&window.api?.readTempFile)try{const k=await window.api.readTempFile("autotron_graph.json");k?.success&&k.content&&(j=k.content,Ye("[handleLoad] Loaded graph from Electron temp file"))}catch(k){console.warn("[handleLoad] Failed to read Electron temp file",k)}if(!j){alert("No saved graph found");return}const $=JSON.parse(j);Ye(`[handleLoad] Loading graph with ${$.nodes?.length} nodes`);const z=$0($);if(!z.valid){console.warn("[handleLoad] Graph validation failed:",z.errors),window.T2Toast&&window.T2Toast.warning(`Graph has issues: ${z.errors.length} errors`,4e3);const k=V0($);k.repaired&&(Ye("[handleLoad] Graph repaired:",k.fixes),window.T2Toast&&window.T2Toast.info(`Graph repaired: ${k.fixes.length} fixes applied`,3e3),Object.assign($,k.graphData))}z.warnings.length>0&&console.warn("[handleLoad] Graph warnings:",z.warnings),await _e();const re=n.getNodes();if(re.length>0){console.error("[handleLoad] Clear did not work! Still have",re.length,"nodes");for(const k of re)try{await n.removeNode(k.id)}catch(E){console.error("[handleLoad] Force remove failed:",E)}}if(y.current=!0,x.current=!0,s?.area){const k=s.area.transform;k.k=.1,k.x=0,k.y=0}try{for(const k of $.nodes){let E;const T=_n.getByLabel(k.label);if(T){const R=()=>{if(x.current){s&&s.update("node",k.id);return}s&&s.update("node",k.id),u&&n&&(u.reset(),setTimeout(()=>{n.getNodes().forEach(async ae=>{try{await u.fetch(ae.id)}catch{}})},0))};E=T.factory(R)}E&&(E.id=k.id,typeof E.restore=="function"&&k.data?E.restore(k.data):k.data&&k.data.properties&&E.properties&&Object.assign(E.properties,k.data.properties),await n.addNode(E),await s.translate(E.id,k.position))}for(const k of $.connections){const E=n.getNode(k.source),T=n.getNode(k.target);E&&T&&await n.addConnection(new ft.Connection(E,k.sourceOutput,T,k.targetInput))}}finally{y.current=!1,s?.updateBackdropCaptures?.()}const S=n.getNodes();if(S.length>0&&s){Ye("[handleLoad] Zooming to fit",S.length,"nodes...");try{await Ur.zoomAt(s,S,{scale:.9})}catch(k){console.warn("[handleLoad] zoomAt failed:",k)}}w.current&&(Ye("[handleLoad] Processing graph immediately..."),await w.current(),Ye("[handleLoad] Graph processing complete")),x.current=!1,Ye("[handleLoad] Setting up viewport restoration timer..."),setTimeout(()=>{if(Ye("[handleLoad] Viewport restoration timer fired, areaInstance:",!!s,"area:",!!s?.area),s?.area){const k=$.viewport||{x:0,y:0,k:1},E=k.k||1,T=k.x||0,R=k.y||0;Ye("[handleLoad] Restoring viewport:",{savedX:T,savedY:R,savedK:E}),Ye("[handleLoad] Current transform before restore:",{...s.area.transform});const ae=s.area.transform;ae.k=E,ae.x=T,ae.y=R;const pe=s.container?.querySelector(".rete-area");pe&&(pe.style.transform=`translate(${T}px, ${R}px) scale(${E})`),s.emit({type:"transformed",data:{transform:ae}}),Ye("[handleLoad] Transform after restore:",{...s.area.transform});const ce=s.container;ce&&(ce.tabIndex=-1,ce.focus(),document.activeElement&&document.activeElement!==ce&&document.activeElement.tagName!=="BODY"&&document.activeElement.blur(),window.resetEditorView&&(setTimeout(()=>window.resetEditorView(),100),setTimeout(()=>window.resetEditorView(),500),setTimeout(()=>window.resetEditorView(),1e3))),n.getNodes().forEach(me=>{const Oe=s.nodeViews.get(me.id);if(Oe?.element)try{for(let Ee=0;Ee<10;Ee++)try{Oe.element.releasePointerCapture(Ee)}catch{}}catch{}})}},300),Ye("Graph loaded")}catch(j){console.error("Failed to load graph:",j),x.current=!1,alert("Failed to load graph")}};C.useEffect(()=>{const j=()=>{Ne()};return document.addEventListener("autoLoadGraph",j),()=>document.removeEventListener("autoLoadGraph",j)},[n,s,u]);const _e=async()=>{if(!n){console.warn("[handleClear] No editor instance!");return}try{const j=n.getConnections(),$=n.getNodes();Ye(`[handleClear] Removing ${j.length} connections and ${$.length} nodes`);for(const re of j)await n.removeConnection(re.id);for(const re of $)await n.removeNode(re.id);const z=n.getNodes();Ye(`[handleClear] Complete. Remaining nodes: ${z.length}`),z.length>0&&console.error("[handleClear] Failed to remove all nodes! Remaining:",z.map(re=>re.id))}catch(j){console.error("Failed to clear graph:",j)}},ne=()=>{if(!(!n||!s))try{const j=n.getNodes().map(T=>{const R=typeof T.toJSON=="function"?T.toJSON():{...T};return T.properties&&(R.properties=T.properties),{id:T.id,label:T.label,position:s.nodeViews.get(T.id)?.position||{x:0,y:0},data:R}}),$=n.getConnections().map(T=>({id:T.id,source:T.source,target:T.target,sourceOutput:T.sourceOutput,targetInput:T.targetInput})),z=s.area?.transform?{x:s.area.transform.x,y:s.area.transform.y,k:s.area.transform.k}:{x:0,y:0,k:1},re={nodes:j,connections:$,viewport:z},S=new Blob([JSON.stringify(re,null,2)],{type:"application/json"}),k=URL.createObjectURL(S),E=document.createElement("a");E.href=k,E.download=`graph-${Date.now()}.json`,E.click(),URL.revokeObjectURL(k),Ye("Graph exported")}catch(j){console.error("Failed to export graph:",j)}},D=async j=>{const $=$0(j);if(!$.valid){console.warn("[handleImport] Graph validation failed:",$.errors),window.T2Toast&&window.T2Toast.warning(`Graph has issues: ${$.errors.length} errors`,4e3);const S=V0(j);if(S.repaired)window.T2Toast&&window.T2Toast.info(`Graph repaired: ${S.fixes.length} fixes applied`,3e3),j=S.graphData;else if(!confirm(`Graph has ${$.errors.length} errors. Continue anyway?`))return}const z={log:console.log,warn:console.warn,error:console.error};console.log=()=>{},console.warn=()=>{};let re=0;if(console.error=(...S)=>{re++<10&&z.error(...S)},z.log("%c IMPORT STARTED (console suppressed)","background: green; color: white; font-size: 16px;"),window.graphLoading=!0,!n||!s||!u){Object.assign(console,z);return}try{if(await _e(),y.current=!0,x.current=!0,s?.area){const k=s.area.transform;k.k=.1,k.x=0,k.y=0}try{for(const k of j.nodes){let E;const T=_n.getByLabel(k.label);if(!T){console.warn(`[handleImport] No definition found for node label: "${k.label}"`);continue}if(T){const R=()=>{if(x.current||window.graphLoading){s&&s.update("node",k.id);return}if(s&&s.update("node",k.id),u&&n){if(window.graphLoading)return;u.reset(),setTimeout(()=>{window.graphLoading||n.getNodes().forEach(async ae=>{try{await u.fetch(ae.id)}catch{}})},0)}};E=T.factory(R)}E&&(E.id=k.id,typeof E.restore=="function"&&k.data?E.restore(k.data):k.data&&k.data.properties&&E.properties&&Object.assign(E.properties,k.data.properties),await n.addNode(E),await s.translate(E.id,k.position))}for(const k of j.connections){const E=n.getNode(k.source),T=n.getNode(k.target);E&&T?await n.addConnection(new ft.Connection(E,k.sourceOutput,T,k.targetInput)):console.warn(`[handleImport] Connection skipped - missing node: source=${k.source} (${!!E}), target=${k.target} (${!!T})`)}}finally{y.current=!1,s?.updateBackdropCaptures?.()}const S=n.getNodes();if(S.length>0&&s)try{await Ur.zoomAt(s,S,{scale:.9})}catch{}x.current=!1,setTimeout(()=>{window.graphLoading=!1,Ye("[handleImport] Graph loading complete - API calls now enabled"),window.dispatchEvent(new CustomEvent("graphLoadComplete")),w.current&&(Ye("[handleImport] Running processImmediate to sync node states"),w.current()),window.resetEditorView&&setTimeout(()=>window.resetEditorView(),100)},2e3),Object.assign(console,z),console.log("%c IMPORT COMPLETE","background: green; color: white; font-size: 16px;"),Ye("Graph imported successfully. Pan/zoom should work now.")}catch(S){window.graphLoading=!1,typeof z<"u"&&Object.assign(console,z),console.error("Failed to import graph:",S),x.current=!1,alert("Failed to import graph: "+S.message)}};return m.jsxs("div",{style:{width:"100%",height:"100vh",position:"relative"},children:[m.jsx("div",{ref:a,className:"rete-editor",style:{width:"100%",height:"100%",marginRight:"320px"}}),m.jsx(_N,{onSave:oe,onLoad:Ne,onClear:_e,onExport:ne,onImport:D,hasUnsavedChanges:U}),m.jsx(AN,{}),m.jsx(DN,{visible:Y.visible,position:Y.position,items:Y.items,onClose:le,onSelect:q})]})}class ZN extends aa.Component{constructor(n){super(n),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,r){console.error("[ErrorBoundary] Caught error:",n),console.error("[ErrorBoundary] Error info:",r),this.setState({error:n,errorInfo:r})}handleReload=()=>{window.location.reload()};handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){return this.state.hasError?m.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#1a1a2e",color:"#eee",fontFamily:"system-ui, -apple-system, sans-serif",padding:"20px",textAlign:"center"},children:m.jsxs("div",{style:{backgroundColor:"#252540",borderRadius:"12px",padding:"40px",maxWidth:"500px",boxShadow:"0 4px 20px rgba(0,0,0,0.3)"},children:[m.jsx("div",{style:{fontSize:"48px",marginBottom:"20px"},children:""}),m.jsx("h1",{style:{fontSize:"24px",marginBottom:"16px",color:"#ff6b6b"},children:"Something went wrong"}),m.jsx("p",{style:{fontSize:"14px",color:"#aaa",marginBottom:"24px",lineHeight:"1.5"},children:"The editor encountered an error and couldn't continue. This might be caused by a corrupted graph or a plugin issue."}),this.state.error&&m.jsxs("details",{style:{textAlign:"left",backgroundColor:"#1a1a2e",padding:"12px",borderRadius:"8px",marginBottom:"24px",fontSize:"12px",color:"#888"},children:[m.jsx("summary",{style:{cursor:"pointer",color:"#aaa",marginBottom:"8px"},children:"Error Details"}),m.jsxs("pre",{style:{overflow:"auto",maxHeight:"150px",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:[this.state.error.toString(),this.state.errorInfo?.componentStack]})]}),m.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[m.jsx("button",{onClick:this.handleReset,style:{padding:"12px 24px",fontSize:"14px",backgroundColor:"#3a3a5c",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:n=>n.target.style.backgroundColor="#4a4a6c",onMouseOut:n=>n.target.style.backgroundColor="#3a3a5c",children:"Try Again"}),m.jsx("button",{onClick:this.handleReload,style:{padding:"12px 24px",fontSize:"14px",backgroundColor:"#4dabf7",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:n=>n.target.style.backgroundColor="#339af0",onMouseOut:n=>n.target.style.backgroundColor="#4dabf7",children:"Reload Page"})]})]})}):this.props.children}}function XN({isLoading:a,progress:n=0,status:r="Initializing...",loadedCount:s=0,totalCount:l=0,error:u=null}){const[d,h]=C.useState(!1),[p,y]=C.useState(a);return C.useEffect(()=>{if(!a&&p){h(!0);const v=setTimeout(()=>{y(!1),h(!1)},500);return()=>clearTimeout(v)}else a&&!p&&y(!0)},[a,p]),p?m.jsxs("div",{className:`loading-overlay ${d?"fade-out":""}`,children:[m.jsx("div",{className:"loading-logo",children:""}),m.jsx("div",{className:"loading-title",children:"T2 AutoTron"}),m.jsx("div",{className:"loading-subtitle",children:"Visual Automation Editor"}),m.jsx("div",{className:"loading-progress-container",children:m.jsx("div",{className:"loading-progress-bar",children:m.jsx("div",{className:"loading-progress-fill",style:{width:`${Math.min(100,n)}%`}})})}),m.jsx("div",{className:"loading-status",children:r}),l>0&&m.jsxs("div",{className:"loading-count",children:[s," / ",l," plugins loaded"]}),u&&m.jsxs("div",{className:"loading-error",children:[" ",u]})]}):null}function FN({updateInfo:a,onClose:n,onApplyUpdate:r}){const[s,l]=C.useState(!1),[u,d]=C.useState("");if(!a||!a.hasUpdate)return null;const h=async()=>{l(!0),d("Saving current graph...");try{window.triggerGraphSave&&(await window.triggerGraphSave(),d("Graph saved! Starting update..."))}catch(y){console.warn("Pre-update graph save failed:",y)}sessionStorage.setItem("justUpdated","true"),sessionStorage.setItem("autoLoadAfterUpdate","true");try{const v=await(await fetch("/api/update/apply",{method:"POST",headers:{"Content-Type":"application/json"}})).json();d(v.message||"Updating... The app will restart shortly."),setTimeout(()=>{d("Update applied! Reloading page..."),setTimeout(()=>{const w=()=>{fetch("/api/health",{method:"GET"}).then(()=>window.location.reload()).catch(()=>setTimeout(w,2e3))};w()},3e3)},2e3)}catch(y){y.message.includes("fetch")||y.message.includes("network")?(d("Server restarting... Reloading page..."),setTimeout(()=>{const v=()=>{fetch("/api/health",{method:"GET"}).then(()=>window.location.reload()).catch(()=>setTimeout(v,2e3))};v()},3e3)):(d(`Update failed: ${y.message}`),l(!1))}},p=()=>{sessionStorage.setItem("updateSkipped",a.newVersion),n()};return m.jsx("div",{className:"update-modal-overlay",children:m.jsxs("div",{className:"update-modal",children:[m.jsxs("div",{className:"update-modal-header",children:[m.jsx("span",{className:"update-icon",children:""}),m.jsx("h2",{children:"Update Available!"})]}),m.jsxs("div",{className:"update-modal-version",children:[m.jsx("span",{className:"version-current",children:a.currentVersion}),m.jsx("span",{className:"version-arrow",children:""}),m.jsx("span",{className:"version-new",children:a.newVersion})]}),m.jsxs("div",{className:"update-modal-content",children:[m.jsx("h3",{children:"What's New:"}),m.jsx("div",{className:"changelog-content",children:m.jsx("pre",{children:a.changelog||"No changelog available."})})]}),u&&m.jsxs("div",{className:"update-status",children:[m.jsx("span",{className:"status-spinner",children:""}),u]}),m.jsx("div",{className:"update-modal-actions",children:s?m.jsx("div",{className:"updating-message",children:"Please wait while the update is being applied..."}):m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"update-btn update-btn-primary",onClick:h,children:"Update Now"}),m.jsx("button",{className:"update-btn update-btn-secondary",onClick:p,children:"Later"})]})})]})})}console.log("=== Socket Test ===");console.log("Singleton boolean socket:",Zi.boolean);console.log("Singleton object socket:",Zi.object);const Cw=new ft.Socket("boolean"),KN=new ft.Socket("boolean"),QN=ft.Socket.canConnect(Cw,KN);console.log("Can two 'boolean' sockets connect?",QN);const PN=ft.Socket.canConnect(Zi.boolean,Zi.boolean);console.log("Can singleton boolean sockets connect?",PN);const JN=new ft.Socket("object"),WN=ft.Socket.canConnect(Cw,JN);console.log("Can 'boolean' and 'object' sockets connect?",WN);console.log("=== End Socket Test ===");const ej=()=>{try{localStorage.getItem("t2-performance-mode")==="true"&&document.body.classList.add("performance-mode")}catch(a){console.warn("Failed to apply performance mode:",a)}};ej();window.setPerformanceMode=a=>{a?(document.body.classList.add("performance-mode"),localStorage.setItem("t2-performance-mode","true")):(document.body.classList.remove("performance-mode"),localStorage.setItem("t2-performance-mode","false"))};window.getPerformanceMode=()=>document.body.classList.contains("performance-mode");const Tw=()=>{const a=r=>{const s=parseInt(r.slice(1,3),16),l=parseInt(r.slice(3,5),16),u=parseInt(r.slice(5,7),16);return`${s}, ${l}, ${u}`},n={"Home Assistant":"ha",Weather:"weather",Logic:"logic","Timer/Event":"timer",Color:"color",Utility:"utility",Inputs:"inputs",CC_Control_Nodes:"cc",Other:"other"};try{const r=localStorage.getItem("t2category-overrides");if(r){const s=JSON.parse(r),l=document.documentElement;for(const[u,d]of Object.entries(s)){const h=n[u];h&&(d.accent&&(l.style.setProperty(`--node-${h}-color`,d.accent),l.style.setProperty(`--node-${h}-color-rgb`,a(d.accent))),d.background&&l.style.setProperty(`--node-${h}-bg`,d.background))}}}catch(r){console.warn("Failed to apply stored category colors:",r)}},Ow=()=>{const a=u=>{const d=parseInt(u.slice(1,3),16),h=parseInt(u.slice(3,5),16),p=parseInt(u.slice(5,7),16);return`${d}, ${h}, ${p}`},n=(u,d=15)=>{const h=parseInt(u.slice(1),16),p=Math.max(0,(h>>16)-Math.round(255*d/100)),y=Math.max(0,(h>>8&255)-Math.round(255*d/100)),v=Math.max(0,(h&255)-Math.round(255*d/100));return`#${(16777216|p<<16|y<<8|v).toString(16).slice(1)}`},r=(u,d=20)=>{const h=parseInt(u.slice(1),16),p=Math.min(255,(h>>16)+Math.round(255*d/100)),y=Math.min(255,(h>>8&255)+Math.round(255*d/100)),v=Math.min(255,(h&255)+Math.round(255*d/100));return`#${(16777216|p<<16|y<<8|v).toString(16).slice(1)}`},s={Boolean:"boolean",Number:"number",String:"string","HSV Info":"hsv","Object/Any":"object","Light Info":"light"},l={Boolean:"#10b981",Number:"#3b82f6",String:"#f59e0b","HSV Info":"#8b5cf6","Object/Any":"#06b6d4","Light Info":"#eab308"};try{const u=localStorage.getItem("t2socket-colors"),d=u?JSON.parse(u):{},h=document.documentElement;for(const[p,y]of Object.entries(s)){const v=d[p]?.color||l[p];v&&(h.style.setProperty(`--socket-${y}-color`,v),h.style.setProperty(`--socket-${y}-dark`,n(v)),h.style.setProperty(`--socket-${y}-border`,r(v)),h.style.setProperty(`--socket-${y}-rgb`,a(v)))}}catch(u){console.warn("Failed to apply stored socket colors:",u)}};Tw();Ow();window.applyCategoryColors=Tw;window.applySocketColors=Ow;const vd=new Map,bd=new Map;function tj(){const[a,n]=C.useState(Ce.connected),[r,s]=C.useState({connected:!1,wsConnected:!1,deviceCount:0}),[l,u]=C.useState([]),[d,h]=C.useState([]),[p,y]=C.useState(()=>parseInt(localStorage.getItem("panelHeight"))||150),[v,w]=C.useState(()=>parseInt(localStorage.getItem("panelFontSize"))||11),[x,O]=C.useState({isLoading:!0,progress:0,status:"Starting...",loadedCount:0,totalCount:0,error:null}),[A,P]=C.useState(null),[I,K]=C.useState(0),[F,Y]=C.useState(()=>localStorage.getItem("eventLogFilter")||"all"),Z=C.useRef(null),ie=C.useRef(null),le=100,q=Mh();C.useEffect(()=>{const ne=setInterval(()=>{K(D=>D+1)},3e4);return()=>clearInterval(ne)},[]),C.useEffect(()=>Ew(D=>{O(D),!D.isLoading&&D.progress===100&&D.failedPlugins?.length>0&&q.warning(`Loaded ${D.loadedCount} plugins (${D.failedPlugins.length} failed)`),D.error&&q.error(`Plugin loading failed: ${D.error}`)}),[q]),C.useEffect(()=>{function ne(){n(!0),q.success("Connected to server"),oe("system","Socket connected to server"),bd.clear(),Ce.emit("request-ha-status")}function D(){n(!1),s({connected:!1,wsConnected:!1,deviceCount:0}),q.warning("Disconnected from server"),oe("system","Socket disconnected from server")}function j(T){s(T)}function $(T){const{id:R,state:ae,on:pe,name:ce,vendor:me}=T;if(!R)return;const Oe=bd.get(R),Ee=pe!==void 0?pe:ae==="on"||ae==="playing"||ae==="open",ue=ce||T.friendly_name||T.attributes?.friendly_name||R.replace("ha_","").replace("kasa_","").replace("hue_","").replace(/\./g," ").replace(/_/g," ");if(Oe&&Oe.on===Ee)return;bd.set(R,{on:Ee,state:ae});const De=vd.get(R),Be=Ee?"ON":"OFF";let xt=me||"External";me||(R.startsWith("ha_")?xt="HA":R.startsWith("hue_")?xt="Hue":R.startsWith("kasa_")?xt="Kasa":R.startsWith("shelly_")&&(xt="Shelly")),De&&Date.now()-De.timestamp<5e3?(oe("device",`${ue}  ${Be}`,{source:"app",triggeredBy:De.nodeTitle}),vd.delete(R)):oe("trigger",`${ue}  ${Be}`,{source:xt})}function z(T){}function re(T){const{nodeId:R,nodeLabel:ae,result:pe}=T;oe("node",`${ae||R} executed`,pe)}function S(T){Array.isArray(T)&&h(T.slice(0,20))}function k(T){const{type:R,name:ae,value:pe}=T;oe("trigger",`${R}: ${ae}`,pe)}function E(T){if(sessionStorage.getItem("justUpdated")==="true"){sessionStorage.removeItem("justUpdated");return}sessionStorage.getItem("updateSkipped")!==T.newVersion&&q.info(` Update available: ${T.currentVersion}  ${T.newVersion}`,{duration:0,actionLabel:"View Details",action:()=>P(T)})}return Ce.on("connect",ne),Ce.on("disconnect",D),Ce.on("ha-connection-status",j),Ce.on("device-state-update",$),Ce.on("device_state_change",z),Ce.on("node_executed",re),Ce.on("scheduled_events",S),Ce.on("trigger_event",k),Ce.on("update-available",E),xT(),()=>{Ce.off("connect",ne),Ce.off("disconnect",D),Ce.off("ha-connection-status",j),Ce.off("device-state-update",$),Ce.off("device_state_change",z),Ce.off("node_executed",re),Ce.off("scheduled_events",S),Ce.off("trigger_event",k),Ce.off("update-available",E),ET()}},[]);const oe=(ne,D,j=null)=>{const $=new Date().toLocaleTimeString();u(z=>[{timestamp:$,type:ne,message:D,details:j},...z].slice(0,le))},U=C.useRef({}),J=C.useCallback((ne,D)=>{const j=D.map(S=>({...S,nodeId:ne}));U.current[ne]=j;const $=[];Object.values(U.current).forEach(S=>{Array.isArray(S)&&$.push(...S)});const z=new Date,re=$.filter(S=>S.time&&new Date(S.time)>z).sort((S,k)=>new Date(S.time)-new Date(k.time)).slice(0,20);h(re)},[]),ye=C.useCallback(ne=>{delete U.current[ne],J(ne,[])},[J]);C.useEffect(()=>(window.addEventLog=oe,window.setUpcomingEvents=h,window.registerScheduledEvents=J,window.unregisterScheduledEvents=ye,window.T2Toast=q,window.registerPendingCommand=(ne,D,j)=>{vd.set(ne,{nodeTitle:D,action:j,timestamp:Date.now()})},()=>{delete window.addEventLog,delete window.setUpcomingEvents,delete window.registerScheduledEvents,delete window.unregisterScheduledEvents,delete window.registerPendingCommand,delete window.T2Toast}),[J,ye,q]);const we=ne=>{if(!ne)return"";const D=new Date(ne),$=D-new Date,z=Math.floor($/6e4),re=Math.floor(z/60),S=Math.floor(re/24);let k="";return S>0?k=`${S}d ${re%24}h`:re>0?k=`${re}h ${z%60}m`:z>0?k=`${z}m`:k="<1m",`${D.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})} (${k})`},Ne=C.useCallback(async ne=>{if(!ne)return;const D=window._t2Area,j=window._t2Editor;if(!D||!j){console.warn("[focusNode] Editor not ready");return}const $=j.getNode(ne);if(!$){console.warn("[focusNode] Node not found:",ne);return}try{const{AreaExtensions:z}=await Bg(async()=>{const{AreaExtensions:re}=await Promise.resolve().then(()=>lv);return{AreaExtensions:re}},void 0);await z.zoomAt(D,[$],{scale:1})}catch(z){console.warn("[focusNode] Failed to zoom to node:",z)}},[]),_e=C.useCallback(async()=>{const ne=window._t2Area,D=window._t2Editor;if(!ne||!D){console.warn("[zoomExtents] Editor not ready");return}const j=D.getNodes();if(j.length===0){console.warn("[zoomExtents] No nodes in graph");return}try{const{AreaExtensions:$}=await Bg(async()=>{const{AreaExtensions:z}=await Promise.resolve().then(()=>lv);return{AreaExtensions:z}},void 0);await $.zoomAt(ne,j,{scale:.7})}catch($){console.warn("[zoomExtents] Failed to zoom:",$)}},[]);return m.jsxs("div",{className:"app-container",children:[A&&A.hasUpdate&&m.jsx(FN,{updateInfo:A,onClose:()=>P(null)}),m.jsx(XN,{isLoading:x.isLoading,progress:x.progress,status:x.status,loadedCount:x.loadedCount,totalCount:x.totalCount,error:x.error}),m.jsx("div",{className:"editor-wrapper",children:m.jsx(GN,{})}),m.jsx("div",{className:"resize-handle",ref:ie,onMouseDown:ne=>{ne.preventDefault();const D=ne.clientY,j=p,$=re=>{const S=D-re.clientY,k=Math.max(80,Math.min(400,j+S));y(k),localStorage.setItem("panelHeight",k)},z=()=>{document.removeEventListener("mousemove",$),document.removeEventListener("mouseup",z)};document.addEventListener("mousemove",$),document.addEventListener("mouseup",z)},children:m.jsx("div",{className:"resize-handle-grip"})}),m.jsxs("div",{className:"bottom-panels",style:{height:p,fontSize:v},children:[m.jsxs("div",{className:"panel event-log-panel",children:[m.jsxs("div",{className:"panel-header",children:[m.jsx("span",{className:"panel-title",children:"Event Log"}),m.jsxs("div",{className:"panel-controls",children:[m.jsxs("div",{className:"filter-buttons",children:[m.jsx("button",{className:`filter-btn ${F==="all"?"active":""}`,onClick:()=>{Y("all"),localStorage.setItem("eventLogFilter","all")},children:"All"}),m.jsx("button",{className:`filter-btn ${F==="app"?"active":""}`,onClick:()=>{Y("app"),localStorage.setItem("eventLogFilter","app")},children:"App"}),m.jsx("button",{className:`filter-btn ${F==="ha"?"active":""}`,onClick:()=>{Y("ha"),localStorage.setItem("eventLogFilter","ha")},children:"HA"})]}),m.jsx("button",{className:"font-size-btn",onClick:()=>{const ne=Math.max(8,v-1);w(ne),localStorage.setItem("panelFontSize",ne)},children:"A-"}),m.jsxs("span",{className:"font-size-label",children:[v,"px"]}),m.jsx("button",{className:"font-size-btn",onClick:()=>{const ne=Math.min(16,v+1);w(ne),localStorage.setItem("panelFontSize",ne)},children:"A+"}),m.jsx("button",{className:"panel-clear-btn",onClick:()=>u([]),children:"Clear"})]})]}),m.jsx("div",{className:"panel-content",ref:Z,children:l.length===0?m.jsx("div",{className:"empty-message",children:"No events yet..."}):l.filter(ne=>F==="all"?!0:F==="app"?ne.details?.triggeredBy||ne.details?.source==="app":F==="ha"?ne.details?.source&&ne.details.source!=="app"&&!ne.details?.triggeredBy:!0).map((ne,D)=>m.jsxs("div",{className:`log-entry log-${ne.type}`,title:ne.details?.triggeredBy?`Triggered by: ${ne.details.triggeredBy}`:ne.details?.source&&ne.details.source!=="app"?`Triggered externally via ${ne.details.source}`:"",children:[m.jsx("span",{className:"log-time",children:ne.timestamp}),m.jsx("span",{className:`log-type-badge ${ne.type}`,children:ne.type==="trigger"?"external":ne.type}),m.jsx("span",{className:"log-message",children:ne.message}),ne.details?.triggeredBy&&m.jsxs("span",{className:"log-source app-source",children:["via ",ne.details.triggeredBy]}),ne.details?.source&&ne.details.source!=="app"&&!ne.details?.triggeredBy&&m.jsxs("span",{className:"log-source external-source",children:["via ",ne.details.source]})]},D))})]}),m.jsxs("div",{className:"panel upcoming-events-panel",children:[m.jsx("div",{className:"panel-header clickable-header",onClick:_e,title:"Click to zoom to fit all nodes",children:m.jsx("span",{className:"panel-title",children:"Upcoming Events"})}),m.jsx("div",{className:"panel-content",children:d.length===0?m.jsx("div",{className:"empty-message",children:"No scheduled events..."}):d.map((ne,D)=>m.jsxs("div",{className:`event-entry event-${ne.action||"unknown"}${ne.nodeId?" clickable":""}`,onClick:()=>ne.nodeId&&Ne(ne.nodeId),title:ne.nodeId?"Click to jump to this node":"",style:ne.nodeId?{cursor:"pointer"}:{},children:[m.jsx("span",{className:"event-time",children:we(ne.time)}),m.jsx("span",{className:`event-action ${ne.action}`,children:ne.action||"event"}),m.jsx("span",{className:"event-device",children:ne.deviceName||ne.device||"Unknown"})]},D))})]})]})]})}function nj(){return m.jsx(ZN,{children:m.jsxs(NN,{children:[m.jsx(jN,{}),m.jsx(tj,{})]})})}typeof window.api<"u"&&console.log("T2AutoTron running in Electron mode");Y0.createRoot(document.getElementById("root")).render(m.jsx(C.StrictMode,{children:m.jsx(nj,{})}));
