function ib(a,n){for(var r=0;r<n.length;r++){const s=n[r];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in a)){const c=Object.getOwnPropertyDescriptor(s,l);c&&Object.defineProperty(a,l,c.get?c:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();function xh(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var nd={exports:{}},yo={};var $g;function eE(){if($g)return yo;$g=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(s,l,c){var f=null;if(c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),"key"in l){c={};for(var h in l)h!=="key"&&(c[h]=l[h])}else c=l;return l=c.ref,{$$typeof:a,type:s,key:f,ref:l!==void 0?l:null,props:c}}return yo.Fragment=n,yo.jsx=r,yo.jsxs=r,yo}var Hg;function tE(){return Hg||(Hg=1,nd.exports=eE()),nd.exports}var m=tE(),ad={exports:{}},Qe={};var Vg;function nE(){if(Vg)return Qe;Vg=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),S=Symbol.iterator;function k(E){return E===null||typeof E!="object"?null:(E=S&&E[S]||E["@@iterator"],typeof E=="function"?E:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,I={};function J(E,B,D){this.props=E,this.context=B,this.refs=I,this.updater=D||N}J.prototype.isReactComponent={},J.prototype.setState=function(E,B){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,B,"setState")},J.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function Q(){}Q.prototype=J.prototype;function z(E,B,D){this.props=E,this.context=B,this.refs=I,this.updater=D||N}var G=z.prototype=new Q;G.constructor=z,F(G,J.prototype),G.isPureReactComponent=!0;var de=Array.isArray;function ce(){}var H={H:null,A:null,T:null,S:null},se=Object.prototype.hasOwnProperty;function te(E,B,D){var V=D.ref;return{$$typeof:a,type:E,key:B,ref:V!==void 0?V:null,props:D}}function Z(E,B){return te(E.type,B,E.props)}function ue(E){return typeof E=="object"&&E!==null&&E.$$typeof===a}function _e(E){var B={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(D){return B[D]})}var ze=/\/+/g;function qe(E,B){return typeof E=="object"&&E!==null&&E.key!=null?_e(""+E.key):B.toString(36)}function Ge(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(ce,ce):(E.status="pending",E.then(function(B){E.status==="pending"&&(E.status="fulfilled",E.value=B)},function(B){E.status==="pending"&&(E.status="rejected",E.reason=B)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function C(E,B,D,V,pe){var Oe=typeof E;(Oe==="undefined"||Oe==="boolean")&&(E=null);var Ve=!1;if(E===null)Ve=!0;else switch(Oe){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(E.$$typeof){case a:case n:Ve=!0;break;case v:return Ve=E._init,C(Ve(E._payload),B,D,V,pe)}}if(Ve)return pe=pe(E),Ve=V===""?"."+qe(E,0):V,de(pe)?(D="",Ve!=null&&(D=Ve.replace(ze,"$&/")+"/"),C(pe,B,D,"",function(Ht){return Ht})):pe!=null&&(ue(pe)&&(pe=Z(pe,D+(pe.key==null||E&&E.key===pe.key?"":(""+pe.key).replace(ze,"$&/")+"/")+Ve)),B.push(pe)),1;Ve=0;var et=V===""?".":V+":";if(de(E))for(var Je=0;Je<E.length;Je++)V=E[Je],Oe=et+qe(V,Je),Ve+=C(V,B,D,Oe,pe);else if(Je=k(E),typeof Je=="function")for(E=Je.call(E),Je=0;!(V=E.next()).done;)V=V.value,Oe=et+qe(V,Je++),Ve+=C(V,B,D,Oe,pe);else if(Oe==="object"){if(typeof E.then=="function")return C(Ge(E),B,D,V,pe);throw B=String(E),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function Y(E,B,D){if(E==null)return E;var V=[],pe=0;return C(E,V,"","",function(Oe){return B.call(D,Oe,pe++)}),V}function le(E){if(E._status===-1){var B=E._result;B=B(),B.then(function(D){(E._status===0||E._status===-1)&&(E._status=1,E._result=D)},function(D){(E._status===0||E._status===-1)&&(E._status=2,E._result=D)}),E._status===-1&&(E._status=0,E._result=B)}if(E._status===1)return E._result.default;throw E._result}var ve=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},xe={map:Y,forEach:function(E,B,D){Y(E,function(){B.apply(this,arguments)},D)},count:function(E){var B=0;return Y(E,function(){B++}),B},toArray:function(E){return Y(E,function(B){return B})||[]},only:function(E){if(!ue(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return Qe.Activity=b,Qe.Children=xe,Qe.Component=J,Qe.Fragment=r,Qe.Profiler=l,Qe.PureComponent=z,Qe.StrictMode=s,Qe.Suspense=p,Qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Qe.__COMPILER_RUNTIME={__proto__:null,c:function(E){return H.H.useMemoCache(E)}},Qe.cache=function(E){return function(){return E.apply(null,arguments)}},Qe.cacheSignal=function(){return null},Qe.cloneElement=function(E,B,D){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var V=F({},E.props),pe=E.key;if(B!=null)for(Oe in B.key!==void 0&&(pe=""+B.key),B)!se.call(B,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&B.ref===void 0||(V[Oe]=B[Oe]);var Oe=arguments.length-2;if(Oe===1)V.children=D;else if(1<Oe){for(var Ve=Array(Oe),et=0;et<Oe;et++)Ve[et]=arguments[et+2];V.children=Ve}return te(E.type,pe,V)},Qe.createContext=function(E){return E={$$typeof:f,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:c,_context:E},E},Qe.createElement=function(E,B,D){var V,pe={},Oe=null;if(B!=null)for(V in B.key!==void 0&&(Oe=""+B.key),B)se.call(B,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(pe[V]=B[V]);var Ve=arguments.length-2;if(Ve===1)pe.children=D;else if(1<Ve){for(var et=Array(Ve),Je=0;Je<Ve;Je++)et[Je]=arguments[Je+2];pe.children=et}if(E&&E.defaultProps)for(V in Ve=E.defaultProps,Ve)pe[V]===void 0&&(pe[V]=Ve[V]);return te(E,Oe,pe)},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(E){return{$$typeof:h,render:E}},Qe.isValidElement=ue,Qe.lazy=function(E){return{$$typeof:v,_payload:{_status:-1,_result:E},_init:le}},Qe.memo=function(E,B){return{$$typeof:y,type:E,compare:B===void 0?null:B}},Qe.startTransition=function(E){var B=H.T,D={};H.T=D;try{var V=E(),pe=H.S;pe!==null&&pe(D,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(ce,ve)}catch(Oe){ve(Oe)}finally{B!==null&&D.types!==null&&(B.types=D.types),H.T=B}},Qe.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Qe.use=function(E){return H.H.use(E)},Qe.useActionState=function(E,B,D){return H.H.useActionState(E,B,D)},Qe.useCallback=function(E,B){return H.H.useCallback(E,B)},Qe.useContext=function(E){return H.H.useContext(E)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(E,B){return H.H.useDeferredValue(E,B)},Qe.useEffect=function(E,B){return H.H.useEffect(E,B)},Qe.useEffectEvent=function(E){return H.H.useEffectEvent(E)},Qe.useId=function(){return H.H.useId()},Qe.useImperativeHandle=function(E,B,D){return H.H.useImperativeHandle(E,B,D)},Qe.useInsertionEffect=function(E,B){return H.H.useInsertionEffect(E,B)},Qe.useLayoutEffect=function(E,B){return H.H.useLayoutEffect(E,B)},Qe.useMemo=function(E,B){return H.H.useMemo(E,B)},Qe.useOptimistic=function(E,B){return H.H.useOptimistic(E,B)},Qe.useReducer=function(E,B,D){return H.H.useReducer(E,B,D)},Qe.useRef=function(E){return H.H.useRef(E)},Qe.useState=function(E){return H.H.useState(E)},Qe.useSyncExternalStore=function(E,B,D){return H.H.useSyncExternalStore(E,B,D)},Qe.useTransition=function(){return H.H.useTransition()},Qe.version="19.2.0",Qe}var qg;function Eh(){return qg||(qg=1,ad.exports=nE()),ad.exports}var x=Eh();const Ea=xh(x),aE=ib({__proto__:null,default:Ea},[x]);var rd={exports:{}},go={},id={exports:{}},sd={};var Yg;function rE(){return Yg||(Yg=1,(function(a){function n(C,Y){var le=C.length;C.push(Y);e:for(;0<le;){var ve=le-1>>>1,xe=C[ve];if(0<l(xe,Y))C[ve]=Y,C[le]=xe,le=ve;else break e}}function r(C){return C.length===0?null:C[0]}function s(C){if(C.length===0)return null;var Y=C[0],le=C.pop();if(le!==Y){C[0]=le;e:for(var ve=0,xe=C.length,E=xe>>>1;ve<E;){var B=2*(ve+1)-1,D=C[B],V=B+1,pe=C[V];if(0>l(D,le))V<xe&&0>l(pe,D)?(C[ve]=pe,C[V]=le,ve=V):(C[ve]=D,C[B]=le,ve=B);else if(V<xe&&0>l(pe,le))C[ve]=pe,C[V]=le,ve=V;else break e}}return Y}function l(C,Y){var le=C.sortIndex-Y.sortIndex;return le!==0?le:C.id-Y.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var f=Date,h=f.now();a.unstable_now=function(){return f.now()-h}}var p=[],y=[],v=1,b=null,S=3,k=!1,N=!1,F=!1,I=!1,J=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function G(C){for(var Y=r(y);Y!==null;){if(Y.callback===null)s(y);else if(Y.startTime<=C)s(y),Y.sortIndex=Y.expirationTime,n(p,Y);else break;Y=r(y)}}function de(C){if(F=!1,G(C),!N)if(r(p)!==null)N=!0,ce||(ce=!0,_e());else{var Y=r(y);Y!==null&&Ge(de,Y.startTime-C)}}var ce=!1,H=-1,se=5,te=-1;function Z(){return I?!0:!(a.unstable_now()-te<se)}function ue(){if(I=!1,ce){var C=a.unstable_now();te=C;var Y=!0;try{e:{N=!1,F&&(F=!1,Q(H),H=-1),k=!0;var le=S;try{t:{for(G(C),b=r(p);b!==null&&!(b.expirationTime>C&&Z());){var ve=b.callback;if(typeof ve=="function"){b.callback=null,S=b.priorityLevel;var xe=ve(b.expirationTime<=C);if(C=a.unstable_now(),typeof xe=="function"){b.callback=xe,G(C),Y=!0;break t}b===r(p)&&s(p),G(C)}else s(p);b=r(p)}if(b!==null)Y=!0;else{var E=r(y);E!==null&&Ge(de,E.startTime-C),Y=!1}}break e}finally{b=null,S=le,k=!1}Y=void 0}}finally{Y?_e():ce=!1}}}var _e;if(typeof z=="function")_e=function(){z(ue)};else if(typeof MessageChannel<"u"){var ze=new MessageChannel,qe=ze.port2;ze.port1.onmessage=ue,_e=function(){qe.postMessage(null)}}else _e=function(){J(ue,0)};function Ge(C,Y){H=J(function(){C(a.unstable_now())},Y)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(C){C.callback=null},a.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<C?Math.floor(1e3/C):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_next=function(C){switch(S){case 1:case 2:case 3:var Y=3;break;default:Y=S}var le=S;S=Y;try{return C()}finally{S=le}},a.unstable_requestPaint=function(){I=!0},a.unstable_runWithPriority=function(C,Y){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var le=S;S=C;try{return Y()}finally{S=le}},a.unstable_scheduleCallback=function(C,Y,le){var ve=a.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ve+le:ve):le=ve,C){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=le+xe,C={id:v++,callback:Y,priorityLevel:C,startTime:le,expirationTime:xe,sortIndex:-1},le>ve?(C.sortIndex=le,n(y,C),r(p)===null&&C===r(y)&&(F?(Q(H),H=-1):F=!0,Ge(de,le-ve))):(C.sortIndex=xe,n(p,C),N||k||(N=!0,ce||(ce=!0,_e()))),C},a.unstable_shouldYield=Z,a.unstable_wrapCallback=function(C){var Y=S;return function(){var le=S;S=Y;try{return C.apply(this,arguments)}finally{S=le}}}})(sd)),sd}var Gg;function iE(){return Gg||(Gg=1,id.exports=rE()),id.exports}var od={exports:{}},xn={};var Fg;function sE(){if(Fg)return xn;Fg=1;var a=Eh();function n(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)y+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,y,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:p,containerInfo:y,implementation:v}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,xn.createPortal=function(p,y){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(n(299));return c(p,y,null,v)},xn.flushSync=function(p){var y=f.T,v=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=v,s.d.f()}},xn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},xn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},xn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var v=y.as,b=h(v,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,k=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;v==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:k}):v==="script"&&s.d.X(p,{crossOrigin:b,integrity:S,fetchPriority:k,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},xn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var v=h(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},xn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var v=y.as,b=h(v,y.crossOrigin);s.d.L(p,v,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},xn.preloadModule=function(p,y){if(typeof p=="string")if(y){var v=h(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},xn.requestFormReset=function(p){s.d.r(p)},xn.unstable_batchedUpdates=function(p,y){return p(y)},xn.useFormState=function(p,y,v){return f.H.useFormState(p,y,v)},xn.useFormStatus=function(){return f.H.useHostTransitionStatus()},xn.version="19.2.0",xn}var Pg;function sb(){if(Pg)return od.exports;Pg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),od.exports=sE(),od.exports}var Zg;function oE(){if(Zg)return go;Zg=1;var a=iE(),n=Eh(),r=sb();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(s(188))}function y(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(s(188));return t!==e?null:e}for(var i=e,o=t;;){var u=i.return;if(u===null)break;var d=u.alternate;if(d===null){if(o=u.return,o!==null){i=o;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===i)return p(u),e;if(d===o)return p(u),t;d=d.sibling}throw Error(s(188))}if(i.return!==o.return)i=u,o=d;else{for(var g=!1,w=u.child;w;){if(w===i){g=!0,i=u,o=d;break}if(w===o){g=!0,o=u,i=d;break}w=w.sibling}if(!g){for(w=d.child;w;){if(w===i){g=!0,i=d,o=u;break}if(w===o){g=!0,o=d,i=u;break}w=w.sibling}if(!g)throw Error(s(189))}}if(i.alternate!==o)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),z=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),te=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function _e(e){return e===null||typeof e!="object"?null:(e=ue&&e[ue]||e["@@iterator"],typeof e=="function"?e:null)}var ze=Symbol.for("react.client.reference");function qe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ze?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case F:return"Fragment";case J:return"Profiler";case I:return"StrictMode";case de:return"Suspense";case ce:return"SuspenseList";case te:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case z:return e.displayName||"Context";case Q:return(e._context.displayName||"Context")+".Consumer";case G:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case H:return t=e.displayName||null,t!==null?t:qe(e.type)||"Memo";case se:t=e._payload,e=e._init;try{return qe(e(t))}catch{}}return null}var Ge=Array.isArray,C=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},ve=[],xe=-1;function E(e){return{current:e}}function B(e){0>xe||(e.current=ve[xe],ve[xe]=null,xe--)}function D(e,t){xe++,ve[xe]=e.current,e.current=t}var V=E(null),pe=E(null),Oe=E(null),Ve=E(null);function et(e,t){switch(D(Oe,t),D(pe,e),D(V,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?cg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=cg(t),e=ug(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(V),D(V,e)}function Je(){B(V),B(pe),B(Oe)}function Ht(e){e.memoizedState!==null&&D(Ve,e);var t=V.current,i=ug(t,e.type);t!==i&&(D(pe,e),D(V,i))}function Zt(e){pe.current===e&&(B(V),B(pe)),Ve.current===e&&(B(Ve),fo._currentValue=le)}var $e,St;function Lt(e){if($e===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);$e=t&&t[1]||"",St=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$e+e+St}var on=!1;function $n(e,t){if(!e||on)return"";on=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(t){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(P){var $=P}Reflect.construct(e,[],ae)}else{try{ae.call()}catch(P){$=P}e.call(ae.prototype)}}else{try{throw Error()}catch(P){$=P}(ae=e())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(P){if(P&&$&&typeof P.stack=="string")return[P.stack,$.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),g=d[0],w=d[1];if(g&&w){var T=g.split(`
`),U=w.split(`
`);for(u=o=0;o<T.length&&!T[o].includes("DetermineComponentFrameRoot");)o++;for(;u<U.length&&!U[u].includes("DetermineComponentFrameRoot");)u++;if(o===T.length||u===U.length)for(o=T.length-1,u=U.length-1;1<=o&&0<=u&&T[o]!==U[u];)u--;for(;1<=o&&0<=u;o--,u--)if(T[o]!==U[u]){if(o!==1||u!==1)do if(o--,u--,0>u||T[o]!==U[u]){var W=`
`+T[o].replace(" at new "," at ");return e.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",e.displayName)),W}while(1<=o&&0<=u);break}}}finally{on=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Lt(i):""}function Ca(e,t){switch(e.tag){case 26:case 27:case 5:return Lt(e.type);case 16:return Lt("Lazy");case 13:return e.child!==t&&t!==null?Lt("Suspense Fallback"):Lt("Suspense");case 19:return Lt("SuspenseList");case 0:case 15:return $n(e.type,!1);case 11:return $n(e.type.render,!1);case 1:return $n(e.type,!0);case 31:return Lt("Activity");default:return""}}function X(e){try{var t="",i=null;do t+=Ca(e,i),i=e,e=e.return;while(e);return t}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var re=Object.prototype.hasOwnProperty,ee=a.unstable_scheduleCallback,Te=a.unstable_cancelCallback,Se=a.unstable_shouldYield,R=a.unstable_requestPaint,O=a.unstable_now,q=a.unstable_getCurrentPriorityLevel,he=a.unstable_ImmediatePriority,ye=a.unstable_UserBlockingPriority,Ne=a.unstable_NormalPriority,Ae=a.unstable_LowPriority,Ze=a.unstable_IdlePriority,Xe=a.log,yt=a.unstable_setDisableYieldValue,je=null,Ee=null;function Ue(e){if(typeof Xe=="function"&&yt(e),Ee&&typeof Ee.setStrictMode=="function")try{Ee.setStrictMode(je,e)}catch{}}var kt=Math.clz32?Math.clz32:un,Xt=Math.log,Bt=Math.LN2;function un(e){return e>>>=0,e===0?32:31-(Xt(e)/Bt|0)|0}var A=256,M=262144,oe=4194304;function be(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Re(e,t,i){var o=e.pendingLanes;if(o===0)return 0;var u=0,d=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var w=o&134217727;return w!==0?(o=w&~d,o!==0?u=be(o):(g&=w,g!==0?u=be(g):i||(i=w&~e,i!==0&&(u=be(i))))):(w=o&~d,w!==0?u=be(w):g!==0?u=be(g):i||(i=o&~e,i!==0&&(u=be(i)))),u===0?0:t!==0&&t!==u&&(t&d)===0&&(d=u&-u,i=t&-t,d>=i||d===32&&(i&4194048)!==0)?t:u}function At(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Wn(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ke(){var e=oe;return oe<<=1,(oe&62914560)===0&&(oe=4194304),e}function rt(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function ft(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function pt(e,t,i,o,u,d){var g=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var w=e.entanglements,T=e.expirationTimes,U=e.hiddenUpdates;for(i=g&~i;0<i;){var W=31-kt(i),ae=1<<W;w[W]=0,T[W]=-1;var $=U[W];if($!==null)for(U[W]=null,W=0;W<$.length;W++){var P=$[W];P!==null&&(P.lane&=-536870913)}i&=~ae}o!==0&&hn(e,o,0),d!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=d&~(g&~t))}function hn(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var o=31-kt(t);e.entangledLanes|=t,e.entanglements[o]=e.entanglements[o]|1073741824|i&261930}function ks(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var o=31-kt(i),u=1<<o;u&t|e[o]&t&&(e[o]|=t),i&=~u}}function Cs(e,t){var i=t&-t;return i=(i&42)!==0?1:yi(i),(i&(e.suspendedLanes|t))!==0?0:i}function yi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function gi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ts(){var e=Y.p;return e!==0?e:(e=window.event,e===void 0?32:Mg(e.type))}function Os(e,t){var i=Y.p;try{return Y.p=e,t()}finally{Y.p=i}}var Ba=Math.random().toString(36).slice(2),ln="__reactFiber$"+Ba,pn="__reactProps$"+Ba,Nn="__reactContainer$"+Ba,Ua="__reactEvents$"+Ba,Ia="__reactListeners$"+Ba,Vr="__reactHandles$"+Ba,Ho="__reactResources$"+Ba,$a="__reactMarker$"+Ba;function K(e){delete e[ln],delete e[pn],delete e[Ua],delete e[Ia],delete e[Vr]}function ie(e){var t=e[ln];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Nn]||i[ln]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=gg(e);e!==null;){if(i=e[ln])return i;e=gg(e)}return t}e=i,i=e.parentNode}return null}function fe(e){if(e=e[ln]||e[Nn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function me(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function De(e){var t=e[Ho];return t||(t=e[Ho]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ie(e){e[$a]=!0}var Ut=new Set,Jt={};function Vt(e,t){It(e,t),It(e+"Capture",t)}function It(e,t){for(Jt[e]=t,e=0;e<t.length;e++)Ut.add(t[e])}var Sn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_n={},Ha={};function Pc(e){return re.call(Ha,e)?!0:re.call(_n,e)?!1:Sn.test(e)?Ha[e]=!0:(_n[e]=!0,!1)}function vi(e,t,i){if(Pc(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var o=t.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function qr(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function ea(e,t,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+o)}}function Hn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function tp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Pw(e,t,i){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var u=o.get,d=o.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(g){i=""+g,d.call(this,g)}}),Object.defineProperty(e,t,{enumerable:o.enumerable}),{getValue:function(){return i},setValue:function(g){i=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zc(e){if(!e._valueTracker){var t=tp(e)?"checked":"value";e._valueTracker=Pw(e,t,""+e[t])}}function np(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),o="";return e&&(o=tp(e)?e.checked?"true":"false":e.value),e=o,e!==i?(t.setValue(e),!0):!1}function Vo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Zw=/[\n"\\]/g;function ta(e){return e.replace(Zw,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Xc(e,t,i,o,u,d,g,w){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Hn(t)):e.value!==""+Hn(t)&&(e.value=""+Hn(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?Kc(e,g,Hn(t)):i!=null?Kc(e,g,Hn(i)):o!=null&&e.removeAttribute("value"),u==null&&d!=null&&(e.defaultChecked=!!d),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+Hn(w):e.removeAttribute("name")}function ap(e,t,i,o,u,d,g,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||i!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){Zc(e);return}i=i!=null?""+Hn(i):"",t=t!=null?""+Hn(t):i,w||t===e.value||(e.value=t),e.defaultValue=t}o=o??u,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=w?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Zc(e)}function Kc(e,t,i){t==="number"&&Vo(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function bi(e,t,i,o){if(e=e.options,t){t={};for(var u=0;u<i.length;u++)t["$"+i[u]]=!0;for(i=0;i<e.length;i++)u=t.hasOwnProperty("$"+e[i].value),e[i].selected!==u&&(e[i].selected=u),u&&o&&(e[i].defaultSelected=!0)}else{for(i=""+Hn(i),t=null,u=0;u<e.length;u++){if(e[u].value===i){e[u].selected=!0,o&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function rp(e,t,i){if(t!=null&&(t=""+Hn(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Hn(i):""}function ip(e,t,i,o){if(t==null){if(o!=null){if(i!=null)throw Error(s(92));if(Ge(o)){if(1<o.length)throw Error(s(93));o=o[0]}i=o}i==null&&(i=""),t=i}i=Hn(t),e.defaultValue=i,o=e.textContent,o===i&&o!==""&&o!==null&&(e.value=o),Zc(e)}function wi(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Xw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sp(e,t,i){var o=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":o?e.setProperty(t,i):typeof i!="number"||i===0||Xw.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function op(e,t,i){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||t!=null&&t.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var u in t)o=t[u],t.hasOwnProperty(u)&&i[u]!==o&&sp(e,u,o)}else for(var d in t)t.hasOwnProperty(d)&&sp(e,d,t[d])}function Qc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qo(e){return Qw.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Va(){}var Jc=null;function Wc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Si=null,xi=null;function lp(e){var t=fe(e);if(t&&(e=t.stateNode)){var i=e[pn]||null;e:switch(e=t.stateNode,t.type){case"input":if(Xc(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+ta(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var o=i[t];if(o!==e&&o.form===e.form){var u=o[pn]||null;if(!u)throw Error(s(90));Xc(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<i.length;t++)o=i[t],o.form===e.form&&np(o)}break e;case"textarea":rp(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&bi(e,!!i.multiple,t,!1)}}}var eu=!1;function cp(e,t,i){if(eu)return e(t,i);eu=!0;try{var o=e(t);return o}finally{if(eu=!1,(Si!==null||xi!==null)&&(Al(),Si&&(t=Si,e=xi,xi=Si=null,lp(t),e)))for(t=0;t<e.length;t++)lp(e[t])}}function Ns(e,t){var i=e.stateNode;if(i===null)return null;var o=i[pn]||null;if(o===null)return null;i=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,t,typeof i));return i}var qa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tu=!1;if(qa)try{var js={};Object.defineProperty(js,"passive",{get:function(){tu=!0}}),window.addEventListener("test",js,js),window.removeEventListener("test",js,js)}catch{tu=!1}var cr=null,nu=null,Yo=null;function up(){if(Yo)return Yo;var e,t=nu,i=t.length,o,u="value"in cr?cr.value:cr.textContent,d=u.length;for(e=0;e<i&&t[e]===u[e];e++);var g=i-e;for(o=1;o<=g&&t[i-o]===u[d-o];o++);return Yo=u.slice(e,1<o?1-o:void 0)}function Go(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Fo(){return!0}function fp(){return!1}function Dn(e){function t(i,o,u,d,g){this._reactName=i,this._targetInst=u,this.type=o,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(i=e[w],this[w]=i?i(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Fo:fp,this.isPropagationStopped=fp,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Fo)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Fo)},persist:function(){},isPersistent:Fo}),t}var Yr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Po=Dn(Yr),As=b({},Yr,{view:0,detail:0}),Jw=Dn(As),au,ru,_s,Zo=b({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:su,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_s&&(_s&&e.type==="mousemove"?(au=e.screenX-_s.screenX,ru=e.screenY-_s.screenY):ru=au=0,_s=e),au)},movementY:function(e){return"movementY"in e?e.movementY:ru}}),dp=Dn(Zo),Ww=b({},Zo,{dataTransfer:0}),eS=Dn(Ww),tS=b({},As,{relatedTarget:0}),iu=Dn(tS),nS=b({},Yr,{animationName:0,elapsedTime:0,pseudoElement:0}),aS=Dn(nS),rS=b({},Yr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),iS=Dn(rS),sS=b({},Yr,{data:0}),hp=Dn(sS),oS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cS[e])?!!t[e]:!1}function su(){return uS}var fS=b({},As,{key:function(e){if(e.key){var t=oS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Go(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:su,charCode:function(e){return e.type==="keypress"?Go(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Go(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),dS=Dn(fS),hS=b({},Zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pp=Dn(hS),pS=b({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:su}),mS=Dn(pS),yS=b({},Yr,{propertyName:0,elapsedTime:0,pseudoElement:0}),gS=Dn(yS),vS=b({},Zo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bS=Dn(vS),wS=b({},Yr,{newState:0,oldState:0}),SS=Dn(wS),xS=[9,13,27,32],ou=qa&&"CompositionEvent"in window,Ds=null;qa&&"documentMode"in document&&(Ds=document.documentMode);var ES=qa&&"TextEvent"in window&&!Ds,mp=qa&&(!ou||Ds&&8<Ds&&11>=Ds),yp=" ",gp=!1;function vp(e,t){switch(e){case"keyup":return xS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ei=!1;function kS(e,t){switch(e){case"compositionend":return bp(t);case"keypress":return t.which!==32?null:(gp=!0,yp);case"textInput":return e=t.data,e===yp&&gp?null:e;default:return null}}function CS(e,t){if(Ei)return e==="compositionend"||!ou&&vp(e,t)?(e=up(),Yo=nu=cr=null,Ei=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mp&&t.locale!=="ko"?null:t.data;default:return null}}var TS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!TS[e.type]:t==="textarea"}function Sp(e,t,i,o){Si?xi?xi.push(o):xi=[o]:Si=o,t=Bl(t,"onChange"),0<t.length&&(i=new Po("onChange","change",null,i,o),e.push({event:i,listeners:t}))}var Ms=null,Rs=null;function OS(e){ag(e,0)}function Xo(e){var t=me(e);if(np(t))return e}function xp(e,t){if(e==="change")return t}var Ep=!1;if(qa){var lu;if(qa){var cu="oninput"in document;if(!cu){var kp=document.createElement("div");kp.setAttribute("oninput","return;"),cu=typeof kp.oninput=="function"}lu=cu}else lu=!1;Ep=lu&&(!document.documentMode||9<document.documentMode)}function Cp(){Ms&&(Ms.detachEvent("onpropertychange",Tp),Rs=Ms=null)}function Tp(e){if(e.propertyName==="value"&&Xo(Rs)){var t=[];Sp(t,Rs,e,Wc(e)),cp(OS,t)}}function NS(e,t,i){e==="focusin"?(Cp(),Ms=t,Rs=i,Ms.attachEvent("onpropertychange",Tp)):e==="focusout"&&Cp()}function jS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xo(Rs)}function AS(e,t){if(e==="click")return Xo(t)}function _S(e,t){if(e==="input"||e==="change")return Xo(t)}function DS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vn=typeof Object.is=="function"?Object.is:DS;function zs(e,t){if(Vn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var u=i[o];if(!re.call(t,u)||!Vn(e[u],t[u]))return!1}return!0}function Op(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Np(e,t){var i=Op(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=t&&o>=t)return{node:i,offset:t-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Op(i)}}function jp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ap(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Vo(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Vo(e.document)}return t}function uu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var MS=qa&&"documentMode"in document&&11>=document.documentMode,ki=null,fu=null,Ls=null,du=!1;function _p(e,t,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;du||ki==null||ki!==Vo(o)||(o=ki,"selectionStart"in o&&uu(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ls&&zs(Ls,o)||(Ls=o,o=Bl(fu,"onSelect"),0<o.length&&(t=new Po("onSelect","select",null,t,i),e.push({event:t,listeners:o}),t.target=ki)))}function Gr(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Ci={animationend:Gr("Animation","AnimationEnd"),animationiteration:Gr("Animation","AnimationIteration"),animationstart:Gr("Animation","AnimationStart"),transitionrun:Gr("Transition","TransitionRun"),transitionstart:Gr("Transition","TransitionStart"),transitioncancel:Gr("Transition","TransitionCancel"),transitionend:Gr("Transition","TransitionEnd")},hu={},Dp={};qa&&(Dp=document.createElement("div").style,"AnimationEvent"in window||(delete Ci.animationend.animation,delete Ci.animationiteration.animation,delete Ci.animationstart.animation),"TransitionEvent"in window||delete Ci.transitionend.transition);function Fr(e){if(hu[e])return hu[e];if(!Ci[e])return e;var t=Ci[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Dp)return hu[e]=t[i];return e}var Mp=Fr("animationend"),Rp=Fr("animationiteration"),zp=Fr("animationstart"),RS=Fr("transitionrun"),zS=Fr("transitionstart"),LS=Fr("transitioncancel"),Lp=Fr("transitionend"),Bp=new Map,pu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pu.push("scrollEnd");function ma(e,t){Bp.set(e,t),Vt(t,[e])}var Ko=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},na=[],Ti=0,mu=0;function Qo(){for(var e=Ti,t=mu=Ti=0;t<e;){var i=na[t];na[t++]=null;var o=na[t];na[t++]=null;var u=na[t];na[t++]=null;var d=na[t];if(na[t++]=null,o!==null&&u!==null){var g=o.pending;g===null?u.next=u:(u.next=g.next,g.next=u),o.pending=u}d!==0&&Up(i,u,d)}}function Jo(e,t,i,o){na[Ti++]=e,na[Ti++]=t,na[Ti++]=i,na[Ti++]=o,mu|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function yu(e,t,i,o){return Jo(e,t,i,o),Wo(e)}function Pr(e,t){return Jo(e,null,null,t),Wo(e)}function Up(e,t,i){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i);for(var u=!1,d=e.return;d!==null;)d.childLanes|=i,o=d.alternate,o!==null&&(o.childLanes|=i),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(u=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,u&&t!==null&&(u=31-kt(i),e=d.hiddenUpdates,o=e[u],o===null?e[u]=[t]:o.push(t),t.lane=i|536870912),d):null}function Wo(e){if(50<ro)throw ro=0,Tf=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Oi={};function BS(e,t,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(e,t,i,o){return new BS(e,t,i,o)}function gu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ya(e,t){var i=e.alternate;return i===null?(i=qn(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Ip(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function el(e,t,i,o,u,d){var g=0;if(o=e,typeof e=="function")gu(e)&&(g=1);else if(typeof e=="string")g=Vx(e,i,V.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case te:return e=qn(31,i,t,u),e.elementType=te,e.lanes=d,e;case F:return Zr(i.children,u,d,t);case I:g=8,u|=24;break;case J:return e=qn(12,i,t,u|2),e.elementType=J,e.lanes=d,e;case de:return e=qn(13,i,t,u),e.elementType=de,e.lanes=d,e;case ce:return e=qn(19,i,t,u),e.elementType=ce,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case z:g=10;break e;case Q:g=9;break e;case G:g=11;break e;case H:g=14;break e;case se:g=16,o=null;break e}g=29,i=Error(s(130,e===null?"null":typeof e,"")),o=null}return t=qn(g,i,t,u),t.elementType=e,t.type=o,t.lanes=d,t}function Zr(e,t,i,o){return e=qn(7,e,o,t),e.lanes=i,e}function vu(e,t,i){return e=qn(6,e,null,t),e.lanes=i,e}function $p(e){var t=qn(18,null,null,0);return t.stateNode=e,t}function bu(e,t,i){return t=qn(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hp=new WeakMap;function aa(e,t){if(typeof e=="object"&&e!==null){var i=Hp.get(e);return i!==void 0?i:(t={value:e,source:t,stack:X(t)},Hp.set(e,t),t)}return{value:e,source:t,stack:X(t)}}var Ni=[],ji=0,tl=null,Bs=0,ra=[],ia=0,ur=null,Ta=1,Oa="";function Ga(e,t){Ni[ji++]=Bs,Ni[ji++]=tl,tl=e,Bs=t}function Vp(e,t,i){ra[ia++]=Ta,ra[ia++]=Oa,ra[ia++]=ur,ur=e;var o=Ta;e=Oa;var u=32-kt(o)-1;o&=~(1<<u),i+=1;var d=32-kt(t)+u;if(30<d){var g=u-u%5;d=(o&(1<<g)-1).toString(32),o>>=g,u-=g,Ta=1<<32-kt(t)+u|i<<u|o,Oa=d+e}else Ta=1<<d|i<<u|o,Oa=e}function wu(e){e.return!==null&&(Ga(e,1),Vp(e,1,0))}function Su(e){for(;e===tl;)tl=Ni[--ji],Ni[ji]=null,Bs=Ni[--ji],Ni[ji]=null;for(;e===ur;)ur=ra[--ia],ra[ia]=null,Oa=ra[--ia],ra[ia]=null,Ta=ra[--ia],ra[ia]=null}function qp(e,t){ra[ia++]=Ta,ra[ia++]=Oa,ra[ia++]=ur,Ta=t.id,Oa=t.overflow,ur=e}var mn=null,Mt=null,dt=!1,fr=null,sa=!1,xu=Error(s(519));function dr(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Us(aa(t,e)),xu}function Yp(e){var t=e.stateNode,i=e.type,o=e.memoizedProps;switch(t[ln]=e,t[pn]=o,i){case"dialog":st("cancel",t),st("close",t);break;case"iframe":case"object":case"embed":st("load",t);break;case"video":case"audio":for(i=0;i<so.length;i++)st(so[i],t);break;case"source":st("error",t);break;case"img":case"image":case"link":st("error",t),st("load",t);break;case"details":st("toggle",t);break;case"input":st("invalid",t),ap(t,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":st("invalid",t);break;case"textarea":st("invalid",t),ip(t,o.value,o.defaultValue,o.children)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||o.suppressHydrationWarning===!0||og(t.textContent,i)?(o.popover!=null&&(st("beforetoggle",t),st("toggle",t)),o.onScroll!=null&&st("scroll",t),o.onScrollEnd!=null&&st("scrollend",t),o.onClick!=null&&(t.onclick=Va),t=!0):t=!1,t||dr(e,!0)}function Gp(e){for(mn=e.return;mn;)switch(mn.tag){case 5:case 31:case 13:sa=!1;return;case 27:case 3:sa=!0;return;default:mn=mn.return}}function Ai(e){if(e!==mn)return!1;if(!dt)return Gp(e),dt=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Hf(e.type,e.memoizedProps)),i=!i),i&&Mt&&dr(e),Gp(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Mt=yg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Mt=yg(e)}else t===27?(t=Mt,Tr(e.type)?(e=Ff,Ff=null,Mt=e):Mt=t):Mt=mn?la(e.stateNode.nextSibling):null;return!0}function Xr(){Mt=mn=null,dt=!1}function Eu(){var e=fr;return e!==null&&(Ln===null?Ln=e:Ln.push.apply(Ln,e),fr=null),e}function Us(e){fr===null?fr=[e]:fr.push(e)}var ku=E(null),Kr=null,Fa=null;function hr(e,t,i){D(ku,t._currentValue),t._currentValue=i}function Pa(e){e._currentValue=ku.current,B(ku)}function Cu(e,t,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===i)break;e=e.return}}function Tu(e,t,i,o){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var d=u.dependencies;if(d!==null){var g=u.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=u;for(var T=0;T<t.length;T++)if(w.context===t[T]){d.lanes|=i,w=d.alternate,w!==null&&(w.lanes|=i),Cu(d.return,i,e),o||(g=null);break e}d=w.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(s(341));g.lanes|=i,d=g.alternate,d!==null&&(d.lanes|=i),Cu(g,i,e),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===e){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function _i(e,t,i,o){e=null;for(var u=t,d=!1;u!==null;){if(!d){if((u.flags&524288)!==0)d=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var w=u.type;Vn(u.pendingProps.value,g.value)||(e!==null?e.push(w):e=[w])}}else if(u===Ve.current){if(g=u.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(fo):e=[fo])}u=u.return}e!==null&&Tu(t,e,i,o),t.flags|=262144}function nl(e){for(e=e.firstContext;e!==null;){if(!Vn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Qr(e){Kr=e,Fa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function yn(e){return Fp(Kr,e)}function al(e,t){return Kr===null&&Qr(e),Fp(e,t)}function Fp(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},Fa===null){if(e===null)throw Error(s(308));Fa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Fa=Fa.next=t;return i}var US=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,o){e.push(o)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},IS=a.unstable_scheduleCallback,$S=a.unstable_NormalPriority,Wt={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ou(){return{controller:new US,data:new Map,refCount:0}}function Is(e){e.refCount--,e.refCount===0&&IS($S,function(){e.controller.abort()})}var $s=null,Nu=0,Di=0,Mi=null;function HS(e,t){if($s===null){var i=$s=[];Nu=0,Di=Df(),Mi={status:"pending",value:void 0,then:function(o){i.push(o)}}}return Nu++,t.then(Pp,Pp),t}function Pp(){if(--Nu===0&&$s!==null){Mi!==null&&(Mi.status="fulfilled");var e=$s;$s=null,Di=0,Mi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function VS(e,t){var i=[],o={status:"pending",value:null,reason:null,then:function(u){i.push(u)}};return e.then(function(){o.status="fulfilled",o.value=t;for(var u=0;u<i.length;u++)(0,i[u])(t)},function(u){for(o.status="rejected",o.reason=u,u=0;u<i.length;u++)(0,i[u])(void 0)}),o}var Zp=C.S;C.S=function(e,t){_y=O(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&HS(e,t),Zp!==null&&Zp(e,t)};var Jr=E(null);function ju(){var e=Jr.current;return e!==null?e:_t.pooledCache}function rl(e,t){t===null?D(Jr,Jr.current):D(Jr,t.pool)}function Xp(){var e=ju();return e===null?null:{parent:Wt._currentValue,pool:e}}var Ri=Error(s(460)),Au=Error(s(474)),il=Error(s(542)),sl={then:function(){}};function Kp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qp(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Va,Va),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Wp(e),e;default:if(typeof t.status=="string")t.then(Va,Va);else{if(e=_t,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(o){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=o}},function(o){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=o}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Wp(e),e}throw ei=t,Ri}}function Wr(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(ei=i,Ri):i}}var ei=null;function Jp(){if(ei===null)throw Error(s(459));var e=ei;return ei=null,e}function Wp(e){if(e===Ri||e===il)throw Error(s(483))}var zi=null,Hs=0;function ol(e){var t=Hs;return Hs+=1,zi===null&&(zi=[]),Qp(zi,e,t)}function Vs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ll(e,t){throw t.$$typeof===S?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function em(e){function t(_,j){if(e){var L=_.deletions;L===null?(_.deletions=[j],_.flags|=16):L.push(j)}}function i(_,j){if(!e)return null;for(;j!==null;)t(_,j),j=j.sibling;return null}function o(_){for(var j=new Map;_!==null;)_.key!==null?j.set(_.key,_):j.set(_.index,_),_=_.sibling;return j}function u(_,j){return _=Ya(_,j),_.index=0,_.sibling=null,_}function d(_,j,L){return _.index=L,e?(L=_.alternate,L!==null?(L=L.index,L<j?(_.flags|=67108866,j):L):(_.flags|=67108866,j)):(_.flags|=1048576,j)}function g(_){return e&&_.alternate===null&&(_.flags|=67108866),_}function w(_,j,L,ne){return j===null||j.tag!==6?(j=vu(L,_.mode,ne),j.return=_,j):(j=u(j,L),j.return=_,j)}function T(_,j,L,ne){var He=L.type;return He===F?W(_,j,L.props.children,ne,L.key):j!==null&&(j.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===se&&Wr(He)===j.type)?(j=u(j,L.props),Vs(j,L),j.return=_,j):(j=el(L.type,L.key,L.props,null,_.mode,ne),Vs(j,L),j.return=_,j)}function U(_,j,L,ne){return j===null||j.tag!==4||j.stateNode.containerInfo!==L.containerInfo||j.stateNode.implementation!==L.implementation?(j=bu(L,_.mode,ne),j.return=_,j):(j=u(j,L.children||[]),j.return=_,j)}function W(_,j,L,ne,He){return j===null||j.tag!==7?(j=Zr(L,_.mode,ne,He),j.return=_,j):(j=u(j,L),j.return=_,j)}function ae(_,j,L){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=vu(""+j,_.mode,L),j.return=_,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case k:return L=el(j.type,j.key,j.props,null,_.mode,L),Vs(L,j),L.return=_,L;case N:return j=bu(j,_.mode,L),j.return=_,j;case se:return j=Wr(j),ae(_,j,L)}if(Ge(j)||_e(j))return j=Zr(j,_.mode,L,null),j.return=_,j;if(typeof j.then=="function")return ae(_,ol(j),L);if(j.$$typeof===z)return ae(_,al(_,j),L);ll(_,j)}return null}function $(_,j,L,ne){var He=j!==null?j.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return He!==null?null:w(_,j,""+L,ne);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case k:return L.key===He?T(_,j,L,ne):null;case N:return L.key===He?U(_,j,L,ne):null;case se:return L=Wr(L),$(_,j,L,ne)}if(Ge(L)||_e(L))return He!==null?null:W(_,j,L,ne,null);if(typeof L.then=="function")return $(_,j,ol(L),ne);if(L.$$typeof===z)return $(_,j,al(_,L),ne);ll(_,L)}return null}function P(_,j,L,ne,He){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return _=_.get(L)||null,w(j,_,""+ne,He);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case k:return _=_.get(ne.key===null?L:ne.key)||null,T(j,_,ne,He);case N:return _=_.get(ne.key===null?L:ne.key)||null,U(j,_,ne,He);case se:return ne=Wr(ne),P(_,j,L,ne,He)}if(Ge(ne)||_e(ne))return _=_.get(L)||null,W(j,_,ne,He,null);if(typeof ne.then=="function")return P(_,j,L,ol(ne),He);if(ne.$$typeof===z)return P(_,j,L,al(j,ne),He);ll(j,ne)}return null}function Me(_,j,L,ne){for(var He=null,gt=null,Le=j,tt=j=0,lt=null;Le!==null&&tt<L.length;tt++){Le.index>tt?(lt=Le,Le=null):lt=Le.sibling;var vt=$(_,Le,L[tt],ne);if(vt===null){Le===null&&(Le=lt);break}e&&Le&&vt.alternate===null&&t(_,Le),j=d(vt,j,tt),gt===null?He=vt:gt.sibling=vt,gt=vt,Le=lt}if(tt===L.length)return i(_,Le),dt&&Ga(_,tt),He;if(Le===null){for(;tt<L.length;tt++)Le=ae(_,L[tt],ne),Le!==null&&(j=d(Le,j,tt),gt===null?He=Le:gt.sibling=Le,gt=Le);return dt&&Ga(_,tt),He}for(Le=o(Le);tt<L.length;tt++)lt=P(Le,_,tt,L[tt],ne),lt!==null&&(e&&lt.alternate!==null&&Le.delete(lt.key===null?tt:lt.key),j=d(lt,j,tt),gt===null?He=lt:gt.sibling=lt,gt=lt);return e&&Le.forEach(function(_r){return t(_,_r)}),dt&&Ga(_,tt),He}function Ye(_,j,L,ne){if(L==null)throw Error(s(151));for(var He=null,gt=null,Le=j,tt=j=0,lt=null,vt=L.next();Le!==null&&!vt.done;tt++,vt=L.next()){Le.index>tt?(lt=Le,Le=null):lt=Le.sibling;var _r=$(_,Le,vt.value,ne);if(_r===null){Le===null&&(Le=lt);break}e&&Le&&_r.alternate===null&&t(_,Le),j=d(_r,j,tt),gt===null?He=_r:gt.sibling=_r,gt=_r,Le=lt}if(vt.done)return i(_,Le),dt&&Ga(_,tt),He;if(Le===null){for(;!vt.done;tt++,vt=L.next())vt=ae(_,vt.value,ne),vt!==null&&(j=d(vt,j,tt),gt===null?He=vt:gt.sibling=vt,gt=vt);return dt&&Ga(_,tt),He}for(Le=o(Le);!vt.done;tt++,vt=L.next())vt=P(Le,_,tt,vt.value,ne),vt!==null&&(e&&vt.alternate!==null&&Le.delete(vt.key===null?tt:vt.key),j=d(vt,j,tt),gt===null?He=vt:gt.sibling=vt,gt=vt);return e&&Le.forEach(function(Wx){return t(_,Wx)}),dt&&Ga(_,tt),He}function jt(_,j,L,ne){if(typeof L=="object"&&L!==null&&L.type===F&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case k:e:{for(var He=L.key;j!==null;){if(j.key===He){if(He=L.type,He===F){if(j.tag===7){i(_,j.sibling),ne=u(j,L.props.children),ne.return=_,_=ne;break e}}else if(j.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===se&&Wr(He)===j.type){i(_,j.sibling),ne=u(j,L.props),Vs(ne,L),ne.return=_,_=ne;break e}i(_,j);break}else t(_,j);j=j.sibling}L.type===F?(ne=Zr(L.props.children,_.mode,ne,L.key),ne.return=_,_=ne):(ne=el(L.type,L.key,L.props,null,_.mode,ne),Vs(ne,L),ne.return=_,_=ne)}return g(_);case N:e:{for(He=L.key;j!==null;){if(j.key===He)if(j.tag===4&&j.stateNode.containerInfo===L.containerInfo&&j.stateNode.implementation===L.implementation){i(_,j.sibling),ne=u(j,L.children||[]),ne.return=_,_=ne;break e}else{i(_,j);break}else t(_,j);j=j.sibling}ne=bu(L,_.mode,ne),ne.return=_,_=ne}return g(_);case se:return L=Wr(L),jt(_,j,L,ne)}if(Ge(L))return Me(_,j,L,ne);if(_e(L)){if(He=_e(L),typeof He!="function")throw Error(s(150));return L=He.call(L),Ye(_,j,L,ne)}if(typeof L.then=="function")return jt(_,j,ol(L),ne);if(L.$$typeof===z)return jt(_,j,al(_,L),ne);ll(_,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,j!==null&&j.tag===6?(i(_,j.sibling),ne=u(j,L),ne.return=_,_=ne):(i(_,j),ne=vu(L,_.mode,ne),ne.return=_,_=ne),g(_)):i(_,j)}return function(_,j,L,ne){try{Hs=0;var He=jt(_,j,L,ne);return zi=null,He}catch(Le){if(Le===Ri||Le===il)throw Le;var gt=qn(29,Le,null,_.mode);return gt.lanes=ne,gt.return=_,gt}finally{}}}var ti=em(!0),tm=em(!1),pr=!1;function _u(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Du(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function mr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function yr(e,t,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(bt&2)!==0){var u=o.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),o.pending=t,t=Wo(e),Up(e,null,i),t}return Jo(e,o,t,i),Wo(e)}function qs(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,ks(e,i)}}function Mu(e,t){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var u=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var g={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};d===null?u=d=g:d=d.next=g,i=i.next}while(i!==null);d===null?u=d=t:d=d.next=t}else u=d=t;i={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Ru=!1;function Ys(){if(Ru){var e=Mi;if(e!==null)throw e}}function Gs(e,t,i,o){Ru=!1;var u=e.updateQueue;pr=!1;var d=u.firstBaseUpdate,g=u.lastBaseUpdate,w=u.shared.pending;if(w!==null){u.shared.pending=null;var T=w,U=T.next;T.next=null,g===null?d=U:g.next=U,g=T;var W=e.alternate;W!==null&&(W=W.updateQueue,w=W.lastBaseUpdate,w!==g&&(w===null?W.firstBaseUpdate=U:w.next=U,W.lastBaseUpdate=T))}if(d!==null){var ae=u.baseState;g=0,W=U=T=null,w=d;do{var $=w.lane&-536870913,P=$!==w.lane;if(P?(ot&$)===$:(o&$)===$){$!==0&&$===Di&&(Ru=!0),W!==null&&(W=W.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Me=e,Ye=w;$=t;var jt=i;switch(Ye.tag){case 1:if(Me=Ye.payload,typeof Me=="function"){ae=Me.call(jt,ae,$);break e}ae=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Ye.payload,$=typeof Me=="function"?Me.call(jt,ae,$):Me,$==null)break e;ae=b({},ae,$);break e;case 2:pr=!0}}$=w.callback,$!==null&&(e.flags|=64,P&&(e.flags|=8192),P=u.callbacks,P===null?u.callbacks=[$]:P.push($))}else P={lane:$,tag:w.tag,payload:w.payload,callback:w.callback,next:null},W===null?(U=W=P,T=ae):W=W.next=P,g|=$;if(w=w.next,w===null){if(w=u.shared.pending,w===null)break;P=w,w=P.next,P.next=null,u.lastBaseUpdate=P,u.shared.pending=null}}while(!0);W===null&&(T=ae),u.baseState=T,u.firstBaseUpdate=U,u.lastBaseUpdate=W,d===null&&(u.shared.lanes=0),Sr|=g,e.lanes=g,e.memoizedState=ae}}function nm(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function am(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)nm(i[e],t)}var Li=E(null),cl=E(0);function rm(e,t){e=nr,D(cl,e),D(Li,t),nr=e|t.baseLanes}function zu(){D(cl,nr),D(Li,Li.current)}function Lu(){nr=cl.current,B(Li),B(cl)}var Yn=E(null),oa=null;function gr(e){var t=e.alternate;D(Kt,Kt.current&1),D(Yn,e),oa===null&&(t===null||Li.current!==null||t.memoizedState!==null)&&(oa=e)}function Bu(e){D(Kt,Kt.current),D(Yn,e),oa===null&&(oa=e)}function im(e){e.tag===22?(D(Kt,Kt.current),D(Yn,e),oa===null&&(oa=e)):vr()}function vr(){D(Kt,Kt.current),D(Yn,Yn.current)}function Gn(e){B(Yn),oa===e&&(oa=null),B(Kt)}var Kt=E(0);function ul(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Yf(i)||Gf(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Za=0,We=null,Ot=null,en=null,fl=!1,Bi=!1,ni=!1,dl=0,Fs=0,Ui=null,qS=0;function Ft(){throw Error(s(321))}function Uu(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Vn(e[i],t[i]))return!1;return!0}function Iu(e,t,i,o,u,d){return Za=d,We=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,C.H=e===null||e.memoizedState===null?Vm:ef,ni=!1,d=i(o,u),ni=!1,Bi&&(d=om(t,i,o,u)),sm(e),d}function sm(e){C.H=Xs;var t=Ot!==null&&Ot.next!==null;if(Za=0,en=Ot=We=null,fl=!1,Fs=0,Ui=null,t)throw Error(s(300));e===null||tn||(e=e.dependencies,e!==null&&nl(e)&&(tn=!0))}function om(e,t,i,o){We=e;var u=0;do{if(Bi&&(Ui=null),Fs=0,Bi=!1,25<=u)throw Error(s(301));if(u+=1,en=Ot=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}C.H=qm,d=t(i,o)}while(Bi);return d}function YS(){var e=C.H,t=e.useState()[0];return t=typeof t.then=="function"?Ps(t):t,e=e.useState()[0],(Ot!==null?Ot.memoizedState:null)!==e&&(We.flags|=1024),t}function $u(){var e=dl!==0;return dl=0,e}function Hu(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Vu(e){if(fl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}fl=!1}Za=0,en=Ot=We=null,Bi=!1,Fs=dl=0,Ui=null}function jn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?We.memoizedState=en=e:en=en.next=e,en}function Qt(){if(Ot===null){var e=We.alternate;e=e!==null?e.memoizedState:null}else e=Ot.next;var t=en===null?We.memoizedState:en.next;if(t!==null)en=t,Ot=e;else{if(e===null)throw We.alternate===null?Error(s(467)):Error(s(310));Ot=e,e={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},en===null?We.memoizedState=en=e:en=en.next=e}return en}function hl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ps(e){var t=Fs;return Fs+=1,Ui===null&&(Ui=[]),e=Qp(Ui,e,t),t=We,(en===null?t.memoizedState:en.next)===null&&(t=t.alternate,C.H=t===null||t.memoizedState===null?Vm:ef),e}function pl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ps(e);if(e.$$typeof===z)return yn(e)}throw Error(s(438,String(e)))}function qu(e){var t=null,i=We.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var o=We.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(t={data:o.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=hl(),We.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),o=0;o<e;o++)i[o]=Z;return t.index++,i}function Xa(e,t){return typeof t=="function"?t(e):t}function ml(e){var t=Qt();return Yu(t,Ot,e)}function Yu(e,t,i){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=e.baseQueue,d=o.pending;if(d!==null){if(u!==null){var g=u.next;u.next=d.next,d.next=g}t.baseQueue=u=d,o.pending=null}if(d=e.baseState,u===null)e.memoizedState=d;else{t=u.next;var w=g=null,T=null,U=t,W=!1;do{var ae=U.lane&-536870913;if(ae!==U.lane?(ot&ae)===ae:(Za&ae)===ae){var $=U.revertLane;if($===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),ae===Di&&(W=!0);else if((Za&$)===$){U=U.next,$===Di&&(W=!0);continue}else ae={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},T===null?(w=T=ae,g=d):T=T.next=ae,We.lanes|=$,Sr|=$;ae=U.action,ni&&i(d,ae),d=U.hasEagerState?U.eagerState:i(d,ae)}else $={lane:ae,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},T===null?(w=T=$,g=d):T=T.next=$,We.lanes|=ae,Sr|=ae;U=U.next}while(U!==null&&U!==t);if(T===null?g=d:T.next=w,!Vn(d,e.memoizedState)&&(tn=!0,W&&(i=Mi,i!==null)))throw i;e.memoizedState=d,e.baseState=g,e.baseQueue=T,o.lastRenderedState=d}return u===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Gu(e){var t=Qt(),i=t.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var o=i.dispatch,u=i.pending,d=t.memoizedState;if(u!==null){i.pending=null;var g=u=u.next;do d=e(d,g.action),g=g.next;while(g!==u);Vn(d,t.memoizedState)||(tn=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),i.lastRenderedState=d}return[d,o]}function lm(e,t,i){var o=We,u=Qt(),d=dt;if(d){if(i===void 0)throw Error(s(407));i=i()}else i=t();var g=!Vn((Ot||u).memoizedState,i);if(g&&(u.memoizedState=i,tn=!0),u=u.queue,Zu(fm.bind(null,o,u,e),[e]),u.getSnapshot!==t||g||en!==null&&en.memoizedState.tag&1){if(o.flags|=2048,Ii(9,{destroy:void 0},um.bind(null,o,u,i,t),null),_t===null)throw Error(s(349));d||(Za&127)!==0||cm(o,t,i)}return i}function cm(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=We.updateQueue,t===null?(t=hl(),We.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function um(e,t,i,o){t.value=i,t.getSnapshot=o,dm(t)&&hm(e)}function fm(e,t,i){return i(function(){dm(t)&&hm(e)})}function dm(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Vn(e,i)}catch{return!0}}function hm(e){var t=Pr(e,2);t!==null&&Bn(t,e,2)}function Fu(e){var t=jn();if(typeof e=="function"){var i=e;if(e=i(),ni){Ue(!0);try{i()}finally{Ue(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:e},t}function pm(e,t,i,o){return e.baseState=i,Yu(e,Ot,typeof o=="function"?o:Xa)}function GS(e,t,i,o,u){if(vl(e))throw Error(s(485));if(e=t.action,e!==null){var d={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};C.T!==null?i(!0):d.isTransition=!1,o(d),i=t.pending,i===null?(d.next=t.pending=d,mm(t,d)):(d.next=i.next,t.pending=i.next=d)}}function mm(e,t){var i=t.action,o=t.payload,u=e.state;if(t.isTransition){var d=C.T,g={};C.T=g;try{var w=i(u,o),T=C.S;T!==null&&T(g,w),ym(e,t,w)}catch(U){Pu(e,t,U)}finally{d!==null&&g.types!==null&&(d.types=g.types),C.T=d}}else try{d=i(u,o),ym(e,t,d)}catch(U){Pu(e,t,U)}}function ym(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){gm(e,t,o)},function(o){return Pu(e,t,o)}):gm(e,t,i)}function gm(e,t,i){t.status="fulfilled",t.value=i,vm(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,mm(e,i)))}function Pu(e,t,i){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do t.status="rejected",t.reason=i,vm(t),t=t.next;while(t!==o)}e.action=null}function vm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function bm(e,t){return t}function wm(e,t){if(dt){var i=_t.formState;if(i!==null){e:{var o=We;if(dt){if(Mt){t:{for(var u=Mt,d=sa;u.nodeType!==8;){if(!d){u=null;break t}if(u=la(u.nextSibling),u===null){u=null;break t}}d=u.data,u=d==="F!"||d==="F"?u:null}if(u){Mt=la(u.nextSibling),o=u.data==="F!";break e}}dr(o)}o=!1}o&&(t=i[0])}}return i=jn(),i.memoizedState=i.baseState=t,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bm,lastRenderedState:t},i.queue=o,i=Im.bind(null,We,o),o.dispatch=i,o=Fu(!1),d=Wu.bind(null,We,!1,o.queue),o=jn(),u={state:t,dispatch:null,action:e,pending:null},o.queue=u,i=GS.bind(null,We,u,d,i),u.dispatch=i,o.memoizedState=e,[t,i,!1]}function Sm(e){var t=Qt();return xm(t,Ot,e)}function xm(e,t,i){if(t=Yu(e,t,bm)[0],e=ml(Xa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var o=Ps(t)}catch(g){throw g===Ri?il:g}else o=t;t=Qt();var u=t.queue,d=u.dispatch;return i!==t.memoizedState&&(We.flags|=2048,Ii(9,{destroy:void 0},FS.bind(null,u,i),null)),[o,d,e]}function FS(e,t){e.action=t}function Em(e){var t=Qt(),i=Ot;if(i!==null)return xm(t,i,e);Qt(),t=t.memoizedState,i=Qt();var o=i.queue.dispatch;return i.memoizedState=e,[t,o,!1]}function Ii(e,t,i,o){return e={tag:e,create:i,deps:o,inst:t,next:null},t=We.updateQueue,t===null&&(t=hl(),We.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,t.lastEffect=e),e}function km(){return Qt().memoizedState}function yl(e,t,i,o){var u=jn();We.flags|=e,u.memoizedState=Ii(1|t,{destroy:void 0},i,o===void 0?null:o)}function gl(e,t,i,o){var u=Qt();o=o===void 0?null:o;var d=u.memoizedState.inst;Ot!==null&&o!==null&&Uu(o,Ot.memoizedState.deps)?u.memoizedState=Ii(t,d,i,o):(We.flags|=e,u.memoizedState=Ii(1|t,d,i,o))}function Cm(e,t){yl(8390656,8,e,t)}function Zu(e,t){gl(2048,8,e,t)}function PS(e){We.flags|=4;var t=We.updateQueue;if(t===null)t=hl(),We.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function Tm(e){var t=Qt().memoizedState;return PS({ref:t,nextImpl:e}),function(){if((bt&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function Om(e,t){return gl(4,2,e,t)}function Nm(e,t){return gl(4,4,e,t)}function jm(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Am(e,t,i){i=i!=null?i.concat([e]):null,gl(4,4,jm.bind(null,t,e),i)}function Xu(){}function _m(e,t){var i=Qt();t=t===void 0?null:t;var o=i.memoizedState;return t!==null&&Uu(t,o[1])?o[0]:(i.memoizedState=[e,t],e)}function Dm(e,t){var i=Qt();t=t===void 0?null:t;var o=i.memoizedState;if(t!==null&&Uu(t,o[1]))return o[0];if(o=e(),ni){Ue(!0);try{e()}finally{Ue(!1)}}return i.memoizedState=[o,t],o}function Ku(e,t,i){return i===void 0||(Za&1073741824)!==0&&(ot&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=My(),We.lanes|=e,Sr|=e,i)}function Mm(e,t,i,o){return Vn(i,t)?i:Li.current!==null?(e=Ku(e,i,o),Vn(e,t)||(tn=!0),e):(Za&42)===0||(Za&1073741824)!==0&&(ot&261930)===0?(tn=!0,e.memoizedState=i):(e=My(),We.lanes|=e,Sr|=e,t)}function Rm(e,t,i,o,u){var d=Y.p;Y.p=d!==0&&8>d?d:8;var g=C.T,w={};C.T=w,Wu(e,!1,t,i);try{var T=u(),U=C.S;if(U!==null&&U(w,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var W=VS(T,o);Zs(e,t,W,Zn(e))}else Zs(e,t,o,Zn(e))}catch(ae){Zs(e,t,{then:function(){},status:"rejected",reason:ae},Zn())}finally{Y.p=d,g!==null&&w.types!==null&&(g.types=w.types),C.T=g}}function ZS(){}function Qu(e,t,i,o){if(e.tag!==5)throw Error(s(476));var u=zm(e).queue;Rm(e,u,t,le,i===null?ZS:function(){return Lm(e),i(o)})}function zm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:le},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xa,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Lm(e){var t=zm(e);t.next===null&&(t=e.alternate.memoizedState),Zs(e,t.next.queue,{},Zn())}function Ju(){return yn(fo)}function Bm(){return Qt().memoizedState}function Um(){return Qt().memoizedState}function XS(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Zn();e=mr(i);var o=yr(t,e,i);o!==null&&(Bn(o,t,i),qs(o,t,i)),t={cache:Ou()},e.payload=t;return}t=t.return}}function KS(e,t,i){var o=Zn();i={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},vl(e)?$m(t,i):(i=yu(e,t,i,o),i!==null&&(Bn(i,e,o),Hm(i,t,o)))}function Im(e,t,i){var o=Zn();Zs(e,t,i,o)}function Zs(e,t,i,o){var u={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(vl(e))$m(t,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var g=t.lastRenderedState,w=d(g,i);if(u.hasEagerState=!0,u.eagerState=w,Vn(w,g))return Jo(e,t,u,0),_t===null&&Qo(),!1}catch{}finally{}if(i=yu(e,t,u,o),i!==null)return Bn(i,e,o),Hm(i,t,o),!0}return!1}function Wu(e,t,i,o){if(o={lane:2,revertLane:Df(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},vl(e)){if(t)throw Error(s(479))}else t=yu(e,i,o,2),t!==null&&Bn(t,e,2)}function vl(e){var t=e.alternate;return e===We||t!==null&&t===We}function $m(e,t){Bi=fl=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Hm(e,t,i){if((i&4194048)!==0){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,ks(e,i)}}var Xs={readContext:yn,use:pl,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useLayoutEffect:Ft,useInsertionEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useSyncExternalStore:Ft,useId:Ft,useHostTransitionStatus:Ft,useFormState:Ft,useActionState:Ft,useOptimistic:Ft,useMemoCache:Ft,useCacheRefresh:Ft};Xs.useEffectEvent=Ft;var Vm={readContext:yn,use:pl,useCallback:function(e,t){return jn().memoizedState=[e,t===void 0?null:t],e},useContext:yn,useEffect:Cm,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,yl(4194308,4,jm.bind(null,t,e),i)},useLayoutEffect:function(e,t){return yl(4194308,4,e,t)},useInsertionEffect:function(e,t){yl(4,2,e,t)},useMemo:function(e,t){var i=jn();t=t===void 0?null:t;var o=e();if(ni){Ue(!0);try{e()}finally{Ue(!1)}}return i.memoizedState=[o,t],o},useReducer:function(e,t,i){var o=jn();if(i!==void 0){var u=i(t);if(ni){Ue(!0);try{i(t)}finally{Ue(!1)}}}else u=t;return o.memoizedState=o.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},o.queue=e,e=e.dispatch=KS.bind(null,We,e),[o.memoizedState,e]},useRef:function(e){var t=jn();return e={current:e},t.memoizedState=e},useState:function(e){e=Fu(e);var t=e.queue,i=Im.bind(null,We,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:Xu,useDeferredValue:function(e,t){var i=jn();return Ku(i,e,t)},useTransition:function(){var e=Fu(!1);return e=Rm.bind(null,We,e.queue,!0,!1),jn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var o=We,u=jn();if(dt){if(i===void 0)throw Error(s(407));i=i()}else{if(i=t(),_t===null)throw Error(s(349));(ot&127)!==0||cm(o,t,i)}u.memoizedState=i;var d={value:i,getSnapshot:t};return u.queue=d,Cm(fm.bind(null,o,d,e),[e]),o.flags|=2048,Ii(9,{destroy:void 0},um.bind(null,o,d,i,t),null),i},useId:function(){var e=jn(),t=_t.identifierPrefix;if(dt){var i=Oa,o=Ta;i=(o&~(1<<32-kt(o)-1)).toString(32)+i,t="_"+t+"R_"+i,i=dl++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=qS++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Ju,useFormState:wm,useActionState:wm,useOptimistic:function(e){var t=jn();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Wu.bind(null,We,!0,i),i.dispatch=t,[e,t]},useMemoCache:qu,useCacheRefresh:function(){return jn().memoizedState=XS.bind(null,We)},useEffectEvent:function(e){var t=jn(),i={impl:e};return t.memoizedState=i,function(){if((bt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}},ef={readContext:yn,use:pl,useCallback:_m,useContext:yn,useEffect:Zu,useImperativeHandle:Am,useInsertionEffect:Om,useLayoutEffect:Nm,useMemo:Dm,useReducer:ml,useRef:km,useState:function(){return ml(Xa)},useDebugValue:Xu,useDeferredValue:function(e,t){var i=Qt();return Mm(i,Ot.memoizedState,e,t)},useTransition:function(){var e=ml(Xa)[0],t=Qt().memoizedState;return[typeof e=="boolean"?e:Ps(e),t]},useSyncExternalStore:lm,useId:Bm,useHostTransitionStatus:Ju,useFormState:Sm,useActionState:Sm,useOptimistic:function(e,t){var i=Qt();return pm(i,Ot,e,t)},useMemoCache:qu,useCacheRefresh:Um};ef.useEffectEvent=Tm;var qm={readContext:yn,use:pl,useCallback:_m,useContext:yn,useEffect:Zu,useImperativeHandle:Am,useInsertionEffect:Om,useLayoutEffect:Nm,useMemo:Dm,useReducer:Gu,useRef:km,useState:function(){return Gu(Xa)},useDebugValue:Xu,useDeferredValue:function(e,t){var i=Qt();return Ot===null?Ku(i,e,t):Mm(i,Ot.memoizedState,e,t)},useTransition:function(){var e=Gu(Xa)[0],t=Qt().memoizedState;return[typeof e=="boolean"?e:Ps(e),t]},useSyncExternalStore:lm,useId:Bm,useHostTransitionStatus:Ju,useFormState:Em,useActionState:Em,useOptimistic:function(e,t){var i=Qt();return Ot!==null?pm(i,Ot,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:qu,useCacheRefresh:Um};qm.useEffectEvent=Tm;function tf(e,t,i,o){t=e.memoizedState,i=i(o,t),i=i==null?t:b({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var nf={enqueueSetState:function(e,t,i){e=e._reactInternals;var o=Zn(),u=mr(o);u.payload=t,i!=null&&(u.callback=i),t=yr(e,u,o),t!==null&&(Bn(t,e,o),qs(t,e,o))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var o=Zn(),u=mr(o);u.tag=1,u.payload=t,i!=null&&(u.callback=i),t=yr(e,u,o),t!==null&&(Bn(t,e,o),qs(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Zn(),o=mr(i);o.tag=2,t!=null&&(o.callback=t),t=yr(e,o,i),t!==null&&(Bn(t,e,i),qs(t,e,i))}};function Ym(e,t,i,o,u,d,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,g):t.prototype&&t.prototype.isPureReactComponent?!zs(i,o)||!zs(u,d):!0}function Gm(e,t,i,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,o),t.state!==e&&nf.enqueueReplaceState(t,t.state,null)}function ai(e,t){var i=t;if("ref"in t){i={};for(var o in t)o!=="ref"&&(i[o]=t[o])}if(e=e.defaultProps){i===t&&(i=b({},i));for(var u in e)i[u]===void 0&&(i[u]=e[u])}return i}function Fm(e){Ko(e)}function Pm(e){console.error(e)}function Zm(e){Ko(e)}function bl(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(o){setTimeout(function(){throw o})}}function Xm(e,t,i){try{var o=e.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function af(e,t,i){return i=mr(i),i.tag=3,i.payload={element:null},i.callback=function(){bl(e,t)},i}function Km(e){return e=mr(e),e.tag=3,e}function Qm(e,t,i,o){var u=i.type.getDerivedStateFromError;if(typeof u=="function"){var d=o.value;e.payload=function(){return u(d)},e.callback=function(){Xm(t,i,o)}}var g=i.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Xm(t,i,o),typeof u!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})})}function QS(e,t,i,o,u){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(t=i.alternate,t!==null&&_i(t,i,u,!0),i=Yn.current,i!==null){switch(i.tag){case 31:case 13:return oa===null?_l():i.alternate===null&&Pt===0&&(Pt=3),i.flags&=-257,i.flags|=65536,i.lanes=u,o===sl?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([o]):t.add(o),jf(e,o,u)),!1;case 22:return i.flags|=65536,o===sl?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([o]):i.add(o)),jf(e,o,u)),!1}throw Error(s(435,i.tag))}return jf(e,o,u),_l(),!1}if(dt)return t=Yn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,o!==xu&&(e=Error(s(422),{cause:o}),Us(aa(e,i)))):(o!==xu&&(t=Error(s(423),{cause:o}),Us(aa(t,i))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,o=aa(o,i),u=af(e.stateNode,o,u),Mu(e,u),Pt!==4&&(Pt=2)),!1;var d=Error(s(520),{cause:o});if(d=aa(d,i),ao===null?ao=[d]:ao.push(d),Pt!==4&&(Pt=2),t===null)return!0;o=aa(o,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=u&-u,i.lanes|=e,e=af(i.stateNode,o,e),Mu(i,e),!1;case 1:if(t=i.type,d=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(xr===null||!xr.has(d))))return i.flags|=65536,u&=-u,i.lanes|=u,u=Km(u),Qm(u,e,i,o),Mu(i,u),!1}i=i.return}while(i!==null);return!1}var rf=Error(s(461)),tn=!1;function gn(e,t,i,o){t.child=e===null?tm(t,null,i,o):ti(t,e.child,i,o)}function Jm(e,t,i,o,u){i=i.render;var d=t.ref;if("ref"in o){var g={};for(var w in o)w!=="ref"&&(g[w]=o[w])}else g=o;return Qr(t),o=Iu(e,t,i,g,d,u),w=$u(),e!==null&&!tn?(Hu(e,t,u),Ka(e,t,u)):(dt&&w&&wu(t),t.flags|=1,gn(e,t,o,u),t.child)}function Wm(e,t,i,o,u){if(e===null){var d=i.type;return typeof d=="function"&&!gu(d)&&d.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=d,ey(e,t,d,o,u)):(e=el(i.type,null,o,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!hf(e,u)){var g=d.memoizedProps;if(i=i.compare,i=i!==null?i:zs,i(g,o)&&e.ref===t.ref)return Ka(e,t,u)}return t.flags|=1,e=Ya(d,o),e.ref=t.ref,e.return=t,t.child=e}function ey(e,t,i,o,u){if(e!==null){var d=e.memoizedProps;if(zs(d,o)&&e.ref===t.ref)if(tn=!1,t.pendingProps=o=d,hf(e,u))(e.flags&131072)!==0&&(tn=!0);else return t.lanes=e.lanes,Ka(e,t,u)}return sf(e,t,i,o,u)}function ty(e,t,i,o){var u=o.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|i:i,e!==null){for(o=t.child=e.child,u=0;o!==null;)u=u|o.lanes|o.childLanes,o=o.sibling;o=u&~d}else o=0,t.child=null;return ny(e,t,d,i,o)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&rl(t,d!==null?d.cachePool:null),d!==null?rm(t,d):zu(),im(t);else return o=t.lanes=536870912,ny(e,t,d!==null?d.baseLanes|i:i,i,o)}else d!==null?(rl(t,d.cachePool),rm(t,d),vr(),t.memoizedState=null):(e!==null&&rl(t,null),zu(),vr());return gn(e,t,u,i),t.child}function Ks(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function ny(e,t,i,o,u){var d=ju();return d=d===null?null:{parent:Wt._currentValue,pool:d},t.memoizedState={baseLanes:i,cachePool:d},e!==null&&rl(t,null),zu(),im(t),e!==null&&_i(e,t,o,!0),t.childLanes=u,null}function wl(e,t){return t=xl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function ay(e,t,i){return ti(t,e.child,null,i),e=wl(t,t.pendingProps),e.flags|=2,Gn(t),t.memoizedState=null,e}function JS(e,t,i){var o=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(dt){if(o.mode==="hidden")return e=wl(t,o),t.lanes=536870912,Ks(null,e);if(Bu(t),(e=Mt)?(e=mg(e,sa),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ur!==null?{id:Ta,overflow:Oa}:null,retryLane:536870912,hydrationErrors:null},i=$p(e),i.return=t,t.child=i,mn=t,Mt=null)):e=null,e===null)throw dr(t);return t.lanes=536870912,null}return wl(t,o)}var d=e.memoizedState;if(d!==null){var g=d.dehydrated;if(Bu(t),u)if(t.flags&256)t.flags&=-257,t=ay(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(tn||_i(e,t,i,!1),u=(i&e.childLanes)!==0,tn||u){if(o=_t,o!==null&&(g=Cs(o,i),g!==0&&g!==d.retryLane))throw d.retryLane=g,Pr(e,g),Bn(o,e,g),rf;_l(),t=ay(e,t,i)}else e=d.treeContext,Mt=la(g.nextSibling),mn=t,dt=!0,fr=null,sa=!1,e!==null&&qp(t,e),t=wl(t,o),t.flags|=4096;return t}return e=Ya(e.child,{mode:o.mode,children:o.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Sl(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function sf(e,t,i,o,u){return Qr(t),i=Iu(e,t,i,o,void 0,u),o=$u(),e!==null&&!tn?(Hu(e,t,u),Ka(e,t,u)):(dt&&o&&wu(t),t.flags|=1,gn(e,t,i,u),t.child)}function ry(e,t,i,o,u,d){return Qr(t),t.updateQueue=null,i=om(t,o,i,u),sm(e),o=$u(),e!==null&&!tn?(Hu(e,t,d),Ka(e,t,d)):(dt&&o&&wu(t),t.flags|=1,gn(e,t,i,d),t.child)}function iy(e,t,i,o,u){if(Qr(t),t.stateNode===null){var d=Oi,g=i.contextType;typeof g=="object"&&g!==null&&(d=yn(g)),d=new i(o,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=nf,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=o,d.state=t.memoizedState,d.refs={},_u(t),g=i.contextType,d.context=typeof g=="object"&&g!==null?yn(g):Oi,d.state=t.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(tf(t,i,g,o),d.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&nf.enqueueReplaceState(d,d.state,null),Gs(t,o,d,u),Ys(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),o=!0}else if(e===null){d=t.stateNode;var w=t.memoizedProps,T=ai(i,w);d.props=T;var U=d.context,W=i.contextType;g=Oi,typeof W=="object"&&W!==null&&(g=yn(W));var ae=i.getDerivedStateFromProps;W=typeof ae=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=t.pendingProps!==w,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||U!==g)&&Gm(t,d,o,g),pr=!1;var $=t.memoizedState;d.state=$,Gs(t,o,d,u),Ys(),U=t.memoizedState,w||$!==U||pr?(typeof ae=="function"&&(tf(t,i,ae,o),U=t.memoizedState),(T=pr||Ym(t,i,T,o,$,U,g))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=U),d.props=o,d.state=U,d.context=g,o=T):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{d=t.stateNode,Du(e,t),g=t.memoizedProps,W=ai(i,g),d.props=W,ae=t.pendingProps,$=d.context,U=i.contextType,T=Oi,typeof U=="object"&&U!==null&&(T=yn(U)),w=i.getDerivedStateFromProps,(U=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==ae||$!==T)&&Gm(t,d,o,T),pr=!1,$=t.memoizedState,d.state=$,Gs(t,o,d,u),Ys();var P=t.memoizedState;g!==ae||$!==P||pr||e!==null&&e.dependencies!==null&&nl(e.dependencies)?(typeof w=="function"&&(tf(t,i,w,o),P=t.memoizedState),(W=pr||Ym(t,i,W,o,$,P,T)||e!==null&&e.dependencies!==null&&nl(e.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,P,T),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,P,T)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=P),d.props=o,d.state=P,d.context=T,o=W):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&$===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&$===e.memoizedState||(t.flags|=1024),o=!1)}return d=o,Sl(e,t),o=(t.flags&128)!==0,d||o?(d=t.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&o?(t.child=ti(t,e.child,null,u),t.child=ti(t,null,i,u)):gn(e,t,i,u),t.memoizedState=d.state,e=t.child):e=Ka(e,t,u),e}function sy(e,t,i,o){return Xr(),t.flags|=256,gn(e,t,i,o),t.child}var of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lf(e){return{baseLanes:e,cachePool:Xp()}}function cf(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Pn),e}function oy(e,t,i){var o=t.pendingProps,u=!1,d=(t.flags&128)!==0,g;if((g=d)||(g=e!==null&&e.memoizedState===null?!1:(Kt.current&2)!==0),g&&(u=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(dt){if(u?gr(t):vr(),(e=Mt)?(e=mg(e,sa),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ur!==null?{id:Ta,overflow:Oa}:null,retryLane:536870912,hydrationErrors:null},i=$p(e),i.return=t,t.child=i,mn=t,Mt=null)):e=null,e===null)throw dr(t);return Gf(e)?t.lanes=32:t.lanes=536870912,null}var w=o.children;return o=o.fallback,u?(vr(),u=t.mode,w=xl({mode:"hidden",children:w},u),o=Zr(o,u,i,null),w.return=t,o.return=t,w.sibling=o,t.child=w,o=t.child,o.memoizedState=lf(i),o.childLanes=cf(e,g,i),t.memoizedState=of,Ks(null,o)):(gr(t),uf(t,w))}var T=e.memoizedState;if(T!==null&&(w=T.dehydrated,w!==null)){if(d)t.flags&256?(gr(t),t.flags&=-257,t=ff(e,t,i)):t.memoizedState!==null?(vr(),t.child=e.child,t.flags|=128,t=null):(vr(),w=o.fallback,u=t.mode,o=xl({mode:"visible",children:o.children},u),w=Zr(w,u,i,null),w.flags|=2,o.return=t,w.return=t,o.sibling=w,t.child=o,ti(t,e.child,null,i),o=t.child,o.memoizedState=lf(i),o.childLanes=cf(e,g,i),t.memoizedState=of,t=Ks(null,o));else if(gr(t),Gf(w)){if(g=w.nextSibling&&w.nextSibling.dataset,g)var U=g.dgst;g=U,o=Error(s(419)),o.stack="",o.digest=g,Us({value:o,source:null,stack:null}),t=ff(e,t,i)}else if(tn||_i(e,t,i,!1),g=(i&e.childLanes)!==0,tn||g){if(g=_t,g!==null&&(o=Cs(g,i),o!==0&&o!==T.retryLane))throw T.retryLane=o,Pr(e,o),Bn(g,e,o),rf;Yf(w)||_l(),t=ff(e,t,i)}else Yf(w)?(t.flags|=192,t.child=e.child,t=null):(e=T.treeContext,Mt=la(w.nextSibling),mn=t,dt=!0,fr=null,sa=!1,e!==null&&qp(t,e),t=uf(t,o.children),t.flags|=4096);return t}return u?(vr(),w=o.fallback,u=t.mode,T=e.child,U=T.sibling,o=Ya(T,{mode:"hidden",children:o.children}),o.subtreeFlags=T.subtreeFlags&65011712,U!==null?w=Ya(U,w):(w=Zr(w,u,i,null),w.flags|=2),w.return=t,o.return=t,o.sibling=w,t.child=o,Ks(null,o),o=t.child,w=e.child.memoizedState,w===null?w=lf(i):(u=w.cachePool,u!==null?(T=Wt._currentValue,u=u.parent!==T?{parent:T,pool:T}:u):u=Xp(),w={baseLanes:w.baseLanes|i,cachePool:u}),o.memoizedState=w,o.childLanes=cf(e,g,i),t.memoizedState=of,Ks(e.child,o)):(gr(t),i=e.child,e=i.sibling,i=Ya(i,{mode:"visible",children:o.children}),i.return=t,i.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=i,t.memoizedState=null,i)}function uf(e,t){return t=xl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function xl(e,t){return e=qn(22,e,null,t),e.lanes=0,e}function ff(e,t,i){return ti(t,e.child,null,i),e=uf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ly(e,t,i){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Cu(e.return,t,i)}function df(e,t,i,o,u,d){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:u,treeForkCount:d}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=i,g.tailMode=u,g.treeForkCount=d)}function cy(e,t,i){var o=t.pendingProps,u=o.revealOrder,d=o.tail;o=o.children;var g=Kt.current,w=(g&2)!==0;if(w?(g=g&1|2,t.flags|=128):g&=1,D(Kt,g),gn(e,t,o,i),o=dt?Bs:0,!w&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ly(e,i,t);else if(e.tag===19)ly(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(i=t.child,u=null;i!==null;)e=i.alternate,e!==null&&ul(e)===null&&(u=i),i=i.sibling;i=u,i===null?(u=t.child,t.child=null):(u=i.sibling,i.sibling=null),df(t,!1,u,i,d,o);break;case"backwards":case"unstable_legacy-backwards":for(i=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&ul(e)===null){t.child=u;break}e=u.sibling,u.sibling=i,i=u,u=e}df(t,!0,i,null,d,o);break;case"together":df(t,!1,null,null,void 0,o);break;default:t.memoizedState=null}return t.child}function Ka(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Sr|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(_i(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,i=Ya(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Ya(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function hf(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&nl(e)))}function WS(e,t,i){switch(t.tag){case 3:et(t,t.stateNode.containerInfo),hr(t,Wt,e.memoizedState.cache),Xr();break;case 27:case 5:Ht(t);break;case 4:et(t,t.stateNode.containerInfo);break;case 10:hr(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Bu(t),null;break;case 13:var o=t.memoizedState;if(o!==null)return o.dehydrated!==null?(gr(t),t.flags|=128,null):(i&t.child.childLanes)!==0?oy(e,t,i):(gr(t),e=Ka(e,t,i),e!==null?e.sibling:null);gr(t);break;case 19:var u=(e.flags&128)!==0;if(o=(i&t.childLanes)!==0,o||(_i(e,t,i,!1),o=(i&t.childLanes)!==0),u){if(o)return cy(e,t,i);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),D(Kt,Kt.current),o)break;return null;case 22:return t.lanes=0,ty(e,t,i,t.pendingProps);case 24:hr(t,Wt,e.memoizedState.cache)}return Ka(e,t,i)}function uy(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)tn=!0;else{if(!hf(e,i)&&(t.flags&128)===0)return tn=!1,WS(e,t,i);tn=(e.flags&131072)!==0}else tn=!1,dt&&(t.flags&1048576)!==0&&Vp(t,Bs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var o=t.pendingProps;if(e=Wr(t.elementType),t.type=e,typeof e=="function")gu(e)?(o=ai(e,o),t.tag=1,t=iy(null,t,e,o,i)):(t.tag=0,t=sf(null,t,e,o,i));else{if(e!=null){var u=e.$$typeof;if(u===G){t.tag=11,t=Jm(null,t,e,o,i);break e}else if(u===H){t.tag=14,t=Wm(null,t,e,o,i);break e}}throw t=qe(e)||e,Error(s(306,t,""))}}return t;case 0:return sf(e,t,t.type,t.pendingProps,i);case 1:return o=t.type,u=ai(o,t.pendingProps),iy(e,t,o,u,i);case 3:e:{if(et(t,t.stateNode.containerInfo),e===null)throw Error(s(387));o=t.pendingProps;var d=t.memoizedState;u=d.element,Du(e,t),Gs(t,o,null,i);var g=t.memoizedState;if(o=g.cache,hr(t,Wt,o),o!==d.cache&&Tu(t,[Wt],i,!0),Ys(),o=g.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=sy(e,t,o,i);break e}else if(o!==u){u=aa(Error(s(424)),t),Us(u),t=sy(e,t,o,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Mt=la(e.firstChild),mn=t,dt=!0,fr=null,sa=!0,i=tm(t,null,o,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Xr(),o===u){t=Ka(e,t,i);break e}gn(e,t,o,i)}t=t.child}return t;case 26:return Sl(e,t),e===null?(i=Sg(t.type,null,t.pendingProps,null))?t.memoizedState=i:dt||(i=t.type,e=t.pendingProps,o=Ul(Oe.current).createElement(i),o[ln]=t,o[pn]=e,vn(o,i,e),Ie(o),t.stateNode=o):t.memoizedState=Sg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ht(t),e===null&&dt&&(o=t.stateNode=vg(t.type,t.pendingProps,Oe.current),mn=t,sa=!0,u=Mt,Tr(t.type)?(Ff=u,Mt=la(o.firstChild)):Mt=u),gn(e,t,t.pendingProps.children,i),Sl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&dt&&((u=o=Mt)&&(o=jx(o,t.type,t.pendingProps,sa),o!==null?(t.stateNode=o,mn=t,Mt=la(o.firstChild),sa=!1,u=!0):u=!1),u||dr(t)),Ht(t),u=t.type,d=t.pendingProps,g=e!==null?e.memoizedProps:null,o=d.children,Hf(u,d)?o=null:g!==null&&Hf(u,g)&&(t.flags|=32),t.memoizedState!==null&&(u=Iu(e,t,YS,null,null,i),fo._currentValue=u),Sl(e,t),gn(e,t,o,i),t.child;case 6:return e===null&&dt&&((e=i=Mt)&&(i=Ax(i,t.pendingProps,sa),i!==null?(t.stateNode=i,mn=t,Mt=null,e=!0):e=!1),e||dr(t)),null;case 13:return oy(e,t,i);case 4:return et(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=ti(t,null,o,i):gn(e,t,o,i),t.child;case 11:return Jm(e,t,t.type,t.pendingProps,i);case 7:return gn(e,t,t.pendingProps,i),t.child;case 8:return gn(e,t,t.pendingProps.children,i),t.child;case 12:return gn(e,t,t.pendingProps.children,i),t.child;case 10:return o=t.pendingProps,hr(t,t.type,o.value),gn(e,t,o.children,i),t.child;case 9:return u=t.type._context,o=t.pendingProps.children,Qr(t),u=yn(u),o=o(u),t.flags|=1,gn(e,t,o,i),t.child;case 14:return Wm(e,t,t.type,t.pendingProps,i);case 15:return ey(e,t,t.type,t.pendingProps,i);case 19:return cy(e,t,i);case 31:return JS(e,t,i);case 22:return ty(e,t,i,t.pendingProps);case 24:return Qr(t),o=yn(Wt),e===null?(u=ju(),u===null&&(u=_t,d=Ou(),u.pooledCache=d,d.refCount++,d!==null&&(u.pooledCacheLanes|=i),u=d),t.memoizedState={parent:o,cache:u},_u(t),hr(t,Wt,u)):((e.lanes&i)!==0&&(Du(e,t),Gs(t,null,null,i),Ys()),u=e.memoizedState,d=t.memoizedState,u.parent!==o?(u={parent:o,cache:o},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),hr(t,Wt,o)):(o=d.cache,hr(t,Wt,o),o!==u.cache&&Tu(t,[Wt],i,!0))),gn(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Qa(e){e.flags|=4}function pf(e,t,i,o,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(By())e.flags|=8192;else throw ei=sl,Au}else e.flags&=-16777217}function fy(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Tg(t))if(By())e.flags|=8192;else throw ei=sl,Au}function El(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ke():536870912,e.lanes|=t,qi|=t)}function Qs(e,t){if(!dt)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Rt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(t)for(var u=e.child;u!==null;)i|=u.lanes|u.childLanes,o|=u.subtreeFlags&65011712,o|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)i|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=o,e.childLanes=i,t}function ex(e,t,i){var o=t.pendingProps;switch(Su(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(t),null;case 1:return Rt(t),null;case 3:return i=t.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),t.memoizedState.cache!==o&&(t.flags|=2048),Pa(Wt),Je(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Ai(t)?Qa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Eu())),Rt(t),null;case 26:var u=t.type,d=t.memoizedState;return e===null?(Qa(t),d!==null?(Rt(t),fy(t,d)):(Rt(t),pf(t,u,null,o,i))):d?d!==e.memoizedState?(Qa(t),Rt(t),fy(t,d)):(Rt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==o&&Qa(t),Rt(t),pf(t,u,e,o,i)),null;case 27:if(Zt(t),i=Oe.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==o&&Qa(t);else{if(!o){if(t.stateNode===null)throw Error(s(166));return Rt(t),null}e=V.current,Ai(t)?Yp(t):(e=vg(u,o,i),t.stateNode=e,Qa(t))}return Rt(t),null;case 5:if(Zt(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==o&&Qa(t);else{if(!o){if(t.stateNode===null)throw Error(s(166));return Rt(t),null}if(d=V.current,Ai(t))Yp(t);else{var g=Ul(Oe.current);switch(d){case 1:d=g.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:d=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":d=g.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":d=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":d=g.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?g.createElement(u,{is:o.is}):g.createElement(u)}}d[ln]=t,d[pn]=o;e:for(g=t.child;g!==null;){if(g.tag===5||g.tag===6)d.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}t.stateNode=d;e:switch(vn(d,u,o),u){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Qa(t)}}return Rt(t),pf(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==o&&Qa(t);else{if(typeof o!="string"&&t.stateNode===null)throw Error(s(166));if(e=Oe.current,Ai(t)){if(e=t.stateNode,i=t.memoizedProps,o=null,u=mn,u!==null)switch(u.tag){case 27:case 5:o=u.memoizedProps}e[ln]=t,e=!!(e.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||og(e.nodeValue,i)),e||dr(t,!0)}else e=Ul(e).createTextNode(o),e[ln]=t,t.stateNode=e}return Rt(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(o=Ai(t),i!==null){if(e===null){if(!o)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[ln]=t}else Xr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Rt(t),e=!1}else i=Eu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(Gn(t),t):(Gn(t),null);if((t.flags&128)!==0)throw Error(s(558))}return Rt(t),null;case 13:if(o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Ai(t),o!==null&&o.dehydrated!==null){if(e===null){if(!u)throw Error(s(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(s(317));u[ln]=t}else Xr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Rt(t),u=!1}else u=Eu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(Gn(t),t):(Gn(t),null)}return Gn(t),(t.flags&128)!==0?(t.lanes=i,t):(i=o!==null,e=e!==null&&e.memoizedState!==null,i&&(o=t.child,u=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(u=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==u&&(o.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),El(t,t.updateQueue),Rt(t),null);case 4:return Je(),e===null&&Lf(t.stateNode.containerInfo),Rt(t),null;case 10:return Pa(t.type),Rt(t),null;case 19:if(B(Kt),o=t.memoizedState,o===null)return Rt(t),null;if(u=(t.flags&128)!==0,d=o.rendering,d===null)if(u)Qs(o,!1);else{if(Pt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=ul(e),d!==null){for(t.flags|=128,Qs(o,!1),e=d.updateQueue,t.updateQueue=e,El(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Ip(i,e),i=i.sibling;return D(Kt,Kt.current&1|2),dt&&Ga(t,o.treeForkCount),t.child}e=e.sibling}o.tail!==null&&O()>Nl&&(t.flags|=128,u=!0,Qs(o,!1),t.lanes=4194304)}else{if(!u)if(e=ul(d),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,El(t,e),Qs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!dt)return Rt(t),null}else 2*O()-o.renderingStartTime>Nl&&i!==536870912&&(t.flags|=128,u=!0,Qs(o,!1),t.lanes=4194304);o.isBackwards?(d.sibling=t.child,t.child=d):(e=o.last,e!==null?e.sibling=d:t.child=d,o.last=d)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=O(),e.sibling=null,i=Kt.current,D(Kt,u?i&1|2:i&1),dt&&Ga(t,o.treeForkCount),e):(Rt(t),null);case 22:case 23:return Gn(t),Lu(),o=t.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(t.flags|=8192):o&&(t.flags|=8192),o?(i&536870912)!==0&&(t.flags&128)===0&&(Rt(t),t.subtreeFlags&6&&(t.flags|=8192)):Rt(t),i=t.updateQueue,i!==null&&El(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),o=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),o!==i&&(t.flags|=2048),e!==null&&B(Jr),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Pa(Wt),Rt(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function tx(e,t){switch(Su(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pa(Wt),Je(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Zt(t),null;case 31:if(t.memoizedState!==null){if(Gn(t),t.alternate===null)throw Error(s(340));Xr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Gn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Xr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return B(Kt),null;case 4:return Je(),null;case 10:return Pa(t.type),null;case 22:case 23:return Gn(t),Lu(),e!==null&&B(Jr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Pa(Wt),null;case 25:return null;default:return null}}function dy(e,t){switch(Su(t),t.tag){case 3:Pa(Wt),Je();break;case 26:case 27:case 5:Zt(t);break;case 4:Je();break;case 31:t.memoizedState!==null&&Gn(t);break;case 13:Gn(t);break;case 19:B(Kt);break;case 10:Pa(t.type);break;case 22:case 23:Gn(t),Lu(),e!==null&&B(Jr);break;case 24:Pa(Wt)}}function Js(e,t){try{var i=t.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var u=o.next;i=u;do{if((i.tag&e)===e){o=void 0;var d=i.create,g=i.inst;o=d(),g.destroy=o}i=i.next}while(i!==u)}}catch(w){Tt(t,t.return,w)}}function br(e,t,i){try{var o=t.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&e)===e){var g=o.inst,w=g.destroy;if(w!==void 0){g.destroy=void 0,u=t;var T=i,U=w;try{U()}catch(W){Tt(u,T,W)}}}o=o.next}while(o!==d)}}catch(W){Tt(t,t.return,W)}}function hy(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{am(t,i)}catch(o){Tt(e,e.return,o)}}}function py(e,t,i){i.props=ai(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(o){Tt(e,t,o)}}function Ws(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof i=="function"?e.refCleanup=i(o):i.current=o}}catch(u){Tt(e,t,u)}}function Na(e,t){var i=e.ref,o=e.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(u){Tt(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(u){Tt(e,t,u)}else i.current=null}function my(e){var t=e.type,i=e.memoizedProps,o=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break e;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(u){Tt(e,e.return,u)}}function mf(e,t,i){try{var o=e.stateNode;Ex(o,e.type,i,t),o[pn]=t}catch(u){Tt(e,e.return,u)}}function yy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Tr(e.type)||e.tag===4}function yf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Tr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gf(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Va));else if(o!==4&&(o===27&&Tr(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(gf(e,t,i),e=e.sibling;e!==null;)gf(e,t,i),e=e.sibling}function kl(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(o!==4&&(o===27&&Tr(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(kl(e,t,i),e=e.sibling;e!==null;)kl(e,t,i),e=e.sibling}function gy(e){var t=e.stateNode,i=e.memoizedProps;try{for(var o=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);vn(t,o,i),t[ln]=e,t[pn]=i}catch(d){Tt(e,e.return,d)}}var Ja=!1,nn=!1,vf=!1,vy=typeof WeakSet=="function"?WeakSet:Set,fn=null;function nx(e,t){if(e=e.containerInfo,If=Gl,e=Ap(e),uu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var u=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var g=0,w=-1,T=-1,U=0,W=0,ae=e,$=null;t:for(;;){for(var P;ae!==i||u!==0&&ae.nodeType!==3||(w=g+u),ae!==d||o!==0&&ae.nodeType!==3||(T=g+o),ae.nodeType===3&&(g+=ae.nodeValue.length),(P=ae.firstChild)!==null;)$=ae,ae=P;for(;;){if(ae===e)break t;if($===i&&++U===u&&(w=g),$===d&&++W===o&&(T=g),(P=ae.nextSibling)!==null)break;ae=$,$=ae.parentNode}ae=P}i=w===-1||T===-1?null:{start:w,end:T}}else i=null}i=i||{start:0,end:0}}else i=null;for($f={focusedElem:e,selectionRange:i},Gl=!1,fn=t;fn!==null;)if(t=fn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,fn=e;else for(;fn!==null;){switch(t=fn,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)u=e[i],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,i=t,u=d.memoizedProps,d=d.memoizedState,o=i.stateNode;try{var Me=ai(i.type,u);e=o.getSnapshotBeforeUpdate(Me,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(Ye){Tt(i,i.return,Ye)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)qf(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":qf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,fn=e;break}fn=t.return}}function by(e,t,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:er(e,i),o&4&&Js(5,i);break;case 1:if(er(e,i),o&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(g){Tt(i,i.return,g)}else{var u=ai(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Tt(i,i.return,g)}}o&64&&hy(i),o&512&&Ws(i,i.return);break;case 3:if(er(e,i),o&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{am(e,t)}catch(g){Tt(i,i.return,g)}}break;case 27:t===null&&o&4&&gy(i);case 26:case 5:er(e,i),t===null&&o&4&&my(i),o&512&&Ws(i,i.return);break;case 12:er(e,i);break;case 31:er(e,i),o&4&&xy(e,i);break;case 13:er(e,i),o&4&&Ey(e,i),o&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=fx.bind(null,i),_x(e,i))));break;case 22:if(o=i.memoizedState!==null||Ja,!o){t=t!==null&&t.memoizedState!==null||nn,u=Ja;var d=nn;Ja=o,(nn=t)&&!d?tr(e,i,(i.subtreeFlags&8772)!==0):er(e,i),Ja=u,nn=d}break;case 30:break;default:er(e,i)}}function wy(e){var t=e.alternate;t!==null&&(e.alternate=null,wy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&K(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var $t=null,Mn=!1;function Wa(e,t,i){for(i=i.child;i!==null;)Sy(e,t,i),i=i.sibling}function Sy(e,t,i){if(Ee&&typeof Ee.onCommitFiberUnmount=="function")try{Ee.onCommitFiberUnmount(je,i)}catch{}switch(i.tag){case 26:nn||Na(i,t),Wa(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:nn||Na(i,t);var o=$t,u=Mn;Tr(i.type)&&($t=i.stateNode,Mn=!1),Wa(e,t,i),lo(i.stateNode),$t=o,Mn=u;break;case 5:nn||Na(i,t);case 6:if(o=$t,u=Mn,$t=null,Wa(e,t,i),$t=o,Mn=u,$t!==null)if(Mn)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(i.stateNode)}catch(d){Tt(i,t,d)}else try{$t.removeChild(i.stateNode)}catch(d){Tt(i,t,d)}break;case 18:$t!==null&&(Mn?(e=$t,hg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Qi(e)):hg($t,i.stateNode));break;case 4:o=$t,u=Mn,$t=i.stateNode.containerInfo,Mn=!0,Wa(e,t,i),$t=o,Mn=u;break;case 0:case 11:case 14:case 15:br(2,i,t),nn||br(4,i,t),Wa(e,t,i);break;case 1:nn||(Na(i,t),o=i.stateNode,typeof o.componentWillUnmount=="function"&&py(i,t,o)),Wa(e,t,i);break;case 21:Wa(e,t,i);break;case 22:nn=(o=nn)||i.memoizedState!==null,Wa(e,t,i),nn=o;break;default:Wa(e,t,i)}}function xy(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Qi(e)}catch(i){Tt(t,t.return,i)}}}function Ey(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Qi(e)}catch(i){Tt(t,t.return,i)}}function ax(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new vy),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new vy),t;default:throw Error(s(435,e.tag))}}function Cl(e,t){var i=ax(e);t.forEach(function(o){if(!i.has(o)){i.add(o);var u=dx.bind(null,e,o);o.then(u,u)}})}function Rn(e,t){var i=t.deletions;if(i!==null)for(var o=0;o<i.length;o++){var u=i[o],d=e,g=t,w=g;e:for(;w!==null;){switch(w.tag){case 27:if(Tr(w.type)){$t=w.stateNode,Mn=!1;break e}break;case 5:$t=w.stateNode,Mn=!1;break e;case 3:case 4:$t=w.stateNode.containerInfo,Mn=!0;break e}w=w.return}if($t===null)throw Error(s(160));Sy(d,g,u),$t=null,Mn=!1,d=u.alternate,d!==null&&(d.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)ky(t,e),t=t.sibling}var ya=null;function ky(e,t){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Rn(t,e),zn(e),o&4&&(br(3,e,e.return),Js(3,e),br(5,e,e.return));break;case 1:Rn(t,e),zn(e),o&512&&(nn||i===null||Na(i,i.return)),o&64&&Ja&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var u=ya;if(Rn(t,e),zn(e),o&512&&(nn||i===null||Na(i,i.return)),o&4){var d=i!==null?i.memoizedState:null;if(o=e.memoizedState,i===null)if(o===null)if(e.stateNode===null){e:{o=e.type,i=e.memoizedProps,u=u.ownerDocument||u;t:switch(o){case"title":d=u.getElementsByTagName("title")[0],(!d||d[$a]||d[ln]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=u.createElement(o),u.head.insertBefore(d,u.querySelector("head > title"))),vn(d,o,i),d[ln]=e,Ie(d),o=d;break e;case"link":var g=kg("link","href",u).get(o+(i.href||""));if(g){for(var w=0;w<g.length;w++)if(d=g[w],d.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&d.getAttribute("rel")===(i.rel==null?null:i.rel)&&d.getAttribute("title")===(i.title==null?null:i.title)&&d.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){g.splice(w,1);break t}}d=u.createElement(o),vn(d,o,i),u.head.appendChild(d);break;case"meta":if(g=kg("meta","content",u).get(o+(i.content||""))){for(w=0;w<g.length;w++)if(d=g[w],d.getAttribute("content")===(i.content==null?null:""+i.content)&&d.getAttribute("name")===(i.name==null?null:i.name)&&d.getAttribute("property")===(i.property==null?null:i.property)&&d.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&d.getAttribute("charset")===(i.charSet==null?null:i.charSet)){g.splice(w,1);break t}}d=u.createElement(o),vn(d,o,i),u.head.appendChild(d);break;default:throw Error(s(468,o))}d[ln]=e,Ie(d),o=d}e.stateNode=o}else Cg(u,e.type,e.stateNode);else e.stateNode=Eg(u,o,e.memoizedProps);else d!==o?(d===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):d.count--,o===null?Cg(u,e.type,e.stateNode):Eg(u,o,e.memoizedProps)):o===null&&e.stateNode!==null&&mf(e,e.memoizedProps,i.memoizedProps)}break;case 27:Rn(t,e),zn(e),o&512&&(nn||i===null||Na(i,i.return)),i!==null&&o&4&&mf(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Rn(t,e),zn(e),o&512&&(nn||i===null||Na(i,i.return)),e.flags&32){u=e.stateNode;try{wi(u,"")}catch(Me){Tt(e,e.return,Me)}}o&4&&e.stateNode!=null&&(u=e.memoizedProps,mf(e,u,i!==null?i.memoizedProps:u)),o&1024&&(vf=!0);break;case 6:if(Rn(t,e),zn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,i=e.stateNode;try{i.nodeValue=o}catch(Me){Tt(e,e.return,Me)}}break;case 3:if(Hl=null,u=ya,ya=Il(t.containerInfo),Rn(t,e),ya=u,zn(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{Qi(t.containerInfo)}catch(Me){Tt(e,e.return,Me)}vf&&(vf=!1,Cy(e));break;case 4:o=ya,ya=Il(e.stateNode.containerInfo),Rn(t,e),zn(e),ya=o;break;case 12:Rn(t,e),zn(e);break;case 31:Rn(t,e),zn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Cl(e,o)));break;case 13:Rn(t,e),zn(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Ol=O()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Cl(e,o)));break;case 22:u=e.memoizedState!==null;var T=i!==null&&i.memoizedState!==null,U=Ja,W=nn;if(Ja=U||u,nn=W||T,Rn(t,e),nn=W,Ja=U,zn(e),o&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(i===null||T||Ja||nn||ri(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){T=i=t;try{if(d=T.stateNode,u)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{w=T.stateNode;var ae=T.memoizedProps.style,$=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;w.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(Me){Tt(T,T.return,Me)}}}else if(t.tag===6){if(i===null){T=t;try{T.stateNode.nodeValue=u?"":T.memoizedProps}catch(Me){Tt(T,T.return,Me)}}}else if(t.tag===18){if(i===null){T=t;try{var P=T.stateNode;u?pg(P,!0):pg(T.stateNode,!1)}catch(Me){Tt(T,T.return,Me)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}o&4&&(o=e.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,Cl(e,i))));break;case 19:Rn(t,e),zn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Cl(e,o)));break;case 30:break;case 21:break;default:Rn(t,e),zn(e)}}function zn(e){var t=e.flags;if(t&2){try{for(var i,o=e.return;o!==null;){if(yy(o)){i=o;break}o=o.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var u=i.stateNode,d=yf(e);kl(e,d,u);break;case 5:var g=i.stateNode;i.flags&32&&(wi(g,""),i.flags&=-33);var w=yf(e);kl(e,w,g);break;case 3:case 4:var T=i.stateNode.containerInfo,U=yf(e);gf(e,U,T);break;default:throw Error(s(161))}}catch(W){Tt(e,e.return,W)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Cy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Cy(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function er(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)by(e,t.alternate,t),t=t.sibling}function ri(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:br(4,t,t.return),ri(t);break;case 1:Na(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&py(t,t.return,i),ri(t);break;case 27:lo(t.stateNode);case 26:case 5:Na(t,t.return),ri(t);break;case 22:t.memoizedState===null&&ri(t);break;case 30:ri(t);break;default:ri(t)}e=e.sibling}}function tr(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var o=t.alternate,u=e,d=t,g=d.flags;switch(d.tag){case 0:case 11:case 15:tr(u,d,i),Js(4,d);break;case 1:if(tr(u,d,i),o=d,u=o.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(U){Tt(o,o.return,U)}if(o=d,u=o.updateQueue,u!==null){var w=o.stateNode;try{var T=u.shared.hiddenCallbacks;if(T!==null)for(u.shared.hiddenCallbacks=null,u=0;u<T.length;u++)nm(T[u],w)}catch(U){Tt(o,o.return,U)}}i&&g&64&&hy(d),Ws(d,d.return);break;case 27:gy(d);case 26:case 5:tr(u,d,i),i&&o===null&&g&4&&my(d),Ws(d,d.return);break;case 12:tr(u,d,i);break;case 31:tr(u,d,i),i&&g&4&&xy(u,d);break;case 13:tr(u,d,i),i&&g&4&&Ey(u,d);break;case 22:d.memoizedState===null&&tr(u,d,i),Ws(d,d.return);break;case 30:break;default:tr(u,d,i)}t=t.sibling}}function bf(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Is(i))}function wf(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Is(e))}function ga(e,t,i,o){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ty(e,t,i,o),t=t.sibling}function Ty(e,t,i,o){var u=t.flags;switch(t.tag){case 0:case 11:case 15:ga(e,t,i,o),u&2048&&Js(9,t);break;case 1:ga(e,t,i,o);break;case 3:ga(e,t,i,o),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Is(e)));break;case 12:if(u&2048){ga(e,t,i,o),e=t.stateNode;try{var d=t.memoizedProps,g=d.id,w=d.onPostCommit;typeof w=="function"&&w(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){Tt(t,t.return,T)}}else ga(e,t,i,o);break;case 31:ga(e,t,i,o);break;case 13:ga(e,t,i,o);break;case 23:break;case 22:d=t.stateNode,g=t.alternate,t.memoizedState!==null?d._visibility&2?ga(e,t,i,o):eo(e,t):d._visibility&2?ga(e,t,i,o):(d._visibility|=2,$i(e,t,i,o,(t.subtreeFlags&10256)!==0||!1)),u&2048&&bf(g,t);break;case 24:ga(e,t,i,o),u&2048&&wf(t.alternate,t);break;default:ga(e,t,i,o)}}function $i(e,t,i,o,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,g=t,w=i,T=o,U=g.flags;switch(g.tag){case 0:case 11:case 15:$i(d,g,w,T,u),Js(8,g);break;case 23:break;case 22:var W=g.stateNode;g.memoizedState!==null?W._visibility&2?$i(d,g,w,T,u):eo(d,g):(W._visibility|=2,$i(d,g,w,T,u)),u&&U&2048&&bf(g.alternate,g);break;case 24:$i(d,g,w,T,u),u&&U&2048&&wf(g.alternate,g);break;default:$i(d,g,w,T,u)}t=t.sibling}}function eo(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,o=t,u=o.flags;switch(o.tag){case 22:eo(i,o),u&2048&&bf(o.alternate,o);break;case 24:eo(i,o),u&2048&&wf(o.alternate,o);break;default:eo(i,o)}t=t.sibling}}var to=8192;function Hi(e,t,i){if(e.subtreeFlags&to)for(e=e.child;e!==null;)Oy(e,t,i),e=e.sibling}function Oy(e,t,i){switch(e.tag){case 26:Hi(e,t,i),e.flags&to&&e.memoizedState!==null&&qx(i,ya,e.memoizedState,e.memoizedProps);break;case 5:Hi(e,t,i);break;case 3:case 4:var o=ya;ya=Il(e.stateNode.containerInfo),Hi(e,t,i),ya=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=to,to=16777216,Hi(e,t,i),to=o):Hi(e,t,i));break;default:Hi(e,t,i)}}function Ny(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function no(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var o=t[i];fn=o,Ay(o,e)}Ny(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)jy(e),e=e.sibling}function jy(e){switch(e.tag){case 0:case 11:case 15:no(e),e.flags&2048&&br(9,e,e.return);break;case 3:no(e);break;case 12:no(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Tl(e)):no(e);break;default:no(e)}}function Tl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var o=t[i];fn=o,Ay(o,e)}Ny(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:br(8,t,t.return),Tl(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,Tl(t));break;default:Tl(t)}e=e.sibling}}function Ay(e,t){for(;fn!==null;){var i=fn;switch(i.tag){case 0:case 11:case 15:br(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Is(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,fn=o;else e:for(i=e;fn!==null;){o=fn;var u=o.sibling,d=o.return;if(wy(o),o===i){fn=null;break e}if(u!==null){u.return=d,fn=u;break e}fn=d}}}var rx={getCacheForType:function(e){var t=yn(Wt),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return yn(Wt).controller.signal}},ix=typeof WeakMap=="function"?WeakMap:Map,bt=0,_t=null,it=null,ot=0,Ct=0,Fn=null,wr=!1,Vi=!1,Sf=!1,nr=0,Pt=0,Sr=0,ii=0,xf=0,Pn=0,qi=0,ao=null,Ln=null,Ef=!1,Ol=0,_y=0,Nl=1/0,jl=null,xr=null,cn=0,Er=null,Yi=null,ar=0,kf=0,Cf=null,Dy=null,ro=0,Tf=null;function Zn(){return(bt&2)!==0&&ot!==0?ot&-ot:C.T!==null?Df():Ts()}function My(){if(Pn===0)if((ot&536870912)===0||dt){var e=M;M<<=1,(M&3932160)===0&&(M=262144),Pn=e}else Pn=536870912;return e=Yn.current,e!==null&&(e.flags|=32),Pn}function Bn(e,t,i){(e===_t&&(Ct===2||Ct===9)||e.cancelPendingCommit!==null)&&(Gi(e,0),kr(e,ot,Pn,!1)),ft(e,i),((bt&2)===0||e!==_t)&&(e===_t&&((bt&2)===0&&(ii|=i),Pt===4&&kr(e,ot,Pn,!1)),ja(e))}function Ry(e,t,i){if((bt&6)!==0)throw Error(s(327));var o=!i&&(t&127)===0&&(t&e.expiredLanes)===0||At(e,t),u=o?lx(e,t):Nf(e,t,!0),d=o;do{if(u===0){Vi&&!o&&kr(e,t,0,!1);break}else{if(i=e.current.alternate,d&&!sx(i)){u=Nf(e,t,!1),d=!1;continue}if(u===2){if(d=t,e.errorRecoveryDisabledLanes&d)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var w=e;u=ao;var T=w.current.memoizedState.isDehydrated;if(T&&(Gi(w,g).flags|=256),g=Nf(w,g,!1),g!==2){if(Sf&&!T){w.errorRecoveryDisabledLanes|=d,ii|=d,u=4;break e}d=Ln,Ln=u,d!==null&&(Ln===null?Ln=d:Ln.push.apply(Ln,d))}u=g}if(d=!1,u!==2)continue}}if(u===1){Gi(e,0),kr(e,t,0,!0);break}e:{switch(o=e,d=u,d){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:kr(o,t,Pn,!wr);break e;case 2:Ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(u=Ol+300-O(),10<u)){if(kr(o,t,Pn,!wr),Re(o,0,!0)!==0)break e;ar=t,o.timeoutHandle=fg(zy.bind(null,o,i,Ln,jl,Ef,t,Pn,ii,qi,wr,d,"Throttled",-0,0),u);break e}zy(o,i,Ln,jl,Ef,t,Pn,ii,qi,wr,d,null,-0,0)}}break}while(!0);ja(e)}function zy(e,t,i,o,u,d,g,w,T,U,W,ae,$,P){if(e.timeoutHandle=-1,ae=t.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Va},Oy(t,d,ae);var Me=(d&62914560)===d?Ol-O():(d&4194048)===d?_y-O():0;if(Me=Yx(ae,Me),Me!==null){ar=d,e.cancelPendingCommit=Me(qy.bind(null,e,t,d,i,o,u,g,w,T,W,ae,null,$,P)),kr(e,d,g,!U);return}}qy(e,t,d,i,o,u,g,w,T)}function sx(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var u=i[o],d=u.getSnapshot;u=u.value;try{if(!Vn(d(),u))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kr(e,t,i,o){t&=~xf,t&=~ii,e.suspendedLanes|=t,e.pingedLanes&=~t,o&&(e.warmLanes|=t),o=e.expirationTimes;for(var u=t;0<u;){var d=31-kt(u),g=1<<d;o[d]=-1,u&=~g}i!==0&&hn(e,i,t)}function Al(){return(bt&6)===0?(io(0),!1):!0}function Of(){if(it!==null){if(Ct===0)var e=it.return;else e=it,Fa=Kr=null,Vu(e),zi=null,Hs=0,e=it;for(;e!==null;)dy(e.alternate,e),e=e.return;it=null}}function Gi(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,Tx(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),ar=0,Of(),_t=e,it=i=Ya(e.current,null),ot=t,Ct=0,Fn=null,wr=!1,Vi=At(e,t),Sf=!1,qi=Pn=xf=ii=Sr=Pt=0,Ln=ao=null,Ef=!1,(t&8)!==0&&(t|=t&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=t;0<o;){var u=31-kt(o),d=1<<u;t|=e[u],o&=~d}return nr=t,Qo(),i}function Ly(e,t){We=null,C.H=Xs,t===Ri||t===il?(t=Jp(),Ct=3):t===Au?(t=Jp(),Ct=4):Ct=t===rf?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Fn=t,it===null&&(Pt=1,bl(e,aa(t,e.current)))}function By(){var e=Yn.current;return e===null?!0:(ot&4194048)===ot?oa===null:(ot&62914560)===ot||(ot&536870912)!==0?e===oa:!1}function Uy(){var e=C.H;return C.H=Xs,e===null?Xs:e}function Iy(){var e=C.A;return C.A=rx,e}function _l(){Pt=4,wr||(ot&4194048)!==ot&&Yn.current!==null||(Vi=!0),(Sr&134217727)===0&&(ii&134217727)===0||_t===null||kr(_t,ot,Pn,!1)}function Nf(e,t,i){var o=bt;bt|=2;var u=Uy(),d=Iy();(_t!==e||ot!==t)&&(jl=null,Gi(e,t)),t=!1;var g=Pt;e:do try{if(Ct!==0&&it!==null){var w=it,T=Fn;switch(Ct){case 8:Of(),g=6;break e;case 3:case 2:case 9:case 6:Yn.current===null&&(t=!0);var U=Ct;if(Ct=0,Fn=null,Fi(e,w,T,U),i&&Vi){g=0;break e}break;default:U=Ct,Ct=0,Fn=null,Fi(e,w,T,U)}}ox(),g=Pt;break}catch(W){Ly(e,W)}while(!0);return t&&e.shellSuspendCounter++,Fa=Kr=null,bt=o,C.H=u,C.A=d,it===null&&(_t=null,ot=0,Qo()),g}function ox(){for(;it!==null;)$y(it)}function lx(e,t){var i=bt;bt|=2;var o=Uy(),u=Iy();_t!==e||ot!==t?(jl=null,Nl=O()+500,Gi(e,t)):Vi=At(e,t);e:do try{if(Ct!==0&&it!==null){t=it;var d=Fn;t:switch(Ct){case 1:Ct=0,Fn=null,Fi(e,t,d,1);break;case 2:case 9:if(Kp(d)){Ct=0,Fn=null,Hy(t);break}t=function(){Ct!==2&&Ct!==9||_t!==e||(Ct=7),ja(e)},d.then(t,t);break e;case 3:Ct=7;break e;case 4:Ct=5;break e;case 7:Kp(d)?(Ct=0,Fn=null,Hy(t)):(Ct=0,Fn=null,Fi(e,t,d,7));break;case 5:var g=null;switch(it.tag){case 26:g=it.memoizedState;case 5:case 27:var w=it;if(g?Tg(g):w.stateNode.complete){Ct=0,Fn=null;var T=w.sibling;if(T!==null)it=T;else{var U=w.return;U!==null?(it=U,Dl(U)):it=null}break t}}Ct=0,Fn=null,Fi(e,t,d,5);break;case 6:Ct=0,Fn=null,Fi(e,t,d,6);break;case 8:Of(),Pt=6;break e;default:throw Error(s(462))}}cx();break}catch(W){Ly(e,W)}while(!0);return Fa=Kr=null,C.H=o,C.A=u,bt=i,it!==null?0:(_t=null,ot=0,Qo(),Pt)}function cx(){for(;it!==null&&!Se();)$y(it)}function $y(e){var t=uy(e.alternate,e,nr);e.memoizedProps=e.pendingProps,t===null?Dl(e):it=t}function Hy(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=ry(i,t,t.pendingProps,t.type,void 0,ot);break;case 11:t=ry(i,t,t.pendingProps,t.type.render,t.ref,ot);break;case 5:Vu(t);default:dy(i,t),t=it=Ip(t,nr),t=uy(i,t,nr)}e.memoizedProps=e.pendingProps,t===null?Dl(e):it=t}function Fi(e,t,i,o){Fa=Kr=null,Vu(t),zi=null,Hs=0;var u=t.return;try{if(QS(e,u,t,i,ot)){Pt=1,bl(e,aa(i,e.current)),it=null;return}}catch(d){if(u!==null)throw it=u,d;Pt=1,bl(e,aa(i,e.current)),it=null;return}t.flags&32768?(dt||o===1?e=!0:Vi||(ot&536870912)!==0?e=!1:(wr=e=!0,(o===2||o===9||o===3||o===6)&&(o=Yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Vy(t,e)):Dl(t)}function Dl(e){var t=e;do{if((t.flags&32768)!==0){Vy(t,wr);return}e=t.return;var i=ex(t.alternate,t,nr);if(i!==null){it=i;return}if(t=t.sibling,t!==null){it=t;return}it=t=e}while(t!==null);Pt===0&&(Pt=5)}function Vy(e,t){do{var i=tx(e.alternate,e);if(i!==null){i.flags&=32767,it=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){it=e;return}it=e=i}while(e!==null);Pt=6,it=null}function qy(e,t,i,o,u,d,g,w,T){e.cancelPendingCommit=null;do Ml();while(cn!==0);if((bt&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(d=t.lanes|t.childLanes,d|=mu,pt(e,i,d,g,w,T),e===_t&&(it=_t=null,ot=0),Yi=t,Er=e,ar=i,kf=d,Cf=u,Dy=o,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,hx(Ne,function(){return Zy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||o){o=C.T,C.T=null,u=Y.p,Y.p=2,g=bt,bt|=4;try{nx(e,t,i)}finally{bt=g,Y.p=u,C.T=o}}cn=1,Yy(),Gy(),Fy()}}function Yy(){if(cn===1){cn=0;var e=Er,t=Yi,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=C.T,C.T=null;var o=Y.p;Y.p=2;var u=bt;bt|=4;try{ky(t,e);var d=$f,g=Ap(e.containerInfo),w=d.focusedElem,T=d.selectionRange;if(g!==w&&w&&w.ownerDocument&&jp(w.ownerDocument.documentElement,w)){if(T!==null&&uu(w)){var U=T.start,W=T.end;if(W===void 0&&(W=U),"selectionStart"in w)w.selectionStart=U,w.selectionEnd=Math.min(W,w.value.length);else{var ae=w.ownerDocument||document,$=ae&&ae.defaultView||window;if($.getSelection){var P=$.getSelection(),Me=w.textContent.length,Ye=Math.min(T.start,Me),jt=T.end===void 0?Ye:Math.min(T.end,Me);!P.extend&&Ye>jt&&(g=jt,jt=Ye,Ye=g);var _=Np(w,Ye),j=Np(w,jt);if(_&&j&&(P.rangeCount!==1||P.anchorNode!==_.node||P.anchorOffset!==_.offset||P.focusNode!==j.node||P.focusOffset!==j.offset)){var L=ae.createRange();L.setStart(_.node,_.offset),P.removeAllRanges(),Ye>jt?(P.addRange(L),P.extend(j.node,j.offset)):(L.setEnd(j.node,j.offset),P.addRange(L))}}}}for(ae=[],P=w;P=P.parentNode;)P.nodeType===1&&ae.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ae.length;w++){var ne=ae[w];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Gl=!!If,$f=If=null}finally{bt=u,Y.p=o,C.T=i}}e.current=t,cn=2}}function Gy(){if(cn===2){cn=0;var e=Er,t=Yi,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=C.T,C.T=null;var o=Y.p;Y.p=2;var u=bt;bt|=4;try{by(e,t.alternate,t)}finally{bt=u,Y.p=o,C.T=i}}cn=3}}function Fy(){if(cn===4||cn===3){cn=0,R();var e=Er,t=Yi,i=ar,o=Dy;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?cn=5:(cn=0,Yi=Er=null,Py(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(xr=null),gi(i),t=t.stateNode,Ee&&typeof Ee.onCommitFiberRoot=="function")try{Ee.onCommitFiberRoot(je,t,void 0,(t.current.flags&128)===128)}catch{}if(o!==null){t=C.T,u=Y.p,Y.p=2,C.T=null;try{for(var d=e.onRecoverableError,g=0;g<o.length;g++){var w=o[g];d(w.value,{componentStack:w.stack})}}finally{C.T=t,Y.p=u}}(ar&3)!==0&&Ml(),ja(e),u=e.pendingLanes,(i&261930)!==0&&(u&42)!==0?e===Tf?ro++:(ro=0,Tf=e):ro=0,io(0)}}function Py(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Is(t)))}function Ml(){return Yy(),Gy(),Fy(),Zy()}function Zy(){if(cn!==5)return!1;var e=Er,t=kf;kf=0;var i=gi(ar),o=C.T,u=Y.p;try{Y.p=32>i?32:i,C.T=null,i=Cf,Cf=null;var d=Er,g=ar;if(cn=0,Yi=Er=null,ar=0,(bt&6)!==0)throw Error(s(331));var w=bt;if(bt|=4,jy(d.current),Ty(d,d.current,g,i),bt=w,io(0,!1),Ee&&typeof Ee.onPostCommitFiberRoot=="function")try{Ee.onPostCommitFiberRoot(je,d)}catch{}return!0}finally{Y.p=u,C.T=o,Py(e,t)}}function Xy(e,t,i){t=aa(i,t),t=af(e.stateNode,t,2),e=yr(e,t,2),e!==null&&(ft(e,2),ja(e))}function Tt(e,t,i){if(e.tag===3)Xy(e,e,i);else for(;t!==null;){if(t.tag===3){Xy(t,e,i);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(xr===null||!xr.has(o))){e=aa(i,e),i=Km(2),o=yr(t,i,2),o!==null&&(Qm(i,o,t,e),ft(o,2),ja(o));break}}t=t.return}}function jf(e,t,i){var o=e.pingCache;if(o===null){o=e.pingCache=new ix;var u=new Set;o.set(t,u)}else u=o.get(t),u===void 0&&(u=new Set,o.set(t,u));u.has(i)||(Sf=!0,u.add(i),e=ux.bind(null,e,t,i),t.then(e,e))}function ux(e,t,i){var o=e.pingCache;o!==null&&o.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,_t===e&&(ot&i)===i&&(Pt===4||Pt===3&&(ot&62914560)===ot&&300>O()-Ol?(bt&2)===0&&Gi(e,0):xf|=i,qi===ot&&(qi=0)),ja(e)}function Ky(e,t){t===0&&(t=Ke()),e=Pr(e,t),e!==null&&(ft(e,t),ja(e))}function fx(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Ky(e,i)}function dx(e,t){var i=0;switch(e.tag){case 31:case 13:var o=e.stateNode,u=e.memoizedState;u!==null&&(i=u.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(t),Ky(e,i)}function hx(e,t){return ee(e,t)}var Rl=null,Pi=null,Af=!1,zl=!1,_f=!1,Cr=0;function ja(e){e!==Pi&&e.next===null&&(Pi===null?Rl=Pi=e:Pi=Pi.next=e),zl=!0,Af||(Af=!0,mx())}function io(e,t){if(!_f&&zl){_f=!0;do for(var i=!1,o=Rl;o!==null;){if(e!==0){var u=o.pendingLanes;if(u===0)var d=0;else{var g=o.suspendedLanes,w=o.pingedLanes;d=(1<<31-kt(42|e)+1)-1,d&=u&~(g&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(i=!0,eg(o,d))}else d=ot,d=Re(o,o===_t?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||At(o,d)||(i=!0,eg(o,d));o=o.next}while(i);_f=!1}}function px(){Qy()}function Qy(){zl=Af=!1;var e=0;Cr!==0&&Cx()&&(e=Cr);for(var t=O(),i=null,o=Rl;o!==null;){var u=o.next,d=Jy(o,t);d===0?(o.next=null,i===null?Rl=u:i.next=u,u===null&&(Pi=i)):(i=o,(e!==0||(d&3)!==0)&&(zl=!0)),o=u}cn!==0&&cn!==5||io(e),Cr!==0&&(Cr=0)}function Jy(e,t){for(var i=e.suspendedLanes,o=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var g=31-kt(d),w=1<<g,T=u[g];T===-1?((w&i)===0||(w&o)!==0)&&(u[g]=Wn(w,t)):T<=t&&(e.expiredLanes|=w),d&=~w}if(t=_t,i=ot,i=Re(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,i===0||e===t&&(Ct===2||Ct===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Te(o),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||At(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(o!==null&&Te(o),gi(i)){case 2:case 8:i=ye;break;case 32:i=Ne;break;case 268435456:i=Ze;break;default:i=Ne}return o=Wy.bind(null,e),i=ee(i,o),e.callbackPriority=t,e.callbackNode=i,t}return o!==null&&o!==null&&Te(o),e.callbackPriority=2,e.callbackNode=null,2}function Wy(e,t){if(cn!==0&&cn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Ml()&&e.callbackNode!==i)return null;var o=ot;return o=Re(e,e===_t?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ry(e,o,t),Jy(e,O()),e.callbackNode!=null&&e.callbackNode===i?Wy.bind(null,e):null)}function eg(e,t){if(Ml())return null;Ry(e,t,!0)}function mx(){Ox(function(){(bt&6)!==0?ee(he,px):Qy()})}function Df(){if(Cr===0){var e=Di;e===0&&(e=A,A<<=1,(A&261888)===0&&(A=256)),Cr=e}return Cr}function tg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:qo(""+e)}function ng(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function yx(e,t,i,o,u){if(t==="submit"&&i&&i.stateNode===u){var d=tg((u[pn]||null).action),g=o.submitter;g&&(t=(t=g[pn]||null)?tg(t.formAction):g.getAttribute("formAction"),t!==null&&(d=t,g=null));var w=new Po("action","action",null,o,u);e.push({event:w,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Cr!==0){var T=g?ng(u,g):new FormData(u);Qu(i,{pending:!0,data:T,method:u.method,action:d},null,T)}}else typeof d=="function"&&(w.preventDefault(),T=g?ng(u,g):new FormData(u),Qu(i,{pending:!0,data:T,method:u.method,action:d},d,T))},currentTarget:u}]})}}for(var Mf=0;Mf<pu.length;Mf++){var Rf=pu[Mf],gx=Rf.toLowerCase(),vx=Rf[0].toUpperCase()+Rf.slice(1);ma(gx,"on"+vx)}ma(Mp,"onAnimationEnd"),ma(Rp,"onAnimationIteration"),ma(zp,"onAnimationStart"),ma("dblclick","onDoubleClick"),ma("focusin","onFocus"),ma("focusout","onBlur"),ma(RS,"onTransitionRun"),ma(zS,"onTransitionStart"),ma(LS,"onTransitionCancel"),ma(Lp,"onTransitionEnd"),It("onMouseEnter",["mouseout","mouseover"]),It("onMouseLeave",["mouseout","mouseover"]),It("onPointerEnter",["pointerout","pointerover"]),It("onPointerLeave",["pointerout","pointerover"]),Vt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var so="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(so));function ag(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],u=o.event;o=o.listeners;e:{var d=void 0;if(t)for(var g=o.length-1;0<=g;g--){var w=o[g],T=w.instance,U=w.currentTarget;if(w=w.listener,T!==d&&u.isPropagationStopped())break e;d=w,u.currentTarget=U;try{d(u)}catch(W){Ko(W)}u.currentTarget=null,d=T}else for(g=0;g<o.length;g++){if(w=o[g],T=w.instance,U=w.currentTarget,w=w.listener,T!==d&&u.isPropagationStopped())break e;d=w,u.currentTarget=U;try{d(u)}catch(W){Ko(W)}u.currentTarget=null,d=T}}}}function st(e,t){var i=t[Ua];i===void 0&&(i=t[Ua]=new Set);var o=e+"__bubble";i.has(o)||(rg(t,e,2,!1),i.add(o))}function zf(e,t,i){var o=0;t&&(o|=4),rg(i,e,o,t)}var Ll="_reactListening"+Math.random().toString(36).slice(2);function Lf(e){if(!e[Ll]){e[Ll]=!0,Ut.forEach(function(i){i!=="selectionchange"&&(bx.has(i)||zf(i,!1,e),zf(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ll]||(t[Ll]=!0,zf("selectionchange",!1,t))}}function rg(e,t,i,o){switch(Mg(t)){case 2:var u=Px;break;case 8:u=Zx;break;default:u=Qf}i=u.bind(null,t,i,e),u=void 0,!tu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),o?u!==void 0?e.addEventListener(t,i,{capture:!0,passive:u}):e.addEventListener(t,i,!0):u!==void 0?e.addEventListener(t,i,{passive:u}):e.addEventListener(t,i,!1)}function Bf(e,t,i,o,u){var d=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var w=o.stateNode.containerInfo;if(w===u)break;if(g===4)for(g=o.return;g!==null;){var T=g.tag;if((T===3||T===4)&&g.stateNode.containerInfo===u)return;g=g.return}for(;w!==null;){if(g=ie(w),g===null)return;if(T=g.tag,T===5||T===6||T===26||T===27){o=d=g;continue e}w=w.parentNode}}o=o.return}cp(function(){var U=d,W=Wc(i),ae=[];e:{var $=Bp.get(e);if($!==void 0){var P=Po,Me=e;switch(e){case"keypress":if(Go(i)===0)break e;case"keydown":case"keyup":P=dS;break;case"focusin":Me="focus",P=iu;break;case"focusout":Me="blur",P=iu;break;case"beforeblur":case"afterblur":P=iu;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=dp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=eS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=mS;break;case Mp:case Rp:case zp:P=aS;break;case Lp:P=gS;break;case"scroll":case"scrollend":P=Jw;break;case"wheel":P=bS;break;case"copy":case"cut":case"paste":P=iS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=pp;break;case"toggle":case"beforetoggle":P=SS}var Ye=(t&4)!==0,jt=!Ye&&(e==="scroll"||e==="scrollend"),_=Ye?$!==null?$+"Capture":null:$;Ye=[];for(var j=U,L;j!==null;){var ne=j;if(L=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||L===null||_===null||(ne=Ns(j,_),ne!=null&&Ye.push(oo(j,ne,L))),jt)break;j=j.return}0<Ye.length&&($=new P($,Me,null,i,W),ae.push({event:$,listeners:Ye}))}}if((t&7)===0){e:{if($=e==="mouseover"||e==="pointerover",P=e==="mouseout"||e==="pointerout",$&&i!==Jc&&(Me=i.relatedTarget||i.fromElement)&&(ie(Me)||Me[Nn]))break e;if((P||$)&&($=W.window===W?W:($=W.ownerDocument)?$.defaultView||$.parentWindow:window,P?(Me=i.relatedTarget||i.toElement,P=U,Me=Me?ie(Me):null,Me!==null&&(jt=c(Me),Ye=Me.tag,Me!==jt||Ye!==5&&Ye!==27&&Ye!==6)&&(Me=null)):(P=null,Me=U),P!==Me)){if(Ye=dp,ne="onMouseLeave",_="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(Ye=pp,ne="onPointerLeave",_="onPointerEnter",j="pointer"),jt=P==null?$:me(P),L=Me==null?$:me(Me),$=new Ye(ne,j+"leave",P,i,W),$.target=jt,$.relatedTarget=L,ne=null,ie(W)===U&&(Ye=new Ye(_,j+"enter",Me,i,W),Ye.target=L,Ye.relatedTarget=jt,ne=Ye),jt=ne,P&&Me)t:{for(Ye=wx,_=P,j=Me,L=0,ne=_;ne;ne=Ye(ne))L++;ne=0;for(var He=j;He;He=Ye(He))ne++;for(;0<L-ne;)_=Ye(_),L--;for(;0<ne-L;)j=Ye(j),ne--;for(;L--;){if(_===j||j!==null&&_===j.alternate){Ye=_;break t}_=Ye(_),j=Ye(j)}Ye=null}else Ye=null;P!==null&&ig(ae,$,P,Ye,!1),Me!==null&&jt!==null&&ig(ae,jt,Me,Ye,!0)}}e:{if($=U?me(U):window,P=$.nodeName&&$.nodeName.toLowerCase(),P==="select"||P==="input"&&$.type==="file")var gt=xp;else if(wp($))if(Ep)gt=_S;else{gt=jS;var Le=NS}else P=$.nodeName,!P||P.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?U&&Qc(U.elementType)&&(gt=xp):gt=AS;if(gt&&(gt=gt(e,U))){Sp(ae,gt,i,W);break e}Le&&Le(e,$,U),e==="focusout"&&U&&$.type==="number"&&U.memoizedProps.value!=null&&Kc($,"number",$.value)}switch(Le=U?me(U):window,e){case"focusin":(wp(Le)||Le.contentEditable==="true")&&(ki=Le,fu=U,Ls=null);break;case"focusout":Ls=fu=ki=null;break;case"mousedown":du=!0;break;case"contextmenu":case"mouseup":case"dragend":du=!1,_p(ae,i,W);break;case"selectionchange":if(MS)break;case"keydown":case"keyup":_p(ae,i,W)}var tt;if(ou)e:{switch(e){case"compositionstart":var lt="onCompositionStart";break e;case"compositionend":lt="onCompositionEnd";break e;case"compositionupdate":lt="onCompositionUpdate";break e}lt=void 0}else Ei?vp(e,i)&&(lt="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(lt="onCompositionStart");lt&&(mp&&i.locale!=="ko"&&(Ei||lt!=="onCompositionStart"?lt==="onCompositionEnd"&&Ei&&(tt=up()):(cr=W,nu="value"in cr?cr.value:cr.textContent,Ei=!0)),Le=Bl(U,lt),0<Le.length&&(lt=new hp(lt,e,null,i,W),ae.push({event:lt,listeners:Le}),tt?lt.data=tt:(tt=bp(i),tt!==null&&(lt.data=tt)))),(tt=ES?kS(e,i):CS(e,i))&&(lt=Bl(U,"onBeforeInput"),0<lt.length&&(Le=new hp("onBeforeInput","beforeinput",null,i,W),ae.push({event:Le,listeners:lt}),Le.data=tt)),yx(ae,e,U,i,W)}ag(ae,t)})}function oo(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Bl(e,t){for(var i=t+"Capture",o=[];e!==null;){var u=e,d=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||d===null||(u=Ns(e,i),u!=null&&o.unshift(oo(e,u,d)),u=Ns(e,t),u!=null&&o.push(oo(e,u,d))),e.tag===3)return o;e=e.return}return[]}function wx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ig(e,t,i,o,u){for(var d=t._reactName,g=[];i!==null&&i!==o;){var w=i,T=w.alternate,U=w.stateNode;if(w=w.tag,T!==null&&T===o)break;w!==5&&w!==26&&w!==27||U===null||(T=U,u?(U=Ns(i,d),U!=null&&g.unshift(oo(i,U,T))):u||(U=Ns(i,d),U!=null&&g.push(oo(i,U,T)))),i=i.return}g.length!==0&&e.push({event:t,listeners:g})}var Sx=/\r\n?/g,xx=/\u0000|\uFFFD/g;function sg(e){return(typeof e=="string"?e:""+e).replace(Sx,`
`).replace(xx,"")}function og(e,t){return t=sg(t),sg(e)===t}function Nt(e,t,i,o,u,d){switch(i){case"children":typeof o=="string"?t==="body"||t==="textarea"&&o===""||wi(e,o):(typeof o=="number"||typeof o=="bigint")&&t!=="body"&&wi(e,""+o);break;case"className":qr(e,"class",o);break;case"tabIndex":qr(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":qr(e,i,o);break;case"style":op(e,o,d);break;case"data":if(t!=="object"){qr(e,"data",o);break}case"src":case"href":if(o===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=qo(""+o),e.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(i==="formAction"?(t!=="input"&&Nt(e,t,"name",u.name,u,null),Nt(e,t,"formEncType",u.formEncType,u,null),Nt(e,t,"formMethod",u.formMethod,u,null),Nt(e,t,"formTarget",u.formTarget,u,null)):(Nt(e,t,"encType",u.encType,u,null),Nt(e,t,"method",u.method,u,null),Nt(e,t,"target",u.target,u,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=qo(""+o),e.setAttribute(i,o);break;case"onClick":o!=null&&(e.onclick=Va);break;case"onScroll":o!=null&&st("scroll",e);break;case"onScrollEnd":o!=null&&st("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(i=o.__html,i!=null){if(u.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}i=qo(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""+o):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":o===!0?e.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,o):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(i,o):e.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(i):e.setAttribute(i,o);break;case"popover":st("beforetoggle",e),st("toggle",e),vi(e,"popover",o);break;case"xlinkActuate":ea(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ea(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ea(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ea(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ea(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ea(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ea(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ea(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ea(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":vi(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Kw.get(i)||i,vi(e,i,o))}}function Uf(e,t,i,o,u,d){switch(i){case"style":op(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(i=o.__html,i!=null){if(u.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"children":typeof o=="string"?wi(e,o):(typeof o=="number"||typeof o=="bigint")&&wi(e,""+o);break;case"onScroll":o!=null&&st("scroll",e);break;case"onScrollEnd":o!=null&&st("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Va);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jt.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(u=i.endsWith("Capture"),t=i.slice(2,u?i.length-7:void 0),d=e[pn]||null,d=d!=null?d[i]:null,typeof d=="function"&&e.removeEventListener(t,d,u),typeof o=="function")){typeof d!="function"&&d!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,o,u);break e}i in e?e[i]=o:o===!0?e.setAttribute(i,""):vi(e,i,o)}}}function vn(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":st("error",e),st("load",e);var o=!1,u=!1,d;for(d in i)if(i.hasOwnProperty(d)){var g=i[d];if(g!=null)switch(d){case"src":o=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Nt(e,t,d,g,i,null)}}u&&Nt(e,t,"srcSet",i.srcSet,i,null),o&&Nt(e,t,"src",i.src,i,null);return;case"input":st("invalid",e);var w=d=g=u=null,T=null,U=null;for(o in i)if(i.hasOwnProperty(o)){var W=i[o];if(W!=null)switch(o){case"name":u=W;break;case"type":g=W;break;case"checked":T=W;break;case"defaultChecked":U=W;break;case"value":d=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,t));break;default:Nt(e,t,o,W,i,null)}}ap(e,d,w,T,U,g,u,!1);return;case"select":st("invalid",e),o=g=d=null;for(u in i)if(i.hasOwnProperty(u)&&(w=i[u],w!=null))switch(u){case"value":d=w;break;case"defaultValue":g=w;break;case"multiple":o=w;default:Nt(e,t,u,w,i,null)}t=d,i=g,e.multiple=!!o,t!=null?bi(e,!!o,t,!1):i!=null&&bi(e,!!o,i,!0);return;case"textarea":st("invalid",e),d=u=o=null;for(g in i)if(i.hasOwnProperty(g)&&(w=i[g],w!=null))switch(g){case"value":o=w;break;case"defaultValue":u=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Nt(e,t,g,w,i,null)}ip(e,o,u,d);return;case"option":for(T in i)if(i.hasOwnProperty(T)&&(o=i[T],o!=null))switch(T){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Nt(e,t,T,o,i,null)}return;case"dialog":st("beforetoggle",e),st("toggle",e),st("cancel",e),st("close",e);break;case"iframe":case"object":st("load",e);break;case"video":case"audio":for(o=0;o<so.length;o++)st(so[o],e);break;case"image":st("error",e),st("load",e);break;case"details":st("toggle",e);break;case"embed":case"source":case"link":st("error",e),st("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in i)if(i.hasOwnProperty(U)&&(o=i[U],o!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Nt(e,t,U,o,i,null)}return;default:if(Qc(t)){for(W in i)i.hasOwnProperty(W)&&(o=i[W],o!==void 0&&Uf(e,t,W,o,i,void 0));return}}for(w in i)i.hasOwnProperty(w)&&(o=i[w],o!=null&&Nt(e,t,w,o,i,null))}function Ex(e,t,i,o){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,d=null,g=null,w=null,T=null,U=null,W=null;for(P in i){var ae=i[P];if(i.hasOwnProperty(P)&&ae!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":T=ae;default:o.hasOwnProperty(P)||Nt(e,t,P,null,o,ae)}}for(var $ in o){var P=o[$];if(ae=i[$],o.hasOwnProperty($)&&(P!=null||ae!=null))switch($){case"type":d=P;break;case"name":u=P;break;case"checked":U=P;break;case"defaultChecked":W=P;break;case"value":g=P;break;case"defaultValue":w=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,t));break;default:P!==ae&&Nt(e,t,$,P,o,ae)}}Xc(e,g,w,T,U,W,d,u);return;case"select":P=g=w=$=null;for(d in i)if(T=i[d],i.hasOwnProperty(d)&&T!=null)switch(d){case"value":break;case"multiple":P=T;default:o.hasOwnProperty(d)||Nt(e,t,d,null,o,T)}for(u in o)if(d=o[u],T=i[u],o.hasOwnProperty(u)&&(d!=null||T!=null))switch(u){case"value":$=d;break;case"defaultValue":w=d;break;case"multiple":g=d;default:d!==T&&Nt(e,t,u,d,o,T)}t=w,i=g,o=P,$!=null?bi(e,!!i,$,!1):!!o!=!!i&&(t!=null?bi(e,!!i,t,!0):bi(e,!!i,i?[]:"",!1));return;case"textarea":P=$=null;for(w in i)if(u=i[w],i.hasOwnProperty(w)&&u!=null&&!o.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Nt(e,t,w,null,o,u)}for(g in o)if(u=o[g],d=i[g],o.hasOwnProperty(g)&&(u!=null||d!=null))switch(g){case"value":$=u;break;case"defaultValue":P=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(s(91));break;default:u!==d&&Nt(e,t,g,u,o,d)}rp(e,$,P);return;case"option":for(var Me in i)if($=i[Me],i.hasOwnProperty(Me)&&$!=null&&!o.hasOwnProperty(Me))switch(Me){case"selected":e.selected=!1;break;default:Nt(e,t,Me,null,o,$)}for(T in o)if($=o[T],P=i[T],o.hasOwnProperty(T)&&$!==P&&($!=null||P!=null))switch(T){case"selected":e.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Nt(e,t,T,$,o,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ye in i)$=i[Ye],i.hasOwnProperty(Ye)&&$!=null&&!o.hasOwnProperty(Ye)&&Nt(e,t,Ye,null,o,$);for(U in o)if($=o[U],P=i[U],o.hasOwnProperty(U)&&$!==P&&($!=null||P!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,t));break;default:Nt(e,t,U,$,o,P)}return;default:if(Qc(t)){for(var jt in i)$=i[jt],i.hasOwnProperty(jt)&&$!==void 0&&!o.hasOwnProperty(jt)&&Uf(e,t,jt,void 0,o,$);for(W in o)$=o[W],P=i[W],!o.hasOwnProperty(W)||$===P||$===void 0&&P===void 0||Uf(e,t,W,$,o,P);return}}for(var _ in i)$=i[_],i.hasOwnProperty(_)&&$!=null&&!o.hasOwnProperty(_)&&Nt(e,t,_,null,o,$);for(ae in o)$=o[ae],P=i[ae],!o.hasOwnProperty(ae)||$===P||$==null&&P==null||Nt(e,t,ae,$,o,P)}function lg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),o=0;o<i.length;o++){var u=i[o],d=u.transferSize,g=u.initiatorType,w=u.duration;if(d&&w&&lg(g)){for(g=0,w=u.responseEnd,o+=1;o<i.length;o++){var T=i[o],U=T.startTime;if(U>w)break;var W=T.transferSize,ae=T.initiatorType;W&&lg(ae)&&(T=T.responseEnd,g+=W*(T<w?1:(w-U)/(T-U)))}if(--o,t+=8*(d+g)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var If=null,$f=null;function Ul(e){return e.nodeType===9?e:e.ownerDocument}function cg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ug(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Hf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vf=null;function Cx(){var e=window.event;return e&&e.type==="popstate"?e===Vf?!1:(Vf=e,!0):(Vf=null,!1)}var fg=typeof setTimeout=="function"?setTimeout:void 0,Tx=typeof clearTimeout=="function"?clearTimeout:void 0,dg=typeof Promise=="function"?Promise:void 0,Ox=typeof queueMicrotask=="function"?queueMicrotask:typeof dg<"u"?function(e){return dg.resolve(null).then(e).catch(Nx)}:fg;function Nx(e){setTimeout(function(){throw e})}function Tr(e){return e==="head"}function hg(e,t){var i=t,o=0;do{var u=i.nextSibling;if(e.removeChild(i),u&&u.nodeType===8)if(i=u.data,i==="/$"||i==="/&"){if(o===0){e.removeChild(u),Qi(t);return}o--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")o++;else if(i==="html")lo(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,lo(i);for(var d=i.firstChild;d;){var g=d.nextSibling,w=d.nodeName;d[$a]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||i.removeChild(d),d=g}}else i==="body"&&lo(e.ownerDocument.body);i=u}while(i);Qi(t)}function pg(e,t){var i=e;e=0;do{var o=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=o}while(i)}function qf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":qf(i),K(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function jx(e,t,i,o){for(;e.nodeType===1;){var u=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[$a])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=la(e.nextSibling),e===null)break}return null}function Ax(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=la(e.nextSibling),e===null))return null;return e}function mg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=la(e.nextSibling),e===null))return null;return e}function Yf(e){return e.data==="$?"||e.data==="$~"}function Gf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function _x(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var o=function(){t(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function la(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ff=null;function yg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return la(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function gg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function vg(e,t,i){switch(t=Ul(i),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function lo(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);K(e)}var ca=new Map,bg=new Set;function Il(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var rr=Y.d;Y.d={f:Dx,r:Mx,D:Rx,C:zx,L:Lx,m:Bx,X:Ix,S:Ux,M:$x};function Dx(){var e=rr.f(),t=Al();return e||t}function Mx(e){var t=fe(e);t!==null&&t.tag===5&&t.type==="form"?Lm(t):rr.r(e)}var Zi=typeof document>"u"?null:document;function wg(e,t,i){var o=Zi;if(o&&typeof t=="string"&&t){var u=ta(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof i=="string"&&(u+='[crossorigin="'+i+'"]'),bg.has(u)||(bg.add(u),e={rel:e,crossOrigin:i,href:t},o.querySelector(u)===null&&(t=o.createElement("link"),vn(t,"link",e),Ie(t),o.head.appendChild(t)))}}function Rx(e){rr.D(e),wg("dns-prefetch",e,null)}function zx(e,t){rr.C(e,t),wg("preconnect",e,t)}function Lx(e,t,i){rr.L(e,t,i);var o=Zi;if(o&&e&&t){var u='link[rel="preload"][as="'+ta(t)+'"]';t==="image"&&i&&i.imageSrcSet?(u+='[imagesrcset="'+ta(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(u+='[imagesizes="'+ta(i.imageSizes)+'"]')):u+='[href="'+ta(e)+'"]';var d=u;switch(t){case"style":d=Xi(e);break;case"script":d=Ki(e)}ca.has(d)||(e=b({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),ca.set(d,e),o.querySelector(u)!==null||t==="style"&&o.querySelector(co(d))||t==="script"&&o.querySelector(uo(d))||(t=o.createElement("link"),vn(t,"link",e),Ie(t),o.head.appendChild(t)))}}function Bx(e,t){rr.m(e,t);var i=Zi;if(i&&e){var o=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+ta(o)+'"][href="'+ta(e)+'"]',d=u;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ki(e)}if(!ca.has(d)&&(e=b({rel:"modulepreload",href:e},t),ca.set(d,e),i.querySelector(u)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(uo(d)))return}o=i.createElement("link"),vn(o,"link",e),Ie(o),i.head.appendChild(o)}}}function Ux(e,t,i){rr.S(e,t,i);var o=Zi;if(o&&e){var u=De(o).hoistableStyles,d=Xi(e);t=t||"default";var g=u.get(d);if(!g){var w={loading:0,preload:null};if(g=o.querySelector(co(d)))w.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},i),(i=ca.get(d))&&Pf(e,i);var T=g=o.createElement("link");Ie(T),vn(T,"link",e),T._p=new Promise(function(U,W){T.onload=U,T.onerror=W}),T.addEventListener("load",function(){w.loading|=1}),T.addEventListener("error",function(){w.loading|=2}),w.loading|=4,$l(g,t,o)}g={type:"stylesheet",instance:g,count:1,state:w},u.set(d,g)}}}function Ix(e,t){rr.X(e,t);var i=Zi;if(i&&e){var o=De(i).hoistableScripts,u=Ki(e),d=o.get(u);d||(d=i.querySelector(uo(u)),d||(e=b({src:e,async:!0},t),(t=ca.get(u))&&Zf(e,t),d=i.createElement("script"),Ie(d),vn(d,"link",e),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(u,d))}}function $x(e,t){rr.M(e,t);var i=Zi;if(i&&e){var o=De(i).hoistableScripts,u=Ki(e),d=o.get(u);d||(d=i.querySelector(uo(u)),d||(e=b({src:e,async:!0,type:"module"},t),(t=ca.get(u))&&Zf(e,t),d=i.createElement("script"),Ie(d),vn(d,"link",e),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(u,d))}}function Sg(e,t,i,o){var u=(u=Oe.current)?Il(u):null;if(!u)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Xi(i.href),i=De(u).hoistableStyles,o=i.get(t),o||(o={type:"style",instance:null,count:0,state:null},i.set(t,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Xi(i.href);var d=De(u).hoistableStyles,g=d.get(e);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,g),(d=u.querySelector(co(e)))&&!d._p&&(g.instance=d,g.state.loading=5),ca.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},ca.set(e,i),d||Hx(u,e,i,g.state))),t&&o===null)throw Error(s(528,""));return g}if(t&&o!==null)throw Error(s(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ki(i),i=De(u).hoistableScripts,o=i.get(t),o||(o={type:"script",instance:null,count:0,state:null},i.set(t,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Xi(e){return'href="'+ta(e)+'"'}function co(e){return'link[rel="stylesheet"]['+e+"]"}function xg(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Hx(e,t,i,o){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?o.loading=1:(t=e.createElement("link"),o.preload=t,t.addEventListener("load",function(){return o.loading|=1}),t.addEventListener("error",function(){return o.loading|=2}),vn(t,"link",i),Ie(t),e.head.appendChild(t))}function Ki(e){return'[src="'+ta(e)+'"]'}function uo(e){return"script[async]"+e}function Eg(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var o=e.querySelector('style[data-href~="'+ta(i.href)+'"]');if(o)return t.instance=o,Ie(o),o;var u=b({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ie(o),vn(o,"style",u),$l(o,i.precedence,e),t.instance=o;case"stylesheet":u=Xi(i.href);var d=e.querySelector(co(u));if(d)return t.state.loading|=4,t.instance=d,Ie(d),d;o=xg(i),(u=ca.get(u))&&Pf(o,u),d=(e.ownerDocument||e).createElement("link"),Ie(d);var g=d;return g._p=new Promise(function(w,T){g.onload=w,g.onerror=T}),vn(d,"link",o),t.state.loading|=4,$l(d,i.precedence,e),t.instance=d;case"script":return d=Ki(i.src),(u=e.querySelector(uo(d)))?(t.instance=u,Ie(u),u):(o=i,(u=ca.get(d))&&(o=b({},i),Zf(o,u)),e=e.ownerDocument||e,u=e.createElement("script"),Ie(u),vn(u,"link",o),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(o=t.instance,t.state.loading|=4,$l(o,i.precedence,e));return t.instance}function $l(e,t,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=o.length?o[o.length-1]:null,d=u,g=0;g<o.length;g++){var w=o[g];if(w.dataset.precedence===t)d=w;else if(d!==u)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Pf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Zf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Hl=null;function kg(e,t,i){if(Hl===null){var o=new Map,u=Hl=new Map;u.set(i,o)}else u=Hl,o=u.get(i),o||(o=new Map,u.set(i,o));if(o.has(e))return o;for(o.set(e,null),i=i.getElementsByTagName(e),u=0;u<i.length;u++){var d=i[u];if(!(d[$a]||d[ln]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(t)||"";g=e+g;var w=o.get(g);w?w.push(d):o.set(g,[d])}}return o}function Cg(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function Vx(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Tg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function qx(e,t,i,o){if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var u=Xi(o.href),d=t.querySelector(co(u));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Vl.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=d,Ie(d);return}d=t.ownerDocument||t,o=xg(o),(u=ca.get(u))&&Pf(o,u),d=d.createElement("link"),Ie(d);var g=d;g._p=new Promise(function(w,T){g.onload=w,g.onerror=T}),vn(d,"link",o),i.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Vl.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var Xf=0;function Yx(e,t){return e.stylesheets&&e.count===0&&Yl(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var o=setTimeout(function(){if(e.stylesheets&&Yl(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&Xf===0&&(Xf=62500*kx());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Yl(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Xf?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(u)}}:null}function Vl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ql=null;function Yl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ql=new Map,t.forEach(Gx,e),ql=null,Vl.call(e))}function Gx(e,t){if(!(t.state.loading&4)){var i=ql.get(e);if(i)var o=i.get(null);else{i=new Map,ql.set(e,i);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<u.length;d++){var g=u[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(i.set(g.dataset.precedence,g),o=g)}o&&i.set(null,o)}u=t.instance,g=u.getAttribute("data-precedence"),d=i.get(g)||o,d===o&&i.set(null,u),i.set(g,u),this.count++,o=Vl.bind(this),u.addEventListener("load",o),u.addEventListener("error",o),d?d.parentNode.insertBefore(u,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var fo={$$typeof:z,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function Fx(e,t,i,o,u,d,g,w,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rt(0),this.hiddenUpdates=rt(null),this.identifierPrefix=o,this.onUncaughtError=u,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Og(e,t,i,o,u,d,g,w,T,U,W,ae){return e=new Fx(e,t,i,g,T,U,W,ae,w),t=1,d===!0&&(t|=24),d=qn(3,null,null,t),e.current=d,d.stateNode=e,t=Ou(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:o,isDehydrated:i,cache:t},_u(d),e}function Ng(e){return e?(e=Oi,e):Oi}function jg(e,t,i,o,u,d){u=Ng(u),o.context===null?o.context=u:o.pendingContext=u,o=mr(t),o.payload={element:i},d=d===void 0?null:d,d!==null&&(o.callback=d),i=yr(e,o,t),i!==null&&(Bn(i,e,t),qs(i,e,t))}function Ag(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Kf(e,t){Ag(e,t),(e=e.alternate)&&Ag(e,t)}function _g(e){if(e.tag===13||e.tag===31){var t=Pr(e,67108864);t!==null&&Bn(t,e,67108864),Kf(e,67108864)}}function Dg(e){if(e.tag===13||e.tag===31){var t=Zn();t=yi(t);var i=Pr(e,t);i!==null&&Bn(i,e,t),Kf(e,t)}}var Gl=!0;function Px(e,t,i,o){var u=C.T;C.T=null;var d=Y.p;try{Y.p=2,Qf(e,t,i,o)}finally{Y.p=d,C.T=u}}function Zx(e,t,i,o){var u=C.T;C.T=null;var d=Y.p;try{Y.p=8,Qf(e,t,i,o)}finally{Y.p=d,C.T=u}}function Qf(e,t,i,o){if(Gl){var u=Jf(o);if(u===null)Bf(e,t,o,Fl,i),Rg(e,o);else if(Kx(u,e,t,i,o))o.stopPropagation();else if(Rg(e,o),t&4&&-1<Xx.indexOf(e)){for(;u!==null;){var d=fe(u);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=be(d.pendingLanes);if(g!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;g;){var T=1<<31-kt(g);w.entanglements[1]|=T,g&=~T}ja(d),(bt&6)===0&&(Nl=O()+500,io(0))}}break;case 31:case 13:w=Pr(d,2),w!==null&&Bn(w,d,2),Al(),Kf(d,2)}if(d=Jf(o),d===null&&Bf(e,t,o,Fl,i),d===u)break;u=d}u!==null&&o.stopPropagation()}else Bf(e,t,o,null,i)}}function Jf(e){return e=Wc(e),Wf(e)}var Fl=null;function Wf(e){if(Fl=null,e=ie(e),e!==null){var t=c(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=f(t),e!==null)return e;e=null}else if(i===31){if(e=h(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Fl=e,null}function Mg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(q()){case he:return 2;case ye:return 8;case Ne:case Ae:return 32;case Ze:return 268435456;default:return 32}default:return 32}}var ed=!1,Or=null,Nr=null,jr=null,ho=new Map,po=new Map,Ar=[],Xx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rg(e,t){switch(e){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":ho.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":po.delete(t.pointerId)}}function mo(e,t,i,o,u,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:i,eventSystemFlags:o,nativeEvent:d,targetContainers:[u]},t!==null&&(t=fe(t),t!==null&&_g(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function Kx(e,t,i,o,u){switch(t){case"focusin":return Or=mo(Or,e,t,i,o,u),!0;case"dragenter":return Nr=mo(Nr,e,t,i,o,u),!0;case"mouseover":return jr=mo(jr,e,t,i,o,u),!0;case"pointerover":var d=u.pointerId;return ho.set(d,mo(ho.get(d)||null,e,t,i,o,u)),!0;case"gotpointercapture":return d=u.pointerId,po.set(d,mo(po.get(d)||null,e,t,i,o,u)),!0}return!1}function zg(e){var t=ie(e.target);if(t!==null){var i=c(t);if(i!==null){if(t=i.tag,t===13){if(t=f(i),t!==null){e.blockedOn=t,Os(e.priority,function(){Dg(i)});return}}else if(t===31){if(t=h(i),t!==null){e.blockedOn=t,Os(e.priority,function(){Dg(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Jf(e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);Jc=o,i.target.dispatchEvent(o),Jc=null}else return t=fe(i),t!==null&&_g(t),e.blockedOn=i,!1;t.shift()}return!0}function Lg(e,t,i){Pl(e)&&i.delete(t)}function Qx(){ed=!1,Or!==null&&Pl(Or)&&(Or=null),Nr!==null&&Pl(Nr)&&(Nr=null),jr!==null&&Pl(jr)&&(jr=null),ho.forEach(Lg),po.forEach(Lg)}function Zl(e,t){e.blockedOn===t&&(e.blockedOn=null,ed||(ed=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Qx)))}var Xl=null;function Bg(e){Xl!==e&&(Xl=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Xl===e&&(Xl=null);for(var t=0;t<e.length;t+=3){var i=e[t],o=e[t+1],u=e[t+2];if(typeof o!="function"){if(Wf(o||i)===null)continue;break}var d=fe(i);d!==null&&(e.splice(t,3),t-=3,Qu(d,{pending:!0,data:u,method:i.method,action:o},o,u))}}))}function Qi(e){function t(T){return Zl(T,e)}Or!==null&&Zl(Or,e),Nr!==null&&Zl(Nr,e),jr!==null&&Zl(jr,e),ho.forEach(t),po.forEach(t);for(var i=0;i<Ar.length;i++){var o=Ar[i];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ar.length&&(i=Ar[0],i.blockedOn===null);)zg(i),i.blockedOn===null&&Ar.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var u=i[o],d=i[o+1],g=u[pn]||null;if(typeof d=="function")g||Bg(i);else if(g){var w=null;if(d&&d.hasAttribute("formAction")){if(u=d,g=d[pn]||null)w=g.formAction;else if(Wf(u)!==null)continue}else w=g.action;typeof w=="function"?i[o+1]=w:(i.splice(o,3),o-=3),Bg(i)}}}function Ug(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(g){return u=g})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),o||setTimeout(i,20)}function i(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function td(e){this._internalRoot=e}Kl.prototype.render=td.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var i=t.current,o=Zn();jg(i,o,e,t,null,null)},Kl.prototype.unmount=td.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jg(e.current,2,null,e,null,null),Al(),t[Nn]=null}};function Kl(e){this._internalRoot=e}Kl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ts();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Ar.length&&t!==0&&t<Ar[i].priority;i++);Ar.splice(i,0,e),i===0&&zg(e)}};var Ig=n.version;if(Ig!=="19.2.0")throw Error(s(527,Ig,"19.2.0"));Y.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var Jx={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:C,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ql=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ql.isDisabled&&Ql.supportsFiber)try{je=Ql.inject(Jx),Ee=Ql}catch{}}return go.createRoot=function(e,t){if(!l(e))throw Error(s(299));var i=!1,o="",u=Fm,d=Pm,g=Zm;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=Og(e,1,!1,null,null,i,o,null,u,d,g,Ug),e[Nn]=t.current,Lf(e),new td(t)},go.hydrateRoot=function(e,t,i){if(!l(e))throw Error(s(299));var o=!1,u="",d=Fm,g=Pm,w=Zm,T=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError),i.formState!==void 0&&(T=i.formState)),t=Og(e,1,!0,t,i??null,o,u,T,d,g,w,Ug),t.context=Ng(null),i=t.current,o=Zn(),o=yi(o),u=mr(o),u.callback=null,yr(i,u,o),i=o,t.current.lanes=i,ft(t,i),ja(t),e[Nn]=t.current,Lf(e),new Kl(t)},go.version="19.2.0",go}var Xg;function lE(){if(Xg)return rd.exports;Xg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),rd.exports=oE(),rd.exports}var ob=lE();const cE="modulepreload",uE=function(a,n){return new URL(a,n).href},Kg={},Qg=function(n,r,s){let l=Promise.resolve();if(r&&r.length>0){let y=function(v){return Promise.all(v.map(b=>Promise.resolve(b).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};const f=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),p=h?.nonce||h?.getAttribute("nonce");l=y(r.map(v=>{if(v=uE(v,s),v in Kg)return;Kg[v]=!0;const b=v.endsWith(".css"),S=b?'[rel="stylesheet"]':"";if(s)for(let N=f.length-1;N>=0;N--){const F=f[N];if(F.href===v&&(!b||F.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${v}"]${S}`))return;const k=document.createElement("link");if(k.rel=b?"stylesheet":cE,b||(k.as="script"),k.crossOrigin="",k.href=v,p&&k.setAttribute("nonce",p),document.head.appendChild(k),b)return new Promise((N,F)=>{k.addEventListener("load",N),k.addEventListener("error",()=>F(new Error(`Unable to preload CSS for ${v}`)))})}))}function c(f){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=f,window.dispatchEvent(h),!h.defaultPrevented)throw f}return l.then(f=>{for(const h of f||[])h.status==="rejected"&&c(h.reason);return n().catch(c)})};var Br=sb();const kh=xh(Br),Jg=ib({__proto__:null,default:kh},[Br]);function Wg(a,n,r,s,l,c,f){try{var h=a[c](f),p=h.value}catch(y){return void r(y)}h.done?n(p):Promise.resolve(p).then(s,l)}function at(a){return function(){var n=this,r=arguments;return new Promise(function(s,l){var c=a.apply(n,r);function f(p){Wg(c,s,l,f,h,"next",p)}function h(p){Wg(c,s,l,f,h,"throw",p)}f(void 0)})}}function ct(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function bn(a){"@babel/helpers - typeof";return bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},bn(a)}function fE(a,n){if(bn(a)!="object"||!a)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var s=r.call(a,n);if(bn(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function lb(a){var n=fE(a,"string");return bn(n)=="symbol"?n:n+""}function dE(a,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(a,lb(s.key),s)}}function ut(a,n,r){return n&&dE(a.prototype,n),Object.defineProperty(a,"prototype",{writable:!1}),a}function hE(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function La(a,n){if(n&&(bn(n)=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hE(a)}function Dt(a){return Dt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dt(a)}function _o(a,n){return _o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},_o(a,n)}function In(a,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(n&&n.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),n&&_o(a,n)}function Be(a,n,r){return(n=lb(n))in a?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r,a}var ld={exports:{}},cd={exports:{}},ev;function cb(){return ev||(ev=1,(function(a){function n(r,s){this.v=r,this.k=s}a.exports=n,a.exports.__esModule=!0,a.exports.default=a.exports})(cd)),cd.exports}var ud={exports:{}},fd={exports:{}},tv;function ub(){return tv||(tv=1,(function(a){function n(r,s,l,c){var f=Object.defineProperty;try{f({},"",{})}catch{f=0}a.exports=n=function(p,y,v,b){function S(k,N){n(p,k,function(F){return this._invoke(k,N,F)})}y?f?f(p,y,{value:v,enumerable:!b,configurable:!b,writable:!b}):p[y]=v:(S("next",0),S("throw",1),S("return",2))},a.exports.__esModule=!0,a.exports.default=a.exports,n(r,s,l,c)}a.exports=n,a.exports.__esModule=!0,a.exports.default=a.exports})(fd)),fd.exports}var nv;function fb(){return nv||(nv=1,(function(a){var n=ub();function r(){var s,l,c=typeof Symbol=="function"?Symbol:{},f=c.iterator||"@@iterator",h=c.toStringTag||"@@toStringTag";function p(I,J,Q,z){var G=J&&J.prototype instanceof v?J:v,de=Object.create(G.prototype);return n(de,"_invoke",(function(ce,H,se){var te,Z,ue,_e=0,ze=se||[],qe=!1,Ge={p:0,n:0,v:s,a:C,f:C.bind(s,4),d:function(le,ve){return te=le,Z=0,ue=s,Ge.n=ve,y}};function C(Y,le){for(Z=Y,ue=le,l=0;!qe&&_e&&!ve&&l<ze.length;l++){var ve,xe=ze[l],E=Ge.p,B=xe[2];Y>3?(ve=B===le)&&(ue=xe[(Z=xe[4])?5:(Z=3,3)],xe[4]=xe[5]=s):xe[0]<=E&&((ve=Y<2&&E<xe[1])?(Z=0,Ge.v=le,Ge.n=xe[1]):E<B&&(ve=Y<3||xe[0]>le||le>B)&&(xe[4]=Y,xe[5]=le,Ge.n=B,Z=0))}if(ve||Y>1)return y;throw qe=!0,le}return function(Y,le,ve){if(_e>1)throw TypeError("Generator is already running");for(qe&&le===1&&C(le,ve),Z=le,ue=ve;(l=Z<2?s:ue)||!qe;){te||(Z?Z<3?(Z>1&&(Ge.n=-1),C(Z,ue)):Ge.n=ue:Ge.v=ue);try{if(_e=2,te){if(Z||(Y="next"),l=te[Y]){if(!(l=l.call(te,ue)))throw TypeError("iterator result is not an object");if(!l.done)return l;ue=l.value,Z<2&&(Z=0)}else Z===1&&(l=te.return)&&l.call(te),Z<2&&(ue=TypeError("The iterator does not provide a '"+Y+"' method"),Z=1);te=s}else if((l=(qe=Ge.n<0)?ue:ce.call(H,Ge))!==y)break}catch(xe){te=s,Z=1,ue=xe}finally{_e=1}}return{value:l,done:qe}}})(I,Q,z),!0),de}var y={};function v(){}function b(){}function S(){}l=Object.getPrototypeOf;var k=[][f]?l(l([][f]())):(n(l={},f,function(){return this}),l),N=S.prototype=v.prototype=Object.create(k);function F(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,S):(I.__proto__=S,n(I,h,"GeneratorFunction")),I.prototype=Object.create(N),I}return b.prototype=S,n(N,"constructor",S),n(S,"constructor",b),b.displayName="GeneratorFunction",n(S,h,"GeneratorFunction"),n(N),n(N,h,"Generator"),n(N,f,function(){return this}),n(N,"toString",function(){return"[object Generator]"}),(a.exports=r=function(){return{w:p,m:F}},a.exports.__esModule=!0,a.exports.default=a.exports)()}a.exports=r,a.exports.__esModule=!0,a.exports.default=a.exports})(ud)),ud.exports}var dd={exports:{}},hd={exports:{}},pd={exports:{}},av;function db(){return av||(av=1,(function(a){var n=cb(),r=ub();function s(l,c){function f(p,y,v,b){try{var S=l[p](y),k=S.value;return k instanceof n?c.resolve(k.v).then(function(N){f("next",N,v,b)},function(N){f("throw",N,v,b)}):c.resolve(k).then(function(N){S.value=N,v(S)},function(N){return f("throw",N,v,b)})}catch(N){b(N)}}var h;this.next||(r(s.prototype),r(s.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),r(this,"_invoke",function(p,y,v){function b(){return new c(function(S,k){f(p,v,S,k)})}return h=h?h.then(b,b):b()},!0)}a.exports=s,a.exports.__esModule=!0,a.exports.default=a.exports})(pd)),pd.exports}var rv;function hb(){return rv||(rv=1,(function(a){var n=fb(),r=db();function s(l,c,f,h,p){return new r(n().w(l,c,f,h),p||Promise)}a.exports=s,a.exports.__esModule=!0,a.exports.default=a.exports})(hd)),hd.exports}var iv;function pE(){return iv||(iv=1,(function(a){var n=hb();function r(s,l,c,f,h){var p=n(s,l,c,f,h);return p.next().then(function(y){return y.done?y.value:p.next()})}a.exports=r,a.exports.__esModule=!0,a.exports.default=a.exports})(dd)),dd.exports}var md={exports:{}},sv;function mE(){return sv||(sv=1,(function(a){function n(r){var s=Object(r),l=[];for(var c in s)l.unshift(c);return function f(){for(;l.length;)if((c=l.pop())in s)return f.value=c,f.done=!1,f;return f.done=!0,f}}a.exports=n,a.exports.__esModule=!0,a.exports.default=a.exports})(md)),md.exports}var yd={exports:{}},gd={exports:{}},ov;function yE(){return ov||(ov=1,(function(a){function n(r){"@babel/helpers - typeof";return a.exports=n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},a.exports.__esModule=!0,a.exports.default=a.exports,n(r)}a.exports=n,a.exports.__esModule=!0,a.exports.default=a.exports})(gd)),gd.exports}var lv;function gE(){return lv||(lv=1,(function(a){var n=yE().default;function r(s){if(s!=null){var l=s[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],c=0;if(l)return l.call(s);if(typeof s.next=="function")return s;if(!isNaN(s.length))return{next:function(){return s&&c>=s.length&&(s=void 0),{value:s&&s[c++],done:!s}}}}throw new TypeError(n(s)+" is not iterable")}a.exports=r,a.exports.__esModule=!0,a.exports.default=a.exports})(yd)),yd.exports}var cv;function vE(){return cv||(cv=1,(function(a){var n=cb(),r=fb(),s=pE(),l=hb(),c=db(),f=mE(),h=gE();function p(){var y=r(),v=y.m(p),b=(Object.getPrototypeOf?Object.getPrototypeOf(v):v.__proto__).constructor;function S(F){var I=typeof F=="function"&&F.constructor;return!!I&&(I===b||(I.displayName||I.name)==="GeneratorFunction")}var k={throw:1,return:2,break:3,continue:3};function N(F){var I,J;return function(Q){I||(I={stop:function(){return J(Q.a,2)},catch:function(){return Q.v},abrupt:function(G,de){return J(Q.a,k[G],de)},delegateYield:function(G,de,ce){return I.resultName=de,J(Q.d,h(G),ce)},finish:function(G){return J(Q.f,G)}},J=function(G,de,ce){Q.p=I.prev,Q.n=I.next;try{return G(de,ce)}finally{I.next=Q.n}}),I.resultName&&(I[I.resultName]=Q.v,I.resultName=void 0),I.sent=Q.v,I.next=Q.n;try{return F.call(this,I)}finally{Q.p=I.prev,Q.n=I.next}}}return(a.exports=p=function(){return{wrap:function(J,Q,z,G){return y.w(N(J),Q,z,G&&G.reverse())},isGeneratorFunction:S,mark:y.m,awrap:function(J,Q){return new n(J,Q)},AsyncIterator:c,async:function(J,Q,z,G,de){return(S(Q)?l:s)(N(J),Q,z,G,de)},keys:f,values:h}},a.exports.__esModule=!0,a.exports.default=a.exports)()}a.exports=p,a.exports.__esModule=!0,a.exports.default=a.exports})(ld)),ld.exports}var vd,uv;function bE(){if(uv)return vd;uv=1;var a=vE()();vd=a;try{regeneratorRuntime=a}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}return vd}var wE=bE();const we=xh(wE);function SE(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=xE(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(y){throw y},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,f=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var y=r.next();return f=y.done,y},e:function(y){h=!0,c=y},f:function(){try{f||r.return==null||r.return()}finally{if(h)throw c}}}}function xE(a,n){if(a){if(typeof a=="string")return fv(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fv(a,n):void 0}}function fv(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function EE(){return{debug:function(n){}}}var pb=(function(){function a(){ct(this,a),Be(this,"pipes",[])}return ut(a,[{key:"addPipe",value:function(r){this.pipes.push(r)}},{key:"emit",value:(function(){var n=at(we.mark(function s(l){var c,f,h,p;return we.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:c=l,f=SE(this.pipes),v.prev=2,f.s();case 4:if((h=f.n()).done){v.next=13;break}return p=h.value,v.next=8,p(c);case 8:if(c=v.sent,!(typeof c>"u")){v.next=11;break}return v.abrupt("return");case 11:v.next=4;break;case 13:v.next=18;break;case 15:v.prev=15,v.t0=v.catch(2),f.e(v.t0);case 18:return v.prev=18,f.f(),v.finish(18);case 21:return v.abrupt("return",c);case 22:case"end":return v.stop()}},s,this,[[2,15,18,21]])}));function r(s){return n.apply(this,arguments)}return r})()}])})(),ms=(function(){function a(n){ct(this,a),Be(this,"signal",new pb),this.name=n}return ut(a,[{key:"addPipe",value:function(r){this.signal.addPipe(r)}},{key:"use",value:function(r){if(!(r instanceof a))throw new Error("cannot use non-Scope instance");return r.setParent(this),this.addPipe(function(s){return r.signal.emit(s)}),EE()}},{key:"setParent",value:function(r){this.parent=r}},{key:"emit",value:function(r){return this.signal.emit(r)}},{key:"hasParent",value:function(){return!!this.parent}},{key:"parentScope",value:function(r){if(!this.parent)throw new Error("cannot find parent");if(r&&this.parent instanceof r)return this.parent;if(r)throw new Error("actual parent is not instance of type");return this.parent}}])})();function dv(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=kE(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(y){throw y},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,f=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var y=r.next();return f=y.done,y},e:function(y){h=!0,c=y},f:function(){try{f||r.return==null||r.return()}finally{if(h)throw c}}}}function kE(a,n){if(a){if(typeof a=="string")return hv(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hv(a,n):void 0}}function hv(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function CE(a,n,r){return n=Dt(n),La(a,mb()?Reflect.construct(n,r||[],Dt(a).constructor):n.apply(a,r))}function mb(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mb=function(){return!!a})()}var $r=(function(a){function n(){var r;return ct(this,n),r=CE(this,n,["NodeEditor"]),Be(r,"nodes",[]),Be(r,"connections",[]),r}return In(n,a),ut(n,[{key:"getNode",value:function(s){return this.nodes.find(function(l){return l.id===s})}},{key:"getNodes",value:function(){return this.nodes.slice()}},{key:"getConnections",value:function(){return this.connections.slice()}},{key:"getConnection",value:function(s){return this.connections.find(function(l){return l.id===s})}},{key:"addNode",value:(function(){var r=at(we.mark(function l(c){return we.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!this.getNode(c.id)){h.next=2;break}throw new Error("node has already been added");case 2:return h.next=4,this.emit({type:"nodecreate",data:c});case 4:if(h.sent){h.next=6;break}return h.abrupt("return",!1);case 6:return this.nodes.push(c),h.next=9,this.emit({type:"nodecreated",data:c});case 9:return h.abrupt("return",!0);case 10:case"end":return h.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"addConnection",value:(function(){var r=at(we.mark(function l(c){return we.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!this.getConnection(c.id)){h.next=2;break}throw new Error("connection has already been added");case 2:return h.next=4,this.emit({type:"connectioncreate",data:c});case 4:if(h.sent){h.next=6;break}return h.abrupt("return",!1);case 6:return this.connections.push(c),h.next=9,this.emit({type:"connectioncreated",data:c});case 9:return h.abrupt("return",!0);case 10:case"end":return h.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"removeNode",value:(function(){var r=at(we.mark(function l(c){var f,h;return we.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(f=this.nodes.find(function(v){return v.id===c}),f){y.next=3;break}throw new Error("cannot find node");case 3:return y.next=5,this.emit({type:"noderemove",data:f});case 5:if(y.sent){y.next=7;break}return y.abrupt("return",!1);case 7:return h=this.nodes.indexOf(f),this.nodes.splice(h,1),y.next=11,this.emit({type:"noderemoved",data:f});case 11:return y.abrupt("return",!0);case 12:case"end":return y.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"removeConnection",value:(function(){var r=at(we.mark(function l(c){var f,h;return we.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(f=this.connections.find(function(v){return v.id===c}),f){y.next=3;break}throw new Error("cannot find connection");case 3:return y.next=5,this.emit({type:"connectionremove",data:f});case 5:if(y.sent){y.next=7;break}return y.abrupt("return",!1);case 7:return h=this.connections.indexOf(f),this.connections.splice(h,1),y.next=11,this.emit({type:"connectionremoved",data:f});case 11:return y.abrupt("return",!0);case 12:case"end":return y.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"clear",value:(function(){var r=at(we.mark(function l(){var c,f,h,p,y,v;return we.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,this.emit({type:"clear"});case 2:if(S.sent){S.next=6;break}return S.next=5,this.emit({type:"clearcancelled"});case 5:return S.abrupt("return",!1);case 6:c=dv(this.connections.slice()),S.prev=7,c.s();case 9:if((f=c.n()).done){S.next=15;break}return h=f.value,S.next=13,this.removeConnection(h.id);case 13:S.next=9;break;case 15:S.next=20;break;case 17:S.prev=17,S.t0=S.catch(7),c.e(S.t0);case 20:return S.prev=20,c.f(),S.finish(20);case 23:p=dv(this.nodes.slice()),S.prev=24,p.s();case 26:if((y=p.n()).done){S.next=32;break}return v=y.value,S.next=30,this.removeNode(v.id);case 30:S.next=26;break;case 32:S.next=37;break;case 34:S.prev=34,S.t1=S.catch(24),p.e(S.t1);case 37:return S.prev=37,p.f(),S.finish(37);case 40:return S.next=42,this.emit({type:"cleared"});case 42:return S.abrupt("return",!0);case 43:case"end":return S.stop()}},l,this,[[7,17,20,23],[24,34,37,40]])}));function s(){return r.apply(this,arguments)}return s})()}])})(ms),bd=globalThis.crypto;function Hr(){if("randomBytes"in bd)return bd.randomBytes(8).toString("hex");var a=bd.getRandomValues(new Uint8Array(8)),n=Array.from(a),r=n.map(function(s){return s.toString(16).padStart(2,"0")});return r.join("")}function Ch(a,n,r){return n=Dt(n),La(a,yb()?Reflect.construct(n,r||[],Dt(a).constructor):n.apply(a,r))}function yb(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yb=function(){return!!a})()}var TE=ut(function a(n){ct(this,a),this.name=n}),Th=ut(function a(n,r,s){ct(this,a),this.socket=n,this.label=r,this.multipleConnections=s,this.id=Hr()}),OE=(function(a){function n(r,s,l){var c;return ct(this,n),c=Ch(this,n,[r,s,l]),Be(c,"control",null),Be(c,"showControl",!0),c.socket=r,c.label=s,c.multipleConnections=l,c}return In(n,a),ut(n,[{key:"addControl",value:function(s){if(this.control)throw new Error("control already added for this input");this.control=s}},{key:"removeControl",value:function(){this.control=null}}])})(Th),NE=(function(a){function n(r,s,l){return ct(this,n),Ch(this,n,[r,s,l!==!1])}return In(n,a),ut(n)})(Th),gb=ut(function a(){ct(this,a),this.id=Hr()}),jE=(function(a){function n(r,s){var l,c;return ct(this,n),c=Ch(this,n),c.type=r,c.options=s,c.id=Hr(),c.readonly=(l=s?.readonly)!==null&&l!==void 0?l:!1,typeof s?.initial<"u"&&(c.value=s.initial),c}return In(n,a),ut(n,[{key:"setValue",value:function(s){var l;this.value=s,(l=this.options)!==null&&l!==void 0&&l.change&&this.options.change(s)}}])})(gb),AE=(function(){function a(n){ct(this,a),Be(this,"inputs",{}),Be(this,"outputs",{}),Be(this,"controls",{}),this.label=n,this.id=Hr()}return ut(a,[{key:"hasInput",value:function(r){return Object.prototype.hasOwnProperty.call(this.inputs,r)}},{key:"addInput",value:function(r,s){if(this.hasInput(r))throw new Error("input with key '".concat(String(r),"' already added"));Object.defineProperty(this.inputs,r,{value:s,enumerable:!0,configurable:!0})}},{key:"removeInput",value:function(r){delete this.inputs[r]}},{key:"hasOutput",value:function(r){return Object.prototype.hasOwnProperty.call(this.outputs,r)}},{key:"addOutput",value:function(r,s){if(this.hasOutput(r))throw new Error("output with key '".concat(String(r),"' already added"));Object.defineProperty(this.outputs,r,{value:s,enumerable:!0,configurable:!0})}},{key:"removeOutput",value:function(r){delete this.outputs[r]}},{key:"hasControl",value:function(r){return Object.prototype.hasOwnProperty.call(this.controls,r)}},{key:"addControl",value:function(r,s){if(this.hasControl(r))throw new Error("control with key '".concat(String(r),"' already added"));Object.defineProperty(this.controls,r,{value:s,enumerable:!0,configurable:!0})}},{key:"removeControl",value:function(r){delete this.controls[r]}}])})(),_E=ut(function a(n,r,s,l){if(ct(this,a),this.sourceOutput=r,this.targetInput=l,!n.outputs[r])throw new Error("source node doesn't have output with a key ".concat(String(r)));if(!s.inputs[l])throw new Error("target node doesn't have input with a key ".concat(String(l)));this.id=Hr(),this.source=n.id,this.target=s.id}),Gt=Object.freeze({__proto__:null,Socket:TE,Port:Th,Input:OE,Output:NE,Control:gb,InputControl:jE,Node:AE,Connection:_E});const DE=Object.freeze(Object.defineProperty({__proto__:null,ClassicPreset:Gt,NodeEditor:$r,Scope:ms,Signal:pb,getUID:Hr},Symbol.toStringTag,{value:"Module"}));function Hd(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function ME(a){if(Array.isArray(a))return Hd(a)}function RE(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function vb(a,n){if(a){if(typeof a=="string")return Hd(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Hd(a,n):void 0}}function zE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ys(a){return ME(a)||RE(a)||vb(a)||zE()}var LE=(function(){function a(n){ct(this,a),this.reordered=n,this.holder=document.createElement("div"),this.holder.style.transformOrigin="0 0"}return ut(a,[{key:"getPointerFrom",value:function(r){var s=this.holder.getBoundingClientRect(),l=s.left,c=s.top,f=r.clientX-l,h=r.clientY-c;return{x:f,y:h}}},{key:"add",value:function(r){this.holder.appendChild(r)}},{key:"reorder",value:(function(){var n=at(we.mark(function s(l,c){return we.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(this.holder.contains(l)){h.next=2;break}throw new Error("content doesn't have 'target' for reordering");case 2:if(!(c!==null&&!this.holder.contains(c))){h.next=4;break}throw new Error("content doesn't have 'next' for reordering");case 4:return this.holder.insertBefore(l,c),h.next=7,this.reordered(l);case 7:case"end":return h.stop()}},s,this)}));function r(s,l){return n.apply(this,arguments)}return r})()},{key:"remove",value:function(r){this.holder.contains(r)&&this.holder.removeChild(r)}}])})();function bb(a,n){var r=function(f){n.move(f)},s=function(f){window.removeEventListener("pointermove",r),window.removeEventListener("pointerup",s),window.removeEventListener("pointercancel",s),n.up(f)},l=function(f){window.addEventListener("pointermove",r),window.addEventListener("pointerup",s),window.addEventListener("pointercancel",s),n.down(f)};return a.addEventListener("pointerdown",l),{destroy:function(){a.removeEventListener("pointerdown",l),window.removeEventListener("pointermove",r),window.removeEventListener("pointerup",s),window.removeEventListener("pointercancel",s)}}}var pv=function(n){return n.length===0?0:Math.min.apply(Math,ys(n))},mv=function(n){return n.length===0?0:Math.max.apply(Math,ys(n))};function wb(a){var n=pv(a.map(function(c){return c.position.x})),r=pv(a.map(function(c){return c.position.y})),s=mv(a.map(function(c){return c.position.x+c.width})),l=mv(a.map(function(c){return c.position.y+c.height}));return{left:n,right:s,top:r,bottom:l,width:Math.abs(n-s),height:Math.abs(r-l),center:{x:(n+s)/2,y:(r+l)/2}}}function yv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function BE(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?yv(Object(r),!0).forEach(function(s){Be(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):yv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}var Oh=(function(){function a(n){var r=this;ct(this,a),Be(this,"down",function(s){r.guards.down(s)&&(s.stopPropagation(),r.pointerStart={x:s.pageX,y:s.pageY},r.startPosition=BE({},r.config.getCurrentPosition()),r.events.start(s))}),Be(this,"move",function(s){if(!(!r.pointerStart||!r.startPosition)&&r.guards.move(s)){s.preventDefault();var l={x:s.pageX-r.pointerStart.x,y:s.pageY-r.pointerStart.y},c=r.config.getZoom(),f=r.startPosition.x+l.x/c,h=r.startPosition.y+l.y/c;r.events.translate(f,h,s)}}),Be(this,"up",function(s){r.pointerStart&&(delete r.pointerStart,r.events.drag(s))}),this.guards=n||{down:function(l){return!(l.pointerType==="mouse"&&l.button!==0)},move:function(){return!0}}}return ut(a,[{key:"initialize",value:function(r,s,l){this.config=s,this.events=l,r.style.touchAction="none",this.pointerListener=bb(r,{down:this.down,move:this.move,up:this.up})}},{key:"destroy",value:function(){this.pointerListener.destroy()}}])})(),Sb=(function(){function a(n){var r=this;ct(this,a),Be(this,"previous",null),Be(this,"pointers",[]),Be(this,"wheel",function(s){s.preventDefault();var l=r.element.getBoundingClientRect(),c=l.left,f=l.top,h=s.deltaY<0,p=h?r.intensity:-r.intensity,y=(c-s.clientX)*p,v=(f-s.clientY)*p;r.onzoom(p,y,v,"wheel")}),Be(this,"down",function(s){r.pointers.push(s)}),Be(this,"move",function(s){if(r.pointers=r.pointers.map(function(N){return N.pointerId===s.pointerId?s:N}),!!r.isTranslating()){var l=r.element.getBoundingClientRect(),c=l.left,f=l.top,h=r.getTouches(),p=h.cx,y=h.cy,v=h.distance;if(r.previous!==null&&r.previous.distance>0){var b=v/r.previous.distance-1,S=(c-p)*b,k=(f-y)*b;r.onzoom(b,S-(r.previous.cx-p),k-(r.previous.cy-y),"touch")}r.previous={cx:p,cy:y,distance:v}}}),Be(this,"contextmenu",function(){r.pointers=[]}),Be(this,"up",function(s){r.previous=null,r.pointers=r.pointers.filter(function(l){return l.pointerId!==s.pointerId})}),Be(this,"dblclick",function(s){s.preventDefault();var l=r.element.getBoundingClientRect(),c=l.left,f=l.top,h=4*r.intensity,p=(c-s.clientX)*h,y=(f-s.clientY)*h;r.onzoom(h,p,y,"dblclick")}),this.intensity=n}return ut(a,[{key:"initialize",value:function(r,s,l){this.container=r,this.element=s,this.onzoom=l,this.container.addEventListener("wheel",this.wheel),this.container.addEventListener("pointerdown",this.down),this.container.addEventListener("dblclick",this.dblclick),window.addEventListener("pointermove",this.move),window.addEventListener("pointerup",this.up),window.addEventListener("pointercancel",this.up),window.addEventListener("contextmenu",this.contextmenu)}},{key:"getTouches",value:function(){var r={touches:this.pointers},s=[r.touches[0].clientX,r.touches[0].clientY],l=s[0],c=s[1],f=[r.touches[1].clientX,r.touches[1].clientY],h=f[0],p=f[1],y=Math.sqrt(Math.pow(l-h,2)+Math.pow(c-p,2));return{cx:(l+h)/2,cy:(c+p)/2,distance:y}}},{key:"isTranslating",value:function(){return this.pointers.length>=2}},{key:"destroy",value:function(){this.container.removeEventListener("wheel",this.wheel),this.container.removeEventListener("pointerdown",this.down),this.container.removeEventListener("dblclick",this.dblclick),window.removeEventListener("pointermove",this.move),window.removeEventListener("pointerup",this.up),window.removeEventListener("pointercancel",this.up),window.removeEventListener("contextmenu",this.contextmenu)}}])})(),xb=(function(){function a(n,r,s){var l=this;ct(this,a),Be(this,"transform",{k:1,x:0,y:0}),Be(this,"pointer",{x:0,y:0}),Be(this,"zoomHandler",null),Be(this,"dragHandler",null),Be(this,"pointerdown",function(c){l.setPointerFrom(c),l.events.pointerDown(l.pointer,c)}),Be(this,"pointermove",function(c){l.setPointerFrom(c),l.events.pointerMove(l.pointer,c)}),Be(this,"pointerup",function(c){l.setPointerFrom(c),l.events.pointerUp(l.pointer,c)}),Be(this,"resize",function(c){l.events.resize(c)}),Be(this,"onTranslate",function(c,f){var h;(h=l.zoomHandler)!==null&&h!==void 0&&h.isTranslating()||l.translate(c,f)}),Be(this,"onZoom",function(c,f,h,p){l.zoom(l.transform.k*(1+c),f,h,p),l.update()}),this.container=n,this.events=r,this.guards=s,this.content=new LE(function(c){return l.events.reordered(c)}),this.content.holder.style.transformOrigin="0 0",this.setZoomHandler(new Sb(.1)),this.setDragHandler(new Oh),this.container.addEventListener("pointerdown",this.pointerdown),this.container.addEventListener("pointermove",this.pointermove),window.addEventListener("pointerup",this.pointerup),window.addEventListener("resize",this.resize),n.appendChild(this.content.holder),this.update()}return ut(a,[{key:"update",value:function(){var r=this.transform,s=r.x,l=r.y,c=r.k;this.content.holder.style.transform="translate(".concat(s,"px, ").concat(l,"px) scale(").concat(c,")")}},{key:"setDragHandler",value:function(r){var s=this;this.dragHandler&&this.dragHandler.destroy(),this.dragHandler=r,this.dragHandler&&this.dragHandler.initialize(this.container,{getCurrentPosition:function(){return s.transform},getZoom:function(){return 1}},{start:function(){return null},translate:this.onTranslate,drag:function(){return null}})}},{key:"setZoomHandler",value:function(r){this.zoomHandler&&this.zoomHandler.destroy(),this.zoomHandler=r,this.zoomHandler&&this.zoomHandler.initialize(this.container,this.content.holder,this.onZoom)}},{key:"setPointerFrom",value:function(r){var s=this.content.getPointerFrom(r),l=s.x,c=s.y,f=this.transform.k;this.pointer={x:l/f,y:c/f}}},{key:"translate",value:(function(){var n=at(we.mark(function s(l,c){var f,h;return we.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return f={x:l,y:c},y.next=3,this.guards.translate({previous:this.transform,position:f});case 3:if(h=y.sent,h){y.next=6;break}return y.abrupt("return",!1);case 6:return this.transform.x=h.data.position.x,this.transform.y=h.data.position.y,this.update(),y.next=11,this.events.translated(h.data);case 11:return y.abrupt("return",!0);case 12:case"end":return y.stop()}},s,this)}));function r(s,l){return n.apply(this,arguments)}return r})()},{key:"zoom",value:(function(){var n=at(we.mark(function s(l){var c,f,h,p,y,v,b=arguments;return we.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return c=b.length>1&&b[1]!==void 0?b[1]:0,f=b.length>2&&b[2]!==void 0?b[2]:0,h=b.length>3?b[3]:void 0,p=this.transform.k,k.next=6,this.guards.zoom({previous:this.transform,zoom:l,source:h});case 6:if(y=k.sent,y){k.next=9;break}return k.abrupt("return",!0);case 9:return v=(p-y.data.zoom)/(p-l||1),this.transform.k=y.data.zoom||1,this.transform.x+=c*v,this.transform.y+=f*v,this.update(),k.next=16,this.events.zoomed(y.data);case 16:return k.abrupt("return",!1);case 17:case"end":return k.stop()}},s,this)}));function r(s){return n.apply(this,arguments)}return r})()},{key:"destroy",value:function(){this.container.removeEventListener("pointerdown",this.pointerdown),this.container.removeEventListener("pointermove",this.pointermove),window.removeEventListener("pointerup",this.pointerup),window.removeEventListener("resize",this.resize),this.dragHandler&&this.dragHandler.destroy(),this.zoomHandler&&this.zoomHandler.destroy(),this.content.holder.innerHTML=""}}])})();function UE(a,n,r){return n=Dt(n),La(a,Eb()?Reflect.construct(n,r||[],Dt(a).constructor):n.apply(a,r))}function Eb(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Eb=function(){return!!a})()}var zo=(function(a){function n(){return ct(this,n),UE(this,n,arguments)}return In(n,a),ut(n)})(ms),IE=ut(function a(n){ct(this,a),this.element=document.createElement("div"),this.element.style.position="absolute",this.element.style.left="0",this.element.style.top="0",this.element.addEventListener("contextmenu",function(r){return n.contextmenu(r)})}),$E=(function(){function a(){ct(this,a),Be(this,"views",new WeakMap),Be(this,"viewsElements",new Map)}return ut(a,[{key:"set",value:function(r){var s=r.element,l=r.type,c=r.payload;c!=null&&c.id&&(this.views.set(s,r),this.viewsElements.set("".concat(l,"_").concat(c.id),s))}},{key:"get",value:function(r,s){var l=this.viewsElements.get("".concat(r,"_").concat(s));return l&&this.views.get(l)}},{key:"delete",value:function(r){var s,l=this.views.get(r);l&&(s=l.payload)!==null&&s!==void 0&&s.id&&(this.views.delete(r),this.viewsElements.delete("".concat(l.type,"_").concat(l.payload.id)))}}])})();function gv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function vv(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?gv(Object(r),!0).forEach(function(s){Be(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):gv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}var kb=(function(){function a(n,r,s){var l=this;ct(this,a),Be(this,"translate",(function(){var c=at(we.mark(function f(h,p){var y,v;return we.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return y=vv({},l.position),S.next=3,l.guards.translate({previous:y,position:{x:h,y:p}});case 3:if(v=S.sent,v){S.next=6;break}return S.abrupt("return",!1);case 6:return l.position=vv({},v.data.position),l.element.style.transform="translate(".concat(l.position.x,"px, ").concat(l.position.y,"px)"),S.next=10,l.events.translated({position:l.position,previous:y});case 10:return S.abrupt("return",!0);case 11:case"end":return S.stop()}},f)}));return function(f,h){return c.apply(this,arguments)}})()),Be(this,"resize",(function(){var c=at(we.mark(function f(h,p){var y,v;return we.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return y={width:h,height:p},S.next=3,l.guards.resize({size:y});case 3:if(S.sent){S.next=5;break}return S.abrupt("return",!1);case 5:if(v=l.element.querySelector("*:not(span):not([fragment])"),!(!v||!(v instanceof HTMLElement))){S.next=8;break}return S.abrupt("return",!1);case 8:return v.style.width="".concat(h,"px"),v.style.height="".concat(p,"px"),S.next=12,l.events.resized({size:y});case 12:return S.abrupt("return",!0);case 13:case"end":return S.stop()}},f)}));return function(f,h){return c.apply(this,arguments)}})()),this.getZoom=n,this.events=r,this.guards=s,this.element=document.createElement("div"),this.element.style.position="absolute",this.position={x:0,y:0},this.translate(0,0),this.element.addEventListener("contextmenu",function(c){return l.events.contextmenu(c)}),this.dragHandler=new Oh,this.dragHandler.initialize(this.element,{getCurrentPosition:function(){return l.position},getZoom:function(){return l.getZoom()}},{start:this.events.picked,translate:this.translate,drag:this.events.dragged})}return ut(a,[{key:"destroy",value:function(){this.dragHandler.destroy()}}])})();function Cb(a,n){return a.map(function(r){return{view:n.get(r.id),node:r}}).filter(function(r){return r.view}).map(function(r){var s=r.view,l=r.node,c=l.width,f=l.height;return typeof c<"u"&&typeof f<"u"?{position:s.position,width:c,height:f}:{position:s.position,width:s.element.clientWidth,height:s.element.clientHeight}})}function HE(a,n){var r=a.parentScope($r),s=n.map(function(c){return bn(c)==="object"?c:r.getNode(c)}),l=Cb(s,a.nodeViews);return wb(l)}function VE(a){var n=a;n.addPipe(function(r){if(!r||bn(r)!=="object"||!("type"in r))return r;if(r.type==="nodepicked"){var s=n.nodeViews.get(r.data.id),l=n.area.content;s&&l.reorder(s.element,null)}if(r.type==="connectioncreated"){var c=n.connectionViews.get(r.data.id),f=n.area.content;c&&f.reorder(c.element,f.holder.firstChild)}return r})}function bv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function ir(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?bv(Object(r),!0).forEach(function(s){Be(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):bv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function qE(a,n){var r=n!=null&&n.scaling?n.scaling===!0?{min:.1,max:1}:n.scaling:!1,s=n!=null&&n.translation?n.translation===!0?{left:0,top:0,right:1e3,bottom:1e3}:n.translation:!1;function l(f){if(!r)throw new Error("scaling param isnt defined");var h=typeof r=="function"?r():r,p=h.min,y=h.max;return f<p?p:f>y?y:f}function c(f){if(!s)throw new Error("translation param isnt defined");var h=ir({},f),p=typeof s=="function"?s():s,y=p.left,v=p.top,b=p.right,S=p.bottom;return h.x<y&&(h.x=y),h.x>b&&(h.x=b),h.y<v&&(h.y=v),h.y>S&&(h.y=S),h}a.addPipe(function(f){if(!f||bn(f)!=="object"||!("type"in f))return f;if(r&&f.type==="zoom")return ir(ir({},f),{},{data:ir(ir({},f.data),{},{zoom:l(f.data.zoom)})});if(s&&f.type==="zoomed"){var h=c(a.area.transform);a.area.translate(h.x,h.y)}return s&&f.type==="translate"?ir(ir({},f),{},{data:ir(ir({},f.data),{},{position:c(f.data.position)})}):f})}function YE(){var a=!1;function n(s){(s.key==="Control"||s.key==="Meta")&&(a=!0)}function r(s){(s.key==="Control"||s.key==="Meta")&&(a=!1)}return document.addEventListener("keydown",n),document.addEventListener("keyup",r),{active:function(){return a},destroy:function(){document.removeEventListener("keydown",n),document.removeEventListener("keyup",r)}}}var Tb=(function(){function a(){ct(this,a),Be(this,"entities",new Map),Be(this,"pickId",null)}return ut(a,[{key:"isSelected",value:function(r){return this.entities.has("".concat(r.label,"_").concat(r.id))}},{key:"add",value:(function(){var n=at(we.mark(function s(l,c){return we.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(c){h.next=3;break}return h.next=3,this.unselectAll();case 3:this.entities.set("".concat(l.label,"_").concat(l.id),l);case 4:case"end":return h.stop()}},s,this)}));function r(s,l){return n.apply(this,arguments)}return r})()},{key:"remove",value:(function(){var n=at(we.mark(function s(l){var c,f;return we.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(c="".concat(l.label,"_").concat(l.id),f=this.entities.get(c),!f){p.next=6;break}return this.entities.delete(c),p.next=6,f.unselect();case 6:case"end":return p.stop()}},s,this)}));function r(s){return n.apply(this,arguments)}return r})()},{key:"unselectAll",value:(function(){var n=at(we.mark(function s(){var l=this;return we.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,Promise.all(ys(Array.from(this.entities.values())).map(function(h){return l.remove(h)}));case 2:case"end":return f.stop()}},s,this)}));function r(){return n.apply(this,arguments)}return r})()},{key:"translate",value:(function(){var n=at(we.mark(function s(l,c){var f=this;return we.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,Promise.all(Array.from(this.entities.values()).map(function(y){return!f.isPicked(y)&&y.translate(l,c)}));case 2:case"end":return p.stop()}},s,this)}));function r(s,l){return n.apply(this,arguments)}return r})()},{key:"pick",value:function(r){this.pickId="".concat(r.label,"_").concat(r.id)}},{key:"release",value:function(){this.pickId=null}},{key:"isPicked",value:function(r){return this.pickId==="".concat(r.label,"_").concat(r.id)}}])})();function GE(){return new Tb}function FE(a,n,r){var s=null,l=a,c=function(){return s||(s=l.parentScope($r))},f=0;function h(k){k.selected||(k.selected=!0,l.update("node",k.id))}function p(k){k.selected&&(k.selected=!1,l.update("node",k.id))}function y(k,N){return v.apply(this,arguments)}function v(){return v=at(we.mark(function k(N,F){var I;return we.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(I=c().getNode(N),I){Q.next=3;break}return Q.abrupt("return");case 3:return Q.next=5,n.add({label:"node",id:I.id,translate:function(G,de){return at(we.mark(function ce(){var H,se;return we.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(H=l.nodeViews.get(I.id),se=H?.position,!se){Z.next=5;break}return Z.next=5,H.translate(se.x+G,se.y+de);case 5:case"end":return Z.stop()}},ce)}))()},unselect:function(){p(I)}},F);case 5:h(I);case 6:case"end":return Q.stop()}},k)})),v.apply(this,arguments)}function b(k){return S.apply(this,arguments)}function S(){return S=at(we.mark(function k(N){return we.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,n.remove({id:N,label:"node"});case 2:case"end":return I.stop()}},k)})),S.apply(this,arguments)}return l.addPipe((function(){var k=at(we.mark(function N(F){var I,J,Q,z,G,de,ce,H;return we.wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(!(!F||bn(F)!=="object"||!("type"in F))){te.next=2;break}return te.abrupt("return",F);case 2:if(F.type!=="nodepicked"){te.next=11;break}return I=F.data.id,J=r.accumulating.active(),n.pick({id:I,label:"node"}),f=null,te.next=9,y(I,J);case 9:te.next=33;break;case 11:if(F.type!=="nodetranslated"){te.next=20;break}if(Q=F.data,z=Q.id,G=Q.position,de=Q.previous,ce=G.x-de.x,H=G.y-de.y,!n.isPicked({id:z,label:"node"})){te.next=18;break}return te.next=18,n.translate(ce,H);case 18:te.next=33;break;case 20:if(F.type!=="pointerdown"){te.next=24;break}f=0,te.next=33;break;case 24:if(F.type!=="pointermove"){te.next=28;break}f!==null&&f++,te.next=33;break;case 28:if(F.type!=="pointerup"){te.next=33;break}if(!(f!==null&&f<4)){te.next=32;break}return te.next=32,n.unselectAll();case 32:f=null;case 33:return te.abrupt("return",F);case 34:case"end":return te.stop()}},N)}));return function(N){return k.apply(this,arguments)}})()),{select:y,unselect:b}}function PE(a,n){var r=null,s=function(){return r||(r=a.parentScope($r))};function l(c,f){var h=s().getNode(c);if(h){var p=h.inputs[f];if(!p)throw new Error("cannot find input");var y=p.showControl,v=s().getConnections(),b=!!v.find(function(S){return S.target===c&&S.targetInput===f});p.showControl=n?n({hasAnyConnection:b,input:p}):!b,p.showControl!==y&&a.update("node",h.id)}}a.addPipe(function(c){return(c.type==="connectioncreated"||c.type==="connectionremoved")&&l(c.data.target,c.data.targetInput),c})}function wv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function Jl(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?wv(Object(r),!0).forEach(function(s){Be(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):wv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function ZE(a,n){var r=a,s=typeof n?.size>"u"?16:n.size,l=typeof n?.dynamic>"u"?!0:n.dynamic;function c(f){return Math.round(f/s)*s}r.addPipe(function(f){if(!f||bn(f)!=="object"||!("type"in f))return f;if(l&&f.type==="nodetranslate"){var h=f.data.position,p=c(h.x),y=c(h.y);return Jl(Jl({},f),{},{data:Jl(Jl({},f.data),{},{position:{x:p,y}})})}if(!l&&f.type==="nodedragged"){var v=r.nodeViews.get(f.data.id);if(v){var b=v.position,S=b.x,k=b.y;v.translate(c(S),c(k))}}return f})}function XE(a,n,r){return Vd.apply(this,arguments)}function Vd(){return Vd=at(we.mark(function a(n,r,s){var l,c,f,h,p,y,v,b,S,k,N,F,I;return we.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return l=s||{},c=l.scale,f=c===void 0?.9:c,h=n.parentScope($r),p=r.map(function(z){return bn(z)==="object"?z:h.getNode(z)}),y=Cb(p,n.nodeViews),v=wb(y),b=[n.container.clientWidth,n.container.clientHeight],S=b[0],k=b[1],N=S/v.width,F=k/v.height,I=Math.min(F*f,N*f,1),n.area.transform.x=S/2-v.center.x*I,n.area.transform.y=k/2-v.center.y*I,Q.next=12,n.area.zoom(I,0,0);case 12:case"end":return Q.stop()}},a)})),Vd.apply(this,arguments)}var Mr=Object.freeze({__proto__:null,getBoundingBox:HE,simpleNodesOrder:VE,restrictor:qE,accumulateOnCtrl:YE,selectableNodes:FE,Selector:Tb,selector:GE,showInputControl:PE,snapGrid:ZE,zoomAt:XE});function Sv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function xv(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Sv(Object(r),!0).forEach(function(s){Be(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):Sv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function KE(a,n,r){return n=Dt(n),La(a,Ob()?Reflect.construct(n,r||[],Dt(a).constructor):n.apply(a,r))}function Ob(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ob=function(){return!!a})()}var Nb=(function(a){function n(r){var s;return ct(this,n),s=KE(this,n,["area"]),Be(s,"nodeViews",new Map),Be(s,"connectionViews",new Map),Be(s,"elements",new $E),Be(s,"onContextMenu",function(l){s.emit({type:"contextmenu",data:{event:l,context:"root"}})}),s.container=r,r.style.overflow="hidden",r.addEventListener("contextmenu",s.onContextMenu),s.addPipe(function(l){return!l||!(bn(l)==="object"&&"type"in l)||(l.type==="nodecreated"&&s.addNodeView(l.data),l.type==="noderemoved"&&s.removeNodeView(l.data.id),l.type==="connectioncreated"&&s.addConnectionView(l.data),l.type==="connectionremoved"&&s.removeConnectionView(l.data.id),l.type==="render"&&s.elements.set(l.data),l.type==="unmount"&&s.elements.delete(l.data.element)),l}),s.area=new xb(r,{zoomed:function(c){return s.emit({type:"zoomed",data:c})},pointerDown:function(c,f){return void s.emit({type:"pointerdown",data:{position:c,event:f}})},pointerMove:function(c,f){return void s.emit({type:"pointermove",data:{position:c,event:f}})},pointerUp:function(c,f){return void s.emit({type:"pointerup",data:{position:c,event:f}})},resize:function(c){return void s.emit({type:"resized",data:{event:c}})},translated:function(c){return s.emit({type:"translated",data:c})},reordered:function(c){return s.emit({type:"reordered",data:{element:c}})}},{translate:function(c){return s.emit({type:"translate",data:c})},zoom:function(c){return s.emit({type:"zoom",data:c})}}),s}return In(n,a),ut(n,[{key:"addNodeView",value:function(s){var l=this,c=s.id,f=new kb(function(){return l.area.transform.k},{picked:function(){return void l.emit({type:"nodepicked",data:{id:c}})},translated:function(p){return l.emit({type:"nodetranslated",data:xv({id:c},p)})},dragged:function(){return void l.emit({type:"nodedragged",data:s})},contextmenu:function(p){return void l.emit({type:"contextmenu",data:{event:p,context:s}})},resized:function(p){var y=p.size;return l.emit({type:"noderesized",data:{id:s.id,size:y}})}},{translate:function(p){return l.emit({type:"nodetranslate",data:xv({id:c},p)})},resize:function(p){var y=p.size;return l.emit({type:"noderesize",data:{id:s.id,size:y}})}});return this.nodeViews.set(c,f),this.area.content.add(f.element),this.emit({type:"render",data:{element:f.element,type:"node",payload:s}}),f}},{key:"removeNodeView",value:function(s){var l=this.nodeViews.get(s);l&&(this.emit({type:"unmount",data:{element:l.element}}),this.nodeViews.delete(s),this.area.content.remove(l.element))}},{key:"addConnectionView",value:function(s){var l=this,c=new IE({contextmenu:function(h){return void l.emit({type:"contextmenu",data:{event:h,context:s}})}});return this.connectionViews.set(s.id,c),this.area.content.add(c.element),this.emit({type:"render",data:{element:c.element,type:"connection",payload:s}}),c}},{key:"removeConnectionView",value:function(s){var l=this.connectionViews.get(s);l&&(this.emit({type:"unmount",data:{element:l.element}}),this.connectionViews.delete(s),this.area.content.remove(l.element))}},{key:"update",value:(function(){var r=at(we.mark(function l(c,f){var h;return we.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(h=this.elements.get(c,f),!h){y.next=4;break}return y.next=4,this.emit({type:"render",data:h});case 4:case"end":return y.stop()}},l,this)}));function s(l,c){return r.apply(this,arguments)}return s})()},{key:"resize",value:(function(){var r=at(we.mark(function l(c,f,h){var p;return we.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(p=this.nodeViews.get(c),!p){v.next=5;break}return v.next=4,p.resize(f,h);case 4:return v.abrupt("return",v.sent);case 5:case"end":return v.stop()}},l,this)}));function s(l,c,f){return r.apply(this,arguments)}return s})()},{key:"translate",value:(function(){var r=at(we.mark(function l(c,f){var h,p,y;return we.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(h=f.x,p=f.y,y=this.nodeViews.get(c),!y){b.next=6;break}return b.next=5,y.translate(h,p);case 5:return b.abrupt("return",b.sent);case 6:case"end":return b.stop()}},l,this)}));function s(l,c){return r.apply(this,arguments)}return s})()},{key:"destroy",value:function(){var s=this;this.container.removeEventListener("contextmenu",this.onContextMenu),Array.from(this.connectionViews.keys()).forEach(function(l){return s.removeConnectionView(l)}),Array.from(this.nodeViews.keys()).forEach(function(l){return s.removeNodeView(l)}),this.area.destroy()}}])})(zo);const Ev=Object.freeze(Object.defineProperty({__proto__:null,Area:xb,AreaExtensions:Mr,AreaPlugin:Nb,BaseAreaPlugin:zo,Drag:Oh,NodeView:kb,Zoom:Sb,usePointerListener:bb},Symbol.toStringTag,{value:"Module"}));function QE(a,n){for(;!{}.hasOwnProperty.call(a,n)&&(a=Dt(a))!==null;);return a}function Do(){return Do=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(a,n,r){var s=QE(a,n);if(s){var l=Object.getOwnPropertyDescriptor(s,n);return l.get?l.get.call(arguments.length<3?a:r):l.value}},Do.apply(null,arguments)}function JE(a){if(Array.isArray(a))return a}function WE(a,n){var r=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(r!=null){var s,l,c,f,h=[],p=!0,y=!1;try{if(c=(r=r.call(a)).next,n!==0)for(;!(p=(s=c.call(r)).done)&&(h.push(s.value),h.length!==n);p=!0);}catch(v){y=!0,l=v}finally{try{if(!p&&r.return!=null&&(f=r.return(),Object(f)!==f))return}finally{if(y)throw l}}return h}}function ek(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function An(a,n){return JE(a)||WE(a,n)||vb(a,n)||ek()}function kv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function wd(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?kv(Object(r),!0).forEach(function(s){Be(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):kv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function tk(a){var n=null,r=null;function s(c){r&&c.removeConnectionView(r),n=null,r=null}function l(c){s(c),r="pseudo_".concat(Hr())}return{isMounted:function(){return!!r},mount:l,render:function(f,h,p){var y=h.x,v=h.y,b=p.side==="output",S={x:y+(b?-3:3),y:v};if(!r)throw new Error("pseudo connection id wasn't generated");var k=b?wd({id:r,source:p.nodeId,sourceOutput:p.key,target:"",targetInput:""},a??{}):wd({id:r,target:p.nodeId,targetInput:p.key,source:"",sourceOutput:""},a??{});if(!n){var N=f.addConnectionView(k);n=N.element}n&&f.emit({type:"render",data:wd({element:n,type:"connection",payload:k},b?{end:S}:{start:S})})},unmount:s}}function nk(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=ak(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(y){throw y},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,f=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var y=r.next();return f=y.done,y},e:function(y){h=!0,c=y},f:function(){try{f||r.return==null||r.return()}finally{if(h)throw c}}}}function ak(a,n){if(a){if(typeof a=="string")return Cv(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Cv(a,n):void 0}}function Cv(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function rk(a,n){var r=nk(n),s;try{for(r.s();!(s=r.n()).done;){var l=s.value,c=a.get(l);if(c)return c}}catch(f){r.e(f)}finally{r.f()}}function jb(a,n){var r,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document,l=s.elementsFromPoint(a,n),c=(r=l[0])===null||r===void 0?void 0:r.shadowRoot;return c&&c!==s&&l.unshift.apply(l,ys(jb(a,n,c))),l}var Nh=(function(){function a(){ct(this,a)}return ut(a,[{key:"setContext",value:function(r){this.context=r}}])})();function Ab(a,n){var r=a.side==="output"&&n.side==="input",s=a.side==="input"&&n.side==="output",l=r?[a,n]:s?[n,a]:[],c=An(l,2),f=c[0],h=c[1];if(f&&h)return[f,h]}function ik(a,n){return!!Ab(a,n)}function sk(a,n,r){var s=Ab(a,n)||[null,null],l=An(s,2),c=l[0],f=l[1];if(c&&f)return r.editor.addConnection({id:Hr(),source:c.nodeId,sourceOutput:c.key,target:f.nodeId,targetInput:f.key}),!0}function ok(a,n){var r=n.getNode(a.nodeId);if(!r)throw new Error("cannot find node");var s=a.side==="input"?r.inputs:r.outputs;return s[a.key]}function lk(a,n){var r=a.nodeId,s=a.side,l=a.key;return n.getConnections().filter(function(c){if(s==="input")return c.target===r&&c.targetInput===l;if(s==="output")return c.source===r&&c.sourceOutput===l})}function qd(a,n){var r=a.map(function(s){var l=ok(s,n),c=l?.multipleConnections;return c?[]:lk(s,n)}).flat();return{commit:function(){var l=Array.from(new Set(r.map(function(c){var f=c.id;return f})));l.forEach(function(c){return void n.removeConnection(c)})}}}function jh(a,n,r){return n=Dt(n),La(a,_b()?Reflect.construct(n,[],Dt(a).constructor):n.apply(a,r))}function _b(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_b=function(){return!!a})()}var ck=(function(a){function n(r,s){var l;return ct(this,n),l=jh(this,n),l.initial=r,l.params=s,l}return In(n,a),ut(n,[{key:"pick",value:(function(){var r=at(we.mark(function l(c,f){var h,p;return we.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:h=c.socket,this.params.canMakeConnection(this.initial,h)&&(qd([this.initial,h],f.editor).commit(),p=this.params.makeConnection(this.initial,h,f),this.drop(f,p?h:null,p));case 2:case"end":return v.stop()}},l,this)}));function s(l,c){return r.apply(this,arguments)}return s})()},{key:"drop",value:function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.initial&&s.scope.emit({type:"connectiondrop",data:{initial:this.initial,socket:l,created:c}}),this.context.switchTo(new Ah(this.params))}}])})(Nh),uk=(function(a){function n(r,s,l){var c;ct(this,n),c=jh(this,n),c.connection=r,c.params=s;var f=Array.from(l.socketsCache.values()).find(function(h){return h.nodeId===c.connection.source&&h.side==="output"&&h.key===c.connection.sourceOutput});if(!f)throw new Error("cannot find output socket");return c.outputSocket=f,c}return In(n,a),ut(n,[{key:"init",value:(function(){var r=at(we.mark(function l(c){var f=this;return we.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:c.scope.emit({type:"connectionpick",data:{socket:this.outputSocket}}).then(function(y){y?(c.editor.removeConnection(f.connection.id),f.initial=f.outputSocket):f.drop(c)});case 1:case"end":return p.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"pick",value:(function(){var r=at(we.mark(function l(c,f){var h,p,y,v,b,S;return we.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:h=c.socket,p=c.event,this.initial&&!(h.side==="input"&&this.connection.target===h.nodeId&&this.connection.targetInput===h.key)?this.params.canMakeConnection(this.initial,h)&&(qd([this.initial,h],f.editor).commit(),y=this.params.makeConnection(this.initial,h,f),v=y?h:null,this.drop(f,v,y)):p==="down"&&this.initial&&(qd([this.initial,h],f.editor).commit(),b=this.params.makeConnection(this.initial,h,f),S=b?null:h,this.drop(f,S,b));case 2:case"end":return N.stop()}},l,this)}));function s(l,c){return r.apply(this,arguments)}return s})()},{key:"drop",value:function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.initial&&s.scope.emit({type:"connectiondrop",data:{initial:this.initial,socket:l,created:c}}),this.context.switchTo(new Ah(this.params))}}])})(Nh),Ah=(function(a){function n(r){var s;return ct(this,n),s=jh(this,n),s.params=r,s}return In(n,a),ut(n,[{key:"pick",value:(function(){var r=at(we.mark(function l(c,f){var h,p,y,v;return we.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(h=c.socket,p=c.event,p==="down"){S.next=3;break}return S.abrupt("return");case 3:if(h.side!=="input"){S.next=11;break}if(y=f.editor.getConnections().find(function(k){return k.target===h.nodeId&&k.targetInput===h.key}),!y){S.next=11;break}return v=new uk(y,this.params,f),S.next=9,v.init(f);case 9:return this.context.switchTo(v),S.abrupt("return");case 11:return S.next=13,f.scope.emit({type:"connectionpick",data:{socket:h}});case 13:if(!S.sent){S.next=17;break}this.context.switchTo(new ck(h,this.params)),S.next=18;break;case 17:this.drop(f);case 18:case"end":return S.stop()}},l,this)}));function s(l,c){return r.apply(this,arguments)}return s})()},{key:"drop",value:function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.initial&&s.scope.emit({type:"connectiondrop",data:{initial:this.initial,socket:l,created:c}}),delete this.initial}}])})(Nh),fk=(function(){function a(n){ct(this,a);var r=n?.canMakeConnection||ik,s=n?.makeConnection||sk;this.switchTo(new Ah({canMakeConnection:r,makeConnection:s}))}return ut(a,[{key:"pick",value:(function(){var n=at(we.mark(function s(l,c){return we.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.currentState.pick(l,c);case 2:case"end":return h.stop()}},s,this)}));function r(s,l){return n.apply(this,arguments)}return r})()},{key:"getPickedSocket",value:function(){return this.currentState.initial}},{key:"switchTo",value:function(r){r.setContext(this),this.currentState=r}},{key:"drop",value:function(r){this.currentState.drop(r)}}])})();function dk(){return function(){return new fk}}var hk=Object.freeze({__proto__:null,setup:dk}),pk=Object.freeze({__proto__:null,classic:hk});function mk(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=yk(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(y){throw y},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,f=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var y=r.next();return f=y.done,y},e:function(y){h=!0,c=y},f:function(){try{f||r.return==null||r.return()}finally{if(h)throw c}}}}function yk(a,n){if(a){if(typeof a=="string")return Tv(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Tv(a,n):void 0}}function Tv(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function gk(a,n,r){return n=Dt(n),La(a,Db()?Reflect.construct(n,r||[],Dt(a).constructor):n.apply(a,r))}function Db(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Db=function(){return!!a})()}function vk(a,n,r,s){var l=Do(Dt(a.prototype),n,r);return typeof l=="function"?function(c){return l.apply(r,c)}:l}var bk=(function(a){function n(){var r;return ct(this,n),r=gk(this,n,["connection"]),Be(r,"presets",[]),Be(r,"currentFlow",null),Be(r,"preudoconnection",tk({isPseudo:!0})),Be(r,"socketsCache",new Map),r}return In(n,a),ut(n,[{key:"addPreset",value:function(s){this.presets.push(s)}},{key:"findPreset",value:function(s){var l=mk(this.presets),c;try{for(l.s();!(c=l.n()).done;){var f=c.value,h=f(s);if(h)return h}}catch(p){l.e(p)}finally{l.f()}return null}},{key:"update",value:function(){if(this.currentFlow){var s=this.currentFlow.getPickedSocket();s&&this.preudoconnection.render(this.areaPlugin,this.areaPlugin.area.pointer,s)}}},{key:"drop",value:function(){var s={editor:this.editor,scope:this,socketsCache:this.socketsCache};this.currentFlow&&(this.currentFlow.drop(s),this.preudoconnection.unmount(this.areaPlugin),this.currentFlow=null)}},{key:"pick",value:(function(){var r=at(we.mark(function l(c,f){var h,p,y;return we.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(h={editor:this.editor,scope:this,socketsCache:this.socketsCache},p=jb(c.clientX,c.clientY),y=rk(this.socketsCache,p),!y){b.next=13;break}if(c.preventDefault(),c.stopPropagation(),this.currentFlow=this.currentFlow||this.findPreset(y),!this.currentFlow){b.next=11;break}return b.next=10,this.currentFlow.pick({socket:y,event:f},h);case 10:this.preudoconnection.mount(this.areaPlugin);case 11:b.next=14;break;case 13:this.currentFlow&&this.currentFlow.drop(h);case 14:this.currentFlow&&!this.currentFlow.getPickedSocket()&&(this.preudoconnection.unmount(this.areaPlugin),this.currentFlow=null),this.update();case 16:case"end":return b.stop()}},l,this)}));function s(l,c){return r.apply(this,arguments)}return s})()},{key:"setParent",value:function(s){var l=this;vk(n,"setParent",this)([s]),this.areaPlugin=this.parentScope(zo),this.editor=this.areaPlugin.parentScope($r);var c=function(h){l.pick(h,"down")};this.addPipe(function(f){if(!f||bn(f)!=="object"||!("type"in f))return f;if(f.type==="pointermove")l.update();else if(f.type==="pointerup")l.pick(f.data.event,"up");else if(f.type==="render"){if(f.data.type==="socket"){var h=f.data.element;h.addEventListener("pointerdown",c),l.socketsCache.set(h,f.data)}}else if(f.type==="unmount"){var p=f.data.element;p.removeEventListener("pointerdown",c),l.socketsCache.delete(p)}return f})}}])})(ms);function wk(a,n){var r=An(a,2),s=r[0],l=s.x,c=s.y,f=r[1],h=f.x,p=f.y,y=Math.abs(c-p),v=l+Math.max(y/2,Math.abs(h-l))*n,b=h-Math.max(y/2,Math.abs(h-l))*n;return"M ".concat(l," ").concat(c," C ").concat(v," ").concat(c," ").concat(b," ").concat(p," ").concat(h," ").concat(p)}function Sk(a,n,r){var s=An(a,2),l=s[0],c=l.x,f=l.y,h=s[1],p=h.x,y=h.y,v=y>f?1:-1,b=r+Math.abs(c-p)/(r/2),S=(c+p)/2,k=f-v*b,N=(y-f)*n;return`
        M `.concat(c," ").concat(f,`
        C `).concat(c+b," ").concat(f,`
        `).concat(c+b," ").concat(k-N,`
        `).concat(S," ").concat(k,`
        C `).concat(p-b," ").concat(k+N,`
        `).concat(p-b," ").concat(y,`
        `).concat(p," ").concat(y,`
    `)}function xk(a,n){return Yd.apply(this,arguments)}function Yd(){return Yd=at(we.mark(function a(n,r){var s,l,c,f,h;return we.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(n.offsetParent){y.next=5;break}return y.next=3,new Promise(function(v){return setTimeout(v,0)});case 3:y.next=0;break;case 5:if(s=n.offsetLeft,l=n.offsetTop,c=n.offsetParent,c){y.next=10;break}throw new Error("child has null offsetParent");case 10:for(;c!==null&&c!==r;)s+=c.offsetLeft+c.clientLeft,l+=c.offsetTop+c.clientTop,c=c.offsetParent;return f=n.offsetWidth,h=n.offsetHeight,y.abrupt("return",{x:s+f/2,y:l+h/2});case 14:case"end":return y.stop()}},a)})),Yd.apply(this,arguments)}var Ek=(function(){function a(){ct(this,a),Be(this,"listeners",new Set)}return ut(a,[{key:"emit",value:function(r){this.listeners.forEach(function(s){s(r)})}},{key:"listen",value:function(r){var s=this;return this.listeners.add(r),function(){s.listeners.delete(r)}}}])})(),kk=(function(){function a(){ct(this,a),Be(this,"elements",new Map)}return ut(a,[{key:"getPosition",value:function(r){var s,l,c=Array.from(this.elements.values()).flat(),f=c.filter(function(h){return h.side===r.side&&h.nodeId===r.nodeId&&h.key===r.key});return f.length>1&&console.warn(["Found more than one element for socket with same key and side.","Probably it was not unmounted correctly"].join(" "),r),(s=(l=f.pop())===null||l===void 0?void 0:l.position)!==null&&s!==void 0?s:null}},{key:"add",value:function(r){var s=this.elements.get(r.element);this.elements.set(r.element,s?[].concat(ys(s.filter(function(l){return!(l.nodeId===r.nodeId&&l.key===r.key&&l.side===r.side)})),[r]):[r])}},{key:"remove",value:function(r){this.elements.delete(r)}},{key:"snapshot",value:function(){return Array.from(this.elements.values()).flat()}}])})(),Ck=(function(){function a(){ct(this,a),Be(this,"sockets",new kk),Be(this,"emitter",new Ek),Be(this,"area",null)}return ut(a,[{key:"attach",value:function(r){var s=this;this.area||r.hasParent()&&(this.area=r.parentScope(zo),this.area.addPipe((function(){var l=at(we.mark(function c(f){var h,p,y,v,b,S,k,N,F,I,J;return we.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(!(f.type==="rendered"&&f.data.type==="socket")){z.next=8;break}return h=f.data,p=h.nodeId,y=h.key,v=h.side,b=h.element,z.next=4,s.calculatePosition(p,v,y,b);case 4:S=z.sent,S&&(s.sockets.add({nodeId:p,key:y,side:v,element:b,position:S}),s.emitter.emit({nodeId:p,key:y,side:v})),z.next=24;break;case 8:if(f.type!=="unmount"){z.next=12;break}s.sockets.remove(f.data.element),z.next=24;break;case 12:if(f.type!=="nodetranslated"){z.next=16;break}s.emitter.emit({nodeId:f.data.id}),z.next=24;break;case 16:if(f.type!=="noderesized"){z.next=23;break}return k=f.data.id,z.next=20,Promise.all(s.sockets.snapshot().filter(function(G){return G.nodeId===f.data.id&&G.side==="output"}).map((function(){var G=at(we.mark(function de(ce){var H,se,te,Z;return we.wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:return H=ce.side,se=ce.key,te=ce.element,_e.next=3,s.calculatePosition(k,H,se,te);case 3:Z=_e.sent,Z&&(ce.position=Z);case 5:case"end":return _e.stop()}},de)}));return function(de){return G.apply(this,arguments)}})()));case 20:s.emitter.emit({nodeId:k}),z.next=24;break;case 23:f.type==="render"&&f.data.type==="connection"&&(N=f.data.payload,F=N.source,I=N.target,J=F||I,s.emitter.emit({nodeId:J}));case 24:return z.abrupt("return",f);case 25:case"end":return z.stop()}},c)}));return function(c){return l.apply(this,arguments)}})()))}},{key:"listen",value:function(r,s,l,c){var f=this,h=this.emitter.listen(function(p){if(p.nodeId===r&&(!p.key||p.side===s)&&(!p.side||p.key===l)){var y,v=f.sockets.getPosition({side:s,nodeId:r,key:l});if(!v)return;var b=v.x,S=v.y,k=(y=f.area)===null||y===void 0?void 0:y.nodeViews.get(r);k&&c({x:b+k.position.x,y:S+k.position.y})}});return this.sockets.snapshot().forEach(function(p){p.nodeId===r&&f.emitter.emit(p)}),h}}])})();function Tk(a,n,r){return n=Dt(n),La(a,Mb()?Reflect.construct(n,[],Dt(a).constructor):n.apply(a,r))}function Mb(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mb=function(){return!!a})()}var Ok=(function(a){function n(r){var s;return ct(this,n),s=Tk(this,n),s.props=r,s}return In(n,a),ut(n,[{key:"calculatePosition",value:(function(){var r=at(we.mark(function l(c,f,h,p){var y,v,b,S;return we.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(b=(y=this.area)===null||y===void 0?void 0:y.nodeViews.get(c),b!=null&&b.element){N.next=3;break}return N.abrupt("return",null);case 3:return N.next=5,xk(p,b.element);case 5:if(S=N.sent,!((v=this.props)!==null&&v!==void 0&&v.offset)){N.next=8;break}return N.abrupt("return",this.props.offset(S,c,f,h));case 8:return N.abrupt("return",{x:S.x+12*(f==="input"?-1:1),y:S.y});case 9:case"end":return N.stop()}},l,this)}));function s(l,c,f,h){return r.apply(this,arguments)}return s})()}])})(Ck);function Nk(a){return new Ok(a)}function wn(a,n){return n||(n=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(n)}}))}var Un=function(){return Un=Object.assign||function(n){for(var r,s=1,l=arguments.length;s<l;s++){r=arguments[s];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(n[c]=r[c])}return n},Un.apply(this,arguments)};function kc(a,n,r){if(r||arguments.length===2)for(var s=0,l=n.length,c;s<l;s++)(c||!(s in n))&&(c||(c=Array.prototype.slice.call(n,0,s)),c[s]=n[s]);return a.concat(c||Array.prototype.slice.call(n))}var zt="-ms-",Oo="-moz-",xt="-webkit-",Rb="comm",Rc="rule",_h="decl",jk="@import",zb="@keyframes",Ak="@layer",Lb=Math.abs,Dh=String.fromCharCode,Gd=Object.assign;function _k(a,n){return dn(a,0)^45?(((n<<2^dn(a,0))<<2^dn(a,1))<<2^dn(a,2))<<2^dn(a,3):0}function Bb(a){return a.trim()}function or(a,n){return(a=n.exec(a))?a[0]:a}function nt(a,n,r){return a.replace(n,r)}function dc(a,n,r){return a.indexOf(n,r)}function dn(a,n){return a.charCodeAt(n)|0}function cs(a,n,r){return a.slice(n,r)}function Aa(a){return a.length}function Ub(a){return a.length}function So(a,n){return n.push(a),a}function Dk(a,n){return a.map(n).join("")}function Ov(a,n){return a.filter(function(r){return!or(r,n)})}var zc=1,us=1,Ib=0,pa=0,rn=0,gs="";function Lc(a,n,r,s,l,c,f,h){return{value:a,root:n,parent:r,type:s,props:l,children:c,line:zc,column:us,length:f,return:"",siblings:h}}function Rr(a,n){return Gd(Lc("",null,null,"",null,null,0,a.siblings),a,{length:-a.length},n)}function Ji(a){for(;a.root;)a=Rr(a.root,{children:[a]});So(a,a.siblings)}function Mk(){return rn}function Rk(){return rn=pa>0?dn(gs,--pa):0,us--,rn===10&&(us=1,zc--),rn}function xa(){return rn=pa<Ib?dn(gs,pa++):0,us++,rn===10&&(us=1,zc++),rn}function fi(){return dn(gs,pa)}function hc(){return pa}function Bc(a,n){return cs(gs,a,n)}function Fd(a){switch(a){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function zk(a){return zc=us=1,Ib=Aa(gs=a),pa=0,[]}function Lk(a){return gs="",a}function Sd(a){return Bb(Bc(pa-1,Pd(a===91?a+2:a===40?a+1:a)))}function Bk(a){for(;(rn=fi())&&rn<33;)xa();return Fd(a)>2||Fd(rn)>3?"":" "}function Uk(a,n){for(;--n&&xa()&&!(rn<48||rn>102||rn>57&&rn<65||rn>70&&rn<97););return Bc(a,hc()+(n<6&&fi()==32&&xa()==32))}function Pd(a){for(;xa();)switch(rn){case a:return pa;case 34:case 39:a!==34&&a!==39&&Pd(rn);break;case 40:a===41&&Pd(a);break;case 92:xa();break}return pa}function Ik(a,n){for(;xa()&&a+rn!==57;)if(a+rn===84&&fi()===47)break;return"/*"+Bc(n,pa-1)+"*"+Dh(a===47?a:xa())}function $k(a){for(;!Fd(fi());)xa();return Bc(a,pa)}function Hk(a){return Lk(pc("",null,null,null,[""],a=zk(a),0,[0],a))}function pc(a,n,r,s,l,c,f,h,p){for(var y=0,v=0,b=f,S=0,k=0,N=0,F=1,I=1,J=1,Q=0,z="",G=l,de=c,ce=s,H=z;I;)switch(N=Q,Q=xa()){case 40:if(N!=108&&dn(H,b-1)==58){dc(H+=nt(Sd(Q),"&","&\f"),"&\f",Lb(y?h[y-1]:0))!=-1&&(J=-1);break}case 34:case 39:case 91:H+=Sd(Q);break;case 9:case 10:case 13:case 32:H+=Bk(N);break;case 92:H+=Uk(hc()-1,7);continue;case 47:switch(fi()){case 42:case 47:So(Vk(Ik(xa(),hc()),n,r,p),p);break;default:H+="/"}break;case 123*F:h[y++]=Aa(H)*J;case 125*F:case 59:case 0:switch(Q){case 0:case 125:I=0;case 59+v:J==-1&&(H=nt(H,/\f/g,"")),k>0&&Aa(H)-b&&So(k>32?jv(H+";",s,r,b-1,p):jv(nt(H," ","")+";",s,r,b-2,p),p);break;case 59:H+=";";default:if(So(ce=Nv(H,n,r,y,v,l,h,z,G=[],de=[],b,c),c),Q===123)if(v===0)pc(H,n,ce,ce,G,c,b,h,de);else switch(S===99&&dn(H,3)===110?100:S){case 100:case 108:case 109:case 115:pc(a,ce,ce,s&&So(Nv(a,ce,ce,0,0,l,h,z,l,G=[],b,de),de),l,de,b,h,s?G:de);break;default:pc(H,ce,ce,ce,[""],de,0,h,de)}}y=v=k=0,F=J=1,z=H="",b=f;break;case 58:b=1+Aa(H),k=N;default:if(F<1){if(Q==123)--F;else if(Q==125&&F++==0&&Rk()==125)continue}switch(H+=Dh(Q),Q*F){case 38:J=v>0?1:(H+="\f",-1);break;case 44:h[y++]=(Aa(H)-1)*J,J=1;break;case 64:fi()===45&&(H+=Sd(xa())),S=fi(),v=b=Aa(z=H+=$k(hc())),Q++;break;case 45:N===45&&Aa(H)==2&&(F=0)}}return c}function Nv(a,n,r,s,l,c,f,h,p,y,v,b){for(var S=l-1,k=l===0?c:[""],N=Ub(k),F=0,I=0,J=0;F<s;++F)for(var Q=0,z=cs(a,S+1,S=Lb(I=f[F])),G=a;Q<N;++Q)(G=Bb(I>0?k[Q]+" "+z:nt(z,/&\f/g,k[Q])))&&(p[J++]=G);return Lc(a,n,r,l===0?Rc:h,p,y,v,b)}function Vk(a,n,r,s){return Lc(a,n,r,Rb,Dh(Mk()),cs(a,2,-2),0,s)}function jv(a,n,r,s,l){return Lc(a,n,r,_h,cs(a,0,s),cs(a,s+1,-1),s,l)}function $b(a,n,r){switch(_k(a,n)){case 5103:return xt+"print-"+a+a;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return xt+a+a;case 4789:return Oo+a+a;case 5349:case 4246:case 4810:case 6968:case 2756:return xt+a+Oo+a+zt+a+a;case 5936:switch(dn(a,n+11)){case 114:return xt+a+zt+nt(a,/[svh]\w+-[tblr]{2}/,"tb")+a;case 108:return xt+a+zt+nt(a,/[svh]\w+-[tblr]{2}/,"tb-rl")+a;case 45:return xt+a+zt+nt(a,/[svh]\w+-[tblr]{2}/,"lr")+a}case 6828:case 4268:case 2903:return xt+a+zt+a+a;case 6165:return xt+a+zt+"flex-"+a+a;case 5187:return xt+a+nt(a,/(\w+).+(:[^]+)/,xt+"box-$1$2"+zt+"flex-$1$2")+a;case 5443:return xt+a+zt+"flex-item-"+nt(a,/flex-|-self/g,"")+(or(a,/flex-|baseline/)?"":zt+"grid-row-"+nt(a,/flex-|-self/g,""))+a;case 4675:return xt+a+zt+"flex-line-pack"+nt(a,/align-content|flex-|-self/g,"")+a;case 5548:return xt+a+zt+nt(a,"shrink","negative")+a;case 5292:return xt+a+zt+nt(a,"basis","preferred-size")+a;case 6060:return xt+"box-"+nt(a,"-grow","")+xt+a+zt+nt(a,"grow","positive")+a;case 4554:return xt+nt(a,/([^-])(transform)/g,"$1"+xt+"$2")+a;case 6187:return nt(nt(nt(a,/(zoom-|grab)/,xt+"$1"),/(image-set)/,xt+"$1"),a,"")+a;case 5495:case 3959:return nt(a,/(image-set\([^]*)/,xt+"$1$`$1");case 4968:return nt(nt(a,/(.+:)(flex-)?(.*)/,xt+"box-pack:$3"+zt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+xt+a+a;case 4200:if(!or(a,/flex-|baseline/))return zt+"grid-column-align"+cs(a,n)+a;break;case 2592:case 3360:return zt+nt(a,"template-","")+a;case 4384:case 3616:return r&&r.some(function(s,l){return n=l,or(s.props,/grid-\w+-end/)})?~dc(a+(r=r[n].value),"span",0)?a:zt+nt(a,"-start","")+a+zt+"grid-row-span:"+(~dc(r,"span",0)?or(r,/\d+/):+or(r,/\d+/)-+or(a,/\d+/))+";":zt+nt(a,"-start","")+a;case 4896:case 4128:return r&&r.some(function(s){return or(s.props,/grid-\w+-start/)})?a:zt+nt(nt(a,"-end","-span"),"span ","")+a;case 4095:case 3583:case 4068:case 2532:return nt(a,/(.+)-inline(.+)/,xt+"$1$2")+a;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Aa(a)-1-n>6)switch(dn(a,n+1)){case 109:if(dn(a,n+4)!==45)break;case 102:return nt(a,/(.+:)(.+)-([^]+)/,"$1"+xt+"$2-$3$1"+Oo+(dn(a,n+3)==108?"$3":"$2-$3"))+a;case 115:return~dc(a,"stretch",0)?$b(nt(a,"stretch","fill-available"),n,r)+a:a}break;case 5152:case 5920:return nt(a,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,l,c,f,h,p,y){return zt+l+":"+c+y+(f?zt+l+"-span:"+(h?p:+p-+c)+y:"")+a});case 4949:if(dn(a,n+6)===121)return nt(a,":",":"+xt)+a;break;case 6444:switch(dn(a,dn(a,14)===45?18:11)){case 120:return nt(a,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+xt+(dn(a,14)===45?"inline-":"")+"box$3$1"+xt+"$2$3$1"+zt+"$2box$3")+a;case 100:return nt(a,":",":"+zt)+a}break;case 5719:case 2647:case 2135:case 3927:case 2391:return nt(a,"scroll-","scroll-snap-")+a}return a}function Cc(a,n){for(var r="",s=0;s<a.length;s++)r+=n(a[s],s,a,n)||"";return r}function qk(a,n,r,s){switch(a.type){case Ak:if(a.children.length)break;case jk:case _h:return a.return=a.return||a.value;case Rb:return"";case zb:return a.return=a.value+"{"+Cc(a.children,s)+"}";case Rc:if(!Aa(a.value=a.props.join(",")))return""}return Aa(r=Cc(a.children,s))?a.return=a.value+"{"+r+"}":""}function Yk(a){var n=Ub(a);return function(r,s,l,c){for(var f="",h=0;h<n;h++)f+=a[h](r,s,l,c)||"";return f}}function Gk(a){return function(n){n.root||(n=n.return)&&a(n)}}function Fk(a,n,r,s){if(a.length>-1&&!a.return)switch(a.type){case _h:a.return=$b(a.value,a.length,r);return;case zb:return Cc([Rr(a,{value:nt(a.value,"@","@"+xt)})],s);case Rc:if(a.length)return Dk(r=a.props,function(l){switch(or(l,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Ji(Rr(a,{props:[nt(l,/:(read-\w+)/,":"+Oo+"$1")]})),Ji(Rr(a,{props:[l]})),Gd(a,{props:Ov(r,s)});break;case"::placeholder":Ji(Rr(a,{props:[nt(l,/:(plac\w+)/,":"+xt+"input-$1")]})),Ji(Rr(a,{props:[nt(l,/:(plac\w+)/,":"+Oo+"$1")]})),Ji(Rr(a,{props:[nt(l,/:(plac\w+)/,zt+"input-$1")]})),Ji(Rr(a,{props:[l]})),Gd(a,{props:Ov(r,s)});break}return""})}}var Pk={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Xn={},fs=typeof process<"u"&&Xn!==void 0&&(Xn.REACT_APP_SC_ATTR||Xn.SC_ATTR)||"data-styled",Hb="active",Vb="data-styled-version",Uc="6.1.19",Mh=`/*!sc*/
`,Tc=typeof window<"u"&&typeof document<"u",Zk=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Xn!==void 0&&Xn.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Xn.REACT_APP_SC_DISABLE_SPEEDY!==""?Xn.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Xn.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Xn!==void 0&&Xn.SC_DISABLE_SPEEDY!==void 0&&Xn.SC_DISABLE_SPEEDY!==""&&Xn.SC_DISABLE_SPEEDY!=="false"&&Xn.SC_DISABLE_SPEEDY),Ic=Object.freeze([]),ds=Object.freeze({});function Xk(a,n,r){return r===void 0&&(r=ds),a.theme!==r.theme&&a.theme||n||r.theme}var qb=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Kk=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Qk=/(^-|-$)/g;function Av(a){return a.replace(Kk,"-").replace(Qk,"")}var Jk=/(a)(d)/gi,Wl=52,_v=function(a){return String.fromCharCode(a+(a>25?39:97))};function Zd(a){var n,r="";for(n=Math.abs(a);n>Wl;n=n/Wl|0)r=_v(n%Wl)+r;return(_v(n%Wl)+r).replace(Jk,"$1-$2")}var xd,Yb=5381,rs=function(a,n){for(var r=n.length;r;)a=33*a^n.charCodeAt(--r);return a},Gb=function(a){return rs(Yb,a)};function Wk(a){return Zd(Gb(a)>>>0)}function e2(a){return a.displayName||a.name||"Component"}function Ed(a){return typeof a=="string"&&!0}var Fb=typeof Symbol=="function"&&Symbol.for,Pb=Fb?Symbol.for("react.memo"):60115,t2=Fb?Symbol.for("react.forward_ref"):60112,n2={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a2={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Zb={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},r2=((xd={})[t2]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},xd[Pb]=Zb,xd);function Dv(a){return("type"in(n=a)&&n.type.$$typeof)===Pb?Zb:"$$typeof"in a?r2[a.$$typeof]:n2;var n}var i2=Object.defineProperty,s2=Object.getOwnPropertyNames,Mv=Object.getOwnPropertySymbols,o2=Object.getOwnPropertyDescriptor,l2=Object.getPrototypeOf,Rv=Object.prototype;function Xb(a,n,r){if(typeof n!="string"){if(Rv){var s=l2(n);s&&s!==Rv&&Xb(a,s,r)}var l=s2(n);Mv&&(l=l.concat(Mv(n)));for(var c=Dv(a),f=Dv(n),h=0;h<l.length;++h){var p=l[h];if(!(p in a2||r&&r[p]||f&&p in f||c&&p in c)){var y=o2(n,p);try{i2(a,p,y)}catch{}}}}return a}function hs(a){return typeof a=="function"}function Rh(a){return typeof a=="object"&&"styledComponentId"in a}function li(a,n){return a&&n?"".concat(a," ").concat(n):a||n||""}function zv(a,n){if(a.length===0)return"";for(var r=a[0],s=1;s<a.length;s++)r+=a[s];return r}function Mo(a){return a!==null&&typeof a=="object"&&a.constructor.name===Object.name&&!("props"in a&&a.$$typeof)}function Xd(a,n,r){if(r===void 0&&(r=!1),!r&&!Mo(a)&&!Array.isArray(a))return n;if(Array.isArray(n))for(var s=0;s<n.length;s++)a[s]=Xd(a[s],n[s]);else if(Mo(n))for(var s in n)a[s]=Xd(a[s],n[s]);return a}function zh(a,n){Object.defineProperty(a,"toString",{value:n})}function Lo(a){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(a," for more information.").concat(n.length>0?" Args: ".concat(n.join(", ")):""))}var c2=(function(){function a(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}return a.prototype.indexOfGroup=function(n){for(var r=0,s=0;s<n;s++)r+=this.groupSizes[s];return r},a.prototype.insertRules=function(n,r){if(n>=this.groupSizes.length){for(var s=this.groupSizes,l=s.length,c=l;n>=c;)if((c<<=1)<0)throw Lo(16,"".concat(n));this.groupSizes=new Uint32Array(c),this.groupSizes.set(s),this.length=c;for(var f=l;f<c;f++)this.groupSizes[f]=0}for(var h=this.indexOfGroup(n+1),p=(f=0,r.length);f<p;f++)this.tag.insertRule(h,r[f])&&(this.groupSizes[n]++,h++)},a.prototype.clearGroup=function(n){if(n<this.length){var r=this.groupSizes[n],s=this.indexOfGroup(n),l=s+r;this.groupSizes[n]=0;for(var c=s;c<l;c++)this.tag.deleteRule(s)}},a.prototype.getGroup=function(n){var r="";if(n>=this.length||this.groupSizes[n]===0)return r;for(var s=this.groupSizes[n],l=this.indexOfGroup(n),c=l+s,f=l;f<c;f++)r+="".concat(this.tag.getRule(f)).concat(Mh);return r},a})(),mc=new Map,Oc=new Map,yc=1,ec=function(a){if(mc.has(a))return mc.get(a);for(;Oc.has(yc);)yc++;var n=yc++;return mc.set(a,n),Oc.set(n,a),n},u2=function(a,n){yc=n+1,mc.set(a,n),Oc.set(n,a)},f2="style[".concat(fs,"][").concat(Vb,'="').concat(Uc,'"]'),d2=new RegExp("^".concat(fs,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),h2=function(a,n,r){for(var s,l=r.split(","),c=0,f=l.length;c<f;c++)(s=l[c])&&a.registerName(n,s)},p2=function(a,n){for(var r,s=((r=n.textContent)!==null&&r!==void 0?r:"").split(Mh),l=[],c=0,f=s.length;c<f;c++){var h=s[c].trim();if(h){var p=h.match(d2);if(p){var y=0|parseInt(p[1],10),v=p[2];y!==0&&(u2(v,y),h2(a,v,p[3]),a.getTag().insertRules(y,l)),l.length=0}else l.push(h)}}},Lv=function(a){for(var n=document.querySelectorAll(f2),r=0,s=n.length;r<s;r++){var l=n[r];l&&l.getAttribute(fs)!==Hb&&(p2(a,l),l.parentNode&&l.parentNode.removeChild(l))}};function m2(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Kb=function(a){var n=document.head,r=a||n,s=document.createElement("style"),l=(function(h){var p=Array.from(h.querySelectorAll("style[".concat(fs,"]")));return p[p.length-1]})(r),c=l!==void 0?l.nextSibling:null;s.setAttribute(fs,Hb),s.setAttribute(Vb,Uc);var f=m2();return f&&s.setAttribute("nonce",f),r.insertBefore(s,c),s},y2=(function(){function a(n){this.element=Kb(n),this.element.appendChild(document.createTextNode("")),this.sheet=(function(r){if(r.sheet)return r.sheet;for(var s=document.styleSheets,l=0,c=s.length;l<c;l++){var f=s[l];if(f.ownerNode===r)return f}throw Lo(17)})(this.element),this.length=0}return a.prototype.insertRule=function(n,r){try{return this.sheet.insertRule(r,n),this.length++,!0}catch{return!1}},a.prototype.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},a.prototype.getRule=function(n){var r=this.sheet.cssRules[n];return r&&r.cssText?r.cssText:""},a})(),g2=(function(){function a(n){this.element=Kb(n),this.nodes=this.element.childNodes,this.length=0}return a.prototype.insertRule=function(n,r){if(n<=this.length&&n>=0){var s=document.createTextNode(r);return this.element.insertBefore(s,this.nodes[n]||null),this.length++,!0}return!1},a.prototype.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},a.prototype.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},a})(),v2=(function(){function a(n){this.rules=[],this.length=0}return a.prototype.insertRule=function(n,r){return n<=this.length&&(this.rules.splice(n,0,r),this.length++,!0)},a.prototype.deleteRule=function(n){this.rules.splice(n,1),this.length--},a.prototype.getRule=function(n){return n<this.length?this.rules[n]:""},a})(),Bv=Tc,b2={isServer:!Tc,useCSSOMInjection:!Zk},Qb=(function(){function a(n,r,s){n===void 0&&(n=ds),r===void 0&&(r={});var l=this;this.options=Un(Un({},b2),n),this.gs=r,this.names=new Map(s),this.server=!!n.isServer,!this.server&&Tc&&Bv&&(Bv=!1,Lv(this)),zh(this,function(){return(function(c){for(var f=c.getTag(),h=f.length,p="",y=function(b){var S=(function(J){return Oc.get(J)})(b);if(S===void 0)return"continue";var k=c.names.get(S),N=f.getGroup(b);if(k===void 0||!k.size||N.length===0)return"continue";var F="".concat(fs,".g").concat(b,'[id="').concat(S,'"]'),I="";k!==void 0&&k.forEach(function(J){J.length>0&&(I+="".concat(J,","))}),p+="".concat(N).concat(F,'{content:"').concat(I,'"}').concat(Mh)},v=0;v<h;v++)y(v);return p})(l)})}return a.registerId=function(n){return ec(n)},a.prototype.rehydrate=function(){!this.server&&Tc&&Lv(this)},a.prototype.reconstructWithOptions=function(n,r){return r===void 0&&(r=!0),new a(Un(Un({},this.options),n),this.gs,r&&this.names||void 0)},a.prototype.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},a.prototype.getTag=function(){return this.tag||(this.tag=(n=(function(r){var s=r.useCSSOMInjection,l=r.target;return r.isServer?new v2(l):s?new y2(l):new g2(l)})(this.options),new c2(n)));var n},a.prototype.hasNameForId=function(n,r){return this.names.has(n)&&this.names.get(n).has(r)},a.prototype.registerName=function(n,r){if(ec(n),this.names.has(n))this.names.get(n).add(r);else{var s=new Set;s.add(r),this.names.set(n,s)}},a.prototype.insertRules=function(n,r,s){this.registerName(n,r),this.getTag().insertRules(ec(n),s)},a.prototype.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},a.prototype.clearRules=function(n){this.getTag().clearGroup(ec(n)),this.clearNames(n)},a.prototype.clearTag=function(){this.tag=void 0},a})(),w2=/&/g,S2=/^\s*\/\/.*$/gm;function Jb(a,n){return a.map(function(r){return r.type==="rule"&&(r.value="".concat(n," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(n," ")),r.props=r.props.map(function(s){return"".concat(n," ").concat(s)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=Jb(r.children,n)),r})}function x2(a){var n,r,s,l=ds,c=l.options,f=c===void 0?ds:c,h=l.plugins,p=h===void 0?Ic:h,y=function(S,k,N){return N.startsWith(r)&&N.endsWith(r)&&N.replaceAll(r,"").length>0?".".concat(n):S},v=p.slice();v.push(function(S){S.type===Rc&&S.value.includes("&")&&(S.props[0]=S.props[0].replace(w2,r).replace(s,y))}),f.prefix&&v.push(Fk),v.push(qk);var b=function(S,k,N,F){k===void 0&&(k=""),N===void 0&&(N=""),F===void 0&&(F="&"),n=F,r=k,s=new RegExp("\\".concat(r,"\\b"),"g");var I=S.replace(S2,""),J=Hk(N||k?"".concat(N," ").concat(k," { ").concat(I," }"):I);f.namespace&&(J=Jb(J,f.namespace));var Q=[];return Cc(J,Yk(v.concat(Gk(function(z){return Q.push(z)})))),Q};return b.hash=p.length?p.reduce(function(S,k){return k.name||Lo(15),rs(S,k.name)},Yb).toString():"",b}var E2=new Qb,Kd=x2(),Wb=Ea.createContext({shouldForwardProp:void 0,styleSheet:E2,stylis:Kd});Wb.Consumer;Ea.createContext(void 0);function Uv(){return x.useContext(Wb)}var k2=(function(){function a(n,r){var s=this;this.inject=function(l,c){c===void 0&&(c=Kd);var f=s.name+c.hash;l.hasNameForId(s.id,f)||l.insertRules(s.id,f,c(s.rules,f,"@keyframes"))},this.name=n,this.id="sc-keyframes-".concat(n),this.rules=r,zh(this,function(){throw Lo(12,String(s.name))})}return a.prototype.getName=function(n){return n===void 0&&(n=Kd),this.name+n.hash},a})(),C2=function(a){return a>="A"&&a<="Z"};function Iv(a){for(var n="",r=0;r<a.length;r++){var s=a[r];if(r===1&&s==="-"&&a[0]==="-")return a;C2(s)?n+="-"+s.toLowerCase():n+=s}return n.startsWith("ms-")?"-"+n:n}var e1=function(a){return a==null||a===!1||a===""},t1=function(a){var n,r,s=[];for(var l in a){var c=a[l];a.hasOwnProperty(l)&&!e1(c)&&(Array.isArray(c)&&c.isCss||hs(c)?s.push("".concat(Iv(l),":"),c,";"):Mo(c)?s.push.apply(s,kc(kc(["".concat(l," {")],t1(c),!1),["}"],!1)):s.push("".concat(Iv(l),": ").concat((n=l,(r=c)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||n in Pk||n.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return s};function di(a,n,r,s){if(e1(a))return[];if(Rh(a))return[".".concat(a.styledComponentId)];if(hs(a)){if(!hs(c=a)||c.prototype&&c.prototype.isReactComponent||!n)return[a];var l=a(n);return di(l,n,r,s)}var c;return a instanceof k2?r?(a.inject(r,s),[a.getName(s)]):[a]:Mo(a)?t1(a):Array.isArray(a)?Array.prototype.concat.apply(Ic,a.map(function(f){return di(f,n,r,s)})):[a.toString()]}function T2(a){for(var n=0;n<a.length;n+=1){var r=a[n];if(hs(r)&&!Rh(r))return!1}return!0}var O2=Gb(Uc),N2=(function(){function a(n,r,s){this.rules=n,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&T2(n),this.componentId=r,this.baseHash=rs(O2,r),this.baseStyle=s,Qb.registerId(r)}return a.prototype.generateAndInjectStyles=function(n,r,s){var l=this.baseStyle?this.baseStyle.generateAndInjectStyles(n,r,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))l=li(l,this.staticRulesId);else{var c=zv(di(this.rules,n,r,s)),f=Zd(rs(this.baseHash,c)>>>0);if(!r.hasNameForId(this.componentId,f)){var h=s(c,".".concat(f),void 0,this.componentId);r.insertRules(this.componentId,f,h)}l=li(l,f),this.staticRulesId=f}else{for(var p=rs(this.baseHash,s.hash),y="",v=0;v<this.rules.length;v++){var b=this.rules[v];if(typeof b=="string")y+=b;else if(b){var S=zv(di(b,n,r,s));p=rs(p,S+v),y+=S}}if(y){var k=Zd(p>>>0);r.hasNameForId(this.componentId,k)||r.insertRules(this.componentId,k,s(y,".".concat(k),void 0,this.componentId)),l=li(l,k)}}return l},a})(),n1=Ea.createContext(void 0);n1.Consumer;var kd={};function j2(a,n,r){var s=Rh(a),l=a,c=!Ed(a),f=n.attrs,h=f===void 0?Ic:f,p=n.componentId,y=p===void 0?(function(G,de){var ce=typeof G!="string"?"sc":Av(G);kd[ce]=(kd[ce]||0)+1;var H="".concat(ce,"-").concat(Wk(Uc+ce+kd[ce]));return de?"".concat(de,"-").concat(H):H})(n.displayName,n.parentComponentId):p,v=n.displayName,b=v===void 0?(function(G){return Ed(G)?"styled.".concat(G):"Styled(".concat(e2(G),")")})(a):v,S=n.displayName&&n.componentId?"".concat(Av(n.displayName),"-").concat(n.componentId):n.componentId||y,k=s&&l.attrs?l.attrs.concat(h).filter(Boolean):h,N=n.shouldForwardProp;if(s&&l.shouldForwardProp){var F=l.shouldForwardProp;if(n.shouldForwardProp){var I=n.shouldForwardProp;N=function(G,de){return F(G,de)&&I(G,de)}}else N=F}var J=new N2(r,S,s?l.componentStyle:void 0);function Q(G,de){return(function(ce,H,se){var te=ce.attrs,Z=ce.componentStyle,ue=ce.defaultProps,_e=ce.foldedComponentIds,ze=ce.styledComponentId,qe=ce.target,Ge=Ea.useContext(n1),C=Uv(),Y=ce.shouldForwardProp||C.shouldForwardProp,le=Xk(H,Ge,ue)||ds,ve=(function(pe,Oe,Ve){for(var et,Je=Un(Un({},Oe),{className:void 0,theme:Ve}),Ht=0;Ht<pe.length;Ht+=1){var Zt=hs(et=pe[Ht])?et(Je):et;for(var $e in Zt)Je[$e]=$e==="className"?li(Je[$e],Zt[$e]):$e==="style"?Un(Un({},Je[$e]),Zt[$e]):Zt[$e]}return Oe.className&&(Je.className=li(Je.className,Oe.className)),Je})(te,H,le),xe=ve.as||qe,E={};for(var B in ve)ve[B]===void 0||B[0]==="$"||B==="as"||B==="theme"&&ve.theme===le||(B==="forwardedAs"?E.as=ve.forwardedAs:Y&&!Y(B,xe)||(E[B]=ve[B]));var D=(function(pe,Oe){var Ve=Uv(),et=pe.generateAndInjectStyles(Oe,Ve.styleSheet,Ve.stylis);return et})(Z,ve),V=li(_e,ze);return D&&(V+=" "+D),ve.className&&(V+=" "+ve.className),E[Ed(xe)&&!qb.has(xe)?"class":"className"]=V,se&&(E.ref=se),x.createElement(xe,E)})(z,G,de)}Q.displayName=b;var z=Ea.forwardRef(Q);return z.attrs=k,z.componentStyle=J,z.displayName=b,z.shouldForwardProp=N,z.foldedComponentIds=s?li(l.foldedComponentIds,l.styledComponentId):"",z.styledComponentId=S,z.target=s?l.target:a,Object.defineProperty(z,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(G){this._foldedDefaultProps=s?(function(de){for(var ce=[],H=1;H<arguments.length;H++)ce[H-1]=arguments[H];for(var se=0,te=ce;se<te.length;se++)Xd(de,te[se],!0);return de})({},l.defaultProps,G):G}}),zh(z,function(){return".".concat(z.styledComponentId)}),c&&Xb(z,a,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),z}function $v(a,n){for(var r=[a[0]],s=0,l=n.length;s<l;s+=1)r.push(n[s],a[s+1]);return r}var Hv=function(a){return Object.assign(a,{isCss:!0})};function Lh(a){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(hs(a)||Mo(a))return Hv(di($v(Ic,kc([a],n,!0))));var s=a;return n.length===0&&s.length===1&&typeof s[0]=="string"?di(s):Hv(di($v(s,n)))}function Qd(a,n,r){if(r===void 0&&(r=ds),!n)throw Lo(1,n);var s=function(l){for(var c=[],f=1;f<arguments.length;f++)c[f-1]=arguments[f];return a(n,r,Lh.apply(void 0,kc([l],c,!1)))};return s.attrs=function(l){return Qd(a,n,Un(Un({},r),{attrs:Array.prototype.concat(r.attrs,l).filter(Boolean)}))},s.withConfig=function(l){return Qd(a,n,Un(Un({},r),l))},s}var a1=function(a){return Qd(j2,a)},On=a1;qb.forEach(function(a){On[a]=a1(a)});function pi(){return pi=Object.assign?Object.assign.bind():function(a){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var s in r)({}).hasOwnProperty.call(r,s)&&(a[s]=r[s])}return a},pi.apply(null,arguments)}function A2(a,n){if(a==null)return{};var r={};for(var s in a)if({}.hasOwnProperty.call(a,s)){if(n.indexOf(s)!==-1)continue;r[s]=a[s]}return r}function Bh(a,n){if(a==null)return{};var r,s,l=A2(a,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);for(s=0;s<c.length;s++)r=c[s],n.indexOf(r)===-1&&{}.propertyIsEnumerable.call(a,r)&&(l[r]=a[r])}return l}function _2(a){var n=a?.createRoot,r=new WeakMap;function s(f){var h=r.get(f);if(h)return h;var p=document.createElement("span");return f.appendChild(p),r.set(f,p),p}function l(f){var h=r.get(f);h&&(h.remove(),r.delete(f))}if(n){var c=new WeakMap;return{mount:function(h,p){var y,v=s(p),b=c.get(v);return b||(b=n(v),c.set(v,b)),b.render(h),(y=v.firstElementChild)!==null&&y!==void 0?y:v},unmount:function(h){var p=s(h),y=c.get(p);y&&(y.unmount(),c.delete(p)),l(h)}}}return{mount:function(h,p){var y=s(p);if("render"in Jg&&typeof Br.render=="function"){var v=Br.render(h,y);return v||y}throw new Error("ReactDOM.render is not available")},unmount:function(h){var p=s(h);if("unmountComponentAtNode"in Jg&&typeof Br.unmountComponentAtNode=="function")Br.unmountComponentAtNode(p);else throw new Error("ReactDOM.unmountComponentAtNode is not available");l(h)}}}function D2(a){var n=a.children,r=a.rendered;return x.useEffect(function(){r()}),n}function M2(){var a=x.useRef(!1);return x.useEffect(function(){a.current=!0},[]),{apply:function(r){a.current?queueMicrotask(function(){Br.flushSync(r)}):r()}}}var r1=x.createContext({start:null,end:null,path:null});function R2(a){var n=a.children,r=x.useState(null),s=An(r,2),l=s[0],c=s[1],f=x.useState(null),h=An(f,2),p=h[0],y=h[1],v=x.useState(null),b=An(v,2),S=b[0],k=b[1],N="x"in a.start?a.start:l,F="x"in a.end?a.end:p,I=M2();return x.useEffect(function(){var J=typeof a.start=="function"&&a.start(function(z){I.apply(function(){c(z)})}),Q=typeof a.end=="function"&&a.end(function(z){I.apply(function(){y(z)})});return function(){J&&J(),Q&&Q()}},[]),x.useEffect(function(){N&&F&&a.path(N,F).then(function(J){I.apply(function(){k(J)})})},[N,F]),x.createElement(r1.Provider,{value:{start:N,end:F,path:S}},n)}function i1(){return x.useContext(r1)}var Vv,qv,z2=On.svg(Vv||(Vv=wn([`
    overflow: visible !important;
    position: absolute;
    pointer-events: none;
    width: 9999px;
    height: 9999px;
`]))),L2=On.path(qv||(qv=wn([`
    fill: none;
    stroke-width: 5px;
    stroke: steelblue;
    pointer-events: auto;
    `,`
`])),function(a){var n;return(n=a.styles)===null||n===void 0?void 0:n.call(a,a)});function s1(a){var n=i1(),r=n.path;return r?x.createElement(z2,{"data-testid":"connection"},x.createElement(L2,{styles:a.styles,d:r})):null}function B2(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=U2(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(y){throw y},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,f=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var y=r.next();return f=y.done,y},e:function(y){h=!0,c=y},f:function(){try{f||r.return==null||r.return()}finally{if(h)throw c}}}}function U2(a,n){if(a){if(typeof a=="string")return Yv(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yv(a,n):void 0}}function Yv(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function I2(a){for(var n=new a.constructor(a.type),r=n;r=Object.getPrototypeOf(r);){var s=Object.getOwnPropertyNames(r),l=B2(s),c;try{for(l.s();!(c=l.n()).done;){var f=c.value,h=n[f];typeof h!="function"&&Object.defineProperty(n,f,{value:a[f]})}}catch(p){l.e(p)}finally{l.f()}}return n}var $2="__reactContainer$";function H2(a){for(var n=a;n;){if(n._reactRootContainer||Object.keys(n).some(function(r){return r.startsWith($2)}))return n;n=n.parentElement}}function Gv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function Fv(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Gv(Object(r),!0).forEach(function(s){Be(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):Gv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function o1(a,n){return{start:function(s){var l=Fv({},n(s));function c(h){var p=Fv({},n(h)),y=p.x-l.x,v=p.y-l.y;l=p,a(y,v)}function f(){window.removeEventListener("pointermove",c),window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",f)}window.addEventListener("pointermove",c),window.addEventListener("pointerup",f),window.addEventListener("pointercancel",f)}}}function V2(a,n){x.useEffect(function(){var r=function(c){if(!n){var f=H2(c.target),h=x.version.startsWith("16")?document:f;h&&(c.stopPropagation(),h.dispatchEvent(I2(c)))}},s=a.current;return s?.addEventListener("pointerdown",r),function(){s?.removeEventListener("pointerdown",r)}},[a,n])}var Pv,q2=On.input(Pv||(Pv=wn([`
  width: 100%;
  border-radius: 30px;
  background-color: white;
  padding: 2px 6px;
  border: 1px solid #999;
  font-size: 110%;
  box-sizing: border-box;
  `,`
`])),function(a){var n;return(n=a.styles)===null||n===void 0?void 0:n.call(a,a)});function Jd(a){var n=x.useState(a.data.value),r=An(n,2),s=r[0],l=r[1],c=x.useRef(null);return V2(c),x.useEffect(function(){l(a.data.value)},[a.data.value]),x.createElement(q2,{value:s,type:a.data.type,ref:c,readOnly:a.data.readonly,onChange:function(h){var p=a.data.type==="number"?+h.target.value:h.target.value;l(p),a.data.setValue(p)},styles:a.styles})}var Wd="rgba(110,136,255,0.8)",l1="#ffd92c",_a=24,lr=6,c1="#96b38a",u1=180,Y2=Object.freeze({__proto__:null,$nodecolor:Wd,$nodecolorselected:l1,$socketsize:_a,$socketmargin:lr,$socketcolor:c1,$nodewidth:u1}),G2=["init","unmount"];function Uh(a){var n=a.init,r=a.unmount,s=Bh(a,G2),l=x.useRef(null);return x.useEffect(function(){var c=l.current;return function(){c&&r(c)}},[]),x.useEffect(function(){l.current&&n(l.current)}),x.createElement("span",pi({},s,{ref:l}))}var F2=["name","emit","payload"];function eh(a){var n=a.name,r=a.emit,s=a.payload,l=Bh(a,F2);return x.createElement(Uh,pi({},l,{className:n,init:function(f){r({type:"render",data:{type:"control",element:f,payload:s}})},unmount:function(f){r({type:"unmount",data:{element:f}})}}))}var P2=["name","emit","nodeId","side","socketKey","payload"];function th(a){var n=a.name,r=a.emit,s=a.nodeId,l=a.side,c=a.socketKey,f=a.payload,h=Bh(a,P2);return x.createElement(Uh,pi({},h,{className:n,init:function(y){r({type:"render",data:{type:"socket",side:l,key:c,nodeId:s,element:y,payload:f}})},unmount:function(y){r({type:"unmount",data:{element:y}})}}))}var Zv,Xv,f1=On.div(Zv||(Zv=wn([`
    background: `,`;
    border: 2px solid #4e58bf;
    border-radius: 10px;
    cursor: pointer;
    box-sizing: border-box;
    width: `,`;
    height: `,`;
    padding-bottom: 6px;
    position: relative;
    user-select: none;
    line-height: initial;
    font-family: Arial;

    &:hover {
        background: lighten(`,`,4%);
    }
    `,`
    .title {
        color: white;
        font-family: sans-serif;
        font-size: 18px;
        padding: 8px;
    }
    .output {
        text-align: right;
    }
    .input {
        text-align: left;
    }
    .output-socket {
        text-align: right;
        margin-right: -`,`px;
        display: inline-block;
    }
    .input-socket {
        text-align: left;
        margin-left: -`,`px;
        display: inline-block;
    }
    .input-title,.output-title {
        vertical-align: middle;
        color: white;
        display: inline-block;
        font-family: sans-serif;
        font-size: 14px;
        margin: `,`px;
        line-height: `,`px;
    }
    .input-control {
        z-index: 1;
        width: calc(100% - `,`px);
        vertical-align: middle;
        display: inline-block;
    }
    .control {
        display: block;
        padding: `,"px ",`px;
    }
    `,`
`])),Wd,function(a){return Number.isFinite(a.width)?"".concat(a.width,"px"):"".concat(u1,"px")},function(a){return Number.isFinite(a.height)?"".concat(a.height,"px"):"auto"},Wd,function(a){return a.selected&&Lh(Xv||(Xv=wn([`
        background: `,`;
        border-color: #e3c000;
    `])),l1)},_a/2+lr,_a/2+lr,lr,_a,_a+2*lr,lr,_a/2+lr,function(a){var n;return(n=a.styles)===null||n===void 0?void 0:n.call(a,a)});function Cd(a){a.sort(function(n,r){var s,l,c=((s=n[1])===null||s===void 0?void 0:s.index)||0,f=((l=r[1])===null||l===void 0?void 0:l.index)||0;return c-f})}function d1(a){var n=Object.entries(a.data.inputs),r=Object.entries(a.data.outputs),s=Object.entries(a.data.controls),l=a.data.selected||!1,c=a.data,f=c.id,h=c.label,p=c.width,y=c.height;return Cd(n),Cd(r),Cd(s),x.createElement(f1,{selected:l,width:p,height:y,styles:a.styles,"data-testid":"node"},x.createElement("div",{className:"title","data-testid":"title"},h),r.map(function(v){var b=An(v,2),S=b[0],k=b[1];return k&&x.createElement("div",{className:"output",key:S,"data-testid":"output-".concat(S)},x.createElement("div",{className:"output-title","data-testid":"output-title"},k.label),x.createElement(th,{name:"output-socket",side:"output",socketKey:S,nodeId:f,emit:a.emit,payload:k.socket,"data-testid":"output-socket"}))}),s.map(function(v){var b=An(v,2),S=b[0],k=b[1];return k?x.createElement(eh,{key:S,name:"control",emit:a.emit,payload:k,"data-testid":"control-".concat(S)}):null}),n.map(function(v){var b=An(v,2),S=b[0],k=b[1];return k&&x.createElement("div",{className:"input",key:S,"data-testid":"input-".concat(S)},x.createElement(th,{name:"input-socket",side:"input",socketKey:S,nodeId:f,emit:a.emit,payload:k.socket,"data-testid":"input-socket"}),k&&(!k.control||!k.showControl)&&x.createElement("div",{className:"input-title","data-testid":"input-title"},k.label),k.control&&k.showControl&&x.createElement(eh,{key:S,name:"input-control",emit:a.emit,payload:k.control,"data-testid":"input-control"}))}))}var Kv,Qv,h1=On.div(Kv||(Kv=wn([`
    display: inline-block;
    cursor: pointer;
    border: 1px solid white;
    border-radius: `,`px;
    width: `,`px;
    height: `,`px;
    vertical-align: middle;
    background: `,`;
    z-index: 2;
    box-sizing: border-box;
    &:hover {
      border-width: 4px;
    }
    &.multiple {
      border-color: yellow;
    }
`])),_a/2,_a,_a,c1),Z2=On.div(Qv||(Qv=wn([`
    border-radius: `,`px;
    padding: `,`px;
    &:hover `,` {
      border-width: 4px;
    }
`])),(_a+lr*2)/2,lr,h1);function p1(a){return x.createElement(Z2,null,x.createElement(h1,{title:a.data.name}))}function X2(a){var n=typeof a?.socketPositionWatcher>"u"?Nk():a.socketPositionWatcher,r=a?.customize||{},s=r.node,l=r.connection,c=r.socket,f=r.control;return{attach:function(p){n.attach(p)},render:function(p,y){if(p.data.type==="node"){var v=y.parentScope(),b=s?s(p.data):d1;return b&&x.createElement(b,{data:p.data.payload,emit:function(de){return void v.emit(de)}})}else if(p.data.type==="connection"){var S=l?l(p.data):s1,k=p.data.payload,N=k.sourceOutput,F=k.targetInput,I=k.source,J=k.target;return S&&x.createElement(R2,{start:p.data.start||function(G){return n.listen(I,"output",N,G)},end:p.data.end||function(G){return n.listen(J,"input",F,G)},path:(function(){var G=at(we.mark(function de(ce,H){var se,te,Z,ue,_e;return we.wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:return ze.next=1,y.emit({type:"connectionpath",data:{payload:k,points:[ce,H]}});case 1:if(se=ze.sent,se){ze.next=2;break}return ze.abrupt("return","");case 2:if(te=se.data,Z=te.path,ue=te.points,_e=.3,!(!Z&&ue.length!==2)){ze.next=3;break}throw new Error("cannot render connection with a custom number of points");case 3:if(Z){ze.next=4;break}return ze.abrupt("return",k.isLoop?Sk(ue,_e,120):wk(ue,_e));case 4:return ze.abrupt("return",Z);case 5:case"end":return ze.stop()}},de)}));return function(de,ce){return G.apply(this,arguments)}})()},x.createElement(S,{data:p.data.payload}))}else if(p.data.type==="socket"){var Q=c?c(p.data):p1;return Q&&p.data.payload&&x.createElement(Q,{data:p.data.payload})}else if(p.data.type==="control"){var z=f&&p.data.payload?f(p.data):p.data.payload instanceof Gt.InputControl?Jd:null;return z&&x.createElement(z,{data:p.data.payload})}}}}var K2=Object.freeze({__proto__:null,vars:Y2,setup:X2,Connection:s1,useConnection:i1,Control:Jd,InputControl:Jd,Node:d1,NodeStyles:f1,RefControl:eh,RefSocket:th,Socket:p1});function m1(a,n){var r=x.useRef(void 0);function s(){r.current&&clearTimeout(r.current)}var l=function(){s(),r.current=setTimeout(function(){a()},n)};return x.useEffect(function(){return s},[]),[l,s]}var Q2="rgba(110,136,255,0.8)",J2="rgba(130, 153, 255, 0.8)",W2="rgba(69, 103, 255, 0.8)",tc="5px",nh=120,Jv,Ih=On.div(Jv||(Jv=wn([`
  color: #fff;
  padding: 4px;
  border-bottom: 1px solid `,`;
  background-color: `,`;
  cursor: pointer;
  width: 100%;
  position: relative;
  &:first-child {
    border-top-left-radius: `,`;
    border-top-right-radius: `,`;
  }
  &:last-child {
    border-bottom-left-radius: `,`;
    border-bottom-right-radius: `,`;
  }
  &:hover {
    background-color: `,`;
  }
`])),W2,Q2,tc,tc,tc,tc,J2),Wv,e0,t0,y1=On(Ih)(Wv||(Wv=wn([`
    `,`
`])),function(a){return a.hasSubitems&&Lh(e0||(e0=wn([`&:after {
    content: '';
    position: absolute;
    opacity: 0.6;
    right: 5px;
    top: 5px;
    }`])))}),g1=On.div(t0||(t0=wn([`
    position: absolute;
    top: 0;
    left: 100%;
    width: `,`px;
`])),nh);function v1(a){var n,r,s,l,c=x.useState(!1),f=An(c,2),h=f[0],p=f[1],y=x.useCallback(function(){p(!1)},[p]),v=m1(y,a.delay),b=An(v,2),S=b[0],k=b[1],N=((n=a.components)===null||n===void 0||(r=n.item)===null||r===void 0?void 0:r.call(n,a.data))||y1,F=((s=a.components)===null||s===void 0||(l=s.subitems)===null||l===void 0?void 0:l.call(s,a.data))||g1;return x.createElement(N,{onClick:function(J){J.stopPropagation(),a.data.handler(),a.hide()},hasSubitems:!!a.data.subitems,onPointerDown:function(J){J.stopPropagation()},onPointerOver:function(){k(),p(!0)},onPointerLeave:function(){S&&S()},"data-testid":"context-menu-item"},a.children,a.data.subitems&&h&&x.createElement(F,null,a.data.subitems.map(function(I){return x.createElement(v1,{key:I.key,data:I,delay:a.delay,hide:a.hide,components:a.components},I.label)})))}var n0,b1=On.input(n0||(n0=wn([`
  color: white;
  padding: 1px 8px;
  border: 1px solid white;
  border-radius: 10px;
  font-size: 16px;
  font-family: serif;
  width: 100%;
  box-sizing: border-box;
  background: transparent;
`])));function eC(a){var n=a.component||b1;return x.createElement(n,{value:a.value,onInput:function(s){a.onChange(s.target.value)},onPointerDown:function(s){s.stopPropagation()},"data-testid":"context-menu-search-input"})}var a0,w1=On.div(a0||(a0=wn([`
  padding: 10px;
  width: `,`px;
  margin-top: -20px;
  margin-left: -`,`px;
`])),nh,nh/2);function tC(a){var n,r,s,l,c,f,h=m1(a.onHide,a.delay),p=An(h,2),y=p[0],v=p[1],b=x.useState(""),S=An(b,2),k=S[0],N=S[1],F=new RegExp(k,"i"),I=a.items.filter(function(z){return z.label.match(F)}),J=((n=a.components)===null||n===void 0||(r=n.main)===null||r===void 0?void 0:r.call(n))||w1,Q=((s=a.components)===null||s===void 0||(l=s.common)===null||l===void 0?void 0:l.call(s))||Ih;return x.createElement(J,{onMouseOver:function(){v()},onMouseLeave:function(){y?.()},onWheel:function(G){G.stopPropagation()},"data-testid":"context-menu"},a.searchBar&&x.createElement(Q,null,x.createElement(eC,{value:k,onChange:N,component:(c=a.components)===null||c===void 0||(f=c.search)===null||f===void 0?void 0:f.call(c)})),I.map(function(z){return x.createElement(v1,{key:z.key,data:z,delay:a.delay,hide:a.onHide,components:a.components},z.label)}))}function nC(a){var n=typeof a?.delay>"u"?1e3:a.delay;return{render:function(s){if(s.data.type==="contextmenu")return x.createElement(tC,{items:s.data.items,delay:n,searchBar:s.data.searchBar,onHide:s.data.onHide,components:a?.customize})}}}var aC=Object.freeze({__proto__:null,setup:nC,Item:y1,Subitems:g1,Menu:w1,Search:b1,Common:Ih}),nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},rC=typeof nc=="object"&&nc&&nc.Object===Object&&nc,iC=typeof self=="object"&&self&&self.Object===Object&&self;rC||iC||Function("return this")();function sC(){const a=x.useRef(!1);return x.useEffect(()=>(a.current=!0,()=>{a.current=!1}),[]),x.useCallback(()=>a.current,[])}var r0={width:void 0,height:void 0};function oC(a){const{ref:n,box:r="content-box"}=a,[{width:s,height:l},c]=x.useState(r0),f=sC(),h=x.useRef({...r0}),p=x.useRef(void 0);return p.current=a.onResize,x.useEffect(()=>{if(!n.current||typeof window>"u"||!("ResizeObserver"in window))return;const y=new ResizeObserver(([v])=>{const b=r==="border-box"?"borderBoxSize":r==="device-pixel-content-box"?"devicePixelContentBoxSize":"contentBoxSize",S=i0(v,b,"inlineSize"),k=i0(v,b,"blockSize");if(h.current.width!==S||h.current.height!==k){const F={width:S,height:k};h.current.width=S,h.current.height=k,p.current?p.current(F):f()&&c(F)}});return y.observe(n.current,{box:r}),()=>{y.disconnect()}},[r,n,f]),{width:s,height:l}}function i0(a,n,r){return a[n]?Array.isArray(a[n])?a[n][0][r]:a[n][r]:n==="contentBoxSize"?a.contentRect[r==="inlineSize"?"width":"height"]:void 0}function Da(a){return"".concat(a,"px")}var s0,lC=On.div(s0||(s0=wn([`
    position: absolute;
    background: rgba(110, 136, 255, 0.8);
    border: 1px solid rgb(192 206 212 / 60%);
`])));function cC(a){return x.createElement(lC,{style:{left:Da(a.left),top:Da(a.top),width:Da(a.width),height:Da(a.height)},"data-testid":"minimap-node"})}var o0,uC=On.div(o0||(o0=wn([`
  position: absolute;
  background: rgba(255, 251, 128, 0.32);
  border: 1px solid #ffe52b;
`])));function fC(a){var n=function(c){return c*a.containerWidth},r=function(c){return c/a.containerWidth},s=o1(function(l,c){a.translate(r(-l),r(-c))},function(l){return{x:l.pageX,y:l.pageY}});return x.createElement(uC,{onPointerDown:s.start,style:{left:Da(n(a.left)),top:Da(n(a.top)),width:Da(n(a.width)),height:Da(n(a.height))},"data-testid":"minimap-viewport"})}var l0,dC=On.div(l0||(l0=wn([`
    position: absolute;
    right: 24px;
    bottom: 24px;
    background: rgba(229, 234, 239, 0.65);
    padding: 20px;
    overflow: hidden;
    border: 1px solid #b1b7ff;
    border-radius: 8px;
    box-sizing: border-box;
`])));function hC(a){var n,r=x.useRef(null),s=oC({ref:r}),l=s.width,c=l===void 0?0:l,f=((n=r.current)===null||n===void 0?void 0:n.clientWidth)||c,h=x.useCallback(function(p){return p*f},[f]);return x.createElement(dC,{size:a.size,style:{width:Da(a.size*a.ratio),height:Da(a.size)},onPointerDown:function(y){y.stopPropagation(),y.preventDefault()},onDoubleClick:function(y){if(y.stopPropagation(),y.preventDefault(),!!r.current){var v=r.current.getBoundingClientRect(),b=(y.clientX-v.left)/(a.size*a.ratio),S=(y.clientY-v.top)/(a.size*a.ratio);a.point(b,S)}},ref:r,"data-testid":"minimap"},f?a.nodes.map(function(p,y){return x.createElement(cC,{key:y,left:h(p.left),top:h(p.top),width:h(p.width),height:h(p.height)})}):null,x.createElement(fC,pi({},a.viewport,{start:a.start,containerWidth:f,translate:a.translate})))}function pC(a){return{render:function(r){if(r.data.type==="minimap")return x.createElement(hC,{nodes:r.data.nodes,size:a?.size||200,ratio:r.data.ratio,viewport:r.data.viewport,start:r.data.start,translate:r.data.translate,point:r.data.point})}}}var mC=Object.freeze({__proto__:null,setup:pC}),c0,No=20,yC=On.div(c0||(c0=wn([`
  width: `,`px;
  height: `,`px;
  box-sizing: border-box;
  background: `,`;
  border: 2px solid white;
  border-radius: `,`px;
`])),No,No,function(a){return a.selected?"#ffd92c":"steelblue"},No);function gC(a){var n=o1(function(c,f){a.translate(c,f)},a.pointer),r=a.position,s=r.x,l=r.y;return x.createElement(yC,{onPointerDown:function(f){f.stopPropagation(),f.preventDefault(),n.start(f),a.pointerdown()},onContextMenu:function(f){f.stopPropagation(),f.preventDefault(),a.contextMenu()},selected:a.selected,style:{position:"absolute",top:"".concat(l-No/2,"px"),left:"".concat(s-No/2,"px")},"data-testid":"pin"})}function vC(a){function n(r,s){return x.createElement(x.Fragment,null,r.pins.map(function(l){return x.createElement(gC,pi({},l,{key:l.id,contextMenu:function(){var f;a==null||(f=a.contextMenu)===null||f===void 0||f.call(a,l.id)},translate:function(f,h){var p;a==null||(p=a.translate)===null||p===void 0||p.call(a,l.id,f,h)},pointerdown:function(){var f;a==null||(f=a.pointerdown)===null||f===void 0||f.call(a,l.id)},pointer:s}))}))}return{render:function(s,l){var c=s.data,f=l.parentScope(zo);if(c.type==="reroute-pins")return n(c.data,function(){return f.area.pointer})}}}var bC=Object.freeze({__proto__:null,setup:vC}),Td=Object.freeze({__proto__:null,classic:K2,contextMenu:aC,minimap:mC,reroute:bC});function wC(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=SC(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(y){throw y},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,f=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var y=r.next();return f=y.done,y},e:function(y){h=!0,c=y},f:function(){try{f||r.return==null||r.return()}finally{if(h)throw c}}}}function SC(a,n){if(a){if(typeof a=="string")return u0(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u0(a,n):void 0}}function u0(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function f0(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function ac(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?f0(Object(r),!0).forEach(function(s){Be(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):f0(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function xC(a,n,r){return n=Dt(n),La(a,S1()?Reflect.construct(n,r||[],Dt(a).constructor):n.apply(a,r))}function S1(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S1=function(){return!!a})()}function EC(a,n,r,s){var l=Do(Dt(a.prototype),n,r);return typeof l=="function"?function(c){return l.apply(r,c)}:l}var kC=(function(a){function n(){for(var r,s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var f=l[0];return ct(this,n),r=xC(this,n,["react-render"]),Be(r,"presets",[]),r.renderer=_2({createRoot:f?.createRoot}),r.addPipe(function(h){if(!h||bn(h)!=="object"||!("type"in h))return h;if(h.type==="unmount")r.unmount(h.data.element);else if(h.type==="render"){if("filled"in h.data&&h.data.filled)return h;if(r.mount(h.data.element,h))return ac(ac({},h),{},{data:ac(ac({},h.data),{},{filled:!0})})}return h}),r}return In(n,a),ut(n,[{key:"setParent",value:function(s){var l=this;EC(n,"setParent",this)([s]),this.presets.forEach(function(c){c.attach&&c.attach(l)})}},{key:"mount",value:function(s,l){var c=this.parentScope(),f=wC(this.presets),h;try{for(f.s();!(h=f.n()).done;){var p=h.value,y=p.render(l,this);if(y){var v=x.createElement(D2,{rendered:function(){return void c.emit({type:"rendered",data:l.data})}},y);return this.renderer.mount(v,s),!0}}}catch(b){f.e(b)}finally{f.f()}}},{key:"unmount",value:function(s){this.renderer.unmount(s)}},{key:"addPreset",value:function(s){var l=s;l.attach&&l.attach(this),this.presets.push(l)}}])})(ms);function CC(a){try{return Function.toString.call(a).indexOf("[native code]")!==-1}catch{return typeof a=="function"}}function x1(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x1=function(){return!!a})()}function TC(a,n,r){if(x1())return Reflect.construct.apply(null,arguments);var s=[null];s.push.apply(s,n);var l=new(a.bind.apply(a,s));return r&&_o(l,r.prototype),l}function ah(a){var n=typeof Map=="function"?new Map:void 0;return ah=function(s){if(s===null||!CC(s))return s;if(typeof s!="function")throw new TypeError("Super expression must either be null or a function");if(n!==void 0){if(n.has(s))return n.get(s);n.set(s,l)}function l(){return TC(s,arguments,Dt(this).constructor)}return l.prototype=Object.create(s.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),_o(l,s)},ah(a)}function OC(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=NC(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(y){throw y},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,f=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var y=r.next();return f=y.done,y},e:function(y){h=!0,c=y},f:function(){try{f||r.return==null||r.return()}finally{if(h)throw c}}}}function NC(a,n){if(a){if(typeof a=="string")return d0(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d0(a,n):void 0}}function d0(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}var jC=(function(){function a(n){ct(this,a),Be(this,"setups",new Map),this.editor=n}return ut(a,[{key:"add",value:function(r,s){var l=this.setups.get(r.id);if(l)throw new Error("already processed");this.setups.set(r.id,s)}},{key:"remove",value:function(r){this.setups.delete(r)}},{key:"fetchInputs",value:(function(){var n=at(we.mark(function s(l){var c=this,f,h,p,y,v,b,S,k,N,F,I,J;return we.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(f=this.setups.get(l),f){z.next=3;break}throw new Error("node is not initialized");case 3:return h=f.inputs(),p=this.editor.getConnections().filter(function(G){return G.target===l&&h.includes(G.targetInput)}),y={},z.next=8,Promise.all(p.map((function(){var G=at(we.mark(function de(ce){return we.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return se.t0=ce,se.next=3,c.fetch(ce.source);case 3:return se.t1=se.sent,se.abrupt("return",{c:se.t0,sourceData:se.t1});case 5:case"end":return se.stop()}},de)}));return function(de){return G.apply(this,arguments)}})()));case 8:v=z.sent,b=OC(v);try{for(b.s();!(S=b.n()).done;)k=S.value,N=k.c,F=k.sourceData,I=y[N.targetInput]?y[N.targetInput]:[],J=y,J[N.targetInput]=[].concat(ys(I),[F[N.sourceOutput]])}catch(G){b.e(G)}finally{b.f()}return z.abrupt("return",y);case 12:case"end":return z.stop()}},s,this)}));function r(s){return n.apply(this,arguments)}return r})()},{key:"fetch",value:(function(){var n=at(we.mark(function s(l){var c=this,f,h,p,y;return we.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(f=this.setups.get(l),f){b.next=3;break}throw new Error("node is not initialized");case 3:return h=f.outputs(),b.next=6,f.data(function(){return c.fetchInputs(l)});case 6:if(p=b.sent,y=Object.keys(p),h.every(function(S){return y.includes(S)})){b.next=10;break}throw new Error('dataflow node "'.concat(l,`" doesn't return all of required properties. Expected "`).concat(h.join('", "'),'". Got "').concat(y.join('", "'),'"'));case 10:return b.abrupt("return",p);case 11:case"end":return b.stop()}},s,this)}));function r(s){return n.apply(this,arguments)}return r})()}])})(),AC=(function(){function a(n){ct(this,a),Be(this,"cache",new Map),this.onDelete=n}return ut(a,[{key:"get",value:function(r){return this.cache.get(r)}},{key:"add",value:function(r,s){if(this.cache.has(r))throw new Error("cache already exists");this.cache.set(r,s)}},{key:"patch",value:function(r,s){this.cache.set(r,s)}},{key:"delete",value:function(r){var s=this.cache.get(r);this.cache.delete(r),this.onDelete&&this.onDelete(s)}},{key:"clear",value:function(){var r=this;Array.from(this.cache.keys()).forEach(function(s){r.delete(s)})}}])})();function _C(a,n,r){return n=Dt(n),La(a,E1()?Reflect.construct(n,r||[],Dt(a).constructor):n.apply(a,r))}function E1(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E1=function(){return!!a})()}var h0=(function(a){function n(){return ct(this,n),_C(this,n,["cancelled"])}return In(n,a),ut(n)})(ah(Error));function DC(){var a=!1;function n(p){if(a)throw new h0;return p}for(var r,s=new Promise(function(p,y){r=y,p()}),l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];var h=c.reduce(function(p,y){var v=p.then(y).then(n);return v},s);return h.cancel=function(){a||r(new h0),a=!0},h}function MC(a,n,r){return n=Dt(n),La(a,k1()?Reflect.construct(n,r||[],Dt(a).constructor):n.apply(a,r))}function k1(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k1=function(){return!!a})()}function RC(a,n,r,s){var l=Do(Dt(a.prototype),n,r);return typeof l=="function"?function(c){return l.apply(r,c)}:l}var zC=(function(a){function n(r){var s;return ct(this,n),s=MC(this,n,["dataflow-engine"]),Be(s,"cache",new AC(function(l){return l?.cancel&&l.cancel()})),s.configure=r,s.addPipe(function(l){return l.type==="nodecreated"&&s.add(l.data),l.type==="noderemoved"&&s.remove(l.data),l}),s}return In(n,a),ut(n,[{key:"setParent",value:function(s){RC(n,"setParent",this)([s]),this.editor=this.parentScope($r),this.dataflow=new jC(this.editor)}},{key:"getDataflow",value:function(){if(!this.dataflow)throw new Error("DataflowEngine isn't attached to NodeEditor");return this.dataflow}},{key:"add",value:function(s){var l=this,c=this.configure?this.configure(s):{inputs:function(){return Object.keys(s.inputs)},outputs:function(){return Object.keys(s.outputs)}};this.getDataflow().add(s,{inputs:c.inputs,outputs:c.outputs,data:(function(){var f=at(we.mark(function p(y){var v,b;return we.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(v=l.cache.get(s.id),!v){k.next=3;break}return k.abrupt("return",v);case 3:return b=DC(function(){return y()},function(N){return s.data(N)}),l.cache.add(s.id,b),k.abrupt("return",b);case 6:case"end":return k.stop()}},p)}));function h(p){return f.apply(this,arguments)}return h})()})}},{key:"remove",value:function(s){this.getDataflow().remove(s.id)}},{key:"reset",value:function(s){var l=this;if(s){var c=this.getDataflow().setups.get(s);if(!c)throw new Error("setup");var f=c.outputs();this.cache.delete(s),this.editor.getConnections().filter(function(h){return h.source===s&&f.includes(h.sourceOutput)}).forEach(function(h){l.reset(h.target)})}else this.cache.clear()}},{key:"fetchInputs",value:(function(){var r=at(we.mark(function l(c){var f;return we.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return f=bn(c)==="object"?c.id:c,p.abrupt("return",this.getDataflow().fetchInputs(f));case 2:case"end":return p.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"fetch",value:(function(){var r=at(we.mark(function l(c){var f;return we.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return f=bn(c)==="object"?c.id:c,p.abrupt("return",this.getDataflow().fetch(f));case 2:case"end":return p.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()}])})(ms);const LC=!1,$h=(...a)=>LC,p0=Gt.Socket.canConnect;Gt.Socket.canConnect=function(a,n){return $h(`[Socket Check] ${a.name} <-> ${n.name}`),p0&&p0(a,n)||a.name==="any"||n.name==="any"?!0:a.name===n.name};Gt.Socket.prototype.canConnectTo=function(a){return $h(`[Socket Instance Check] ${this.name} -> ${a.name}`),Gt.Socket.canConnect(this,a)};const C1={boolean:new Gt.Socket("boolean"),number:new Gt.Socket("number"),object:new Gt.Socket("object"),lightInfo:new Gt.Socket("light_info"),any:new Gt.Socket("any")};Object.values(C1).forEach(a=>{a.canConnectTo=function(n){return $h(`[Socket Instance Direct] ${this.name} -> ${n.name}`),this.name===n.name||this.name==="any"||n.name==="any"}});let vo=null;function $c(){if(vo!==null)return vo;const n=window.location.pathname.match(/^(\/api\/hassio_ingress\/[^/]+)/);return n?vo=n[1]:vo="",vo}function Kn(a){const n=$c(),r=a.startsWith("/")?a:"/"+a;return n+r}$c();const ci="t2app-pin",Nc="t2app-pin-remember",T1=(a,n)=>{try{return a.getItem(n)}catch{return null}},rc=(a,n,r)=>{try{return a.setItem(n,r),!0}catch{return!1}},jo=(a,n)=>{try{return a.removeItem(n),!0}catch{return!1}},jc=()=>T1(localStorage,Nc)==="true",ss=()=>{const n=jc()?localStorage:sessionStorage;return(T1(n,ci)||"").trim()||null},O1=()=>{jo(sessionStorage,ci),jo(localStorage,ci),jo(localStorage,Nc),window.dispatchEvent(new CustomEvent("t2-pin-changed",{detail:{hasPin:!1}}))},m0=(a,{remember:n}={})=>{const r=(a||"").toString().trim(),s=typeof n=="boolean"?n:jc();if(!r){O1(),typeof n=="boolean"&&rc(localStorage,Nc,n?"true":"false");return}rc(localStorage,Nc,s?"true":"false"),s?(rc(localStorage,ci,r),jo(sessionStorage,ci)):(rc(sessionStorage,ci,r),jo(localStorage,ci)),window.dispatchEvent(new CustomEvent("t2-pin-changed",{detail:{hasPin:!0}}))},as=async(a,n={})=>{const r=typeof a=="string"?Kn(a):a;return fetch(r,n)},Qn=async(a,n={})=>{const r=ss(),s=typeof a=="string"?Kn(a):a;if(!r)return fetch(s,n);const l=new Headers(n.headers||(typeof a!="string"?a.headers:void 0)||void 0);return l.set("X-APP-PIN",r),fetch(s,{...n,headers:l})},y0={shelly:{icon:"",color:"#ff9800",label:"Shelly"},wled:{icon:"",color:"#e040fb",label:"WLED"},esphome:{icon:"",color:"#00bcd4",label:"ESPHome"},hue:{icon:"",color:"#ffc107",label:"Philips Hue"},kasa:{icon:"",color:"#4caf50",label:"TP-Link Kasa"},tasmota:{icon:"",color:"#ff5722",label:"Tasmota"},chromecast:{icon:"",color:"#5c6bc0",label:"Chromecast"},homekit:{icon:"",color:"#607d8b",label:"HomeKit"},airplay:{icon:"",color:"#9c27b0",label:"AirPlay"},generic:{icon:"",color:"#78909c",label:"HTTP Device"},http:{icon:"",color:"#78909c",label:"HTTP Device"}};function BC(){const[a,n]=x.useState([]),[r,s]=x.useState(!1),[l,c]=x.useState(null),[f,h]=x.useState(null),[p,y]=x.useState(5e3),[v,b]=x.useState(null),S=x.useCallback(async()=>{s(!0),c(null);try{const J=await as("/api/discovery/scan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({timeout:p})});if(!J.ok){const z=await J.json();throw new Error(z.error||`Scan failed (${J.status})`)}const Q=await J.json();n(Q.devices||[]),h(new Date)}catch(J){console.error("[Discovery] Scan error:",J),c(J.message)}finally{s(!1)}},[p]),k=J=>y0[J]||y0.generic,N=J=>J?new Date(J).toLocaleTimeString():"",I=(J=>{const Q={};for(const z of J){const G=z.type||"generic";Q[G]||(Q[G]=[]),Q[G].push(z)}return Q})(a);return m.jsxs("div",{className:"discovery-panel",children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[m.jsxs("div",{children:[m.jsx("div",{style:{fontSize:"11px",color:"#8a959e",marginBottom:"4px"},children:"Scan your network for smart home devices"}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx("label",{style:{fontSize:"11px",color:"#8a959e"},children:"Timeout:"}),m.jsxs("select",{value:p,onChange:J=>y(Number(J.target.value)),disabled:r,style:{background:"#2a3238",color:"#c5cdd3",border:"1px solid rgba(95, 179, 179, 0.3)",borderRadius:"4px",padding:"4px 8px",fontSize:"11px"},children:[m.jsx("option",{value:3e3,children:"3 seconds"}),m.jsx("option",{value:5e3,children:"5 seconds"}),m.jsx("option",{value:1e4,children:"10 seconds"}),m.jsx("option",{value:15e3,children:"15 seconds"})]})]})]}),m.jsx("button",{onClick:S,disabled:r,style:{padding:"10px 20px",background:r?"rgba(95, 179, 179, 0.2)":"rgba(95, 179, 179, 0.15)",border:"1px solid rgba(95, 179, 179, 0.5)",borderRadius:"6px",color:r?"#8a959e":"#5fb3b3",cursor:r?"not-allowed":"pointer",fontSize:"13px",fontWeight:500,display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s"},children:r?m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"discovery-spinner",children:""}),"Scanning..."]}):m.jsx(m.Fragment,{children:" Scan Network"})})]}),l&&m.jsxs("div",{style:{padding:"10px 14px",background:"rgba(199, 95, 95, 0.15)",border:"1px solid rgba(199, 95, 95, 0.3)",borderRadius:"6px",color:"#c75f5f",fontSize:"12px",marginBottom:"12px"},children:[" ",l]}),f&&m.jsxs("div",{style:{fontSize:"10px",color:"#8a959e",marginBottom:"12px"},children:["Last scan: ",f.toLocaleTimeString(),"  Found ",a.length," device(s)"]}),a.length===0&&!r&&f&&m.jsxs("div",{style:{padding:"30px",textAlign:"center",color:"#8a959e",background:"rgba(0, 0, 0, 0.2)",borderRadius:"8px"},children:[m.jsx("div",{style:{fontSize:"24px",marginBottom:"8px"},children:""}),m.jsx("div",{children:"No devices found on your network."}),m.jsx("div",{style:{fontSize:"11px",marginTop:"8px"},children:"Try increasing the timeout or check if your devices are online."})]}),Object.entries(I).map(([J,Q])=>{const z=k(J);return m.jsxs("div",{style:{marginBottom:"16px"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",paddingBottom:"6px",borderBottom:"1px solid rgba(95, 179, 179, 0.15)"},children:[m.jsx("span",{style:{fontSize:"16px"},children:z.icon}),m.jsx("span",{style:{color:z.color,fontSize:"13px",fontWeight:500},children:z.label}),m.jsx("span",{style:{color:"#8a959e",fontSize:"11px",background:"rgba(0, 0, 0, 0.2)",padding:"2px 8px",borderRadius:"10px"},children:Q.length})]}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:Q.map(G=>m.jsxs("div",{style:{background:v===G.id?"rgba(95, 179, 179, 0.1)":"rgba(0, 0, 0, 0.15)",border:"1px solid rgba(95, 179, 179, 0.15)",borderRadius:"6px",padding:"10px 14px",cursor:"pointer",transition:"all 0.2s"},onClick:()=>b(v===G.id?null:G.id),children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[m.jsxs("div",{children:[m.jsx("div",{style:{color:"#c5cdd3",fontSize:"13px",fontWeight:500},children:G.name}),m.jsxs("div",{style:{color:"#8a959e",fontSize:"11px",fontFamily:"monospace"},children:[G.ip,":",G.port]})]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[G.configured?m.jsx("span",{style:{background:"rgba(95, 170, 125, 0.2)",color:"#5faa7d",padding:"3px 8px",borderRadius:"4px",fontSize:"10px"},children:"Configured"}):m.jsx("span",{style:{background:"rgba(212, 160, 84, 0.2)",color:"#d4a054",padding:"3px 8px",borderRadius:"4px",fontSize:"10px"},children:"New"}),m.jsx("span",{style:{color:"#8a959e",fontSize:"12px"},children:v===G.id?"":""})]})]}),v===G.id&&m.jsxs("div",{style:{marginTop:"12px",paddingTop:"12px",borderTop:"1px solid rgba(95, 179, 179, 0.1)",fontSize:"11px",color:"#8a959e"},children:[m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"100px 1fr",gap:"6px 12px"},children:[m.jsx("span",{children:"Host:"}),m.jsx("span",{style:{color:"#c5cdd3",fontFamily:"monospace"},children:G.host||"N/A"}),m.jsx("span",{children:"Source:"}),m.jsx("span",{style:{color:"#c5cdd3"},children:G.source==="mdns"?"mDNS/Bonjour":G.source==="udp"?"UDP Broadcast":G.source}),m.jsx("span",{children:"Discovered:"}),m.jsx("span",{style:{color:"#c5cdd3"},children:N(G.discoveredAt)}),G.capabilities&&G.capabilities.length>0&&m.jsxs(m.Fragment,{children:[m.jsx("span",{children:"Capabilities:"}),m.jsx("span",{style:{color:"#5fb3b3"},children:G.capabilities.join(", ")})]}),G.model&&m.jsxs(m.Fragment,{children:[m.jsx("span",{children:"Model:"}),m.jsx("span",{style:{color:"#c5cdd3"},children:G.model})]})]}),m.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"12px"},children:[m.jsx("button",{onClick:de=>{de.stopPropagation(),window.open(`http://${G.ip}:${G.port}`,"_blank")},style:{padding:"6px 12px",background:"rgba(95, 179, 179, 0.15)",border:"1px solid rgba(95, 179, 179, 0.3)",borderRadius:"4px",color:"#5fb3b3",cursor:"pointer",fontSize:"11px"},children:" Open Web UI"}),m.jsx("button",{onClick:de=>{de.stopPropagation(),navigator.clipboard.writeText(G.ip)},style:{padding:"6px 12px",background:"rgba(95, 179, 179, 0.1)",border:"1px solid rgba(95, 179, 179, 0.2)",borderRadius:"4px",color:"#8a959e",cursor:"pointer",fontSize:"11px"},children:" Copy IP"})]})]})]},G.id))})]},J)}),m.jsx("style",{children:`
                .discovery-spinner {
                    display: inline-block;
                    animation: spin 1s linear infinite;
                }
                @keyframes spin {
                    from { transform: rotate(0deg); }
                    to { transform: rotate(360deg); }
                }
            `})]})}const ic=[{key:"primary",label:"Primary Accent Color",type:"color",default:"#5fb3b3"},{key:"background",label:"Node Background",type:"color",default:"#1e2428"},{key:"surface",label:"Node Surface",type:"color",default:"#2a3238"},{key:"surfaceLight",label:"Elevated Surface",type:"color",default:"#343d44"},{key:"text",label:"Text Color",type:"color",default:"#c5cdd3"},{key:"textMuted",label:"Muted Text",type:"color",default:"#8a959e"},{key:"success",label:"Success Color",type:"color",default:"#5faa7d"},{key:"warning",label:"Warning Color",type:"color",default:"#d4a054"},{key:"error",label:"Error Color",type:"color",default:"#c75f5f"},{key:"borderOpacity",label:"Border Opacity (%)",type:"range",min:0,max:100,default:25}],UC=[{category:"Home Assistant",icon:"",testable:"ha",settings:[{key:"HA_HOST",label:"Home Assistant URL",placeholder:"http://homeassistant.local:8123",type:"text"},{key:"HA_TOKEN",label:"Long-Lived Access Token",placeholder:"eyJ...",type:"password",isSecret:!0}]},{category:"Weather Services",icon:"",testable:"weather",settings:[{key:"OPENWEATHERMAP_API_KEY",label:"OpenWeatherMap API Key",placeholder:"Your API key",type:"password",isSecret:!0}]},{category:"Ambient Weather",icon:"",settings:[{key:"AMBIENT_API_KEY",label:"Ambient Weather API Key",placeholder:"Your API key",type:"password",isSecret:!0},{key:"AMBIENT_APPLICATION_KEY",label:"Application Key",placeholder:"Your app key",type:"password",isSecret:!0},{key:"AMBIENT_MAC_ADDRESS",label:"Device MAC Address",placeholder:"XX:XX:XX:XX:XX:XX",type:"text"}]},{category:"Philips Hue",icon:"",testable:"hue",settings:[{key:"HUE_BRIDGE_IP",label:"Bridge IP Address",placeholder:"192.168.1.x",type:"text"},{key:"HUE_USERNAME",label:"Bridge Username/Key",placeholder:"Generated key",type:"password",isSecret:!0}]},{category:"Telegram Notifications",icon:"",testable:"telegram",settings:[{key:"TELEGRAM_BOT_TOKEN",label:"Bot Token",placeholder:"123456:ABC-DEF...",type:"password",isSecret:!0},{key:"TELEGRAM_CHAT_ID",label:"Chat ID",placeholder:"123456789",type:"text"}]},{category:"Location",icon:"",description:"Your location for sunrise/sunset calculations and weather",settings:[{key:"LOCATION_CITY",label:"City",placeholder:"Dallas, TX",type:"text"},{key:"LOCATION_LATITUDE",label:"Latitude",placeholder:"32.7767",type:"text"},{key:"LOCATION_LONGITUDE",label:"Longitude",placeholder:"-96.7970",type:"text"},{key:"LOCATION_TIMEZONE",label:"Timezone",placeholder:"America/Chicago",type:"text"}]},{category:"Server Settings",icon:"",settings:[{key:"PORT",label:"Server Port",placeholder:"3000",type:"number"},{key:"LOG_LEVEL",label:"Log Level",placeholder:"info",type:"select",options:["debug","info","warn","error"]}]}],g0=a=>{try{const n=Math.max(0,parseInt(a.slice(1,3),16)-40),r=Math.max(0,parseInt(a.slice(3,5),16)-40),s=Math.max(0,parseInt(a.slice(5,7),16)-40);return`#${n.toString(16).padStart(2,"0")}${r.toString(16).padStart(2,"0")}${s.toString(16).padStart(2,"0")}`}catch{return a}},v0=a=>{try{const n=Math.min(255,parseInt(a.slice(1,3),16)+50),r=Math.min(255,parseInt(a.slice(3,5),16)+50),s=Math.min(255,parseInt(a.slice(5,7),16)+50);return`#${n.toString(16).padStart(2,"0")}${r.toString(16).padStart(2,"0")}${s.toString(16).padStart(2,"0")}`}catch{return a}};function IC({isOpen:a,onClose:n}){const[r,s]=x.useState({}),[l,c]=x.useState(!0),[f,h]=x.useState(!1),[p,y]=x.useState(null),[v,b]=x.useState(null),[S,k]=x.useState({}),[N,F]=x.useState({}),[I,J]=x.useState({}),[Q,z]=x.useState({}),G=x.useRef(null),[de,ce]=x.useState(""),[H,se]=x.useState(()=>jc()),[te,Z]=x.useState(()=>!!ss()),[ue,_e]=x.useState(!1),[ze,qe]=x.useState(()=>{try{const A=localStorage.getItem("t2theme-overrides"),M=A?JSON.parse(A):{},oe={};return ic.forEach(be=>{oe[be.key]=be.default}),{...oe,...M}}catch{const A={};return ic.forEach(M=>{A[M.key]=M.default}),A}}),[Ge,C]=x.useState(!1),Y={"Home Assistant":{accent:"#4fc3f7",background:"#0a1520",icon:""},Weather:{accent:"#ffb74d",background:"#1a1510",icon:""},Logic:{accent:"#81c784",background:"#0a140a",icon:""},"Timer/Event":{accent:"#ce93d8",background:"#140a14",icon:""},Color:{accent:"#f48fb1",background:"#140a10",icon:""},Utility:{accent:"#90a4ae",background:"#0a0f14",icon:""},Inputs:{accent:"#aed581",background:"#0f140a",icon:""},CC_Control_Nodes:{accent:"#64b5f6",background:"#0a1018",icon:""},Other:{accent:"#b0bec5",background:"#0a0f14",icon:""}},[le,ve]=x.useState(()=>{try{const A=localStorage.getItem("t2category-overrides"),M=A?JSON.parse(A):{},oe={};for(const[be,Re]of Object.entries(Y))oe[be]={...Re,...M[be]||{}};return oe}catch{return{...Y}}}),[xe,E]=x.useState(!1),B={Boolean:{color:"#10b981",icon:"",description:"True/False values"},Number:{color:"#3b82f6",icon:"",description:"Numeric values"},String:{color:"#f59e0b",icon:"",description:"Text values"},"HSV Info":{color:"#8b5cf6",icon:"",description:"Color HSV data"},"Object/Any":{color:"#06b6d4",icon:"",description:"Generic objects"},"Light Info":{color:"#eab308",icon:"",description:"Light state data"}},D={Boolean:"boolean",Number:"number",String:"string","HSV Info":"hsv","Object/Any":"object","Light Info":"light"},[V,pe]=x.useState(()=>{try{const A=localStorage.getItem("t2socket-colors"),M=A?JSON.parse(A):{},oe={};for(const[be,Re]of Object.entries(B))oe[be]={...Re,...M[be]||{}};return oe}catch{return{...B}}}),[Oe,Ve]=x.useState(!1),[et,Je]=x.useState(!1),[Ht,Zt]=x.useState(null),[$e,St]=x.useState(!1),[Lt,on]=x.useState(!1);x.useEffect(()=>{a&&($n(),F({Security:!0,"Home Assistant":!0}),J({}),se(jc()),Z(!!ss()),ce(""))},[a]);const $n=async()=>{c(!0),y(null);try{const A=await Qn("/api/settings");if(!A.ok)throw new Error("Failed to fetch settings");const oe=(await A.json()).settings||{};s(oe);try{const be=await Qn("/api/config");if(be.ok){const Re=await be.json();if(Re.success){St(Re.isAddon||!1),on(!0);const At=!oe.LOCATION_CITY,Wn=!oe.LOCATION_LATITUDE,Ke=!oe.LOCATION_LONGITUDE,rt=!oe.LOCATION_TIMEZONE;(At||Wn||Ke||rt)&&(s(ft=>({...ft,...At&&Re.locationName?{LOCATION_CITY:Re.locationName}:{},...Wn&&Re.latitude?{LOCATION_LATITUDE:String(Re.latitude)}:{},...Ke&&Re.longitude?{LOCATION_LONGITUDE:String(Re.longitude)}:{},...rt&&Re.timezone?{LOCATION_TIMEZONE:Re.timezone}:{}})),console.log("[Settings] Auto-filled location from Home Assistant config"))}}}catch(be){console.log("[Settings] Could not fetch HA config for location auto-fill:",be.message)}}catch(A){y("Failed to load settings: "+A.message)}finally{c(!1)}},Ca=async()=>{h(!0),y(null),b(null);try{const A=await Qn("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:r})});if(!A.ok){const M=await A.json();throw new Error(M.error||"Failed to save settings")}b("Settings saved! Some changes may require a server restart."),setTimeout(()=>b(null),5e3)}catch(A){y("Failed to save: "+A.message)}finally{h(!1)}},X=(A,M)=>{s(oe=>({...oe,[A]:M}))},re=async()=>{const A=r.LOCATION_CITY;if(!A||A.trim().length<2){Zt("Please enter a city name first");return}Je(!0),Zt(null);try{const M=await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(A)}&format=json&limit=1&addressdetails=1`,{headers:{"User-Agent":"T2AutoTron/2.1 (Home Automation App)"}});if(!M.ok)throw new Error("Geocoding service unavailable");const oe=await M.json();if(oe.length===0){Zt(`Could not find "${A}". Try adding state/country (e.g., "Dallas, TX, USA")`);return}const be=oe[0],Re=parseFloat(be.lat).toFixed(4),At=parseFloat(be.lon).toFixed(4),Wn=be.address?[be.address.city||be.address.town||be.address.village||be.name,be.address.state,be.address.country].filter(Boolean).join(", "):be.display_name.split(",").slice(0,3).join(",");let Ke="UTC";const rt=be.address?.state?.toLowerCase()||"",ft=be.address?.country?.toLowerCase()||"";if(ft.includes("portugal"))Ke="Europe/Lisbon";else if(ft.includes("spain"))Ke="Europe/Madrid";else if(ft.includes("france"))Ke="Europe/Paris";else if(ft.includes("germany"))Ke="Europe/Berlin";else if(ft.includes("italy"))Ke="Europe/Rome";else if(ft.includes("united kingdom")||ft.includes("ireland"))Ke="Europe/London";else if(ft.includes("netherlands"))Ke="Europe/Amsterdam";else if(ft.includes("belgium"))Ke="Europe/Brussels";else if(ft.includes("australia"))Ke="Australia/Sydney";else if(ft.includes("japan"))Ke="Asia/Tokyo";else if(ft.includes("china"))Ke="Asia/Shanghai";else if(ft.includes("india"))Ke="Asia/Kolkata";else if(ft.includes("brazil"))Ke="America/Sao_Paulo";else if(ft.includes("canada"))rt.includes("british columbia")?Ke="America/Vancouver":rt.includes("alberta")?Ke="America/Edmonton":rt.includes("saskatchewan")?Ke="America/Regina":rt.includes("manitoba")?Ke="America/Winnipeg":rt.includes("ontario")?Ke="America/Toronto":rt.includes("quebec")?Ke="America/Montreal":Ke="America/Toronto";else if(ft.includes("united states")||ft.includes("usa"))rt.includes("hawaii")?Ke="Pacific/Honolulu":rt.includes("alaska")?Ke="America/Anchorage":["california","nevada","oregon","washington"].some(pt=>rt.includes(pt))?Ke="America/Los_Angeles":["arizona"].some(pt=>rt.includes(pt))?Ke="America/Phoenix":["colorado","montana","wyoming","utah","new mexico","idaho"].some(pt=>rt.includes(pt))?Ke="America/Denver":["texas","oklahoma","kansas","nebraska","south dakota","north dakota","minnesota","iowa","missouri","arkansas","louisiana","wisconsin","illinois","mississippi","alabama","tennessee"].some(pt=>rt.includes(pt))?Ke="America/Chicago":Ke="America/New_York";else{const pt=parseFloat(At);pt>=-125&&pt<-115?Ke="America/Los_Angeles":pt>=-115&&pt<-102?Ke="America/Denver":pt>=-102&&pt<-87?Ke="America/Chicago":pt>=-87&&pt<-67?Ke="America/New_York":pt>=-10&&pt<3?Ke="Europe/London":pt>=3&&pt<15?Ke="Europe/Paris":pt>=15&&pt<30&&(Ke="Europe/Berlin")}s(pt=>({...pt,LOCATION_CITY:Wn,LOCATION_LATITUDE:Re,LOCATION_LONGITUDE:At,LOCATION_TIMEZONE:Ke})),b(`Found: ${Wn} (${Re}, ${At})`),setTimeout(()=>b(null),5e3)}catch(M){Zt("Search failed: "+M.message)}finally{Je(!1)}},ee=(A,M)=>{qe(oe=>({...oe,[A]:M})),C(!0)},Te=()=>{try{localStorage.setItem("t2theme-overrides",JSON.stringify(ze)),b("Theme saved! Refresh the page to apply changes."),C(!1),setTimeout(()=>b(null),5e3)}catch(A){y("Failed to save theme: "+A.message)}},Se=()=>{const A={};ic.forEach(M=>{A[M.key]=M.default}),qe(A),localStorage.removeItem("t2theme-overrides"),b("Theme reset to defaults! Refresh the page to apply."),C(!1),setTimeout(()=>b(null),5e3)},R=(A,M,oe)=>{ve(be=>({...be,[A]:{...be[A],[M]:oe}})),E(!0)},O=A=>{const M=parseInt(A.slice(1,3),16),oe=parseInt(A.slice(3,5),16),be=parseInt(A.slice(5,7),16);return`${M}, ${oe}, ${be}`},q={"Home Assistant":"ha",Weather:"weather",Logic:"logic","Timer/Event":"timer",Color:"color",Utility:"utility",Inputs:"inputs",CC_Control_Nodes:"cc",Other:"other"},he=A=>{const M=document.documentElement;for(const[oe,be]of Object.entries(A)){const Re=q[oe];Re&&(M.style.setProperty(`--node-${Re}-color`,be.accent),M.style.setProperty(`--node-${Re}-color-rgb`,O(be.accent)),be.background&&M.style.setProperty(`--node-${Re}-bg`,be.background))}},ye=()=>{try{const A={};for(const[M,oe]of Object.entries(le)){const be=Y[M],Re={};oe.accent!==be.accent&&(Re.accent=oe.accent),oe.background!==be.background&&(Re.background=oe.background),Object.keys(Re).length>0&&(A[M]=Re)}Object.keys(A).length>0?localStorage.setItem("t2category-overrides",JSON.stringify(A)):localStorage.removeItem("t2category-overrides"),he(le),b("Category colors applied!"),E(!1),setTimeout(()=>b(null),3e3)}catch(A){y("Failed to save category colors: "+A.message)}},Ne=()=>{ve({...Y}),localStorage.removeItem("t2category-overrides"),he(Y),b("Category colors reset to defaults!"),E(!1),setTimeout(()=>b(null),3e3)},Ae=(A,M)=>{pe(oe=>({...oe,[A]:{...oe[A],color:M}})),Ve(!0)},Ze=(A,M=20)=>{const oe=parseInt(A.slice(1),16),be=Math.max(0,(oe>>16)-Math.round(255*M/100)),Re=Math.max(0,(oe>>8&255)-Math.round(255*M/100)),At=Math.max(0,(oe&255)-Math.round(255*M/100));return`#${(1<<24|be<<16|Re<<8|At).toString(16).slice(1)}`},Xe=(A,M=20)=>{const oe=parseInt(A.slice(1),16),be=Math.min(255,(oe>>16)+Math.round(255*M/100)),Re=Math.min(255,(oe>>8&255)+Math.round(255*M/100)),At=Math.min(255,(oe&255)+Math.round(255*M/100));return`#${(1<<24|be<<16|Re<<8|At).toString(16).slice(1)}`},yt=A=>{const M=document.documentElement;for(const[oe,be]of Object.entries(A)){const Re=D[oe];Re&&(M.style.setProperty(`--socket-${Re}-color`,be.color),M.style.setProperty(`--socket-${Re}-dark`,Ze(be.color,15)),M.style.setProperty(`--socket-${Re}-border`,Xe(be.color,20)),M.style.setProperty(`--socket-${Re}-rgb`,O(be.color)))}},je=()=>{try{const A={};for(const[M,oe]of Object.entries(V)){const be=B[M];oe.color!==be.color&&(A[M]={color:oe.color})}Object.keys(A).length>0?localStorage.setItem("t2socket-colors",JSON.stringify(A)):localStorage.removeItem("t2socket-colors"),yt(V),b("Socket colors applied!"),Ve(!1),setTimeout(()=>b(null),3e3)}catch(A){y("Failed to save socket colors: "+A.message)}},Ee=()=>{pe({...B}),localStorage.removeItem("t2socket-colors"),yt(B),b("Socket colors reset to defaults!"),Ve(!1),setTimeout(()=>b(null),3e3)},Ue=A=>{F(M=>({...M,[A]:!M[A]}))},kt=A=>{k(M=>({...M,[A]:!M[A]}))},Xt=async A=>{z(M=>({...M,[A]:!0})),J(M=>({...M,[A]:null}));try{const oe=await(await Qn("/api/settings/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({service:A,settings:r})})).json();J(be=>({...be,[A]:{success:oe.success,message:oe.message||(oe.success?"Connection successful!":"Connection failed"),details:oe.details}}))}catch(M){J(oe=>({...oe,[A]:{success:!1,message:"Test failed: "+M.message}}))}finally{z(M=>({...M,[A]:!1}))}},Bt=()=>{const A={version:"1.0",timestamp:new Date().toISOString(),settings:r},M=new Blob([JSON.stringify(A,null,2)],{type:"application/json"}),oe=URL.createObjectURL(M),be=document.createElement("a");be.href=oe,be.download=`t2autotron-settings-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(be),be.click(),document.body.removeChild(be),URL.revokeObjectURL(oe),b("Settings exported successfully!"),setTimeout(()=>b(null),3e3)},un=A=>{const M=A.target.files?.[0];if(!M)return;const oe=new FileReader;oe.onload=be=>{try{const Re=JSON.parse(be.target.result);if(!Re.settings||typeof Re.settings!="object")throw new Error("Invalid backup file format");s(At=>({...At,...Re.settings})),b(`Imported ${Object.keys(Re.settings).length} settings from backup. Click Save to apply.`),setTimeout(()=>b(null),5e3)}catch(Re){y("Failed to import backup: "+Re.message)}},oe.readAsText(M),A.target.value=""};return a?kh.createPortal(m.jsx("div",{className:"settings-modal-overlay",onClick:n,children:m.jsxs("div",{className:"settings-modal",onClick:A=>A.stopPropagation(),children:[m.jsxs("div",{className:"settings-header",children:[m.jsx("h2",{children:" Settings & API Keys"}),m.jsx("button",{className:"settings-close-btn",onClick:n,children:""})]}),m.jsx("div",{className:"settings-content",children:l?m.jsx("div",{className:"settings-loading",children:"Loading settings..."}):m.jsxs(m.Fragment,{children:[p&&m.jsx("div",{className:"settings-error",children:p}),v&&m.jsx("div",{className:"settings-success",children:v}),m.jsx("div",{className:"settings-warning",children:" These settings are stored on the server (managed by this app). Keep the server secure."}),m.jsxs("div",{className:"settings-category",children:[m.jsxs("div",{className:"settings-category-header",onClick:()=>Ue("Security"),style:{background:"linear-gradient(135deg, rgba(0, 243, 255, 0.12), rgba(0, 150, 200, 0.08))"},children:[m.jsxs("span",{children:[N.Security?"":""," Security (This Device)"]}),te&&m.jsxs("span",{style:{fontSize:"10px",color:H?"#00c896":"#ffaa00"},children:[" ",H?"REMEMBERED":"SESSION"]})]}),N.Security&&m.jsxs("div",{className:"settings-category-content",children:[m.jsx("div",{className:"settings-info",style:{fontSize:"11px",color:"#8a959e",marginBottom:"10px",padding:"8px",background:"rgba(0, 243, 255, 0.06)",borderRadius:"4px"},children:"Used to authorize protected actions (Settings tests, Updates) when accessing the server from another device."}),m.jsxs("div",{className:"settings-field",children:[m.jsxs("label",{className:"settings-label",children:["App PIN",m.jsx("button",{className:"settings-show-btn",onClick:()=>_e(A=>!A),type:"button",children:ue?" Hide":" Show"})]}),m.jsx("input",{type:ue?"text":"password",className:"settings-input",value:de,onChange:A=>ce(A.target.value),placeholder:te?"Enter new PIN (leave blank to keep current)":"Enter PIN",autoComplete:"off"}),m.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"10px",alignItems:"center"},children:[m.jsxs("label",{style:{display:"flex",gap:"8px",alignItems:"center",fontSize:"12px",color:"#88ddff"},children:[m.jsx("input",{type:"checkbox",checked:H,onChange:A=>{const M=A.target.checked;se(M);const oe=ss();oe&&m0(oe,{remember:M})}}),"Remember PIN on this device"]}),m.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:"10px"},children:[m.jsx("button",{className:"settings-btn-small",type:"button",onClick:()=>{const A=de.trim();A&&(m0(A,{remember:H}),Z(!0),ce(""),(async()=>{try{const M=await Qn("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:{APP_PIN:A}})});if(!M.ok){const oe=await M.text();throw new Error(oe||`HTTP ${M.status}`)}b("PIN saved (server + this device)."),setTimeout(()=>b(null),3e3)}catch{b("PIN saved on this device. Server PIN update failed."),setTimeout(()=>b(null),4e3)}finally{$n()}})())},style:{background:"rgba(0, 200, 150, 0.1)",borderColor:"rgba(0, 200, 150, 0.4)",color:"#00c896"},disabled:!de.trim(),children:" Save PIN"}),m.jsx("button",{className:"settings-btn-small",type:"button",onClick:()=>{O1(),Z(!1),ce(""),se(!1),b("PIN cleared."),setTimeout(()=>b(null),3e3)},style:{background:"rgba(199, 95, 95, 0.12)",borderColor:"rgba(199, 95, 95, 0.45)",color:"#c75f5f"},disabled:!te,children:"Clear"})]})]}),m.jsx("div",{style:{marginTop:"8px",fontSize:"11px",color:"#666"},children:te?`PIN is saved (${H?"remembered":"this session"}).`:"No PIN saved."})]})]})]}),m.jsxs("div",{className:"settings-backup-section",children:[m.jsx("span",{className:"settings-backup-label",children:" Backup & Restore"}),m.jsxs("div",{className:"settings-backup-buttons",children:[m.jsx("button",{className:"settings-btn-small settings-btn-export",onClick:Bt,children:" Export Backup"}),m.jsx("button",{className:"settings-btn-small settings-btn-import",onClick:()=>G.current?.click(),children:" Import Backup"}),m.jsx("input",{ref:G,type:"file",accept:".json",style:{display:"none"},onChange:un})]})]}),m.jsxs("div",{className:"settings-category",children:[m.jsxs("div",{className:"settings-category-header",onClick:()=>Ue("Performance"),style:{background:"linear-gradient(135deg, rgba(255, 170, 0, 0.15), rgba(255, 100, 50, 0.1))"},children:[m.jsxs("span",{children:[N.Performance?"":""," Performance Mode"]}),window.getPerformanceMode?.()&&m.jsx("span",{style:{fontSize:"10px",color:"#10b981"},children:" ACTIVE"})]}),N.Performance&&m.jsxs("div",{className:"settings-category-content",children:[m.jsxs("div",{className:"settings-info",style:{fontSize:"11px",color:"#ffaa00",marginBottom:"12px",padding:"10px",background:"rgba(255, 170, 0, 0.1)",borderRadius:"4px",border:"1px solid rgba(255, 170, 0, 0.2)"},children:[" ",m.jsx("strong",{children:"Enable this if you experience lag or high GPU usage with many nodes."}),m.jsx("br",{}),m.jsx("br",{}),"Performance Mode disables:",m.jsxs("ul",{style:{margin:"8px 0 0 0",paddingLeft:"20px"},children:[m.jsx("li",{children:"Backdrop blur effects on nodes (biggest impact)"}),m.jsx("li",{children:"Complex glow shadows"}),m.jsx("li",{children:"Infinite pulse/glow animations"}),m.jsx("li",{children:"Transition effects on nodes"})]})]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px",background:"rgba(0, 0, 0, 0.3)",borderRadius:"6px"},children:[m.jsxs("div",{children:[m.jsx("div",{style:{color:"#e0e0e0",fontSize:"13px",fontWeight:"500"},children:"Performance Mode"}),m.jsx("div",{style:{color:"#888",fontSize:"11px",marginTop:"2px"},children:"Recommended for 40+ nodes"})]}),m.jsxs("label",{style:{position:"relative",display:"inline-block",width:"50px",height:"26px"},children:[m.jsx("input",{type:"checkbox",checked:window.getPerformanceMode?.()||!1,onChange:A=>{window.setPerformanceMode?.(A.target.checked),F(M=>({...M}))},style:{opacity:0,width:0,height:0}}),m.jsx("span",{style:{position:"absolute",cursor:"pointer",top:0,left:0,right:0,bottom:0,background:window.getPerformanceMode?.()?"#10b981":"#444",transition:"background 0.2s",borderRadius:"26px"},children:m.jsx("span",{style:{position:"absolute",content:"",height:"20px",width:"20px",left:window.getPerformanceMode?.()?"26px":"3px",bottom:"3px",background:"#fff",transition:"left 0.2s",borderRadius:"50%"}})})]})]}),m.jsx("div",{style:{marginTop:"12px",fontSize:"10px",color:"#666",textAlign:"center"},children:"Changes apply immediately. Look for  indicator in bottom-left when active."})]})]}),m.jsxs("div",{className:"settings-category",children:[m.jsx("div",{className:"settings-category-header",onClick:()=>Ue("Discovery"),children:m.jsxs("span",{children:[N.Discovery?"":""," Network Device Discovery"]})}),N.Discovery&&m.jsx("div",{className:"settings-category-content",children:m.jsx(BC,{})})]}),m.jsxs("div",{className:"settings-category",children:[m.jsxs("div",{className:"settings-category-header",onClick:()=>Ue("Theme"),children:[m.jsxs("span",{children:[N.Theme?"":""," Node Theme Settings"]}),Ge&&m.jsx("span",{style:{fontSize:"10px",color:"#d4a054"},children:" unsaved"})]}),N.Theme&&m.jsxs("div",{className:"settings-category-content",children:[m.jsx("div",{className:"settings-info",style:{fontSize:"11px",color:"#8a959e",marginBottom:"12px",padding:"8px",background:"rgba(95, 179, 179, 0.1)",borderRadius:"4px"},children:" Theme settings are stored locally. Refresh the page after saving to apply changes."}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:ic.map(A=>m.jsxs("div",{className:"settings-field",style:{marginBottom:"8px"},children:[m.jsx("label",{className:"settings-label",style:{fontSize:"10px"},children:A.label}),A.type==="color"?m.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[m.jsx("input",{type:"color",value:ze[A.key]||A.default,onChange:M=>ee(A.key,M.target.value),style:{width:"40px",height:"30px",border:"none",borderRadius:"4px",cursor:"pointer",background:"transparent"}}),m.jsx("input",{type:"text",value:ze[A.key]||A.default,onChange:M=>ee(A.key,M.target.value),className:"settings-input",style:{flex:1,fontFamily:"monospace",fontSize:"11px"}})]}):A.type==="range"?m.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[m.jsx("input",{type:"range",min:A.min,max:A.max,value:ze[A.key]||A.default,onChange:M=>ee(A.key,parseInt(M.target.value)),style:{flex:1}}),m.jsxs("span",{style:{minWidth:"35px",textAlign:"right",color:"#c5cdd3",fontSize:"12px"},children:[ze[A.key]||A.default,"%"]})]}):null]},A.key))}),m.jsxs("div",{style:{marginTop:"12px",padding:"12px",background:ze.background,borderRadius:"8px",border:`1px solid rgba(95, 179, 179, ${(ze.borderOpacity||25)/100})`},children:[m.jsx("div",{style:{fontSize:"10px",color:ze.textMuted,marginBottom:"8px"},children:"PREVIEW"}),m.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",alignItems:"center"},children:[m.jsx("div",{style:{padding:"8px 12px",background:ze.surface,color:ze.text,borderRadius:"4px",fontSize:"12px"},children:"Surface"}),m.jsx("div",{style:{padding:"8px 12px",background:ze.surfaceLight,color:ze.text,borderRadius:"4px",fontSize:"12px"},children:"Elevated"}),m.jsx("span",{style:{color:ze.primary},children:"Primary"}),m.jsx("span",{style:{color:ze.success},children:"Success"}),m.jsx("span",{style:{color:ze.warning},children:"Warning"}),m.jsx("span",{style:{color:ze.error},children:"Error"})]})]}),m.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"12px",justifyContent:"flex-end"},children:[m.jsx("button",{className:"settings-btn-small",onClick:Se,style:{background:"rgba(199, 95, 95, 0.15)",borderColor:"rgba(199, 95, 95, 0.5)",color:"#c75f5f"},children:"Reset to Defaults"}),m.jsx("button",{className:"settings-btn-small",onClick:Te,style:{background:"rgba(95, 170, 125, 0.15)",borderColor:"rgba(95, 170, 125, 0.5)",color:"#5faa7d"},children:" Save Theme"})]})]})]}),m.jsxs("div",{className:"settings-category",children:[m.jsxs("div",{className:"settings-category-header",onClick:()=>Ue("CategoryColors"),children:[m.jsxs("span",{children:[N.CategoryColors?"":""," Category Accent Colors"]}),xe&&m.jsx("span",{style:{fontSize:"10px",color:"#d4a054"},children:" unsaved"})]}),N.CategoryColors&&m.jsxs("div",{className:"settings-category-content",children:[m.jsx("div",{className:"settings-info",style:{fontSize:"11px",color:"#8a959e",marginBottom:"12px",padding:"8px",background:"rgba(95, 179, 179, 0.1)",borderRadius:"4px"},children:" Set accent (border/header) and background colors for each node category."}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:Object.entries(le).map(([A,M])=>m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 8px",background:M.background||"#0a0f14",borderRadius:"4px",border:`1px solid ${M.accent}55`},children:[m.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"2px"},children:[m.jsx("input",{type:"color",value:M.accent,onChange:oe=>R(A,"accent",oe.target.value),title:"Accent color (borders, headers)",style:{width:"24px",height:"24px",border:"none",borderRadius:"4px",cursor:"pointer",background:"transparent"}}),m.jsx("span",{style:{fontSize:"8px",color:"#666"},children:"Accent"})]}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"2px"},children:[m.jsx("input",{type:"color",value:M.background||"#0a0f14",onChange:oe=>R(A,"background",oe.target.value),title:"Background color",style:{width:"24px",height:"24px",border:"1px solid #333",borderRadius:"4px",cursor:"pointer",background:"transparent"}}),m.jsx("span",{style:{fontSize:"8px",color:"#666"},children:"BG"})]}),m.jsx("div",{style:{flex:1,minWidth:0},children:m.jsxs("div",{style:{fontSize:"11px",color:M.accent,fontWeight:"600",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[M.icon," ",A]})})]},A))}),m.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"12px",justifyContent:"flex-end"},children:[m.jsx("button",{className:"settings-btn-small",onClick:Ne,style:{background:"rgba(199, 95, 95, 0.15)",borderColor:"rgba(199, 95, 95, 0.5)",color:"#c75f5f"},children:"Reset to Defaults"}),m.jsx("button",{className:"settings-btn-small",onClick:ye,style:{background:"rgba(95, 170, 125, 0.15)",borderColor:"rgba(95, 170, 125, 0.5)",color:"#5faa7d"},children:" Save Category Colors"})]})]})]}),m.jsxs("div",{className:"settings-category",children:[m.jsxs("div",{className:"settings-category-header",onClick:()=>Ue("SocketColors"),children:[m.jsxs("span",{children:[N.SocketColors?"":""," Socket Colors"]}),Oe&&m.jsx("span",{style:{fontSize:"10px",color:"#d4a054"},children:" unsaved"})]}),N.SocketColors&&m.jsxs("div",{className:"settings-category-content",children:[m.jsx("div",{className:"settings-info",style:{fontSize:"11px",color:"#8a959e",marginBottom:"12px",padding:"8px",background:"rgba(95, 130, 179, 0.1)",borderRadius:"4px"},children:" Customize socket connector colors by data type. These appear on all nodes."}),m.jsxs("div",{style:{background:"linear-gradient(145deg, #1e2428, #2a3238)",border:"1px solid rgba(95, 179, 179, 0.3)",borderRadius:"8px",padding:"12px",marginBottom:"16px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.4)"},children:[m.jsxs("div",{style:{fontSize:"11px",color:"#5fb3b3",marginBottom:"10px",fontWeight:"600",display:"flex",alignItems:"center",gap:"6px"},children:[m.jsx("span",{children:""})," Preview Node"]}),m.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:Object.entries(V).slice(0,3).map(([A,M])=>m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",background:`linear-gradient(145deg, ${M.color}, ${g0(M.color)})`,border:`2px solid ${v0(M.color)}`,boxShadow:`0 0 8px ${M.color}80`}}),m.jsx("span",{style:{fontSize:"10px",color:"#8a959e"},children:A})]},A))}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",alignItems:"flex-end"},children:Object.entries(V).slice(3).map(([A,M])=>m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx("span",{style:{fontSize:"10px",color:"#8a959e"},children:A}),m.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",background:`linear-gradient(145deg, ${M.color}, ${g0(M.color)})`,border:`2px solid ${v0(M.color)}`,boxShadow:`0 0 8px ${M.color}80`}})]},A))})]})]}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:Object.entries(V).map(([A,M])=>m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 10px",background:"#0a0f14",borderRadius:"4px",border:`1px solid ${M.color}55`},children:[m.jsx("input",{type:"color",value:M.color,onChange:oe=>Ae(A,oe.target.value),title:`${A} socket color`,style:{width:"28px",height:"28px",border:"none",borderRadius:"50%",cursor:"pointer",background:"transparent"}}),m.jsxs("div",{style:{flex:1,minWidth:0},children:[m.jsxs("div",{style:{fontSize:"12px",color:M.color,fontWeight:"600"},children:[M.icon," ",A]}),m.jsx("div",{style:{fontSize:"9px",color:"#666",marginTop:"2px"},children:M.description})]})]},A))}),m.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"12px",justifyContent:"flex-end"},children:[m.jsx("button",{className:"settings-btn-small",onClick:Ee,style:{background:"rgba(199, 95, 95, 0.15)",borderColor:"rgba(199, 95, 95, 0.5)",color:"#c75f5f"},children:"Reset to Defaults"}),m.jsx("button",{className:"settings-btn-small",onClick:je,style:{background:"rgba(95, 170, 125, 0.15)",borderColor:"rgba(95, 170, 125, 0.5)",color:"#5faa7d"},children:" Save Socket Colors"})]})]})]}),UC.map(A=>m.jsxs("div",{className:"settings-category",children:[m.jsxs("div",{className:"settings-category-header",onClick:()=>Ue(A.category),children:[m.jsxs("span",{children:[N[A.category]?"":"",A.icon," ",A.category]}),A.testable&&N[A.category]&&m.jsx("button",{className:`settings-test-btn ${I[A.testable]?.success?"success":I[A.testable]?.success===!1?"error":""}`,onClick:M=>{M.stopPropagation(),Xt(A.testable)},disabled:Q[A.testable],children:Q[A.testable]?" Testing...":" Test Connection"})]}),N[A.category]&&m.jsxs("div",{className:"settings-category-content",children:[I[A.testable]&&m.jsxs("div",{className:`settings-test-result ${I[A.testable].success?"success":"error"}`,children:[I[A.testable].success?"":""," ",I[A.testable].message,I[A.testable].details&&m.jsx("div",{className:"settings-test-details",children:I[A.testable].details})]}),A.category==="Location"&&m.jsxs("div",{className:"settings-location-search",children:[Lt&&$e&&m.jsx("div",{style:{background:"rgba(76, 175, 80, 0.15)",border:"1px solid rgba(76, 175, 80, 0.4)",borderRadius:"6px",padding:"8px 12px",marginBottom:"12px",fontSize:"0.85rem",color:"#81c784"},children:" Location auto-filled from Home Assistant configuration"}),m.jsx("p",{style:{fontSize:"0.85rem",color:"#aaa",margin:"0 0 10px 0"},children:' Enter your city name and click "Search" to auto-fill coordinates.'}),m.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"10px"},children:[m.jsx("input",{type:"text",className:"settings-input",value:r.LOCATION_CITY||"",onChange:M=>X("LOCATION_CITY",M.target.value),placeholder:"e.g., Dallas, TX, USA",style:{flex:1},onKeyDown:M=>{M.key==="Enter"&&re()}}),m.jsx("button",{className:"settings-test-btn",onClick:re,disabled:et,style:{whiteSpace:"nowrap"},children:et?" Searching...":" Search City"})]}),Ht&&m.jsxs("div",{className:"settings-test-result error",style:{marginBottom:"10px"},children:[" ",Ht]}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[m.jsxs("div",{className:"settings-field",children:[m.jsx("label",{className:"settings-label",children:"Latitude"}),m.jsx("input",{type:"text",className:"settings-input",value:r.LOCATION_LATITUDE||"",onChange:M=>X("LOCATION_LATITUDE",M.target.value),placeholder:"32.7767"})]}),m.jsxs("div",{className:"settings-field",children:[m.jsx("label",{className:"settings-label",children:"Longitude"}),m.jsx("input",{type:"text",className:"settings-input",value:r.LOCATION_LONGITUDE||"",onChange:M=>X("LOCATION_LONGITUDE",M.target.value),placeholder:"-96.7970"})]})]}),m.jsxs("div",{className:"settings-field",style:{marginTop:"10px"},children:[m.jsx("label",{className:"settings-label",children:"Timezone"}),m.jsx("input",{type:"text",className:"settings-input",value:r.LOCATION_TIMEZONE||"",onChange:M=>X("LOCATION_TIMEZONE",M.target.value),placeholder:"America/Chicago"}),m.jsx("span",{className:"settings-key-hint",children:"Common: America/New_York, America/Chicago, America/Denver, America/Los_Angeles"})]})]}),A.category!=="Location"&&A.settings.map(M=>m.jsxs("div",{className:"settings-field",children:[m.jsxs("label",{className:"settings-label",children:[M.label,M.isSecret&&m.jsx("button",{className:"settings-show-btn",onClick:()=>kt(M.key),type:"button",children:S[M.key]?" Hide":" Show"})]}),M.type==="select"?m.jsxs("select",{className:"settings-input",value:r[M.key]||"",onChange:oe=>X(M.key,oe.target.value),children:[m.jsx("option",{value:"",children:"Select..."}),M.options.map(oe=>m.jsx("option",{value:oe,children:oe},oe))]}):m.jsx("input",{type:M.isSecret&&!S[M.key]?"password":"text",className:"settings-input",value:r[M.key]||"",onChange:oe=>X(M.key,oe.target.value),placeholder:M.placeholder}),m.jsx("span",{className:"settings-key-hint",children:M.key})]},M.key))]})]},A.category))]})}),m.jsxs("div",{className:"settings-footer",children:[m.jsx("button",{className:"settings-btn settings-btn-secondary",onClick:n,children:"Cancel"}),m.jsx("button",{className:"settings-btn settings-btn-primary",onClick:Ca,disabled:f||l,children:f?"Saving...":" Save Settings"})]})]})}),document.body):null}const $C=[{category:"Selection & Editing",items:[{keys:["Delete","Backspace"],action:"Delete selected nodes"},{keys:["Ctrl","C"],action:"Copy selected nodes"},{keys:["Ctrl","V"],action:"Paste nodes at cursor"},{keys:["Ctrl","Z"],action:"Undo last delete"},{keys:["Ctrl","A"],action:"Select all nodes"},{keys:["Shift","Click"],action:"Add to selection"},{keys:["Drag"],action:"Lasso select multiple nodes"}]},{category:"Navigation",items:[{keys:["Scroll"],action:"Zoom in/out"},{keys:["Middle-click","Drag"],action:"Pan canvas"},{keys:["Home"],action:"Reset viewport to origin"},{keys:["F5"],action:"Reset editor view (fix frozen pan)"},{keys:["Escape"],action:"Cancel/reset drag state"}]},{category:"Node Operations",items:[{keys:["Right-click"],action:"Open context menu"},{keys:["Right-click node"],action:"Node context menu"},{keys:["Double-click"],action:"Edit node properties (where available)"}]},{category:"Graph Management",items:[{keys:["?"],action:"Show this help dialog"}]}];function HC({isOpen:a,onClose:n}){if(x.useEffect(()=>{if(!a)return;const s=l=>{l.key==="Escape"&&n()};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[a,n]),!a)return null;const r=s=>{s.target===s.currentTarget&&n()};return kh.createPortal(m.jsx("div",{className:"shortcuts-modal-overlay",onClick:r,children:m.jsxs("div",{className:"shortcuts-modal",children:[m.jsxs("div",{className:"shortcuts-modal-header",children:[m.jsx("h2",{children:" Keyboard Shortcuts"}),m.jsx("button",{className:"shortcuts-close-btn",onClick:n,children:" Close"})]}),m.jsx("div",{className:"shortcuts-modal-body",children:$C.map((s,l)=>m.jsxs("div",{className:"shortcuts-section",children:[m.jsx("h3",{children:s.category}),m.jsx("div",{className:"shortcuts-list",children:s.items.map((c,f)=>m.jsxs("div",{className:"shortcut-row",children:[m.jsx("div",{className:"shortcut-keys",children:c.keys.map((h,p)=>m.jsxs(Ea.Fragment,{children:[m.jsx("kbd",{children:h}),p<c.keys.length-1&&m.jsx("span",{className:"key-separator",children:"+"})]},p))}),m.jsx("div",{className:"shortcut-action",children:c.action})]},f))})]},l))}),m.jsx("div",{className:"shortcuts-modal-footer",children:m.jsxs("p",{children:["Press ",m.jsx("kbd",{children:"?"})," anytime to show this dialog"]})})]})}),document.body)}function VC({isExpanded:a,onToggle:n}){const[r,s]=x.useState([]),[l,c]=x.useState([]),[f,h]=x.useState(!0),[p,y]=x.useState(!1),[v,b]=x.useState(null),[S,k]=x.useState(!1),[N,F]=x.useState(null),[I,J]=x.useState(null),[Q,z]=x.useState({username:"",password:"",name:""}),[G,de]=x.useState({username:"",password:""}),[ce,H]=x.useState(""),[se,te]=x.useState(5e3),[Z,ue]=x.useState(null),_e=x.useRef(null),[ze,qe]=x.useState({});x.useEffect(()=>(Ge(),()=>{_e.current&&clearInterval(_e.current)}),[]),x.useEffect(()=>(_e.current&&clearInterval(_e.current),a&&r.length>0&&se>0&&(_e.current=setInterval(()=>{qe(D=>{const V={...D};return r.forEach(pe=>{V[pe.ip]=Date.now()}),V})},se)),()=>{_e.current&&clearInterval(_e.current)}),[a,r,se]);const Ge=async()=>{try{h(!0);const D=await as("/api/cameras");if(D.ok){const V=await D.json();s(V.cameras||[]),V.defaultCredentials&&de(pe=>({...pe,username:V.defaultCredentials.username||""}))}}catch{b("Failed to load cameras")}finally{h(!1)}},C=async()=>{y(!0),b(null);try{const D=await as("/api/cameras/discover",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});if(D.ok){const V=await D.json();if(V.found&&V.found.length>0){const pe=r.map(Ve=>Ve.ip),Oe=V.found.filter(Ve=>!pe.includes(Ve.ip));c(Oe),window.T2Toast&&(Oe.length>0?window.T2Toast.success(`Found ${Oe.length} new camera(s)! Click to configure.`):window.T2Toast.info(`Found ${V.found.length} cameras, all already configured.`))}else c([]),window.T2Toast&&window.T2Toast.info("No cameras found on network")}}catch{b("Discovery failed")}finally{y(!1)}},Y=async()=>{try{await as("/api/cameras/credentials",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)}),window.T2Toast&&window.T2Toast.success("Credentials saved")}catch{b("Failed to save credentials")}},le=async(D,V,pe)=>{try{await as("/api/cameras",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ip:D,name:V||`Camera ${D.split(".").pop()}`,username:pe?.username||G.username,password:pe?.password||G.password})}),c(Oe=>Oe.filter(Ve=>Ve.ip!==D)),F(null),H(""),await Ge(),window.T2Toast&&window.T2Toast.success(`Camera ${D} added!`)}catch{b("Failed to add camera")}},ve=async D=>{try{await fetch(`/api/cameras/${D}`,{method:"DELETE"}),await Ge(),Z===D&&ue(null)}catch{b("Failed to remove camera")}},xe=async()=>{if(I)try{await as("/api/cameras",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ip:I,name:Q.name,username:Q.username,password:Q.password})}),J(null),qe(D=>({...D,[I]:Date.now()})),await Ge(),window.T2Toast&&window.T2Toast.success(`Camera ${I} updated!`)}catch{b("Failed to update camera")}},E={container:{background:"linear-gradient(180deg, rgba(12, 20, 35, 0.95) 0%, rgba(8, 15, 28, 0.98) 100%)",borderRadius:"12px",border:"1px solid rgba(0, 200, 255, 0.2)",overflow:"hidden",marginBottom:"8px"},header:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 14px",background:"linear-gradient(90deg, rgba(0, 150, 200, 0.15), transparent)",borderBottom:"1px solid rgba(0, 200, 255, 0.1)",cursor:"pointer"},title:{display:"flex",alignItems:"center",gap:"8px",color:"#00d4ff",fontSize:"14px",fontWeight:600},icon:{fontSize:"16px"},badge:{background:"rgba(0, 200, 255, 0.2)",color:"#00d4ff",padding:"2px 8px",borderRadius:"10px",fontSize:"11px"},content:{padding:a?"12px":"0",maxHeight:a?"400px":"0",overflow:"auto",transition:"all 0.3s ease"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"10px"},cameraCard:{background:"rgba(0, 0, 0, 0.3)",borderRadius:"8px",overflow:"hidden",border:"1px solid rgba(0, 200, 255, 0.15)",cursor:"pointer",transition:"all 0.2s ease"},cameraCardSelected:{border:"2px solid #00d4ff",boxShadow:"0 0 10px rgba(0, 200, 255, 0.3)"},cameraImage:{width:"100%",height:"100px",objectFit:"cover",background:"#111"},cameraInfo:{padding:"6px 8px",display:"flex",justifyContent:"space-between",alignItems:"center"},cameraName:{color:"#b8e6ea",fontSize:"11px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},deleteBtn:{background:"rgba(255, 80, 80, 0.2)",border:"none",color:"#ff6b6b",padding:"2px 6px",borderRadius:"4px",cursor:"pointer",fontSize:"10px"},toolbar:{display:"flex",gap:"8px",marginBottom:"10px",flexWrap:"wrap"},btn:{background:"rgba(0, 200, 255, 0.15)",border:"1px solid rgba(0, 200, 255, 0.3)",color:"#00d4ff",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",fontSize:"12px",display:"flex",alignItems:"center",gap:"4px"},btnActive:{background:"rgba(0, 200, 255, 0.3)"},settings:{background:"rgba(0, 0, 0, 0.2)",borderRadius:"8px",padding:"12px",marginBottom:"10px"},inputGroup:{marginBottom:"8px"},label:{color:"#8899aa",fontSize:"11px",marginBottom:"4px",display:"block"},input:{width:"100%",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 200, 255, 0.2)",borderRadius:"4px",padding:"6px 10px",color:"#fff",fontSize:"12px",boxSizing:"border-box"},fullView:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.9)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:1e4},fullImage:{maxWidth:"90vw",maxHeight:"80vh",objectFit:"contain"},closeBtn:{position:"absolute",top:"20px",right:"20px",background:"rgba(255, 255, 255, 0.1)",border:"none",color:"#fff",padding:"10px 20px",borderRadius:"8px",cursor:"pointer",fontSize:"14px"},emptyState:{textAlign:"center",padding:"20px",color:"#667788"},refreshSelect:{background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 200, 255, 0.2)",borderRadius:"4px",padding:"6px",color:"#fff",fontSize:"11px"}},B=D=>{const V=ze[D]||Date.now();return`/api/cameras/snapshot/${D}?t=${V}`};return m.jsxs("div",{style:E.container,children:[m.jsxs("div",{style:E.header,onClick:n,children:[m.jsxs("div",{style:E.title,children:[m.jsx("span",{style:E.icon,children:""}),m.jsx("span",{children:"Cameras"}),r.length>0&&m.jsx("span",{style:E.badge,children:r.length})]}),m.jsx("span",{style:{color:"#00d4ff"},children:a?"":""})]}),a&&m.jsxs("div",{style:E.content,children:[m.jsxs("div",{style:E.toolbar,children:[m.jsx("button",{style:{...E.btn,...p?E.btnActive:{}},onClick:C,disabled:p,children:p?" Scanning...":" Discover"}),m.jsx("button",{style:{...E.btn,...S?E.btnActive:{}},onClick:()=>k(!S),children:" Settings"}),m.jsxs("select",{style:E.refreshSelect,value:se,onChange:D=>te(Number(D.target.value)),title:"Refresh interval",children:[m.jsx("option",{value:0,children:"Manual"}),m.jsx("option",{value:2e3,children:"2s"}),m.jsx("option",{value:5e3,children:"5s"}),m.jsx("option",{value:1e4,children:"10s"}),m.jsx("option",{value:3e4,children:"30s"})]})]}),S&&m.jsxs("div",{style:E.settings,children:[m.jsxs("div",{style:E.inputGroup,children:[m.jsx("label",{style:E.label,children:"Select Camera to Configure"}),m.jsxs("select",{style:{...E.input,cursor:"pointer"},value:I||"",onChange:D=>{const V=D.target.value;if(!V){J(null),z({username:"",password:"",name:""});return}const pe=r.find(Oe=>Oe.ip===V);pe?(J(V),z({name:pe.name||"",username:pe.username||"",password:""})):(J(V),z({name:`Camera ${V.split(".").pop()}`,username:G.username||"",password:G.password||""}))},children:[m.jsx("option",{value:"",children:"-- Select a camera --"}),r.length>0&&m.jsx("optgroup",{label:" Configured Cameras",children:r.map(D=>m.jsxs("option",{value:D.ip,children:[D.name," (",D.ip,")"]},D.ip))}),l.length>0&&m.jsx("optgroup",{label:" Discovered (Not Configured)",children:l.map(D=>m.jsxs("option",{value:D.ip,children:[D.ip," (Ports: ",D.ports.join(", "),")"]},D.ip))})]})]}),I&&m.jsxs("div",{style:{background:"rgba(0, 0, 0, 0.2)",borderRadius:"6px",padding:"10px",marginTop:"8px"},children:[m.jsxs("div",{style:E.inputGroup,children:[m.jsx("label",{style:E.label,children:"Camera Name"}),m.jsx("input",{type:"text",style:E.input,value:Q.name,onChange:D=>z(V=>({...V,name:D.target.value})),placeholder:"Front Door"})]}),m.jsxs("div",{style:E.inputGroup,children:[m.jsx("label",{style:E.label,children:"Username"}),m.jsx("input",{type:"text",style:E.input,value:Q.username,onChange:D=>z(V=>({...V,username:D.target.value})),placeholder:"admin"})]}),m.jsxs("div",{style:E.inputGroup,children:[m.jsxs("label",{style:E.label,children:["Password ",r.find(D=>D.ip===I)?"(leave blank to keep current)":""]}),m.jsx("input",{type:"password",style:E.input,value:Q.password,onChange:D=>z(V=>({...V,password:D.target.value})),placeholder:""})]}),m.jsx("div",{style:{display:"flex",gap:"8px",marginTop:"8px"},children:m.jsx("button",{style:{...E.btn,flex:1,justifyContent:"center"},onClick:()=>{!r.find(V=>V.ip===I)?le(I,Q.name,Q):xe()},children:r.find(D=>D.ip===I)?" Save Changes":" Add Camera"})})]}),m.jsxs("div",{style:{borderTop:"1px solid rgba(0, 200, 255, 0.15)",marginTop:"12px",paddingTop:"12px"},children:[m.jsx("div",{style:{color:"#8899aa",fontSize:"11px",marginBottom:"8px"},children:"Default credentials (used for new cameras)"}),m.jsxs("div",{style:{display:"flex",gap:"8px"},children:[m.jsx("input",{type:"text",style:{...E.input,flex:1},value:G.username,onChange:D=>de(V=>({...V,username:D.target.value})),placeholder:"Username"}),m.jsx("input",{type:"password",style:{...E.input,flex:1},value:G.password,onChange:D=>de(V=>({...V,password:D.target.value})),placeholder:"Password"}),m.jsx("button",{style:E.btn,onClick:Y,title:"Save as default",children:""})]})]}),m.jsxs("div",{style:{borderTop:"1px solid rgba(0, 200, 255, 0.15)",marginTop:"12px",paddingTop:"12px"},children:[m.jsx("div",{style:{color:"#8899aa",fontSize:"11px",marginBottom:"8px"},children:"Add camera by IP (if not discovered)"}),m.jsxs("div",{style:{display:"flex",gap:"8px"},children:[m.jsx("input",{type:"text",id:"addCameraIp",style:{...E.input,flex:1},placeholder:"192.168.1.100",onKeyDown:D=>{if(D.key==="Enter"&&D.target.value){const V=D.target.value;!l.find(pe=>pe.ip===V)&&!r.find(pe=>pe.ip===V)&&c(pe=>[...pe,{ip:V,ports:["manual"]}]),J(V),z({name:`Camera ${V.split(".").pop()}`,username:G.username||"",password:G.password||""}),D.target.value=""}}}),m.jsx("button",{style:E.btn,onClick:()=>{const D=document.getElementById("addCameraIp"),V=D?.value;V&&(!l.find(pe=>pe.ip===V)&&!r.find(pe=>pe.ip===V)&&c(pe=>[...pe,{ip:V,ports:["manual"]}]),J(V),z({name:`Camera ${V.split(".").pop()}`,username:G.username||"",password:G.password||""}),D.value="")},children:"Configure"})]})]})]}),v&&m.jsxs("div",{style:{color:"#ff6b6b",padding:"8px",fontSize:"12px"},children:[" ",v]}),f?m.jsx("div",{style:E.emptyState,children:"Loading cameras..."}):r.length===0&&l.length===0?m.jsxs("div",{style:E.emptyState,children:[m.jsx("p",{children:"No cameras configured"}),m.jsx("p",{style:{fontSize:"11px"},children:"Click Discover to scan your network"})]}):m.jsx("div",{style:E.grid,children:r.map(D=>m.jsxs("div",{style:{...E.cameraCard,...Z===D.ip?E.cameraCardSelected:{}},onClick:()=>ue(D.ip),children:[m.jsx("img",{src:B(D.ip),alt:D.name,style:E.cameraImage,onError:V=>{V.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect fill="%23222" width="100" height="100"/><text x="50" y="55" text-anchor="middle" fill="%23666" font-size="12">No Signal</text></svg>'}}),m.jsxs("div",{style:E.cameraInfo,children:[m.jsx("span",{style:E.cameraName,title:D.ip,children:D.name}),m.jsxs("div",{style:{display:"flex",gap:"4px"},children:[m.jsx("button",{style:{...E.deleteBtn,background:"rgba(0, 150, 255, 0.2)",color:"#00aaff"},onClick:V=>{V.stopPropagation(),k(!0),J(D.ip),z({name:D.name||"",username:D.username||"",password:""})},title:"Edit credentials",children:""}),m.jsx("button",{style:E.deleteBtn,onClick:V=>{V.stopPropagation(),ve(D.ip)},title:"Remove camera",children:""})]})]})]},D.ip))})]}),Z&&m.jsxs("div",{style:E.fullView,onClick:()=>ue(null),children:[m.jsx("img",{src:B(Z),alt:"Camera feed",style:E.fullImage}),m.jsx("button",{style:E.closeBtn,onClick:()=>ue(null),children:" Close"}),m.jsx("div",{style:{color:"#fff",marginTop:"10px"},children:r.find(D=>D.ip===Z)?.name||Z})]})]})}const Ra=Object.create(null);Ra.open="0";Ra.close="1";Ra.ping="2";Ra.pong="3";Ra.message="4";Ra.upgrade="5";Ra.noop="6";const gc=Object.create(null);Object.keys(Ra).forEach(a=>{gc[Ra[a]]=a});const rh={type:"error",data:"parser error"},N1=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",j1=typeof ArrayBuffer=="function",A1=a=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(a):a&&a.buffer instanceof ArrayBuffer,Hh=({type:a,data:n},r,s)=>N1&&n instanceof Blob?r?s(n):b0(n,s):j1&&(n instanceof ArrayBuffer||A1(n))?r?s(n):b0(new Blob([n]),s):s(Ra[a]+(n||"")),b0=(a,n)=>{const r=new FileReader;return r.onload=function(){const s=r.result.split(",")[1];n("b"+(s||""))},r.readAsDataURL(a)};function w0(a){return a instanceof Uint8Array?a:a instanceof ArrayBuffer?new Uint8Array(a):new Uint8Array(a.buffer,a.byteOffset,a.byteLength)}let Od;function qC(a,n){if(N1&&a.data instanceof Blob)return a.data.arrayBuffer().then(w0).then(n);if(j1&&(a.data instanceof ArrayBuffer||A1(a.data)))return n(w0(a.data));Hh(a,!1,r=>{Od||(Od=new TextEncoder),n(Od.encode(r))})}const S0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xo=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let a=0;a<S0.length;a++)xo[S0.charCodeAt(a)]=a;const YC=a=>{let n=a.length*.75,r=a.length,s,l=0,c,f,h,p;a[a.length-1]==="="&&(n--,a[a.length-2]==="="&&n--);const y=new ArrayBuffer(n),v=new Uint8Array(y);for(s=0;s<r;s+=4)c=xo[a.charCodeAt(s)],f=xo[a.charCodeAt(s+1)],h=xo[a.charCodeAt(s+2)],p=xo[a.charCodeAt(s+3)],v[l++]=c<<2|f>>4,v[l++]=(f&15)<<4|h>>2,v[l++]=(h&3)<<6|p&63;return y},GC=typeof ArrayBuffer=="function",Vh=(a,n)=>{if(typeof a!="string")return{type:"message",data:_1(a,n)};const r=a.charAt(0);return r==="b"?{type:"message",data:FC(a.substring(1),n)}:gc[r]?a.length>1?{type:gc[r],data:a.substring(1)}:{type:gc[r]}:rh},FC=(a,n)=>{if(GC){const r=YC(a);return _1(r,n)}else return{base64:!0,data:a}},_1=(a,n)=>{switch(n){case"blob":return a instanceof Blob?a:new Blob([a]);case"arraybuffer":default:return a instanceof ArrayBuffer?a:a.buffer}},D1="",PC=(a,n)=>{const r=a.length,s=new Array(r);let l=0;a.forEach((c,f)=>{Hh(c,!1,h=>{s[f]=h,++l===r&&n(s.join(D1))})})},ZC=(a,n)=>{const r=a.split(D1),s=[];for(let l=0;l<r.length;l++){const c=Vh(r[l],n);if(s.push(c),c.type==="error")break}return s};function XC(){return new TransformStream({transform(a,n){qC(a,r=>{const s=r.length;let l;if(s<126)l=new Uint8Array(1),new DataView(l.buffer).setUint8(0,s);else if(s<65536){l=new Uint8Array(3);const c=new DataView(l.buffer);c.setUint8(0,126),c.setUint16(1,s)}else{l=new Uint8Array(9);const c=new DataView(l.buffer);c.setUint8(0,127),c.setBigUint64(1,BigInt(s))}a.data&&typeof a.data!="string"&&(l[0]|=128),n.enqueue(l),n.enqueue(r)})}})}let Nd;function sc(a){return a.reduce((n,r)=>n+r.length,0)}function oc(a,n){if(a[0].length===n)return a.shift();const r=new Uint8Array(n);let s=0;for(let l=0;l<n;l++)r[l]=a[0][s++],s===a[0].length&&(a.shift(),s=0);return a.length&&s<a[0].length&&(a[0]=a[0].slice(s)),r}function KC(a,n){Nd||(Nd=new TextDecoder);const r=[];let s=0,l=-1,c=!1;return new TransformStream({transform(f,h){for(r.push(f);;){if(s===0){if(sc(r)<1)break;const p=oc(r,1);c=(p[0]&128)===128,l=p[0]&127,l<126?s=3:l===126?s=1:s=2}else if(s===1){if(sc(r)<2)break;const p=oc(r,2);l=new DataView(p.buffer,p.byteOffset,p.length).getUint16(0),s=3}else if(s===2){if(sc(r)<8)break;const p=oc(r,8),y=new DataView(p.buffer,p.byteOffset,p.length),v=y.getUint32(0);if(v>Math.pow(2,21)-1){h.enqueue(rh);break}l=v*Math.pow(2,32)+y.getUint32(4),s=3}else{if(sc(r)<l)break;const p=oc(r,l);h.enqueue(Vh(c?p:Nd.decode(p),n)),s=0}if(l===0||l>a){h.enqueue(rh);break}}}})}const M1=4;function sn(a){if(a)return QC(a)}function QC(a){for(var n in sn.prototype)a[n]=sn.prototype[n];return a}sn.prototype.on=sn.prototype.addEventListener=function(a,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+a]=this._callbacks["$"+a]||[]).push(n),this};sn.prototype.once=function(a,n){function r(){this.off(a,r),n.apply(this,arguments)}return r.fn=n,this.on(a,r),this};sn.prototype.off=sn.prototype.removeListener=sn.prototype.removeAllListeners=sn.prototype.removeEventListener=function(a,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+a];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+a],this;for(var s,l=0;l<r.length;l++)if(s=r[l],s===n||s.fn===n){r.splice(l,1);break}return r.length===0&&delete this._callbacks["$"+a],this};sn.prototype.emit=function(a){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),r=this._callbacks["$"+a],s=1;s<arguments.length;s++)n[s-1]=arguments[s];if(r){r=r.slice(0);for(var s=0,l=r.length;s<l;++s)r[s].apply(this,n)}return this};sn.prototype.emitReserved=sn.prototype.emit;sn.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks["$"+a]||[]};sn.prototype.hasListeners=function(a){return!!this.listeners(a).length};const Hc=typeof Promise=="function"&&typeof Promise.resolve=="function"?n=>Promise.resolve().then(n):(n,r)=>r(n,0),fa=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),JC="arraybuffer";function R1(a,...n){return n.reduce((r,s)=>(a.hasOwnProperty(s)&&(r[s]=a[s]),r),{})}const WC=fa.setTimeout,eT=fa.clearTimeout;function Vc(a,n){n.useNativeTimers?(a.setTimeoutFn=WC.bind(fa),a.clearTimeoutFn=eT.bind(fa)):(a.setTimeoutFn=fa.setTimeout.bind(fa),a.clearTimeoutFn=fa.clearTimeout.bind(fa))}const tT=1.33;function nT(a){return typeof a=="string"?aT(a):Math.ceil((a.byteLength||a.size)*tT)}function aT(a){let n=0,r=0;for(let s=0,l=a.length;s<l;s++)n=a.charCodeAt(s),n<128?r+=1:n<2048?r+=2:n<55296||n>=57344?r+=3:(s++,r+=4);return r}function z1(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function rT(a){let n="";for(let r in a)a.hasOwnProperty(r)&&(n.length&&(n+="&"),n+=encodeURIComponent(r)+"="+encodeURIComponent(a[r]));return n}function iT(a){let n={},r=a.split("&");for(let s=0,l=r.length;s<l;s++){let c=r[s].split("=");n[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return n}class sT extends Error{constructor(n,r,s){super(n),this.description=r,this.context=s,this.type="TransportError"}}class qh extends sn{constructor(n){super(),this.writable=!1,Vc(this,n),this.opts=n,this.query=n.query,this.socket=n.socket,this.supportsBinary=!n.forceBase64}onError(n,r,s){return super.emitReserved("error",new sT(n,r,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(n){this.readyState==="open"&&this.write(n)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(n){const r=Vh(n,this.socket.binaryType);this.onPacket(r)}onPacket(n){super.emitReserved("packet",n)}onClose(n){this.readyState="closed",super.emitReserved("close",n)}pause(n){}createUri(n,r={}){return n+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const n=this.opts.hostname;return n.indexOf(":")===-1?n:"["+n+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(n){const r=rT(n);return r.length?"?"+r:""}}class oT extends qh{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(n){this.readyState="pausing";const r=()=>{this.readyState="paused",n()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||r()})),this.writable||(s++,this.once("drain",function(){--s||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(n){const r=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};ZC(n,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const n=()=>{this.write([{type:"close"}])};this.readyState==="open"?n():this.once("open",n)}write(n){this.writable=!1,PC(n,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const n=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=z1()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(n,r)}}let L1=!1;try{L1=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const lT=L1;function cT(){}class uT extends oT{constructor(n){if(super(n),typeof location<"u"){const r=location.protocol==="https:";let s=location.port;s||(s=r?"443":"80"),this.xd=typeof location<"u"&&n.hostname!==location.hostname||s!==n.port}}doWrite(n,r){const s=this.request({method:"POST",data:n});s.on("success",r),s.on("error",(l,c)=>{this.onError("xhr post error",l,c)})}doPoll(){const n=this.request();n.on("data",this.onData.bind(this)),n.on("error",(r,s)=>{this.onError("xhr poll error",r,s)}),this.pollXhr=n}}class Ma extends sn{constructor(n,r,s){super(),this.createRequest=n,Vc(this,s),this._opts=s,this._method=s.method||"GET",this._uri=r,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var n;const r=R1(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(r);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let l in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(l)&&s.setRequestHeader(l,this._opts.extraHeaders[l])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(n=this._opts.cookieJar)===null||n===void 0||n.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var l;s.readyState===3&&((l=this._opts.cookieJar)===null||l===void 0||l.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(l){this.setTimeoutFn(()=>{this._onError(l)},0);return}typeof document<"u"&&(this._index=Ma.requestsCount++,Ma.requests[this._index]=this)}_onError(n){this.emitReserved("error",n,this._xhr),this._cleanup(!0)}_cleanup(n){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=cT,n)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Ma.requests[this._index],this._xhr=null}}_onLoad(){const n=this._xhr.responseText;n!==null&&(this.emitReserved("data",n),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Ma.requestsCount=0;Ma.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",x0);else if(typeof addEventListener=="function"){const a="onpagehide"in fa?"pagehide":"unload";addEventListener(a,x0,!1)}}function x0(){for(let a in Ma.requests)Ma.requests.hasOwnProperty(a)&&Ma.requests[a].abort()}const fT=(function(){const a=B1({xdomain:!1});return a&&a.responseType!==null})();class dT extends uT{constructor(n){super(n);const r=n&&n.forceBase64;this.supportsBinary=fT&&!r}request(n={}){return Object.assign(n,{xd:this.xd},this.opts),new Ma(B1,this.uri(),n)}}function B1(a){const n=a.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!n||lT))return new XMLHttpRequest}catch{}if(!n)try{return new fa[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const U1=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class hT extends qh{get name(){return"websocket"}doOpen(){const n=this.uri(),r=this.opts.protocols,s=U1?{}:R1(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(n,r,s)}catch(l){return this.emitReserved("error",l)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n}),this.ws.onmessage=n=>this.onData(n.data),this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=!1;for(let r=0;r<n.length;r++){const s=n[r],l=r===n.length-1;Hh(s,this.supportsBinary,c=>{try{this.doWrite(s,c)}catch{}l&&Hc(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const n=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=z1()),this.supportsBinary||(r.b64=1),this.createUri(n,r)}}const jd=fa.WebSocket||fa.MozWebSocket;class pT extends hT{createSocket(n,r,s){return U1?new jd(n,r,s):r?new jd(n,r):new jd(n)}doWrite(n,r){this.ws.send(r)}}class mT extends qh{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(n){return this.emitReserved("error",n)}this._transport.closed.then(()=>{this.onClose()}).catch(n=>{this.onError("webtransport error",n)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(n=>{const r=KC(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=n.readable.pipeThrough(r).getReader(),l=XC();l.readable.pipeTo(n.writable),this._writer=l.writable.getWriter();const c=()=>{s.read().then(({done:h,value:p})=>{h||(this.onPacket(p),c())}).catch(h=>{})};c();const f={type:"open"};this.query.sid&&(f.data=`{"sid":"${this.query.sid}"}`),this._writer.write(f).then(()=>this.onOpen())})})}write(n){this.writable=!1;for(let r=0;r<n.length;r++){const s=n[r],l=r===n.length-1;this._writer.write(s).then(()=>{l&&Hc(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var n;(n=this._transport)===null||n===void 0||n.close()}}const yT={websocket:pT,webtransport:mT,polling:dT},gT=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,vT=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ih(a){if(a.length>8e3)throw"URI too long";const n=a,r=a.indexOf("["),s=a.indexOf("]");r!=-1&&s!=-1&&(a=a.substring(0,r)+a.substring(r,s).replace(/:/g,";")+a.substring(s,a.length));let l=gT.exec(a||""),c={},f=14;for(;f--;)c[vT[f]]=l[f]||"";return r!=-1&&s!=-1&&(c.source=n,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=bT(c,c.path),c.queryKey=wT(c,c.query),c}function bT(a,n){const r=/\/{2,9}/g,s=n.replace(r,"/").split("/");return(n.slice(0,1)=="/"||n.length===0)&&s.splice(0,1),n.slice(-1)=="/"&&s.splice(s.length-1,1),s}function wT(a,n){const r={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,l,c){l&&(r[l]=c)}),r}const sh=typeof addEventListener=="function"&&typeof removeEventListener=="function",vc=[];sh&&addEventListener("offline",()=>{vc.forEach(a=>a())},!1);class Ur extends sn{constructor(n,r){if(super(),this.binaryType=JC,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,n&&typeof n=="object"&&(r=n,n=null),n){const s=ih(n);r.hostname=s.host,r.secure=s.protocol==="https"||s.protocol==="wss",r.port=s.port,s.query&&(r.query=s.query)}else r.host&&(r.hostname=ih(r.host).host);Vc(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(s=>{const l=s.prototype.name;this.transports.push(l),this._transportsByName[l]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=iT(this.opts.query)),sh&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},vc.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(n){const r=Object.assign({},this.opts.query);r.EIO=M1,r.transport=n,this.id&&(r.sid=this.id);const s=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[n]);return new this._transportsByName[n](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const n=this.opts.rememberUpgrade&&Ur.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(n);r.open(),this.setTransport(r)}setTransport(n){this.transport&&this.transport.removeAllListeners(),this.transport=n,n.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Ur.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",n),this.emitReserved("heartbeat"),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=n.data,this._onError(r);break;case"message":this.emitReserved("data",n.data),this.emitReserved("message",n.data);break}}onHandshake(n){this.emitReserved("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this._pingInterval=n.pingInterval,this._pingTimeout=n.pingTimeout,this._maxPayload=n.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const n=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+n,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},n),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const n=this._getWritablePackets();this.transport.send(n),this._prevBufferLen=n.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let s=0;s<this.writeBuffer.length;s++){const l=this.writeBuffer[s].data;if(l&&(r+=nT(l)),s>0&&r>this._maxPayload)return this.writeBuffer.slice(0,s);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const n=Date.now()>this._pingTimeoutTime;return n&&(this._pingTimeoutTime=0,Hc(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),n}write(n,r,s){return this._sendPacket("message",n,r,s),this}send(n,r,s){return this._sendPacket("message",n,r,s),this}_sendPacket(n,r,s,l){if(typeof r=="function"&&(l=r,r=void 0),typeof s=="function"&&(l=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const c={type:n,data:r,options:s};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),l&&this.once("flush",l),this.flush()}close(){const n=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),n()},s=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():n()}):this.upgrading?s():n()),this}_onError(n){if(Ur.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",n),this._onClose("transport error",n)}_onClose(n,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),sh&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=vc.indexOf(this._offlineEventListener);s!==-1&&vc.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",n,r),this.writeBuffer=[],this._prevBufferLen=0}}}Ur.protocol=M1;class ST extends Ur{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let n=0;n<this._upgrades.length;n++)this._probe(this._upgrades[n])}_probe(n){let r=this.createTransport(n),s=!1;Ur.priorWebsocketSuccess=!1;const l=()=>{s||(r.send([{type:"ping",data:"probe"}]),r.once("packet",b=>{if(!s)if(b.type==="pong"&&b.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Ur.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(v(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const S=new Error("probe error");S.transport=r.name,this.emitReserved("upgradeError",S)}}))};function c(){s||(s=!0,v(),r.close(),r=null)}const f=b=>{const S=new Error("probe error: "+b);S.transport=r.name,c(),this.emitReserved("upgradeError",S)};function h(){f("transport closed")}function p(){f("socket closed")}function y(b){r&&b.name!==r.name&&c()}const v=()=>{r.removeListener("open",l),r.removeListener("error",f),r.removeListener("close",h),this.off("close",p),this.off("upgrading",y)};r.once("open",l),r.once("error",f),r.once("close",h),this.once("close",p),this.once("upgrading",y),this._upgrades.indexOf("webtransport")!==-1&&n!=="webtransport"?this.setTimeoutFn(()=>{s||r.open()},200):r.open()}onHandshake(n){this._upgrades=this._filterUpgrades(n.upgrades),super.onHandshake(n)}_filterUpgrades(n){const r=[];for(let s=0;s<n.length;s++)~this.transports.indexOf(n[s])&&r.push(n[s]);return r}}let xT=class extends ST{constructor(n,r={}){const s=typeof n=="object"?n:r;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(l=>yT[l]).filter(l=>!!l)),super(n,s)}};function ET(a,n="",r){let s=a;r=r||typeof location<"u"&&location,a==null&&(a=r.protocol+"//"+r.host),typeof a=="string"&&(a.charAt(0)==="/"&&(a.charAt(1)==="/"?a=r.protocol+a:a=r.host+a),/^(https?|wss?):\/\//.test(a)||(typeof r<"u"?a=r.protocol+"//"+a:a="https://"+a),s=ih(a)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const c=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+c+":"+s.port+n,s.href=s.protocol+"://"+c+(r&&r.port===s.port?"":":"+s.port),s}const kT=typeof ArrayBuffer=="function",CT=a=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(a):a.buffer instanceof ArrayBuffer,I1=Object.prototype.toString,TT=typeof Blob=="function"||typeof Blob<"u"&&I1.call(Blob)==="[object BlobConstructor]",OT=typeof File=="function"||typeof File<"u"&&I1.call(File)==="[object FileConstructor]";function Yh(a){return kT&&(a instanceof ArrayBuffer||CT(a))||TT&&a instanceof Blob||OT&&a instanceof File}function bc(a,n){if(!a||typeof a!="object")return!1;if(Array.isArray(a)){for(let r=0,s=a.length;r<s;r++)if(bc(a[r]))return!0;return!1}if(Yh(a))return!0;if(a.toJSON&&typeof a.toJSON=="function"&&arguments.length===1)return bc(a.toJSON(),!0);for(const r in a)if(Object.prototype.hasOwnProperty.call(a,r)&&bc(a[r]))return!0;return!1}function NT(a){const n=[],r=a.data,s=a;return s.data=oh(r,n),s.attachments=n.length,{packet:s,buffers:n}}function oh(a,n){if(!a)return a;if(Yh(a)){const r={_placeholder:!0,num:n.length};return n.push(a),r}else if(Array.isArray(a)){const r=new Array(a.length);for(let s=0;s<a.length;s++)r[s]=oh(a[s],n);return r}else if(typeof a=="object"&&!(a instanceof Date)){const r={};for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=oh(a[s],n));return r}return a}function jT(a,n){return a.data=lh(a.data,n),delete a.attachments,a}function lh(a,n){if(!a)return a;if(a&&a._placeholder===!0){if(typeof a.num=="number"&&a.num>=0&&a.num<n.length)return n[a.num];throw new Error("illegal attachments")}else if(Array.isArray(a))for(let r=0;r<a.length;r++)a[r]=lh(a[r],n);else if(typeof a=="object")for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&(a[r]=lh(a[r],n));return a}const AT=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],_T=5;var ht;(function(a){a[a.CONNECT=0]="CONNECT",a[a.DISCONNECT=1]="DISCONNECT",a[a.EVENT=2]="EVENT",a[a.ACK=3]="ACK",a[a.CONNECT_ERROR=4]="CONNECT_ERROR",a[a.BINARY_EVENT=5]="BINARY_EVENT",a[a.BINARY_ACK=6]="BINARY_ACK"})(ht||(ht={}));class DT{constructor(n){this.replacer=n}encode(n){return(n.type===ht.EVENT||n.type===ht.ACK)&&bc(n)?this.encodeAsBinary({type:n.type===ht.EVENT?ht.BINARY_EVENT:ht.BINARY_ACK,nsp:n.nsp,data:n.data,id:n.id}):[this.encodeAsString(n)]}encodeAsString(n){let r=""+n.type;return(n.type===ht.BINARY_EVENT||n.type===ht.BINARY_ACK)&&(r+=n.attachments+"-"),n.nsp&&n.nsp!=="/"&&(r+=n.nsp+","),n.id!=null&&(r+=n.id),n.data!=null&&(r+=JSON.stringify(n.data,this.replacer)),r}encodeAsBinary(n){const r=NT(n),s=this.encodeAsString(r.packet),l=r.buffers;return l.unshift(s),l}}function E0(a){return Object.prototype.toString.call(a)==="[object Object]"}class Gh extends sn{constructor(n){super(),this.reviver=n}add(n){let r;if(typeof n=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(n);const s=r.type===ht.BINARY_EVENT;s||r.type===ht.BINARY_ACK?(r.type=s?ht.EVENT:ht.ACK,this.reconstructor=new MT(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Yh(n)||n.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(n),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+n)}decodeString(n){let r=0;const s={type:Number(n.charAt(0))};if(ht[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===ht.BINARY_EVENT||s.type===ht.BINARY_ACK){const c=r+1;for(;n.charAt(++r)!=="-"&&r!=n.length;);const f=n.substring(c,r);if(f!=Number(f)||n.charAt(r)!=="-")throw new Error("Illegal attachments");s.attachments=Number(f)}if(n.charAt(r+1)==="/"){const c=r+1;for(;++r&&!(n.charAt(r)===","||r===n.length););s.nsp=n.substring(c,r)}else s.nsp="/";const l=n.charAt(r+1);if(l!==""&&Number(l)==l){const c=r+1;for(;++r;){const f=n.charAt(r);if(f==null||Number(f)!=f){--r;break}if(r===n.length)break}s.id=Number(n.substring(c,r+1))}if(n.charAt(++r)){const c=this.tryParse(n.substr(r));if(Gh.isPayloadValid(s.type,c))s.data=c;else throw new Error("invalid payload")}return s}tryParse(n){try{return JSON.parse(n,this.reviver)}catch{return!1}}static isPayloadValid(n,r){switch(n){case ht.CONNECT:return E0(r);case ht.DISCONNECT:return r===void 0;case ht.CONNECT_ERROR:return typeof r=="string"||E0(r);case ht.EVENT:case ht.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&AT.indexOf(r[0])===-1);case ht.ACK:case ht.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class MT{constructor(n){this.packet=n,this.buffers=[],this.reconPack=n}takeBinaryData(n){if(this.buffers.push(n),this.buffers.length===this.reconPack.attachments){const r=jT(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const RT=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Gh,Encoder:DT,get PacketType(){return ht},protocol:_T},Symbol.toStringTag,{value:"Module"}));function wa(a,n,r){return a.on(n,r),function(){a.off(n,r)}}const zT=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class $1 extends sn{constructor(n,r,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=n,this.nsp=r,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const n=this.io;this.subs=[wa(n,"open",this.onopen.bind(this)),wa(n,"packet",this.onpacket.bind(this)),wa(n,"error",this.onerror.bind(this)),wa(n,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...n){return n.unshift("message"),this.emit.apply(this,n),this}emit(n,...r){var s,l,c;if(zT.hasOwnProperty(n))throw new Error('"'+n.toString()+'" is a reserved event name');if(r.unshift(n),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const f={type:ht.EVENT,data:r};if(f.options={},f.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const v=this.ids++,b=r.pop();this._registerAckCallback(v,b),f.id=v}const h=(l=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||l===void 0?void 0:l.writable,p=this.connected&&!(!((c=this.io.engine)===null||c===void 0)&&c._hasPingExpired());return this.flags.volatile&&!h||(p?(this.notifyOutgoingListeners(f),this.packet(f)):this.sendBuffer.push(f)),this.flags={},this}_registerAckCallback(n,r){var s;const l=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(l===void 0){this.acks[n]=r;return}const c=this.io.setTimeoutFn(()=>{delete this.acks[n];for(let h=0;h<this.sendBuffer.length;h++)this.sendBuffer[h].id===n&&this.sendBuffer.splice(h,1);r.call(this,new Error("operation has timed out"))},l),f=(...h)=>{this.io.clearTimeoutFn(c),r.apply(this,h)};f.withError=!0,this.acks[n]=f}emitWithAck(n,...r){return new Promise((s,l)=>{const c=(f,h)=>f?l(f):s(h);c.withError=!0,r.push(c),this.emit(n,...r)})}_addToQueue(n){let r;typeof n[n.length-1]=="function"&&(r=n.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:n,flags:Object.assign({fromQueue:!0},this.flags)};n.push((l,...c)=>s!==this._queue[0]?void 0:(l!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(l)):(this._queue.shift(),r&&r(null,...c)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(n=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!n||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(n){n.nsp=this.nsp,this.io._packet(n)}onopen(){typeof this.auth=="function"?this.auth(n=>{this._sendConnectPacket(n)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(n){this.packet({type:ht.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},n):n})}onerror(n){this.connected||this.emitReserved("connect_error",n)}onclose(n,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",n,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(n=>{if(!this.sendBuffer.some(s=>String(s.id)===n)){const s=this.acks[n];delete this.acks[n],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(n){if(n.nsp===this.nsp)switch(n.type){case ht.CONNECT:n.data&&n.data.sid?this.onconnect(n.data.sid,n.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ht.EVENT:case ht.BINARY_EVENT:this.onevent(n);break;case ht.ACK:case ht.BINARY_ACK:this.onack(n);break;case ht.DISCONNECT:this.ondisconnect();break;case ht.CONNECT_ERROR:this.destroy();const s=new Error(n.data.message);s.data=n.data.data,this.emitReserved("connect_error",s);break}}onevent(n){const r=n.data||[];n.id!=null&&r.push(this.ack(n.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(n){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const s of r)s.apply(this,n)}super.emit.apply(this,n),this._pid&&n.length&&typeof n[n.length-1]=="string"&&(this._lastOffset=n[n.length-1])}ack(n){const r=this;let s=!1;return function(...l){s||(s=!0,r.packet({type:ht.ACK,id:n,data:l}))}}onack(n){const r=this.acks[n.id];typeof r=="function"&&(delete this.acks[n.id],r.withError&&n.data.unshift(null),r.apply(this,n.data))}onconnect(n,r){this.id=n,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(n=>this.emitEvent(n)),this.receiveBuffer=[],this.sendBuffer.forEach(n=>{this.notifyOutgoingListeners(n),this.packet(n)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(n=>n()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ht.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(n){return this.flags.compress=n,this}get volatile(){return this.flags.volatile=!0,this}timeout(n){return this.flags.timeout=n,this}onAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(n),this}prependAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(n),this}offAny(n){if(!this._anyListeners)return this;if(n){const r=this._anyListeners;for(let s=0;s<r.length;s++)if(n===r[s])return r.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(n),this}prependAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(n),this}offAnyOutgoing(n){if(!this._anyOutgoingListeners)return this;if(n){const r=this._anyOutgoingListeners;for(let s=0;s<r.length;s++)if(n===r[s])return r.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(n){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const s of r)s.apply(this,n.data)}}}function vs(a){a=a||{},this.ms=a.min||100,this.max=a.max||1e4,this.factor=a.factor||2,this.jitter=a.jitter>0&&a.jitter<=1?a.jitter:0,this.attempts=0}vs.prototype.duration=function(){var a=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),r=Math.floor(n*this.jitter*a);a=(Math.floor(n*10)&1)==0?a-r:a+r}return Math.min(a,this.max)|0};vs.prototype.reset=function(){this.attempts=0};vs.prototype.setMin=function(a){this.ms=a};vs.prototype.setMax=function(a){this.max=a};vs.prototype.setJitter=function(a){this.jitter=a};class ch extends sn{constructor(n,r){var s;super(),this.nsps={},this.subs=[],n&&typeof n=="object"&&(r=n,n=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Vc(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((s=r.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new vs({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=n;const l=r.parser||RT;this.encoder=new l.Encoder,this.decoder=new l.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(n){return arguments.length?(this._reconnection=!!n,n||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(n){return n===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=n,this)}reconnectionDelay(n){var r;return n===void 0?this._reconnectionDelay:(this._reconnectionDelay=n,(r=this.backoff)===null||r===void 0||r.setMin(n),this)}randomizationFactor(n){var r;return n===void 0?this._randomizationFactor:(this._randomizationFactor=n,(r=this.backoff)===null||r===void 0||r.setJitter(n),this)}reconnectionDelayMax(n){var r;return n===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=n,(r=this.backoff)===null||r===void 0||r.setMax(n),this)}timeout(n){return arguments.length?(this._timeout=n,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(n){if(~this._readyState.indexOf("open"))return this;this.engine=new xT(this.uri,this.opts);const r=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const l=wa(r,"open",function(){s.onopen(),n&&n()}),c=h=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",h),n?n(h):this.maybeReconnectOnOpen()},f=wa(r,"error",c);if(this._timeout!==!1){const h=this._timeout,p=this.setTimeoutFn(()=>{l(),c(new Error("timeout")),r.close()},h);this.opts.autoUnref&&p.unref(),this.subs.push(()=>{this.clearTimeoutFn(p)})}return this.subs.push(l),this.subs.push(f),this}connect(n){return this.open(n)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const n=this.engine;this.subs.push(wa(n,"ping",this.onping.bind(this)),wa(n,"data",this.ondata.bind(this)),wa(n,"error",this.onerror.bind(this)),wa(n,"close",this.onclose.bind(this)),wa(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(n){try{this.decoder.add(n)}catch(r){this.onclose("parse error",r)}}ondecoded(n){Hc(()=>{this.emitReserved("packet",n)},this.setTimeoutFn)}onerror(n){this.emitReserved("error",n)}socket(n,r){let s=this.nsps[n];return s?this._autoConnect&&!s.active&&s.connect():(s=new $1(this,n,r),this.nsps[n]=s),s}_destroy(n){const r=Object.keys(this.nsps);for(const s of r)if(this.nsps[s].active)return;this._close()}_packet(n){const r=this.encoder.encode(n);for(let s=0;s<r.length;s++)this.engine.write(r[s],n.options)}cleanup(){this.subs.forEach(n=>n()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(n,r){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",n,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const n=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{n.skipReconnect||(this.emitReserved("reconnect_attempt",n.backoff.attempts),!n.skipReconnect&&n.open(l=>{l?(n._reconnecting=!1,n.reconnect(),this.emitReserved("reconnect_error",l)):n.onreconnect()}))},r);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const n=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",n)}}const bo={};function wc(a,n){typeof a=="object"&&(n=a,a=void 0),n=n||{};const r=ET(a,n.path||"/socket.io"),s=r.source,l=r.id,c=r.path,f=bo[l]&&c in bo[l].nsps,h=n.forceNew||n["force new connection"]||n.multiplex===!1||f;let p;return h?p=new ch(s,n):(bo[l]||(bo[l]=new ch(s,n)),p=bo[l]),r.query&&!n.query&&(n.query=r.queryKey),p.socket(r.path,n)}Object.assign(wc,{Manager:ch,Socket:$1,io:wc,connect:wc});const LT=typeof window<"u"?window.location.origin:"http://localhost:3000",k0=$c(),BT=k0?`${k0}/socket.io`:"/socket.io",ge=wc(LT,{path:BT,autoConnect:!1,reconnection:!0,reconnectionAttempts:1/0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,timeout:2e4,transports:["websocket","polling"]}),UT=()=>{ge.connected||ge.connect()},IT=()=>{ge.connected&&ge.disconnect()};class $T{constructor(){this.nodes=new Map}register(n,r){typeof n=="object"&&r===void 0&&(r=n,n=r.label?r.label.replace(/\s+/g,""):"Node_"+Math.random().toString(36).substr(2,9)),this.nodes.set(n,r)}get(n){return this.nodes.get(n)}getAll(){return Array.from(this.nodes.values()).filter(n=>n)}getByLabel(n){for(const r of this.nodes.values())if(r.label===n)return r;return null}getByInstance(n){for(const r of this.nodes.values())if(r.nodeClass&&n instanceof r.nodeClass)return r;return null}}const En=new $T;class mi extends Error{}class HT extends mi{constructor(n){super(`Invalid DateTime: ${n.toMessage()}`)}}class VT extends mi{constructor(n){super(`Invalid Interval: ${n.toMessage()}`)}}class qT extends mi{constructor(n){super(`Invalid Duration: ${n.toMessage()}`)}}class is extends mi{}class H1 extends mi{constructor(n){super(`Invalid unit ${n}`)}}class kn extends mi{}class Dr extends mi{constructor(){super("Zone is an abstract class")}}const Ce="numeric",ka="short",Jn="long",Ac={year:Ce,month:Ce,day:Ce},V1={year:Ce,month:ka,day:Ce},YT={year:Ce,month:ka,day:Ce,weekday:ka},q1={year:Ce,month:Jn,day:Ce},Y1={year:Ce,month:Jn,day:Ce,weekday:Jn},G1={hour:Ce,minute:Ce},F1={hour:Ce,minute:Ce,second:Ce},P1={hour:Ce,minute:Ce,second:Ce,timeZoneName:ka},Z1={hour:Ce,minute:Ce,second:Ce,timeZoneName:Jn},X1={hour:Ce,minute:Ce,hourCycle:"h23"},K1={hour:Ce,minute:Ce,second:Ce,hourCycle:"h23"},Q1={hour:Ce,minute:Ce,second:Ce,hourCycle:"h23",timeZoneName:ka},J1={hour:Ce,minute:Ce,second:Ce,hourCycle:"h23",timeZoneName:Jn},W1={year:Ce,month:Ce,day:Ce,hour:Ce,minute:Ce},ew={year:Ce,month:Ce,day:Ce,hour:Ce,minute:Ce,second:Ce},tw={year:Ce,month:ka,day:Ce,hour:Ce,minute:Ce},nw={year:Ce,month:ka,day:Ce,hour:Ce,minute:Ce,second:Ce},GT={year:Ce,month:ka,day:Ce,weekday:ka,hour:Ce,minute:Ce},aw={year:Ce,month:Jn,day:Ce,hour:Ce,minute:Ce,timeZoneName:ka},rw={year:Ce,month:Jn,day:Ce,hour:Ce,minute:Ce,second:Ce,timeZoneName:ka},iw={year:Ce,month:Jn,day:Ce,weekday:Jn,hour:Ce,minute:Ce,timeZoneName:Jn},sw={year:Ce,month:Jn,day:Ce,weekday:Jn,hour:Ce,minute:Ce,second:Ce,timeZoneName:Jn};class bs{get type(){throw new Dr}get name(){throw new Dr}get ianaName(){return this.name}get isUniversal(){throw new Dr}offsetName(n,r){throw new Dr}formatOffset(n,r){throw new Dr}offset(n){throw new Dr}equals(n){throw new Dr}get isValid(){throw new Dr}}let Ad=null;class Bo extends bs{static get instance(){return Ad===null&&(Ad=new Bo),Ad}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(n,{format:r,locale:s}){return vw(n,r,s)}formatOffset(n,r){return Ao(this.offset(n),r)}offset(n){return-new Date(n).getTimezoneOffset()}equals(n){return n.type==="system"}get isValid(){return!0}}const uh=new Map;function FT(a){let n=uh.get(a);return n===void 0&&(n=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:a,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),uh.set(a,n)),n}const PT={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function ZT(a,n){const r=a.format(n).replace(/\u200E/g,""),s=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,l,c,f,h,p,y,v]=s;return[f,l,c,h,p,y,v]}function XT(a,n){const r=a.formatToParts(n),s=[];for(let l=0;l<r.length;l++){const{type:c,value:f}=r[l],h=PT[c];c==="era"?s[h]=f:Fe(h)||(s[h]=parseInt(f,10))}return s}const _d=new Map;class za extends bs{static create(n){let r=_d.get(n);return r===void 0&&_d.set(n,r=new za(n)),r}static resetCache(){_d.clear(),uh.clear()}static isValidSpecifier(n){return this.isValidZone(n)}static isValidZone(n){if(!n)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:n}).format(),!0}catch{return!1}}constructor(n){super(),this.zoneName=n,this.valid=za.isValidZone(n)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(n,{format:r,locale:s}){return vw(n,r,s,this.name)}formatOffset(n,r){return Ao(this.offset(n),r)}offset(n){if(!this.valid)return NaN;const r=new Date(n);if(isNaN(r))return NaN;const s=FT(this.name);let[l,c,f,h,p,y,v]=s.formatToParts?XT(s,r):ZT(s,r);h==="BC"&&(l=-Math.abs(l)+1);const S=Yc({year:l,month:c,day:f,hour:p===24?0:p,minute:y,second:v,millisecond:0});let k=+r;const N=k%1e3;return k-=N>=0?N:1e3+N,(S-k)/(60*1e3)}equals(n){return n.type==="iana"&&n.name===this.name}get isValid(){return this.valid}}let C0={};function KT(a,n={}){const r=JSON.stringify([a,n]);let s=C0[r];return s||(s=new Intl.ListFormat(a,n),C0[r]=s),s}const fh=new Map;function dh(a,n={}){const r=JSON.stringify([a,n]);let s=fh.get(r);return s===void 0&&(s=new Intl.DateTimeFormat(a,n),fh.set(r,s)),s}const hh=new Map;function QT(a,n={}){const r=JSON.stringify([a,n]);let s=hh.get(r);return s===void 0&&(s=new Intl.NumberFormat(a,n),hh.set(r,s)),s}const ph=new Map;function JT(a,n={}){const{base:r,...s}=n,l=JSON.stringify([a,s]);let c=ph.get(l);return c===void 0&&(c=new Intl.RelativeTimeFormat(a,n),ph.set(l,c)),c}let Eo=null;function WT(){return Eo||(Eo=new Intl.DateTimeFormat().resolvedOptions().locale,Eo)}const mh=new Map;function ow(a){let n=mh.get(a);return n===void 0&&(n=new Intl.DateTimeFormat(a).resolvedOptions(),mh.set(a,n)),n}const yh=new Map;function eO(a){let n=yh.get(a);if(!n){const r=new Intl.Locale(a);n="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,"minimalDays"in n||(n={...lw,...n}),yh.set(a,n)}return n}function tO(a){const n=a.indexOf("-x-");n!==-1&&(a=a.substring(0,n));const r=a.indexOf("-u-");if(r===-1)return[a];{let s,l;try{s=dh(a).resolvedOptions(),l=a}catch{const p=a.substring(0,r);s=dh(p).resolvedOptions(),l=p}const{numberingSystem:c,calendar:f}=s;return[l,c,f]}}function nO(a,n,r){return(r||n)&&(a.includes("-u-")||(a+="-u"),r&&(a+=`-ca-${r}`),n&&(a+=`-nu-${n}`)),a}function aO(a){const n=[];for(let r=1;r<=12;r++){const s=Pe.utc(2009,r,1);n.push(a(s))}return n}function rO(a){const n=[];for(let r=1;r<=7;r++){const s=Pe.utc(2016,11,13+r);n.push(a(s))}return n}function lc(a,n,r,s){const l=a.listingMode();return l==="error"?null:l==="en"?r(n):s(n)}function iO(a){return a.numberingSystem&&a.numberingSystem!=="latn"?!1:a.numberingSystem==="latn"||!a.locale||a.locale.startsWith("en")||ow(a.locale).numberingSystem==="latn"}class sO{constructor(n,r,s){this.padTo=s.padTo||0,this.floor=s.floor||!1;const{padTo:l,floor:c,...f}=s;if(!r||Object.keys(f).length>0){const h={useGrouping:!1,...s};s.padTo>0&&(h.minimumIntegerDigits=s.padTo),this.inf=QT(n,h)}}format(n){if(this.inf){const r=this.floor?Math.floor(n):n;return this.inf.format(r)}else{const r=this.floor?Math.floor(n):Kh(n,3);return an(r,this.padTo)}}}class oO{constructor(n,r,s){this.opts=s,this.originalZone=void 0;let l;if(this.opts.timeZone)this.dt=n;else if(n.zone.type==="fixed"){const f=-1*(n.offset/60),h=f>=0?`Etc/GMT+${f}`:`Etc/GMT${f}`;n.offset!==0&&za.create(h).valid?(l=h,this.dt=n):(l="UTC",this.dt=n.offset===0?n:n.setZone("UTC").plus({minutes:n.offset}),this.originalZone=n.zone)}else n.zone.type==="system"?this.dt=n:n.zone.type==="iana"?(this.dt=n,l=n.zone.name):(l="UTC",this.dt=n.setZone("UTC").plus({minutes:n.offset}),this.originalZone=n.zone);const c={...this.opts};c.timeZone=c.timeZone||l,this.dtf=dh(r,c)}format(){return this.originalZone?this.formatToParts().map(({value:n})=>n).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const n=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?n.map(r=>{if(r.type==="timeZoneName"){const s=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:s}}else return r}):n}resolvedOptions(){return this.dtf.resolvedOptions()}}class lO{constructor(n,r,s){this.opts={style:"long",...s},!r&&yw()&&(this.rtf=JT(n,s))}format(n,r){return this.rtf?this.rtf.format(n,r):jO(r,n,this.opts.numeric,this.opts.style!=="long")}formatToParts(n,r){return this.rtf?this.rtf.formatToParts(n,r):[]}}const lw={firstDay:1,minimalDays:4,weekend:[6,7]};class Et{static fromOpts(n){return Et.create(n.locale,n.numberingSystem,n.outputCalendar,n.weekSettings,n.defaultToEN)}static create(n,r,s,l,c=!1){const f=n||Yt.defaultLocale,h=f||(c?"en-US":WT()),p=r||Yt.defaultNumberingSystem,y=s||Yt.defaultOutputCalendar,v=vh(l)||Yt.defaultWeekSettings;return new Et(h,p,y,v,f)}static resetCache(){Eo=null,fh.clear(),hh.clear(),ph.clear(),mh.clear(),yh.clear()}static fromObject({locale:n,numberingSystem:r,outputCalendar:s,weekSettings:l}={}){return Et.create(n,r,s,l)}constructor(n,r,s,l,c){const[f,h,p]=tO(n);this.locale=f,this.numberingSystem=r||h||null,this.outputCalendar=s||p||null,this.weekSettings=l,this.intl=nO(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=c,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=iO(this)),this.fastNumbersCached}listingMode(){const n=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return n&&r?"en":"intl"}clone(n){return!n||Object.getOwnPropertyNames(n).length===0?this:Et.create(n.locale||this.specifiedLocale,n.numberingSystem||this.numberingSystem,n.outputCalendar||this.outputCalendar,vh(n.weekSettings)||this.weekSettings,n.defaultToEN||!1)}redefaultToEN(n={}){return this.clone({...n,defaultToEN:!0})}redefaultToSystem(n={}){return this.clone({...n,defaultToEN:!1})}months(n,r=!1){return lc(this,n,Sw,()=>{const s=this.intl==="ja"||this.intl.startsWith("ja-");r&=!s;const l=r?{month:n,day:"numeric"}:{month:n},c=r?"format":"standalone";if(!this.monthsCache[c][n]){const f=s?h=>this.dtFormatter(h,l).format():h=>this.extract(h,l,"month");this.monthsCache[c][n]=aO(f)}return this.monthsCache[c][n]})}weekdays(n,r=!1){return lc(this,n,kw,()=>{const s=r?{weekday:n,year:"numeric",month:"long",day:"numeric"}:{weekday:n},l=r?"format":"standalone";return this.weekdaysCache[l][n]||(this.weekdaysCache[l][n]=rO(c=>this.extract(c,s,"weekday"))),this.weekdaysCache[l][n]})}meridiems(){return lc(this,void 0,()=>Cw,()=>{if(!this.meridiemCache){const n={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Pe.utc(2016,11,13,9),Pe.utc(2016,11,13,19)].map(r=>this.extract(r,n,"dayperiod"))}return this.meridiemCache})}eras(n){return lc(this,n,Tw,()=>{const r={era:n};return this.eraCache[n]||(this.eraCache[n]=[Pe.utc(-40,1,1),Pe.utc(2017,1,1)].map(s=>this.extract(s,r,"era"))),this.eraCache[n]})}extract(n,r,s){const l=this.dtFormatter(n,r),c=l.formatToParts(),f=c.find(h=>h.type.toLowerCase()===s);return f?f.value:null}numberFormatter(n={}){return new sO(this.intl,n.forceSimple||this.fastNumbers,n)}dtFormatter(n,r={}){return new oO(n,this.intl,r)}relFormatter(n={}){return new lO(this.intl,this.isEnglish(),n)}listFormatter(n={}){return KT(this.intl,n)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||ow(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:gw()?eO(this.locale):lw}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(n){return this.locale===n.locale&&this.numberingSystem===n.numberingSystem&&this.outputCalendar===n.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let Dd=null;class Tn extends bs{static get utcInstance(){return Dd===null&&(Dd=new Tn(0)),Dd}static instance(n){return n===0?Tn.utcInstance:new Tn(n)}static parseSpecifier(n){if(n){const r=n.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new Tn(Gc(r[1],r[2]))}return null}constructor(n){super(),this.fixed=n}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Ao(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Ao(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(n,r){return Ao(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(n){return n.type==="fixed"&&n.fixed===this.fixed}get isValid(){return!0}}class cw extends bs{constructor(n){super(),this.zoneName=n}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Lr(a,n){if(Fe(a)||a===null)return n;if(a instanceof bs)return a;if(pO(a)){const r=a.toLowerCase();return r==="default"?n:r==="local"||r==="system"?Bo.instance:r==="utc"||r==="gmt"?Tn.utcInstance:Tn.parseSpecifier(r)||za.create(a)}else return Ir(a)?Tn.instance(a):typeof a=="object"&&"offset"in a&&typeof a.offset=="function"?a:new cw(a)}const Fh={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},T0={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},cO=Fh.hanidec.replace(/[\[|\]]/g,"").split("");function uO(a){let n=parseInt(a,10);if(isNaN(n)){n="";for(let r=0;r<a.length;r++){const s=a.charCodeAt(r);if(a[r].search(Fh.hanidec)!==-1)n+=cO.indexOf(a[r]);else for(const l in T0){const[c,f]=T0[l];s>=c&&s<=f&&(n+=s-c)}}return parseInt(n,10)}else return n}const gh=new Map;function fO(){gh.clear()}function va({numberingSystem:a},n=""){const r=a||"latn";let s=gh.get(r);s===void 0&&(s=new Map,gh.set(r,s));let l=s.get(n);return l===void 0&&(l=new RegExp(`${Fh[r]}${n}`),s.set(n,l)),l}let O0=()=>Date.now(),N0="system",j0=null,A0=null,_0=null,D0=60,M0,R0=null;class Yt{static get now(){return O0}static set now(n){O0=n}static set defaultZone(n){N0=n}static get defaultZone(){return Lr(N0,Bo.instance)}static get defaultLocale(){return j0}static set defaultLocale(n){j0=n}static get defaultNumberingSystem(){return A0}static set defaultNumberingSystem(n){A0=n}static get defaultOutputCalendar(){return _0}static set defaultOutputCalendar(n){_0=n}static get defaultWeekSettings(){return R0}static set defaultWeekSettings(n){R0=vh(n)}static get twoDigitCutoffYear(){return D0}static set twoDigitCutoffYear(n){D0=n%100}static get throwOnInvalid(){return M0}static set throwOnInvalid(n){M0=n}static resetCaches(){Et.resetCache(),za.resetCache(),Pe.resetCache(),fO()}}class Sa{constructor(n,r){this.reason=n,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const uw=[0,31,59,90,120,151,181,212,243,273,304,334],fw=[0,31,60,91,121,152,182,213,244,274,305,335];function da(a,n){return new Sa("unit out of range",`you specified ${n} (of type ${typeof n}) as a ${a}, which is invalid`)}function Ph(a,n,r){const s=new Date(Date.UTC(a,n-1,r));a<100&&a>=0&&s.setUTCFullYear(s.getUTCFullYear()-1900);const l=s.getUTCDay();return l===0?7:l}function dw(a,n,r){return r+(Uo(a)?fw:uw)[n-1]}function hw(a,n){const r=Uo(a)?fw:uw,s=r.findIndex(c=>c<n),l=n-r[s];return{month:s+1,day:l}}function Zh(a,n){return(a-n+7)%7+1}function _c(a,n=4,r=1){const{year:s,month:l,day:c}=a,f=dw(s,l,c),h=Zh(Ph(s,l,c),r);let p=Math.floor((f-h+14-n)/7),y;return p<1?(y=s-1,p=Ro(y,n,r)):p>Ro(s,n,r)?(y=s+1,p=1):y=s,{weekYear:y,weekNumber:p,weekday:h,...Fc(a)}}function z0(a,n=4,r=1){const{weekYear:s,weekNumber:l,weekday:c}=a,f=Zh(Ph(s,1,n),r),h=os(s);let p=l*7+c-f-7+n,y;p<1?(y=s-1,p+=os(y)):p>h?(y=s+1,p-=os(s)):y=s;const{month:v,day:b}=hw(y,p);return{year:y,month:v,day:b,...Fc(a)}}function Md(a){const{year:n,month:r,day:s}=a,l=dw(n,r,s);return{year:n,ordinal:l,...Fc(a)}}function L0(a){const{year:n,ordinal:r}=a,{month:s,day:l}=hw(n,r);return{year:n,month:s,day:l,...Fc(a)}}function B0(a,n){if(!Fe(a.localWeekday)||!Fe(a.localWeekNumber)||!Fe(a.localWeekYear)){if(!Fe(a.weekday)||!Fe(a.weekNumber)||!Fe(a.weekYear))throw new is("Cannot mix locale-based week fields with ISO-based week fields");return Fe(a.localWeekday)||(a.weekday=a.localWeekday),Fe(a.localWeekNumber)||(a.weekNumber=a.localWeekNumber),Fe(a.localWeekYear)||(a.weekYear=a.localWeekYear),delete a.localWeekday,delete a.localWeekNumber,delete a.localWeekYear,{minDaysInFirstWeek:n.getMinDaysInFirstWeek(),startOfWeek:n.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function dO(a,n=4,r=1){const s=qc(a.weekYear),l=ha(a.weekNumber,1,Ro(a.weekYear,n,r)),c=ha(a.weekday,1,7);return s?l?c?!1:da("weekday",a.weekday):da("week",a.weekNumber):da("weekYear",a.weekYear)}function hO(a){const n=qc(a.year),r=ha(a.ordinal,1,os(a.year));return n?r?!1:da("ordinal",a.ordinal):da("year",a.year)}function pw(a){const n=qc(a.year),r=ha(a.month,1,12),s=ha(a.day,1,Dc(a.year,a.month));return n?r?s?!1:da("day",a.day):da("month",a.month):da("year",a.year)}function mw(a){const{hour:n,minute:r,second:s,millisecond:l}=a,c=ha(n,0,23)||n===24&&r===0&&s===0&&l===0,f=ha(r,0,59),h=ha(s,0,59),p=ha(l,0,999);return c?f?h?p?!1:da("millisecond",l):da("second",s):da("minute",r):da("hour",n)}function Fe(a){return typeof a>"u"}function Ir(a){return typeof a=="number"}function qc(a){return typeof a=="number"&&a%1===0}function pO(a){return typeof a=="string"}function mO(a){return Object.prototype.toString.call(a)==="[object Date]"}function yw(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function gw(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function yO(a){return Array.isArray(a)?a:[a]}function U0(a,n,r){if(a.length!==0)return a.reduce((s,l)=>{const c=[n(l),l];return s&&r(s[0],c[0])===s[0]?s:c},null)[1]}function gO(a,n){return n.reduce((r,s)=>(r[s]=a[s],r),{})}function ps(a,n){return Object.prototype.hasOwnProperty.call(a,n)}function vh(a){if(a==null)return null;if(typeof a!="object")throw new kn("Week settings must be an object");if(!ha(a.firstDay,1,7)||!ha(a.minimalDays,1,7)||!Array.isArray(a.weekend)||a.weekend.some(n=>!ha(n,1,7)))throw new kn("Invalid week settings");return{firstDay:a.firstDay,minimalDays:a.minimalDays,weekend:Array.from(a.weekend)}}function ha(a,n,r){return qc(a)&&a>=n&&a<=r}function vO(a,n){return a-n*Math.floor(a/n)}function an(a,n=2){const r=a<0;let s;return r?s="-"+(""+-a).padStart(n,"0"):s=(""+a).padStart(n,"0"),s}function zr(a){if(!(Fe(a)||a===null||a===""))return parseInt(a,10)}function si(a){if(!(Fe(a)||a===null||a===""))return parseFloat(a)}function Xh(a){if(!(Fe(a)||a===null||a==="")){const n=parseFloat("0."+a)*1e3;return Math.floor(n)}}function Kh(a,n,r="round"){const s=10**n;switch(r){case"expand":return a>0?Math.ceil(a*s)/s:Math.floor(a*s)/s;case"trunc":return Math.trunc(a*s)/s;case"round":return Math.round(a*s)/s;case"floor":return Math.floor(a*s)/s;case"ceil":return Math.ceil(a*s)/s;default:throw new RangeError(`Value rounding ${r} is out of range`)}}function Uo(a){return a%4===0&&(a%100!==0||a%400===0)}function os(a){return Uo(a)?366:365}function Dc(a,n){const r=vO(n-1,12)+1,s=a+(n-r)/12;return r===2?Uo(s)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function Yc(a){let n=Date.UTC(a.year,a.month-1,a.day,a.hour,a.minute,a.second,a.millisecond);return a.year<100&&a.year>=0&&(n=new Date(n),n.setUTCFullYear(a.year,a.month-1,a.day)),+n}function I0(a,n,r){return-Zh(Ph(a,1,n),r)+n-1}function Ro(a,n=4,r=1){const s=I0(a,n,r),l=I0(a+1,n,r);return(os(a)-s+l)/7}function bh(a){return a>99?a:a>Yt.twoDigitCutoffYear?1900+a:2e3+a}function vw(a,n,r,s=null){const l=new Date(a),c={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};s&&(c.timeZone=s);const f={timeZoneName:n,...c},h=new Intl.DateTimeFormat(r,f).formatToParts(l).find(p=>p.type.toLowerCase()==="timezonename");return h?h.value:null}function Gc(a,n){let r=parseInt(a,10);Number.isNaN(r)&&(r=0);const s=parseInt(n,10)||0,l=r<0||Object.is(r,-0)?-s:s;return r*60+l}function bw(a){const n=Number(a);if(typeof a=="boolean"||a===""||!Number.isFinite(n))throw new kn(`Invalid unit value ${a}`);return n}function Mc(a,n){const r={};for(const s in a)if(ps(a,s)){const l=a[s];if(l==null)continue;r[n(s)]=bw(l)}return r}function Ao(a,n){const r=Math.trunc(Math.abs(a/60)),s=Math.trunc(Math.abs(a%60)),l=a>=0?"+":"-";switch(n){case"short":return`${l}${an(r,2)}:${an(s,2)}`;case"narrow":return`${l}${r}${s>0?`:${s}`:""}`;case"techie":return`${l}${an(r,2)}${an(s,2)}`;default:throw new RangeError(`Value format ${n} is out of range for property format`)}}function Fc(a){return gO(a,["hour","minute","second","millisecond"])}const bO=["January","February","March","April","May","June","July","August","September","October","November","December"],ww=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wO=["J","F","M","A","M","J","J","A","S","O","N","D"];function Sw(a){switch(a){case"narrow":return[...wO];case"short":return[...ww];case"long":return[...bO];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const xw=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Ew=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],SO=["M","T","W","T","F","S","S"];function kw(a){switch(a){case"narrow":return[...SO];case"short":return[...Ew];case"long":return[...xw];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Cw=["AM","PM"],xO=["Before Christ","Anno Domini"],EO=["BC","AD"],kO=["B","A"];function Tw(a){switch(a){case"narrow":return[...kO];case"short":return[...EO];case"long":return[...xO];default:return null}}function CO(a){return Cw[a.hour<12?0:1]}function TO(a,n){return kw(n)[a.weekday-1]}function OO(a,n){return Sw(n)[a.month-1]}function NO(a,n){return Tw(n)[a.year<0?0:1]}function jO(a,n,r="always",s=!1){const l={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},c=["hours","minutes","seconds"].indexOf(a)===-1;if(r==="auto"&&c){const b=a==="days";switch(n){case 1:return b?"tomorrow":`next ${l[a][0]}`;case-1:return b?"yesterday":`last ${l[a][0]}`;case 0:return b?"today":`this ${l[a][0]}`}}const f=Object.is(n,-0)||n<0,h=Math.abs(n),p=h===1,y=l[a],v=s?p?y[1]:y[2]||y[1]:p?l[a][0]:a;return f?`${h} ${v} ago`:`in ${h} ${v}`}function $0(a,n){let r="";for(const s of a)s.literal?r+=s.val:r+=n(s.val);return r}const AO={D:Ac,DD:V1,DDD:q1,DDDD:Y1,t:G1,tt:F1,ttt:P1,tttt:Z1,T:X1,TT:K1,TTT:Q1,TTTT:J1,f:W1,ff:tw,fff:aw,ffff:iw,F:ew,FF:nw,FFF:rw,FFFF:sw};class Cn{static create(n,r={}){return new Cn(n,r)}static parseFormat(n){let r=null,s="",l=!1;const c=[];for(let f=0;f<n.length;f++){const h=n.charAt(f);h==="'"?((s.length>0||l)&&c.push({literal:l||/^\s+$/.test(s),val:s===""?"'":s}),r=null,s="",l=!l):l||h===r?s+=h:(s.length>0&&c.push({literal:/^\s+$/.test(s),val:s}),s=h,r=h)}return s.length>0&&c.push({literal:l||/^\s+$/.test(s),val:s}),c}static macroTokenToFormatOpts(n){return AO[n]}constructor(n,r){this.opts=r,this.loc=n,this.systemLoc=null}formatWithSystemDefault(n,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(n,{...this.opts,...r}).format()}dtFormatter(n,r={}){return this.loc.dtFormatter(n,{...this.opts,...r})}formatDateTime(n,r){return this.dtFormatter(n,r).format()}formatDateTimeParts(n,r){return this.dtFormatter(n,r).formatToParts()}formatInterval(n,r){return this.dtFormatter(n.start,r).dtf.formatRange(n.start.toJSDate(),n.end.toJSDate())}resolvedOptions(n,r){return this.dtFormatter(n,r).resolvedOptions()}num(n,r=0,s=void 0){if(this.opts.forceSimple)return an(n,r);const l={...this.opts};return r>0&&(l.padTo=r),s&&(l.signDisplay=s),this.loc.numberFormatter(l).format(n)}formatDateTimeFromString(n,r){const s=this.loc.listingMode()==="en",l=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",c=(k,N)=>this.loc.extract(n,k,N),f=k=>n.isOffsetFixed&&n.offset===0&&k.allowZ?"Z":n.isValid?n.zone.formatOffset(n.ts,k.format):"",h=()=>s?CO(n):c({hour:"numeric",hourCycle:"h12"},"dayperiod"),p=(k,N)=>s?OO(n,k):c(N?{month:k}:{month:k,day:"numeric"},"month"),y=(k,N)=>s?TO(n,k):c(N?{weekday:k}:{weekday:k,month:"long",day:"numeric"},"weekday"),v=k=>{const N=Cn.macroTokenToFormatOpts(k);return N?this.formatWithSystemDefault(n,N):k},b=k=>s?NO(n,k):c({era:k},"era"),S=k=>{switch(k){case"S":return this.num(n.millisecond);case"u":case"SSS":return this.num(n.millisecond,3);case"s":return this.num(n.second);case"ss":return this.num(n.second,2);case"uu":return this.num(Math.floor(n.millisecond/10),2);case"uuu":return this.num(Math.floor(n.millisecond/100));case"m":return this.num(n.minute);case"mm":return this.num(n.minute,2);case"h":return this.num(n.hour%12===0?12:n.hour%12);case"hh":return this.num(n.hour%12===0?12:n.hour%12,2);case"H":return this.num(n.hour);case"HH":return this.num(n.hour,2);case"Z":return f({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return f({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return f({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return n.zone.offsetName(n.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return n.zone.offsetName(n.ts,{format:"long",locale:this.loc.locale});case"z":return n.zoneName;case"a":return h();case"d":return l?c({day:"numeric"},"day"):this.num(n.day);case"dd":return l?c({day:"2-digit"},"day"):this.num(n.day,2);case"c":return this.num(n.weekday);case"ccc":return y("short",!0);case"cccc":return y("long",!0);case"ccccc":return y("narrow",!0);case"E":return this.num(n.weekday);case"EEE":return y("short",!1);case"EEEE":return y("long",!1);case"EEEEE":return y("narrow",!1);case"L":return l?c({month:"numeric",day:"numeric"},"month"):this.num(n.month);case"LL":return l?c({month:"2-digit",day:"numeric"},"month"):this.num(n.month,2);case"LLL":return p("short",!0);case"LLLL":return p("long",!0);case"LLLLL":return p("narrow",!0);case"M":return l?c({month:"numeric"},"month"):this.num(n.month);case"MM":return l?c({month:"2-digit"},"month"):this.num(n.month,2);case"MMM":return p("short",!1);case"MMMM":return p("long",!1);case"MMMMM":return p("narrow",!1);case"y":return l?c({year:"numeric"},"year"):this.num(n.year);case"yy":return l?c({year:"2-digit"},"year"):this.num(n.year.toString().slice(-2),2);case"yyyy":return l?c({year:"numeric"},"year"):this.num(n.year,4);case"yyyyyy":return l?c({year:"numeric"},"year"):this.num(n.year,6);case"G":return b("short");case"GG":return b("long");case"GGGGG":return b("narrow");case"kk":return this.num(n.weekYear.toString().slice(-2),2);case"kkkk":return this.num(n.weekYear,4);case"W":return this.num(n.weekNumber);case"WW":return this.num(n.weekNumber,2);case"n":return this.num(n.localWeekNumber);case"nn":return this.num(n.localWeekNumber,2);case"ii":return this.num(n.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(n.localWeekYear,4);case"o":return this.num(n.ordinal);case"ooo":return this.num(n.ordinal,3);case"q":return this.num(n.quarter);case"qq":return this.num(n.quarter,2);case"X":return this.num(Math.floor(n.ts/1e3));case"x":return this.num(n.ts);default:return v(k)}};return $0(Cn.parseFormat(r),S)}formatDurationFromString(n,r){const s=this.opts.signMode==="negativeLargestOnly"?-1:1,l=v=>{switch(v[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"w":return"weeks";case"M":return"months";case"y":return"years";default:return null}},c=(v,b)=>S=>{const k=l(S);if(k){const N=b.isNegativeDuration&&k!==b.largestUnit?s:1;let F;return this.opts.signMode==="negativeLargestOnly"&&k!==b.largestUnit?F="never":this.opts.signMode==="all"?F="always":F="auto",this.num(v.get(k)*N,S.length,F)}else return S},f=Cn.parseFormat(r),h=f.reduce((v,{literal:b,val:S})=>b?v:v.concat(S),[]),p=n.shiftTo(...h.map(l).filter(v=>v)),y={isNegativeDuration:p<0,largestUnit:Object.keys(p.values)[0]};return $0(f,c(p,y))}}const Ow=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function ws(...a){const n=a.reduce((r,s)=>r+s.source,"");return RegExp(`^${n}$`)}function Ss(...a){return n=>a.reduce(([r,s,l],c)=>{const[f,h,p]=c(n,l);return[{...r,...f},h||s,p]},[{},null,1]).slice(0,2)}function xs(a,...n){if(a==null)return[null,null];for(const[r,s]of n){const l=r.exec(a);if(l)return s(l)}return[null,null]}function Nw(...a){return(n,r)=>{const s={};let l;for(l=0;l<a.length;l++)s[a[l]]=zr(n[r+l]);return[s,null,r+l]}}const jw=/(?:([Zz])|([+-]\d\d)(?::?(\d\d))?)/,_O=`(?:${jw.source}?(?:\\[(${Ow.source})\\])?)?`,Qh=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Aw=RegExp(`${Qh.source}${_O}`),Jh=RegExp(`(?:[Tt]${Aw.source})?`),DO=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,MO=/(\d{4})-?W(\d\d)(?:-?(\d))?/,RO=/(\d{4})-?(\d{3})/,zO=Nw("weekYear","weekNumber","weekDay"),LO=Nw("year","ordinal"),BO=/(\d{4})-(\d\d)-(\d\d)/,_w=RegExp(`${Qh.source} ?(?:${jw.source}|(${Ow.source}))?`),UO=RegExp(`(?: ${_w.source})?`);function ls(a,n,r){const s=a[n];return Fe(s)?r:zr(s)}function IO(a,n){return[{year:ls(a,n),month:ls(a,n+1,1),day:ls(a,n+2,1)},null,n+3]}function Es(a,n){return[{hours:ls(a,n,0),minutes:ls(a,n+1,0),seconds:ls(a,n+2,0),milliseconds:Xh(a[n+3])},null,n+4]}function Io(a,n){const r=!a[n]&&!a[n+1],s=Gc(a[n+1],a[n+2]),l=r?null:Tn.instance(s);return[{},l,n+3]}function $o(a,n){const r=a[n]?za.create(a[n]):null;return[{},r,n+1]}const $O=RegExp(`^T?${Qh.source}$`),HO=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function VO(a){const[n,r,s,l,c,f,h,p,y]=a,v=n[0]==="-",b=p&&p[0]==="-",S=(k,N=!1)=>k!==void 0&&(N||k&&v)?-k:k;return[{years:S(si(r)),months:S(si(s)),weeks:S(si(l)),days:S(si(c)),hours:S(si(f)),minutes:S(si(h)),seconds:S(si(p),p==="-0"),milliseconds:S(Xh(y),b)}]}const qO={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Wh(a,n,r,s,l,c,f){const h={year:n.length===2?bh(zr(n)):zr(n),month:ww.indexOf(r)+1,day:zr(s),hour:zr(l),minute:zr(c)};return f&&(h.second=zr(f)),a&&(h.weekday=a.length>3?xw.indexOf(a)+1:Ew.indexOf(a)+1),h}const YO=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function GO(a){const[,n,r,s,l,c,f,h,p,y,v,b]=a,S=Wh(n,l,s,r,c,f,h);let k;return p?k=qO[p]:y?k=0:k=Gc(v,b),[S,new Tn(k)]}function FO(a){return a.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const PO=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,ZO=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,XO=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function H0(a){const[,n,r,s,l,c,f,h]=a;return[Wh(n,l,s,r,c,f,h),Tn.utcInstance]}function KO(a){const[,n,r,s,l,c,f,h]=a;return[Wh(n,h,r,s,l,c,f),Tn.utcInstance]}const QO=ws(DO,Jh),JO=ws(MO,Jh),WO=ws(RO,Jh),eN=ws(Aw),Dw=Ss(IO,Es,Io,$o),tN=Ss(zO,Es,Io,$o),nN=Ss(LO,Es,Io,$o),aN=Ss(Es,Io,$o);function rN(a){return xs(a,[QO,Dw],[JO,tN],[WO,nN],[eN,aN])}function iN(a){return xs(FO(a),[YO,GO])}function sN(a){return xs(a,[PO,H0],[ZO,H0],[XO,KO])}function oN(a){return xs(a,[HO,VO])}const lN=Ss(Es);function cN(a){return xs(a,[$O,lN])}const uN=ws(BO,UO),fN=ws(_w),dN=Ss(Es,Io,$o);function hN(a){return xs(a,[uN,Dw],[fN,dN])}const V0="Invalid Duration",Mw={weeks:{days:7,hours:168,minutes:10080,seconds:10080*60,milliseconds:10080*60*1e3},days:{hours:24,minutes:1440,seconds:1440*60,milliseconds:1440*60*1e3},hours:{minutes:60,seconds:3600,milliseconds:3600*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},pN={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:2184*60,seconds:2184*60*60,milliseconds:2184*60*60*1e3},months:{weeks:4,days:30,hours:720,minutes:720*60,seconds:720*60*60,milliseconds:720*60*60*1e3},...Mw},ua=146097/400,Wi=146097/4800,mN={years:{quarters:4,months:12,weeks:ua/7,days:ua,hours:ua*24,minutes:ua*24*60,seconds:ua*24*60*60,milliseconds:ua*24*60*60*1e3},quarters:{months:3,weeks:ua/28,days:ua/4,hours:ua*24/4,minutes:ua*24*60/4,seconds:ua*24*60*60/4,milliseconds:ua*24*60*60*1e3/4},months:{weeks:Wi/7,days:Wi,hours:Wi*24,minutes:Wi*24*60,seconds:Wi*24*60*60,milliseconds:Wi*24*60*60*1e3},...Mw},ui=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],yN=ui.slice(0).reverse();function sr(a,n,r=!1){const s={values:r?n.values:{...a.values,...n.values||{}},loc:a.loc.clone(n.loc),conversionAccuracy:n.conversionAccuracy||a.conversionAccuracy,matrix:n.matrix||a.matrix};return new mt(s)}function Rw(a,n){let r=n.milliseconds??0;for(const s of yN.slice(1))n[s]&&(r+=n[s]*a[s].milliseconds);return r}function q0(a,n){const r=Rw(a,n)<0?-1:1;ui.reduceRight((s,l)=>{if(Fe(n[l]))return s;if(s){const c=n[s]*r,f=a[l][s],h=Math.floor(c/f);n[l]+=h*r,n[s]-=h*f*r}return l},null),ui.reduce((s,l)=>{if(Fe(n[l]))return s;if(s){const c=n[s]%1;n[s]-=c,n[l]+=c*a[s][l]}return l},null)}function Y0(a){const n={};for(const[r,s]of Object.entries(a))s!==0&&(n[r]=s);return n}class mt{constructor(n){const r=n.conversionAccuracy==="longterm"||!1;let s=r?mN:pN;n.matrix&&(s=n.matrix),this.values=n.values,this.loc=n.loc||Et.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=n.invalid||null,this.matrix=s,this.isLuxonDuration=!0}static fromMillis(n,r){return mt.fromObject({milliseconds:n},r)}static fromObject(n,r={}){if(n==null||typeof n!="object")throw new kn(`Duration.fromObject: argument expected to be an object, got ${n===null?"null":typeof n}`);return new mt({values:Mc(n,mt.normalizeUnit),loc:Et.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(n){if(Ir(n))return mt.fromMillis(n);if(mt.isDuration(n))return n;if(typeof n=="object")return mt.fromObject(n);throw new kn(`Unknown duration argument ${n} of type ${typeof n}`)}static fromISO(n,r){const[s]=oN(n);return s?mt.fromObject(s,r):mt.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static fromISOTime(n,r){const[s]=cN(n);return s?mt.fromObject(s,r):mt.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static invalid(n,r=null){if(!n)throw new kn("need to specify a reason the Duration is invalid");const s=n instanceof Sa?n:new Sa(n,r);if(Yt.throwOnInvalid)throw new qT(s);return new mt({invalid:s})}static normalizeUnit(n){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[n&&n.toLowerCase()];if(!r)throw new H1(n);return r}static isDuration(n){return n&&n.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(n,r={}){const s={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?Cn.create(this.loc,s).formatDurationFromString(this,n):V0}toHuman(n={}){if(!this.isValid)return V0;const r=n.showZeros!==!1,s=ui.map(l=>{const c=this.values[l];return Fe(c)||c===0&&!r?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...n,unit:l.slice(0,-1)}).format(c)}).filter(l=>l);return this.loc.listFormatter({type:"conjunction",style:n.listStyle||"narrow",...n}).format(s)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let n="P";return this.years!==0&&(n+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(n+=this.months+this.quarters*3+"M"),this.weeks!==0&&(n+=this.weeks+"W"),this.days!==0&&(n+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(n+="T"),this.hours!==0&&(n+=this.hours+"H"),this.minutes!==0&&(n+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(n+=Kh(this.seconds+this.milliseconds/1e3,3)+"S"),n==="P"&&(n+="T0S"),n}toISOTime(n={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(n={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...n,includeOffset:!1},Pe.fromMillis(r,{zone:"UTC"}).toISOTime(n))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Rw(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(n){if(!this.isValid)return this;const r=mt.fromDurationLike(n),s={};for(const l of ui)(ps(r.values,l)||ps(this.values,l))&&(s[l]=r.get(l)+this.get(l));return sr(this,{values:s},!0)}minus(n){if(!this.isValid)return this;const r=mt.fromDurationLike(n);return this.plus(r.negate())}mapUnits(n){if(!this.isValid)return this;const r={};for(const s of Object.keys(this.values))r[s]=bw(n(this.values[s],s));return sr(this,{values:r},!0)}get(n){return this[mt.normalizeUnit(n)]}set(n){if(!this.isValid)return this;const r={...this.values,...Mc(n,mt.normalizeUnit)};return sr(this,{values:r})}reconfigure({locale:n,numberingSystem:r,conversionAccuracy:s,matrix:l}={}){const f={loc:this.loc.clone({locale:n,numberingSystem:r}),matrix:l,conversionAccuracy:s};return sr(this,f)}as(n){return this.isValid?this.shiftTo(n).get(n):NaN}normalize(){if(!this.isValid)return this;const n=this.toObject();return q0(this.matrix,n),sr(this,{values:n},!0)}rescale(){if(!this.isValid)return this;const n=Y0(this.normalize().shiftToAll().toObject());return sr(this,{values:n},!0)}shiftTo(...n){if(!this.isValid)return this;if(n.length===0)return this;n=n.map(f=>mt.normalizeUnit(f));const r={},s={},l=this.toObject();let c;for(const f of ui)if(n.indexOf(f)>=0){c=f;let h=0;for(const y in s)h+=this.matrix[y][f]*s[y],s[y]=0;Ir(l[f])&&(h+=l[f]);const p=Math.trunc(h);r[f]=p,s[f]=(h*1e3-p*1e3)/1e3}else Ir(l[f])&&(s[f]=l[f]);for(const f in s)s[f]!==0&&(r[c]+=f===c?s[f]:s[f]/this.matrix[c][f]);return q0(this.matrix,r),sr(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=this.values[r]===0?0:-this.values[r];return sr(this,{values:n},!0)}removeZeros(){if(!this.isValid)return this;const n=Y0(this.values);return sr(this,{values:n},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(n){if(!this.isValid||!n.isValid||!this.loc.equals(n.loc))return!1;function r(s,l){return s===void 0||s===0?l===void 0||l===0:s===l}for(const s of ui)if(!r(this.values[s],n.values[s]))return!1;return!0}}const es="Invalid Interval";function gN(a,n){return!a||!a.isValid?qt.invalid("missing or invalid start"):!n||!n.isValid?qt.invalid("missing or invalid end"):n<a?qt.invalid("end before start",`The end of an interval must be after its start, but you had start=${a.toISO()} and end=${n.toISO()}`):null}class qt{constructor(n){this.s=n.start,this.e=n.end,this.invalid=n.invalid||null,this.isLuxonInterval=!0}static invalid(n,r=null){if(!n)throw new kn("need to specify a reason the Interval is invalid");const s=n instanceof Sa?n:new Sa(n,r);if(Yt.throwOnInvalid)throw new VT(s);return new qt({invalid:s})}static fromDateTimes(n,r){const s=wo(n),l=wo(r),c=gN(s,l);return c??new qt({start:s,end:l})}static after(n,r){const s=mt.fromDurationLike(r),l=wo(n);return qt.fromDateTimes(l,l.plus(s))}static before(n,r){const s=mt.fromDurationLike(r),l=wo(n);return qt.fromDateTimes(l.minus(s),l)}static fromISO(n,r){const[s,l]=(n||"").split("/",2);if(s&&l){let c,f;try{c=Pe.fromISO(s,r),f=c.isValid}catch{f=!1}let h,p;try{h=Pe.fromISO(l,r),p=h.isValid}catch{p=!1}if(f&&p)return qt.fromDateTimes(c,h);if(f){const y=mt.fromISO(l,r);if(y.isValid)return qt.after(c,y)}else if(p){const y=mt.fromISO(s,r);if(y.isValid)return qt.before(h,y)}}return qt.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static isInterval(n){return n&&n.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(n="milliseconds"){return this.isValid?this.toDuration(n).get(n):NaN}count(n="milliseconds",r){if(!this.isValid)return NaN;const s=this.start.startOf(n,r);let l;return r?.useLocaleWeeks?l=this.end.reconfigure({locale:s.locale}):l=this.end,l=l.startOf(n,r),Math.floor(l.diff(s,n).get(n))+(l.valueOf()!==this.end.valueOf())}hasSame(n){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,n):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(n){return this.isValid?this.s>n:!1}isBefore(n){return this.isValid?this.e<=n:!1}contains(n){return this.isValid?this.s<=n&&this.e>n:!1}set({start:n,end:r}={}){return this.isValid?qt.fromDateTimes(n||this.s,r||this.e):this}splitAt(...n){if(!this.isValid)return[];const r=n.map(wo).filter(f=>this.contains(f)).sort((f,h)=>f.toMillis()-h.toMillis()),s=[];let{s:l}=this,c=0;for(;l<this.e;){const f=r[c]||this.e,h=+f>+this.e?this.e:f;s.push(qt.fromDateTimes(l,h)),l=h,c+=1}return s}splitBy(n){const r=mt.fromDurationLike(n);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s}=this,l=1,c;const f=[];for(;s<this.e;){const h=this.start.plus(r.mapUnits(p=>p*l));c=+h>+this.e?this.e:h,f.push(qt.fromDateTimes(s,c)),s=c,l+=1}return f}divideEqually(n){return this.isValid?this.splitBy(this.length()/n).slice(0,n):[]}overlaps(n){return this.e>n.s&&this.s<n.e}abutsStart(n){return this.isValid?+this.e==+n.s:!1}abutsEnd(n){return this.isValid?+n.e==+this.s:!1}engulfs(n){return this.isValid?this.s<=n.s&&this.e>=n.e:!1}equals(n){return!this.isValid||!n.isValid?!1:this.s.equals(n.s)&&this.e.equals(n.e)}intersection(n){if(!this.isValid)return this;const r=this.s>n.s?this.s:n.s,s=this.e<n.e?this.e:n.e;return r>=s?null:qt.fromDateTimes(r,s)}union(n){if(!this.isValid)return this;const r=this.s<n.s?this.s:n.s,s=this.e>n.e?this.e:n.e;return qt.fromDateTimes(r,s)}static merge(n){const[r,s]=n.sort((l,c)=>l.s-c.s).reduce(([l,c],f)=>c?c.overlaps(f)||c.abutsStart(f)?[l,c.union(f)]:[l.concat([c]),f]:[l,f],[[],null]);return s&&r.push(s),r}static xor(n){let r=null,s=0;const l=[],c=n.map(p=>[{time:p.s,type:"s"},{time:p.e,type:"e"}]),f=Array.prototype.concat(...c),h=f.sort((p,y)=>p.time-y.time);for(const p of h)s+=p.type==="s"?1:-1,s===1?r=p.time:(r&&+r!=+p.time&&l.push(qt.fromDateTimes(r,p.time)),r=null);return qt.merge(l)}difference(...n){return qt.xor([this].concat(n)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:es}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(n=Ac,r={}){return this.isValid?Cn.create(this.s.loc.clone(r),n).formatInterval(this):es}toISO(n){return this.isValid?`${this.s.toISO(n)}/${this.e.toISO(n)}`:es}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:es}toISOTime(n){return this.isValid?`${this.s.toISOTime(n)}/${this.e.toISOTime(n)}`:es}toFormat(n,{separator:r="  "}={}){return this.isValid?`${this.s.toFormat(n)}${r}${this.e.toFormat(n)}`:es}toDuration(n,r){return this.isValid?this.e.diff(this.s,n,r):mt.invalid(this.invalidReason)}mapEndpoints(n){return qt.fromDateTimes(n(this.s),n(this.e))}}class ko{static hasDST(n=Yt.defaultZone){const r=Pe.now().setZone(n).set({month:12});return!n.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(n){return za.isValidZone(n)}static normalizeZone(n){return Lr(n,Yt.defaultZone)}static getStartOfWeek({locale:n=null,locObj:r=null}={}){return(r||Et.create(n)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:n=null,locObj:r=null}={}){return(r||Et.create(n)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:n=null,locObj:r=null}={}){return(r||Et.create(n)).getWeekendDays().slice()}static months(n="long",{locale:r=null,numberingSystem:s=null,locObj:l=null,outputCalendar:c="gregory"}={}){return(l||Et.create(r,s,c)).months(n)}static monthsFormat(n="long",{locale:r=null,numberingSystem:s=null,locObj:l=null,outputCalendar:c="gregory"}={}){return(l||Et.create(r,s,c)).months(n,!0)}static weekdays(n="long",{locale:r=null,numberingSystem:s=null,locObj:l=null}={}){return(l||Et.create(r,s,null)).weekdays(n)}static weekdaysFormat(n="long",{locale:r=null,numberingSystem:s=null,locObj:l=null}={}){return(l||Et.create(r,s,null)).weekdays(n,!0)}static meridiems({locale:n=null}={}){return Et.create(n).meridiems()}static eras(n="short",{locale:r=null}={}){return Et.create(r,null,"gregory").eras(n)}static features(){return{relative:yw(),localeWeek:gw()}}}function G0(a,n){const r=l=>l.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),s=r(n)-r(a);return Math.floor(mt.fromMillis(s).as("days"))}function vN(a,n,r){const s=[["years",(p,y)=>y.year-p.year],["quarters",(p,y)=>y.quarter-p.quarter+(y.year-p.year)*4],["months",(p,y)=>y.month-p.month+(y.year-p.year)*12],["weeks",(p,y)=>{const v=G0(p,y);return(v-v%7)/7}],["days",G0]],l={},c=a;let f,h;for(const[p,y]of s)r.indexOf(p)>=0&&(f=p,l[p]=y(a,n),h=c.plus(l),h>n?(l[p]--,a=c.plus(l),a>n&&(h=a,l[p]--,a=c.plus(l))):a=h);return[a,l,h,f]}function bN(a,n,r,s){let[l,c,f,h]=vN(a,n,r);const p=n-l,y=r.filter(b=>["hours","minutes","seconds","milliseconds"].indexOf(b)>=0);y.length===0&&(f<n&&(f=l.plus({[h]:1})),f!==l&&(c[h]=(c[h]||0)+p/(f-l)));const v=mt.fromObject(c,s);return y.length>0?mt.fromMillis(p,s).shiftTo(...y).plus(v):v}const wN="missing Intl.DateTimeFormat.formatToParts support";function wt(a,n=r=>r){return{regex:a,deser:([r])=>n(uO(r))}}const SN="",zw=`[ ${SN}]`,Lw=new RegExp(zw,"g");function xN(a){return a.replace(/\./g,"\\.?").replace(Lw,zw)}function F0(a){return a.replace(/\./g,"").replace(Lw," ").toLowerCase()}function ba(a,n){return a===null?null:{regex:RegExp(a.map(xN).join("|")),deser:([r])=>a.findIndex(s=>F0(r)===F0(s))+n}}function P0(a,n){return{regex:a,deser:([,r,s])=>Gc(r,s),groups:n}}function cc(a){return{regex:a,deser:([n])=>n}}function EN(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function kN(a,n){const r=va(n),s=va(n,"{2}"),l=va(n,"{3}"),c=va(n,"{4}"),f=va(n,"{6}"),h=va(n,"{1,2}"),p=va(n,"{1,3}"),y=va(n,"{1,6}"),v=va(n,"{1,9}"),b=va(n,"{2,4}"),S=va(n,"{4,6}"),k=I=>({regex:RegExp(EN(I.val)),deser:([J])=>J,literal:!0}),F=(I=>{if(a.literal)return k(I);switch(I.val){case"G":return ba(n.eras("short"),0);case"GG":return ba(n.eras("long"),0);case"y":return wt(y);case"yy":return wt(b,bh);case"yyyy":return wt(c);case"yyyyy":return wt(S);case"yyyyyy":return wt(f);case"M":return wt(h);case"MM":return wt(s);case"MMM":return ba(n.months("short",!0),1);case"MMMM":return ba(n.months("long",!0),1);case"L":return wt(h);case"LL":return wt(s);case"LLL":return ba(n.months("short",!1),1);case"LLLL":return ba(n.months("long",!1),1);case"d":return wt(h);case"dd":return wt(s);case"o":return wt(p);case"ooo":return wt(l);case"HH":return wt(s);case"H":return wt(h);case"hh":return wt(s);case"h":return wt(h);case"mm":return wt(s);case"m":return wt(h);case"q":return wt(h);case"qq":return wt(s);case"s":return wt(h);case"ss":return wt(s);case"S":return wt(p);case"SSS":return wt(l);case"u":return cc(v);case"uu":return cc(h);case"uuu":return wt(r);case"a":return ba(n.meridiems(),0);case"kkkk":return wt(c);case"kk":return wt(b,bh);case"W":return wt(h);case"WW":return wt(s);case"E":case"c":return wt(r);case"EEE":return ba(n.weekdays("short",!1),1);case"EEEE":return ba(n.weekdays("long",!1),1);case"ccc":return ba(n.weekdays("short",!0),1);case"cccc":return ba(n.weekdays("long",!0),1);case"Z":case"ZZ":return P0(new RegExp(`([+-]${h.source})(?::(${s.source}))?`),2);case"ZZZ":return P0(new RegExp(`([+-]${h.source})(${s.source})?`),2);case"z":return cc(/[a-z_+-/]{1,256}?/i);case" ":return cc(/[^\S\n\r]/);default:return k(I)}})(a)||{invalidReason:wN};return F.token=a,F}const CN={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function TN(a,n,r){const{type:s,value:l}=a;if(s==="literal"){const p=/^\s+$/.test(l);return{literal:!p,val:p?" ":l}}const c=n[s];let f=s;s==="hour"&&(n.hour12!=null?f=n.hour12?"hour12":"hour24":n.hourCycle!=null?n.hourCycle==="h11"||n.hourCycle==="h12"?f="hour12":f="hour24":f=r.hour12?"hour12":"hour24");let h=CN[f];if(typeof h=="object"&&(h=h[c]),h)return{literal:!1,val:h}}function ON(a){return[`^${a.map(r=>r.regex).reduce((r,s)=>`${r}(${s.source})`,"")}$`,a]}function NN(a,n,r){const s=a.match(n);if(s){const l={};let c=1;for(const f in r)if(ps(r,f)){const h=r[f],p=h.groups?h.groups+1:1;!h.literal&&h.token&&(l[h.token.val[0]]=h.deser(s.slice(c,c+p))),c+=p}return[s,l]}else return[s,{}]}function jN(a){const n=c=>{switch(c){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,s;return Fe(a.z)||(r=za.create(a.z)),Fe(a.Z)||(r||(r=new Tn(a.Z)),s=a.Z),Fe(a.q)||(a.M=(a.q-1)*3+1),Fe(a.h)||(a.h<12&&a.a===1?a.h+=12:a.h===12&&a.a===0&&(a.h=0)),a.G===0&&a.y&&(a.y=-a.y),Fe(a.u)||(a.S=Xh(a.u)),[Object.keys(a).reduce((c,f)=>{const h=n(f);return h&&(c[h]=a[f]),c},{}),r,s]}let Rd=null;function AN(){return Rd||(Rd=Pe.fromMillis(1555555555555)),Rd}function _N(a,n){if(a.literal)return a;const r=Cn.macroTokenToFormatOpts(a.val),s=$w(r,n);return s==null||s.includes(void 0)?a:s}function Bw(a,n){return Array.prototype.concat(...a.map(r=>_N(r,n)))}class Uw{constructor(n,r){if(this.locale=n,this.format=r,this.tokens=Bw(Cn.parseFormat(r),n),this.units=this.tokens.map(s=>kN(s,n)),this.disqualifyingUnit=this.units.find(s=>s.invalidReason),!this.disqualifyingUnit){const[s,l]=ON(this.units);this.regex=RegExp(s,"i"),this.handlers=l}}explainFromTokens(n){if(this.isValid){const[r,s]=NN(n,this.regex,this.handlers),[l,c,f]=s?jN(s):[null,null,void 0];if(ps(s,"a")&&ps(s,"H"))throw new is("Can't include meridiem when specifying 24-hour format");return{input:n,tokens:this.tokens,regex:this.regex,rawMatches:r,matches:s,result:l,zone:c,specificOffset:f}}else return{input:n,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function Iw(a,n,r){return new Uw(a,r).explainFromTokens(n)}function DN(a,n,r){const{result:s,zone:l,specificOffset:c,invalidReason:f}=Iw(a,n,r);return[s,l,c,f]}function $w(a,n){if(!a)return null;const s=Cn.create(n,a).dtFormatter(AN()),l=s.formatToParts(),c=s.resolvedOptions();return l.map(f=>TN(f,a,c))}const zd="Invalid DateTime",Z0=864e13;function Co(a){return new Sa("unsupported zone",`the zone "${a.name}" is not supported`)}function Ld(a){return a.weekData===null&&(a.weekData=_c(a.c)),a.weekData}function Bd(a){return a.localWeekData===null&&(a.localWeekData=_c(a.c,a.loc.getMinDaysInFirstWeek(),a.loc.getStartOfWeek())),a.localWeekData}function oi(a,n){const r={ts:a.ts,zone:a.zone,c:a.c,o:a.o,loc:a.loc,invalid:a.invalid};return new Pe({...r,...n,old:r})}function Hw(a,n,r){let s=a-n*60*1e3;const l=r.offset(s);if(n===l)return[s,n];s-=(l-n)*60*1e3;const c=r.offset(s);return l===c?[s,l]:[a-Math.min(l,c)*60*1e3,Math.max(l,c)]}function uc(a,n){a+=n*60*1e3;const r=new Date(a);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function Sc(a,n,r){return Hw(Yc(a),n,r)}function X0(a,n){const r=a.o,s=a.c.year+Math.trunc(n.years),l=a.c.month+Math.trunc(n.months)+Math.trunc(n.quarters)*3,c={...a.c,year:s,month:l,day:Math.min(a.c.day,Dc(s,l))+Math.trunc(n.days)+Math.trunc(n.weeks)*7},f=mt.fromObject({years:n.years-Math.trunc(n.years),quarters:n.quarters-Math.trunc(n.quarters),months:n.months-Math.trunc(n.months),weeks:n.weeks-Math.trunc(n.weeks),days:n.days-Math.trunc(n.days),hours:n.hours,minutes:n.minutes,seconds:n.seconds,milliseconds:n.milliseconds}).as("milliseconds"),h=Yc(c);let[p,y]=Hw(h,r,a.zone);return f!==0&&(p+=f,y=a.zone.offset(p)),{ts:p,o:y}}function ts(a,n,r,s,l,c){const{setZone:f,zone:h}=r;if(a&&Object.keys(a).length!==0||n){const p=n||h,y=Pe.fromObject(a,{...r,zone:p,specificOffset:c});return f?y:y.setZone(h)}else return Pe.invalid(new Sa("unparsable",`the input "${l}" can't be parsed as ${s}`))}function fc(a,n,r=!0){return a.isValid?Cn.create(Et.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(a,n):null}function Ud(a,n,r){const s=a.c.year>9999||a.c.year<0;let l="";if(s&&a.c.year>=0&&(l+="+"),l+=an(a.c.year,s?6:4),r==="year")return l;if(n){if(l+="-",l+=an(a.c.month),r==="month")return l;l+="-"}else if(l+=an(a.c.month),r==="month")return l;return l+=an(a.c.day),l}function K0(a,n,r,s,l,c,f){let h=!r||a.c.millisecond!==0||a.c.second!==0,p="";switch(f){case"day":case"month":case"year":break;default:if(p+=an(a.c.hour),f==="hour")break;if(n){if(p+=":",p+=an(a.c.minute),f==="minute")break;h&&(p+=":",p+=an(a.c.second))}else{if(p+=an(a.c.minute),f==="minute")break;h&&(p+=an(a.c.second))}if(f==="second")break;h&&(!s||a.c.millisecond!==0)&&(p+=".",p+=an(a.c.millisecond,3))}return l&&(a.isOffsetFixed&&a.offset===0&&!c?p+="Z":a.o<0?(p+="-",p+=an(Math.trunc(-a.o/60)),p+=":",p+=an(Math.trunc(-a.o%60))):(p+="+",p+=an(Math.trunc(a.o/60)),p+=":",p+=an(Math.trunc(a.o%60)))),c&&(p+="["+a.zone.ianaName+"]"),p}const Vw={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},MN={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},RN={ordinal:1,hour:0,minute:0,second:0,millisecond:0},xc=["year","month","day","hour","minute","second","millisecond"],zN=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],LN=["year","ordinal","hour","minute","second","millisecond"];function Ec(a){const n={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[a.toLowerCase()];if(!n)throw new H1(a);return n}function Q0(a){switch(a.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return Ec(a)}}function BN(a){if(To===void 0&&(To=Yt.now()),a.type!=="iana")return a.offset(To);const n=a.name;let r=wh.get(n);return r===void 0&&(r=a.offset(To),wh.set(n,r)),r}function J0(a,n){const r=Lr(n.zone,Yt.defaultZone);if(!r.isValid)return Pe.invalid(Co(r));const s=Et.fromObject(n);let l,c;if(Fe(a.year))l=Yt.now();else{for(const p of xc)Fe(a[p])&&(a[p]=Vw[p]);const f=pw(a)||mw(a);if(f)return Pe.invalid(f);const h=BN(r);[l,c]=Sc(a,h,r)}return new Pe({ts:l,zone:r,loc:s,o:c})}function W0(a,n,r){const s=Fe(r.round)?!0:r.round,l=Fe(r.rounding)?"trunc":r.rounding,c=(h,p)=>(h=Kh(h,s||r.calendary?0:2,r.calendary?"round":l),n.loc.clone(r).relFormatter(r).format(h,p)),f=h=>r.calendary?n.hasSame(a,h)?0:n.startOf(h).diff(a.startOf(h),h).get(h):n.diff(a,h).get(h);if(r.unit)return c(f(r.unit),r.unit);for(const h of r.units){const p=f(h);if(Math.abs(p)>=1)return c(p,h)}return c(a>n?-0:0,r.units[r.units.length-1])}function eb(a){let n={},r;return a.length>0&&typeof a[a.length-1]=="object"?(n=a[a.length-1],r=Array.from(a).slice(0,a.length-1)):r=Array.from(a),[n,r]}let To;const wh=new Map;class Pe{constructor(n){const r=n.zone||Yt.defaultZone;let s=n.invalid||(Number.isNaN(n.ts)?new Sa("invalid input"):null)||(r.isValid?null:Co(r));this.ts=Fe(n.ts)?Yt.now():n.ts;let l=null,c=null;if(!s)if(n.old&&n.old.ts===this.ts&&n.old.zone.equals(r))[l,c]=[n.old.c,n.old.o];else{const h=Ir(n.o)&&!n.old?n.o:r.offset(this.ts);l=uc(this.ts,h),s=Number.isNaN(l.year)?new Sa("invalid input"):null,l=s?null:l,c=s?null:h}this._zone=r,this.loc=n.loc||Et.create(),this.invalid=s,this.weekData=null,this.localWeekData=null,this.c=l,this.o=c,this.isLuxonDateTime=!0}static now(){return new Pe({})}static local(){const[n,r]=eb(arguments),[s,l,c,f,h,p,y]=r;return J0({year:s,month:l,day:c,hour:f,minute:h,second:p,millisecond:y},n)}static utc(){const[n,r]=eb(arguments),[s,l,c,f,h,p,y]=r;return n.zone=Tn.utcInstance,J0({year:s,month:l,day:c,hour:f,minute:h,second:p,millisecond:y},n)}static fromJSDate(n,r={}){const s=mO(n)?n.valueOf():NaN;if(Number.isNaN(s))return Pe.invalid("invalid input");const l=Lr(r.zone,Yt.defaultZone);return l.isValid?new Pe({ts:s,zone:l,loc:Et.fromObject(r)}):Pe.invalid(Co(l))}static fromMillis(n,r={}){if(Ir(n))return n<-Z0||n>Z0?Pe.invalid("Timestamp out of range"):new Pe({ts:n,zone:Lr(r.zone,Yt.defaultZone),loc:Et.fromObject(r)});throw new kn(`fromMillis requires a numerical input, but received a ${typeof n} with value ${n}`)}static fromSeconds(n,r={}){if(Ir(n))return new Pe({ts:n*1e3,zone:Lr(r.zone,Yt.defaultZone),loc:Et.fromObject(r)});throw new kn("fromSeconds requires a numerical input")}static fromObject(n,r={}){n=n||{};const s=Lr(r.zone,Yt.defaultZone);if(!s.isValid)return Pe.invalid(Co(s));const l=Et.fromObject(r),c=Mc(n,Q0),{minDaysInFirstWeek:f,startOfWeek:h}=B0(c,l),p=Yt.now(),y=Fe(r.specificOffset)?s.offset(p):r.specificOffset,v=!Fe(c.ordinal),b=!Fe(c.year),S=!Fe(c.month)||!Fe(c.day),k=b||S,N=c.weekYear||c.weekNumber;if((k||v)&&N)throw new is("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(S&&v)throw new is("Can't mix ordinal dates with month/day");const F=N||c.weekday&&!k;let I,J,Q=uc(p,y);F?(I=zN,J=MN,Q=_c(Q,f,h)):v?(I=LN,J=RN,Q=Md(Q)):(I=xc,J=Vw);let z=!1;for(const Z of I){const ue=c[Z];Fe(ue)?z?c[Z]=J[Z]:c[Z]=Q[Z]:z=!0}const G=F?dO(c,f,h):v?hO(c):pw(c),de=G||mw(c);if(de)return Pe.invalid(de);const ce=F?z0(c,f,h):v?L0(c):c,[H,se]=Sc(ce,y,s),te=new Pe({ts:H,zone:s,o:se,loc:l});return c.weekday&&k&&n.weekday!==te.weekday?Pe.invalid("mismatched weekday",`you can't specify both a weekday of ${c.weekday} and a date of ${te.toISO()}`):te.isValid?te:Pe.invalid(te.invalid)}static fromISO(n,r={}){const[s,l]=rN(n);return ts(s,l,r,"ISO 8601",n)}static fromRFC2822(n,r={}){const[s,l]=iN(n);return ts(s,l,r,"RFC 2822",n)}static fromHTTP(n,r={}){const[s,l]=sN(n);return ts(s,l,r,"HTTP",r)}static fromFormat(n,r,s={}){if(Fe(n)||Fe(r))throw new kn("fromFormat requires an input string and a format");const{locale:l=null,numberingSystem:c=null}=s,f=Et.fromOpts({locale:l,numberingSystem:c,defaultToEN:!0}),[h,p,y,v]=DN(f,n,r);return v?Pe.invalid(v):ts(h,p,s,`format ${r}`,n,y)}static fromString(n,r,s={}){return Pe.fromFormat(n,r,s)}static fromSQL(n,r={}){const[s,l]=hN(n);return ts(s,l,r,"SQL",n)}static invalid(n,r=null){if(!n)throw new kn("need to specify a reason the DateTime is invalid");const s=n instanceof Sa?n:new Sa(n,r);if(Yt.throwOnInvalid)throw new HT(s);return new Pe({invalid:s})}static isDateTime(n){return n&&n.isLuxonDateTime||!1}static parseFormatForOpts(n,r={}){const s=$w(n,Et.fromObject(r));return s?s.map(l=>l?l.val:null).join(""):null}static expandFormat(n,r={}){return Bw(Cn.parseFormat(n),Et.fromObject(r)).map(l=>l.val).join("")}static resetCache(){To=void 0,wh.clear()}get(n){return this[n]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Ld(this).weekYear:NaN}get weekNumber(){return this.isValid?Ld(this).weekNumber:NaN}get weekday(){return this.isValid?Ld(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Bd(this).weekday:NaN}get localWeekNumber(){return this.isValid?Bd(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Bd(this).weekYear:NaN}get ordinal(){return this.isValid?Md(this.c).ordinal:NaN}get monthShort(){return this.isValid?ko.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?ko.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?ko.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?ko.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const n=864e5,r=6e4,s=Yc(this.c),l=this.zone.offset(s-n),c=this.zone.offset(s+n),f=this.zone.offset(s-l*r),h=this.zone.offset(s-c*r);if(f===h)return[this];const p=s-f*r,y=s-h*r,v=uc(p,f),b=uc(y,h);return v.hour===b.hour&&v.minute===b.minute&&v.second===b.second&&v.millisecond===b.millisecond?[oi(this,{ts:p}),oi(this,{ts:y})]:[this]}get isInLeapYear(){return Uo(this.year)}get daysInMonth(){return Dc(this.year,this.month)}get daysInYear(){return this.isValid?os(this.year):NaN}get weeksInWeekYear(){return this.isValid?Ro(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Ro(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(n={}){const{locale:r,numberingSystem:s,calendar:l}=Cn.create(this.loc.clone(n),n).resolvedOptions(this);return{locale:r,numberingSystem:s,outputCalendar:l}}toUTC(n=0,r={}){return this.setZone(Tn.instance(n),r)}toLocal(){return this.setZone(Yt.defaultZone)}setZone(n,{keepLocalTime:r=!1,keepCalendarTime:s=!1}={}){if(n=Lr(n,Yt.defaultZone),n.equals(this.zone))return this;if(n.isValid){let l=this.ts;if(r||s){const c=n.offset(this.ts),f=this.toObject();[l]=Sc(f,c,n)}return oi(this,{ts:l,zone:n})}else return Pe.invalid(Co(n))}reconfigure({locale:n,numberingSystem:r,outputCalendar:s}={}){const l=this.loc.clone({locale:n,numberingSystem:r,outputCalendar:s});return oi(this,{loc:l})}setLocale(n){return this.reconfigure({locale:n})}set(n){if(!this.isValid)return this;const r=Mc(n,Q0),{minDaysInFirstWeek:s,startOfWeek:l}=B0(r,this.loc),c=!Fe(r.weekYear)||!Fe(r.weekNumber)||!Fe(r.weekday),f=!Fe(r.ordinal),h=!Fe(r.year),p=!Fe(r.month)||!Fe(r.day),y=h||p,v=r.weekYear||r.weekNumber;if((y||f)&&v)throw new is("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(p&&f)throw new is("Can't mix ordinal dates with month/day");let b;c?b=z0({..._c(this.c,s,l),...r},s,l):Fe(r.ordinal)?(b={...this.toObject(),...r},Fe(r.day)&&(b.day=Math.min(Dc(b.year,b.month),b.day))):b=L0({...Md(this.c),...r});const[S,k]=Sc(b,this.o,this.zone);return oi(this,{ts:S,o:k})}plus(n){if(!this.isValid)return this;const r=mt.fromDurationLike(n);return oi(this,X0(this,r))}minus(n){if(!this.isValid)return this;const r=mt.fromDurationLike(n).negate();return oi(this,X0(this,r))}startOf(n,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;const s={},l=mt.normalizeUnit(n);switch(l){case"years":s.month=1;case"quarters":case"months":s.day=1;case"weeks":case"days":s.hour=0;case"hours":s.minute=0;case"minutes":s.second=0;case"seconds":s.millisecond=0;break}if(l==="weeks")if(r){const c=this.loc.getStartOfWeek(),{weekday:f}=this;f<c&&(s.weekNumber=this.weekNumber-1),s.weekday=c}else s.weekday=1;if(l==="quarters"){const c=Math.ceil(this.month/3);s.month=(c-1)*3+1}return this.set(s)}endOf(n,r){return this.isValid?this.plus({[n]:1}).startOf(n,r).minus(1):this}toFormat(n,r={}){return this.isValid?Cn.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,n):zd}toLocaleString(n=Ac,r={}){return this.isValid?Cn.create(this.loc.clone(r),n).formatDateTime(this):zd}toLocaleParts(n={}){return this.isValid?Cn.create(this.loc.clone(n),n).formatDateTimeParts(this):[]}toISO({format:n="extended",suppressSeconds:r=!1,suppressMilliseconds:s=!1,includeOffset:l=!0,extendedZone:c=!1,precision:f="milliseconds"}={}){if(!this.isValid)return null;f=Ec(f);const h=n==="extended";let p=Ud(this,h,f);return xc.indexOf(f)>=3&&(p+="T"),p+=K0(this,h,r,s,l,c,f),p}toISODate({format:n="extended",precision:r="day"}={}){return this.isValid?Ud(this,n==="extended",Ec(r)):null}toISOWeekDate(){return fc(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:n=!1,suppressSeconds:r=!1,includeOffset:s=!0,includePrefix:l=!1,extendedZone:c=!1,format:f="extended",precision:h="milliseconds"}={}){return this.isValid?(h=Ec(h),(l&&xc.indexOf(h)>=3?"T":"")+K0(this,f==="extended",r,n,s,c,h)):null}toRFC2822(){return fc(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return fc(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Ud(this,!0):null}toSQLTime({includeOffset:n=!0,includeZone:r=!1,includeOffsetSpace:s=!0}={}){let l="HH:mm:ss.SSS";return(r||n)&&(s&&(l+=" "),r?l+="z":n&&(l+="ZZ")),fc(this,l,!0)}toSQL(n={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(n)}`:null}toString(){return this.isValid?this.toISO():zd}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(n={}){if(!this.isValid)return{};const r={...this.c};return n.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(n,r="milliseconds",s={}){if(!this.isValid||!n.isValid)return mt.invalid("created by diffing an invalid DateTime");const l={locale:this.locale,numberingSystem:this.numberingSystem,...s},c=yO(r).map(mt.normalizeUnit),f=n.valueOf()>this.valueOf(),h=f?this:n,p=f?n:this,y=bN(h,p,c,l);return f?y.negate():y}diffNow(n="milliseconds",r={}){return this.diff(Pe.now(),n,r)}until(n){return this.isValid?qt.fromDateTimes(this,n):this}hasSame(n,r,s){if(!this.isValid)return!1;const l=n.valueOf(),c=this.setZone(n.zone,{keepLocalTime:!0});return c.startOf(r,s)<=l&&l<=c.endOf(r,s)}equals(n){return this.isValid&&n.isValid&&this.valueOf()===n.valueOf()&&this.zone.equals(n.zone)&&this.loc.equals(n.loc)}toRelative(n={}){if(!this.isValid)return null;const r=n.base||Pe.fromObject({},{zone:this.zone}),s=n.padding?this<r?-n.padding:n.padding:0;let l=["years","months","days","hours","minutes","seconds"],c=n.unit;return Array.isArray(n.unit)&&(l=n.unit,c=void 0),W0(r,this.plus(s),{...n,numeric:"always",units:l,unit:c})}toRelativeCalendar(n={}){return this.isValid?W0(n.base||Pe.fromObject({},{zone:this.zone}),this,{...n,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...n){if(!n.every(Pe.isDateTime))throw new kn("min requires all arguments be DateTimes");return U0(n,r=>r.valueOf(),Math.min)}static max(...n){if(!n.every(Pe.isDateTime))throw new kn("max requires all arguments be DateTimes");return U0(n,r=>r.valueOf(),Math.max)}static fromFormatExplain(n,r,s={}){const{locale:l=null,numberingSystem:c=null}=s,f=Et.fromOpts({locale:l,numberingSystem:c,defaultToEN:!0});return Iw(f,n,r)}static fromStringExplain(n,r,s={}){return Pe.fromFormatExplain(n,r,s)}static buildFormatParser(n,r={}){const{locale:s=null,numberingSystem:l=null}=r,c=Et.fromOpts({locale:s,numberingSystem:l,defaultToEN:!0});return new Uw(c,n)}static fromFormatParser(n,r,s={}){if(Fe(n)||Fe(r))throw new kn("fromFormatParser requires an input string and a format parser");const{locale:l=null,numberingSystem:c=null}=s,f=Et.fromOpts({locale:l,numberingSystem:c,defaultToEN:!0});if(!f.equals(r.locale))throw new kn(`fromFormatParser called with a locale of ${f}, but the format parser was created for ${r.locale}`);const{result:h,zone:p,specificOffset:y,invalidReason:v}=r.explainFromTokens(n);return v?Pe.invalid(v):ts(h,p,s,`format ${r.format}`,n,y)}static get DATE_SHORT(){return Ac}static get DATE_MED(){return V1}static get DATE_MED_WITH_WEEKDAY(){return YT}static get DATE_FULL(){return q1}static get DATE_HUGE(){return Y1}static get TIME_SIMPLE(){return G1}static get TIME_WITH_SECONDS(){return F1}static get TIME_WITH_SHORT_OFFSET(){return P1}static get TIME_WITH_LONG_OFFSET(){return Z1}static get TIME_24_SIMPLE(){return X1}static get TIME_24_WITH_SECONDS(){return K1}static get TIME_24_WITH_SHORT_OFFSET(){return Q1}static get TIME_24_WITH_LONG_OFFSET(){return J1}static get DATETIME_SHORT(){return W1}static get DATETIME_SHORT_WITH_SECONDS(){return ew}static get DATETIME_MED(){return tw}static get DATETIME_MED_WITH_SECONDS(){return nw}static get DATETIME_MED_WITH_WEEKDAY(){return GT}static get DATETIME_FULL(){return aw}static get DATETIME_FULL_WITH_SECONDS(){return rw}static get DATETIME_HUGE(){return iw}static get DATETIME_HUGE_WITH_SECONDS(){return sw}}function wo(a){if(Pe.isDateTime(a))return a;if(a&&a.valueOf&&Ir(a.valueOf()))return Pe.fromJSDate(a);if(a&&typeof a=="object")return Pe.fromObject(a);throw new kn(`Unknown datetime argument: ${a}, of type ${typeof a}`)}const UN="3.7.2",IN=Object.freeze(Object.defineProperty({__proto__:null,DateTime:Pe,Duration:mt,FixedOffsetZone:Tn,IANAZone:za,Info:ko,Interval:qt,InvalidZone:cw,Settings:Yt,SystemZone:Bo,VERSION:UN,Zone:bs},Symbol.toStringTag,{value:"Module"}));window.Rete=DE;window.React=aE;window.RefComponent=Uh;window.luxon=IN;window.nodeRegistry=En;window.sockets=C1;window.socket=ge;window.apiUrl=Kn;window.getApiBase=$c;window.apiFetch=async function(a,n={}){const r=Kn(a);return fetch(r,n)};let hi={isLoading:!1,progress:0,status:"Ready",loadedCount:0,totalCount:0,failedPlugins:[],error:null};const Sh=new Set;function qw(a){return Sh.add(a),a({...hi}),()=>Sh.delete(a)}function ns(a){hi={...hi,...a},Sh.forEach(n=>n({...hi}))}function $N(){return{...hi}}async function HN(){ns({isLoading:!0,progress:0,status:"Fetching plugin list...",error:null,failedPlugins:[]});try{const a=await fetch(Kn("/api/plugins"));if(!a.ok)throw new Error("Failed to fetch plugin list");const n=await a.json(),r=n.length;ns({totalCount:r,status:`Loading ${r} plugins...`});let s=0;for(const c of n){const f=c.split("/").pop().replace(".js","");ns({status:`Loading ${f}...`});try{await VN(Kn(c)),s++,ns({loadedCount:s,progress:Math.round(s/r*100)})}catch(h){console.error(`[PluginLoader] Failed to load ${c}`,h),hi.failedPlugins.push({name:f,error:h.message})}}const l=hi.failedPlugins.length;ns({isLoading:!1,progress:100,status:l>0?`Loaded ${s} plugins (${l} failed)`:`Loaded ${s} plugins`})}catch(a){console.error("[PluginLoader] Error loading plugins:",a),ns({isLoading:!1,error:a.message,status:"Failed to load plugins"})}}function VN(a){return new Promise((n,r)=>{const s=document.createElement("script");s.src=a,s.onload=n,s.onerror=r,document.body.appendChild(s)})}const Yw=x.createContext(null),tb={success:{icon:"",className:"toast-success"},error:{icon:"",className:"toast-error"},warning:{icon:"",className:"toast-warning"},info:{icon:"",className:"toast-info"}};function qN({id:a,type:n,message:r,duration:s,onRemove:l,action:c,actionLabel:f}){const[h,p]=x.useState(!1),y=tb[n]||tb.info;x.useEffect(()=>{if(s>0){const S=setTimeout(()=>{p(!0),setTimeout(()=>l(a),300)},s);return()=>clearTimeout(S)}},[a,s,l]);const v=()=>{p(!0),setTimeout(()=>l(a),300)},b=()=>{c&&c(),v()};return m.jsxs("div",{className:`toast ${y.className} ${h?"toast-exit":""}`,children:[m.jsx("span",{className:"toast-icon",children:y.icon}),m.jsx("span",{className:"toast-message",children:r}),c&&f&&m.jsx("button",{className:"toast-action",onClick:b,children:f}),m.jsx("button",{className:"toast-close",onClick:v,children:""})]})}function YN({children:a}){const[n,r]=x.useState([]);let s=0;const l=x.useCallback((h,p,y={})=>{const v=++s,b=typeof y=="number"?y:y.duration??4e3,S=typeof y=="object"?y.action:null,k=typeof y=="object"?y.actionLabel:null;return r(N=>[...N,{id:v,type:h,message:p,duration:b,action:S,actionLabel:k}]),v},[]),c=x.useCallback(h=>{r(p=>p.filter(y=>y.id!==h))},[]),f={success:(h,p)=>l("success",h,p),error:(h,p)=>l("error",h,typeof p=="number"?p:{duration:6e3,...p}),warning:(h,p)=>l("warning",h,p),info:(h,p)=>l("info",h,p),dismiss:c,dismissAll:()=>r([])};return m.jsxs(Yw.Provider,{value:f,children:[a,m.jsx("div",{className:"toast-container",children:n.map(h=>m.jsx(qN,{id:h.id,type:h.type,message:h.message,duration:h.duration,onRemove:c,action:h.action,actionLabel:h.actionLabel},h.id))})]})}function ep(){const a=x.useContext(Yw);return a||{success:()=>{},error:()=>{},warning:()=>{},info:()=>{},dismiss:()=>{},dismissAll:()=>{}}}function GN(){const a=ep();return x.useEffect(()=>(typeof window<"u"&&(window.T2Toast=a),()=>{typeof window<"u"&&(window.T2Toast=null)}),[a]),null}typeof window<"u"&&(window.T2Toast=null);const nb=window.location.pathname.includes("/api/hassio/ingress/");function FN({onSave:a,onLoad:n,onLoadExample:r,onClear:s,onExport:l,onImport:c,hasUnsavedChanges:f,isMerged:h=!1,onToggleMerged:p}){const[y,v]=x.useState(!1),[b,S]=x.useState(!1),[k,N]=x.useState(!1),[F,I]=x.useState([]),[J,Q]=x.useState(!1),[z,G]=x.useState(!1),[de,ce]=x.useState(!1),[H,se]=x.useState(null),te=ep(),[Z,ue]=x.useState(()=>{const R=localStorage.getItem("dock-position");return R?JSON.parse(R):{x:20,y:20}}),[_e,ze]=x.useState(!1),[qe,Ge]=x.useState({x:0,y:0}),[C,Y]=x.useState(!0),[le,ve]=x.useState(!0),[xe,E]=x.useState(!1),[B,D]=x.useState(new Date),[V,pe]=x.useState({backend:ge.connected,ha:{connected:!1,wsConnected:!1,deviceCount:0},hue:{connected:!1,deviceCount:0},kasa:{connected:!1,deviceCount:0}}),[Oe,Ve]=x.useState({loaded:0,failed:0,total:0}),[et,Je]=x.useState({running:!1,nodeCount:0,tickCount:0,registeredNodeTypes:0});let Ht;const Zt=x.useRef(null),$e=x.useRef(null);x.useEffect(()=>{(async()=>{try{const O=await fetch("/api/version");if(O.ok){const q=await O.json();se(q.version)}}catch{}})()},[]),x.useEffect(()=>{Ht=qw(O=>{let q=0,he=O.totalCount||0;window.nodeRegistry&&typeof window.nodeRegistry.getAll=="function"?(q=window.nodeRegistry.getAll().length,(!he||q>he)&&(he=q)):q=O.loadedCount,Ve({loaded:q,failed:O.failedPlugins?.length||0,total:he})});const R=O=>{O.target.tagName==="INPUT"||O.target.tagName==="TEXTAREA"||O.target.isContentEditable||(O.key==="?"||O.shiftKey&&O.code==="Slash")&&(O.preventDefault(),S(!0))};return window.addEventListener("keydown",R),()=>window.removeEventListener("keydown",R)},[]),x.useEffect(()=>{const R=()=>{pe(Ee=>({...Ee,backend:!0})),ge.emit("request-hue-status")},O=()=>pe(Ee=>({...Ee,backend:!1})),q=Ee=>pe(Ue=>({...Ue,ha:{connected:Ee.connected,wsConnected:Ee.wsConnected,deviceCount:Ee.deviceCount||0}})),he=Ee=>{Ee.hue&&pe(Ue=>({...Ue,hue:Ee.hue})),Ee.kasa&&pe(Ue=>({...Ue,kasa:Ee.kasa}))},ye=Ee=>{pe(Ue=>({...Ue,hue:{connected:Ee.connected,deviceCount:Ee.deviceCount||0,bridgeIp:Ee.bridgeIp||null}}))};ge.on("connect",R),ge.on("disconnect",O),ge.on("ha-connection-status",q),ge.on("device-counts",he),ge.on("hue-connection-status",ye);const Ne=Ee=>Je(Ee),Ae=Ee=>Je(Ue=>({...Ue,...Ee,running:!0})),Ze=Ee=>Je(Ue=>({...Ue,...Ee,running:!1}));ge.on("engine-status",Ne),ge.on("engine-started",Ae),ge.on("engine-stopped",Ze),pe(Ee=>({...Ee,backend:ge.connected})),ge.connected&&(ge.emit("request-hue-status"),ge.emit("request-engine-status"));const Xe=$N();let yt=0,je=Xe.totalCount||0;return window.nodeRegistry&&typeof window.nodeRegistry.getAll=="function"?(yt=window.nodeRegistry.getAll().length,(!je||yt>je)&&(je=yt)):yt=Xe.loadedCount,Ve({loaded:yt,failed:Xe.failedPlugins?.length||0,total:je}),()=>{ge.off("connect",R),ge.off("disconnect",O),ge.off("ha-connection-status",q),ge.off("device-counts",he),ge.off("hue-connection-status",ye),ge.off("engine-status",Ne),ge.off("engine-started",Ae),ge.off("engine-stopped",Ze),Ht&&Ht()}},[]),x.useEffect(()=>{const R=setInterval(()=>{D(new Date)},1e3);return()=>clearInterval(R)},[]);const St=()=>{const R={weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"};return B.toLocaleDateString("en-US",R)};x.useEffect(()=>{localStorage.setItem("dock-position",JSON.stringify(Z))},[Z]);const Lt=R=>{h||R.target.closest(".dock-header")&&(ze(!0),Ge({x:R.clientX-Z.x,y:R.clientY-Z.y}))},on=R=>{_e&&ue({x:R.clientX-qe.x,y:R.clientY-qe.y})},$n=()=>{ze(!1)};x.useEffect(()=>{if(_e)return window.addEventListener("mousemove",on),window.addEventListener("mouseup",$n),()=>{window.removeEventListener("mousemove",on),window.removeEventListener("mouseup",$n)}},[_e,qe]);const Ca=()=>{$e.current?.click()},X=R=>{const O=R.target.files?.[0];if(O){const q=new FileReader;q.onload=he=>{try{const ye=JSON.parse(he.target.result);c(ye)}catch(ye){console.error("Failed to parse JSON:",ye),alert("Invalid JSON file")}},q.readAsText(O)}R.target.value=""},re=async()=>{N(!0),Q(!0);try{const R=await Qn("/api/engine/graphs");if(R.ok){const O=await R.json();I(O.graphs||[])}else te.error("Failed to load graphs list"),I([])}catch(R){console.error("Failed to fetch server graphs:",R),te.error("Failed to connect to server"),I([])}finally{Q(!1)}},ee=async R=>{try{const O=await Qn(`/api/engine/graphs/${encodeURIComponent(R)}`);if(O.ok){const q=await O.json();q.graph&&(c(q.graph),N(!1),te.success(`Loaded: ${R.replace(".json","")}`))}else te.error("Failed to load graph")}catch(O){console.error("Failed to load graph:",O),te.error("Failed to load graph")}},Te=async()=>{if(!z){G(!0);try{const R=await Qn("/api/update/check?force=true");if(!R.ok){const q=await R.text();throw new Error(q||`HTTP ${R.status}`)}const O=await R.json();if(O.isAddon){O.hasUpdate?te.info(" Add-on updates are available through Home Assistant  Settings  Add-ons  T2AutoTron",{duration:6e3}):te.success(` You're up to date! (v${O.currentVersion})`,4e3);return}O.hasUpdate?te.info(` Update available: ${O.currentVersion}  ${O.newVersion}`,{duration:0,actionLabel:"View Details",action:()=>{ge.emit("request-show-update-modal",O),window.dispatchEvent(new CustomEvent("showUpdateModal",{detail:O}))}}):te.success(` You're up to date! (v${O.currentVersion})`,4e3)}catch(R){console.error("Failed to check for updates:",R),te.error("Failed to check for updates: "+R.message,5e3)}finally{G(!1)}}},Se=async()=>{if(!de){ce(!0);try{const R=await Qn("/api/update/plugins/check");if(!R.ok)throw new Error(`HTTP ${R.status}`);const O=await R.json();if(!O.hasUpdates){te.success(" Plugins are up to date!",3e3);return}const q=(O.newPlugins?.length||0)+(O.modifiedPlugins?.length||0);te.info(` ${q} plugin update(s) available. Downloading...`,3e3);const he=await Qn("/api/update/plugins",{method:"POST"});if(!he.ok)throw new Error(`HTTP ${he.status}`);const ye=await he.json();ye.success&&ye.updated?.length>0?te.success(` Updated ${ye.updated.length} plugin(s). Refresh page to load them.`,{duration:0,actionLabel:"Refresh Now",action:()=>window.location.reload()}):ye.updated?.length===0?te.info("No plugins needed updating",3e3):te.error("Plugin update failed: "+(ye.error||"Unknown error"),5e3)}catch(R){console.error("Failed to update plugins:",R),te.error("Failed to update plugins: "+R.message,5e3)}finally{ce(!1)}}};return m.jsxs("div",{ref:Zt,className:`dock-container ${h?"dock-merged":""}`,style:{...h?{cursor:"default"}:{left:`${Z.x}px`,top:`${Z.y}px`,cursor:_e?"grabbing":"default"}},onMouseDown:Lt,children:[m.jsxs("div",{className:"dock-header",style:{cursor:h?"default":"grab"},children:[m.jsxs("div",{className:"dock-header-row",children:[m.jsx("span",{className:"dock-title",children:" Control Panel"}),m.jsx("button",{type:"button",className:"dock-btn-small",onClick:R=>{R.stopPropagation(),p?.()},onMouseDown:R=>R.stopPropagation(),title:h?"Pop Control Panel back out":"Merge Control Panel into the Forecast panel",children:h?"Pop out":"Merge"})]}),m.jsx("span",{className:"dock-datetime",children:St()})]}),m.jsxs("div",{className:"dock-section",children:[m.jsx("div",{className:"dock-section-header",onClick:()=>Y(!C),children:m.jsxs("span",{children:[C?"":""," Graph Tools ",f&&m.jsx("span",{className:"unsaved-dot",title:"Unsaved changes",children:""})]})}),C&&m.jsxs("div",{className:"dock-section-content",children:[m.jsxs("button",{onClick:a,className:`dock-btn ${f?"dock-btn-unsaved":""}`,children:[" Save ",f&&"*"]}),m.jsx("button",{onClick:n,className:"dock-btn",children:" Load Last"}),m.jsx("button",{onClick:re,className:"dock-btn",title:"Load a saved graph from the server",children:" Saved Graphs"}),m.jsx("button",{onClick:r,className:"dock-btn",title:"Load a starter graph to see how things work",children:" Load Example"}),m.jsx("button",{onClick:Ca,className:"dock-btn",children:" Import File"}),m.jsx("button",{onClick:s,className:"dock-btn",children:" Clear"}),m.jsx("button",{onClick:()=>ge.emit(et.running?"stop-engine":"start-engine"),className:`dock-btn ${et.running?"dock-btn-active":""}`,title:et.running?"Stop backend engine":"Start backend engine (runs automations 24/7)",children:et.running?" Stop Engine":" Start Engine"}),m.jsx("input",{ref:$e,type:"file",accept:".json",style:{display:"none"},onChange:X})]})]}),m.jsxs("div",{className:"dock-section",children:[m.jsx("div",{className:"dock-section-header",onClick:()=>ve(!le),children:m.jsxs("span",{children:[le?"":""," Connection Status"]})}),le&&m.jsxs("div",{className:"dock-section-content dock-status-grid",children:[m.jsxs("div",{className:`dock-status-item ${V.backend?"connected":"disconnected"}`,children:[m.jsx("span",{className:"dock-status-dot"}),m.jsx("span",{className:"dock-status-label",children:"Backend"}),m.jsx("span",{className:"dock-status-value",children:V.backend?"Connected":"Offline"})]}),m.jsxs("div",{className:`dock-status-item ${V.ha.connected?"connected":"disconnected"}`,children:[m.jsx("span",{className:"dock-status-dot"}),m.jsx("span",{className:"dock-status-label",children:"Home Assistant"}),m.jsx("span",{className:"dock-status-value",children:V.ha.connected?`${V.ha.deviceCount} devices`:"Offline"})]}),m.jsxs("div",{className:`dock-status-item ${V.hue.connected?"connected":"disconnected"}`,children:[m.jsx("span",{className:"dock-status-dot"}),m.jsx("span",{className:"dock-status-label",children:"Philips Hue"}),m.jsx("span",{className:"dock-status-value",children:V.hue.connected?`${V.hue.deviceCount||0} lights${V.hue.bridgeIp?` (${V.hue.bridgeIp})`:""}`:"Offline"})]}),V.kasa.deviceCount>0&&m.jsxs("div",{className:`dock-status-item ${V.kasa.connected?"connected":"disconnected"}`,children:[m.jsx("span",{className:"dock-status-dot"}),m.jsx("span",{className:"dock-status-label",children:"Kasa"}),m.jsxs("span",{className:"dock-status-value",children:[V.kasa.deviceCount," devices"]})]}),m.jsxs("div",{className:"dock-status-item plugins",children:[m.jsx("span",{className:"dock-status-dot",style:{background:Oe.failed>0?"#f59e0b":"#10b981"}}),m.jsx("span",{className:"dock-status-label",children:"Plugins"}),m.jsx("span",{className:"dock-status-value",children:Oe.total>0?`${Oe.loaded} / ${Oe.total} loaded${Oe.failed>0?` (${Oe.failed} failed)`:""}`:`${Oe.loaded} loaded`})]}),m.jsxs("div",{className:`dock-status-item ${et.running?"connected":"disconnected"}`,children:[m.jsx("span",{className:"dock-status-dot",style:{background:et.running?"#10b981":"#6b7280"}}),m.jsx("span",{className:"dock-status-label",children:"Engine"}),m.jsx("span",{className:"dock-status-value",children:et.running?`Running (${et.nodeCount} nodes)`:"Stopped"})]})]})]}),m.jsx(VC,{isExpanded:xe,onToggle:()=>E(!xe)}),m.jsxs("div",{className:"dock-section",children:[m.jsxs("div",{className:"dock-section-content",children:[m.jsx("button",{onClick:()=>v(!0),className:"dock-btn dock-btn-settings",children:" Settings & API Keys"}),m.jsx("button",{onClick:()=>S(!0),className:"dock-btn dock-btn-help",children:" Keyboard Shortcuts"}),m.jsx("button",{onClick:async()=>{let R=H||"unknown";try{const ye=await fetch("/api/version");ye.ok&&(R=(await ye.json()).version||R)}catch{}const O={version:R,userAgent:navigator.userAgent,isAddon:nb,backend:V.backend,ha:V.ha.connected,engine:et.running,plugins:Oe.loaded},q=Object.entries(O).map(([ye,Ne])=>`- **${ye}**: ${Ne}`).join(`
`),he=new URL("https://github.com/gregtee2/T2AutoTron/issues/new");he.searchParams.set("template","bug_report.md"),he.searchParams.set("title","[Bug]: "),he.searchParams.set("body",`##  Environment (auto-filled)
${q}

##  Bug Description
<!-- Describe what went wrong -->

`),window.open(he.toString(),"_blank")},className:"dock-btn dock-btn-bug",title:"Report a bug on GitHub",children:" Report Bug"}),nb?m.jsx("button",{onClick:()=>te.info(" Add-on updates are available through Home Assistant  Settings  Add-ons  T2AutoTron  Update",{duration:8e3}),className:"dock-btn dock-btn-update",title:"Updates are managed by Home Assistant Supervisor",children:" Update via HA"}):m.jsx("button",{onClick:Te,disabled:z,className:"dock-btn dock-btn-update",title:"Check for available updates (full rebuild)",children:z?" Checking...":" Check for Updates"}),m.jsx("button",{onClick:Se,disabled:de,className:"dock-btn dock-btn-plugins",title:"Hot-update plugins without restart",children:de?" Updating...":" Update Plugins"})]}),H&&m.jsxs("div",{className:"dock-version",title:"T2AutoTron version",children:["v",H]})]}),m.jsx(IC,{isOpen:y,onClose:()=>v(!1)}),m.jsx(HC,{isOpen:b,onClose:()=>S(!1)}),k&&m.jsx("div",{className:"modal-overlay",onClick:()=>N(!1),children:m.jsxs("div",{className:"modal server-graphs-modal",onClick:R=>R.stopPropagation(),children:[m.jsxs("div",{className:"modal-header",children:[m.jsx("h2",{children:" Saved Graphs"}),m.jsx("button",{className:"modal-close",onClick:()=>N(!1),children:""})]}),m.jsx("div",{className:"modal-body",children:J?m.jsx("div",{className:"loading-message",children:"Loading graphs..."}):F.length===0?m.jsxs("div",{className:"empty-message",children:[m.jsx("p",{children:"No saved graphs found."}),m.jsx("p",{style:{fontSize:"0.9em",opacity:.7},children:'Create a graph and click "Save" to save it to the server.'})]}):m.jsx("div",{className:"graphs-list",children:F.map((R,O)=>m.jsxs("div",{className:"graph-item",onClick:()=>ee(R.name),children:[m.jsx("span",{className:"graph-name",children:R.displayName}),m.jsx("span",{className:"graph-date",children:new Date(R.modified).toLocaleDateString()})]},O))})})]})})]})}function PN({dockSlotRef:a}){const[n,r]=x.useState(!0),[s,l]=x.useState(!0),[c,f]=x.useState(null),[h,p]=x.useState(null),[y,v]=x.useState(ge?.connected??!1),[b,S]=x.useState({connected:!1,wsConnected:!1,deviceCount:0}),[k,N]=x.useState(new Map),[F,I]=x.useState(()=>parseInt(localStorage.getItem("forecastPanelWidth"))||320),[J,Q]=x.useState(()=>parseInt(localStorage.getItem("devicesOnHeight"))||200),z=x.useRef(null);x.useEffect(()=>{if(!ge)return;const Z=()=>{v(!0),ge.emit("request-ha-status")},ue=()=>{v(!1),S({connected:!1,wsConnected:!1,deviceCount:0})},_e=qe=>{S(qe)};ge.on("connect",Z),ge.on("disconnect",ue),ge.on("ha-connection-status",_e),ge.on("forecast-update",qe=>{f(qe)});const ze=qe=>{const{id:Ge,state:C,on:Y,name:le}=qe;if(!Ge)return;const ve=Y!==void 0?Y:C==="on"||C==="playing"||C==="open",xe=le||qe.friendly_name||qe.attributes?.friendly_name||Ge.replace("ha_","").replace("kasa_","").replace(/\./g," ").replace(/_/g," ");(Ge.includes("light.")||Ge.includes("switch.")||Ge.startsWith("kasa_"))&&N(B=>{const D=new Map(B);return ve?D.set(Ge,{name:xe,on:!0}):D.delete(Ge),D})};return ge.on("device-state-update",ze),ge.emit("request-forecast"),ge.connected&&(v(!0),ge.emit("request-ha-status")),()=>{ge.off("connect",Z),ge.off("disconnect",ue),ge.off("ha-connection-status",_e),ge.off("forecast-update"),ge.off("device-state-update",ze)}},[]);const G=()=>{ge?.emit("request-forecast")},de=Z=>{const ue=(Z||"").toLowerCase();return ue.includes("clear")||ue.includes("sun")?m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#FFD700",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"12",cy:"12",r:"5"}),m.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),m.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),m.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),m.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),m.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),m.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),m.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),m.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):ue.includes("rain")||ue.includes("drizzle")||ue.includes("shower")?m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#4facfe",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M20 16.2A4.5 4.5 0 0 0 17.5 8h-1.8A7 7 0 1 0 4 14.9"}),m.jsx("line",{x1:"8",y1:"19",x2:"8",y2:"21"}),m.jsx("line",{x1:"8",y1:"13",x2:"8",y2:"15"}),m.jsx("line",{x1:"16",y1:"19",x2:"16",y2:"21"}),m.jsx("line",{x1:"16",y1:"13",x2:"16",y2:"15"}),m.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),m.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"17"})]}):ue.includes("partly")||ue.includes("partial")||ue.includes("few")?m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M13 2v2",stroke:"#FFD700"}),m.jsx("path",{d:"M3 13h2",stroke:"#FFD700"}),m.jsx("path",{d:"M20 13h2",stroke:"#FFD700"}),m.jsx("path",{d:"M5.6 5.6l1.4 1.4",stroke:"#FFD700"}),m.jsx("path",{d:"M18.4 5.6l-1.4 1.4",stroke:"#FFD700"}),m.jsx("circle",{cx:"13",cy:"9",r:"4",stroke:"#FFD700"}),m.jsx("path",{d:"M17 17h-10a4 4 0 0 1 0-8h.5a5.5 5.5 0 0 1 10.5 3h.5a3 3 0 0 1 0 6z",stroke:"#B0C4DE",fill:"none"})]}):ue.includes("snow")||ue.includes("flurr")?m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#B0E0E6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"}),m.jsx("line",{x1:"8",y1:"16",x2:"8",y2:"16.01"}),m.jsx("line",{x1:"8",y1:"20",x2:"8",y2:"20.01"}),m.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"18.01"}),m.jsx("line",{x1:"12",y1:"22",x2:"12",y2:"22.01"}),m.jsx("line",{x1:"16",y1:"16",x2:"16",y2:"16.01"}),m.jsx("line",{x1:"16",y1:"20",x2:"16",y2:"20.01"})]}):ue.includes("thunder")||ue.includes("storm")?m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#9370DB",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"}),m.jsx("polyline",{points:"13 11 9 17 15 17 11 23",stroke:"#FFD700",fill:"none"})]}):ue.includes("fog")||ue.includes("mist")||ue.includes("haze")?m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#A9A9A9",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"}),m.jsx("line",{x1:"3",y1:"20",x2:"21",y2:"20"}),m.jsx("line",{x1:"3",y1:"17",x2:"21",y2:"17"})]}):m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#B0C4DE",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"})})},ce=Z=>{if(!Z)return{day:"",date:""};let ue;if(typeof Z=="string"&&Z.match(/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun)/i)){const qe=Z.match(/(\w+),\s*(\w+)\s*(\d+)/);return qe?{day:`${qe[1]}, ${qe[2]}`,date:qe[3]}:{day:Z,date:""}}if(ue=new Date(parseInt(Z)||Z),isNaN(ue.getTime()))return{day:Z,date:""};const _e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ze=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return{day:`${_e[ue.getUTCDay()]}, ${ze[ue.getUTCMonth()]}`,date:`${ue.getUTCDate()}`}},H=()=>{if(!c||!c.length)return m.jsx("div",{className:"forecast-empty",children:"No forecast data"});if(h!==null){const Z=c[h],ue=ce(Z.date||Z.day);return m.jsxs("div",{className:"forecast-detail",children:[m.jsxs("div",{className:"forecast-detail-header",children:[m.jsx("button",{className:"detail-back-btn",onClick:()=>p(null),children:" Back"}),m.jsxs("span",{className:"detail-date",children:[ue.day," ",ue.date]})]}),m.jsxs("div",{className:"detail-main",children:[m.jsx("div",{className:"detail-icon",children:de(Z.conditions||Z.condition)}),m.jsxs("div",{className:"detail-temps",children:[m.jsxs("div",{className:"detail-high",children:[Z.high,""]}),m.jsxs("div",{className:"detail-low",children:[Z.low,""]})]}),m.jsx("div",{className:"detail-condition",children:Z.conditions||Z.condition||"N/A"})]}),Z.description&&m.jsx("div",{className:"detail-description",children:Z.description}),m.jsxs("div",{className:"detail-stats",children:[m.jsxs("div",{className:"detail-stat",children:[m.jsx("span",{className:"stat-label",children:"Precipitation"}),m.jsx("span",{className:"stat-value",children:Z.precipitation||Z.precip||"0%"})]}),Z.humidity&&m.jsxs("div",{className:"detail-stat",children:[m.jsx("span",{className:"stat-label",children:"Humidity"}),m.jsxs("span",{className:"stat-value",children:[Z.humidity,"%"]})]}),Z.wind&&m.jsxs("div",{className:"detail-stat",children:[m.jsx("span",{className:"stat-label",children:"Wind"}),m.jsx("span",{className:"stat-value",children:Z.wind})]}),(Z.sunrise||Z.sunset)&&m.jsxs("div",{className:"detail-sun-times",children:[Z.sunrise&&m.jsxs("div",{className:"detail-stat",children:[m.jsx("span",{className:"stat-label",children:" Sunrise"}),m.jsx("span",{className:"stat-value",children:Z.sunrise})]}),Z.sunset&&m.jsxs("div",{className:"detail-stat",children:[m.jsx("span",{className:"stat-label",children:" Sunset"}),m.jsx("span",{className:"stat-value",children:Z.sunset})]})]})]})]})}return c.slice(0,5).map((Z,ue)=>{const _e=ce(Z.date||Z.day);return m.jsxs("div",{className:"forecast-card",onClick:()=>p(ue),children:[m.jsxs("div",{className:"forecast-row-top",children:[m.jsxs("div",{className:"forecast-date",children:[m.jsx("span",{className:"date-day",children:_e.day}),m.jsx("span",{className:"date-num",children:_e.date})]}),m.jsx("div",{className:"forecast-icon",children:de(Z.conditions||Z.condition)})]}),m.jsxs("div",{className:"forecast-row-bottom",children:[m.jsxs("span",{className:"temp-low",children:[Z.low,""]}),m.jsxs("span",{className:"temp-high",children:[Z.high,""]}),m.jsxs("span",{className:"precip-group",children:[m.jsxs("svg",{className:"precip-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M20 16.2A4.5 4.5 0 0 0 17.5 8h-1.8A7 7 0 1 0 4 14.9"}),m.jsx("path",{d:"M16 14v4"}),m.jsx("path",{d:"M8 14v4"}),m.jsx("path",{d:"M12 16v4"})]}),m.jsx("span",{className:"precip-value",children:Z.precipitation||Z.precip||"0%"})]})]})]},ue)})},se=Z=>{Z.preventDefault();const ue=Z.clientX,_e=F,ze=Ge=>{const C=ue-Ge.clientX,Y=Math.max(250,Math.min(500,_e+C));I(Y),localStorage.setItem("forecastPanelWidth",Y)},qe=()=>{document.removeEventListener("mousemove",ze),document.removeEventListener("mouseup",qe)};document.addEventListener("mousemove",ze),document.addEventListener("mouseup",qe)},te=Z=>{Z.preventDefault(),Z.stopPropagation();const ue=Z.clientY,_e=J,ze=Ge=>{const C=ue-Ge.clientY,Y=Math.max(100,Math.min(500,_e+C));Q(Y),localStorage.setItem("devicesOnHeight",Y)},qe=()=>{document.removeEventListener("mousemove",ze),document.removeEventListener("mouseup",qe)};document.addEventListener("mousemove",ze),document.addEventListener("mouseup",qe)};return m.jsxs("div",{className:"forecast-panel",style:{width:F},children:[m.jsx("div",{className:"forecast-resize-handle",ref:z,onMouseDown:se,children:m.jsx("div",{className:"forecast-resize-grip"})}),m.jsxs("div",{className:"forecast-panel-header",onClick:()=>r(!n),children:[m.jsx("span",{children:"5-Day Forecast"}),m.jsx("button",{onClick:Z=>{Z.stopPropagation(),G()},className:"forecast-refresh-btn",children:"Refresh"})]}),n&&m.jsx("div",{className:"forecast-panel-content",children:H()}),m.jsx("div",{className:"forecast-dock-slot",ref:a}),m.jsxs("div",{className:"devices-on-section",style:{height:s?J:"auto"},children:[m.jsx("div",{className:"devices-resize-handle",onMouseDown:te,children:m.jsx("div",{className:"devices-resize-grip"})}),m.jsxs("div",{className:"devices-on-header",onClick:()=>l(!s),children:[m.jsxs("span",{children:["Devices ON (",k.size,")"]}),m.jsx("span",{className:"expand-icon",children:s?"":""})]}),s&&m.jsx("div",{className:"devices-on-list",children:k.size===0?m.jsx("div",{className:"no-devices",children:"All devices off"}):Array.from(k.values()).sort((Z,ue)=>Z.name.localeCompare(ue.name)).map((Z,ue)=>m.jsxs("div",{className:"device-on-item",children:[m.jsx("span",{className:"device-on-indicator"}),m.jsx("span",{className:"device-on-name",children:Z.name})]},ue))})]}),m.jsxs("div",{className:"status-indicators",children:[m.jsx("div",{className:`connection-status ${y?"connected":"disconnected"}`,children:y?"Backend":"Backend X"}),m.jsx("div",{className:`connection-status ${b.connected?"connected":"disconnected"}`,children:b.connected?`HA (${b.deviceCount})`:"HA X"})]})]})}function ZN({width:a=180,panelRef:n,dropActive:r=!1,favoriteGroups:s=[],onAddFavorite:l,onRemoveFavorite:c,onCreateNode:f}){const h=window.T2Controls?.Tooltip,p=`Drag a node onto this panel to add it to Favorites.
Click a favorite to add that node to the canvas.
Right-click a favorite to remove it.`,y=(s||[]).reduce((b,S)=>b+(S?.labels||[]).length,0),v=b=>{const S=(b||"").toString().trim();S&&c?.(S)};return m.jsxs("div",{ref:n,className:`favorites-panel ${r?"drop-active":""}`,style:{width:a},onMouseDown:b=>b.stopPropagation(),children:[m.jsx("div",{className:"favorites-header",children:m.jsxs("div",{className:"favorites-header-row",children:[m.jsx("span",{className:"favorites-title",children:" Favorites"}),h?m.jsx(h,{text:p,position:"bottom",children:m.jsx("span",{className:"favorites-help-fallback",children:"?"})}):m.jsx("span",{className:"favorites-help-fallback",title:p,children:"?"})]})}),m.jsx("div",{className:"favorites-list",children:y===0?m.jsx("div",{className:"favorites-empty",children:"No favorites yet"}):s.map(b=>{const S=(b?.category||"Other").toString(),k=Array.isArray(b?.labels)?b.labels:[];return k.length===0?null:m.jsxs("div",{className:"favorites-group",children:[m.jsx("div",{className:"favorites-divider",children:m.jsx("span",{className:"favorites-divider-text",children:S})}),k.map(N=>m.jsx("button",{type:"button",className:"favorites-item-btn",onClick:()=>f?.(N),onContextMenu:F=>{F.preventDefault(),F.stopPropagation(),v(N)},title:"Click: add to canvas  Right-click: remove",children:N},`${S}:${N}`))]},S)})})]})}function XN({isOpen:a,onClose:n,onSave:r,currentGraphData:s}){const[l,c]=x.useState(""),[f,h]=x.useState([]),[p,y]=x.useState(!1),[v,b]=x.useState(!1),[S,k]=x.useState(null),N=x.useRef(null);x.useEffect(()=>{a&&(F(),setTimeout(()=>N.current?.focus(),100))},[a]);const F=async()=>{y(!0),k(null);try{const G=await(await fetch(Kn("/api/engine/graphs"))).json();G.success?h(G.graphs||[]):k("Failed to load existing graphs")}catch(z){console.error("[SaveModal] Error fetching graphs:",z),k("Failed to connect to server")}finally{y(!1)}},I=async()=>{if(!l.trim()){k("Please enter a filename");return}b(!0),k(null);try{const G=await(await fetch(Kn("/api/engine/save-graph"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filename:l.trim(),graph:s})})).json();G.success?(window.T2Toast&&window.T2Toast.success(`Saved as "${G.filename}"`,3e3),r?.(G.filename),n()):k(G.error||"Failed to save graph")}catch(z){console.error("[SaveModal] Error saving:",z),k("Failed to save graph")}finally{b(!1)}},J=z=>{z.key==="Enter"&&!v?I():z.key==="Escape"&&n()},Q=z=>{const G=z.replace(".json","");c(G),N.current?.focus()};return a?m.jsx("div",{className:"save-modal-overlay",onClick:n,children:m.jsxs("div",{className:"save-modal",onClick:z=>z.stopPropagation(),children:[m.jsxs("div",{className:"save-modal-header",children:[m.jsx("h2",{children:" Save Graph"}),m.jsx("button",{className:"save-modal-close",onClick:n,children:""})]}),m.jsxs("div",{className:"save-modal-content",children:[m.jsxs("div",{className:"save-modal-input-section",children:[m.jsx("label",{htmlFor:"graph-filename",children:"Filename:"}),m.jsxs("div",{className:"save-modal-input-row",children:[m.jsx("input",{ref:N,id:"graph-filename",type:"text",value:l,onChange:z=>c(z.target.value),onKeyDown:J,placeholder:"my_automation_graph",disabled:v}),m.jsx("span",{className:"save-modal-extension",children:".json"})]})]}),S&&m.jsxs("div",{className:"save-modal-error",children:[" ",S]}),m.jsxs("div",{className:"save-modal-existing",children:[m.jsxs("h3",{children:["Existing Graphs ",p&&m.jsx("span",{className:"save-modal-loading",children:"loading..."})]}),f.length===0&&!p?m.jsx("p",{className:"save-modal-empty",children:"No saved graphs yet"}):m.jsx("ul",{className:"save-modal-list",children:f.map(z=>m.jsxs("li",{onClick:()=>Q(z.name),className:l===z.displayName?"selected":"",title:`Click to overwrite. Modified: ${new Date(z.modified).toLocaleString()}`,children:[m.jsx("span",{className:"graph-name",children:z.displayName}),m.jsx("span",{className:"graph-date",children:new Date(z.modified).toLocaleDateString()})]},z.name))})]})]}),m.jsxs("div",{className:"save-modal-footer",children:[m.jsx("button",{className:"save-modal-btn save-modal-btn-cancel",onClick:n,disabled:v,children:"Cancel"}),m.jsx("button",{className:"save-modal-btn save-modal-btn-save",onClick:I,disabled:v||!l.trim(),children:v?"Saving...":" Save"})]})]})}):null}function KN({visible:a,position:n,items:r,onClose:s,onSelect:l}){const c=x.useRef(null),f=x.useRef(null),[h,p]=x.useState(null),[y,v]=x.useState({x:0,y:0}),[b,S]=x.useState(""),k=x.useRef(null),N=x.useRef(null);x.useEffect(()=>{a&&(S(""),p(null),setTimeout(()=>{f.current?.focus()},50))},[a]);const F=x.useMemo(()=>{if(!b.trim())return r;const H=b.toLowerCase(),se=[];for(const te of r)if(te.subitems)for(const Z of te.subitems)Z.label&&Z.label.toLowerCase().includes(H)&&se.push({...Z,categoryHint:te.label});else te.label&&te.label.toLowerCase().includes(H)&&se.push(te);return se},[r,b]),I=b.trim().length>0;x.useEffect(()=>{if(!a)return;const H=te=>{c.current&&!c.current.contains(te.target)&&s()},se=te=>{te.key==="Escape"&&s()};return document.addEventListener("mousedown",H),document.addEventListener("keydown",se),()=>{document.removeEventListener("mousedown",H),document.removeEventListener("keydown",se)}},[a,s]),x.useEffect(()=>()=>{k.current&&clearTimeout(k.current),N.current&&clearTimeout(N.current)},[]);const J=x.useCallback((H,se,te)=>{N.current&&(clearTimeout(N.current),N.current=null),se.subitems&&se.subitems.length>0?p(te):p(null)},[]),Q=x.useCallback(()=>{N.current=setTimeout(()=>{p(null)},150)},[]),z=x.useCallback(()=>{N.current&&(clearTimeout(N.current),N.current=null)},[]),G=x.useCallback(()=>{N.current=setTimeout(()=>{p(null)},100)},[]),de=x.useCallback(H=>{H.subitems&&H.subitems.length>0||(l(H),s())},[l,s]);if(!a)return null;const ce={...n};if(typeof window<"u"){const se=Math.min(F.length*36+50,400);n.x+220>window.innerWidth&&(ce.x=window.innerWidth-220-10),n.y+se>window.innerHeight&&(ce.y=Math.max(10,window.innerHeight-se-10))}return m.jsxs("div",{ref:c,className:"fast-context-menu",style:{left:ce.x,top:ce.y},children:[m.jsxs("div",{className:"fast-menu-search",children:[m.jsx("input",{ref:f,type:"text",placeholder:"Search nodes...",value:b,onChange:H=>S(H.target.value),onClick:H=>H.stopPropagation(),onKeyDown:H=>{if(H.key==="Enter"&&F.length===1){const se=F[0];se.subitems||de(se)}H.stopPropagation()}}),b&&m.jsx("span",{className:"search-clear",onClick:H=>{H.stopPropagation(),S(""),f.current?.focus()},children:""})]}),m.jsx("div",{className:"fast-menu-results",children:F.length===0?m.jsx("div",{className:"fast-menu-empty",children:"No nodes found"}):I?F.map((H,se)=>m.jsxs("div",{className:"fast-menu-item search-result",onClick:()=>de(H),children:[m.jsx("span",{className:"menu-label",children:H.label}),H.categoryHint&&m.jsx("span",{className:"category-hint",children:H.categoryHint})]},H.label||se)):F.map((H,se)=>m.jsxs("div",{className:`fast-menu-item ${H.subitems?"has-submenu":""} ${h===se?"active":""}`,onMouseEnter:te=>J(te,H,se),onMouseLeave:Q,onClick:()=>de(H),children:[H.icon&&m.jsx("span",{className:"menu-icon",children:H.icon}),m.jsx("span",{className:"menu-label",children:H.label}),H.subitems&&m.jsx("span",{className:"submenu-arrow",children:""}),h===se&&H.subitems&&m.jsx("div",{className:"fast-submenu",onMouseEnter:z,onMouseLeave:G,children:H.subitems.map((te,Z)=>m.jsx("div",{className:"fast-menu-item",title:te.description||"",onClick:ue=>{ue.stopPropagation(),de(te)},children:m.jsx("span",{className:"menu-label",children:te.label})},te.label||Z))})]},H.label||se))})]})}function ab(a){const n=[],r=[];if(!a||typeof a!="object")return{valid:!1,errors:["Graph data is not an object"],warnings:[]};if(!Array.isArray(a.nodes))n.push('Missing or invalid "nodes" array');else{const s=new Set;a.nodes.forEach((l,c)=>{l.id?(s.has(l.id)&&n.push(`Duplicate node ID: ${l.id}`),s.add(l.id)):n.push(`Node at index ${c} is missing "id"`),l.label||n.push(`Node ${l.id||c} is missing "label"`),(!l.position||typeof l.position.x!="number"||typeof l.position.y!="number")&&r.push(`Node ${l.id||c} has invalid position`),l.position&&(!Number.isFinite(l.position.x)||!Number.isFinite(l.position.y))&&n.push(`Node ${l.id||c} has NaN or Infinity in position`)})}if(!Array.isArray(a.connections))n.push('Missing or invalid "connections" array');else{const s=new Set(a.nodes?.map(c=>c.id)||[]),l=new Set;a.connections.forEach((c,f)=>{c.source?s.has(c.source)||n.push(`Connection ${f} references non-existent source node: ${c.source}`):n.push(`Connection at index ${f} is missing "source"`),c.target?s.has(c.target)||n.push(`Connection ${f} references non-existent target node: ${c.target}`):n.push(`Connection at index ${f} is missing "target"`),c.sourceOutput||r.push(`Connection ${f} is missing "sourceOutput"`),c.targetInput||r.push(`Connection ${f} is missing "targetInput"`);const h=`${c.source}:${c.sourceOutput}->${c.target}:${c.targetInput}`;l.has(h)&&r.push(`Duplicate connection: ${h}`),l.add(h),c.source===c.target&&r.push(`Self-connection detected on node ${c.source}`)})}return a.viewport&&((typeof a.viewport.k!="number"||a.viewport.k<=0)&&r.push("Invalid viewport zoom value"),(!Number.isFinite(a.viewport.x)||!Number.isFinite(a.viewport.y))&&r.push("Invalid viewport position")),{valid:n.length===0,errors:n,warnings:r}}function rb(a){const n=[];let r=!1;const s=JSON.parse(JSON.stringify(a));Array.isArray(s.nodes)||(s.nodes=[],n.push("Created empty nodes array"),r=!0),Array.isArray(s.connections)||(s.connections=[],n.push("Created empty connections array"),r=!0);const l=new Set,c=new Set;return s.nodes=s.nodes.filter((f,h)=>{if(!f.id)return n.push(`Removed node at index ${h} (missing ID)`),r=!0,!1;if(c.has(f.id)){const p=`${f.id}_${Date.now()}_${h}`;n.push(`Renamed duplicate node ID ${f.id} to ${p}`),f.id=p,r=!0}return c.add(f.id),l.add(f.id),f.label||(f.label="Unknown Node",n.push(`Set label for node ${f.id} to "Unknown Node"`),r=!0),!f.position||typeof f.position!="object"?(f.position={x:0,y:0},n.push(`Reset position for node ${f.id}`),r=!0):(Number.isFinite(f.position.x)||(f.position.x=0,n.push(`Fixed NaN x position for node ${f.id}`),r=!0),Number.isFinite(f.position.y)||(f.position.y=0,n.push(`Fixed NaN y position for node ${f.id}`),r=!0)),!0}),s.connections=s.connections.filter((f,h)=>l.has(f.source)?l.has(f.target)?!0:(n.push(`Removed connection ${h} (invalid target: ${f.target})`),r=!0,!1):(n.push(`Removed connection ${h} (invalid source: ${f.source})`),r=!0,!1)),s.viewport&&(Number.isFinite(s.viewport.x)||(s.viewport.x=0,n.push("Fixed viewport x position"),r=!0),Number.isFinite(s.viewport.y)||(s.viewport.y=0,n.push("Fixed viewport y position"),r=!0),(!Number.isFinite(s.viewport.k)||s.viewport.k<=0)&&(s.viewport.k=1,n.push("Fixed viewport zoom level"),r=!0)),{repaired:r,graphData:s,fixes:n}}class gj extends Gt.Control{constructor(n,r){super(),this.label=n,this.onClick=r}}function QN({data:a}){return m.jsx("button",{onPointerDown:n=>n.stopPropagation(),onDoubleClick:n=>n.stopPropagation(),onClick:a.onClick,style:{width:"100%",padding:"8px",marginBottom:"5px",background:"rgba(0, 243, 255, 0.1)",border:"1px solid rgba(0, 243, 255, 0.4)",color:"#00f3ff",borderRadius:"20px",cursor:"pointer",fontWeight:"600",textTransform:"uppercase",fontSize:"12px",transition:"all 0.2s"},onMouseOver:n=>{n.currentTarget.style.background="rgba(0, 243, 255, 0.25)",n.currentTarget.style.boxShadow="0 0 12px rgba(0, 243, 255, 0.4)"},onMouseOut:n=>{n.currentTarget.style.background="rgba(0, 243, 255, 0.1)",n.currentTarget.style.boxShadow="none"},children:a.label})}class vj extends Gt.Control{constructor(n,r,s,l){super(),this.label=n,this.values=r,this.value=s,this.onChange=l}setValue(n){this.value=n}}function JN({data:a}){const[,n]=x.useReducer(f=>f+1,0),[r,s]=x.useState(a.value);x.useEffect(()=>{s(a.value)},[a.value]),x.useEffect(()=>{n()},[a]);const l=f=>{const h=f.target.value;s(h),typeof a.setValue=="function"?a.setValue(h):a.value=h,a.onChange&&a.onChange(h)},c=a.values||[];return m.jsxs("div",{style:{marginBottom:"5px"},children:[a.label&&m.jsx("label",{style:{display:"block",fontSize:"10px",color:"#00f3ff",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.5px"},children:a.label}),m.jsx("select",{value:r,onChange:l,onPointerDown:f=>f.stopPropagation(),onDoubleClick:f=>f.stopPropagation(),style:{width:"100%",background:"#0a0f14",color:"#00f3ff",border:"1px solid rgba(0, 243, 255, 0.3)",padding:"6px",borderRadius:"4px",outline:"none",fontSize:"12px"},children:c.map((f,h)=>m.jsx("option",{value:f,style:{background:"#0a0f14",color:"#00f3ff"},children:f},`${h}-${f}`))})]})}class bj extends Gt.Control{constructor(n,r,s){super(),this.label=n,this.value=r,this.onChange=s}}function WN({data:a}){const[n,r]=x.useState(a.value),s=l=>{const c=l.target.value;r(c),a.value=c,a.onChange&&a.onChange(c)};return m.jsxs("div",{style:{marginBottom:"5px"},children:[a.label&&m.jsx("label",{style:{display:"block",fontSize:"10px",color:"#00f3ff",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.5px"},children:a.label}),m.jsx("input",{type:"text",value:n,onChange:s,onPointerDown:l=>l.stopPropagation(),onDoubleClick:l=>l.stopPropagation(),style:{width:"100%",background:"#0a0f14",color:"#00f3ff",border:"1px solid rgba(0, 243, 255, 0.3)",padding:"6px",borderRadius:"4px",outline:"none",fontSize:"12px"}})]})}class wj extends Gt.Control{constructor(n,r,s){super(),this.label=n,this.value=r,this.onChange=s}}function ej({data:a}){const[n,r]=x.useState(a.value),s=l=>{const c=l.target.checked;r(c),a.value=c,a.onChange&&a.onChange(c)};return m.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"5px"},children:[m.jsx("input",{type:"checkbox",checked:n,onChange:s,onPointerDown:l=>l.stopPropagation(),onDoubleClick:l=>l.stopPropagation(),style:{accentColor:"#00f3ff"}}),m.jsx("span",{style:{marginLeft:"5px",fontSize:"12px",color:"#00f3ff",textTransform:"uppercase",letterSpacing:"0.5px"},children:a.label})]})}class Sj extends Gt.Control{constructor(n,r,s,l={}){super(),this.label=n,this.value=r,this.onChange=s,this.options=l}}function tj({data:a}){const[n,r]=x.useState(a.value),s=l=>{const c=Number(l.target.value);r(c),a.value=c,a.onChange&&a.onChange(c)};return m.jsxs("div",{style:{marginBottom:"5px"},children:[a.label&&m.jsx("label",{style:{display:"block",fontSize:"10px",color:"#00f3ff",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.5px"},children:a.label}),m.jsx("input",{type:"number",value:n,onChange:s,min:a.options.min,max:a.options.max,step:a.options.step,onPointerDown:l=>l.stopPropagation(),onDoubleClick:l=>l.stopPropagation(),style:{width:"100%",background:"#0a0f14",color:"#00f3ff",border:"1px solid rgba(0, 243, 255, 0.3)",padding:"6px",borderRadius:"4px",outline:"none",fontSize:"12px"}})]})}class xj extends Gt.Control{constructor(n,r,s,l="text"){super(),this.label=n,this.value=r,this.onChange=s,this.type=l}}function nj({data:a}){const[n,r]=x.useState(a.value);x.useEffect(()=>{r(a.value)},[a.value]);const s=l=>{let c=l.target.value;a.type==="number"&&(c=Number(c)),r(c),a.value=c,a.onChange&&a.onChange(c)};return m.jsxs("div",{style:{marginBottom:"5px"},children:[a.label&&m.jsx("label",{style:{display:"block",fontSize:"10px",color:"#00f3ff",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.5px"},children:a.label}),m.jsx("input",{type:a.type||"text",value:n,onChange:s,onPointerDown:l=>l.stopPropagation(),onDoubleClick:l=>l.stopPropagation(),style:{width:"100%",background:"#0a0f14",color:"#00f3ff",border:"1px solid rgba(0, 243, 255, 0.3)",padding:"6px",borderRadius:"4px",outline:"none",fontSize:"12px"}})]})}class Ej extends Gt.Control{constructor(n,r){super(),this.deviceId=n,this.getState=r}}function aj({data:a}){const n=a.getState?a.getState(a.deviceId):null,r=document.body.classList.contains("performance-mode");if(!n)return m.jsx("div",{style:{padding:"4px 8px",background:"rgba(0, 20, 30, 0.6)",borderRadius:"4px",marginBottom:"4px",display:"flex",alignItems:"center",justifyContent:"space-between",minHeight:"24px",border:"1px solid rgba(0, 243, 255, 0.1)"},children:m.jsx("span",{style:{fontSize:"11px",color:"rgba(0, 243, 255, 0.5)"},children:"No state data"})});const s=n.on||n.state==="on",l=n.brightness?Math.round(n.brightness/255*100):0,c=n.hs_color||[0,0],[f,h]=c;let p="#e74c3c";s&&(h===0?p="#f1c40f":p=`hsl(${f}, ${h}%, 50%)`);const y={width:"14px",height:"14px",borderRadius:"50%",background:p,border:"1px solid rgba(255,255,255,0.3)",animation:s&&!r?"flash-pulse 2s infinite ease-in-out":"none",color:p,marginRight:"8px",flexShrink:0,boxShadow:s?`0 0 5px ${p}`:"none"};return m.jsxs("div",{style:{padding:"6px 8px",background:"rgba(0, 20, 30, 0.6)",borderRadius:"4px",marginBottom:"4px",border:"1px solid rgba(0, 243, 255, 0.2)",display:"flex",flexDirection:"column"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:s?"4px":"0"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",flex:1,overflow:"hidden"},children:[m.jsx("div",{style:y}),m.jsx("span",{style:{fontSize:"12px",color:"#e0f7fa",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginRight:"8px"},children:n.name||a.deviceId})]}),m.jsx("span",{style:{fontSize:"10px",color:"#00f3ff",fontFamily:"monospace",whiteSpace:"nowrap"},children:s?`${l}%`:"Off"})]}),s&&m.jsx("div",{style:{width:"100%",height:"4px",background:"rgba(0, 243, 255, 0.1)",borderRadius:"2px",overflow:"hidden"},children:m.jsx("div",{style:{width:`${l}%`,height:"100%",background:`linear-gradient(90deg, rgba(0, 243, 255, 0.2), ${p})`,transition:"width 0.3s ease-out"}})})]})}function rj(a){const{state:n,color:r}=a.data.data||{},s=n==="on"||n==="open"||n==="playing",l=r||(s?"#00f3ff":"#333");return m.jsxs("div",{className:"status-indicator-control",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"5px",width:"100%"},onPointerDown:c=>c.stopPropagation(),children:[m.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:s?l:"rgba(0, 20, 30, 0.8)",boxShadow:s?`0 0 10px ${l}, 0 0 20px ${l}`:"none",transition:"all 0.3s ease",border:"1px solid rgba(0, 243, 255, 0.3)",animation:s?"pulse 2s infinite":"none"}}),m.jsx("style",{children:`
                @keyframes pulse {
                    0% { opacity: 1; transform: scale(1); }
                    50% { opacity: 0.7; transform: scale(0.9); }
                    100% { opacity: 1; transform: scale(1); }
                }
            `})]})}function ij(a){const{brightness:n,hs_color:r,entityType:s}=a.data.data||{};let l="#444";r&&r.length===2?l=`hsl(${r[0]}, ${r[1]}%, 50%)`:s==="light"&&(l="#ffaa00");const c=n?n/255*100:0;return m.jsx("div",{className:"color-bar-control",style:{width:"100%",height:"8px",backgroundColor:"rgba(0, 20, 30, 0.6)",borderRadius:"4px",overflow:"hidden",marginTop:"5px",border:"1px solid rgba(0, 243, 255, 0.2)"},onPointerDown:f=>f.stopPropagation(),children:m.jsx("div",{style:{width:`${c}%`,height:"100%",backgroundColor:l,transition:"all 0.3s ease",boxShadow:`0 0 10px ${l}`}})})}function sj(a){const{power:n,energy:r}=a.data.data||{};return n===null&&r===null?m.jsx("div",{className:"power-stats-control",style:{fontSize:"10px",color:"#777",marginTop:"5px",fontFamily:"monospace"},children:"-- W / -- kWh"}):m.jsxs("div",{className:"power-stats-control",style:{display:"flex",flexDirection:"column",fontSize:"10px",color:"#e0f7fa",marginTop:"5px",fontFamily:"monospace"},onPointerDown:s=>s.stopPropagation(),children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[m.jsx("span",{children:"PWR:"}),m.jsx("span",{style:{color:"#00f3ff"},children:n!==null?`${n} W`:"--"})]}),r!==null&&m.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[m.jsx("span",{children:"NRG:"}),m.jsxs("span",{style:{color:"#ffaa00"},children:[r," kWh"]})]})]})}window.EDITOR_DEBUG=!1;const oj=window.EDITOR_DEBUG,ke=(...a)=>oj&&console.debug("[Editor]",...a),lj=Ea.memo(({data:a,socketKey:n,side:r})=>{let l=a?.name||"any";if(n&&typeof n=="string"){const f=n.toLowerCase();f.includes("hsv")||f.includes("color")?l="hsv_info":f.includes("trigger")||f.includes("enable")||f.includes("active")?l="boolean":(f.includes("light")||f.includes("device"))&&(l="light_info")}const c=`${n||"socket"} (${l})`;return Ea.createElement("div",{className:"rete-socket","data-socket-type":l,title:c})});function cj(){const a=x.useRef(null),[n,r]=x.useState(null),[s,l]=x.useState(null),[c,f]=x.useState(null),[h,p]=x.useState(null),[y,v]=x.useState(()=>{try{return localStorage.getItem("dockMergedIntoForecast")==="true"}catch{return!1}}),b=x.useRef(null),S=x.useRef(null);x.useEffect(()=>{try{localStorage.setItem("dockMergedIntoForecast",String(y))}catch{}},[y]);const k=x.useRef(!1),N=x.useRef(new Set),F=x.useRef(null),I=x.useRef(!1),J=x.useRef(null),Q=x.useRef(null),z=x.useRef(null),G=x.useRef({x:0,y:0}),de=x.useRef(!1),ce=x.useRef([]),[H,se]=x.useState({visible:!1,position:{x:0,y:0},items:[],nodeContext:null}),te=180,Z="favoriteNodes",[ue,_e]=x.useState(()=>{try{const X=localStorage.getItem(Z),re=X?JSON.parse(X):null,ee=R=>{const O=[];for(const q of Array.isArray(R)?R:[]){if(typeof q!="string")continue;const he=q.trim();he&&(O.includes(he)||O.push(he))}return O};if(Array.isArray(re)){const R=ee(re);return R.length?[{category:"Other",labels:R}]:[]}const Te=Array.isArray(re?.groups)?re.groups:Array.isArray(re?.favoriteGroups)?re.favoriteGroups:Array.isArray(re)?re:null;if(!Te)return[];const Se=[];for(const R of Te){const O=(R?.category||"Other").toString().trim()||"Other",q=ee(R?.labels);q.length!==0&&Se.push({category:O,labels:q})}return Se}catch{return[]}}),ze=x.useRef(null),[qe,Ge]=x.useState(!1),C=x.useRef(null),[Y,le]=x.useState(!1),[ve,xe]=x.useState(null);x.useEffect(()=>{try{localStorage.setItem(Z,JSON.stringify({version:2,groups:ue}))}catch{}},[ue]);const E=x.useCallback(X=>{const re=(X||"").toString().trim();if(!re)return;const Te=(En.getByLabel(re)?.category||"Other").toString().trim()||"Other";_e(Se=>{for(const q of Se)if(Array.isArray(q?.labels)&&q.labels.includes(re))return Se;const R=Se.map(q=>({category:q.category,labels:[...q.labels]})),O=R.findIndex(q=>q.category===Te);return O===-1?R.push({category:Te,labels:[re]}):R[O].labels.push(re),R})},[]),B=x.useCallback(X=>{const re=(X||"").toString().trim();re&&_e(ee=>{const Te=[];for(const Se of ee){const R=(Se?.labels||[]).filter(O=>O!==re);R.length!==0&&Te.push({category:Se.category,labels:R})}return Te})},[]),D=x.useCallback(async X=>{const re=a.current,ee=J.current,Te=Q.current;if(!re||!ee||!Te)return;const Se=re.getBoundingClientRect(),R={x:Se.left+Se.width/2,y:Se.top+Se.height/2};try{const he=window._t2GetMenuItems;if(typeof he=="function"){const ye=he();for(const Ne of ye||[])for(const Ae of Ne.subitems||[])if(Ae.label===X&&typeof Ae.handler=="function"){await Ae.handler(R);return}}}catch(he){console.warn("[Favorites] Failed to create via context handlers:",he)}const O=En.getByLabel(X);if(!O)return;const q=()=>{try{F.current?.()}catch{}};try{const he=O.factory(q);await ee.addNode(he);const ye=Te.area.transform,Ne=(R.x-ye.x)/ye.k,Ae=(R.y-ye.y)/ye.k;await Te.translate(he.id,{x:Ne,y:Ae})}catch(he){console.warn("[Favorites] Fallback create failed:",he)}},[]);x.useEffect(()=>{try{const X=En.getAll();if(X.length===0)return;const re=new Map;for(const ee of X)ee?.label&&re.set(ee.label,(ee.category||"Other").toString().trim()||"Other");_e(ee=>{const Te=[],Se=new Map,R=(O,q)=>{Se.has(O)||(Se.set(O,[]),Te.push(O));const he=Se.get(O);he.includes(q)||he.push(q)};for(const O of ee)for(const q of O?.labels||[]){const he=re.get(q);he&&R(he,q)}return Te.map(O=>({category:O,labels:Se.get(O)})).filter(O=>O.labels.length>0)})}catch{}},[n]);const V=x.useCallback(async X=>{await new Promise(K=>{const ie=()=>{const fe=X.getBoundingClientRect();fe.width>0&&fe.height>0?K():requestAnimationFrame(ie)};requestAnimationFrame(ie)});const re=new $r,ee=new Nb(X),Te=new bk,Se=new kC({createRoot:ob.createRoot}),R=new zC;re.use(R);let O=null,q=!1;const he=async()=>{q||(q=!0,O&&clearTimeout(O),O=setTimeout(async()=>{q=!1,O=null;const K=re.getNodes(),ie=re.getConnections();window._debugProcess&&(console.log("[Editor] process() - nodes:",K.map(me=>`${me.id}:${me.label}`)),console.log("[Editor] process() - connections:",ie.map(me=>`${me.source}:${me.sourceOutput} -> ${me.target}:${me.targetInput}`)),window._debugProcess=!1),R.reset();for(const me of K)try{await R.fetch(me.id)}catch{}},16))},ye=async()=>{O&&(clearTimeout(O),O=null),q=!1,R.reset();for(const K of re.getNodes())try{await R.fetch(K.id)}catch{}},Ne=new Set;let Ae=null;const Ze=K=>{Ne.add(K),Ae||(Ae=setTimeout(()=>{Ae=null,Ne.forEach(ie=>{ee.update("node",ie)}),Ne.clear(),he()},16))},Xe=()=>{he()},yt=()=>{const K=En.getAll(),ie={};K.forEach(De=>{const Ie=De.category||"Other";ie[Ie]||(ie[Ie]=[]),ie[Ie].push({label:De.label,order:De.order,description:De.description,handler:async Ut=>{let Jt;const Vt=()=>{De.updateStrategy==="dataflow"?Xe():Ze(Jt.id)};Jt=De.factory(Vt),await re.addNode(Jt);const It=ee.area.transform,Sn=(Ut.x-It.x)/It.k,_n=(Ut.y-It.y)/It.k;await ee.translate(Jt.id,{x:Sn,y:_n})}})});const fe=window.T2Controls?.THEME?.categories||{};return Object.entries(ie).map(([De,Ie])=>({label:De,icon:fe[De]?.icon||"",subitems:Ie.sort((Ut,Jt)=>{const Vt=Ut.order??999,It=Jt.order??999;return Vt!==It?Vt-It:Ut.label.localeCompare(Jt.label)})})).sort((De,Ie)=>De.label.localeCompare(Ie.label))};window._t2GetMenuItems=yt,window._t2Editor=re,window._t2Area=ee;const je=Mr.selector();Se.addPreset(Td.classic.setup({customize:{node(K){const ie=En.getByInstance(K.payload);return ie?ie.component:Td.classic.Node},socket(K){const ie=K.key,fe=K.side;return function({data:De}){return Ea.createElement(lj,{data:De,socketKey:ie,side:fe})}},control(K){if(K.payload instanceof Gt.Control){const fe=K.payload.constructor.name;if(fe==="ButtonControl")return QN;if(fe==="DropdownControl")return JN;if(fe==="TextControl")return WN;if(fe==="SwitchControl")return ej;if(fe==="NumberControl")return tj;if(fe==="InputControl")return nj;if(fe==="DeviceStateControl")return aj;if(fe==="StatusIndicatorControl")return rj;if(fe==="ColorBarControl")return ij;if(fe==="PowerStatsControl")return sj}return Td.classic.Control}}})),Te.addPreset(pk.classic.setup()),re.use(ee),ee.use(Te),ee.use(Se),Mr.selectableNodes(ee,je,{accumulating:Mr.accumulateOnCtrl()}),Mr.simpleNodesOrder(ee),re.addPipe(K=>{if(K.type==="nodecreated"){const ie=K.data,fe=En.getByInstance(ie);fe&&fe.isBackdrop&&setTimeout(()=>{const me=ee.nodeViews.get(ie.id);me&&me.element&&(me.element.style.zIndex="-10",ke("[Backdrop] Set z-index on creation for:",ie.id))},50)}return K});let Ee=!1,Ue=!1,kt={x:0,y:0};Te.addPipe(K=>(K.type==="connectionpick"?(Ee=!0,ke(" Connection pick - wire dragging started")):K.type==="connectiondrop"&&(Ee=!1,Ue=!1,ke(" Connection drop - wire dragging ended")),K));const Xt=K=>{if(Ee)if(K.ctrlKey||K.metaKey)if(!Ue)Ue=!0,kt={x:K.clientX,y:K.clientY},X.style.cursor="grab";else{const ie=K.clientX-kt.x,fe=K.clientY-kt.y;if(ie!==0||fe!==0){const me=ee.area.transform;ee.area.translate(me.x+ie,me.y+fe),kt={x:K.clientX,y:K.clientY}}}else Ue&&(Ue=!1,X.style.cursor="")},Bt=K=>{(K.key==="Control"||K.key==="Meta")&&Ue&&(Ue=!1,X.style.cursor="")};window.addEventListener("pointermove",Xt),window.addEventListener("keyup",Bt);let un=!1,A=!1,M=null,oe=!1,be={x:0,y:0},Re={x:0,y:0};const At=K=>{K.code==="Space"&&un&&M&&(oe=!0,Re={x:0,y:0},K.preventDefault())},Wn=K=>{if(K.code==="Space"&&(oe=!1,A&&M)){const ie=ee.nodeViews.get(M);if(ie){const fe=ee.area.transform,me=Re.x/fe.k,De=Re.y/fe.k,Ie={x:ie.position.x-me,y:ie.position.y-De};k.current=!0,ee.translate(M,Ie).finally(()=>{k.current=!1})}A=!1,X.style.cursor=""}},Ke=K=>{if(!(!un||!M))if(oe)if(!A)A=!0,be={x:K.clientX,y:K.clientY},Re={x:0,y:0},X.style.cursor="grab";else{const ie=K.clientX-be.x,fe=K.clientY-be.y;if(ie!==0||fe!==0){const me=ee.area.transform;ee.area.translate(me.x+ie,me.y+fe),Re.x+=ie,Re.y+=fe,be={x:K.clientX,y:K.clientY}}}else A&&(A=!1,X.style.cursor="")};window.addEventListener("keydown",At,!0),window.addEventListener("keyup",Wn,!0),X.addEventListener("pointermove",Ke,!0);const rt=document.createElement("div");rt.classList.add("selection-box"),X.appendChild(rt);let ft=!1,pt={x:0,y:0};const hn=N.current,ks=()=>{ft&&(ke(" Safety reset: clearing stuck lasso selection"),ft=!1,rt.style.display="none")},Cs=()=>{ks(),window.resetEditorDragState&&window.resetEditorDragState()},yi=()=>{document.hidden&&(ks(),window.resetEditorDragState&&window.resetEditorDragState())};window.addEventListener("blur",Cs),document.addEventListener("visibilitychange",yi);const gi=K=>{try{const ie=K.target;ie&&(ie.tagName==="INPUT"||ie.tagName==="TEXTAREA"||ie.isContentEditable)||(X.tabIndex=-1,X.focus())}catch{}if((K.ctrlKey||K.metaKey)&&K.button===0){K.stopPropagation(),K.preventDefault(),ft=!0;const ie=X.getBoundingClientRect();pt={x:K.clientX-ie.left,y:K.clientY-ie.top},rt.style.display="block",rt.style.left=`${pt.x}px`,rt.style.top=`${pt.y}px`,rt.style.width="0px",rt.style.height="0px",K.shiftKey||(hn.forEach(fe=>{const me=ee.nodeViews.get(fe);me&&me.element&&(me.element.classList.remove("selected"),me.element.style.outline="")}),hn.clear(),je&&je.entities&&Array.from(je.entities).forEach(fe=>je.remove(fe)))}},Ts=K=>{if(!ft)return;const ie=X.getBoundingClientRect(),fe=K.clientX-ie.left,me=K.clientY-ie.top,De=Math.min(pt.x,fe),Ie=Math.min(pt.y,me),Ut=Math.abs(fe-pt.x),Jt=Math.abs(me-pt.y);rt.style.left=`${De}px`,rt.style.top=`${Ie}px`,rt.style.width=`${Ut}px`,rt.style.height=`${Jt}px`},Os=K=>{if(!ft)return;const ie=rt.getBoundingClientRect();if(ft=!1,rt.style.display="none",ie.width<5&&ie.height<5)return;const fe=[];re.getNodes().forEach(me=>{const De=ee.nodeViews.get(me.id);if(De&&De.element){const Ie=De.element.getBoundingClientRect();ie.left<=Ie.left&&ie.right>=Ie.right&&ie.top<=Ie.top&&ie.bottom>=Ie.bottom&&fe.push({node:me,view:De})}}),fe.forEach(({node:me,view:De})=>{hn.add(me.id),je.add({id:me.id,label:"node",translate(Ie,Ut){},unselect(){De.element.classList.remove("selected"),De.element.style.outline=""}},!1),De.element.classList.add("selected"),De.element.style.outline="3px solid #00f3ff"})},ln=()=>{hn.size>0&&(hn.forEach(K=>{const ie=ee.nodeViews.get(K);ie&&ie.element&&(ie.element.classList.remove("selected"),ie.element.style.outline="")}),hn.clear()),je&&je.entities&&(je.entities instanceof Map?Array.from(je.entities.values()):Array.from(je.entities)).forEach(ie=>{ie.unselect&&ie.unselect(),je.remove(ie)}),re.getNodes().forEach(K=>{const ie=ee.nodeViews.get(K.id);ie&&ie.element&&ie.element.classList.remove("selected")})},pn=K=>{if(!K.ctrlKey&&!K.metaKey&&!ft){let ie=!1;for(const[fe,me]of ee.nodeViews)if(me.element.contains(K.target)){ie=!0;break}if(!ie){const fe=K.target;(fe===X||fe.classList.contains("rete-area")||fe.closest('[data-testid="area"]'))&&ln()}}};X.addEventListener("pointerdown",gi,{capture:!0}),X.addEventListener("click",pn),window.addEventListener("pointermove",Ts),window.addEventListener("pointerup",Os),re.addPipe(K=>((K.type==="connectioncreated"||K.type==="connectionremoved")&&he(),K));let Nn={activeBackdropId:null,isDragging:!1},Ua=!1,Ia=null;const Vr=K=>{Ua=K,Ia&&(clearTimeout(Ia),Ia=null),K&&(Ia=setTimeout(()=>{Ua&&(ke(" Safety reset: clearing stuck isGroupMoving"),Ua=!1),Ia=null},500))},Ho=()=>{ft&&(ke(" Resetting stuck lasso selection"),ft=!1,rt.style.display="none"),Ua&&(ke(" Resetting stuck group moving"),Vr(!1)),Nn.isDragging&&(ke(" Resetting stuck backdrop drag"),Nn.isDragging=!1,Nn.activeBackdropId=null)};window.resetEditorDragState=Ho;function $a(){const K=re.getNodes(),ie=K.filter(me=>{const De=En.getByInstance(me);return De&&De.isBackdrop}),fe=K.filter(me=>{const De=En.getByInstance(me);return!De||!De.isBackdrop});ie.forEach(me=>{const De=ee.nodeViews.get(me.id);if(!De)return;De.element&&(De.element.style.zIndex="-10");const Ie=De.position,Ut=[],Jt=me.properties.width||400,Vt=me.properties.height||300;fe.forEach(Sn=>{const _n=ee.nodeViews.get(Sn.id);if(!_n)return;_n.element&&parseInt(_n.element.style.zIndex||"0",10)<0&&(_n.element.style.zIndex="1");const Ha=_n.position,Pc=Sn.width||180,vi=Sn.height||100,qr=Ha.x+Pc/2,ea=Ha.y+vi/2;qr>=Ie.x&&qr<=Ie.x+Jt&&ea>=Ie.y&&ea<=Ie.y+Vt&&Ut.push(Sn.id)});const It=me.properties.capturedNodes.length;me.properties.capturedNodes=Ut,It!==Ut.length&&me.changeCallback&&me.changeCallback()})}return ee.updateBackdropCaptures=$a,ee.addPipe(K=>{if(K.type==="nodepicked"){const ie=K.data.id,fe=re.getNode(ie);un=!0,M=ie,A=!1;try{if(fe&&C?.current!==void 0){const De=ee.nodeViews.get(ie)?.position||{x:0,y:0};C.current={nodeId:ie,label:fe.label,startPos:De,active:!1,over:!1}}}catch{}if(fe){const De=En.getByInstance(fe);if(De&&De.isBackdrop&&fe.properties.locked)return}!de.current&&!hn.has(ie)&&(hn.forEach(De=>{const Ie=ee.nodeViews.get(De);Ie&&Ie.element&&(Ie.element.classList.remove("selected"),Ie.element.style.outline="")}),hn.clear()),hn.add(ie);const me=ee.nodeViews.get(ie);me&&me.element&&(me.element.classList.add("selected"),me.element.style.outline="3px solid #00f3ff")}return K}),ee.addPipe(K=>{try{if(k.current)return K;const ie=fe=>{const me=ze.current?.getBoundingClientRect();if(!me)return!1;const Ie=ee.nodeViews.get(fe)?.element;if(!Ie)return!1;const Ut=Ie.getBoundingClientRect(),Jt=Ut.left+Ut.width/2,Vt=Ut.top+Ut.height/2;return Jt>=me.left&&Jt<=me.right&&Vt>=me.top&&Vt<=me.bottom};if(K.type==="nodetranslate"){const fe=C.current;if(!fe)return K;const me=K.data?.id;if(!me||fe.nodeId!==me)return K;fe.active||(fe.active=!0,!fe.startPos&&K.data?.previous&&(fe.startPos=K.data.previous));const De=ie(me);return De!==fe.over&&(fe.over=De,Ge(De)),K}if(K.type==="nodedragged"){const fe=C.current;if(!fe)return K;const me=K.data?.id;if(!me||fe.nodeId!==me)return K;if(fe.active&&ie(me)){E(fe.label);const Ie=fe.startPos;Ie&&setTimeout(()=>{try{ee.translate(me,Ie)}catch{}},0)}return C.current=null,Ge(!1),K}}catch{}return K}),ee.addPipe(K=>{if(K.type==="render"&&K.data?.payload){const ie=K.data.payload,fe=En.getByInstance(ie);fe&&fe.isBackdrop&&setTimeout(()=>{const me=ee.nodeViews.get(ie.id);if(me&&me.element){me.element.style.zIndex!=="-10"&&(me.element.style.zIndex="-10");const De=ie.properties.locked?"none":"auto";me.element.style.pointerEvents!==De&&(me.element.style.pointerEvents=De)}},0)}if(K.type==="nodetranslate"){if(k.current||Ua)return K;const ie=K.data.id,fe=re.getNode(ie);if(!fe)return K;const me=K.data.position,De=K.data.previous,Ie=me.x-De.x,Ut=me.y-De.y;if(Ie===0&&Ut===0)return K;if(A&&M===ie)return{...K,data:{...K.data,position:K.data.previous}};if(hn.size>1&&hn.has(ie)){Vr(!0);const Vt=[];return hn.forEach(It=>{if(It!==ie){const Sn=ee.nodeViews.get(It);if(Sn){const _n=Sn.position.x+Ie,Ha=Sn.position.y+Ut;Vt.push(ee.translate(It,{x:_n,y:Ha}))}}}),Promise.all(Vt).then(()=>{Vr(!1)}),K}const Jt=En.getByInstance(fe);if(Jt&&Jt.isBackdrop){if(fe.properties.locked)return{...K,data:{...K.data,position:K.data.previous}};if(Nn.activeBackdropId!==ie&&(Nn.activeBackdropId=ie,Nn.isDragging=!0,$a()),fe.properties.capturedNodes.length>0){Vr(!0);const Vt=[];return fe.properties.capturedNodes.forEach(It=>{if(!hn.has(It)){const Sn=ee.nodeViews.get(It);if(Sn){const _n=Sn.position.x+Ie,Ha=Sn.position.y+Ut;Vt.push(ee.translate(It,{x:_n,y:Ha}))}}}),Promise.all(Vt).then(()=>{Vr(!1)}),K}}}if(K.type==="nodedragged"){if(k.current)return K;Nn.isDragging=!1,Nn.activeBackdropId=null,un=!1,M=null,A&&(A=!1,X.style.cursor=""),$a()}return K}),J.current=re,Q.current=ee,z.current=je,window.updateBackdropLockState=(K,ie)=>{const fe=ee.nodeViews.get(K);fe&&fe.element&&(fe.element.style.pointerEvents=ie?"none":"auto",ke(" Updated backdrop lock state:",K,"locked:",ie))},r(re),l(ee),f(R),{destroy:()=>{X.removeEventListener("pointerdown",gi,{capture:!0}),X.removeEventListener("click",pn),X.removeEventListener("pointermove",Ke,!0),window.removeEventListener("pointermove",Ts),window.removeEventListener("pointerup",Os),window.removeEventListener("pointermove",Xt),window.removeEventListener("keyup",Bt),window.removeEventListener("keydown",At,!0),window.removeEventListener("keyup",Wn,!0),window.removeEventListener("blur",Cs),document.removeEventListener("visibilitychange",yi),Ia&&clearTimeout(Ia),rt.parentNode&&rt.parentNode.removeChild(rt),ee.destroy()},selector:je,editor:re,area:ee,engine:R,process:he,processImmediate:ye}},[]);x.useEffect(()=>{const X=a.current;if(!X)return;let re=null,ee=null,Te=null;const Se=new Map,R=ye=>{try{typeof ye.pointerId=="number"&&Se.set(ye.pointerId,{el:ye.target,pointerType:ye.pointerType||"mouse"})}catch{}},O=ye=>{try{typeof ye.pointerId=="number"&&Se.delete(ye.pointerId)}catch{}},q=ye=>{try{typeof ye.pointerId=="number"&&Se.delete(ye.pointerId)}catch{}};X.addEventListener("gotpointercapture",R,!0),X.addEventListener("lostpointercapture",O,!0),window.addEventListener("pointerup",q,!0),window.addEventListener("pointercancel",q,!0),ee=HN().then(()=>(ke(" External plugins loaded, now creating editor..."),V(X))).then(ye=>{ye.editor,re=ye.area,ye.engine,ye.selector,r(ye.editor),l(ye.area),f(ye.engine),p(ye.selector),F.current=ye.processImmediate,setTimeout(()=>{if(X){X.tabIndex=-1,X.focus();const Ae=X.getBoundingClientRect(),Ze=Ae.left+Ae.width/2,Xe=Ae.top+Ae.height/2,yt=new WheelEvent("wheel",{bubbles:!0,cancelable:!0,clientX:Ze,clientY:Xe,deltaY:0});X.dispatchEvent(yt),ke(" Container initialized and focused"),window.resetEditorView=()=>{ke(" Manual reset triggered"),requestAnimationFrame(()=>{window.resetEditorDragState&&window.resetEditorDragState();const je=X.getBoundingClientRect(),Ee=je.left+je.width/2,Ue=je.top+je.height/2;X.tabIndex=-1,X.focus();try{const Xt=Array.from(Se.entries());Se.clear(),Xt.forEach(([Bt,un])=>{const A=un?.el,M=un?.pointerType||"mouse";try{const oe=new PointerEvent("pointercancel",{bubbles:!0,cancelable:!0,pointerId:Bt,pointerType:M});X.dispatchEvent(oe)}catch{}try{X.releasePointerCapture(Bt)}catch{}try{A&&typeof A.releasePointerCapture=="function"&&A.releasePointerCapture(Bt)}catch{}})}catch{}try{for(let Bt=0;Bt<5;Bt++)try{X.releasePointerCapture(Bt)}catch{}X.querySelectorAll(".node, .connection, [data-drag]").forEach(Bt=>{try{Bt.releasePointerCapture(1)}catch{}})}catch{}if(re){const Xt=new PointerEvent("pointercancel",{bubbles:!0,cancelable:!0,pointerId:1,pointerType:"mouse"});X.dispatchEvent(Xt);const Bt=new PointerEvent("lostpointercapture",{bubbles:!0,cancelable:!0,pointerId:1,pointerType:"mouse"});X.dispatchEvent(Bt)}setTimeout(()=>{const Xt=new PointerEvent("pointerdown",{bubbles:!0,cancelable:!0,clientX:Ee,clientY:Ue,pointerId:1,pointerType:"mouse",isPrimary:!0,button:0,buttons:1}),Bt=new PointerEvent("pointerup",{bubbles:!0,cancelable:!0,clientX:Ee,clientY:Ue,pointerId:1,pointerType:"mouse",isPrimary:!0,button:0,buttons:0});X.dispatchEvent(Xt),setTimeout(()=>{X.dispatchEvent(Bt);const un=new WheelEvent("wheel",{bubbles:!0,cancelable:!0,clientX:Ee,clientY:Ue,deltaY:0});X.dispatchEvent(un),ke(" Reset complete")},50)},50)})}}},100);let Ne=!1;return Te=new ResizeObserver(Ae=>{for(const Ze of Ae){const{width:Xe,height:yt}=Ze.contentRect;!Ne&&Xe>0&&yt>0&&(Ne=!0,ke(" ResizeObserver: Container now has size",Xe,yt),setTimeout(()=>{X.focus();const je=X.getBoundingClientRect(),Ee=new WheelEvent("wheel",{bubbles:!0,cancelable:!0,clientX:je.left+je.width/2,clientY:je.top+je.height/2,deltaY:0});X.dispatchEvent(Ee)},50))}}),Te.observe(X),ye});const he=()=>{ke(" graphLoadComplete event received - triggering view reset");const ye=()=>{window.resetEditorView&&window.resetEditorView()};ye(),setTimeout(ye,100),setTimeout(ye,500),setTimeout(ye,1e3)};return window.addEventListener("graphLoadComplete",he),()=>{Te&&Te.disconnect(),window.removeEventListener("graphLoadComplete",he),X.removeEventListener("gotpointercapture",R,!0),X.removeEventListener("lostpointercapture",O,!0),window.removeEventListener("pointerup",q,!0),window.removeEventListener("pointercancel",q,!0),ee.then(ye=>ye.destroy())}},[V]),x.useEffect(()=>{if(!n||!s||!h)return;const X=async O=>{if(O.target.tagName==="INPUT"||O.target.tagName==="TEXTAREA"||O.target.isContentEditable)return;if(ke(` KeyDown: ${O.code} (Ctrl: ${O.ctrlKey}, Meta: ${O.metaKey})`),O.code==="F5"||(O.ctrlKey||O.metaKey)&&O.shiftKey&&O.code==="KeyR"){O.preventDefault(),ke(" View reset shortcut triggered"),window.resetEditorView&&window.resetEditorView();return}if(O.code==="KeyF"&&!O.ctrlKey&&!O.metaKey&&!O.altKey){O.preventDefault();const Ae=Q.current,Ze=J.current;if(Ae&&Ze){const Xe=Ze.getNodes();Xe.length>0&&(ke(" Zoom extents triggered (F key)"),Mr.zoomAt(Ae,Xe,{scale:.9}).catch(yt=>{console.warn("[F key] zoomAt failed:",yt)}))}return}const q=J.current,he=Q.current,ye=z.current;if(!q||!he){ke(" No editor/area ref available");return}const Ne=()=>{const Ae=new Set;if(ye&&ye.entities&&ye.entities instanceof Map)for(const[Ze,Xe]of ye.entities)q.getNode(Ze)&&Ae.add(Ze);for(const Ze of N.current){const Xe=q.getNode(Ze);ke(` Checking node ${Ze}: exists=${!!Xe}`),Xe&&Ae.add(Ze)}return ke(` Found ${Ae.size} selected nodes:`,Array.from(Ae)),Array.from(Ae)};if(O.code==="Delete"||O.code==="Backspace"){ke(" Delete key pressed. lassoSelectedNodesRef.current size:",N.current.size),ke(" lassoSelectedNodesRef.current contents:",Array.from(N.current));const Ae=Ne();if(ke(` Deleting ${Ae.length} nodes:`,Ae),Ae.length>0){const Ze=[],Xe=[],yt=new Set(Ae);for(const je of q.getConnections())(yt.has(je.source)||yt.has(je.target))&&Xe.push({source:je.source,target:je.target,sourceOutput:je.sourceOutput,targetInput:je.targetInput});for(const je of Ae){const Ee=q.getNode(je);Ee&&Ze.push({id:je,label:Ee.label,position:he.nodeViews.get(je)?.position||{x:0,y:0},properties:JSON.parse(JSON.stringify(Ee.properties||{}))})}ce.current.push({type:"delete",nodes:Ze,connections:Xe}),ke(" Saved undo state:",ce.current.length,"items in stack");for(const je of Ae){const Ee=q.getConnections().filter(Ue=>Ue.source===je||Ue.target===je);for(const Ue of Ee)await q.removeConnection(Ue.id);await q.removeNode(je),N.current.delete(je)}}}if((O.ctrlKey||O.metaKey)&&O.code==="KeyZ"&&!O.shiftKey){if(O.preventDefault(),ce.current.length===0){ke(" Nothing to undo");return}const Ae=ce.current.pop();if(ke(" Undoing:",Ae.type,Ae.nodes.length,"nodes"),Ae.type==="delete"){const Ze={};k.current=!0;try{for(const Xe of Ae.nodes){const yt=En.getByLabel(Xe.label);if(yt){let je;const Ee=()=>{he&&he.update("node",je.id),c&&q&&(c.reset(),setTimeout(()=>{q.getNodes().forEach(async kt=>{try{await c.fetch(kt.id)}catch{}})},0))},Ue=()=>{yt.updateStrategy==="dataflow"?(c&&c.reset(),c&&q&&setTimeout(()=>{q.getNodes().forEach(async kt=>{try{await c.fetch(kt.id)}catch{}})},0)):Ee()};je=yt.factory(Ue),Xe.properties&&Object.assign(je.properties,Xe.properties),await q.addNode(je),await he.translate(je.id,Xe.position),Ze[Xe.id]=je.id}}for(const Xe of Ae.connections){const yt=Ze[Xe.source]||Xe.source,je=Ze[Xe.target]||Xe.target,Ee=q.getNode(yt),Ue=q.getNode(je);if(Ee&&Ue)try{await q.addConnection(new Gt.Connection(Ee,Xe.sourceOutput,Ue,Xe.targetInput))}catch(kt){console.warn("[Editor] Could not restore connection:",kt)}}ke(" Undo complete - restored",Ae.nodes.length,"nodes")}finally{k.current=!1,he?.updateBackdropCaptures?.()}}}if((O.ctrlKey||O.metaKey)&&O.code==="KeyC")try{const Ae=Ne();if(Ae.length===0){ke(" Nothing selected to copy");return}ke(` Copying ${Ae.length} nodes`);const Ze=[],Xe=new Set(Ae);for(const Ee of Ae){const Ue=q.getNode(Ee);Ue&&Ze.push({label:Ue.label,position:he.nodeViews.get(Ue.id)?.position||{x:0,y:0},data:{id:Ue.id,properties:JSON.parse(JSON.stringify(Ue.properties||{}))}})}if(Ze.length===0){ke(" Nothing selected to copy (no nodes in selection)");return}const yt=[];for(const Ee of q.getConnections())Xe.has(Ee.source)&&Xe.has(Ee.target)&&yt.push({source:Ee.source,target:Ee.target,sourceOutput:Ee.sourceOutput,targetInput:Ee.targetInput});const je={nodes:Ze,connections:yt};localStorage.setItem("rete-clipboard",JSON.stringify(je)),ke("Copied to clipboard:",je)}catch(Ae){console.error("[Editor] Copy failed:",Ae)}if((O.ctrlKey||O.metaKey)&&O.code==="KeyV"){const Ae=localStorage.getItem("rete-clipboard");if(!Ae){ke(" Clipboard empty");return}try{const Ze=JSON.parse(Ae),Xe={},je=(Q.current?.container||a.current)?.getBoundingClientRect()||{left:0,top:0},Ee=he.area.transform,Ue=(G.current.x-je.left-Ee.x)/Ee.k,kt=(G.current.y-je.top-Ee.y)/Ee.k;let Xt=1/0,Bt=1/0;for(const A of Ze.nodes)Xt=Math.min(Xt,A.position.x),Bt=Math.min(Bt,A.position.y);ye&&ye.entities&&Array.from(ye.entities).forEach(A=>ye.remove(A)),k.current=!0;try{for(const A of Ze.nodes){let M;const oe=En.getByLabel(A.label);if(oe){const be=()=>{he&&he.update("node",M.id),c&&q&&(c.reset(),setTimeout(()=>{q.getNodes().forEach(async At=>{try{await c.fetch(At.id)}catch{}})},0))},Re=()=>{oe.updateStrategy==="dataflow"?(c&&c.reset(),c&&q&&setTimeout(()=>{q.getNodes().forEach(async At=>{try{await c.fetch(At.id)}catch{}})},0)):be()};M=oe.factory(Re)}if(M){typeof M.restore=="function"&&A.data?M.restore(A.data):A.data&&A.data.properties&&M.properties&&Object.assign(M.properties,A.data.properties),await q.addNode(M);const be=A.position.x-Xt,Re=A.position.y-Bt,At={x:Ue+be,y:kt+Re};await he.translate(M.id,At),Xe[A.data.id]=M.id,ye&&ye.add({id:M.id,label:"node",translate:()=>{},unmount:()=>{},unselect:()=>{}},!0)}}}finally{k.current=!1,he?.updateBackdropCaptures?.()}const un=[];for(const A of Ze.connections){const M=Xe[A.source],oe=Xe[A.target];if(M&&oe){const be=q.getNode(M),Re=q.getNode(oe);be&&Re&&un.push(q.addConnection(new Gt.Connection(be,A.sourceOutput,Re,A.targetInput)))}}if(await Promise.all(un),c&&q){c.reset();for(const A of q.getNodes())try{await c.fetch(A.id)}catch{}}ke("Pasted from clipboard")}catch(Ze){console.error("[Editor] Paste failed:",Ze)}}O.code==="Home"&&(O.preventDefault(),he.area&&(he.area.zoom(1,0,0),he.area.translate(0,0),ke(" Viewport reset via Home key"))),O.code==="Escape"&&window.resetEditorDragState&&(window.resetEditorDragState(),ke(" Drag state reset via Escape key"))},re=O=>{G.current={x:O.clientX,y:O.clientY}},ee=O=>{O.key==="Shift"&&(de.current=!0)},Te=O=>{O.key==="Shift"&&(de.current=!1)},Se=()=>{ke(" Received delete from Electron IPC"),X({code:"Delete",ctrlKey:!1,metaKey:!1,target:{tagName:"DIV",isContentEditable:!1}})};let R=null;return window.api&&window.api.onDeleteKey&&(R=window.api.onDeleteKey(Se)),window.addEventListener("keydown",X),window.addEventListener("keydown",ee),window.addEventListener("keyup",Te),window.addEventListener("mousemove",re),()=>{window.removeEventListener("keydown",X),window.removeEventListener("keydown",ee),window.removeEventListener("keyup",Te),window.removeEventListener("mousemove",re),R&&R()}},[n,s,c,h]),x.useEffect(()=>{const X=a.current;if(!X||!n||!s)return;const re=ee=>{const Te=ee.target.closest('[data-testid="node"]');if(Te){ee.preventDefault();const Se=Te.dataset.nodeId||Array.from(s.nodeViews.entries()).find(([R,O])=>O.element===Te)?.[0];if(Se){const R=n.getNode(Se);se({visible:!0,position:{x:ee.clientX,y:ee.clientY},items:[{label:"Delete",handler:async()=>{const O=n.getConnections().filter(q=>q.source===Se||q.target===Se);for(const q of O)await n.removeConnection(q.id);await n.removeNode(Se)}}],nodeContext:R})}}else{ee.preventDefault();const Se=window._t2GetMenuItems?window._t2GetMenuItems():[];se({visible:!0,position:{x:ee.clientX,y:ee.clientY},items:Se,nodeContext:null})}};return X.addEventListener("contextmenu",re),()=>{X.removeEventListener("contextmenu",re)}},[n,s]);const pe=x.useCallback(()=>{se(X=>({...X,visible:!1}))},[]),Oe=x.useCallback(async X=>{X.handler&&await X.handler(H.position)},[H.position]),Ve=async()=>{if(!(!n||!s))try{const X=n.getNodes().map(Ne=>{const Ae=typeof Ne.toJSON=="function"?Ne.toJSON():{...Ne};return Ne.properties&&(Ae.properties=Ne.properties),{id:Ne.id,label:Ne.label,position:s.nodeViews.get(Ne.id)?.position||{x:0,y:0},data:Ae}}),re=n.getConnections().map(Ne=>({id:Ne.id,source:Ne.source,target:Ne.target,sourceOutput:Ne.sourceOutput,targetInput:Ne.targetInput})),ee=s.area?.transform?{x:s.area.transform.x,y:s.area.transform.y,k:s.area.transform.k}:{x:0,y:0,k:1},Te={nodes:X,connections:re,viewport:ee},Se=JSON.stringify(Te,null,2);if(window.self!==window.top||window.location.pathname.includes("/api/hassio")){ke("Running in HA ingress - showing save dialog"),xe(Te),le(!0);return}try{Se.length<2e6&&(localStorage.removeItem("saved-graph"),localStorage.setItem("saved-graph",Se))}catch{console.warn("localStorage skipped")}ke("Graph saved to localStorage");try{const Ne=await fetch(Kn("/api/engine/save-active"),{method:"POST",headers:{"Content-Type":"application/json"},body:Se});Ne.ok?ke("[handleSave] Graph saved to server as last active"):console.warn("[handleSave] Failed to save to server:",Ne.status)}catch(Ne){console.warn("[handleSave] Failed to save to server:",Ne)}if(window.api?.saveTempFile)try{await window.api.saveTempFile("autotron_graph.json",Se),ke("[handleSave] Saved temp file for Electron reload")}catch(Ne){console.warn("[handleSave] Failed to save temp file via Electron API",Ne)}if(window.showSaveFilePicker)try{const Ae=await(await window.showSaveFilePicker({suggestedName:"autotron_graph.json",types:[{description:"AutoTron Graph",accept:{"application/json":[".json"]}}]})).createWritable();await Ae.write(Se),await Ae.close(),ke("Graph saved to file");return}catch(Ne){if(Ne.name==="AbortError")return;console.warn("File System Access API failed, falling back to download",Ne)}const q=new Blob([Se],{type:"application/json"}),he=URL.createObjectURL(q),ye=document.createElement("a");ye.href=he,ye.download=`autotron_graph_${Date.now()}.json`,ye.click(),URL.revokeObjectURL(he),ke("Graph saved via download")}catch(X){console.error("Failed to save graph:",X)}};x.useEffect(()=>(window.triggerGraphSave=async()=>{if(!(!n||!s))try{const X=n.getNodes().map(R=>{const O=typeof R.toJSON=="function"?R.toJSON():{...R};return R.properties&&(O.properties=R.properties),{id:R.id,label:R.label,position:s.nodeViews.get(R.id)?.position||{x:0,y:0},data:O}}),re=n.getConnections().map(R=>({id:R.id,source:R.source,target:R.target,sourceOutput:R.sourceOutput,targetInput:R.targetInput})),ee=s.area?.transform?{x:s.area.transform.x,y:s.area.transform.y,k:s.area.transform.k}:{x:0,y:0,k:1},Te={nodes:X,connections:re,viewport:ee,preUpdateSave:!0,timestamp:Date.now()},Se=JSON.stringify(Te);Se.length<2e6&&(localStorage.setItem("saved-graph",Se),ke("[triggerGraphSave] Graph saved before update"))}catch(X){console.warn("[triggerGraphSave] Failed:",X)}},()=>{delete window.triggerGraphSave}),[n,s]);const[et,Je]=x.useState(!1),Ht=x.useRef(null),Zt=x.useRef(Date.now());x.useEffect(()=>{if(!n)return;const X=()=>{Je(!0)};n.addPipe(re=>(["nodecreated","noderemoved","connectioncreated","connectionremoved"].includes(re.type)&&X(),re))},[n]),x.useEffect(()=>{if(!n||!s)return;const X=async()=>{if(!(window.graphLoading||I.current)&&et)try{const re=n.getNodes().map(O=>{const q=typeof O.toJSON=="function"?O.toJSON():{...O};return O.properties&&(q.properties=O.properties),{id:O.id,label:O.label,position:s.nodeViews.get(O.id)?.position||{x:0,y:0},data:q}}),ee=n.getConnections().map(O=>({id:O.id,source:O.source,target:O.target,sourceOutput:O.sourceOutput,targetInput:O.targetInput})),Te=s.area?.transform?{x:s.area.transform.x,y:s.area.transform.y,k:s.area.transform.k}:{x:0,y:0,k:1},Se={nodes:re,connections:ee,viewport:Te,autoSaved:!0,timestamp:Date.now()},R=JSON.stringify(Se);if(R.length<2e6){localStorage.setItem("saved-graph",R),Zt.current=Date.now(),Je(!1);try{await fetch(Kn("/api/engine/save-active"),{method:"POST",headers:{"Content-Type":"application/json"},body:R})}catch{}window.T2Toast&&window.T2Toast.success("Auto-saved",2e3)}}catch(re){console.warn("[Auto-save] Failed:",re)}};return Ht.current=setInterval(X,12e4),()=>{Ht.current&&clearInterval(Ht.current)}},[n,s,et]),x.useEffect(()=>{if(!n||!s||!c)return;if(sessionStorage.getItem("autoLoadAfterUpdate")==="true"){sessionStorage.removeItem("autoLoadAfterUpdate"),ke("[AutoLoad] Detected post-update reload, attempting to restore graph...");const re=setTimeout(async()=>{try{const ee=localStorage.getItem("saved-graph");if(ee){ke("[AutoLoad] Found saved graph, loading...");const Te=JSON.parse(ee);Te.nodes&&Te.nodes.length>0&&(window.T2Toast&&window.T2Toast.info("Restoring your graph after update...",3e3),document.dispatchEvent(new CustomEvent("autoLoadGraph")))}}catch(ee){console.warn("[AutoLoad] Failed to auto-load graph:",ee)}},1e3);return()=>clearTimeout(re)}},[n,s,c]);const $e=x.useRef(!1);x.useEffect(()=>{if(!n||!s||!c||$e.current)return;if(window.self!==window.top||window.location.pathname.includes("/api/hassio")){ke("[ServerAutoLoad] Skipping - HA ingress mode, user should click Load Last"),$e.current=!0;return}const ee=localStorage.getItem("saved-graph"),Te=sessionStorage.getItem("autoLoadAfterUpdate")==="true";if(ee||Te){ke("[ServerAutoLoad] Skipping - desktop mode with local graph");return}$e.current=!0;const R=setTimeout(async()=>{try{ke("[ServerAutoLoad] Fetching last active graph from server...");const q=await(await fetch(Kn("/api/engine/last-active"))).json();q.success&&q.graph?(ke("[ServerAutoLoad] Found last active graph, loading..."),localStorage.setItem("saved-graph",JSON.stringify(q.graph)),window.T2Toast&&window.T2Toast.info("Loading your last graph...",2e3),setTimeout(()=>{document.dispatchEvent(new CustomEvent("autoLoadGraph"))},500)):ke("[ServerAutoLoad] No last active graph on server")}catch(O){console.warn("[ServerAutoLoad] Failed to fetch from server:",O)}},1500);return()=>clearTimeout(R)},[n,s,c]);const St=async()=>{if(!n||!s||!c){console.error("[handleLoad] Missing instances:",{editor:!!n,area:!!s,engine:!!c});return}try{let X=localStorage.getItem("saved-graph");if(!X&&window.api?.readTempFile)try{const R=await window.api.readTempFile("autotron_graph.json");R?.success&&R.content&&(X=R.content,ke("[handleLoad] Loaded graph from Electron temp file"))}catch(R){console.warn("[handleLoad] Failed to read Electron temp file",R)}if(!X){alert("No saved graph found");return}const re=JSON.parse(X);ke(`[handleLoad] Loading graph with ${re.nodes?.length} nodes`);const ee=ab(re);if(!ee.valid){console.warn("[handleLoad] Graph validation failed:",ee.errors),window.T2Toast&&window.T2Toast.warning(`Graph has issues: ${ee.errors.length} errors`,4e3);const R=rb(re);R.repaired&&(ke("[handleLoad] Graph repaired:",R.fixes),window.T2Toast&&window.T2Toast.info(`Graph repaired: ${R.fixes.length} fixes applied`,3e3),Object.assign(re,R.graphData))}ee.warnings.length>0&&console.warn("[handleLoad] Graph warnings:",ee.warnings),await on();const Te=n.getNodes();if(Te.length>0){console.error("[handleLoad] Clear did not work! Still have",Te.length,"nodes");for(const R of Te)try{await n.removeNode(R.id)}catch(O){console.error("[handleLoad] Force remove failed:",O)}}if(k.current=!0,I.current=!0,s?.area)try{s.area.zoom(.1,0,0),s.area.translate(0,0)}catch{}try{for(const O of re.nodes){let q;const he=En.getByLabel(O.label);if(he){const ye=()=>{if(I.current){s&&s.update("node",O.id);return}s&&s.update("node",O.id),c&&n&&(c.reset(),setTimeout(()=>{n.getNodes().forEach(async Ne=>{try{await c.fetch(Ne.id)}catch{}})},0))};q=he.factory(ye)}q&&(q.id=O.id,typeof q.restore=="function"&&O.data?q.restore(O.data):O.data&&O.data.properties&&q.properties&&Object.assign(q.properties,O.data.properties),await n.addNode(q),await s.translate(q.id,O.position))}const R=[];for(const O of re.connections){const q=n.getNode(O.source),he=n.getNode(O.target);q&&he&&R.push(n.addConnection(new Gt.Connection(q,O.sourceOutput,he,O.targetInput)))}await Promise.all(R)}finally{k.current=!1,s?.updateBackdropCaptures?.()}const Se=n.getNodes();if(Se.length>0&&s){ke("[handleLoad] Zooming to fit",Se.length,"nodes...");try{await Mr.zoomAt(s,Se,{scale:.9})}catch(R){console.warn("[handleLoad] zoomAt failed:",R)}}F.current&&(ke("[handleLoad] Processing graph immediately..."),await F.current(),ke("[handleLoad] Graph processing complete")),I.current=!1,ke("[handleLoad] Setting up viewport restoration timer..."),setTimeout(()=>{if(ke("[handleLoad] Viewport restoration timer fired, areaInstance:",!!s,"area:",!!s?.area),s?.area){const R=re.viewport||{x:0,y:0,k:1},O=R.k||1,q=R.x||0,he=R.y||0;ke("[handleLoad] Restoring viewport:",{savedX:q,savedY:he,savedK:O}),ke("[handleLoad] Current transform before restore:",{...s.area.transform});try{s.area.zoom(O,0,0),s.area.translate(q,he)}catch(Ne){console.warn("[handleLoad] Viewport restore failed:",Ne)}ke("[handleLoad] Transform after restore:",{...s.area.transform});const ye=s.container;if(ye){ye.tabIndex=-1,ye.focus(),document.activeElement&&document.activeElement!==ye&&document.activeElement.tagName!=="BODY"&&document.activeElement.blur();const Ne=()=>{window.resetEditorView&&window.resetEditorView()};setTimeout(Ne,100),setTimeout(Ne,500),setTimeout(Ne,1e3)}n.getNodes().forEach(Ne=>{const Ae=s.nodeViews.get(Ne.id);if(Ae?.element)try{for(let Ze=0;Ze<10;Ze++)try{Ae.element.releasePointerCapture(Ze)}catch{}}catch{}})}},300),ke("Graph loaded")}catch(X){console.error("Failed to load graph:",X),I.current=!1,alert("Failed to load graph")}},Lt=async()=>{if(!n||!s||!c){console.error("[handleLoadExample] Missing instances");return}if(!(n.getNodes().length>0&&!confirm("This will replace your current graph with the starter example. Continue?")))try{const re=await fetch(Kn("/api/examples/starter"));if(!re.ok)throw new Error(`Failed to fetch example: ${re.status}`);const ee=await re.json();if(!ee.success||!ee.graph)throw new Error("Invalid example graph response");localStorage.setItem("saved-graph",JSON.stringify(ee.graph)),ke("[handleLoadExample] Example graph loaded, triggering handleLoad..."),await St(),window.T2Toast&&window.T2Toast.success("Starter example loaded! Select devices from the dropdowns.")}catch(re){console.error("[handleLoadExample] Failed:",re),alert("Failed to load example graph: "+re.message)}};x.useEffect(()=>{const X=()=>{ke("[AutoLoadEvent] Received autoLoadGraph event, calling handleLoad..."),St()};return document.addEventListener("autoLoadGraph",X),()=>document.removeEventListener("autoLoadGraph",X)},[n,s,c]);const on=async()=>{if(!n){console.warn("[handleClear] No editor instance!");return}try{const X=n.getConnections(),re=n.getNodes();ke(`[handleClear] Removing ${X.length} connections and ${re.length} nodes`);for(const Te of X)await n.removeConnection(Te.id);for(const Te of re)await n.removeNode(Te.id);const ee=n.getNodes();ke(`[handleClear] Complete. Remaining nodes: ${ee.length}`),ee.length>0&&console.error("[handleClear] Failed to remove all nodes! Remaining:",ee.map(Te=>Te.id))}catch(X){console.error("Failed to clear graph:",X)}},$n=()=>{if(!(!n||!s))try{const X=n.getNodes().map(q=>{const he=typeof q.toJSON=="function"?q.toJSON():{...q};return q.properties&&(he.properties=q.properties),{id:q.id,label:q.label,position:s.nodeViews.get(q.id)?.position||{x:0,y:0},data:he}}),re=n.getConnections().map(q=>({id:q.id,source:q.source,target:q.target,sourceOutput:q.sourceOutput,targetInput:q.targetInput})),ee=s.area?.transform?{x:s.area.transform.x,y:s.area.transform.y,k:s.area.transform.k}:{x:0,y:0,k:1},Te={nodes:X,connections:re,viewport:ee},Se=new Blob([JSON.stringify(Te,null,2)],{type:"application/json"}),R=URL.createObjectURL(Se),O=document.createElement("a");O.href=R,O.download=`graph-${Date.now()}.json`,O.click(),URL.revokeObjectURL(R),ke("Graph exported")}catch(X){console.error("Failed to export graph:",X)}},Ca=async X=>{const re=ab(X);if(!re.valid){console.warn("[handleImport] Graph validation failed:",re.errors),window.T2Toast&&window.T2Toast.warning(`Graph has issues: ${re.errors.length} errors`,4e3);const Se=rb(X);if(Se.repaired)ke("[handleImport] Graph repaired:",Se.fixes),window.T2Toast&&window.T2Toast.info(`Graph repaired: ${Se.fixes.length} fixes applied`,3e3),X=Se.graphData;else if(!confirm(`Graph has ${re.errors.length} errors. Continue anyway?`))return}const ee={log:console.log,warn:console.warn,error:console.error};console.log=()=>{},console.warn=()=>{};let Te=0;if(console.error=(...Se)=>{Te++<10&&ee.error(...Se)},ee.log("%c IMPORT STARTED (console suppressed)","background: green; color: white; font-size: 16px;"),window.graphLoading=!0,!n||!s||!c){Object.assign(console,ee);return}try{if(await on(),k.current=!0,I.current=!0,s?.area)try{s.area.zoom(.1,0,0),s.area.translate(0,0)}catch{}try{for(const O of X.nodes){let q;const he=En.getByLabel(O.label);if(!he){console.warn(`[handleImport] No definition found for node label: "${O.label}"`);continue}if(he){const ye=()=>{if(I.current||window.graphLoading){s&&s.update("node",O.id);return}if(s&&s.update("node",O.id),c&&n){if(window.graphLoading)return;c.reset(),setTimeout(()=>{window.graphLoading||n.getNodes().forEach(async Ne=>{try{await c.fetch(Ne.id)}catch{}})},0)}};q=he.factory(ye)}q&&(q.id=O.id,O.label==="Timeline Color"&&ee.log("[DEBUG-IMPORT] Timeline Color restore check:",{hasRestore:typeof q.restore=="function",hasData:!!O.data,dataKeys:O.data?Object.keys(O.data):"N/A",propertiesKeys:O.data?.properties?Object.keys(O.data.properties):"N/A",previewModeValue:O.data?.properties?.previewMode}),typeof q.restore=="function"&&O.data?q.restore(O.data):O.data&&O.data.properties&&q.properties&&Object.assign(q.properties,O.data.properties),await n.addNode(q),await s.translate(q.id,O.position))}const R=[];for(const O of X.connections){const q=n.getNode(O.source),he=n.getNode(O.target);q&&he?R.push(n.addConnection(new Gt.Connection(q,O.sourceOutput,he,O.targetInput))):console.warn(`[handleImport] Connection skipped - missing node: source=${O.source} (${!!q}), target=${O.target} (${!!he})`)}await Promise.all(R)}finally{k.current=!1,s?.updateBackdropCaptures?.()}const Se=n.getNodes();if(Se.length>0&&s)try{await Mr.zoomAt(s,Se,{scale:.9})}catch{}I.current=!1,setTimeout(async()=>{window.graphLoading=!1,ke("[handleImport] Graph loading complete - API calls now enabled"),window.dispatchEvent(new CustomEvent("graphLoadComplete")),setTimeout(()=>{F.current&&(ke("[handleImport] Running processImmediate to sync node states"),F.current()),setTimeout(()=>{F.current&&(ke("[handleImport] Running second processImmediate for late-loading data"),F.current())},1500)},500);try{const O=JSON.stringify(X,null,2);O.length<2e6&&(localStorage.removeItem("saved-graph"),localStorage.setItem("saved-graph",O),ke("[handleImport] Graph saved to localStorage")),(await fetch(Kn("/api/engine/save-active"),{method:"POST",headers:{"Content-Type":"application/json"},body:O})).ok&&ke("[handleImport] Graph saved to server as last active")}catch(O){console.warn("[handleImport] Failed to save imported graph:",O)}const R=()=>{window.resetEditorView&&window.resetEditorView()};setTimeout(R,100),setTimeout(R,500)},2e3),Object.assign(console,ee),console.log("%c IMPORT COMPLETE","background: green; color: white; font-size: 16px;"),ke("Graph imported successfully. Pan/zoom should work now.")}catch(Se){window.graphLoading=!1,typeof ee<"u"&&Object.assign(console,ee),console.error("Failed to import graph:",Se),I.current=!1,alert("Failed to import graph: "+Se.message)}};return m.jsxs("div",{style:{width:"100%",height:"100%",position:"relative"},children:[m.jsx(ZN,{width:te,panelRef:ze,dropActive:qe,favoriteGroups:ue,onAddFavorite:E,onRemoveFavorite:B,onCreateNode:D}),m.jsx("div",{ref:a,className:"rete-editor",style:{width:"100%",height:"100%",marginRight:"320px",marginLeft:`${te}px`}}),m.jsx("div",{ref:b}),(()=>{const X=y?S.current:b.current;return X?Br.createPortal(m.jsx(FN,{onSave:Ve,onLoad:St,onLoadExample:Lt,onClear:on,onExport:$n,onImport:Ca,hasUnsavedChanges:et,isMerged:y,onToggleMerged:()=>v(re=>!re)}),X):null})(),m.jsx(PN,{dockSlotRef:S}),m.jsx(KN,{visible:H.visible,position:H.position,items:H.items,onClose:pe,onSelect:Oe}),m.jsx(XN,{isOpen:Y,onClose:()=>le(!1),onSave:()=>{Je(!1),le(!1)},currentGraphData:ve})]})}class uj extends Ea.Component{constructor(n){super(n),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,r){console.error("[ErrorBoundary] Caught error:",n),console.error("[ErrorBoundary] Error info:",r),this.setState({error:n,errorInfo:r})}handleReload=()=>{window.location.reload()};handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){return this.state.hasError?m.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#1a1a2e",color:"#eee",fontFamily:"system-ui, -apple-system, sans-serif",padding:"20px",textAlign:"center"},children:m.jsxs("div",{style:{backgroundColor:"#252540",borderRadius:"12px",padding:"40px",maxWidth:"500px",boxShadow:"0 4px 20px rgba(0,0,0,0.3)"},children:[m.jsx("div",{style:{fontSize:"48px",marginBottom:"20px"},children:""}),m.jsx("h1",{style:{fontSize:"24px",marginBottom:"16px",color:"#ff6b6b"},children:"Something went wrong"}),m.jsx("p",{style:{fontSize:"14px",color:"#aaa",marginBottom:"24px",lineHeight:"1.5"},children:"The editor encountered an error and couldn't continue. This might be caused by a corrupted graph or a plugin issue."}),this.state.error&&m.jsxs("details",{style:{textAlign:"left",backgroundColor:"#1a1a2e",padding:"12px",borderRadius:"8px",marginBottom:"24px",fontSize:"12px",color:"#888"},children:[m.jsx("summary",{style:{cursor:"pointer",color:"#aaa",marginBottom:"8px"},children:"Error Details"}),m.jsxs("pre",{style:{overflow:"auto",maxHeight:"150px",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:[this.state.error.toString(),this.state.errorInfo?.componentStack]})]}),m.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[m.jsx("button",{onClick:this.handleReset,style:{padding:"12px 24px",fontSize:"14px",backgroundColor:"#3a3a5c",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:n=>n.target.style.backgroundColor="#4a4a6c",onMouseOut:n=>n.target.style.backgroundColor="#3a3a5c",children:"Try Again"}),m.jsx("button",{onClick:this.handleReload,style:{padding:"12px 24px",fontSize:"14px",backgroundColor:"#4dabf7",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:n=>n.target.style.backgroundColor="#339af0",onMouseOut:n=>n.target.style.backgroundColor="#4dabf7",children:"Reload Page"})]})]})}):this.props.children}}function fj({isLoading:a,progress:n=0,status:r="Initializing...",loadedCount:s=0,totalCount:l=0,error:c=null}){const[f,h]=x.useState(!1),[p,y]=x.useState(a);return x.useEffect(()=>{if(!a&&p){h(!0);const v=setTimeout(()=>{y(!1),h(!1)},500);return()=>clearTimeout(v)}else a&&!p&&y(!0)},[a,p]),p?m.jsxs("div",{className:`loading-overlay ${f?"fade-out":""}`,children:[m.jsx("div",{className:"loading-logo",children:""}),m.jsx("div",{className:"loading-title",children:"T2 AutoTron"}),m.jsx("div",{className:"loading-subtitle",children:"Visual Automation Editor"}),m.jsx("div",{className:"loading-progress-container",children:m.jsx("div",{className:"loading-progress-bar",children:m.jsx("div",{className:"loading-progress-fill",style:{width:`${Math.min(100,n)}%`}})})}),m.jsx("div",{className:"loading-status",children:r}),l>0&&m.jsxs("div",{className:"loading-count",children:[s," / ",l," plugins loaded"]}),c&&m.jsxs("div",{className:"loading-error",children:[" ",c]})]}):null}function dj({updateInfo:a,onClose:n,onApplyUpdate:r}){const[s,l]=x.useState(!1),[c,f]=x.useState("");if(!a||!a.hasUpdate)return null;const h=async()=>{l(!0),f("Saving current graph...");try{window.triggerGraphSave&&(await window.triggerGraphSave(),f("Graph saved! Starting update..."))}catch(y){console.warn("Pre-update graph save failed:",y)}sessionStorage.setItem("justUpdated","true"),sessionStorage.setItem("autoLoadAfterUpdate","true");try{const v=await(await Qn("/api/update/apply",{method:"POST",headers:{"Content-Type":"application/json"}})).json();f(v.message||"Updating... The app will restart shortly."),setTimeout(()=>{f("Update applied! Reloading page..."),setTimeout(()=>{const b=()=>{Qn("/api/health",{method:"GET"}).then(()=>window.location.reload()).catch(()=>setTimeout(b,2e3))};b()},3e3)},2e3)}catch(y){y.message.includes("fetch")||y.message.includes("network")?(f("Server restarting... Reloading page..."),setTimeout(()=>{const v=()=>{Qn("/api/health",{method:"GET"}).then(()=>window.location.reload()).catch(()=>setTimeout(v,2e3))};v()},3e3)):(f(`Update failed: ${y.message}`),l(!1))}},p=()=>{sessionStorage.setItem("updateSkipped",a.newVersion),n()};return m.jsx("div",{className:"update-modal-overlay",children:m.jsxs("div",{className:"update-modal",children:[m.jsxs("div",{className:"update-modal-header",children:[m.jsx("span",{className:"update-icon",children:""}),m.jsx("h2",{children:"Update Available!"})]}),m.jsxs("div",{className:"update-modal-version",children:[m.jsx("span",{className:"version-current",children:a.currentVersion}),m.jsx("span",{className:"version-arrow",children:""}),m.jsx("span",{className:"version-new",children:a.newVersion})]}),m.jsxs("div",{className:"update-modal-content",children:[m.jsx("h3",{children:"What's New:"}),m.jsx("div",{className:"changelog-content",children:m.jsx("pre",{children:a.changelog||"No changelog available."})})]}),c&&m.jsxs("div",{className:"update-status",children:[m.jsx("span",{className:"status-spinner",children:""}),c]}),m.jsx("div",{className:"update-modal-actions",children:s?m.jsx("div",{className:"updating-message",children:"Please wait while the update is being applied..."}):m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"update-btn update-btn-primary",onClick:h,children:"Update Now"}),m.jsx("button",{className:"update-btn update-btn-secondary",onClick:p,children:"Later"})]})})]})})}const hj=()=>{try{localStorage.getItem("t2-performance-mode")==="true"&&document.body.classList.add("performance-mode")}catch(a){console.warn("Failed to apply performance mode:",a)}};hj();window.setPerformanceMode=a=>{a?(document.body.classList.add("performance-mode"),localStorage.setItem("t2-performance-mode","true")):(document.body.classList.remove("performance-mode"),localStorage.setItem("t2-performance-mode","false"))};window.getPerformanceMode=()=>document.body.classList.contains("performance-mode");const Gw=()=>{const a=r=>{const s=parseInt(r.slice(1,3),16),l=parseInt(r.slice(3,5),16),c=parseInt(r.slice(5,7),16);return`${s}, ${l}, ${c}`},n={"Home Assistant":"ha",Weather:"weather",Logic:"logic","Timer/Event":"timer",Color:"color",Utility:"utility",Inputs:"inputs",CC_Control_Nodes:"cc",Other:"other"};try{const r=localStorage.getItem("t2category-overrides");if(r){const s=JSON.parse(r),l=document.documentElement;for(const[c,f]of Object.entries(s)){const h=n[c];h&&(f.accent&&(l.style.setProperty(`--node-${h}-color`,f.accent),l.style.setProperty(`--node-${h}-color-rgb`,a(f.accent))),f.background&&l.style.setProperty(`--node-${h}-bg`,f.background))}}}catch(r){console.warn("Failed to apply stored category colors:",r)}},Fw=()=>{const a=c=>{const f=parseInt(c.slice(1,3),16),h=parseInt(c.slice(3,5),16),p=parseInt(c.slice(5,7),16);return`${f}, ${h}, ${p}`},n=(c,f=15)=>{const h=parseInt(c.slice(1),16),p=Math.max(0,(h>>16)-Math.round(255*f/100)),y=Math.max(0,(h>>8&255)-Math.round(255*f/100)),v=Math.max(0,(h&255)-Math.round(255*f/100));return`#${(16777216|p<<16|y<<8|v).toString(16).slice(1)}`},r=(c,f=20)=>{const h=parseInt(c.slice(1),16),p=Math.min(255,(h>>16)+Math.round(255*f/100)),y=Math.min(255,(h>>8&255)+Math.round(255*f/100)),v=Math.min(255,(h&255)+Math.round(255*f/100));return`#${(16777216|p<<16|y<<8|v).toString(16).slice(1)}`},s={Boolean:"boolean",Number:"number",String:"string","HSV Info":"hsv","Object/Any":"object","Light Info":"light"},l={Boolean:"#10b981",Number:"#3b82f6",String:"#f59e0b","HSV Info":"#8b5cf6","Object/Any":"#06b6d4","Light Info":"#eab308"};try{const c=localStorage.getItem("t2socket-colors"),f=c?JSON.parse(c):{},h=document.documentElement;for(const[p,y]of Object.entries(s)){const v=f[p]?.color||l[p];v&&(h.style.setProperty(`--socket-${y}-color`,v),h.style.setProperty(`--socket-${y}-dark`,n(v)),h.style.setProperty(`--socket-${y}-border`,r(v)),h.style.setProperty(`--socket-${y}-rgb`,a(v)))}}catch(c){console.warn("Failed to apply stored socket colors:",c)}};Gw();Fw();window.applyCategoryColors=Gw;window.applySocketColors=Fw;const Id=new Map,$d=new Map;function pj(){const[a,n]=x.useState(ge.connected),[r,s]=x.useState({connected:!1,wsConnected:!1,deviceCount:0}),[l,c]=x.useState([]),[f,h]=x.useState([]),[p,y]=x.useState(()=>parseInt(localStorage.getItem("panelHeight"))||150),[v,b]=x.useState(()=>parseInt(localStorage.getItem("panelFontSize"))||11),[S,k]=x.useState({isLoading:!0,progress:0,status:"Starting...",loadedCount:0,totalCount:0,error:null}),[N,F]=x.useState(null),[I,J]=x.useState(0),[Q,z]=x.useState(()=>localStorage.getItem("eventLogFilter")||"all"),G=x.useRef(null),de=x.useRef(null),ce=x.useRef({authenticated:!1,invalidPinNotified:!1}),H=100,se=ep();x.useEffect(()=>{const C=setInterval(()=>{J(Y=>Y+1)},3e4);return()=>clearInterval(C)},[]),x.useEffect(()=>qw(Y=>{k(Y),!Y.isLoading&&Y.progress===100&&Y.failedPlugins?.length>0&&se.warning(`Loaded ${Y.loadedCount} plugins (${Y.failedPlugins.length} failed)`),Y.error&&se.error(`Plugin loading failed: ${Y.error}`)}),[se]),x.useEffect(()=>{function C(){n(!0),se.success("Connected to server"),te("system","Socket connected to server"),$d.clear();const $e=ss();$e&&ge.emit("authenticate",$e),ge.emit("editor-active"),ge.emit("request-ha-status")}function Y(){n(!1),s({connected:!1,wsConnected:!1,deviceCount:0}),ce.current.authenticated=!1,se.warning("Disconnected from server - reconnecting..."),te("system","Socket disconnected from server")}function le($e){te("system",`Socket reconnected after ${$e} attempt(s)`)}function ve($e){$e%5===0&&te("system",`Reconnection attempt ${$e}...`)}function xe($e){te("system","Reconnection failed, retrying...")}function E($e){s($e)}function B(){ce.current.authenticated||(ce.current.authenticated=!0,ce.current.invalidPinNotified=!1,se.success("Authenticated"))}function D($e){ce.current.authenticated=!1;const St=($e?.error||"").toString();if(St.toLowerCase().includes("invalid pin")){ce.current.invalidPinNotified||(ce.current.invalidPinNotified=!0,se.error("Stored PIN is invalid. Update it in Settings  Security."));return}const Lt=St?`Authentication failed: ${St}`:"Authentication failed";se.error(Lt)}function V(){if(!ge.connected)return;ce.current.invalidPinNotified=!1;const $e=ss();$e&&ge.emit("authenticate",$e)}function pe($e){const{id:St,state:Lt,on,name:$n,vendor:Ca}=$e;if(!St)return;const X=$d.get(St),re=on!==void 0?on:Lt==="on"||Lt==="playing"||Lt==="open",ee=$n||$e.friendly_name||$e.attributes?.friendly_name||St.replace("ha_","").replace("kasa_","").replace("hue_","").replace(/\./g," ").replace(/_/g," ");if(X&&X.on===re)return;$d.set(St,{on:re,state:Lt});const Te=Id.get(St),Se=re?"ON":"OFF";let R=Ca||"External";Ca||(St.startsWith("ha_")?R="HA":St.startsWith("hue_")?R="Hue":St.startsWith("kasa_")&&(R="Kasa")),Te&&Date.now()-Te.timestamp<5e3?(te("device",`${ee}  ${Se}`,{source:"app",triggeredBy:Te.nodeTitle,nodeId:Te.nodeId}),Id.delete(St)):te("trigger",`${ee}  ${Se}`,{source:R})}function Oe($e){}function Ve($e){const{nodeId:St,nodeLabel:Lt,result:on}=$e;te("node",`${Lt||St} executed`,{...on,nodeId:St})}function et($e){Array.isArray($e)&&h($e.slice(0,20))}function Je($e){const{type:St,name:Lt,value:on}=$e;te("trigger",`${St}: ${Lt}`,on)}function Ht($e){if($e.isAddon||window.location.pathname.includes("/api/hassio/ingress/")){console.log("[Update] Ignoring update notification in HA add-on environment");return}if(sessionStorage.getItem("justUpdated")==="true"){sessionStorage.removeItem("justUpdated");return}sessionStorage.getItem("updateSkipped")!==$e.newVersion&&se.info(` Update available: ${$e.currentVersion}  ${$e.newVersion}`,{duration:0,actionLabel:"View Details",action:()=>F($e)})}ge.on("connect",C),ge.on("disconnect",Y),ge.on("reconnect",le),ge.on("reconnect_attempt",ve),ge.on("reconnect_error",xe),ge.on("auth-success",B),ge.on("auth-failed",D),ge.on("ha-connection-status",E),ge.on("device-state-update",pe),ge.on("device_state_change",Oe),ge.on("node_executed",Ve),ge.on("scheduled_events",et),ge.on("trigger_event",Je),ge.on("update-available",Ht),window.addEventListener("t2-pin-changed",V);const Zt=()=>{ge.connected&&ge.emit("editor-inactive")};return window.addEventListener("beforeunload",Zt),UT(),()=>{ge.connected&&ge.emit("editor-inactive"),ge.off("connect",C),ge.off("disconnect",Y),ge.off("reconnect",le),ge.off("reconnect_attempt",ve),ge.off("reconnect_error",xe),ge.off("auth-success",B),ge.off("auth-failed",D),ge.off("ha-connection-status",E),ge.off("device-state-update",pe),ge.off("device_state_change",Oe),ge.off("node_executed",Ve),ge.off("scheduled_events",et),ge.off("trigger_event",Je),ge.off("update-available",Ht),window.removeEventListener("t2-pin-changed",V),window.removeEventListener("beforeunload",Zt),IT()}},[]);const te=(C,Y,le=null)=>{const ve=new Date().toLocaleTimeString();c(xe=>[{timestamp:ve,type:C,message:Y,details:le},...xe].slice(0,H))},Z=x.useRef({}),ue=x.useCallback((C,Y)=>{const le=Y.map(B=>({...B,nodeId:C}));Z.current[C]=le;const ve=[];Object.values(Z.current).forEach(B=>{Array.isArray(B)&&ve.push(...B)});const xe=new Date,E=ve.filter(B=>B.time&&new Date(B.time)>xe).sort((B,D)=>new Date(B.time)-new Date(D.time)).slice(0,20);h(E)},[]),_e=x.useCallback(C=>{delete Z.current[C],ue(C,[])},[ue]);x.useEffect(()=>(window.addEventLog=te,window.setUpcomingEvents=h,window.registerScheduledEvents=ue,window.unregisterScheduledEvents=_e,window.T2Toast=se,window.registerPendingCommand=(C,Y,le,ve)=>{Id.set(C,{nodeTitle:Y,action:le,nodeId:ve,timestamp:Date.now()})},()=>{delete window.addEventLog,delete window.setUpcomingEvents,delete window.registerScheduledEvents,delete window.unregisterScheduledEvents,delete window.registerPendingCommand,delete window.T2Toast}),[ue,_e,se]);const ze=C=>{if(!C)return"";const Y=new Date(C),ve=Y-new Date,xe=Math.floor(ve/6e4),E=Math.floor(xe/60),B=Math.floor(E/24);let D="";return B>0?D=`${B}d ${E%24}h`:E>0?D=`${E}h ${xe%60}m`:xe>0?D=`${xe}m`:D="<1m",`${Y.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})} (${D})`},qe=x.useCallback(async C=>{if(!C)return;const Y=window._t2Area,le=window._t2Editor;if(!Y||!le){console.warn("[focusNode] Editor not ready");return}const ve=le.getNode(C);if(!ve){console.warn("[focusNode] Node not found:",C);return}try{const{AreaExtensions:xe}=await Qg(async()=>{const{AreaExtensions:E}=await Promise.resolve().then(()=>Ev);return{AreaExtensions:E}},void 0,import.meta.url);await xe.zoomAt(Y,[ve],{scale:1})}catch(xe){console.warn("[focusNode] Failed to zoom to node:",xe)}},[]),Ge=x.useCallback(async()=>{const C=window._t2Area,Y=window._t2Editor;if(!C||!Y){console.warn("[zoomExtents] Editor not ready");return}const le=Y.getNodes();if(le.length===0){console.warn("[zoomExtents] No nodes in graph");return}try{const{AreaExtensions:ve}=await Qg(async()=>{const{AreaExtensions:xe}=await Promise.resolve().then(()=>Ev);return{AreaExtensions:xe}},void 0,import.meta.url);await ve.zoomAt(C,le,{scale:.7})}catch(ve){console.warn("[zoomExtents] Failed to zoom:",ve)}},[]);return m.jsxs("div",{className:"app-container",children:[N&&N.hasUpdate&&m.jsx(dj,{updateInfo:N,onClose:()=>F(null)}),m.jsx(fj,{isLoading:S.isLoading,progress:S.progress,status:S.status,loadedCount:S.loadedCount,totalCount:S.totalCount,error:S.error}),m.jsx("div",{className:"editor-wrapper",children:m.jsx(cj,{})}),m.jsx("div",{className:"resize-handle",ref:de,onMouseDown:C=>{C.preventDefault();const Y=C.clientY,le=p,ve=E=>{const B=Y-E.clientY,D=Math.max(80,Math.min(400,le+B));y(D),localStorage.setItem("panelHeight",D)},xe=()=>{document.removeEventListener("mousemove",ve),document.removeEventListener("mouseup",xe)};document.addEventListener("mousemove",ve),document.addEventListener("mouseup",xe)},children:m.jsx("div",{className:"resize-handle-grip"})}),m.jsxs("div",{className:"bottom-panels",style:{height:p,fontSize:v},children:[m.jsxs("div",{className:"panel event-log-panel",children:[m.jsxs("div",{className:"panel-header",children:[m.jsx("span",{className:"panel-title",children:"Event Log"}),m.jsxs("div",{className:"panel-controls",children:[m.jsxs("div",{className:"filter-buttons",children:[m.jsx("button",{className:`filter-btn ${Q==="all"?"active":""}`,onClick:()=>{z("all"),localStorage.setItem("eventLogFilter","all")},children:"All"}),m.jsx("button",{className:`filter-btn ${Q==="app"?"active":""}`,onClick:()=>{z("app"),localStorage.setItem("eventLogFilter","app")},children:"App"}),m.jsx("button",{className:`filter-btn ${Q==="ha"?"active":""}`,onClick:()=>{z("ha"),localStorage.setItem("eventLogFilter","ha")},children:"HA"})]}),m.jsx("button",{className:"font-size-btn",onClick:()=>{const C=Math.max(8,v-1);b(C),localStorage.setItem("panelFontSize",C)},children:"A-"}),m.jsxs("span",{className:"font-size-label",children:[v,"px"]}),m.jsx("button",{className:"font-size-btn",onClick:()=>{const C=Math.min(16,v+1);b(C),localStorage.setItem("panelFontSize",C)},children:"A+"}),m.jsx("button",{className:"panel-clear-btn",onClick:()=>c([]),children:"Clear"})]})]}),m.jsx("div",{className:"panel-content",ref:G,children:l.length===0?m.jsx("div",{className:"empty-message",children:"No events yet..."}):l.filter(C=>Q==="all"?!0:Q==="app"?C.details?.triggeredBy||C.details?.source==="app"||C.type==="node"||C.type==="device"||C.type==="system":Q==="ha"?C.type==="trigger"||C.details?.source&&C.details.source!=="app"&&!C.details?.triggeredBy:!0).map((C,Y)=>m.jsxs("div",{className:`log-entry log-${C.type}${C.details?.nodeId?" clickable":""}`,title:C.details?.nodeId?"Click to jump to this node":C.details?.triggeredBy?`Triggered by: ${C.details.triggeredBy}`:C.details?.source&&C.details.source!=="app"?`Triggered externally via ${C.details.source}`:"",onClick:()=>C.details?.nodeId&&qe(C.details.nodeId),style:C.details?.nodeId?{cursor:"pointer"}:{},children:[m.jsx("span",{className:"log-time",children:C.timestamp}),m.jsx("span",{className:`log-type-badge ${C.type}`,children:C.type==="trigger"?"external":C.type}),m.jsx("span",{className:"log-message",children:C.message}),C.details?.triggeredBy&&m.jsxs("span",{className:"log-source app-source",children:["via ",C.details.triggeredBy]}),C.details?.source&&C.details.source!=="app"&&!C.details?.triggeredBy&&m.jsxs("span",{className:"log-source external-source",children:["via ",C.details.source]})]},Y))})]}),m.jsxs("div",{className:"panel upcoming-events-panel",children:[m.jsx("div",{className:"panel-header clickable-header",onClick:Ge,title:"Click to zoom to fit all nodes",children:m.jsx("span",{className:"panel-title",children:"Upcoming Events"})}),m.jsx("div",{className:"panel-content",children:f.length===0?m.jsx("div",{className:"empty-message",children:"No scheduled events..."}):f.map((C,Y)=>m.jsxs("div",{className:`event-entry event-${C.action||"unknown"}${C.nodeId?" clickable":""}`,onClick:()=>C.nodeId&&qe(C.nodeId),title:C.nodeId?"Click to jump to this node":"",style:C.nodeId?{cursor:"pointer"}:{},children:[m.jsx("span",{className:"event-time",children:ze(C.time)}),m.jsx("span",{className:`event-action ${C.action}`,children:C.action||"event"}),m.jsx("span",{className:"event-device",children:C.deviceName||C.device||"Unknown"})]},Y))})]})]})]})}function mj(){return m.jsx(uj,{children:m.jsxs(YN,{children:[m.jsx(GN,{}),m.jsx(pj,{})]})})}typeof window.api<"u"&&console.log("T2AutoTron running in Electron mode");ob.createRoot(document.getElementById("root")).render(m.jsx(x.StrictMode,{children:m.jsx(mj,{})}));
