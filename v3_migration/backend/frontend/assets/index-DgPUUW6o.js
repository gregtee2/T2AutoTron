function lb(a,n){for(var r=0;r<n.length;r++){const s=n[r];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in a)){const c=Object.getOwnPropertyDescriptor(s,l);c&&Object.defineProperty(a,l,c.get?c:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();function Ch(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var af={exports:{}},go={};var Vg;function a2(){if(Vg)return go;Vg=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var h in l)h!=="key"&&(c[h]=l[h])}else c=l;return l=c.ref,{$$typeof:a,type:s,key:d,ref:l!==void 0?l:null,props:c}}return go.Fragment=n,go.jsx=r,go.jsxs=r,go}var qg;function r2(){return qg||(qg=1,af.exports=a2()),af.exports}var p=r2(),rf={exports:{}},Qe={};var Gg;function i2(){if(Gg)return Qe;Gg=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function k(S){return S===null||typeof S!="object"?null:(S=x&&S[x]||S["@@iterator"],typeof S=="function"?S:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,q={};function Q(S,D,O){this.props=S,this.context=D,this.refs=q,this.updater=O||j}Q.prototype.isReactComponent={},Q.prototype.setState=function(S,D){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,D,"setState")},Q.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function K(){}K.prototype=Q.prototype;function B(S,D,O){this.props=S,this.context=D,this.refs=q,this.updater=O||j}var Y=B.prototype=new K;Y.constructor=B,Z(Y,Q.prototype),Y.isPureReactComponent=!0;var fe=Array.isArray;function be(){}var H={H:null,A:null,T:null,S:null},de=Object.prototype.hasOwnProperty;function re(S,D,O){var z=O.ref;return{$$typeof:a,type:S,key:D,ref:z!==void 0?z:null,props:O}}function pe(S,D){return re(S.type,D,S.props)}function ze(S){return typeof S=="object"&&S!==null&&S.$$typeof===a}function Oe(S){var D={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(O){return D[O]})}var Je=/\/+/g;function it(S,D){return typeof S=="object"&&S!==null&&S.key!=null?Oe(""+S.key):D.toString(36)}function We(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(be,be):(S.status="pending",S.then(function(D){S.status==="pending"&&(S.status="fulfilled",S.value=D)},function(D){S.status==="pending"&&(S.status="rejected",S.reason=D)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function N(S,D,O,z,le){var ve=typeof S;(ve==="undefined"||ve==="boolean")&&(S=null);var je=!1;if(S===null)je=!0;else switch(ve){case"bigint":case"string":case"number":je=!0;break;case"object":switch(S.$$typeof){case a:case n:je=!0;break;case v:return je=S._init,N(je(S._payload),D,O,z,le)}}if(je)return le=le(S),je=z===""?"."+it(S,0):z,fe(le)?(O="",je!=null&&(O=je.replace(Je,"$&/")+"/"),N(le,D,O,"",function(tt){return tt})):le!=null&&(ze(le)&&(le=pe(le,O+(le.key==null||S&&S.key===le.key?"":(""+le.key).replace(Je,"$&/")+"/")+je)),D.push(le)),1;je=0;var Ge=z===""?".":z+":";if(fe(S))for(var Ue=0;Ue<S.length;Ue++)z=S[Ue],ve=Ge+it(z,Ue),je+=N(z,D,O,ve,le);else if(Ue=k(S),typeof Ue=="function")for(S=Ue.call(S),Ue=0;!(z=S.next()).done;)z=z.value,ve=Ge+it(z,Ue++),je+=N(z,D,O,ve,le);else if(ve==="object"){if(typeof S.then=="function")return N(We(S),D,O,z,le);throw D=String(S),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return je}function V(S,D,O){if(S==null)return S;var z=[],le=0;return N(S,z,"","",function(ve){return D.call(O,ve,le++)}),z}function W(S){if(S._status===-1){var D=S._result;D=D(),D.then(function(O){(S._status===0||S._status===-1)&&(S._status=1,S._result=O)},function(O){(S._status===0||S._status===-1)&&(S._status=2,S._result=O)}),S._status===-1&&(S._status=0,S._result=D)}if(S._status===1)return S._result.default;throw S._result}var ge=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},U={map:V,forEach:function(S,D,O){V(S,function(){D.apply(this,arguments)},O)},count:function(S){var D=0;return V(S,function(){D++}),D},toArray:function(S){return V(S,function(D){return D})||[]},only:function(S){if(!ze(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return Qe.Activity=b,Qe.Children=U,Qe.Component=Q,Qe.Fragment=r,Qe.Profiler=l,Qe.PureComponent=B,Qe.StrictMode=s,Qe.Suspense=m,Qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Qe.__COMPILER_RUNTIME={__proto__:null,c:function(S){return H.H.useMemoCache(S)}},Qe.cache=function(S){return function(){return S.apply(null,arguments)}},Qe.cacheSignal=function(){return null},Qe.cloneElement=function(S,D,O){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var z=Z({},S.props),le=S.key;if(D!=null)for(ve in D.key!==void 0&&(le=""+D.key),D)!de.call(D,ve)||ve==="key"||ve==="__self"||ve==="__source"||ve==="ref"&&D.ref===void 0||(z[ve]=D[ve]);var ve=arguments.length-2;if(ve===1)z.children=O;else if(1<ve){for(var je=Array(ve),Ge=0;Ge<ve;Ge++)je[Ge]=arguments[Ge+2];z.children=je}return re(S.type,le,z)},Qe.createContext=function(S){return S={$$typeof:d,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:c,_context:S},S},Qe.createElement=function(S,D,O){var z,le={},ve=null;if(D!=null)for(z in D.key!==void 0&&(ve=""+D.key),D)de.call(D,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&(le[z]=D[z]);var je=arguments.length-2;if(je===1)le.children=O;else if(1<je){for(var Ge=Array(je),Ue=0;Ue<je;Ue++)Ge[Ue]=arguments[Ue+2];le.children=Ge}if(S&&S.defaultProps)for(z in je=S.defaultProps,je)le[z]===void 0&&(le[z]=je[z]);return re(S,ve,le)},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(S){return{$$typeof:h,render:S}},Qe.isValidElement=ze,Qe.lazy=function(S){return{$$typeof:v,_payload:{_status:-1,_result:S},_init:W}},Qe.memo=function(S,D){return{$$typeof:y,type:S,compare:D===void 0?null:D}},Qe.startTransition=function(S){var D=H.T,O={};H.T=O;try{var z=S(),le=H.S;le!==null&&le(O,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then(be,ge)}catch(ve){ge(ve)}finally{D!==null&&O.types!==null&&(D.types=O.types),H.T=D}},Qe.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Qe.use=function(S){return H.H.use(S)},Qe.useActionState=function(S,D,O){return H.H.useActionState(S,D,O)},Qe.useCallback=function(S,D){return H.H.useCallback(S,D)},Qe.useContext=function(S){return H.H.useContext(S)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(S,D){return H.H.useDeferredValue(S,D)},Qe.useEffect=function(S,D){return H.H.useEffect(S,D)},Qe.useEffectEvent=function(S){return H.H.useEffectEvent(S)},Qe.useId=function(){return H.H.useId()},Qe.useImperativeHandle=function(S,D,O){return H.H.useImperativeHandle(S,D,O)},Qe.useInsertionEffect=function(S,D){return H.H.useInsertionEffect(S,D)},Qe.useLayoutEffect=function(S,D){return H.H.useLayoutEffect(S,D)},Qe.useMemo=function(S,D){return H.H.useMemo(S,D)},Qe.useOptimistic=function(S,D){return H.H.useOptimistic(S,D)},Qe.useReducer=function(S,D,O){return H.H.useReducer(S,D,O)},Qe.useRef=function(S){return H.H.useRef(S)},Qe.useState=function(S){return H.H.useState(S)},Qe.useSyncExternalStore=function(S,D,O){return H.H.useSyncExternalStore(S,D,O)},Qe.useTransition=function(){return H.H.useTransition()},Qe.version="19.2.0",Qe}var Yg;function Th(){return Yg||(Yg=1,rf.exports=i2()),rf.exports}var E=Th();const Da=Ch(E),s2=lb({__proto__:null,default:Da},[E]);var sf={exports:{}},vo={},of={exports:{}},lf={};var Fg;function o2(){return Fg||(Fg=1,(function(a){function n(N,V){var W=N.length;N.push(V);e:for(;0<W;){var ge=W-1>>>1,U=N[ge];if(0<l(U,V))N[ge]=V,N[W]=U,W=ge;else break e}}function r(N){return N.length===0?null:N[0]}function s(N){if(N.length===0)return null;var V=N[0],W=N.pop();if(W!==V){N[0]=W;e:for(var ge=0,U=N.length,S=U>>>1;ge<S;){var D=2*(ge+1)-1,O=N[D],z=D+1,le=N[z];if(0>l(O,W))z<U&&0>l(le,O)?(N[ge]=le,N[z]=W,ge=z):(N[ge]=O,N[D]=W,ge=D);else if(z<U&&0>l(le,W))N[ge]=le,N[z]=W,ge=z;else break e}}return V}function l(N,V){var W=N.sortIndex-V.sortIndex;return W!==0?W:N.id-V.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();a.unstable_now=function(){return d.now()-h}}var m=[],y=[],v=1,b=null,x=3,k=!1,j=!1,Z=!1,q=!1,Q=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function Y(N){for(var V=r(y);V!==null;){if(V.callback===null)s(y);else if(V.startTime<=N)s(y),V.sortIndex=V.expirationTime,n(m,V);else break;V=r(y)}}function fe(N){if(Z=!1,Y(N),!j)if(r(m)!==null)j=!0,be||(be=!0,Oe());else{var V=r(y);V!==null&&We(fe,V.startTime-N)}}var be=!1,H=-1,de=5,re=-1;function pe(){return q?!0:!(a.unstable_now()-re<de)}function ze(){if(q=!1,be){var N=a.unstable_now();re=N;var V=!0;try{e:{j=!1,Z&&(Z=!1,K(H),H=-1),k=!0;var W=x;try{t:{for(Y(N),b=r(m);b!==null&&!(b.expirationTime>N&&pe());){var ge=b.callback;if(typeof ge=="function"){b.callback=null,x=b.priorityLevel;var U=ge(b.expirationTime<=N);if(N=a.unstable_now(),typeof U=="function"){b.callback=U,Y(N),V=!0;break t}b===r(m)&&s(m),Y(N)}else s(m);b=r(m)}if(b!==null)V=!0;else{var S=r(y);S!==null&&We(fe,S.startTime-N),V=!1}}break e}finally{b=null,x=W,k=!1}V=void 0}}finally{V?Oe():be=!1}}}var Oe;if(typeof B=="function")Oe=function(){B(ze)};else if(typeof MessageChannel<"u"){var Je=new MessageChannel,it=Je.port2;Je.port1.onmessage=ze,Oe=function(){it.postMessage(null)}}else Oe=function(){Q(ze,0)};function We(N,V){H=Q(function(){N(a.unstable_now())},V)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(N){N.callback=null},a.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<N?Math.floor(1e3/N):5},a.unstable_getCurrentPriorityLevel=function(){return x},a.unstable_next=function(N){switch(x){case 1:case 2:case 3:var V=3;break;default:V=x}var W=x;x=V;try{return N()}finally{x=W}},a.unstable_requestPaint=function(){q=!0},a.unstable_runWithPriority=function(N,V){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var W=x;x=N;try{return V()}finally{x=W}},a.unstable_scheduleCallback=function(N,V,W){var ge=a.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ge+W:ge):W=ge,N){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=W+U,N={id:v++,callback:V,priorityLevel:N,startTime:W,expirationTime:U,sortIndex:-1},W>ge?(N.sortIndex=W,n(y,N),r(m)===null&&N===r(y)&&(Z?(K(H),H=-1):Z=!0,We(fe,W-ge))):(N.sortIndex=U,n(m,N),j||k||(j=!0,be||(be=!0,Oe()))),N},a.unstable_shouldYield=pe,a.unstable_wrapCallback=function(N){var V=x;return function(){var W=x;x=V;try{return N.apply(this,arguments)}finally{x=W}}}})(lf)),lf}var Pg;function l2(){return Pg||(Pg=1,of.exports=o2()),of.exports}var cf={exports:{}},Mn={};var Zg;function c2(){if(Zg)return Mn;Zg=1;var a=Th();function n(m){var y="https://react.dev/errors/"+m;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)y+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(m,y,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:m,containerInfo:y,implementation:v}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,y){if(m==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Mn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Mn.createPortal=function(m,y){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(n(299));return c(m,y,null,v)},Mn.flushSync=function(m){var y=d.T,v=s.p;try{if(d.T=null,s.p=2,m)return m()}finally{d.T=y,s.p=v,s.d.f()}},Mn.preconnect=function(m,y){typeof m=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(m,y))},Mn.prefetchDNS=function(m){typeof m=="string"&&s.d.D(m)},Mn.preinit=function(m,y){if(typeof m=="string"&&y&&typeof y.as=="string"){var v=y.as,b=h(v,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,k=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;v==="style"?s.d.S(m,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:k}):v==="script"&&s.d.X(m,{crossOrigin:b,integrity:x,fetchPriority:k,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Mn.preinitModule=function(m,y){if(typeof m=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var v=h(y.as,y.crossOrigin);s.d.M(m,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(m)},Mn.preload=function(m,y){if(typeof m=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var v=y.as,b=h(v,y.crossOrigin);s.d.L(m,v,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Mn.preloadModule=function(m,y){if(typeof m=="string")if(y){var v=h(y.as,y.crossOrigin);s.d.m(m,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(m)},Mn.requestFormReset=function(m){s.d.r(m)},Mn.unstable_batchedUpdates=function(m,y){return m(y)},Mn.useFormState=function(m,y,v){return d.H.useFormState(m,y,v)},Mn.useFormStatus=function(){return d.H.useHostTransitionStatus()},Mn.version="19.2.0",Mn}var Xg;function cb(){if(Xg)return cf.exports;Xg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),cf.exports=c2(),cf.exports}var Kg;function u2(){if(Kg)return vo;Kg=1;var a=l2(),n=Th(),r=cb();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(c(e)!==e)throw Error(s(188))}function y(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(s(188));return t!==e?null:e}for(var i=e,o=t;;){var u=i.return;if(u===null)break;var f=u.alternate;if(f===null){if(o=u.return,o!==null){i=o;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===i)return m(u),e;if(f===o)return m(u),t;f=f.sibling}throw Error(s(188))}if(i.return!==o.return)i=u,o=f;else{for(var g=!1,w=u.child;w;){if(w===i){g=!0,i=u,o=f;break}if(w===o){g=!0,o=u,i=f;break}w=w.sibling}if(!g){for(w=f.child;w;){if(w===i){g=!0,i=f,o=u;break}if(w===o){g=!0,o=f,i=u;break}w=w.sibling}if(!g)throw Error(s(189))}}if(i.alternate!==o)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),K=Symbol.for("react.consumer"),B=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),re=Symbol.for("react.activity"),pe=Symbol.for("react.memo_cache_sentinel"),ze=Symbol.iterator;function Oe(e){return e===null||typeof e!="object"?null:(e=ze&&e[ze]||e["@@iterator"],typeof e=="function"?e:null)}var Je=Symbol.for("react.client.reference");function it(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Je?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case Q:return"Profiler";case q:return"StrictMode";case fe:return"Suspense";case be:return"SuspenseList";case re:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case B:return e.displayName||"Context";case K:return(e._context.displayName||"Context")+".Consumer";case Y:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case H:return t=e.displayName||null,t!==null?t:it(e.type)||"Memo";case de:t=e._payload,e=e._init;try{return it(e(t))}catch{}}return null}var We=Array.isArray,N=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},ge=[],U=-1;function S(e){return{current:e}}function D(e){0>U||(e.current=ge[U],ge[U]=null,U--)}function O(e,t){U++,ge[U]=e.current,e.current=t}var z=S(null),le=S(null),ve=S(null),je=S(null);function Ge(e,t){switch(O(ve,t),O(le,e),O(z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?dg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=dg(t),e=fg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}D(z),O(z,e)}function Ue(){D(z),D(le),D(ve)}function tt(e){e.memoizedState!==null&&O(je,e);var t=z.current,i=fg(t,e.type);t!==i&&(O(le,e),O(z,i))}function gt(e){le.current===e&&(D(z),D(le)),je.current===e&&(D(je),ho._currentValue=W)}var _t,In;function un(e){if(_t===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);_t=t&&t[1]||"",In=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_t+e+In}var dn=!1;function $n(e,t){if(!e||dn)return"";dn=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(t){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(X){var G=X}Reflect.construct(e,[],ae)}else{try{ae.call()}catch(X){G=X}e.call(ae.prototype)}}else{try{throw Error()}catch(X){G=X}(ae=e())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(X){if(X&&G&&typeof X.stack=="string")return[X.stack,G.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],w=f[1];if(g&&w){var T=g.split(`
`),$=w.split(`
`);for(u=o=0;o<T.length&&!T[o].includes("DetermineComponentFrameRoot");)o++;for(;u<$.length&&!$[u].includes("DetermineComponentFrameRoot");)u++;if(o===T.length||u===$.length)for(o=T.length-1,u=$.length-1;1<=o&&0<=u&&T[o]!==$[u];)u--;for(;1<=o&&0<=u;o--,u--)if(T[o]!==$[u]){if(o!==1||u!==1)do if(o--,u--,0>u||T[o]!==$[u]){var J=`
`+T[o].replace(" at new "," at ");return e.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",e.displayName)),J}while(1<=o&&0<=u);break}}}finally{dn=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?un(i):""}function Ke(e,t){switch(e.tag){case 26:case 27:case 5:return un(e.type);case 16:return un("Lazy");case 13:return e.child!==t&&t!==null?un("Suspense Fallback"):un("Suspense");case 19:return un("SuspenseList");case 0:case 15:return $n(e.type,!1);case 11:return $n(e.type.render,!1);case 1:return $n(e.type,!0);case 31:return un("Activity");default:return""}}function F(e){try{var t="",i=null;do t+=Ke(e,i),i=e,e=e.return;while(e);return t}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ie=Object.prototype.hasOwnProperty,ee=a.unstable_scheduleCallback,Ae=a.unstable_cancelCallback,xe=a.unstable_shouldYield,ce=a.unstable_requestPaint,C=a.unstable_now,R=a.unstable_getCurrentPriorityLevel,se=a.unstable_ImmediatePriority,he=a.unstable_UserBlockingPriority,we=a.unstable_NormalPriority,Ce=a.unstable_LowPriority,$e=a.unstable_IdlePriority,Pe=a.log,bt=a.unstable_setDisableYieldValue,Be=null,He=null;function Le(e){if(typeof Pe=="function"&&bt(e),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(Be,e)}catch{}}var st=Math.clz32?Math.clz32:nn,vt=Math.log,$t=Math.LN2;function nn(e){return e>>>=0,e===0?32:31-(vt(e)/$t|0)|0}var ot=256,Dt=262144,an=4194304;function rn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ct(e,t,i){var o=e.pendingLanes;if(o===0)return 0;var u=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var w=o&134217727;return w!==0?(o=w&~f,o!==0?u=rn(o):(g&=w,g!==0?u=rn(g):i||(i=w&~e,i!==0&&(u=rn(i))))):(w=o&~f,w!==0?u=rn(w):g!==0?u=rn(g):i||(i=o&~e,i!==0&&(u=rn(i)))),u===0?0:t!==0&&t!==u&&(t&f)===0&&(f=u&-u,i=t&-t,f>=i||f===32&&(i&4194048)!==0)?t:u}function Qt(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Fa(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Pa(){var e=an;return an<<=1,(an&62914560)===0&&(an=4194304),e}function sa(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function _(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function L(e,t,i,o,u,f){var g=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var w=e.entanglements,T=e.expirationTimes,$=e.hiddenUpdates;for(i=g&~i;0<i;){var J=31-st(i),ae=1<<J;w[J]=0,T[J]=-1;var G=$[J];if(G!==null)for($[J]=null,J=0;J<G.length;J++){var X=G[J];X!==null&&(X.lane&=-536870913)}i&=~ae}o!==0&&ue(e,o,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~t))}function ue(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var o=31-st(t);e.entangledLanes|=t,e.entanglements[o]=e.entanglements[o]|1073741824|i&261930}function oe(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var o=31-st(i),u=1<<o;u&t|e[o]&t&&(e[o]|=t),i&=~u}}function _e(e,t){var i=t&-t;return i=(i&42)!==0?1:Ot(i),(i&(e.suspendedLanes|t))!==0?0:i}function Ot(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function It(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ye(){var e=V.p;return e!==0?e:(e=window.event,e===void 0?32:zg(e.type))}function Pt(e,t){var i=V.p;try{return V.p=e,t()}finally{V.p=i}}var xt=Math.random().toString(36).slice(2),Ze="__reactFiber$"+xt,Tn="__reactProps$"+xt,Za="__reactContainer$"+xt,Vo="__reactEvents$"+xt,Kc="__reactListeners$"+xt,qo="__reactHandles$"+xt,xn="__reactResources$"+xt,xa="__reactMarker$"+xt;function Ea(e){delete e[Ze],delete e[Tn],delete e[Vo],delete e[Kc],delete e[qo]}function oa(e){var t=e[Ze];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Za]||i[Ze]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=bg(e);e!==null;){if(i=e[Ze])return i;e=bg(e)}return t}e=i,i=e.parentNode}return null}function vr(e){if(e=e[Ze]||e[Za]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Xa(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function P(e){var t=e[xn];return t||(t=e[xn]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ne(e){e[xa]=!0}var me=new Set,Ee={};function ke(e,t){Xe(e,t),Xe(e+"Capture",t)}function Xe(e,t){for(Ee[e]=t,e=0;e<t.length;e++)me.add(t[e])}var Gt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sn={},Wt={};function Jt(e){return ie.call(Wt,e)?!0:ie.call(sn,e)?!1:Gt.test(e)?Wt[e]=!0:(sn[e]=!0,!1)}function bn(e,t,i){if(Jt(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var o=t.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function Mt(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function Yt(e,t,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+o)}}function En(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ra(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ka(e,t,i){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var u=o.get,f=o.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(g){i=""+g,f.call(this,g)}}),Object.defineProperty(e,t,{enumerable:o.enumerable}),{getValue:function(){return i},setValue:function(g){i=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Go(e){if(!e._valueTracker){var t=Ra(e)?"checked":"value";e._valueTracker=Ka(e,t,""+e[t])}}function rp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),o="";return e&&(o=Ra(e)?e.checked?"true":"false":e.value),e=o,e!==i?(t.setValue(e),!0):!1}function Yo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Qw=/[\n"\\]/g;function la(e){return e.replace(Qw,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Qc(e,t,i,o,u,f,g,w){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+En(t)):e.value!==""+En(t)&&(e.value=""+En(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?Wc(e,g,En(t)):i!=null?Wc(e,g,En(i)):o!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+En(w):e.removeAttribute("name")}function ip(e,t,i,o,u,f,g,w){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||i!=null){if(!(f!=="submit"&&f!=="reset"||t!=null)){Go(e);return}i=i!=null?""+En(i):"",t=t!=null?""+En(t):i,w||t===e.value||(e.value=t),e.defaultValue=t}o=o??u,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=w?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Go(e)}function Wc(e,t,i){t==="number"&&Yo(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Ci(e,t,i,o){if(e=e.options,t){t={};for(var u=0;u<i.length;u++)t["$"+i[u]]=!0;for(i=0;i<e.length;i++)u=t.hasOwnProperty("$"+e[i].value),e[i].selected!==u&&(e[i].selected=u),u&&o&&(e[i].defaultSelected=!0)}else{for(i=""+En(i),t=null,u=0;u<e.length;u++){if(e[u].value===i){e[u].selected=!0,o&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function sp(e,t,i){if(t!=null&&(t=""+En(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+En(i):""}function op(e,t,i,o){if(t==null){if(o!=null){if(i!=null)throw Error(s(92));if(We(o)){if(1<o.length)throw Error(s(93));o=o[0]}i=o}i==null&&(i=""),t=i}i=En(t),e.defaultValue=i,o=e.textContent,o===i&&o!==""&&o!==null&&(e.value=o),Go(e)}function Ti(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Ww=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lp(e,t,i){var o=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":o?e.setProperty(t,i):typeof i!="number"||i===0||Ww.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function cp(e,t,i){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||t!=null&&t.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var u in t)o=t[u],t.hasOwnProperty(u)&&i[u]!==o&&lp(e,u,o)}else for(var f in t)t.hasOwnProperty(f)&&lp(e,f,t[f])}function Jc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),eS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fo(e){return eS.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Qa(){}var eu=null;function tu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ni=null,Oi=null;function up(e){var t=vr(e);if(t&&(e=t.stateNode)){var i=e[Tn]||null;e:switch(e=t.stateNode,t.type){case"input":if(Qc(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+la(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var o=i[t];if(o!==e&&o.form===e.form){var u=o[Tn]||null;if(!u)throw Error(s(90));Qc(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<i.length;t++)o=i[t],o.form===e.form&&rp(o)}break e;case"textarea":sp(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Ci(e,!!i.multiple,t,!1)}}}var nu=!1;function dp(e,t,i){if(nu)return e(t,i);nu=!0;try{var o=e(t);return o}finally{if(nu=!1,(Ni!==null||Oi!==null)&&(Ml(),Ni&&(t=Ni,e=Oi,Oi=Ni=null,up(t),e)))for(t=0;t<e.length;t++)up(e[t])}}function js(e,t){var i=e.stateNode;if(i===null)return null;var o=i[Tn]||null;if(o===null)return null;i=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,t,typeof i));return i}var Wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),au=!1;if(Wa)try{var As={};Object.defineProperty(As,"passive",{get:function(){au=!0}}),window.addEventListener("test",As,As),window.removeEventListener("test",As,As)}catch{au=!1}var br=null,ru=null,Po=null;function fp(){if(Po)return Po;var e,t=ru,i=t.length,o,u="value"in br?br.value:br.textContent,f=u.length;for(e=0;e<i&&t[e]===u[e];e++);var g=i-e;for(o=1;o<=g&&t[i-o]===u[f-o];o++);return Po=u.slice(e,1<o?1-o:void 0)}function Zo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xo(){return!0}function hp(){return!1}function qn(e){function t(i,o,u,f,g){this._reactName=i,this._targetInst=u,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(i=e[w],this[w]=i?i(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Xo:hp,this.isPropagationStopped=hp,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Xo)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Xo)},persist:function(){},isPersistent:Xo}),t}var ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ko=qn(ei),_s=b({},ei,{view:0,detail:0}),tS=qn(_s),iu,su,Ds,Qo=b({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ds&&(Ds&&e.type==="mousemove"?(iu=e.screenX-Ds.screenX,su=e.screenY-Ds.screenY):su=iu=0,Ds=e),iu)},movementY:function(e){return"movementY"in e?e.movementY:su}}),pp=qn(Qo),nS=b({},Qo,{dataTransfer:0}),aS=qn(nS),rS=b({},_s,{relatedTarget:0}),ou=qn(rS),iS=b({},ei,{animationName:0,elapsedTime:0,pseudoElement:0}),sS=qn(iS),oS=b({},ei,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lS=qn(oS),cS=b({},ei,{data:0}),mp=qn(cS),uS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fS[e])?!!t[e]:!1}function lu(){return hS}var pS=b({},_s,{key:function(e){if(e.key){var t=uS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?dS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lu,charCode:function(e){return e.type==="keypress"?Zo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mS=qn(pS),yS=b({},Qo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yp=qn(yS),gS=b({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lu}),vS=qn(gS),bS=b({},ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),wS=qn(bS),SS=b({},Qo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xS=qn(SS),ES=b({},ei,{newState:0,oldState:0}),kS=qn(ES),CS=[9,13,27,32],cu=Wa&&"CompositionEvent"in window,Ms=null;Wa&&"documentMode"in document&&(Ms=document.documentMode);var TS=Wa&&"TextEvent"in window&&!Ms,gp=Wa&&(!cu||Ms&&8<Ms&&11>=Ms),vp=" ",bp=!1;function wp(e,t){switch(e){case"keyup":return CS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ji=!1;function NS(e,t){switch(e){case"compositionend":return Sp(t);case"keypress":return t.which!==32?null:(bp=!0,vp);case"textInput":return e=t.data,e===vp&&bp?null:e;default:return null}}function OS(e,t){if(ji)return e==="compositionend"||!cu&&wp(e,t)?(e=fp(),Po=ru=br=null,ji=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gp&&t.locale!=="ko"?null:t.data;default:return null}}var jS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!jS[e.type]:t==="textarea"}function Ep(e,t,i,o){Ni?Oi?Oi.push(o):Oi=[o]:Ni=o,t=$l(t,"onChange"),0<t.length&&(i=new Ko("onChange","change",null,i,o),e.push({event:i,listeners:t}))}var Rs=null,zs=null;function AS(e){ig(e,0)}function Wo(e){var t=Xa(e);if(rp(t))return e}function kp(e,t){if(e==="change")return t}var Cp=!1;if(Wa){var uu;if(Wa){var du="oninput"in document;if(!du){var Tp=document.createElement("div");Tp.setAttribute("oninput","return;"),du=typeof Tp.oninput=="function"}uu=du}else uu=!1;Cp=uu&&(!document.documentMode||9<document.documentMode)}function Np(){Rs&&(Rs.detachEvent("onpropertychange",Op),zs=Rs=null)}function Op(e){if(e.propertyName==="value"&&Wo(zs)){var t=[];Ep(t,zs,e,tu(e)),dp(AS,t)}}function _S(e,t,i){e==="focusin"?(Np(),Rs=t,zs=i,Rs.attachEvent("onpropertychange",Op)):e==="focusout"&&Np()}function DS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wo(zs)}function MS(e,t){if(e==="click")return Wo(t)}function RS(e,t){if(e==="input"||e==="change")return Wo(t)}function zS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qn=typeof Object.is=="function"?Object.is:zS;function Ls(e,t){if(Qn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var u=i[o];if(!ie.call(t,u)||!Qn(e[u],t[u]))return!1}return!0}function jp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ap(e,t){var i=jp(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=t&&o>=t)return{node:i,offset:t-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=jp(i)}}function _p(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_p(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Dp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Yo(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Yo(e.document)}return t}function fu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var LS=Wa&&"documentMode"in document&&11>=document.documentMode,Ai=null,hu=null,Bs=null,pu=!1;function Mp(e,t,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;pu||Ai==null||Ai!==Yo(o)||(o=Ai,"selectionStart"in o&&fu(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Bs&&Ls(Bs,o)||(Bs=o,o=$l(hu,"onSelect"),0<o.length&&(t=new Ko("onSelect","select",null,t,i),e.push({event:t,listeners:o}),t.target=Ai)))}function ti(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var _i={animationend:ti("Animation","AnimationEnd"),animationiteration:ti("Animation","AnimationIteration"),animationstart:ti("Animation","AnimationStart"),transitionrun:ti("Transition","TransitionRun"),transitionstart:ti("Transition","TransitionStart"),transitioncancel:ti("Transition","TransitionCancel"),transitionend:ti("Transition","TransitionEnd")},mu={},Rp={};Wa&&(Rp=document.createElement("div").style,"AnimationEvent"in window||(delete _i.animationend.animation,delete _i.animationiteration.animation,delete _i.animationstart.animation),"TransitionEvent"in window||delete _i.transitionend.transition);function ni(e){if(mu[e])return mu[e];if(!_i[e])return e;var t=_i[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Rp)return mu[e]=t[i];return e}var zp=ni("animationend"),Lp=ni("animationiteration"),Bp=ni("animationstart"),BS=ni("transitionrun"),US=ni("transitionstart"),IS=ni("transitioncancel"),Up=ni("transitionend"),Ip=new Map,yu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yu.push("scrollEnd");function ka(e,t){Ip.set(e,t),ke(t,[e])}var Jo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ca=[],Di=0,gu=0;function el(){for(var e=Di,t=gu=Di=0;t<e;){var i=ca[t];ca[t++]=null;var o=ca[t];ca[t++]=null;var u=ca[t];ca[t++]=null;var f=ca[t];if(ca[t++]=null,o!==null&&u!==null){var g=o.pending;g===null?u.next=u:(u.next=g.next,g.next=u),o.pending=u}f!==0&&$p(i,u,f)}}function tl(e,t,i,o){ca[Di++]=e,ca[Di++]=t,ca[Di++]=i,ca[Di++]=o,gu|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function vu(e,t,i,o){return tl(e,t,i,o),nl(e)}function ai(e,t){return tl(e,null,null,t),nl(e)}function $p(e,t,i){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i);for(var u=!1,f=e.return;f!==null;)f.childLanes|=i,o=f.alternate,o!==null&&(o.childLanes|=i),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&t!==null&&(u=31-st(i),e=f.hiddenUpdates,o=e[u],o===null?e[u]=[t]:o.push(t),t.lane=i|536870912),f):null}function nl(e){if(50<io)throw io=0,Nd=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Mi={};function $S(e,t,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(e,t,i,o){return new $S(e,t,i,o)}function bu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ja(e,t){var i=e.alternate;return i===null?(i=Wn(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Hp(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function al(e,t,i,o,u,f){var g=0;if(o=e,typeof e=="function")bu(e)&&(g=1);else if(typeof e=="string")g=Yx(e,i,z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case re:return e=Wn(31,i,t,u),e.elementType=re,e.lanes=f,e;case Z:return ri(i.children,u,f,t);case q:g=8,u|=24;break;case Q:return e=Wn(12,i,t,u|2),e.elementType=Q,e.lanes=f,e;case fe:return e=Wn(13,i,t,u),e.elementType=fe,e.lanes=f,e;case be:return e=Wn(19,i,t,u),e.elementType=be,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case B:g=10;break e;case K:g=9;break e;case Y:g=11;break e;case H:g=14;break e;case de:g=16,o=null;break e}g=29,i=Error(s(130,e===null?"null":typeof e,"")),o=null}return t=Wn(g,i,t,u),t.elementType=e,t.type=o,t.lanes=f,t}function ri(e,t,i,o){return e=Wn(7,e,o,t),e.lanes=i,e}function wu(e,t,i){return e=Wn(6,e,null,t),e.lanes=i,e}function Vp(e){var t=Wn(18,null,null,0);return t.stateNode=e,t}function Su(e,t,i){return t=Wn(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var qp=new WeakMap;function ua(e,t){if(typeof e=="object"&&e!==null){var i=qp.get(e);return i!==void 0?i:(t={value:e,source:t,stack:F(t)},qp.set(e,t),t)}return{value:e,source:t,stack:F(t)}}var Ri=[],zi=0,rl=null,Us=0,da=[],fa=0,wr=null,za=1,La="";function er(e,t){Ri[zi++]=Us,Ri[zi++]=rl,rl=e,Us=t}function Gp(e,t,i){da[fa++]=za,da[fa++]=La,da[fa++]=wr,wr=e;var o=za;e=La;var u=32-st(o)-1;o&=~(1<<u),i+=1;var f=32-st(t)+u;if(30<f){var g=u-u%5;f=(o&(1<<g)-1).toString(32),o>>=g,u-=g,za=1<<32-st(t)+u|i<<u|o,La=f+e}else za=1<<f|i<<u|o,La=e}function xu(e){e.return!==null&&(er(e,1),Gp(e,1,0))}function Eu(e){for(;e===rl;)rl=Ri[--zi],Ri[zi]=null,Us=Ri[--zi],Ri[zi]=null;for(;e===wr;)wr=da[--fa],da[fa]=null,La=da[--fa],da[fa]=null,za=da[--fa],da[fa]=null}function Yp(e,t){da[fa++]=za,da[fa++]=La,da[fa++]=wr,za=t.id,La=t.overflow,wr=e}var Nn=null,Ht=null,pt=!1,Sr=null,ha=!1,ku=Error(s(519));function xr(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Is(ua(t,e)),ku}function Fp(e){var t=e.stateNode,i=e.type,o=e.memoizedProps;switch(t[Ze]=e,t[Tn]=o,i){case"dialog":ct("cancel",t),ct("close",t);break;case"iframe":case"object":case"embed":ct("load",t);break;case"video":case"audio":for(i=0;i<oo.length;i++)ct(oo[i],t);break;case"source":ct("error",t);break;case"img":case"image":case"link":ct("error",t),ct("load",t);break;case"details":ct("toggle",t);break;case"input":ct("invalid",t),ip(t,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":ct("invalid",t);break;case"textarea":ct("invalid",t),op(t,o.value,o.defaultValue,o.children)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||o.suppressHydrationWarning===!0||cg(t.textContent,i)?(o.popover!=null&&(ct("beforetoggle",t),ct("toggle",t)),o.onScroll!=null&&ct("scroll",t),o.onScrollEnd!=null&&ct("scrollend",t),o.onClick!=null&&(t.onclick=Qa),t=!0):t=!1,t||xr(e,!0)}function Pp(e){for(Nn=e.return;Nn;)switch(Nn.tag){case 5:case 31:case 13:ha=!1;return;case 27:case 3:ha=!0;return;default:Nn=Nn.return}}function Li(e){if(e!==Nn)return!1;if(!pt)return Pp(e),pt=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Vd(e.type,e.memoizedProps)),i=!i),i&&Ht&&xr(e),Pp(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ht=vg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));Ht=vg(e)}else t===27?(t=Ht,Lr(e.type)?(e=Pd,Pd=null,Ht=e):Ht=t):Ht=Nn?ma(e.stateNode.nextSibling):null;return!0}function ii(){Ht=Nn=null,pt=!1}function Cu(){var e=Sr;return e!==null&&(Pn===null?Pn=e:Pn.push.apply(Pn,e),Sr=null),e}function Is(e){Sr===null?Sr=[e]:Sr.push(e)}var Tu=S(null),si=null,tr=null;function Er(e,t,i){O(Tu,t._currentValue),t._currentValue=i}function nr(e){e._currentValue=Tu.current,D(Tu)}function Nu(e,t,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===i)break;e=e.return}}function Ou(e,t,i,o){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var g=u.child;f=f.firstContext;e:for(;f!==null;){var w=f;f=u;for(var T=0;T<t.length;T++)if(w.context===t[T]){f.lanes|=i,w=f.alternate,w!==null&&(w.lanes|=i),Nu(f.return,i,e),o||(g=null);break e}f=w.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(s(341));g.lanes|=i,f=g.alternate,f!==null&&(f.lanes|=i),Nu(g,i,e),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===e){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function Bi(e,t,i,o){e=null;for(var u=t,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var w=u.type;Qn(u.pendingProps.value,g.value)||(e!==null?e.push(w):e=[w])}}else if(u===je.current){if(g=u.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(ho):e=[ho])}u=u.return}e!==null&&Ou(t,e,i,o),t.flags|=262144}function il(e){for(e=e.firstContext;e!==null;){if(!Qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function oi(e){si=e,tr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function On(e){return Zp(si,e)}function sl(e,t){return si===null&&oi(e),Zp(e,t)}function Zp(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},tr===null){if(e===null)throw Error(s(308));tr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else tr=tr.next=t;return i}var HS=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,o){e.push(o)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},VS=a.unstable_scheduleCallback,qS=a.unstable_NormalPriority,fn={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ju(){return{controller:new HS,data:new Map,refCount:0}}function $s(e){e.refCount--,e.refCount===0&&VS(qS,function(){e.controller.abort()})}var Hs=null,Au=0,Ui=0,Ii=null;function GS(e,t){if(Hs===null){var i=Hs=[];Au=0,Ui=Md(),Ii={status:"pending",value:void 0,then:function(o){i.push(o)}}}return Au++,t.then(Xp,Xp),t}function Xp(){if(--Au===0&&Hs!==null){Ii!==null&&(Ii.status="fulfilled");var e=Hs;Hs=null,Ui=0,Ii=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function YS(e,t){var i=[],o={status:"pending",value:null,reason:null,then:function(u){i.push(u)}};return e.then(function(){o.status="fulfilled",o.value=t;for(var u=0;u<i.length;u++)(0,i[u])(t)},function(u){for(o.status="rejected",o.reason=u,u=0;u<i.length;u++)(0,i[u])(void 0)}),o}var Kp=N.S;N.S=function(e,t){My=C(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&GS(e,t),Kp!==null&&Kp(e,t)};var li=S(null);function _u(){var e=li.current;return e!==null?e:Bt.pooledCache}function ol(e,t){t===null?O(li,li.current):O(li,t.pool)}function Qp(){var e=_u();return e===null?null:{parent:fn._currentValue,pool:e}}var $i=Error(s(460)),Du=Error(s(474)),ll=Error(s(542)),cl={then:function(){}};function Wp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Jp(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Qa,Qa),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,tm(e),e;default:if(typeof t.status=="string")t.then(Qa,Qa);else{if(e=Bt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(o){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=o}},function(o){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=o}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,tm(e),e}throw ui=t,$i}}function ci(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(ui=i,$i):i}}var ui=null;function em(){if(ui===null)throw Error(s(459));var e=ui;return ui=null,e}function tm(e){if(e===$i||e===ll)throw Error(s(483))}var Hi=null,Vs=0;function ul(e){var t=Vs;return Vs+=1,Hi===null&&(Hi=[]),Jp(Hi,e,t)}function qs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function dl(e,t){throw t.$$typeof===x?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function nm(e){function t(M,A){if(e){var I=M.deletions;I===null?(M.deletions=[A],M.flags|=16):I.push(A)}}function i(M,A){if(!e)return null;for(;A!==null;)t(M,A),A=A.sibling;return null}function o(M){for(var A=new Map;M!==null;)M.key!==null?A.set(M.key,M):A.set(M.index,M),M=M.sibling;return A}function u(M,A){return M=Ja(M,A),M.index=0,M.sibling=null,M}function f(M,A,I){return M.index=I,e?(I=M.alternate,I!==null?(I=I.index,I<A?(M.flags|=67108866,A):I):(M.flags|=67108866,A)):(M.flags|=1048576,A)}function g(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function w(M,A,I,te){return A===null||A.tag!==6?(A=wu(I,M.mode,te),A.return=M,A):(A=u(A,I),A.return=M,A)}function T(M,A,I,te){var Ie=I.type;return Ie===Z?J(M,A,I.props.children,te,I.key):A!==null&&(A.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===de&&ci(Ie)===A.type)?(A=u(A,I.props),qs(A,I),A.return=M,A):(A=al(I.type,I.key,I.props,null,M.mode,te),qs(A,I),A.return=M,A)}function $(M,A,I,te){return A===null||A.tag!==4||A.stateNode.containerInfo!==I.containerInfo||A.stateNode.implementation!==I.implementation?(A=Su(I,M.mode,te),A.return=M,A):(A=u(A,I.children||[]),A.return=M,A)}function J(M,A,I,te,Ie){return A===null||A.tag!==7?(A=ri(I,M.mode,te,Ie),A.return=M,A):(A=u(A,I),A.return=M,A)}function ae(M,A,I){if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return A=wu(""+A,M.mode,I),A.return=M,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case k:return I=al(A.type,A.key,A.props,null,M.mode,I),qs(I,A),I.return=M,I;case j:return A=Su(A,M.mode,I),A.return=M,A;case de:return A=ci(A),ae(M,A,I)}if(We(A)||Oe(A))return A=ri(A,M.mode,I,null),A.return=M,A;if(typeof A.then=="function")return ae(M,ul(A),I);if(A.$$typeof===B)return ae(M,sl(M,A),I);dl(M,A)}return null}function G(M,A,I,te){var Ie=A!==null?A.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return Ie!==null?null:w(M,A,""+I,te);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case k:return I.key===Ie?T(M,A,I,te):null;case j:return I.key===Ie?$(M,A,I,te):null;case de:return I=ci(I),G(M,A,I,te)}if(We(I)||Oe(I))return Ie!==null?null:J(M,A,I,te,null);if(typeof I.then=="function")return G(M,A,ul(I),te);if(I.$$typeof===B)return G(M,A,sl(M,I),te);dl(M,I)}return null}function X(M,A,I,te,Ie){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return M=M.get(I)||null,w(A,M,""+te,Ie);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case k:return M=M.get(te.key===null?I:te.key)||null,T(A,M,te,Ie);case j:return M=M.get(te.key===null?I:te.key)||null,$(A,M,te,Ie);case de:return te=ci(te),X(M,A,I,te,Ie)}if(We(te)||Oe(te))return M=M.get(I)||null,J(A,M,te,Ie,null);if(typeof te.then=="function")return X(M,A,I,ul(te),Ie);if(te.$$typeof===B)return X(M,A,I,sl(A,te),Ie);dl(A,te)}return null}function De(M,A,I,te){for(var Ie=null,wt=null,Me=A,nt=A=0,dt=null;Me!==null&&nt<I.length;nt++){Me.index>nt?(dt=Me,Me=null):dt=Me.sibling;var St=G(M,Me,I[nt],te);if(St===null){Me===null&&(Me=dt);break}e&&Me&&St.alternate===null&&t(M,Me),A=f(St,A,nt),wt===null?Ie=St:wt.sibling=St,wt=St,Me=dt}if(nt===I.length)return i(M,Me),pt&&er(M,nt),Ie;if(Me===null){for(;nt<I.length;nt++)Me=ae(M,I[nt],te),Me!==null&&(A=f(Me,A,nt),wt===null?Ie=Me:wt.sibling=Me,wt=Me);return pt&&er(M,nt),Ie}for(Me=o(Me);nt<I.length;nt++)dt=X(Me,M,nt,I[nt],te),dt!==null&&(e&&dt.alternate!==null&&Me.delete(dt.key===null?nt:dt.key),A=f(dt,A,nt),wt===null?Ie=dt:wt.sibling=dt,wt=dt);return e&&Me.forEach(function(Hr){return t(M,Hr)}),pt&&er(M,nt),Ie}function Ve(M,A,I,te){if(I==null)throw Error(s(151));for(var Ie=null,wt=null,Me=A,nt=A=0,dt=null,St=I.next();Me!==null&&!St.done;nt++,St=I.next()){Me.index>nt?(dt=Me,Me=null):dt=Me.sibling;var Hr=G(M,Me,St.value,te);if(Hr===null){Me===null&&(Me=dt);break}e&&Me&&Hr.alternate===null&&t(M,Me),A=f(Hr,A,nt),wt===null?Ie=Hr:wt.sibling=Hr,wt=Hr,Me=dt}if(St.done)return i(M,Me),pt&&er(M,nt),Ie;if(Me===null){for(;!St.done;nt++,St=I.next())St=ae(M,St.value,te),St!==null&&(A=f(St,A,nt),wt===null?Ie=St:wt.sibling=St,wt=St);return pt&&er(M,nt),Ie}for(Me=o(Me);!St.done;nt++,St=I.next())St=X(Me,M,nt,St.value,te),St!==null&&(e&&St.alternate!==null&&Me.delete(St.key===null?nt:St.key),A=f(St,A,nt),wt===null?Ie=St:wt.sibling=St,wt=St);return e&&Me.forEach(function(n2){return t(M,n2)}),pt&&er(M,nt),Ie}function Lt(M,A,I,te){if(typeof I=="object"&&I!==null&&I.type===Z&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case k:e:{for(var Ie=I.key;A!==null;){if(A.key===Ie){if(Ie=I.type,Ie===Z){if(A.tag===7){i(M,A.sibling),te=u(A,I.props.children),te.return=M,M=te;break e}}else if(A.elementType===Ie||typeof Ie=="object"&&Ie!==null&&Ie.$$typeof===de&&ci(Ie)===A.type){i(M,A.sibling),te=u(A,I.props),qs(te,I),te.return=M,M=te;break e}i(M,A);break}else t(M,A);A=A.sibling}I.type===Z?(te=ri(I.props.children,M.mode,te,I.key),te.return=M,M=te):(te=al(I.type,I.key,I.props,null,M.mode,te),qs(te,I),te.return=M,M=te)}return g(M);case j:e:{for(Ie=I.key;A!==null;){if(A.key===Ie)if(A.tag===4&&A.stateNode.containerInfo===I.containerInfo&&A.stateNode.implementation===I.implementation){i(M,A.sibling),te=u(A,I.children||[]),te.return=M,M=te;break e}else{i(M,A);break}else t(M,A);A=A.sibling}te=Su(I,M.mode,te),te.return=M,M=te}return g(M);case de:return I=ci(I),Lt(M,A,I,te)}if(We(I))return De(M,A,I,te);if(Oe(I)){if(Ie=Oe(I),typeof Ie!="function")throw Error(s(150));return I=Ie.call(I),Ve(M,A,I,te)}if(typeof I.then=="function")return Lt(M,A,ul(I),te);if(I.$$typeof===B)return Lt(M,A,sl(M,I),te);dl(M,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,A!==null&&A.tag===6?(i(M,A.sibling),te=u(A,I),te.return=M,M=te):(i(M,A),te=wu(I,M.mode,te),te.return=M,M=te),g(M)):i(M,A)}return function(M,A,I,te){try{Vs=0;var Ie=Lt(M,A,I,te);return Hi=null,Ie}catch(Me){if(Me===$i||Me===ll)throw Me;var wt=Wn(29,Me,null,M.mode);return wt.lanes=te,wt.return=M,wt}finally{}}}var di=nm(!0),am=nm(!1),kr=!1;function Mu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ru(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Cr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Tr(e,t,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Et&2)!==0){var u=o.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),o.pending=t,t=nl(e),$p(e,null,i),t}return tl(e,o,t,i),nl(e)}function Gs(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,oe(e,i)}}function zu(e,t){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var u=null,f=null;if(i=i.firstBaseUpdate,i!==null){do{var g={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};f===null?u=f=g:f=f.next=g,i=i.next}while(i!==null);f===null?u=f=t:f=f.next=t}else u=f=t;i={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Lu=!1;function Ys(){if(Lu){var e=Ii;if(e!==null)throw e}}function Fs(e,t,i,o){Lu=!1;var u=e.updateQueue;kr=!1;var f=u.firstBaseUpdate,g=u.lastBaseUpdate,w=u.shared.pending;if(w!==null){u.shared.pending=null;var T=w,$=T.next;T.next=null,g===null?f=$:g.next=$,g=T;var J=e.alternate;J!==null&&(J=J.updateQueue,w=J.lastBaseUpdate,w!==g&&(w===null?J.firstBaseUpdate=$:w.next=$,J.lastBaseUpdate=T))}if(f!==null){var ae=u.baseState;g=0,J=$=T=null,w=f;do{var G=w.lane&-536870913,X=G!==w.lane;if(X?(ut&G)===G:(o&G)===G){G!==0&&G===Ui&&(Lu=!0),J!==null&&(J=J.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var De=e,Ve=w;G=t;var Lt=i;switch(Ve.tag){case 1:if(De=Ve.payload,typeof De=="function"){ae=De.call(Lt,ae,G);break e}ae=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Ve.payload,G=typeof De=="function"?De.call(Lt,ae,G):De,G==null)break e;ae=b({},ae,G);break e;case 2:kr=!0}}G=w.callback,G!==null&&(e.flags|=64,X&&(e.flags|=8192),X=u.callbacks,X===null?u.callbacks=[G]:X.push(G))}else X={lane:G,tag:w.tag,payload:w.payload,callback:w.callback,next:null},J===null?($=J=X,T=ae):J=J.next=X,g|=G;if(w=w.next,w===null){if(w=u.shared.pending,w===null)break;X=w,w=X.next,X.next=null,u.lastBaseUpdate=X,u.shared.pending=null}}while(!0);J===null&&(T=ae),u.baseState=T,u.firstBaseUpdate=$,u.lastBaseUpdate=J,f===null&&(u.shared.lanes=0),_r|=g,e.lanes=g,e.memoizedState=ae}}function rm(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function im(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)rm(i[e],t)}var Vi=S(null),fl=S(0);function sm(e,t){e=dr,O(fl,e),O(Vi,t),dr=e|t.baseLanes}function Bu(){O(fl,dr),O(Vi,Vi.current)}function Uu(){dr=fl.current,D(Vi),D(fl)}var Jn=S(null),pa=null;function Nr(e){var t=e.alternate;O(on,on.current&1),O(Jn,e),pa===null&&(t===null||Vi.current!==null||t.memoizedState!==null)&&(pa=e)}function Iu(e){O(on,on.current),O(Jn,e),pa===null&&(pa=e)}function om(e){e.tag===22?(O(on,on.current),O(Jn,e),pa===null&&(pa=e)):Or()}function Or(){O(on,on.current),O(Jn,Jn.current)}function ea(e){D(Jn),pa===e&&(pa=null),D(on)}var on=S(0);function hl(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Yd(i)||Fd(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ar=0,et=null,Rt=null,hn=null,pl=!1,qi=!1,fi=!1,ml=0,Ps=0,Gi=null,FS=0;function en(){throw Error(s(321))}function $u(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Qn(e[i],t[i]))return!1;return!0}function Hu(e,t,i,o,u,f){return ar=f,et=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,N.H=e===null||e.memoizedState===null?Gm:nd,fi=!1,f=i(o,u),fi=!1,qi&&(f=cm(t,i,o,u)),lm(e),f}function lm(e){N.H=Ks;var t=Rt!==null&&Rt.next!==null;if(ar=0,hn=Rt=et=null,pl=!1,Ps=0,Gi=null,t)throw Error(s(300));e===null||pn||(e=e.dependencies,e!==null&&il(e)&&(pn=!0))}function cm(e,t,i,o){et=e;var u=0;do{if(qi&&(Gi=null),Ps=0,qi=!1,25<=u)throw Error(s(301));if(u+=1,hn=Rt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}N.H=Ym,f=t(i,o)}while(qi);return f}function PS(){var e=N.H,t=e.useState()[0];return t=typeof t.then=="function"?Zs(t):t,e=e.useState()[0],(Rt!==null?Rt.memoizedState:null)!==e&&(et.flags|=1024),t}function Vu(){var e=ml!==0;return ml=0,e}function qu(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Gu(e){if(pl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}pl=!1}ar=0,hn=Rt=et=null,qi=!1,Ps=ml=0,Gi=null}function Hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?et.memoizedState=hn=e:hn=hn.next=e,hn}function ln(){if(Rt===null){var e=et.alternate;e=e!==null?e.memoizedState:null}else e=Rt.next;var t=hn===null?et.memoizedState:hn.next;if(t!==null)hn=t,Rt=e;else{if(e===null)throw et.alternate===null?Error(s(467)):Error(s(310));Rt=e,e={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},hn===null?et.memoizedState=hn=e:hn=hn.next=e}return hn}function yl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zs(e){var t=Ps;return Ps+=1,Gi===null&&(Gi=[]),e=Jp(Gi,e,t),t=et,(hn===null?t.memoizedState:hn.next)===null&&(t=t.alternate,N.H=t===null||t.memoizedState===null?Gm:nd),e}function gl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zs(e);if(e.$$typeof===B)return On(e)}throw Error(s(438,String(e)))}function Yu(e){var t=null,i=et.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var o=et.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(t={data:o.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=yl(),et.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),o=0;o<e;o++)i[o]=pe;return t.index++,i}function rr(e,t){return typeof t=="function"?t(e):t}function vl(e){var t=ln();return Fu(t,Rt,e)}function Fu(e,t,i){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=e.baseQueue,f=o.pending;if(f!==null){if(u!==null){var g=u.next;u.next=f.next,f.next=g}t.baseQueue=u=f,o.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{t=u.next;var w=g=null,T=null,$=t,J=!1;do{var ae=$.lane&-536870913;if(ae!==$.lane?(ut&ae)===ae:(ar&ae)===ae){var G=$.revertLane;if(G===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ae===Ui&&(J=!0);else if((ar&G)===G){$=$.next,G===Ui&&(J=!0);continue}else ae={lane:0,revertLane:$.revertLane,gesture:null,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},T===null?(w=T=ae,g=f):T=T.next=ae,et.lanes|=G,_r|=G;ae=$.action,fi&&i(f,ae),f=$.hasEagerState?$.eagerState:i(f,ae)}else G={lane:ae,revertLane:$.revertLane,gesture:$.gesture,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},T===null?(w=T=G,g=f):T=T.next=G,et.lanes|=ae,_r|=ae;$=$.next}while($!==null&&$!==t);if(T===null?g=f:T.next=w,!Qn(f,e.memoizedState)&&(pn=!0,J&&(i=Ii,i!==null)))throw i;e.memoizedState=f,e.baseState=g,e.baseQueue=T,o.lastRenderedState=f}return u===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Pu(e){var t=ln(),i=t.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var o=i.dispatch,u=i.pending,f=t.memoizedState;if(u!==null){i.pending=null;var g=u=u.next;do f=e(f,g.action),g=g.next;while(g!==u);Qn(f,t.memoizedState)||(pn=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),i.lastRenderedState=f}return[f,o]}function um(e,t,i){var o=et,u=ln(),f=pt;if(f){if(i===void 0)throw Error(s(407));i=i()}else i=t();var g=!Qn((Rt||u).memoizedState,i);if(g&&(u.memoizedState=i,pn=!0),u=u.queue,Ku(hm.bind(null,o,u,e),[e]),u.getSnapshot!==t||g||hn!==null&&hn.memoizedState.tag&1){if(o.flags|=2048,Yi(9,{destroy:void 0},fm.bind(null,o,u,i,t),null),Bt===null)throw Error(s(349));f||(ar&127)!==0||dm(o,t,i)}return i}function dm(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=et.updateQueue,t===null?(t=yl(),et.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function fm(e,t,i,o){t.value=i,t.getSnapshot=o,pm(t)&&mm(e)}function hm(e,t,i){return i(function(){pm(t)&&mm(e)})}function pm(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Qn(e,i)}catch{return!0}}function mm(e){var t=ai(e,2);t!==null&&Zn(t,e,2)}function Zu(e){var t=Hn();if(typeof e=="function"){var i=e;if(e=i(),fi){Le(!0);try{i()}finally{Le(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:e},t}function ym(e,t,i,o){return e.baseState=i,Fu(e,Rt,typeof o=="function"?o:rr)}function ZS(e,t,i,o,u){if(Sl(e))throw Error(s(485));if(e=t.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};N.T!==null?i(!0):f.isTransition=!1,o(f),i=t.pending,i===null?(f.next=t.pending=f,gm(t,f)):(f.next=i.next,t.pending=i.next=f)}}function gm(e,t){var i=t.action,o=t.payload,u=e.state;if(t.isTransition){var f=N.T,g={};N.T=g;try{var w=i(u,o),T=N.S;T!==null&&T(g,w),vm(e,t,w)}catch($){Xu(e,t,$)}finally{f!==null&&g.types!==null&&(f.types=g.types),N.T=f}}else try{f=i(u,o),vm(e,t,f)}catch($){Xu(e,t,$)}}function vm(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){bm(e,t,o)},function(o){return Xu(e,t,o)}):bm(e,t,i)}function bm(e,t,i){t.status="fulfilled",t.value=i,wm(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,gm(e,i)))}function Xu(e,t,i){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do t.status="rejected",t.reason=i,wm(t),t=t.next;while(t!==o)}e.action=null}function wm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Sm(e,t){return t}function xm(e,t){if(pt){var i=Bt.formState;if(i!==null){e:{var o=et;if(pt){if(Ht){t:{for(var u=Ht,f=ha;u.nodeType!==8;){if(!f){u=null;break t}if(u=ma(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Ht=ma(u.nextSibling),o=u.data==="F!";break e}}xr(o)}o=!1}o&&(t=i[0])}}return i=Hn(),i.memoizedState=i.baseState=t,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sm,lastRenderedState:t},i.queue=o,i=Hm.bind(null,et,o),o.dispatch=i,o=Zu(!1),f=td.bind(null,et,!1,o.queue),o=Hn(),u={state:t,dispatch:null,action:e,pending:null},o.queue=u,i=ZS.bind(null,et,u,f,i),u.dispatch=i,o.memoizedState=e,[t,i,!1]}function Em(e){var t=ln();return km(t,Rt,e)}function km(e,t,i){if(t=Fu(e,t,Sm)[0],e=vl(rr)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var o=Zs(t)}catch(g){throw g===$i?ll:g}else o=t;t=ln();var u=t.queue,f=u.dispatch;return i!==t.memoizedState&&(et.flags|=2048,Yi(9,{destroy:void 0},XS.bind(null,u,i),null)),[o,f,e]}function XS(e,t){e.action=t}function Cm(e){var t=ln(),i=Rt;if(i!==null)return km(t,i,e);ln(),t=t.memoizedState,i=ln();var o=i.queue.dispatch;return i.memoizedState=e,[t,o,!1]}function Yi(e,t,i,o){return e={tag:e,create:i,deps:o,inst:t,next:null},t=et.updateQueue,t===null&&(t=yl(),et.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,t.lastEffect=e),e}function Tm(){return ln().memoizedState}function bl(e,t,i,o){var u=Hn();et.flags|=e,u.memoizedState=Yi(1|t,{destroy:void 0},i,o===void 0?null:o)}function wl(e,t,i,o){var u=ln();o=o===void 0?null:o;var f=u.memoizedState.inst;Rt!==null&&o!==null&&$u(o,Rt.memoizedState.deps)?u.memoizedState=Yi(t,f,i,o):(et.flags|=e,u.memoizedState=Yi(1|t,f,i,o))}function Nm(e,t){bl(8390656,8,e,t)}function Ku(e,t){wl(2048,8,e,t)}function KS(e){et.flags|=4;var t=et.updateQueue;if(t===null)t=yl(),et.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function Om(e){var t=ln().memoizedState;return KS({ref:t,nextImpl:e}),function(){if((Et&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function jm(e,t){return wl(4,2,e,t)}function Am(e,t){return wl(4,4,e,t)}function _m(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Dm(e,t,i){i=i!=null?i.concat([e]):null,wl(4,4,_m.bind(null,t,e),i)}function Qu(){}function Mm(e,t){var i=ln();t=t===void 0?null:t;var o=i.memoizedState;return t!==null&&$u(t,o[1])?o[0]:(i.memoizedState=[e,t],e)}function Rm(e,t){var i=ln();t=t===void 0?null:t;var o=i.memoizedState;if(t!==null&&$u(t,o[1]))return o[0];if(o=e(),fi){Le(!0);try{e()}finally{Le(!1)}}return i.memoizedState=[o,t],o}function Wu(e,t,i){return i===void 0||(ar&1073741824)!==0&&(ut&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=zy(),et.lanes|=e,_r|=e,i)}function zm(e,t,i,o){return Qn(i,t)?i:Vi.current!==null?(e=Wu(e,i,o),Qn(e,t)||(pn=!0),e):(ar&42)===0||(ar&1073741824)!==0&&(ut&261930)===0?(pn=!0,e.memoizedState=i):(e=zy(),et.lanes|=e,_r|=e,t)}function Lm(e,t,i,o,u){var f=V.p;V.p=f!==0&&8>f?f:8;var g=N.T,w={};N.T=w,td(e,!1,t,i);try{var T=u(),$=N.S;if($!==null&&$(w,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var J=YS(T,o);Xs(e,t,J,aa(e))}else Xs(e,t,o,aa(e))}catch(ae){Xs(e,t,{then:function(){},status:"rejected",reason:ae},aa())}finally{V.p=f,g!==null&&w.types!==null&&(g.types=w.types),N.T=g}}function QS(){}function Ju(e,t,i,o){if(e.tag!==5)throw Error(s(476));var u=Bm(e).queue;Lm(e,u,t,W,i===null?QS:function(){return Um(e),i(o)})}function Bm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:W},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rr,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Um(e){var t=Bm(e);t.next===null&&(t=e.alternate.memoizedState),Xs(e,t.next.queue,{},aa())}function ed(){return On(ho)}function Im(){return ln().memoizedState}function $m(){return ln().memoizedState}function WS(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=aa();e=Cr(i);var o=Tr(t,e,i);o!==null&&(Zn(o,t,i),Gs(o,t,i)),t={cache:ju()},e.payload=t;return}t=t.return}}function JS(e,t,i){var o=aa();i={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Sl(e)?Vm(t,i):(i=vu(e,t,i,o),i!==null&&(Zn(i,e,o),qm(i,t,o)))}function Hm(e,t,i){var o=aa();Xs(e,t,i,o)}function Xs(e,t,i,o){var u={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Sl(e))Vm(t,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var g=t.lastRenderedState,w=f(g,i);if(u.hasEagerState=!0,u.eagerState=w,Qn(w,g))return tl(e,t,u,0),Bt===null&&el(),!1}catch{}finally{}if(i=vu(e,t,u,o),i!==null)return Zn(i,e,o),qm(i,t,o),!0}return!1}function td(e,t,i,o){if(o={lane:2,revertLane:Md(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Sl(e)){if(t)throw Error(s(479))}else t=vu(e,i,o,2),t!==null&&Zn(t,e,2)}function Sl(e){var t=e.alternate;return e===et||t!==null&&t===et}function Vm(e,t){qi=pl=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function qm(e,t,i){if((i&4194048)!==0){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,oe(e,i)}}var Ks={readContext:On,use:gl,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useLayoutEffect:en,useInsertionEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useSyncExternalStore:en,useId:en,useHostTransitionStatus:en,useFormState:en,useActionState:en,useOptimistic:en,useMemoCache:en,useCacheRefresh:en};Ks.useEffectEvent=en;var Gm={readContext:On,use:gl,useCallback:function(e,t){return Hn().memoizedState=[e,t===void 0?null:t],e},useContext:On,useEffect:Nm,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,bl(4194308,4,_m.bind(null,t,e),i)},useLayoutEffect:function(e,t){return bl(4194308,4,e,t)},useInsertionEffect:function(e,t){bl(4,2,e,t)},useMemo:function(e,t){var i=Hn();t=t===void 0?null:t;var o=e();if(fi){Le(!0);try{e()}finally{Le(!1)}}return i.memoizedState=[o,t],o},useReducer:function(e,t,i){var o=Hn();if(i!==void 0){var u=i(t);if(fi){Le(!0);try{i(t)}finally{Le(!1)}}}else u=t;return o.memoizedState=o.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},o.queue=e,e=e.dispatch=JS.bind(null,et,e),[o.memoizedState,e]},useRef:function(e){var t=Hn();return e={current:e},t.memoizedState=e},useState:function(e){e=Zu(e);var t=e.queue,i=Hm.bind(null,et,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:Qu,useDeferredValue:function(e,t){var i=Hn();return Wu(i,e,t)},useTransition:function(){var e=Zu(!1);return e=Lm.bind(null,et,e.queue,!0,!1),Hn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var o=et,u=Hn();if(pt){if(i===void 0)throw Error(s(407));i=i()}else{if(i=t(),Bt===null)throw Error(s(349));(ut&127)!==0||dm(o,t,i)}u.memoizedState=i;var f={value:i,getSnapshot:t};return u.queue=f,Nm(hm.bind(null,o,f,e),[e]),o.flags|=2048,Yi(9,{destroy:void 0},fm.bind(null,o,f,i,t),null),i},useId:function(){var e=Hn(),t=Bt.identifierPrefix;if(pt){var i=La,o=za;i=(o&~(1<<32-st(o)-1)).toString(32)+i,t="_"+t+"R_"+i,i=ml++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=FS++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ed,useFormState:xm,useActionState:xm,useOptimistic:function(e){var t=Hn();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=td.bind(null,et,!0,i),i.dispatch=t,[e,t]},useMemoCache:Yu,useCacheRefresh:function(){return Hn().memoizedState=WS.bind(null,et)},useEffectEvent:function(e){var t=Hn(),i={impl:e};return t.memoizedState=i,function(){if((Et&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}},nd={readContext:On,use:gl,useCallback:Mm,useContext:On,useEffect:Ku,useImperativeHandle:Dm,useInsertionEffect:jm,useLayoutEffect:Am,useMemo:Rm,useReducer:vl,useRef:Tm,useState:function(){return vl(rr)},useDebugValue:Qu,useDeferredValue:function(e,t){var i=ln();return zm(i,Rt.memoizedState,e,t)},useTransition:function(){var e=vl(rr)[0],t=ln().memoizedState;return[typeof e=="boolean"?e:Zs(e),t]},useSyncExternalStore:um,useId:Im,useHostTransitionStatus:ed,useFormState:Em,useActionState:Em,useOptimistic:function(e,t){var i=ln();return ym(i,Rt,e,t)},useMemoCache:Yu,useCacheRefresh:$m};nd.useEffectEvent=Om;var Ym={readContext:On,use:gl,useCallback:Mm,useContext:On,useEffect:Ku,useImperativeHandle:Dm,useInsertionEffect:jm,useLayoutEffect:Am,useMemo:Rm,useReducer:Pu,useRef:Tm,useState:function(){return Pu(rr)},useDebugValue:Qu,useDeferredValue:function(e,t){var i=ln();return Rt===null?Wu(i,e,t):zm(i,Rt.memoizedState,e,t)},useTransition:function(){var e=Pu(rr)[0],t=ln().memoizedState;return[typeof e=="boolean"?e:Zs(e),t]},useSyncExternalStore:um,useId:Im,useHostTransitionStatus:ed,useFormState:Cm,useActionState:Cm,useOptimistic:function(e,t){var i=ln();return Rt!==null?ym(i,Rt,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Yu,useCacheRefresh:$m};Ym.useEffectEvent=Om;function ad(e,t,i,o){t=e.memoizedState,i=i(o,t),i=i==null?t:b({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var rd={enqueueSetState:function(e,t,i){e=e._reactInternals;var o=aa(),u=Cr(o);u.payload=t,i!=null&&(u.callback=i),t=Tr(e,u,o),t!==null&&(Zn(t,e,o),Gs(t,e,o))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var o=aa(),u=Cr(o);u.tag=1,u.payload=t,i!=null&&(u.callback=i),t=Tr(e,u,o),t!==null&&(Zn(t,e,o),Gs(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=aa(),o=Cr(i);o.tag=2,t!=null&&(o.callback=t),t=Tr(e,o,i),t!==null&&(Zn(t,e,i),Gs(t,e,i))}};function Fm(e,t,i,o,u,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):t.prototype&&t.prototype.isPureReactComponent?!Ls(i,o)||!Ls(u,f):!0}function Pm(e,t,i,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,o),t.state!==e&&rd.enqueueReplaceState(t,t.state,null)}function hi(e,t){var i=t;if("ref"in t){i={};for(var o in t)o!=="ref"&&(i[o]=t[o])}if(e=e.defaultProps){i===t&&(i=b({},i));for(var u in e)i[u]===void 0&&(i[u]=e[u])}return i}function Zm(e){Jo(e)}function Xm(e){console.error(e)}function Km(e){Jo(e)}function xl(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(o){setTimeout(function(){throw o})}}function Qm(e,t,i){try{var o=e.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function id(e,t,i){return i=Cr(i),i.tag=3,i.payload={element:null},i.callback=function(){xl(e,t)},i}function Wm(e){return e=Cr(e),e.tag=3,e}function Jm(e,t,i,o){var u=i.type.getDerivedStateFromError;if(typeof u=="function"){var f=o.value;e.payload=function(){return u(f)},e.callback=function(){Qm(t,i,o)}}var g=i.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Qm(t,i,o),typeof u!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})})}function ex(e,t,i,o,u){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(t=i.alternate,t!==null&&Bi(t,i,u,!0),i=Jn.current,i!==null){switch(i.tag){case 31:case 13:return pa===null?Rl():i.alternate===null&&tn===0&&(tn=3),i.flags&=-257,i.flags|=65536,i.lanes=u,o===cl?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([o]):t.add(o),Ad(e,o,u)),!1;case 22:return i.flags|=65536,o===cl?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([o]):i.add(o)),Ad(e,o,u)),!1}throw Error(s(435,i.tag))}return Ad(e,o,u),Rl(),!1}if(pt)return t=Jn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,o!==ku&&(e=Error(s(422),{cause:o}),Is(ua(e,i)))):(o!==ku&&(t=Error(s(423),{cause:o}),Is(ua(t,i))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,o=ua(o,i),u=id(e.stateNode,o,u),zu(e,u),tn!==4&&(tn=2)),!1;var f=Error(s(520),{cause:o});if(f=ua(f,i),ro===null?ro=[f]:ro.push(f),tn!==4&&(tn=2),t===null)return!0;o=ua(o,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=u&-u,i.lanes|=e,e=id(i.stateNode,o,e),zu(i,e),!1;case 1:if(t=i.type,f=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Dr===null||!Dr.has(f))))return i.flags|=65536,u&=-u,i.lanes|=u,u=Wm(u),Jm(u,e,i,o),zu(i,u),!1}i=i.return}while(i!==null);return!1}var sd=Error(s(461)),pn=!1;function jn(e,t,i,o){t.child=e===null?am(t,null,i,o):di(t,e.child,i,o)}function ey(e,t,i,o,u){i=i.render;var f=t.ref;if("ref"in o){var g={};for(var w in o)w!=="ref"&&(g[w]=o[w])}else g=o;return oi(t),o=Hu(e,t,i,g,f,u),w=Vu(),e!==null&&!pn?(qu(e,t,u),ir(e,t,u)):(pt&&w&&xu(t),t.flags|=1,jn(e,t,o,u),t.child)}function ty(e,t,i,o,u){if(e===null){var f=i.type;return typeof f=="function"&&!bu(f)&&f.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=f,ny(e,t,f,o,u)):(e=al(i.type,null,o,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!pd(e,u)){var g=f.memoizedProps;if(i=i.compare,i=i!==null?i:Ls,i(g,o)&&e.ref===t.ref)return ir(e,t,u)}return t.flags|=1,e=Ja(f,o),e.ref=t.ref,e.return=t,t.child=e}function ny(e,t,i,o,u){if(e!==null){var f=e.memoizedProps;if(Ls(f,o)&&e.ref===t.ref)if(pn=!1,t.pendingProps=o=f,pd(e,u))(e.flags&131072)!==0&&(pn=!0);else return t.lanes=e.lanes,ir(e,t,u)}return od(e,t,i,o,u)}function ay(e,t,i,o){var u=o.children,f=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((t.flags&128)!==0){if(f=f!==null?f.baseLanes|i:i,e!==null){for(o=t.child=e.child,u=0;o!==null;)u=u|o.lanes|o.childLanes,o=o.sibling;o=u&~f}else o=0,t.child=null;return ry(e,t,f,i,o)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&ol(t,f!==null?f.cachePool:null),f!==null?sm(t,f):Bu(),om(t);else return o=t.lanes=536870912,ry(e,t,f!==null?f.baseLanes|i:i,i,o)}else f!==null?(ol(t,f.cachePool),sm(t,f),Or(),t.memoizedState=null):(e!==null&&ol(t,null),Bu(),Or());return jn(e,t,u,i),t.child}function Qs(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function ry(e,t,i,o,u){var f=_u();return f=f===null?null:{parent:fn._currentValue,pool:f},t.memoizedState={baseLanes:i,cachePool:f},e!==null&&ol(t,null),Bu(),om(t),e!==null&&Bi(e,t,o,!0),t.childLanes=u,null}function El(e,t){return t=Cl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function iy(e,t,i){return di(t,e.child,null,i),e=El(t,t.pendingProps),e.flags|=2,ea(t),t.memoizedState=null,e}function tx(e,t,i){var o=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(pt){if(o.mode==="hidden")return e=El(t,o),t.lanes=536870912,Qs(null,e);if(Iu(t),(e=Ht)?(e=gg(e,ha),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:wr!==null?{id:za,overflow:La}:null,retryLane:536870912,hydrationErrors:null},i=Vp(e),i.return=t,t.child=i,Nn=t,Ht=null)):e=null,e===null)throw xr(t);return t.lanes=536870912,null}return El(t,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Iu(t),u)if(t.flags&256)t.flags&=-257,t=iy(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(pn||Bi(e,t,i,!1),u=(i&e.childLanes)!==0,pn||u){if(o=Bt,o!==null&&(g=_e(o,i),g!==0&&g!==f.retryLane))throw f.retryLane=g,ai(e,g),Zn(o,e,g),sd;Rl(),t=iy(e,t,i)}else e=f.treeContext,Ht=ma(g.nextSibling),Nn=t,pt=!0,Sr=null,ha=!1,e!==null&&Yp(t,e),t=El(t,o),t.flags|=4096;return t}return e=Ja(e.child,{mode:o.mode,children:o.children}),e.ref=t.ref,t.child=e,e.return=t,e}function kl(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function od(e,t,i,o,u){return oi(t),i=Hu(e,t,i,o,void 0,u),o=Vu(),e!==null&&!pn?(qu(e,t,u),ir(e,t,u)):(pt&&o&&xu(t),t.flags|=1,jn(e,t,i,u),t.child)}function sy(e,t,i,o,u,f){return oi(t),t.updateQueue=null,i=cm(t,o,i,u),lm(e),o=Vu(),e!==null&&!pn?(qu(e,t,f),ir(e,t,f)):(pt&&o&&xu(t),t.flags|=1,jn(e,t,i,f),t.child)}function oy(e,t,i,o,u){if(oi(t),t.stateNode===null){var f=Mi,g=i.contextType;typeof g=="object"&&g!==null&&(f=On(g)),f=new i(o,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=rd,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=o,f.state=t.memoizedState,f.refs={},Mu(t),g=i.contextType,f.context=typeof g=="object"&&g!==null?On(g):Mi,f.state=t.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(ad(t,i,g,o),f.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&rd.enqueueReplaceState(f,f.state,null),Fs(t,o,f,u),Ys(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),o=!0}else if(e===null){f=t.stateNode;var w=t.memoizedProps,T=hi(i,w);f.props=T;var $=f.context,J=i.contextType;g=Mi,typeof J=="object"&&J!==null&&(g=On(J));var ae=i.getDerivedStateFromProps;J=typeof ae=="function"||typeof f.getSnapshotBeforeUpdate=="function",w=t.pendingProps!==w,J||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w||$!==g)&&Pm(t,f,o,g),kr=!1;var G=t.memoizedState;f.state=G,Fs(t,o,f,u),Ys(),$=t.memoizedState,w||G!==$||kr?(typeof ae=="function"&&(ad(t,i,ae,o),$=t.memoizedState),(T=kr||Fm(t,i,T,o,G,$,g))?(J||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=$),f.props=o,f.state=$,f.context=g,o=T):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{f=t.stateNode,Ru(e,t),g=t.memoizedProps,J=hi(i,g),f.props=J,ae=t.pendingProps,G=f.context,$=i.contextType,T=Mi,typeof $=="object"&&$!==null&&(T=On($)),w=i.getDerivedStateFromProps,($=typeof w=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==ae||G!==T)&&Pm(t,f,o,T),kr=!1,G=t.memoizedState,f.state=G,Fs(t,o,f,u),Ys();var X=t.memoizedState;g!==ae||G!==X||kr||e!==null&&e.dependencies!==null&&il(e.dependencies)?(typeof w=="function"&&(ad(t,i,w,o),X=t.memoizedState),(J=kr||Fm(t,i,J,o,G,X,T)||e!==null&&e.dependencies!==null&&il(e.dependencies))?($||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,X,T),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,X,T)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&G===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&G===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=X),f.props=o,f.state=X,f.context=T,o=J):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&G===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&G===e.memoizedState||(t.flags|=1024),o=!1)}return f=o,kl(e,t),o=(t.flags&128)!==0,f||o?(f=t.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&o?(t.child=di(t,e.child,null,u),t.child=di(t,null,i,u)):jn(e,t,i,u),t.memoizedState=f.state,e=t.child):e=ir(e,t,u),e}function ly(e,t,i,o){return ii(),t.flags|=256,jn(e,t,i,o),t.child}var ld={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cd(e){return{baseLanes:e,cachePool:Qp()}}function ud(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=na),e}function cy(e,t,i){var o=t.pendingProps,u=!1,f=(t.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(on.current&2)!==0),g&&(u=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(pt){if(u?Nr(t):Or(),(e=Ht)?(e=gg(e,ha),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:wr!==null?{id:za,overflow:La}:null,retryLane:536870912,hydrationErrors:null},i=Vp(e),i.return=t,t.child=i,Nn=t,Ht=null)):e=null,e===null)throw xr(t);return Fd(e)?t.lanes=32:t.lanes=536870912,null}var w=o.children;return o=o.fallback,u?(Or(),u=t.mode,w=Cl({mode:"hidden",children:w},u),o=ri(o,u,i,null),w.return=t,o.return=t,w.sibling=o,t.child=w,o=t.child,o.memoizedState=cd(i),o.childLanes=ud(e,g,i),t.memoizedState=ld,Qs(null,o)):(Nr(t),dd(t,w))}var T=e.memoizedState;if(T!==null&&(w=T.dehydrated,w!==null)){if(f)t.flags&256?(Nr(t),t.flags&=-257,t=fd(e,t,i)):t.memoizedState!==null?(Or(),t.child=e.child,t.flags|=128,t=null):(Or(),w=o.fallback,u=t.mode,o=Cl({mode:"visible",children:o.children},u),w=ri(w,u,i,null),w.flags|=2,o.return=t,w.return=t,o.sibling=w,t.child=o,di(t,e.child,null,i),o=t.child,o.memoizedState=cd(i),o.childLanes=ud(e,g,i),t.memoizedState=ld,t=Qs(null,o));else if(Nr(t),Fd(w)){if(g=w.nextSibling&&w.nextSibling.dataset,g)var $=g.dgst;g=$,o=Error(s(419)),o.stack="",o.digest=g,Is({value:o,source:null,stack:null}),t=fd(e,t,i)}else if(pn||Bi(e,t,i,!1),g=(i&e.childLanes)!==0,pn||g){if(g=Bt,g!==null&&(o=_e(g,i),o!==0&&o!==T.retryLane))throw T.retryLane=o,ai(e,o),Zn(g,e,o),sd;Yd(w)||Rl(),t=fd(e,t,i)}else Yd(w)?(t.flags|=192,t.child=e.child,t=null):(e=T.treeContext,Ht=ma(w.nextSibling),Nn=t,pt=!0,Sr=null,ha=!1,e!==null&&Yp(t,e),t=dd(t,o.children),t.flags|=4096);return t}return u?(Or(),w=o.fallback,u=t.mode,T=e.child,$=T.sibling,o=Ja(T,{mode:"hidden",children:o.children}),o.subtreeFlags=T.subtreeFlags&65011712,$!==null?w=Ja($,w):(w=ri(w,u,i,null),w.flags|=2),w.return=t,o.return=t,o.sibling=w,t.child=o,Qs(null,o),o=t.child,w=e.child.memoizedState,w===null?w=cd(i):(u=w.cachePool,u!==null?(T=fn._currentValue,u=u.parent!==T?{parent:T,pool:T}:u):u=Qp(),w={baseLanes:w.baseLanes|i,cachePool:u}),o.memoizedState=w,o.childLanes=ud(e,g,i),t.memoizedState=ld,Qs(e.child,o)):(Nr(t),i=e.child,e=i.sibling,i=Ja(i,{mode:"visible",children:o.children}),i.return=t,i.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=i,t.memoizedState=null,i)}function dd(e,t){return t=Cl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Cl(e,t){return e=Wn(22,e,null,t),e.lanes=0,e}function fd(e,t,i){return di(t,e.child,null,i),e=dd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function uy(e,t,i){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Nu(e.return,t,i)}function hd(e,t,i,o,u,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:u,treeForkCount:f}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=i,g.tailMode=u,g.treeForkCount=f)}function dy(e,t,i){var o=t.pendingProps,u=o.revealOrder,f=o.tail;o=o.children;var g=on.current,w=(g&2)!==0;if(w?(g=g&1|2,t.flags|=128):g&=1,O(on,g),jn(e,t,o,i),o=pt?Us:0,!w&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&uy(e,i,t);else if(e.tag===19)uy(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(i=t.child,u=null;i!==null;)e=i.alternate,e!==null&&hl(e)===null&&(u=i),i=i.sibling;i=u,i===null?(u=t.child,t.child=null):(u=i.sibling,i.sibling=null),hd(t,!1,u,i,f,o);break;case"backwards":case"unstable_legacy-backwards":for(i=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&hl(e)===null){t.child=u;break}e=u.sibling,u.sibling=i,i=u,u=e}hd(t,!0,i,null,f,o);break;case"together":hd(t,!1,null,null,void 0,o);break;default:t.memoizedState=null}return t.child}function ir(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),_r|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(Bi(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,i=Ja(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Ja(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function pd(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&il(e)))}function nx(e,t,i){switch(t.tag){case 3:Ge(t,t.stateNode.containerInfo),Er(t,fn,e.memoizedState.cache),ii();break;case 27:case 5:tt(t);break;case 4:Ge(t,t.stateNode.containerInfo);break;case 10:Er(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Iu(t),null;break;case 13:var o=t.memoizedState;if(o!==null)return o.dehydrated!==null?(Nr(t),t.flags|=128,null):(i&t.child.childLanes)!==0?cy(e,t,i):(Nr(t),e=ir(e,t,i),e!==null?e.sibling:null);Nr(t);break;case 19:var u=(e.flags&128)!==0;if(o=(i&t.childLanes)!==0,o||(Bi(e,t,i,!1),o=(i&t.childLanes)!==0),u){if(o)return dy(e,t,i);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),O(on,on.current),o)break;return null;case 22:return t.lanes=0,ay(e,t,i,t.pendingProps);case 24:Er(t,fn,e.memoizedState.cache)}return ir(e,t,i)}function fy(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)pn=!0;else{if(!pd(e,i)&&(t.flags&128)===0)return pn=!1,nx(e,t,i);pn=(e.flags&131072)!==0}else pn=!1,pt&&(t.flags&1048576)!==0&&Gp(t,Us,t.index);switch(t.lanes=0,t.tag){case 16:e:{var o=t.pendingProps;if(e=ci(t.elementType),t.type=e,typeof e=="function")bu(e)?(o=hi(e,o),t.tag=1,t=oy(null,t,e,o,i)):(t.tag=0,t=od(null,t,e,o,i));else{if(e!=null){var u=e.$$typeof;if(u===Y){t.tag=11,t=ey(null,t,e,o,i);break e}else if(u===H){t.tag=14,t=ty(null,t,e,o,i);break e}}throw t=it(e)||e,Error(s(306,t,""))}}return t;case 0:return od(e,t,t.type,t.pendingProps,i);case 1:return o=t.type,u=hi(o,t.pendingProps),oy(e,t,o,u,i);case 3:e:{if(Ge(t,t.stateNode.containerInfo),e===null)throw Error(s(387));o=t.pendingProps;var f=t.memoizedState;u=f.element,Ru(e,t),Fs(t,o,null,i);var g=t.memoizedState;if(o=g.cache,Er(t,fn,o),o!==f.cache&&Ou(t,[fn],i,!0),Ys(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=ly(e,t,o,i);break e}else if(o!==u){u=ua(Error(s(424)),t),Is(u),t=ly(e,t,o,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ht=ma(e.firstChild),Nn=t,pt=!0,Sr=null,ha=!0,i=am(t,null,o,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(ii(),o===u){t=ir(e,t,i);break e}jn(e,t,o,i)}t=t.child}return t;case 26:return kl(e,t),e===null?(i=Eg(t.type,null,t.pendingProps,null))?t.memoizedState=i:pt||(i=t.type,e=t.pendingProps,o=Hl(ve.current).createElement(i),o[Ze]=t,o[Tn]=e,An(o,i,e),ne(o),t.stateNode=o):t.memoizedState=Eg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return tt(t),e===null&&pt&&(o=t.stateNode=wg(t.type,t.pendingProps,ve.current),Nn=t,ha=!0,u=Ht,Lr(t.type)?(Pd=u,Ht=ma(o.firstChild)):Ht=u),jn(e,t,t.pendingProps.children,i),kl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&pt&&((u=o=Ht)&&(o=Dx(o,t.type,t.pendingProps,ha),o!==null?(t.stateNode=o,Nn=t,Ht=ma(o.firstChild),ha=!1,u=!0):u=!1),u||xr(t)),tt(t),u=t.type,f=t.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,Vd(u,f)?o=null:g!==null&&Vd(u,g)&&(t.flags|=32),t.memoizedState!==null&&(u=Hu(e,t,PS,null,null,i),ho._currentValue=u),kl(e,t),jn(e,t,o,i),t.child;case 6:return e===null&&pt&&((e=i=Ht)&&(i=Mx(i,t.pendingProps,ha),i!==null?(t.stateNode=i,Nn=t,Ht=null,e=!0):e=!1),e||xr(t)),null;case 13:return cy(e,t,i);case 4:return Ge(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=di(t,null,o,i):jn(e,t,o,i),t.child;case 11:return ey(e,t,t.type,t.pendingProps,i);case 7:return jn(e,t,t.pendingProps,i),t.child;case 8:return jn(e,t,t.pendingProps.children,i),t.child;case 12:return jn(e,t,t.pendingProps.children,i),t.child;case 10:return o=t.pendingProps,Er(t,t.type,o.value),jn(e,t,o.children,i),t.child;case 9:return u=t.type._context,o=t.pendingProps.children,oi(t),u=On(u),o=o(u),t.flags|=1,jn(e,t,o,i),t.child;case 14:return ty(e,t,t.type,t.pendingProps,i);case 15:return ny(e,t,t.type,t.pendingProps,i);case 19:return dy(e,t,i);case 31:return tx(e,t,i);case 22:return ay(e,t,i,t.pendingProps);case 24:return oi(t),o=On(fn),e===null?(u=_u(),u===null&&(u=Bt,f=ju(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=i),u=f),t.memoizedState={parent:o,cache:u},Mu(t),Er(t,fn,u)):((e.lanes&i)!==0&&(Ru(e,t),Fs(t,null,null,i),Ys()),u=e.memoizedState,f=t.memoizedState,u.parent!==o?(u={parent:o,cache:o},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Er(t,fn,o)):(o=f.cache,Er(t,fn,o),o!==u.cache&&Ou(t,[fn],i,!0))),jn(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function sr(e){e.flags|=4}function md(e,t,i,o,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Iy())e.flags|=8192;else throw ui=cl,Du}else e.flags&=-16777217}function hy(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Og(t))if(Iy())e.flags|=8192;else throw ui=cl,Du}function Tl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Pa():536870912,e.lanes|=t,Xi|=t)}function Ws(e,t){if(!pt)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Vt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(t)for(var u=e.child;u!==null;)i|=u.lanes|u.childLanes,o|=u.subtreeFlags&65011712,o|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)i|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=o,e.childLanes=i,t}function ax(e,t,i){var o=t.pendingProps;switch(Eu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vt(t),null;case 1:return Vt(t),null;case 3:return i=t.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),t.memoizedState.cache!==o&&(t.flags|=2048),nr(fn),Ue(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Li(t)?sr(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Cu())),Vt(t),null;case 26:var u=t.type,f=t.memoizedState;return e===null?(sr(t),f!==null?(Vt(t),hy(t,f)):(Vt(t),md(t,u,null,o,i))):f?f!==e.memoizedState?(sr(t),Vt(t),hy(t,f)):(Vt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==o&&sr(t),Vt(t),md(t,u,e,o,i)),null;case 27:if(gt(t),i=ve.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==o&&sr(t);else{if(!o){if(t.stateNode===null)throw Error(s(166));return Vt(t),null}e=z.current,Li(t)?Fp(t):(e=wg(u,o,i),t.stateNode=e,sr(t))}return Vt(t),null;case 5:if(gt(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==o&&sr(t);else{if(!o){if(t.stateNode===null)throw Error(s(166));return Vt(t),null}if(f=z.current,Li(t))Fp(t);else{var g=Hl(ve.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(u,{is:o.is}):g.createElement(u)}}f[Ze]=t,f[Tn]=o;e:for(g=t.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}t.stateNode=f;e:switch(An(f,u,o),u){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&sr(t)}}return Vt(t),md(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==o&&sr(t);else{if(typeof o!="string"&&t.stateNode===null)throw Error(s(166));if(e=ve.current,Li(t)){if(e=t.stateNode,i=t.memoizedProps,o=null,u=Nn,u!==null)switch(u.tag){case 27:case 5:o=u.memoizedProps}e[Ze]=t,e=!!(e.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||cg(e.nodeValue,i)),e||xr(t,!0)}else e=Hl(e).createTextNode(o),e[Ze]=t,t.stateNode=e}return Vt(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(o=Li(t),i!==null){if(e===null){if(!o)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Ze]=t}else ii(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Vt(t),e=!1}else i=Cu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(ea(t),t):(ea(t),null);if((t.flags&128)!==0)throw Error(s(558))}return Vt(t),null;case 13:if(o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Li(t),o!==null&&o.dehydrated!==null){if(e===null){if(!u)throw Error(s(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(s(317));u[Ze]=t}else ii(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Vt(t),u=!1}else u=Cu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(ea(t),t):(ea(t),null)}return ea(t),(t.flags&128)!==0?(t.lanes=i,t):(i=o!==null,e=e!==null&&e.memoizedState!==null,i&&(o=t.child,u=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(u=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==u&&(o.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),Tl(t,t.updateQueue),Vt(t),null);case 4:return Ue(),e===null&&Bd(t.stateNode.containerInfo),Vt(t),null;case 10:return nr(t.type),Vt(t),null;case 19:if(D(on),o=t.memoizedState,o===null)return Vt(t),null;if(u=(t.flags&128)!==0,f=o.rendering,f===null)if(u)Ws(o,!1);else{if(tn!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=hl(e),f!==null){for(t.flags|=128,Ws(o,!1),e=f.updateQueue,t.updateQueue=e,Tl(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Hp(i,e),i=i.sibling;return O(on,on.current&1|2),pt&&er(t,o.treeForkCount),t.child}e=e.sibling}o.tail!==null&&C()>_l&&(t.flags|=128,u=!0,Ws(o,!1),t.lanes=4194304)}else{if(!u)if(e=hl(f),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Tl(t,e),Ws(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!pt)return Vt(t),null}else 2*C()-o.renderingStartTime>_l&&i!==536870912&&(t.flags|=128,u=!0,Ws(o,!1),t.lanes=4194304);o.isBackwards?(f.sibling=t.child,t.child=f):(e=o.last,e!==null?e.sibling=f:t.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=C(),e.sibling=null,i=on.current,O(on,u?i&1|2:i&1),pt&&er(t,o.treeForkCount),e):(Vt(t),null);case 22:case 23:return ea(t),Uu(),o=t.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(t.flags|=8192):o&&(t.flags|=8192),o?(i&536870912)!==0&&(t.flags&128)===0&&(Vt(t),t.subtreeFlags&6&&(t.flags|=8192)):Vt(t),i=t.updateQueue,i!==null&&Tl(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),o=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),o!==i&&(t.flags|=2048),e!==null&&D(li),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),nr(fn),Vt(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function rx(e,t){switch(Eu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nr(fn),Ue(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return gt(t),null;case 31:if(t.memoizedState!==null){if(ea(t),t.alternate===null)throw Error(s(340));ii()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(ea(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));ii()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return D(on),null;case 4:return Ue(),null;case 10:return nr(t.type),null;case 22:case 23:return ea(t),Uu(),e!==null&&D(li),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return nr(fn),null;case 25:return null;default:return null}}function py(e,t){switch(Eu(t),t.tag){case 3:nr(fn),Ue();break;case 26:case 27:case 5:gt(t);break;case 4:Ue();break;case 31:t.memoizedState!==null&&ea(t);break;case 13:ea(t);break;case 19:D(on);break;case 10:nr(t.type);break;case 22:case 23:ea(t),Uu(),e!==null&&D(li);break;case 24:nr(fn)}}function Js(e,t){try{var i=t.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var u=o.next;i=u;do{if((i.tag&e)===e){o=void 0;var f=i.create,g=i.inst;o=f(),g.destroy=o}i=i.next}while(i!==u)}}catch(w){At(t,t.return,w)}}function jr(e,t,i){try{var o=t.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&e)===e){var g=o.inst,w=g.destroy;if(w!==void 0){g.destroy=void 0,u=t;var T=i,$=w;try{$()}catch(J){At(u,T,J)}}}o=o.next}while(o!==f)}}catch(J){At(t,t.return,J)}}function my(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{im(t,i)}catch(o){At(e,e.return,o)}}}function yy(e,t,i){i.props=hi(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(o){At(e,t,o)}}function eo(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof i=="function"?e.refCleanup=i(o):i.current=o}}catch(u){At(e,t,u)}}function Ba(e,t){var i=e.ref,o=e.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(u){At(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(u){At(e,t,u)}else i.current=null}function gy(e){var t=e.type,i=e.memoizedProps,o=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break e;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(u){At(e,e.return,u)}}function yd(e,t,i){try{var o=e.stateNode;Tx(o,e.type,i,t),o[Tn]=t}catch(u){At(e,e.return,u)}}function vy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Lr(e.type)||e.tag===4}function gd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Lr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vd(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Qa));else if(o!==4&&(o===27&&Lr(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(vd(e,t,i),e=e.sibling;e!==null;)vd(e,t,i),e=e.sibling}function Nl(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(o!==4&&(o===27&&Lr(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Nl(e,t,i),e=e.sibling;e!==null;)Nl(e,t,i),e=e.sibling}function by(e){var t=e.stateNode,i=e.memoizedProps;try{for(var o=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);An(t,o,i),t[Ze]=e,t[Tn]=i}catch(f){At(e,e.return,f)}}var or=!1,mn=!1,bd=!1,wy=typeof WeakSet=="function"?WeakSet:Set,kn=null;function ix(e,t){if(e=e.containerInfo,$d=Zl,e=Dp(e),fu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var u=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{i.nodeType,f.nodeType}catch{i=null;break e}var g=0,w=-1,T=-1,$=0,J=0,ae=e,G=null;t:for(;;){for(var X;ae!==i||u!==0&&ae.nodeType!==3||(w=g+u),ae!==f||o!==0&&ae.nodeType!==3||(T=g+o),ae.nodeType===3&&(g+=ae.nodeValue.length),(X=ae.firstChild)!==null;)G=ae,ae=X;for(;;){if(ae===e)break t;if(G===i&&++$===u&&(w=g),G===f&&++J===o&&(T=g),(X=ae.nextSibling)!==null)break;ae=G,G=ae.parentNode}ae=X}i=w===-1||T===-1?null:{start:w,end:T}}else i=null}i=i||{start:0,end:0}}else i=null;for(Hd={focusedElem:e,selectionRange:i},Zl=!1,kn=t;kn!==null;)if(t=kn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,kn=e;else for(;kn!==null;){switch(t=kn,f=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)u=e[i],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,i=t,u=f.memoizedProps,f=f.memoizedState,o=i.stateNode;try{var De=hi(i.type,u);e=o.getSnapshotBeforeUpdate(De,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(Ve){At(i,i.return,Ve)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Gd(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Gd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,kn=e;break}kn=t.return}}function Sy(e,t,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:cr(e,i),o&4&&Js(5,i);break;case 1:if(cr(e,i),o&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(g){At(i,i.return,g)}else{var u=hi(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){At(i,i.return,g)}}o&64&&my(i),o&512&&eo(i,i.return);break;case 3:if(cr(e,i),o&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{im(e,t)}catch(g){At(i,i.return,g)}}break;case 27:t===null&&o&4&&by(i);case 26:case 5:cr(e,i),t===null&&o&4&&gy(i),o&512&&eo(i,i.return);break;case 12:cr(e,i);break;case 31:cr(e,i),o&4&&ky(e,i);break;case 13:cr(e,i),o&4&&Cy(e,i),o&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=px.bind(null,i),Rx(e,i))));break;case 22:if(o=i.memoizedState!==null||or,!o){t=t!==null&&t.memoizedState!==null||mn,u=or;var f=mn;or=o,(mn=t)&&!f?ur(e,i,(i.subtreeFlags&8772)!==0):cr(e,i),or=u,mn=f}break;case 30:break;default:cr(e,i)}}function xy(e){var t=e.alternate;t!==null&&(e.alternate=null,xy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ea(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ft=null,Gn=!1;function lr(e,t,i){for(i=i.child;i!==null;)Ey(e,t,i),i=i.sibling}function Ey(e,t,i){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(Be,i)}catch{}switch(i.tag){case 26:mn||Ba(i,t),lr(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:mn||Ba(i,t);var o=Ft,u=Gn;Lr(i.type)&&(Ft=i.stateNode,Gn=!1),lr(e,t,i),co(i.stateNode),Ft=o,Gn=u;break;case 5:mn||Ba(i,t);case 6:if(o=Ft,u=Gn,Ft=null,lr(e,t,i),Ft=o,Gn=u,Ft!==null)if(Gn)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(i.stateNode)}catch(f){At(i,t,f)}else try{Ft.removeChild(i.stateNode)}catch(f){At(i,t,f)}break;case 18:Ft!==null&&(Gn?(e=Ft,mg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),as(e)):mg(Ft,i.stateNode));break;case 4:o=Ft,u=Gn,Ft=i.stateNode.containerInfo,Gn=!0,lr(e,t,i),Ft=o,Gn=u;break;case 0:case 11:case 14:case 15:jr(2,i,t),mn||jr(4,i,t),lr(e,t,i);break;case 1:mn||(Ba(i,t),o=i.stateNode,typeof o.componentWillUnmount=="function"&&yy(i,t,o)),lr(e,t,i);break;case 21:lr(e,t,i);break;case 22:mn=(o=mn)||i.memoizedState!==null,lr(e,t,i),mn=o;break;default:lr(e,t,i)}}function ky(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{as(e)}catch(i){At(t,t.return,i)}}}function Cy(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{as(e)}catch(i){At(t,t.return,i)}}function sx(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new wy),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new wy),t;default:throw Error(s(435,e.tag))}}function Ol(e,t){var i=sx(e);t.forEach(function(o){if(!i.has(o)){i.add(o);var u=mx.bind(null,e,o);o.then(u,u)}})}function Yn(e,t){var i=t.deletions;if(i!==null)for(var o=0;o<i.length;o++){var u=i[o],f=e,g=t,w=g;e:for(;w!==null;){switch(w.tag){case 27:if(Lr(w.type)){Ft=w.stateNode,Gn=!1;break e}break;case 5:Ft=w.stateNode,Gn=!1;break e;case 3:case 4:Ft=w.stateNode.containerInfo,Gn=!0;break e}w=w.return}if(Ft===null)throw Error(s(160));Ey(f,g,u),Ft=null,Gn=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Ty(t,e),t=t.sibling}var Ca=null;function Ty(e,t){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Yn(t,e),Fn(e),o&4&&(jr(3,e,e.return),Js(3,e),jr(5,e,e.return));break;case 1:Yn(t,e),Fn(e),o&512&&(mn||i===null||Ba(i,i.return)),o&64&&or&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var u=Ca;if(Yn(t,e),Fn(e),o&512&&(mn||i===null||Ba(i,i.return)),o&4){var f=i!==null?i.memoizedState:null;if(o=e.memoizedState,i===null)if(o===null)if(e.stateNode===null){e:{o=e.type,i=e.memoizedProps,u=u.ownerDocument||u;t:switch(o){case"title":f=u.getElementsByTagName("title")[0],(!f||f[xa]||f[Ze]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(o),u.head.insertBefore(f,u.querySelector("head > title"))),An(f,o,i),f[Ze]=e,ne(f),o=f;break e;case"link":var g=Tg("link","href",u).get(o+(i.href||""));if(g){for(var w=0;w<g.length;w++)if(f=g[w],f.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&f.getAttribute("rel")===(i.rel==null?null:i.rel)&&f.getAttribute("title")===(i.title==null?null:i.title)&&f.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){g.splice(w,1);break t}}f=u.createElement(o),An(f,o,i),u.head.appendChild(f);break;case"meta":if(g=Tg("meta","content",u).get(o+(i.content||""))){for(w=0;w<g.length;w++)if(f=g[w],f.getAttribute("content")===(i.content==null?null:""+i.content)&&f.getAttribute("name")===(i.name==null?null:i.name)&&f.getAttribute("property")===(i.property==null?null:i.property)&&f.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&f.getAttribute("charset")===(i.charSet==null?null:i.charSet)){g.splice(w,1);break t}}f=u.createElement(o),An(f,o,i),u.head.appendChild(f);break;default:throw Error(s(468,o))}f[Ze]=e,ne(f),o=f}e.stateNode=o}else Ng(u,e.type,e.stateNode);else e.stateNode=Cg(u,o,e.memoizedProps);else f!==o?(f===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):f.count--,o===null?Ng(u,e.type,e.stateNode):Cg(u,o,e.memoizedProps)):o===null&&e.stateNode!==null&&yd(e,e.memoizedProps,i.memoizedProps)}break;case 27:Yn(t,e),Fn(e),o&512&&(mn||i===null||Ba(i,i.return)),i!==null&&o&4&&yd(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Yn(t,e),Fn(e),o&512&&(mn||i===null||Ba(i,i.return)),e.flags&32){u=e.stateNode;try{Ti(u,"")}catch(De){At(e,e.return,De)}}o&4&&e.stateNode!=null&&(u=e.memoizedProps,yd(e,u,i!==null?i.memoizedProps:u)),o&1024&&(bd=!0);break;case 6:if(Yn(t,e),Fn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,i=e.stateNode;try{i.nodeValue=o}catch(De){At(e,e.return,De)}}break;case 3:if(Gl=null,u=Ca,Ca=Vl(t.containerInfo),Yn(t,e),Ca=u,Fn(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{as(t.containerInfo)}catch(De){At(e,e.return,De)}bd&&(bd=!1,Ny(e));break;case 4:o=Ca,Ca=Vl(e.stateNode.containerInfo),Yn(t,e),Fn(e),Ca=o;break;case 12:Yn(t,e),Fn(e);break;case 31:Yn(t,e),Fn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ol(e,o)));break;case 13:Yn(t,e),Fn(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Al=C()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ol(e,o)));break;case 22:u=e.memoizedState!==null;var T=i!==null&&i.memoizedState!==null,$=or,J=mn;if(or=$||u,mn=J||T,Yn(t,e),mn=J,or=$,Fn(e),o&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(i===null||T||or||mn||pi(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){T=i=t;try{if(f=T.stateNode,u)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{w=T.stateNode;var ae=T.memoizedProps.style,G=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;w.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(De){At(T,T.return,De)}}}else if(t.tag===6){if(i===null){T=t;try{T.stateNode.nodeValue=u?"":T.memoizedProps}catch(De){At(T,T.return,De)}}}else if(t.tag===18){if(i===null){T=t;try{var X=T.stateNode;u?yg(X,!0):yg(T.stateNode,!1)}catch(De){At(T,T.return,De)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}o&4&&(o=e.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,Ol(e,i))));break;case 19:Yn(t,e),Fn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ol(e,o)));break;case 30:break;case 21:break;default:Yn(t,e),Fn(e)}}function Fn(e){var t=e.flags;if(t&2){try{for(var i,o=e.return;o!==null;){if(vy(o)){i=o;break}o=o.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var u=i.stateNode,f=gd(e);Nl(e,f,u);break;case 5:var g=i.stateNode;i.flags&32&&(Ti(g,""),i.flags&=-33);var w=gd(e);Nl(e,w,g);break;case 3:case 4:var T=i.stateNode.containerInfo,$=gd(e);vd(e,$,T);break;default:throw Error(s(161))}}catch(J){At(e,e.return,J)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ny(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Ny(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function cr(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Sy(e,t.alternate,t),t=t.sibling}function pi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:jr(4,t,t.return),pi(t);break;case 1:Ba(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&yy(t,t.return,i),pi(t);break;case 27:co(t.stateNode);case 26:case 5:Ba(t,t.return),pi(t);break;case 22:t.memoizedState===null&&pi(t);break;case 30:pi(t);break;default:pi(t)}e=e.sibling}}function ur(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var o=t.alternate,u=e,f=t,g=f.flags;switch(f.tag){case 0:case 11:case 15:ur(u,f,i),Js(4,f);break;case 1:if(ur(u,f,i),o=f,u=o.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch($){At(o,o.return,$)}if(o=f,u=o.updateQueue,u!==null){var w=o.stateNode;try{var T=u.shared.hiddenCallbacks;if(T!==null)for(u.shared.hiddenCallbacks=null,u=0;u<T.length;u++)rm(T[u],w)}catch($){At(o,o.return,$)}}i&&g&64&&my(f),eo(f,f.return);break;case 27:by(f);case 26:case 5:ur(u,f,i),i&&o===null&&g&4&&gy(f),eo(f,f.return);break;case 12:ur(u,f,i);break;case 31:ur(u,f,i),i&&g&4&&ky(u,f);break;case 13:ur(u,f,i),i&&g&4&&Cy(u,f);break;case 22:f.memoizedState===null&&ur(u,f,i),eo(f,f.return);break;case 30:break;default:ur(u,f,i)}t=t.sibling}}function wd(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&$s(i))}function Sd(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$s(e))}function Ta(e,t,i,o){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Oy(e,t,i,o),t=t.sibling}function Oy(e,t,i,o){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Ta(e,t,i,o),u&2048&&Js(9,t);break;case 1:Ta(e,t,i,o);break;case 3:Ta(e,t,i,o),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$s(e)));break;case 12:if(u&2048){Ta(e,t,i,o),e=t.stateNode;try{var f=t.memoizedProps,g=f.id,w=f.onPostCommit;typeof w=="function"&&w(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){At(t,t.return,T)}}else Ta(e,t,i,o);break;case 31:Ta(e,t,i,o);break;case 13:Ta(e,t,i,o);break;case 23:break;case 22:f=t.stateNode,g=t.alternate,t.memoizedState!==null?f._visibility&2?Ta(e,t,i,o):to(e,t):f._visibility&2?Ta(e,t,i,o):(f._visibility|=2,Fi(e,t,i,o,(t.subtreeFlags&10256)!==0||!1)),u&2048&&wd(g,t);break;case 24:Ta(e,t,i,o),u&2048&&Sd(t.alternate,t);break;default:Ta(e,t,i,o)}}function Fi(e,t,i,o,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var f=e,g=t,w=i,T=o,$=g.flags;switch(g.tag){case 0:case 11:case 15:Fi(f,g,w,T,u),Js(8,g);break;case 23:break;case 22:var J=g.stateNode;g.memoizedState!==null?J._visibility&2?Fi(f,g,w,T,u):to(f,g):(J._visibility|=2,Fi(f,g,w,T,u)),u&&$&2048&&wd(g.alternate,g);break;case 24:Fi(f,g,w,T,u),u&&$&2048&&Sd(g.alternate,g);break;default:Fi(f,g,w,T,u)}t=t.sibling}}function to(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,o=t,u=o.flags;switch(o.tag){case 22:to(i,o),u&2048&&wd(o.alternate,o);break;case 24:to(i,o),u&2048&&Sd(o.alternate,o);break;default:to(i,o)}t=t.sibling}}var no=8192;function Pi(e,t,i){if(e.subtreeFlags&no)for(e=e.child;e!==null;)jy(e,t,i),e=e.sibling}function jy(e,t,i){switch(e.tag){case 26:Pi(e,t,i),e.flags&no&&e.memoizedState!==null&&Fx(i,Ca,e.memoizedState,e.memoizedProps);break;case 5:Pi(e,t,i);break;case 3:case 4:var o=Ca;Ca=Vl(e.stateNode.containerInfo),Pi(e,t,i),Ca=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=no,no=16777216,Pi(e,t,i),no=o):Pi(e,t,i));break;default:Pi(e,t,i)}}function Ay(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ao(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var o=t[i];kn=o,Dy(o,e)}Ay(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_y(e),e=e.sibling}function _y(e){switch(e.tag){case 0:case 11:case 15:ao(e),e.flags&2048&&jr(9,e,e.return);break;case 3:ao(e);break;case 12:ao(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,jl(e)):ao(e);break;default:ao(e)}}function jl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var o=t[i];kn=o,Dy(o,e)}Ay(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:jr(8,t,t.return),jl(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,jl(t));break;default:jl(t)}e=e.sibling}}function Dy(e,t){for(;kn!==null;){var i=kn;switch(i.tag){case 0:case 11:case 15:jr(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:$s(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,kn=o;else e:for(i=e;kn!==null;){o=kn;var u=o.sibling,f=o.return;if(xy(o),o===i){kn=null;break e}if(u!==null){u.return=f,kn=u;break e}kn=f}}}var ox={getCacheForType:function(e){var t=On(fn),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return On(fn).controller.signal}},lx=typeof WeakMap=="function"?WeakMap:Map,Et=0,Bt=null,lt=null,ut=0,jt=0,ta=null,Ar=!1,Zi=!1,xd=!1,dr=0,tn=0,_r=0,mi=0,Ed=0,na=0,Xi=0,ro=null,Pn=null,kd=!1,Al=0,My=0,_l=1/0,Dl=null,Dr=null,wn=0,Mr=null,Ki=null,fr=0,Cd=0,Td=null,Ry=null,io=0,Nd=null;function aa(){return(Et&2)!==0&&ut!==0?ut&-ut:N.T!==null?Md():Ye()}function zy(){if(na===0)if((ut&536870912)===0||pt){var e=Dt;Dt<<=1,(Dt&3932160)===0&&(Dt=262144),na=e}else na=536870912;return e=Jn.current,e!==null&&(e.flags|=32),na}function Zn(e,t,i){(e===Bt&&(jt===2||jt===9)||e.cancelPendingCommit!==null)&&(Qi(e,0),Rr(e,ut,na,!1)),_(e,i),((Et&2)===0||e!==Bt)&&(e===Bt&&((Et&2)===0&&(mi|=i),tn===4&&Rr(e,ut,na,!1)),Ua(e))}function Ly(e,t,i){if((Et&6)!==0)throw Error(s(327));var o=!i&&(t&127)===0&&(t&e.expiredLanes)===0||Qt(e,t),u=o?dx(e,t):jd(e,t,!0),f=o;do{if(u===0){Zi&&!o&&Rr(e,t,0,!1);break}else{if(i=e.current.alternate,f&&!cx(i)){u=jd(e,t,!1),f=!1;continue}if(u===2){if(f=t,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var w=e;u=ro;var T=w.current.memoizedState.isDehydrated;if(T&&(Qi(w,g).flags|=256),g=jd(w,g,!1),g!==2){if(xd&&!T){w.errorRecoveryDisabledLanes|=f,mi|=f,u=4;break e}f=Pn,Pn=u,f!==null&&(Pn===null?Pn=f:Pn.push.apply(Pn,f))}u=g}if(f=!1,u!==2)continue}}if(u===1){Qi(e,0),Rr(e,t,0,!0);break}e:{switch(o=e,f=u,f){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:Rr(o,t,na,!Ar);break e;case 2:Pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(u=Al+300-C(),10<u)){if(Rr(o,t,na,!Ar),Ct(o,0,!0)!==0)break e;fr=t,o.timeoutHandle=hg(By.bind(null,o,i,Pn,Dl,kd,t,na,mi,Xi,Ar,f,"Throttled",-0,0),u);break e}By(o,i,Pn,Dl,kd,t,na,mi,Xi,Ar,f,null,-0,0)}}break}while(!0);Ua(e)}function By(e,t,i,o,u,f,g,w,T,$,J,ae,G,X){if(e.timeoutHandle=-1,ae=t.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qa},jy(t,f,ae);var De=(f&62914560)===f?Al-C():(f&4194048)===f?My-C():0;if(De=Px(ae,De),De!==null){fr=f,e.cancelPendingCommit=De(Yy.bind(null,e,t,f,i,o,u,g,w,T,J,ae,null,G,X)),Rr(e,f,g,!$);return}}Yy(e,t,f,i,o,u,g,w,T)}function cx(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var u=i[o],f=u.getSnapshot;u=u.value;try{if(!Qn(f(),u))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rr(e,t,i,o){t&=~Ed,t&=~mi,e.suspendedLanes|=t,e.pingedLanes&=~t,o&&(e.warmLanes|=t),o=e.expirationTimes;for(var u=t;0<u;){var f=31-st(u),g=1<<f;o[f]=-1,u&=~g}i!==0&&ue(e,i,t)}function Ml(){return(Et&6)===0?(so(0),!1):!0}function Od(){if(lt!==null){if(jt===0)var e=lt.return;else e=lt,tr=si=null,Gu(e),Hi=null,Vs=0,e=lt;for(;e!==null;)py(e.alternate,e),e=e.return;lt=null}}function Qi(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,jx(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),fr=0,Od(),Bt=e,lt=i=Ja(e.current,null),ut=t,jt=0,ta=null,Ar=!1,Zi=Qt(e,t),xd=!1,Xi=na=Ed=mi=_r=tn=0,Pn=ro=null,kd=!1,(t&8)!==0&&(t|=t&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=t;0<o;){var u=31-st(o),f=1<<u;t|=e[u],o&=~f}return dr=t,el(),i}function Uy(e,t){et=null,N.H=Ks,t===$i||t===ll?(t=em(),jt=3):t===Du?(t=em(),jt=4):jt=t===sd?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ta=t,lt===null&&(tn=1,xl(e,ua(t,e.current)))}function Iy(){var e=Jn.current;return e===null?!0:(ut&4194048)===ut?pa===null:(ut&62914560)===ut||(ut&536870912)!==0?e===pa:!1}function $y(){var e=N.H;return N.H=Ks,e===null?Ks:e}function Hy(){var e=N.A;return N.A=ox,e}function Rl(){tn=4,Ar||(ut&4194048)!==ut&&Jn.current!==null||(Zi=!0),(_r&134217727)===0&&(mi&134217727)===0||Bt===null||Rr(Bt,ut,na,!1)}function jd(e,t,i){var o=Et;Et|=2;var u=$y(),f=Hy();(Bt!==e||ut!==t)&&(Dl=null,Qi(e,t)),t=!1;var g=tn;e:do try{if(jt!==0&&lt!==null){var w=lt,T=ta;switch(jt){case 8:Od(),g=6;break e;case 3:case 2:case 9:case 6:Jn.current===null&&(t=!0);var $=jt;if(jt=0,ta=null,Wi(e,w,T,$),i&&Zi){g=0;break e}break;default:$=jt,jt=0,ta=null,Wi(e,w,T,$)}}ux(),g=tn;break}catch(J){Uy(e,J)}while(!0);return t&&e.shellSuspendCounter++,tr=si=null,Et=o,N.H=u,N.A=f,lt===null&&(Bt=null,ut=0,el()),g}function ux(){for(;lt!==null;)Vy(lt)}function dx(e,t){var i=Et;Et|=2;var o=$y(),u=Hy();Bt!==e||ut!==t?(Dl=null,_l=C()+500,Qi(e,t)):Zi=Qt(e,t);e:do try{if(jt!==0&&lt!==null){t=lt;var f=ta;t:switch(jt){case 1:jt=0,ta=null,Wi(e,t,f,1);break;case 2:case 9:if(Wp(f)){jt=0,ta=null,qy(t);break}t=function(){jt!==2&&jt!==9||Bt!==e||(jt=7),Ua(e)},f.then(t,t);break e;case 3:jt=7;break e;case 4:jt=5;break e;case 7:Wp(f)?(jt=0,ta=null,qy(t)):(jt=0,ta=null,Wi(e,t,f,7));break;case 5:var g=null;switch(lt.tag){case 26:g=lt.memoizedState;case 5:case 27:var w=lt;if(g?Og(g):w.stateNode.complete){jt=0,ta=null;var T=w.sibling;if(T!==null)lt=T;else{var $=w.return;$!==null?(lt=$,zl($)):lt=null}break t}}jt=0,ta=null,Wi(e,t,f,5);break;case 6:jt=0,ta=null,Wi(e,t,f,6);break;case 8:Od(),tn=6;break e;default:throw Error(s(462))}}fx();break}catch(J){Uy(e,J)}while(!0);return tr=si=null,N.H=o,N.A=u,Et=i,lt!==null?0:(Bt=null,ut=0,el(),tn)}function fx(){for(;lt!==null&&!xe();)Vy(lt)}function Vy(e){var t=fy(e.alternate,e,dr);e.memoizedProps=e.pendingProps,t===null?zl(e):lt=t}function qy(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=sy(i,t,t.pendingProps,t.type,void 0,ut);break;case 11:t=sy(i,t,t.pendingProps,t.type.render,t.ref,ut);break;case 5:Gu(t);default:py(i,t),t=lt=Hp(t,dr),t=fy(i,t,dr)}e.memoizedProps=e.pendingProps,t===null?zl(e):lt=t}function Wi(e,t,i,o){tr=si=null,Gu(t),Hi=null,Vs=0;var u=t.return;try{if(ex(e,u,t,i,ut)){tn=1,xl(e,ua(i,e.current)),lt=null;return}}catch(f){if(u!==null)throw lt=u,f;tn=1,xl(e,ua(i,e.current)),lt=null;return}t.flags&32768?(pt||o===1?e=!0:Zi||(ut&536870912)!==0?e=!1:(Ar=e=!0,(o===2||o===9||o===3||o===6)&&(o=Jn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Gy(t,e)):zl(t)}function zl(e){var t=e;do{if((t.flags&32768)!==0){Gy(t,Ar);return}e=t.return;var i=ax(t.alternate,t,dr);if(i!==null){lt=i;return}if(t=t.sibling,t!==null){lt=t;return}lt=t=e}while(t!==null);tn===0&&(tn=5)}function Gy(e,t){do{var i=rx(e.alternate,e);if(i!==null){i.flags&=32767,lt=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){lt=e;return}lt=e=i}while(e!==null);tn=6,lt=null}function Yy(e,t,i,o,u,f,g,w,T){e.cancelPendingCommit=null;do Ll();while(wn!==0);if((Et&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(f=t.lanes|t.childLanes,f|=gu,L(e,i,f,g,w,T),e===Bt&&(lt=Bt=null,ut=0),Ki=t,Mr=e,fr=i,Cd=f,Td=u,Ry=o,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,yx(we,function(){return Ky(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||o){o=N.T,N.T=null,u=V.p,V.p=2,g=Et,Et|=4;try{ix(e,t,i)}finally{Et=g,V.p=u,N.T=o}}wn=1,Fy(),Py(),Zy()}}function Fy(){if(wn===1){wn=0;var e=Mr,t=Ki,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=N.T,N.T=null;var o=V.p;V.p=2;var u=Et;Et|=4;try{Ty(t,e);var f=Hd,g=Dp(e.containerInfo),w=f.focusedElem,T=f.selectionRange;if(g!==w&&w&&w.ownerDocument&&_p(w.ownerDocument.documentElement,w)){if(T!==null&&fu(w)){var $=T.start,J=T.end;if(J===void 0&&(J=$),"selectionStart"in w)w.selectionStart=$,w.selectionEnd=Math.min(J,w.value.length);else{var ae=w.ownerDocument||document,G=ae&&ae.defaultView||window;if(G.getSelection){var X=G.getSelection(),De=w.textContent.length,Ve=Math.min(T.start,De),Lt=T.end===void 0?Ve:Math.min(T.end,De);!X.extend&&Ve>Lt&&(g=Lt,Lt=Ve,Ve=g);var M=Ap(w,Ve),A=Ap(w,Lt);if(M&&A&&(X.rangeCount!==1||X.anchorNode!==M.node||X.anchorOffset!==M.offset||X.focusNode!==A.node||X.focusOffset!==A.offset)){var I=ae.createRange();I.setStart(M.node,M.offset),X.removeAllRanges(),Ve>Lt?(X.addRange(I),X.extend(A.node,A.offset)):(I.setEnd(A.node,A.offset),X.addRange(I))}}}}for(ae=[],X=w;X=X.parentNode;)X.nodeType===1&&ae.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<ae.length;w++){var te=ae[w];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Zl=!!$d,Hd=$d=null}finally{Et=u,V.p=o,N.T=i}}e.current=t,wn=2}}function Py(){if(wn===2){wn=0;var e=Mr,t=Ki,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=N.T,N.T=null;var o=V.p;V.p=2;var u=Et;Et|=4;try{Sy(e,t.alternate,t)}finally{Et=u,V.p=o,N.T=i}}wn=3}}function Zy(){if(wn===4||wn===3){wn=0,ce();var e=Mr,t=Ki,i=fr,o=Ry;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?wn=5:(wn=0,Ki=Mr=null,Xy(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Dr=null),It(i),t=t.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(Be,t,void 0,(t.current.flags&128)===128)}catch{}if(o!==null){t=N.T,u=V.p,V.p=2,N.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var w=o[g];f(w.value,{componentStack:w.stack})}}finally{N.T=t,V.p=u}}(fr&3)!==0&&Ll(),Ua(e),u=e.pendingLanes,(i&261930)!==0&&(u&42)!==0?e===Nd?io++:(io=0,Nd=e):io=0,so(0)}}function Xy(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,$s(t)))}function Ll(){return Fy(),Py(),Zy(),Ky()}function Ky(){if(wn!==5)return!1;var e=Mr,t=Cd;Cd=0;var i=It(fr),o=N.T,u=V.p;try{V.p=32>i?32:i,N.T=null,i=Td,Td=null;var f=Mr,g=fr;if(wn=0,Ki=Mr=null,fr=0,(Et&6)!==0)throw Error(s(331));var w=Et;if(Et|=4,_y(f.current),Oy(f,f.current,g,i),Et=w,so(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(Be,f)}catch{}return!0}finally{V.p=u,N.T=o,Xy(e,t)}}function Qy(e,t,i){t=ua(i,t),t=id(e.stateNode,t,2),e=Tr(e,t,2),e!==null&&(_(e,2),Ua(e))}function At(e,t,i){if(e.tag===3)Qy(e,e,i);else for(;t!==null;){if(t.tag===3){Qy(t,e,i);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Dr===null||!Dr.has(o))){e=ua(i,e),i=Wm(2),o=Tr(t,i,2),o!==null&&(Jm(i,o,t,e),_(o,2),Ua(o));break}}t=t.return}}function Ad(e,t,i){var o=e.pingCache;if(o===null){o=e.pingCache=new lx;var u=new Set;o.set(t,u)}else u=o.get(t),u===void 0&&(u=new Set,o.set(t,u));u.has(i)||(xd=!0,u.add(i),e=hx.bind(null,e,t,i),t.then(e,e))}function hx(e,t,i){var o=e.pingCache;o!==null&&o.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Bt===e&&(ut&i)===i&&(tn===4||tn===3&&(ut&62914560)===ut&&300>C()-Al?(Et&2)===0&&Qi(e,0):Ed|=i,Xi===ut&&(Xi=0)),Ua(e)}function Wy(e,t){t===0&&(t=Pa()),e=ai(e,t),e!==null&&(_(e,t),Ua(e))}function px(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Wy(e,i)}function mx(e,t){var i=0;switch(e.tag){case 31:case 13:var o=e.stateNode,u=e.memoizedState;u!==null&&(i=u.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(t),Wy(e,i)}function yx(e,t){return ee(e,t)}var Bl=null,Ji=null,_d=!1,Ul=!1,Dd=!1,zr=0;function Ua(e){e!==Ji&&e.next===null&&(Ji===null?Bl=Ji=e:Ji=Ji.next=e),Ul=!0,_d||(_d=!0,vx())}function so(e,t){if(!Dd&&Ul){Dd=!0;do for(var i=!1,o=Bl;o!==null;){if(e!==0){var u=o.pendingLanes;if(u===0)var f=0;else{var g=o.suspendedLanes,w=o.pingedLanes;f=(1<<31-st(42|e)+1)-1,f&=u&~(g&~w),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(i=!0,ng(o,f))}else f=ut,f=Ct(o,o===Bt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Qt(o,f)||(i=!0,ng(o,f));o=o.next}while(i);Dd=!1}}function gx(){Jy()}function Jy(){Ul=_d=!1;var e=0;zr!==0&&Ox()&&(e=zr);for(var t=C(),i=null,o=Bl;o!==null;){var u=o.next,f=eg(o,t);f===0?(o.next=null,i===null?Bl=u:i.next=u,u===null&&(Ji=i)):(i=o,(e!==0||(f&3)!==0)&&(Ul=!0)),o=u}wn!==0&&wn!==5||so(e),zr!==0&&(zr=0)}function eg(e,t){for(var i=e.suspendedLanes,o=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-st(f),w=1<<g,T=u[g];T===-1?((w&i)===0||(w&o)!==0)&&(u[g]=Fa(w,t)):T<=t&&(e.expiredLanes|=w),f&=~w}if(t=Bt,i=ut,i=Ct(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,i===0||e===t&&(jt===2||jt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Ae(o),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Qt(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(o!==null&&Ae(o),It(i)){case 2:case 8:i=he;break;case 32:i=we;break;case 268435456:i=$e;break;default:i=we}return o=tg.bind(null,e),i=ee(i,o),e.callbackPriority=t,e.callbackNode=i,t}return o!==null&&o!==null&&Ae(o),e.callbackPriority=2,e.callbackNode=null,2}function tg(e,t){if(wn!==0&&wn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Ll()&&e.callbackNode!==i)return null;var o=ut;return o=Ct(e,e===Bt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ly(e,o,t),eg(e,C()),e.callbackNode!=null&&e.callbackNode===i?tg.bind(null,e):null)}function ng(e,t){if(Ll())return null;Ly(e,t,!0)}function vx(){Ax(function(){(Et&6)!==0?ee(se,gx):Jy()})}function Md(){if(zr===0){var e=Ui;e===0&&(e=ot,ot<<=1,(ot&261888)===0&&(ot=256)),zr=e}return zr}function ag(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Fo(""+e)}function rg(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function bx(e,t,i,o,u){if(t==="submit"&&i&&i.stateNode===u){var f=ag((u[Tn]||null).action),g=o.submitter;g&&(t=(t=g[Tn]||null)?ag(t.formAction):g.getAttribute("formAction"),t!==null&&(f=t,g=null));var w=new Ko("action","action",null,o,u);e.push({event:w,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(zr!==0){var T=g?rg(u,g):new FormData(u);Ju(i,{pending:!0,data:T,method:u.method,action:f},null,T)}}else typeof f=="function"&&(w.preventDefault(),T=g?rg(u,g):new FormData(u),Ju(i,{pending:!0,data:T,method:u.method,action:f},f,T))},currentTarget:u}]})}}for(var Rd=0;Rd<yu.length;Rd++){var zd=yu[Rd],wx=zd.toLowerCase(),Sx=zd[0].toUpperCase()+zd.slice(1);ka(wx,"on"+Sx)}ka(zp,"onAnimationEnd"),ka(Lp,"onAnimationIteration"),ka(Bp,"onAnimationStart"),ka("dblclick","onDoubleClick"),ka("focusin","onFocus"),ka("focusout","onBlur"),ka(BS,"onTransitionRun"),ka(US,"onTransitionStart"),ka(IS,"onTransitionCancel"),ka(Up,"onTransitionEnd"),Xe("onMouseEnter",["mouseout","mouseover"]),Xe("onMouseLeave",["mouseout","mouseover"]),Xe("onPointerEnter",["pointerout","pointerover"]),Xe("onPointerLeave",["pointerout","pointerover"]),ke("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ke("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ke("onBeforeInput",["compositionend","keypress","textInput","paste"]),ke("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ke("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ke("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(oo));function ig(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],u=o.event;o=o.listeners;e:{var f=void 0;if(t)for(var g=o.length-1;0<=g;g--){var w=o[g],T=w.instance,$=w.currentTarget;if(w=w.listener,T!==f&&u.isPropagationStopped())break e;f=w,u.currentTarget=$;try{f(u)}catch(J){Jo(J)}u.currentTarget=null,f=T}else for(g=0;g<o.length;g++){if(w=o[g],T=w.instance,$=w.currentTarget,w=w.listener,T!==f&&u.isPropagationStopped())break e;f=w,u.currentTarget=$;try{f(u)}catch(J){Jo(J)}u.currentTarget=null,f=T}}}}function ct(e,t){var i=t[Vo];i===void 0&&(i=t[Vo]=new Set);var o=e+"__bubble";i.has(o)||(sg(t,e,2,!1),i.add(o))}function Ld(e,t,i){var o=0;t&&(o|=4),sg(i,e,o,t)}var Il="_reactListening"+Math.random().toString(36).slice(2);function Bd(e){if(!e[Il]){e[Il]=!0,me.forEach(function(i){i!=="selectionchange"&&(xx.has(i)||Ld(i,!1,e),Ld(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Il]||(t[Il]=!0,Ld("selectionchange",!1,t))}}function sg(e,t,i,o){switch(zg(t)){case 2:var u=Kx;break;case 8:u=Qx;break;default:u=Wd}i=u.bind(null,t,i,e),u=void 0,!au||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),o?u!==void 0?e.addEventListener(t,i,{capture:!0,passive:u}):e.addEventListener(t,i,!0):u!==void 0?e.addEventListener(t,i,{passive:u}):e.addEventListener(t,i,!1)}function Ud(e,t,i,o,u){var f=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var w=o.stateNode.containerInfo;if(w===u)break;if(g===4)for(g=o.return;g!==null;){var T=g.tag;if((T===3||T===4)&&g.stateNode.containerInfo===u)return;g=g.return}for(;w!==null;){if(g=oa(w),g===null)return;if(T=g.tag,T===5||T===6||T===26||T===27){o=f=g;continue e}w=w.parentNode}}o=o.return}dp(function(){var $=f,J=tu(i),ae=[];e:{var G=Ip.get(e);if(G!==void 0){var X=Ko,De=e;switch(e){case"keypress":if(Zo(i)===0)break e;case"keydown":case"keyup":X=mS;break;case"focusin":De="focus",X=ou;break;case"focusout":De="blur",X=ou;break;case"beforeblur":case"afterblur":X=ou;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=pp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=aS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=vS;break;case zp:case Lp:case Bp:X=sS;break;case Up:X=wS;break;case"scroll":case"scrollend":X=tS;break;case"wheel":X=xS;break;case"copy":case"cut":case"paste":X=lS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=yp;break;case"toggle":case"beforetoggle":X=kS}var Ve=(t&4)!==0,Lt=!Ve&&(e==="scroll"||e==="scrollend"),M=Ve?G!==null?G+"Capture":null:G;Ve=[];for(var A=$,I;A!==null;){var te=A;if(I=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||I===null||M===null||(te=js(A,M),te!=null&&Ve.push(lo(A,te,I))),Lt)break;A=A.return}0<Ve.length&&(G=new X(G,De,null,i,J),ae.push({event:G,listeners:Ve}))}}if((t&7)===0){e:{if(G=e==="mouseover"||e==="pointerover",X=e==="mouseout"||e==="pointerout",G&&i!==eu&&(De=i.relatedTarget||i.fromElement)&&(oa(De)||De[Za]))break e;if((X||G)&&(G=J.window===J?J:(G=J.ownerDocument)?G.defaultView||G.parentWindow:window,X?(De=i.relatedTarget||i.toElement,X=$,De=De?oa(De):null,De!==null&&(Lt=c(De),Ve=De.tag,De!==Lt||Ve!==5&&Ve!==27&&Ve!==6)&&(De=null)):(X=null,De=$),X!==De)){if(Ve=pp,te="onMouseLeave",M="onMouseEnter",A="mouse",(e==="pointerout"||e==="pointerover")&&(Ve=yp,te="onPointerLeave",M="onPointerEnter",A="pointer"),Lt=X==null?G:Xa(X),I=De==null?G:Xa(De),G=new Ve(te,A+"leave",X,i,J),G.target=Lt,G.relatedTarget=I,te=null,oa(J)===$&&(Ve=new Ve(M,A+"enter",De,i,J),Ve.target=I,Ve.relatedTarget=Lt,te=Ve),Lt=te,X&&De)t:{for(Ve=Ex,M=X,A=De,I=0,te=M;te;te=Ve(te))I++;te=0;for(var Ie=A;Ie;Ie=Ve(Ie))te++;for(;0<I-te;)M=Ve(M),I--;for(;0<te-I;)A=Ve(A),te--;for(;I--;){if(M===A||A!==null&&M===A.alternate){Ve=M;break t}M=Ve(M),A=Ve(A)}Ve=null}else Ve=null;X!==null&&og(ae,G,X,Ve,!1),De!==null&&Lt!==null&&og(ae,Lt,De,Ve,!0)}}e:{if(G=$?Xa($):window,X=G.nodeName&&G.nodeName.toLowerCase(),X==="select"||X==="input"&&G.type==="file")var wt=kp;else if(xp(G))if(Cp)wt=RS;else{wt=DS;var Me=_S}else X=G.nodeName,!X||X.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?$&&Jc($.elementType)&&(wt=kp):wt=MS;if(wt&&(wt=wt(e,$))){Ep(ae,wt,i,J);break e}Me&&Me(e,G,$),e==="focusout"&&$&&G.type==="number"&&$.memoizedProps.value!=null&&Wc(G,"number",G.value)}switch(Me=$?Xa($):window,e){case"focusin":(xp(Me)||Me.contentEditable==="true")&&(Ai=Me,hu=$,Bs=null);break;case"focusout":Bs=hu=Ai=null;break;case"mousedown":pu=!0;break;case"contextmenu":case"mouseup":case"dragend":pu=!1,Mp(ae,i,J);break;case"selectionchange":if(LS)break;case"keydown":case"keyup":Mp(ae,i,J)}var nt;if(cu)e:{switch(e){case"compositionstart":var dt="onCompositionStart";break e;case"compositionend":dt="onCompositionEnd";break e;case"compositionupdate":dt="onCompositionUpdate";break e}dt=void 0}else ji?wp(e,i)&&(dt="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(dt="onCompositionStart");dt&&(gp&&i.locale!=="ko"&&(ji||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&ji&&(nt=fp()):(br=J,ru="value"in br?br.value:br.textContent,ji=!0)),Me=$l($,dt),0<Me.length&&(dt=new mp(dt,e,null,i,J),ae.push({event:dt,listeners:Me}),nt?dt.data=nt:(nt=Sp(i),nt!==null&&(dt.data=nt)))),(nt=TS?NS(e,i):OS(e,i))&&(dt=$l($,"onBeforeInput"),0<dt.length&&(Me=new mp("onBeforeInput","beforeinput",null,i,J),ae.push({event:Me,listeners:dt}),Me.data=nt)),bx(ae,e,$,i,J)}ig(ae,t)})}function lo(e,t,i){return{instance:e,listener:t,currentTarget:i}}function $l(e,t){for(var i=t+"Capture",o=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=js(e,i),u!=null&&o.unshift(lo(e,u,f)),u=js(e,t),u!=null&&o.push(lo(e,u,f))),e.tag===3)return o;e=e.return}return[]}function Ex(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function og(e,t,i,o,u){for(var f=t._reactName,g=[];i!==null&&i!==o;){var w=i,T=w.alternate,$=w.stateNode;if(w=w.tag,T!==null&&T===o)break;w!==5&&w!==26&&w!==27||$===null||(T=$,u?($=js(i,f),$!=null&&g.unshift(lo(i,$,T))):u||($=js(i,f),$!=null&&g.push(lo(i,$,T)))),i=i.return}g.length!==0&&e.push({event:t,listeners:g})}var kx=/\r\n?/g,Cx=/\u0000|\uFFFD/g;function lg(e){return(typeof e=="string"?e:""+e).replace(kx,`
`).replace(Cx,"")}function cg(e,t){return t=lg(t),lg(e)===t}function zt(e,t,i,o,u,f){switch(i){case"children":typeof o=="string"?t==="body"||t==="textarea"&&o===""||Ti(e,o):(typeof o=="number"||typeof o=="bigint")&&t!=="body"&&Ti(e,""+o);break;case"className":Mt(e,"class",o);break;case"tabIndex":Mt(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Mt(e,i,o);break;case"style":cp(e,o,f);break;case"data":if(t!=="object"){Mt(e,"data",o);break}case"src":case"href":if(o===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=Fo(""+o),e.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(i==="formAction"?(t!=="input"&&zt(e,t,"name",u.name,u,null),zt(e,t,"formEncType",u.formEncType,u,null),zt(e,t,"formMethod",u.formMethod,u,null),zt(e,t,"formTarget",u.formTarget,u,null)):(zt(e,t,"encType",u.encType,u,null),zt(e,t,"method",u.method,u,null),zt(e,t,"target",u.target,u,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=Fo(""+o),e.setAttribute(i,o);break;case"onClick":o!=null&&(e.onclick=Qa);break;case"onScroll":o!=null&&ct("scroll",e);break;case"onScrollEnd":o!=null&&ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(i=o.__html,i!=null){if(u.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}i=Fo(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""+o):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":o===!0?e.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,o):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(i,o):e.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(i):e.setAttribute(i,o);break;case"popover":ct("beforetoggle",e),ct("toggle",e),bn(e,"popover",o);break;case"xlinkActuate":Yt(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Yt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Yt(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Yt(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Yt(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Yt(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Yt(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":bn(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Jw.get(i)||i,bn(e,i,o))}}function Id(e,t,i,o,u,f){switch(i){case"style":cp(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(i=o.__html,i!=null){if(u.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"children":typeof o=="string"?Ti(e,o):(typeof o=="number"||typeof o=="bigint")&&Ti(e,""+o);break;case"onScroll":o!=null&&ct("scroll",e);break;case"onScrollEnd":o!=null&&ct("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Qa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ee.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(u=i.endsWith("Capture"),t=i.slice(2,u?i.length-7:void 0),f=e[Tn]||null,f=f!=null?f[i]:null,typeof f=="function"&&e.removeEventListener(t,f,u),typeof o=="function")){typeof f!="function"&&f!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,o,u);break e}i in e?e[i]=o:o===!0?e.setAttribute(i,""):bn(e,i,o)}}}function An(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ct("error",e),ct("load",e);var o=!1,u=!1,f;for(f in i)if(i.hasOwnProperty(f)){var g=i[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:zt(e,t,f,g,i,null)}}u&&zt(e,t,"srcSet",i.srcSet,i,null),o&&zt(e,t,"src",i.src,i,null);return;case"input":ct("invalid",e);var w=f=g=u=null,T=null,$=null;for(o in i)if(i.hasOwnProperty(o)){var J=i[o];if(J!=null)switch(o){case"name":u=J;break;case"type":g=J;break;case"checked":T=J;break;case"defaultChecked":$=J;break;case"value":f=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,t));break;default:zt(e,t,o,J,i,null)}}ip(e,f,w,T,$,g,u,!1);return;case"select":ct("invalid",e),o=g=f=null;for(u in i)if(i.hasOwnProperty(u)&&(w=i[u],w!=null))switch(u){case"value":f=w;break;case"defaultValue":g=w;break;case"multiple":o=w;default:zt(e,t,u,w,i,null)}t=f,i=g,e.multiple=!!o,t!=null?Ci(e,!!o,t,!1):i!=null&&Ci(e,!!o,i,!0);return;case"textarea":ct("invalid",e),f=u=o=null;for(g in i)if(i.hasOwnProperty(g)&&(w=i[g],w!=null))switch(g){case"value":o=w;break;case"defaultValue":u=w;break;case"children":f=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:zt(e,t,g,w,i,null)}op(e,o,u,f);return;case"option":for(T in i)if(i.hasOwnProperty(T)&&(o=i[T],o!=null))switch(T){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:zt(e,t,T,o,i,null)}return;case"dialog":ct("beforetoggle",e),ct("toggle",e),ct("cancel",e),ct("close",e);break;case"iframe":case"object":ct("load",e);break;case"video":case"audio":for(o=0;o<oo.length;o++)ct(oo[o],e);break;case"image":ct("error",e),ct("load",e);break;case"details":ct("toggle",e);break;case"embed":case"source":case"link":ct("error",e),ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in i)if(i.hasOwnProperty($)&&(o=i[$],o!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:zt(e,t,$,o,i,null)}return;default:if(Jc(t)){for(J in i)i.hasOwnProperty(J)&&(o=i[J],o!==void 0&&Id(e,t,J,o,i,void 0));return}}for(w in i)i.hasOwnProperty(w)&&(o=i[w],o!=null&&zt(e,t,w,o,i,null))}function Tx(e,t,i,o){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,g=null,w=null,T=null,$=null,J=null;for(X in i){var ae=i[X];if(i.hasOwnProperty(X)&&ae!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":T=ae;default:o.hasOwnProperty(X)||zt(e,t,X,null,o,ae)}}for(var G in o){var X=o[G];if(ae=i[G],o.hasOwnProperty(G)&&(X!=null||ae!=null))switch(G){case"type":f=X;break;case"name":u=X;break;case"checked":$=X;break;case"defaultChecked":J=X;break;case"value":g=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,t));break;default:X!==ae&&zt(e,t,G,X,o,ae)}}Qc(e,g,w,T,$,J,f,u);return;case"select":X=g=w=G=null;for(f in i)if(T=i[f],i.hasOwnProperty(f)&&T!=null)switch(f){case"value":break;case"multiple":X=T;default:o.hasOwnProperty(f)||zt(e,t,f,null,o,T)}for(u in o)if(f=o[u],T=i[u],o.hasOwnProperty(u)&&(f!=null||T!=null))switch(u){case"value":G=f;break;case"defaultValue":w=f;break;case"multiple":g=f;default:f!==T&&zt(e,t,u,f,o,T)}t=w,i=g,o=X,G!=null?Ci(e,!!i,G,!1):!!o!=!!i&&(t!=null?Ci(e,!!i,t,!0):Ci(e,!!i,i?[]:"",!1));return;case"textarea":X=G=null;for(w in i)if(u=i[w],i.hasOwnProperty(w)&&u!=null&&!o.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:zt(e,t,w,null,o,u)}for(g in o)if(u=o[g],f=i[g],o.hasOwnProperty(g)&&(u!=null||f!=null))switch(g){case"value":G=u;break;case"defaultValue":X=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(s(91));break;default:u!==f&&zt(e,t,g,u,o,f)}sp(e,G,X);return;case"option":for(var De in i)if(G=i[De],i.hasOwnProperty(De)&&G!=null&&!o.hasOwnProperty(De))switch(De){case"selected":e.selected=!1;break;default:zt(e,t,De,null,o,G)}for(T in o)if(G=o[T],X=i[T],o.hasOwnProperty(T)&&G!==X&&(G!=null||X!=null))switch(T){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:zt(e,t,T,G,o,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ve in i)G=i[Ve],i.hasOwnProperty(Ve)&&G!=null&&!o.hasOwnProperty(Ve)&&zt(e,t,Ve,null,o,G);for($ in o)if(G=o[$],X=i[$],o.hasOwnProperty($)&&G!==X&&(G!=null||X!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,t));break;default:zt(e,t,$,G,o,X)}return;default:if(Jc(t)){for(var Lt in i)G=i[Lt],i.hasOwnProperty(Lt)&&G!==void 0&&!o.hasOwnProperty(Lt)&&Id(e,t,Lt,void 0,o,G);for(J in o)G=o[J],X=i[J],!o.hasOwnProperty(J)||G===X||G===void 0&&X===void 0||Id(e,t,J,G,o,X);return}}for(var M in i)G=i[M],i.hasOwnProperty(M)&&G!=null&&!o.hasOwnProperty(M)&&zt(e,t,M,null,o,G);for(ae in o)G=o[ae],X=i[ae],!o.hasOwnProperty(ae)||G===X||G==null&&X==null||zt(e,t,ae,G,o,X)}function ug(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Nx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),o=0;o<i.length;o++){var u=i[o],f=u.transferSize,g=u.initiatorType,w=u.duration;if(f&&w&&ug(g)){for(g=0,w=u.responseEnd,o+=1;o<i.length;o++){var T=i[o],$=T.startTime;if($>w)break;var J=T.transferSize,ae=T.initiatorType;J&&ug(ae)&&(T=T.responseEnd,g+=J*(T<w?1:(w-$)/(T-$)))}if(--o,t+=8*(f+g)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var $d=null,Hd=null;function Hl(e){return e.nodeType===9?e:e.ownerDocument}function dg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Vd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qd=null;function Ox(){var e=window.event;return e&&e.type==="popstate"?e===qd?!1:(qd=e,!0):(qd=null,!1)}var hg=typeof setTimeout=="function"?setTimeout:void 0,jx=typeof clearTimeout=="function"?clearTimeout:void 0,pg=typeof Promise=="function"?Promise:void 0,Ax=typeof queueMicrotask=="function"?queueMicrotask:typeof pg<"u"?function(e){return pg.resolve(null).then(e).catch(_x)}:hg;function _x(e){setTimeout(function(){throw e})}function Lr(e){return e==="head"}function mg(e,t){var i=t,o=0;do{var u=i.nextSibling;if(e.removeChild(i),u&&u.nodeType===8)if(i=u.data,i==="/$"||i==="/&"){if(o===0){e.removeChild(u),as(t);return}o--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")o++;else if(i==="html")co(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,co(i);for(var f=i.firstChild;f;){var g=f.nextSibling,w=f.nodeName;f[xa]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&f.rel.toLowerCase()==="stylesheet"||i.removeChild(f),f=g}}else i==="body"&&co(e.ownerDocument.body);i=u}while(i);as(t)}function yg(e,t){var i=e;e=0;do{var o=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=o}while(i)}function Gd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Gd(i),Ea(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Dx(e,t,i,o){for(;e.nodeType===1;){var u=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[xa])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=ma(e.nextSibling),e===null)break}return null}function Mx(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=ma(e.nextSibling),e===null))return null;return e}function gg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=ma(e.nextSibling),e===null))return null;return e}function Yd(e){return e.data==="$?"||e.data==="$~"}function Fd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Rx(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var o=function(){t(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function ma(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Pd=null;function vg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return ma(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function bg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function wg(e,t,i){switch(t=Hl(i),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function co(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ea(e)}var ya=new Map,Sg=new Set;function Vl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var hr=V.d;V.d={f:zx,r:Lx,D:Bx,C:Ux,L:Ix,m:$x,X:Vx,S:Hx,M:qx};function zx(){var e=hr.f(),t=Ml();return e||t}function Lx(e){var t=vr(e);t!==null&&t.tag===5&&t.type==="form"?Um(t):hr.r(e)}var es=typeof document>"u"?null:document;function xg(e,t,i){var o=es;if(o&&typeof t=="string"&&t){var u=la(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof i=="string"&&(u+='[crossorigin="'+i+'"]'),Sg.has(u)||(Sg.add(u),e={rel:e,crossOrigin:i,href:t},o.querySelector(u)===null&&(t=o.createElement("link"),An(t,"link",e),ne(t),o.head.appendChild(t)))}}function Bx(e){hr.D(e),xg("dns-prefetch",e,null)}function Ux(e,t){hr.C(e,t),xg("preconnect",e,t)}function Ix(e,t,i){hr.L(e,t,i);var o=es;if(o&&e&&t){var u='link[rel="preload"][as="'+la(t)+'"]';t==="image"&&i&&i.imageSrcSet?(u+='[imagesrcset="'+la(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(u+='[imagesizes="'+la(i.imageSizes)+'"]')):u+='[href="'+la(e)+'"]';var f=u;switch(t){case"style":f=ts(e);break;case"script":f=ns(e)}ya.has(f)||(e=b({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),ya.set(f,e),o.querySelector(u)!==null||t==="style"&&o.querySelector(uo(f))||t==="script"&&o.querySelector(fo(f))||(t=o.createElement("link"),An(t,"link",e),ne(t),o.head.appendChild(t)))}}function $x(e,t){hr.m(e,t);var i=es;if(i&&e){var o=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+la(o)+'"][href="'+la(e)+'"]',f=u;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ns(e)}if(!ya.has(f)&&(e=b({rel:"modulepreload",href:e},t),ya.set(f,e),i.querySelector(u)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(fo(f)))return}o=i.createElement("link"),An(o,"link",e),ne(o),i.head.appendChild(o)}}}function Hx(e,t,i){hr.S(e,t,i);var o=es;if(o&&e){var u=P(o).hoistableStyles,f=ts(e);t=t||"default";var g=u.get(f);if(!g){var w={loading:0,preload:null};if(g=o.querySelector(uo(f)))w.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},i),(i=ya.get(f))&&Zd(e,i);var T=g=o.createElement("link");ne(T),An(T,"link",e),T._p=new Promise(function($,J){T.onload=$,T.onerror=J}),T.addEventListener("load",function(){w.loading|=1}),T.addEventListener("error",function(){w.loading|=2}),w.loading|=4,ql(g,t,o)}g={type:"stylesheet",instance:g,count:1,state:w},u.set(f,g)}}}function Vx(e,t){hr.X(e,t);var i=es;if(i&&e){var o=P(i).hoistableScripts,u=ns(e),f=o.get(u);f||(f=i.querySelector(fo(u)),f||(e=b({src:e,async:!0},t),(t=ya.get(u))&&Xd(e,t),f=i.createElement("script"),ne(f),An(f,"link",e),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(u,f))}}function qx(e,t){hr.M(e,t);var i=es;if(i&&e){var o=P(i).hoistableScripts,u=ns(e),f=o.get(u);f||(f=i.querySelector(fo(u)),f||(e=b({src:e,async:!0,type:"module"},t),(t=ya.get(u))&&Xd(e,t),f=i.createElement("script"),ne(f),An(f,"link",e),i.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(u,f))}}function Eg(e,t,i,o){var u=(u=ve.current)?Vl(u):null;if(!u)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=ts(i.href),i=P(u).hoistableStyles,o=i.get(t),o||(o={type:"style",instance:null,count:0,state:null},i.set(t,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=ts(i.href);var f=P(u).hoistableStyles,g=f.get(e);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=u.querySelector(uo(e)))&&!f._p&&(g.instance=f,g.state.loading=5),ya.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},ya.set(e,i),f||Gx(u,e,i,g.state))),t&&o===null)throw Error(s(528,""));return g}if(t&&o!==null)throw Error(s(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ns(i),i=P(u).hoistableScripts,o=i.get(t),o||(o={type:"script",instance:null,count:0,state:null},i.set(t,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function ts(e){return'href="'+la(e)+'"'}function uo(e){return'link[rel="stylesheet"]['+e+"]"}function kg(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Gx(e,t,i,o){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?o.loading=1:(t=e.createElement("link"),o.preload=t,t.addEventListener("load",function(){return o.loading|=1}),t.addEventListener("error",function(){return o.loading|=2}),An(t,"link",i),ne(t),e.head.appendChild(t))}function ns(e){return'[src="'+la(e)+'"]'}function fo(e){return"script[async]"+e}function Cg(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var o=e.querySelector('style[data-href~="'+la(i.href)+'"]');if(o)return t.instance=o,ne(o),o;var u=b({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ne(o),An(o,"style",u),ql(o,i.precedence,e),t.instance=o;case"stylesheet":u=ts(i.href);var f=e.querySelector(uo(u));if(f)return t.state.loading|=4,t.instance=f,ne(f),f;o=kg(i),(u=ya.get(u))&&Zd(o,u),f=(e.ownerDocument||e).createElement("link"),ne(f);var g=f;return g._p=new Promise(function(w,T){g.onload=w,g.onerror=T}),An(f,"link",o),t.state.loading|=4,ql(f,i.precedence,e),t.instance=f;case"script":return f=ns(i.src),(u=e.querySelector(fo(f)))?(t.instance=u,ne(u),u):(o=i,(u=ya.get(f))&&(o=b({},i),Xd(o,u)),e=e.ownerDocument||e,u=e.createElement("script"),ne(u),An(u,"link",o),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(o=t.instance,t.state.loading|=4,ql(o,i.precedence,e));return t.instance}function ql(e,t,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=o.length?o[o.length-1]:null,f=u,g=0;g<o.length;g++){var w=o[g];if(w.dataset.precedence===t)f=w;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Zd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Xd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Gl=null;function Tg(e,t,i){if(Gl===null){var o=new Map,u=Gl=new Map;u.set(i,o)}else u=Gl,o=u.get(i),o||(o=new Map,u.set(i,o));if(o.has(e))return o;for(o.set(e,null),i=i.getElementsByTagName(e),u=0;u<i.length;u++){var f=i[u];if(!(f[xa]||f[Ze]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(t)||"";g=e+g;var w=o.get(g);w?w.push(f):o.set(g,[f])}}return o}function Ng(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function Yx(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Og(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Fx(e,t,i,o){if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var u=ts(o.href),f=t.querySelector(uo(u));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Yl.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=f,ne(f);return}f=t.ownerDocument||t,o=kg(o),(u=ya.get(u))&&Zd(o,u),f=f.createElement("link"),ne(f);var g=f;g._p=new Promise(function(w,T){g.onload=w,g.onerror=T}),An(f,"link",o),i.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Yl.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var Kd=0;function Px(e,t){return e.stylesheets&&e.count===0&&Pl(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var o=setTimeout(function(){if(e.stylesheets&&Pl(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+t);0<e.imgBytes&&Kd===0&&(Kd=62500*Nx());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Pl(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Kd?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(u)}}:null}function Yl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Pl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Fl=null;function Pl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Fl=new Map,t.forEach(Zx,e),Fl=null,Yl.call(e))}function Zx(e,t){if(!(t.state.loading&4)){var i=Fl.get(e);if(i)var o=i.get(null);else{i=new Map,Fl.set(e,i);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var g=u[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(i.set(g.dataset.precedence,g),o=g)}o&&i.set(null,o)}u=t.instance,g=u.getAttribute("data-precedence"),f=i.get(g)||o,f===o&&i.set(null,u),i.set(g,u),this.count++,o=Yl.bind(this),u.addEventListener("load",o),u.addEventListener("error",o),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var ho={$$typeof:B,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function Xx(e,t,i,o,u,f,g,w,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=sa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sa(0),this.hiddenUpdates=sa(null),this.identifierPrefix=o,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function jg(e,t,i,o,u,f,g,w,T,$,J,ae){return e=new Xx(e,t,i,g,T,$,J,ae,w),t=1,f===!0&&(t|=24),f=Wn(3,null,null,t),e.current=f,f.stateNode=e,t=ju(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:o,isDehydrated:i,cache:t},Mu(f),e}function Ag(e){return e?(e=Mi,e):Mi}function _g(e,t,i,o,u,f){u=Ag(u),o.context===null?o.context=u:o.pendingContext=u,o=Cr(t),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=Tr(e,o,t),i!==null&&(Zn(i,e,t),Gs(i,e,t))}function Dg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Qd(e,t){Dg(e,t),(e=e.alternate)&&Dg(e,t)}function Mg(e){if(e.tag===13||e.tag===31){var t=ai(e,67108864);t!==null&&Zn(t,e,67108864),Qd(e,67108864)}}function Rg(e){if(e.tag===13||e.tag===31){var t=aa();t=Ot(t);var i=ai(e,t);i!==null&&Zn(i,e,t),Qd(e,t)}}var Zl=!0;function Kx(e,t,i,o){var u=N.T;N.T=null;var f=V.p;try{V.p=2,Wd(e,t,i,o)}finally{V.p=f,N.T=u}}function Qx(e,t,i,o){var u=N.T;N.T=null;var f=V.p;try{V.p=8,Wd(e,t,i,o)}finally{V.p=f,N.T=u}}function Wd(e,t,i,o){if(Zl){var u=Jd(o);if(u===null)Ud(e,t,o,Xl,i),Lg(e,o);else if(Jx(u,e,t,i,o))o.stopPropagation();else if(Lg(e,o),t&4&&-1<Wx.indexOf(e)){for(;u!==null;){var f=vr(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=rn(f.pendingLanes);if(g!==0){var w=f;for(w.pendingLanes|=2,w.entangledLanes|=2;g;){var T=1<<31-st(g);w.entanglements[1]|=T,g&=~T}Ua(f),(Et&6)===0&&(_l=C()+500,so(0))}}break;case 31:case 13:w=ai(f,2),w!==null&&Zn(w,f,2),Ml(),Qd(f,2)}if(f=Jd(o),f===null&&Ud(e,t,o,Xl,i),f===u)break;u=f}u!==null&&o.stopPropagation()}else Ud(e,t,o,null,i)}}function Jd(e){return e=tu(e),ef(e)}var Xl=null;function ef(e){if(Xl=null,e=oa(e),e!==null){var t=c(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=d(t),e!==null)return e;e=null}else if(i===31){if(e=h(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Xl=e,null}function zg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(R()){case se:return 2;case he:return 8;case we:case Ce:return 32;case $e:return 268435456;default:return 32}default:return 32}}var tf=!1,Br=null,Ur=null,Ir=null,po=new Map,mo=new Map,$r=[],Wx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lg(e,t){switch(e){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":Ir=null;break;case"pointerover":case"pointerout":po.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mo.delete(t.pointerId)}}function yo(e,t,i,o,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:i,eventSystemFlags:o,nativeEvent:f,targetContainers:[u]},t!==null&&(t=vr(t),t!==null&&Mg(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function Jx(e,t,i,o,u){switch(t){case"focusin":return Br=yo(Br,e,t,i,o,u),!0;case"dragenter":return Ur=yo(Ur,e,t,i,o,u),!0;case"mouseover":return Ir=yo(Ir,e,t,i,o,u),!0;case"pointerover":var f=u.pointerId;return po.set(f,yo(po.get(f)||null,e,t,i,o,u)),!0;case"gotpointercapture":return f=u.pointerId,mo.set(f,yo(mo.get(f)||null,e,t,i,o,u)),!0}return!1}function Bg(e){var t=oa(e.target);if(t!==null){var i=c(t);if(i!==null){if(t=i.tag,t===13){if(t=d(i),t!==null){e.blockedOn=t,Pt(e.priority,function(){Rg(i)});return}}else if(t===31){if(t=h(i),t!==null){e.blockedOn=t,Pt(e.priority,function(){Rg(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Kl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Jd(e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);eu=o,i.target.dispatchEvent(o),eu=null}else return t=vr(i),t!==null&&Mg(t),e.blockedOn=i,!1;t.shift()}return!0}function Ug(e,t,i){Kl(e)&&i.delete(t)}function e2(){tf=!1,Br!==null&&Kl(Br)&&(Br=null),Ur!==null&&Kl(Ur)&&(Ur=null),Ir!==null&&Kl(Ir)&&(Ir=null),po.forEach(Ug),mo.forEach(Ug)}function Ql(e,t){e.blockedOn===t&&(e.blockedOn=null,tf||(tf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,e2)))}var Wl=null;function Ig(e){Wl!==e&&(Wl=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Wl===e&&(Wl=null);for(var t=0;t<e.length;t+=3){var i=e[t],o=e[t+1],u=e[t+2];if(typeof o!="function"){if(ef(o||i)===null)continue;break}var f=vr(i);f!==null&&(e.splice(t,3),t-=3,Ju(f,{pending:!0,data:u,method:i.method,action:o},o,u))}}))}function as(e){function t(T){return Ql(T,e)}Br!==null&&Ql(Br,e),Ur!==null&&Ql(Ur,e),Ir!==null&&Ql(Ir,e),po.forEach(t),mo.forEach(t);for(var i=0;i<$r.length;i++){var o=$r[i];o.blockedOn===e&&(o.blockedOn=null)}for(;0<$r.length&&(i=$r[0],i.blockedOn===null);)Bg(i),i.blockedOn===null&&$r.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var u=i[o],f=i[o+1],g=u[Tn]||null;if(typeof f=="function")g||Ig(i);else if(g){var w=null;if(f&&f.hasAttribute("formAction")){if(u=f,g=f[Tn]||null)w=g.formAction;else if(ef(u)!==null)continue}else w=g.action;typeof w=="function"?i[o+1]=w:(i.splice(o,3),o-=3),Ig(i)}}}function $g(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return u=g})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),o||setTimeout(i,20)}function i(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function nf(e){this._internalRoot=e}Jl.prototype.render=nf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var i=t.current,o=aa();_g(i,o,e,t,null,null)},Jl.prototype.unmount=nf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_g(e.current,2,null,e,null,null),Ml(),t[Za]=null}};function Jl(e){this._internalRoot=e}Jl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ye();e={blockedOn:null,target:e,priority:t};for(var i=0;i<$r.length&&t!==0&&t<$r[i].priority;i++);$r.splice(i,0,e),i===0&&Bg(e)}};var Hg=n.version;if(Hg!=="19.2.0")throw Error(s(527,Hg,"19.2.0"));V.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var t2={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ec.isDisabled&&ec.supportsFiber)try{Be=ec.inject(t2),He=ec}catch{}}return vo.createRoot=function(e,t){if(!l(e))throw Error(s(299));var i=!1,o="",u=Zm,f=Xm,g=Km;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=jg(e,1,!1,null,null,i,o,null,u,f,g,$g),e[Za]=t.current,Bd(e),new nf(t)},vo.hydrateRoot=function(e,t,i){if(!l(e))throw Error(s(299));var o=!1,u="",f=Zm,g=Xm,w=Km,T=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError),i.formState!==void 0&&(T=i.formState)),t=jg(e,1,!0,t,i??null,o,u,T,f,g,w,$g),t.context=Ag(null),i=t.current,o=aa(),o=Ot(o),u=Cr(o),u.callback=null,Tr(i,u,o),i=o,t.current.lanes=i,_(t,i),Ua(t),e[Za]=t.current,Bd(e),new Jl(t)},vo.version="19.2.0",vo}var Qg;function d2(){if(Qg)return sf.exports;Qg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),sf.exports=u2(),sf.exports}var ub=d2();const f2="modulepreload",h2=function(a,n){return new URL(a,n).href},Wg={},Jg=function(n,r,s){let l=Promise.resolve();if(r&&r.length>0){let y=function(v){return Promise.all(v.map(b=>Promise.resolve(b).then(x=>({status:"fulfilled",value:x}),x=>({status:"rejected",reason:x}))))};const d=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),m=h?.nonce||h?.getAttribute("nonce");l=y(r.map(v=>{if(v=h2(v,s),v in Wg)return;Wg[v]=!0;const b=v.endsWith(".css"),x=b?'[rel="stylesheet"]':"";if(s)for(let j=d.length-1;j>=0;j--){const Z=d[j];if(Z.href===v&&(!b||Z.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${v}"]${x}`))return;const k=document.createElement("link");if(k.rel=b?"stylesheet":f2,b||(k.as="script"),k.crossOrigin="",k.href=v,m&&k.setAttribute("nonce",m),document.head.appendChild(k),b)return new Promise((j,Z)=>{k.addEventListener("load",j),k.addEventListener("error",()=>Z(new Error(`Unable to preload CSS for ${v}`)))})}))}function c(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return l.then(d=>{for(const h of d||[])h.status==="rejected"&&c(h.reason);return n().catch(c)})};var Zr=cb();const Nh=Ch(Zr),ev=lb({__proto__:null,default:Nh},[Zr]);function tv(a,n,r,s,l,c,d){try{var h=a[c](d),m=h.value}catch(y){return void r(y)}h.done?n(m):Promise.resolve(m).then(s,l)}function rt(a){return function(){var n=this,r=arguments;return new Promise(function(s,l){var c=a.apply(n,r);function d(m){tv(c,s,l,d,h,"next",m)}function h(m){tv(c,s,l,d,h,"throw",m)}d(void 0)})}}function ft(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function _n(a){"@babel/helpers - typeof";return _n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_n(a)}function p2(a,n){if(_n(a)!="object"||!a)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var s=r.call(a,n);if(_n(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function db(a){var n=p2(a,"string");return _n(n)=="symbol"?n:n+""}function m2(a,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(a,db(s.key),s)}}function ht(a,n,r){return n&&m2(a.prototype,n),Object.defineProperty(a,"prototype",{writable:!1}),a}function y2(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function Ya(a,n){if(n&&(_n(n)=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y2(a)}function Ut(a){return Ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ut(a)}function Do(a,n){return Do=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Do(a,n)}function Kn(a,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(n&&n.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),n&&Do(a,n)}function Re(a,n,r){return(n=db(n))in a?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r,a}var uf={exports:{}},df={exports:{}},nv;function fb(){return nv||(nv=1,(function(a){function n(r,s){this.v=r,this.k=s}a.exports=n,a.exports.__esModule=!0,a.exports.default=a.exports})(df)),df.exports}var ff={exports:{}},hf={exports:{}},av;function hb(){return av||(av=1,(function(a){function n(r,s,l,c){var d=Object.defineProperty;try{d({},"",{})}catch{d=0}a.exports=n=function(m,y,v,b){function x(k,j){n(m,k,function(Z){return this._invoke(k,j,Z)})}y?d?d(m,y,{value:v,enumerable:!b,configurable:!b,writable:!b}):m[y]=v:(x("next",0),x("throw",1),x("return",2))},a.exports.__esModule=!0,a.exports.default=a.exports,n(r,s,l,c)}a.exports=n,a.exports.__esModule=!0,a.exports.default=a.exports})(hf)),hf.exports}var rv;function pb(){return rv||(rv=1,(function(a){var n=hb();function r(){var s,l,c=typeof Symbol=="function"?Symbol:{},d=c.iterator||"@@iterator",h=c.toStringTag||"@@toStringTag";function m(q,Q,K,B){var Y=Q&&Q.prototype instanceof v?Q:v,fe=Object.create(Y.prototype);return n(fe,"_invoke",(function(be,H,de){var re,pe,ze,Oe=0,Je=de||[],it=!1,We={p:0,n:0,v:s,a:N,f:N.bind(s,4),d:function(W,ge){return re=W,pe=0,ze=s,We.n=ge,y}};function N(V,W){for(pe=V,ze=W,l=0;!it&&Oe&&!ge&&l<Je.length;l++){var ge,U=Je[l],S=We.p,D=U[2];V>3?(ge=D===W)&&(ze=U[(pe=U[4])?5:(pe=3,3)],U[4]=U[5]=s):U[0]<=S&&((ge=V<2&&S<U[1])?(pe=0,We.v=W,We.n=U[1]):S<D&&(ge=V<3||U[0]>W||W>D)&&(U[4]=V,U[5]=W,We.n=D,pe=0))}if(ge||V>1)return y;throw it=!0,W}return function(V,W,ge){if(Oe>1)throw TypeError("Generator is already running");for(it&&W===1&&N(W,ge),pe=W,ze=ge;(l=pe<2?s:ze)||!it;){re||(pe?pe<3?(pe>1&&(We.n=-1),N(pe,ze)):We.n=ze:We.v=ze);try{if(Oe=2,re){if(pe||(V="next"),l=re[V]){if(!(l=l.call(re,ze)))throw TypeError("iterator result is not an object");if(!l.done)return l;ze=l.value,pe<2&&(pe=0)}else pe===1&&(l=re.return)&&l.call(re),pe<2&&(ze=TypeError("The iterator does not provide a '"+V+"' method"),pe=1);re=s}else if((l=(it=We.n<0)?ze:be.call(H,We))!==y)break}catch(U){re=s,pe=1,ze=U}finally{Oe=1}}return{value:l,done:it}}})(q,K,B),!0),fe}var y={};function v(){}function b(){}function x(){}l=Object.getPrototypeOf;var k=[][d]?l(l([][d]())):(n(l={},d,function(){return this}),l),j=x.prototype=v.prototype=Object.create(k);function Z(q){return Object.setPrototypeOf?Object.setPrototypeOf(q,x):(q.__proto__=x,n(q,h,"GeneratorFunction")),q.prototype=Object.create(j),q}return b.prototype=x,n(j,"constructor",x),n(x,"constructor",b),b.displayName="GeneratorFunction",n(x,h,"GeneratorFunction"),n(j),n(j,h,"Generator"),n(j,d,function(){return this}),n(j,"toString",function(){return"[object Generator]"}),(a.exports=r=function(){return{w:m,m:Z}},a.exports.__esModule=!0,a.exports.default=a.exports)()}a.exports=r,a.exports.__esModule=!0,a.exports.default=a.exports})(ff)),ff.exports}var pf={exports:{}},mf={exports:{}},yf={exports:{}},iv;function mb(){return iv||(iv=1,(function(a){var n=fb(),r=hb();function s(l,c){function d(m,y,v,b){try{var x=l[m](y),k=x.value;return k instanceof n?c.resolve(k.v).then(function(j){d("next",j,v,b)},function(j){d("throw",j,v,b)}):c.resolve(k).then(function(j){x.value=j,v(x)},function(j){return d("throw",j,v,b)})}catch(j){b(j)}}var h;this.next||(r(s.prototype),r(s.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),r(this,"_invoke",function(m,y,v){function b(){return new c(function(x,k){d(m,v,x,k)})}return h=h?h.then(b,b):b()},!0)}a.exports=s,a.exports.__esModule=!0,a.exports.default=a.exports})(yf)),yf.exports}var sv;function yb(){return sv||(sv=1,(function(a){var n=pb(),r=mb();function s(l,c,d,h,m){return new r(n().w(l,c,d,h),m||Promise)}a.exports=s,a.exports.__esModule=!0,a.exports.default=a.exports})(mf)),mf.exports}var ov;function g2(){return ov||(ov=1,(function(a){var n=yb();function r(s,l,c,d,h){var m=n(s,l,c,d,h);return m.next().then(function(y){return y.done?y.value:m.next()})}a.exports=r,a.exports.__esModule=!0,a.exports.default=a.exports})(pf)),pf.exports}var gf={exports:{}},lv;function v2(){return lv||(lv=1,(function(a){function n(r){var s=Object(r),l=[];for(var c in s)l.unshift(c);return function d(){for(;l.length;)if((c=l.pop())in s)return d.value=c,d.done=!1,d;return d.done=!0,d}}a.exports=n,a.exports.__esModule=!0,a.exports.default=a.exports})(gf)),gf.exports}var vf={exports:{}},bf={exports:{}},cv;function b2(){return cv||(cv=1,(function(a){function n(r){"@babel/helpers - typeof";return a.exports=n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},a.exports.__esModule=!0,a.exports.default=a.exports,n(r)}a.exports=n,a.exports.__esModule=!0,a.exports.default=a.exports})(bf)),bf.exports}var uv;function w2(){return uv||(uv=1,(function(a){var n=b2().default;function r(s){if(s!=null){var l=s[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],c=0;if(l)return l.call(s);if(typeof s.next=="function")return s;if(!isNaN(s.length))return{next:function(){return s&&c>=s.length&&(s=void 0),{value:s&&s[c++],done:!s}}}}throw new TypeError(n(s)+" is not iterable")}a.exports=r,a.exports.__esModule=!0,a.exports.default=a.exports})(vf)),vf.exports}var dv;function S2(){return dv||(dv=1,(function(a){var n=fb(),r=pb(),s=g2(),l=yb(),c=mb(),d=v2(),h=w2();function m(){var y=r(),v=y.m(m),b=(Object.getPrototypeOf?Object.getPrototypeOf(v):v.__proto__).constructor;function x(Z){var q=typeof Z=="function"&&Z.constructor;return!!q&&(q===b||(q.displayName||q.name)==="GeneratorFunction")}var k={throw:1,return:2,break:3,continue:3};function j(Z){var q,Q;return function(K){q||(q={stop:function(){return Q(K.a,2)},catch:function(){return K.v},abrupt:function(Y,fe){return Q(K.a,k[Y],fe)},delegateYield:function(Y,fe,be){return q.resultName=fe,Q(K.d,h(Y),be)},finish:function(Y){return Q(K.f,Y)}},Q=function(Y,fe,be){K.p=q.prev,K.n=q.next;try{return Y(fe,be)}finally{q.next=K.n}}),q.resultName&&(q[q.resultName]=K.v,q.resultName=void 0),q.sent=K.v,q.next=K.n;try{return Z.call(this,q)}finally{K.p=q.prev,K.n=q.next}}}return(a.exports=m=function(){return{wrap:function(Q,K,B,Y){return y.w(j(Q),K,B,Y&&Y.reverse())},isGeneratorFunction:x,mark:y.m,awrap:function(Q,K){return new n(Q,K)},AsyncIterator:c,async:function(Q,K,B,Y,fe){return(x(K)?l:s)(j(Q),K,B,Y,fe)},keys:d,values:h}},a.exports.__esModule=!0,a.exports.default=a.exports)()}a.exports=m,a.exports.__esModule=!0,a.exports.default=a.exports})(uf)),uf.exports}var wf,fv;function x2(){if(fv)return wf;fv=1;var a=S2()();wf=a;try{regeneratorRuntime=a}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}return wf}var E2=x2();const Se=Ch(E2);function k2(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=C2(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(y){throw y},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,d=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var y=r.next();return d=y.done,y},e:function(y){h=!0,c=y},f:function(){try{d||r.return==null||r.return()}finally{if(h)throw c}}}}function C2(a,n){if(a){if(typeof a=="string")return hv(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hv(a,n):void 0}}function hv(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function T2(){return{debug:function(n){}}}var gb=(function(){function a(){ft(this,a),Re(this,"pipes",[])}return ht(a,[{key:"addPipe",value:function(r){this.pipes.push(r)}},{key:"emit",value:(function(){var n=rt(Se.mark(function s(l){var c,d,h,m;return Se.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:c=l,d=k2(this.pipes),v.prev=2,d.s();case 4:if((h=d.n()).done){v.next=13;break}return m=h.value,v.next=8,m(c);case 8:if(c=v.sent,!(typeof c>"u")){v.next=11;break}return v.abrupt("return");case 11:v.next=4;break;case 13:v.next=18;break;case 15:v.prev=15,v.t0=v.catch(2),d.e(v.t0);case 18:return v.prev=18,d.f(),v.finish(18);case 21:return v.abrupt("return",c);case 22:case"end":return v.stop()}},s,this,[[2,15,18,21]])}));function r(s){return n.apply(this,arguments)}return r})()}])})(),ws=(function(){function a(n){ft(this,a),Re(this,"signal",new gb),this.name=n}return ht(a,[{key:"addPipe",value:function(r){this.signal.addPipe(r)}},{key:"use",value:function(r){if(!(r instanceof a))throw new Error("cannot use non-Scope instance");return r.setParent(this),this.addPipe(function(s){return r.signal.emit(s)}),T2()}},{key:"setParent",value:function(r){this.parent=r}},{key:"emit",value:function(r){return this.signal.emit(r)}},{key:"hasParent",value:function(){return!!this.parent}},{key:"parentScope",value:function(r){if(!this.parent)throw new Error("cannot find parent");if(r&&this.parent instanceof r)return this.parent;if(r)throw new Error("actual parent is not instance of type");return this.parent}}])})();function pv(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=N2(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(y){throw y},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,d=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var y=r.next();return d=y.done,y},e:function(y){h=!0,c=y},f:function(){try{d||r.return==null||r.return()}finally{if(h)throw c}}}}function N2(a,n){if(a){if(typeof a=="string")return mv(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mv(a,n):void 0}}function mv(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function O2(a,n,r){return n=Ut(n),Ya(a,vb()?Reflect.construct(n,r||[],Ut(a).constructor):n.apply(a,r))}function vb(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vb=function(){return!!a})()}var Wr=(function(a){function n(){var r;return ft(this,n),r=O2(this,n,["NodeEditor"]),Re(r,"nodes",[]),Re(r,"connections",[]),r}return Kn(n,a),ht(n,[{key:"getNode",value:function(s){return this.nodes.find(function(l){return l.id===s})}},{key:"getNodes",value:function(){return this.nodes.slice()}},{key:"getConnections",value:function(){return this.connections.slice()}},{key:"getConnection",value:function(s){return this.connections.find(function(l){return l.id===s})}},{key:"addNode",value:(function(){var r=rt(Se.mark(function l(c){return Se.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!this.getNode(c.id)){h.next=2;break}throw new Error("node has already been added");case 2:return h.next=4,this.emit({type:"nodecreate",data:c});case 4:if(h.sent){h.next=6;break}return h.abrupt("return",!1);case 6:return this.nodes.push(c),h.next=9,this.emit({type:"nodecreated",data:c});case 9:return h.abrupt("return",!0);case 10:case"end":return h.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"addConnection",value:(function(){var r=rt(Se.mark(function l(c){return Se.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!this.getConnection(c.id)){h.next=2;break}throw new Error("connection has already been added");case 2:return h.next=4,this.emit({type:"connectioncreate",data:c});case 4:if(h.sent){h.next=6;break}return h.abrupt("return",!1);case 6:return this.connections.push(c),h.next=9,this.emit({type:"connectioncreated",data:c});case 9:return h.abrupt("return",!0);case 10:case"end":return h.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"removeNode",value:(function(){var r=rt(Se.mark(function l(c){var d,h;return Se.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(d=this.nodes.find(function(v){return v.id===c}),d){y.next=3;break}throw new Error("cannot find node");case 3:return y.next=5,this.emit({type:"noderemove",data:d});case 5:if(y.sent){y.next=7;break}return y.abrupt("return",!1);case 7:return h=this.nodes.indexOf(d),this.nodes.splice(h,1),y.next=11,this.emit({type:"noderemoved",data:d});case 11:return y.abrupt("return",!0);case 12:case"end":return y.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"removeConnection",value:(function(){var r=rt(Se.mark(function l(c){var d,h;return Se.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(d=this.connections.find(function(v){return v.id===c}),d){y.next=3;break}throw new Error("cannot find connection");case 3:return y.next=5,this.emit({type:"connectionremove",data:d});case 5:if(y.sent){y.next=7;break}return y.abrupt("return",!1);case 7:return h=this.connections.indexOf(d),this.connections.splice(h,1),y.next=11,this.emit({type:"connectionremoved",data:d});case 11:return y.abrupt("return",!0);case 12:case"end":return y.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"clear",value:(function(){var r=rt(Se.mark(function l(){var c,d,h,m,y,v;return Se.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,this.emit({type:"clear"});case 2:if(x.sent){x.next=6;break}return x.next=5,this.emit({type:"clearcancelled"});case 5:return x.abrupt("return",!1);case 6:c=pv(this.connections.slice()),x.prev=7,c.s();case 9:if((d=c.n()).done){x.next=15;break}return h=d.value,x.next=13,this.removeConnection(h.id);case 13:x.next=9;break;case 15:x.next=20;break;case 17:x.prev=17,x.t0=x.catch(7),c.e(x.t0);case 20:return x.prev=20,c.f(),x.finish(20);case 23:m=pv(this.nodes.slice()),x.prev=24,m.s();case 26:if((y=m.n()).done){x.next=32;break}return v=y.value,x.next=30,this.removeNode(v.id);case 30:x.next=26;break;case 32:x.next=37;break;case 34:x.prev=34,x.t1=x.catch(24),m.e(x.t1);case 37:return x.prev=37,m.f(),x.finish(37);case 40:return x.next=42,this.emit({type:"cleared"});case 42:return x.abrupt("return",!0);case 43:case"end":return x.stop()}},l,this,[[7,17,20,23],[24,34,37,40]])}));function s(){return r.apply(this,arguments)}return s})()}])})(ws),Sf=globalThis.crypto;function Jr(){if("randomBytes"in Sf)return Sf.randomBytes(8).toString("hex");var a=Sf.getRandomValues(new Uint8Array(8)),n=Array.from(a),r=n.map(function(s){return s.toString(16).padStart(2,"0")});return r.join("")}function Oh(a,n,r){return n=Ut(n),Ya(a,bb()?Reflect.construct(n,r||[],Ut(a).constructor):n.apply(a,r))}function bb(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bb=function(){return!!a})()}var j2=ht(function a(n){ft(this,a),this.name=n}),jh=ht(function a(n,r,s){ft(this,a),this.socket=n,this.label=r,this.multipleConnections=s,this.id=Jr()}),A2=(function(a){function n(r,s,l){var c;return ft(this,n),c=Oh(this,n,[r,s,l]),Re(c,"control",null),Re(c,"showControl",!0),c.socket=r,c.label=s,c.multipleConnections=l,c}return Kn(n,a),ht(n,[{key:"addControl",value:function(s){if(this.control)throw new Error("control already added for this input");this.control=s}},{key:"removeControl",value:function(){this.control=null}}])})(jh),_2=(function(a){function n(r,s,l){return ft(this,n),Oh(this,n,[r,s,l!==!1])}return Kn(n,a),ht(n)})(jh),wb=ht(function a(){ft(this,a),this.id=Jr()}),D2=(function(a){function n(r,s){var l,c;return ft(this,n),c=Oh(this,n),c.type=r,c.options=s,c.id=Jr(),c.readonly=(l=s?.readonly)!==null&&l!==void 0?l:!1,typeof s?.initial<"u"&&(c.value=s.initial),c}return Kn(n,a),ht(n,[{key:"setValue",value:function(s){var l;this.value=s,(l=this.options)!==null&&l!==void 0&&l.change&&this.options.change(s)}}])})(wb),M2=(function(){function a(n){ft(this,a),Re(this,"inputs",{}),Re(this,"outputs",{}),Re(this,"controls",{}),this.label=n,this.id=Jr()}return ht(a,[{key:"hasInput",value:function(r){return Object.prototype.hasOwnProperty.call(this.inputs,r)}},{key:"addInput",value:function(r,s){if(this.hasInput(r))throw new Error("input with key '".concat(String(r),"' already added"));Object.defineProperty(this.inputs,r,{value:s,enumerable:!0,configurable:!0})}},{key:"removeInput",value:function(r){delete this.inputs[r]}},{key:"hasOutput",value:function(r){return Object.prototype.hasOwnProperty.call(this.outputs,r)}},{key:"addOutput",value:function(r,s){if(this.hasOutput(r))throw new Error("output with key '".concat(String(r),"' already added"));Object.defineProperty(this.outputs,r,{value:s,enumerable:!0,configurable:!0})}},{key:"removeOutput",value:function(r){delete this.outputs[r]}},{key:"hasControl",value:function(r){return Object.prototype.hasOwnProperty.call(this.controls,r)}},{key:"addControl",value:function(r,s){if(this.hasControl(r))throw new Error("control with key '".concat(String(r),"' already added"));Object.defineProperty(this.controls,r,{value:s,enumerable:!0,configurable:!0})}},{key:"removeControl",value:function(r){delete this.controls[r]}}])})(),R2=ht(function a(n,r,s,l){if(ft(this,a),this.sourceOutput=r,this.targetInput=l,!n.outputs[r])throw new Error("source node doesn't have output with a key ".concat(String(r)));if(!s.inputs[l])throw new Error("target node doesn't have input with a key ".concat(String(l)));this.id=Jr(),this.source=n.id,this.target=s.id}),Kt=Object.freeze({__proto__:null,Socket:j2,Port:jh,Input:A2,Output:_2,Control:wb,InputControl:D2,Node:M2,Connection:R2});const z2=Object.freeze(Object.defineProperty({__proto__:null,ClassicPreset:Kt,NodeEditor:Wr,Scope:ws,Signal:gb,getUID:Jr},Symbol.toStringTag,{value:"Module"}));function Gf(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function L2(a){if(Array.isArray(a))return Gf(a)}function B2(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function Sb(a,n){if(a){if(typeof a=="string")return Gf(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Gf(a,n):void 0}}function U2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ss(a){return L2(a)||B2(a)||Sb(a)||U2()}var I2=(function(){function a(n){ft(this,a),this.reordered=n,this.holder=document.createElement("div"),this.holder.style.transformOrigin="0 0"}return ht(a,[{key:"getPointerFrom",value:function(r){var s=this.holder.getBoundingClientRect(),l=s.left,c=s.top,d=r.clientX-l,h=r.clientY-c;return{x:d,y:h}}},{key:"add",value:function(r){this.holder.appendChild(r)}},{key:"reorder",value:(function(){var n=rt(Se.mark(function s(l,c){return Se.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(this.holder.contains(l)){h.next=2;break}throw new Error("content doesn't have 'target' for reordering");case 2:if(!(c!==null&&!this.holder.contains(c))){h.next=4;break}throw new Error("content doesn't have 'next' for reordering");case 4:return this.holder.insertBefore(l,c),h.next=7,this.reordered(l);case 7:case"end":return h.stop()}},s,this)}));function r(s,l){return n.apply(this,arguments)}return r})()},{key:"remove",value:function(r){this.holder.contains(r)&&this.holder.removeChild(r)}}])})();function xb(a,n){var r=function(d){n.move(d)},s=function(d){window.removeEventListener("pointermove",r),window.removeEventListener("pointerup",s),window.removeEventListener("pointercancel",s),n.up(d)},l=function(d){window.addEventListener("pointermove",r),window.addEventListener("pointerup",s),window.addEventListener("pointercancel",s),n.down(d)};return a.addEventListener("pointerdown",l),{destroy:function(){a.removeEventListener("pointerdown",l),window.removeEventListener("pointermove",r),window.removeEventListener("pointerup",s),window.removeEventListener("pointercancel",s)}}}var yv=function(n){return n.length===0?0:Math.min.apply(Math,Ss(n))},gv=function(n){return n.length===0?0:Math.max.apply(Math,Ss(n))};function Eb(a){var n=yv(a.map(function(c){return c.position.x})),r=yv(a.map(function(c){return c.position.y})),s=gv(a.map(function(c){return c.position.x+c.width})),l=gv(a.map(function(c){return c.position.y+c.height}));return{left:n,right:s,top:r,bottom:l,width:Math.abs(n-s),height:Math.abs(r-l),center:{x:(n+s)/2,y:(r+l)/2}}}function vv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function $2(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?vv(Object(r),!0).forEach(function(s){Re(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):vv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}var Ah=(function(){function a(n){var r=this;ft(this,a),Re(this,"down",function(s){r.guards.down(s)&&(s.stopPropagation(),r.pointerStart={x:s.pageX,y:s.pageY},r.startPosition=$2({},r.config.getCurrentPosition()),r.events.start(s))}),Re(this,"move",function(s){if(!(!r.pointerStart||!r.startPosition)&&r.guards.move(s)){s.preventDefault();var l={x:s.pageX-r.pointerStart.x,y:s.pageY-r.pointerStart.y},c=r.config.getZoom(),d=r.startPosition.x+l.x/c,h=r.startPosition.y+l.y/c;r.events.translate(d,h,s)}}),Re(this,"up",function(s){r.pointerStart&&(delete r.pointerStart,r.events.drag(s))}),this.guards=n||{down:function(l){return!(l.pointerType==="mouse"&&l.button!==0)},move:function(){return!0}}}return ht(a,[{key:"initialize",value:function(r,s,l){this.config=s,this.events=l,r.style.touchAction="none",this.pointerListener=xb(r,{down:this.down,move:this.move,up:this.up})}},{key:"destroy",value:function(){this.pointerListener.destroy()}}])})(),kb=(function(){function a(n){var r=this;ft(this,a),Re(this,"previous",null),Re(this,"pointers",[]),Re(this,"wheel",function(s){s.preventDefault();var l=r.element.getBoundingClientRect(),c=l.left,d=l.top,h=s.deltaY<0,m=h?r.intensity:-r.intensity,y=(c-s.clientX)*m,v=(d-s.clientY)*m;r.onzoom(m,y,v,"wheel")}),Re(this,"down",function(s){r.pointers.push(s)}),Re(this,"move",function(s){if(r.pointers=r.pointers.map(function(j){return j.pointerId===s.pointerId?s:j}),!!r.isTranslating()){var l=r.element.getBoundingClientRect(),c=l.left,d=l.top,h=r.getTouches(),m=h.cx,y=h.cy,v=h.distance;if(r.previous!==null&&r.previous.distance>0){var b=v/r.previous.distance-1,x=(c-m)*b,k=(d-y)*b;r.onzoom(b,x-(r.previous.cx-m),k-(r.previous.cy-y),"touch")}r.previous={cx:m,cy:y,distance:v}}}),Re(this,"contextmenu",function(){r.pointers=[]}),Re(this,"up",function(s){r.previous=null,r.pointers=r.pointers.filter(function(l){return l.pointerId!==s.pointerId})}),Re(this,"dblclick",function(s){s.preventDefault();var l=r.element.getBoundingClientRect(),c=l.left,d=l.top,h=4*r.intensity,m=(c-s.clientX)*h,y=(d-s.clientY)*h;r.onzoom(h,m,y,"dblclick")}),this.intensity=n}return ht(a,[{key:"initialize",value:function(r,s,l){this.container=r,this.element=s,this.onzoom=l,this.container.addEventListener("wheel",this.wheel),this.container.addEventListener("pointerdown",this.down),this.container.addEventListener("dblclick",this.dblclick),window.addEventListener("pointermove",this.move),window.addEventListener("pointerup",this.up),window.addEventListener("pointercancel",this.up),window.addEventListener("contextmenu",this.contextmenu)}},{key:"getTouches",value:function(){var r={touches:this.pointers},s=[r.touches[0].clientX,r.touches[0].clientY],l=s[0],c=s[1],d=[r.touches[1].clientX,r.touches[1].clientY],h=d[0],m=d[1],y=Math.sqrt(Math.pow(l-h,2)+Math.pow(c-m,2));return{cx:(l+h)/2,cy:(c+m)/2,distance:y}}},{key:"isTranslating",value:function(){return this.pointers.length>=2}},{key:"destroy",value:function(){this.container.removeEventListener("wheel",this.wheel),this.container.removeEventListener("pointerdown",this.down),this.container.removeEventListener("dblclick",this.dblclick),window.removeEventListener("pointermove",this.move),window.removeEventListener("pointerup",this.up),window.removeEventListener("pointercancel",this.up),window.removeEventListener("contextmenu",this.contextmenu)}}])})(),Cb=(function(){function a(n,r,s){var l=this;ft(this,a),Re(this,"transform",{k:1,x:0,y:0}),Re(this,"pointer",{x:0,y:0}),Re(this,"zoomHandler",null),Re(this,"dragHandler",null),Re(this,"pointerdown",function(c){l.setPointerFrom(c),l.events.pointerDown(l.pointer,c)}),Re(this,"pointermove",function(c){l.setPointerFrom(c),l.events.pointerMove(l.pointer,c)}),Re(this,"pointerup",function(c){l.setPointerFrom(c),l.events.pointerUp(l.pointer,c)}),Re(this,"resize",function(c){l.events.resize(c)}),Re(this,"onTranslate",function(c,d){var h;(h=l.zoomHandler)!==null&&h!==void 0&&h.isTranslating()||l.translate(c,d)}),Re(this,"onZoom",function(c,d,h,m){l.zoom(l.transform.k*(1+c),d,h,m),l.update()}),this.container=n,this.events=r,this.guards=s,this.content=new I2(function(c){return l.events.reordered(c)}),this.content.holder.style.transformOrigin="0 0",this.setZoomHandler(new kb(.1)),this.setDragHandler(new Ah),this.container.addEventListener("pointerdown",this.pointerdown),this.container.addEventListener("pointermove",this.pointermove),window.addEventListener("pointerup",this.pointerup),window.addEventListener("resize",this.resize),n.appendChild(this.content.holder),this.update()}return ht(a,[{key:"update",value:function(){var r=this.transform,s=r.x,l=r.y,c=r.k;this.content.holder.style.transform="translate(".concat(s,"px, ").concat(l,"px) scale(").concat(c,")")}},{key:"setDragHandler",value:function(r){var s=this;this.dragHandler&&this.dragHandler.destroy(),this.dragHandler=r,this.dragHandler&&this.dragHandler.initialize(this.container,{getCurrentPosition:function(){return s.transform},getZoom:function(){return 1}},{start:function(){return null},translate:this.onTranslate,drag:function(){return null}})}},{key:"setZoomHandler",value:function(r){this.zoomHandler&&this.zoomHandler.destroy(),this.zoomHandler=r,this.zoomHandler&&this.zoomHandler.initialize(this.container,this.content.holder,this.onZoom)}},{key:"setPointerFrom",value:function(r){var s=this.content.getPointerFrom(r),l=s.x,c=s.y,d=this.transform.k;this.pointer={x:l/d,y:c/d}}},{key:"translate",value:(function(){var n=rt(Se.mark(function s(l,c){var d,h;return Se.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return d={x:l,y:c},y.next=3,this.guards.translate({previous:this.transform,position:d});case 3:if(h=y.sent,h){y.next=6;break}return y.abrupt("return",!1);case 6:return this.transform.x=h.data.position.x,this.transform.y=h.data.position.y,this.update(),y.next=11,this.events.translated(h.data);case 11:return y.abrupt("return",!0);case 12:case"end":return y.stop()}},s,this)}));function r(s,l){return n.apply(this,arguments)}return r})()},{key:"zoom",value:(function(){var n=rt(Se.mark(function s(l){var c,d,h,m,y,v,b=arguments;return Se.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return c=b.length>1&&b[1]!==void 0?b[1]:0,d=b.length>2&&b[2]!==void 0?b[2]:0,h=b.length>3?b[3]:void 0,m=this.transform.k,k.next=6,this.guards.zoom({previous:this.transform,zoom:l,source:h});case 6:if(y=k.sent,y){k.next=9;break}return k.abrupt("return",!0);case 9:return v=(m-y.data.zoom)/(m-l||1),this.transform.k=y.data.zoom||1,this.transform.x+=c*v,this.transform.y+=d*v,this.update(),k.next=16,this.events.zoomed(y.data);case 16:return k.abrupt("return",!1);case 17:case"end":return k.stop()}},s,this)}));function r(s){return n.apply(this,arguments)}return r})()},{key:"destroy",value:function(){this.container.removeEventListener("pointerdown",this.pointerdown),this.container.removeEventListener("pointermove",this.pointermove),window.removeEventListener("pointerup",this.pointerup),window.removeEventListener("resize",this.resize),this.dragHandler&&this.dragHandler.destroy(),this.zoomHandler&&this.zoomHandler.destroy(),this.content.holder.innerHTML=""}}])})();function H2(a,n,r){return n=Ut(n),Ya(a,Tb()?Reflect.construct(n,r||[],Ut(a).constructor):n.apply(a,r))}function Tb(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tb=function(){return!!a})()}var Lo=(function(a){function n(){return ft(this,n),H2(this,n,arguments)}return Kn(n,a),ht(n)})(ws),V2=ht(function a(n){ft(this,a),this.element=document.createElement("div"),this.element.style.position="absolute",this.element.style.left="0",this.element.style.top="0",this.element.addEventListener("contextmenu",function(r){return n.contextmenu(r)})}),q2=(function(){function a(){ft(this,a),Re(this,"views",new WeakMap),Re(this,"viewsElements",new Map)}return ht(a,[{key:"set",value:function(r){var s=r.element,l=r.type,c=r.payload;c!=null&&c.id&&(this.views.set(s,r),this.viewsElements.set("".concat(l,"_").concat(c.id),s))}},{key:"get",value:function(r,s){var l=this.viewsElements.get("".concat(r,"_").concat(s));return l&&this.views.get(l)}},{key:"delete",value:function(r){var s,l=this.views.get(r);l&&(s=l.payload)!==null&&s!==void 0&&s.id&&(this.views.delete(r),this.viewsElements.delete("".concat(l.type,"_").concat(l.payload.id)))}}])})();function bv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function wv(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?bv(Object(r),!0).forEach(function(s){Re(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):bv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}var Nb=(function(){function a(n,r,s){var l=this;ft(this,a),Re(this,"translate",(function(){var c=rt(Se.mark(function d(h,m){var y,v;return Se.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return y=wv({},l.position),x.next=3,l.guards.translate({previous:y,position:{x:h,y:m}});case 3:if(v=x.sent,v){x.next=6;break}return x.abrupt("return",!1);case 6:return l.position=wv({},v.data.position),l.element.style.transform="translate(".concat(l.position.x,"px, ").concat(l.position.y,"px)"),x.next=10,l.events.translated({position:l.position,previous:y});case 10:return x.abrupt("return",!0);case 11:case"end":return x.stop()}},d)}));return function(d,h){return c.apply(this,arguments)}})()),Re(this,"resize",(function(){var c=rt(Se.mark(function d(h,m){var y,v;return Se.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return y={width:h,height:m},x.next=3,l.guards.resize({size:y});case 3:if(x.sent){x.next=5;break}return x.abrupt("return",!1);case 5:if(v=l.element.querySelector("*:not(span):not([fragment])"),!(!v||!(v instanceof HTMLElement))){x.next=8;break}return x.abrupt("return",!1);case 8:return v.style.width="".concat(h,"px"),v.style.height="".concat(m,"px"),x.next=12,l.events.resized({size:y});case 12:return x.abrupt("return",!0);case 13:case"end":return x.stop()}},d)}));return function(d,h){return c.apply(this,arguments)}})()),this.getZoom=n,this.events=r,this.guards=s,this.element=document.createElement("div"),this.element.style.position="absolute",this.position={x:0,y:0},this.translate(0,0),this.element.addEventListener("contextmenu",function(c){return l.events.contextmenu(c)}),this.dragHandler=new Ah,this.dragHandler.initialize(this.element,{getCurrentPosition:function(){return l.position},getZoom:function(){return l.getZoom()}},{start:this.events.picked,translate:this.translate,drag:this.events.dragged})}return ht(a,[{key:"destroy",value:function(){this.dragHandler.destroy()}}])})();function Ob(a,n){return a.map(function(r){return{view:n.get(r.id),node:r}}).filter(function(r){return r.view}).map(function(r){var s=r.view,l=r.node,c=l.width,d=l.height;return typeof c<"u"&&typeof d<"u"?{position:s.position,width:c,height:d}:{position:s.position,width:s.element.clientWidth,height:s.element.clientHeight}})}function G2(a,n){var r=a.parentScope(Wr),s=n.map(function(c){return _n(c)==="object"?c:r.getNode(c)}),l=Ob(s,a.nodeViews);return Eb(l)}function Y2(a){var n=a;n.addPipe(function(r){if(!r||_n(r)!=="object"||!("type"in r))return r;if(r.type==="nodepicked"){var s=n.nodeViews.get(r.data.id),l=n.area.content;s&&l.reorder(s.element,null)}if(r.type==="connectioncreated"){var c=n.connectionViews.get(r.data.id),d=n.area.content;c&&d.reorder(c.element,d.holder.firstChild)}return r})}function Sv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function pr(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Sv(Object(r),!0).forEach(function(s){Re(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):Sv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function F2(a,n){var r=n!=null&&n.scaling?n.scaling===!0?{min:.1,max:1}:n.scaling:!1,s=n!=null&&n.translation?n.translation===!0?{left:0,top:0,right:1e3,bottom:1e3}:n.translation:!1;function l(d){if(!r)throw new Error("scaling param isnt defined");var h=typeof r=="function"?r():r,m=h.min,y=h.max;return d<m?m:d>y?y:d}function c(d){if(!s)throw new Error("translation param isnt defined");var h=pr({},d),m=typeof s=="function"?s():s,y=m.left,v=m.top,b=m.right,x=m.bottom;return h.x<y&&(h.x=y),h.x>b&&(h.x=b),h.y<v&&(h.y=v),h.y>x&&(h.y=x),h}a.addPipe(function(d){if(!d||_n(d)!=="object"||!("type"in d))return d;if(r&&d.type==="zoom")return pr(pr({},d),{},{data:pr(pr({},d.data),{},{zoom:l(d.data.zoom)})});if(s&&d.type==="zoomed"){var h=c(a.area.transform);a.area.translate(h.x,h.y)}return s&&d.type==="translate"?pr(pr({},d),{},{data:pr(pr({},d.data),{},{position:c(d.data.position)})}):d})}function P2(){var a=!1;function n(s){(s.key==="Control"||s.key==="Meta")&&(a=!0)}function r(s){(s.key==="Control"||s.key==="Meta")&&(a=!1)}return document.addEventListener("keydown",n),document.addEventListener("keyup",r),{active:function(){return a},destroy:function(){document.removeEventListener("keydown",n),document.removeEventListener("keyup",r)}}}var jb=(function(){function a(){ft(this,a),Re(this,"entities",new Map),Re(this,"pickId",null)}return ht(a,[{key:"isSelected",value:function(r){return this.entities.has("".concat(r.label,"_").concat(r.id))}},{key:"add",value:(function(){var n=rt(Se.mark(function s(l,c){return Se.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(c){h.next=3;break}return h.next=3,this.unselectAll();case 3:this.entities.set("".concat(l.label,"_").concat(l.id),l);case 4:case"end":return h.stop()}},s,this)}));function r(s,l){return n.apply(this,arguments)}return r})()},{key:"remove",value:(function(){var n=rt(Se.mark(function s(l){var c,d;return Se.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(c="".concat(l.label,"_").concat(l.id),d=this.entities.get(c),!d){m.next=6;break}return this.entities.delete(c),m.next=6,d.unselect();case 6:case"end":return m.stop()}},s,this)}));function r(s){return n.apply(this,arguments)}return r})()},{key:"unselectAll",value:(function(){var n=rt(Se.mark(function s(){var l=this;return Se.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Promise.all(Ss(Array.from(this.entities.values())).map(function(h){return l.remove(h)}));case 2:case"end":return d.stop()}},s,this)}));function r(){return n.apply(this,arguments)}return r})()},{key:"translate",value:(function(){var n=rt(Se.mark(function s(l,c){var d=this;return Se.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,Promise.all(Array.from(this.entities.values()).map(function(y){return!d.isPicked(y)&&y.translate(l,c)}));case 2:case"end":return m.stop()}},s,this)}));function r(s,l){return n.apply(this,arguments)}return r})()},{key:"pick",value:function(r){this.pickId="".concat(r.label,"_").concat(r.id)}},{key:"release",value:function(){this.pickId=null}},{key:"isPicked",value:function(r){return this.pickId==="".concat(r.label,"_").concat(r.id)}}])})();function Z2(){return new jb}function X2(a,n,r){var s=null,l=a,c=function(){return s||(s=l.parentScope(Wr))},d=0;function h(k){k.selected||(k.selected=!0,l.update("node",k.id))}function m(k){k.selected&&(k.selected=!1,l.update("node",k.id))}function y(k,j){return v.apply(this,arguments)}function v(){return v=rt(Se.mark(function k(j,Z){var q;return Se.wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(q=c().getNode(j),q){K.next=3;break}return K.abrupt("return");case 3:return K.next=5,n.add({label:"node",id:q.id,translate:function(Y,fe){return rt(Se.mark(function be(){var H,de;return Se.wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:if(H=l.nodeViews.get(q.id),de=H?.position,!de){pe.next=5;break}return pe.next=5,H.translate(de.x+Y,de.y+fe);case 5:case"end":return pe.stop()}},be)}))()},unselect:function(){m(q)}},Z);case 5:h(q);case 6:case"end":return K.stop()}},k)})),v.apply(this,arguments)}function b(k){return x.apply(this,arguments)}function x(){return x=rt(Se.mark(function k(j){return Se.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.next=2,n.remove({id:j,label:"node"});case 2:case"end":return q.stop()}},k)})),x.apply(this,arguments)}return l.addPipe((function(){var k=rt(Se.mark(function j(Z){var q,Q,K,B,Y,fe,be,H;return Se.wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(!(!Z||_n(Z)!=="object"||!("type"in Z))){re.next=2;break}return re.abrupt("return",Z);case 2:if(Z.type!=="nodepicked"){re.next=11;break}return q=Z.data.id,Q=r.accumulating.active(),n.pick({id:q,label:"node"}),d=null,re.next=9,y(q,Q);case 9:re.next=33;break;case 11:if(Z.type!=="nodetranslated"){re.next=20;break}if(K=Z.data,B=K.id,Y=K.position,fe=K.previous,be=Y.x-fe.x,H=Y.y-fe.y,!n.isPicked({id:B,label:"node"})){re.next=18;break}return re.next=18,n.translate(be,H);case 18:re.next=33;break;case 20:if(Z.type!=="pointerdown"){re.next=24;break}d=0,re.next=33;break;case 24:if(Z.type!=="pointermove"){re.next=28;break}d!==null&&d++,re.next=33;break;case 28:if(Z.type!=="pointerup"){re.next=33;break}if(!(d!==null&&d<4)){re.next=32;break}return re.next=32,n.unselectAll();case 32:d=null;case 33:return re.abrupt("return",Z);case 34:case"end":return re.stop()}},j)}));return function(j){return k.apply(this,arguments)}})()),{select:y,unselect:b}}function K2(a,n){var r=null,s=function(){return r||(r=a.parentScope(Wr))};function l(c,d){var h=s().getNode(c);if(h){var m=h.inputs[d];if(!m)throw new Error("cannot find input");var y=m.showControl,v=s().getConnections(),b=!!v.find(function(x){return x.target===c&&x.targetInput===d});m.showControl=n?n({hasAnyConnection:b,input:m}):!b,m.showControl!==y&&a.update("node",h.id)}}a.addPipe(function(c){return(c.type==="connectioncreated"||c.type==="connectionremoved")&&l(c.data.target,c.data.targetInput),c})}function xv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function tc(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?xv(Object(r),!0).forEach(function(s){Re(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):xv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function Q2(a,n){var r=a,s=typeof n?.size>"u"?16:n.size,l=typeof n?.dynamic>"u"?!0:n.dynamic;function c(d){return Math.round(d/s)*s}r.addPipe(function(d){if(!d||_n(d)!=="object"||!("type"in d))return d;if(l&&d.type==="nodetranslate"){var h=d.data.position,m=c(h.x),y=c(h.y);return tc(tc({},d),{},{data:tc(tc({},d.data),{},{position:{x:m,y}})})}if(!l&&d.type==="nodedragged"){var v=r.nodeViews.get(d.data.id);if(v){var b=v.position,x=b.x,k=b.y;v.translate(c(x),c(k))}}return d})}function W2(a,n,r){return Yf.apply(this,arguments)}function Yf(){return Yf=rt(Se.mark(function a(n,r,s){var l,c,d,h,m,y,v,b,x,k,j,Z,q;return Se.wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return l=s||{},c=l.scale,d=c===void 0?.9:c,h=n.parentScope(Wr),m=r.map(function(B){return _n(B)==="object"?B:h.getNode(B)}),y=Ob(m,n.nodeViews),v=Eb(y),b=[n.container.clientWidth,n.container.clientHeight],x=b[0],k=b[1],j=x/v.width,Z=k/v.height,q=Math.min(Z*d,j*d,1),n.area.transform.x=x/2-v.center.x*q,n.area.transform.y=k/2-v.center.y*q,K.next=12,n.area.zoom(q,0,0);case 12:case"end":return K.stop()}},a)})),Yf.apply(this,arguments)}var Gr=Object.freeze({__proto__:null,getBoundingBox:G2,simpleNodesOrder:Y2,restrictor:F2,accumulateOnCtrl:P2,selectableNodes:X2,Selector:jb,selector:Z2,showInputControl:K2,snapGrid:Q2,zoomAt:W2});function Ev(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function kv(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Ev(Object(r),!0).forEach(function(s){Re(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):Ev(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function J2(a,n,r){return n=Ut(n),Ya(a,Ab()?Reflect.construct(n,r||[],Ut(a).constructor):n.apply(a,r))}function Ab(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ab=function(){return!!a})()}var _b=(function(a){function n(r){var s;return ft(this,n),s=J2(this,n,["area"]),Re(s,"nodeViews",new Map),Re(s,"connectionViews",new Map),Re(s,"elements",new q2),Re(s,"onContextMenu",function(l){s.emit({type:"contextmenu",data:{event:l,context:"root"}})}),s.container=r,r.style.overflow="hidden",r.addEventListener("contextmenu",s.onContextMenu),s.addPipe(function(l){return!l||!(_n(l)==="object"&&"type"in l)||(l.type==="nodecreated"&&s.addNodeView(l.data),l.type==="noderemoved"&&s.removeNodeView(l.data.id),l.type==="connectioncreated"&&s.addConnectionView(l.data),l.type==="connectionremoved"&&s.removeConnectionView(l.data.id),l.type==="render"&&s.elements.set(l.data),l.type==="unmount"&&s.elements.delete(l.data.element)),l}),s.area=new Cb(r,{zoomed:function(c){return s.emit({type:"zoomed",data:c})},pointerDown:function(c,d){return void s.emit({type:"pointerdown",data:{position:c,event:d}})},pointerMove:function(c,d){return void s.emit({type:"pointermove",data:{position:c,event:d}})},pointerUp:function(c,d){return void s.emit({type:"pointerup",data:{position:c,event:d}})},resize:function(c){return void s.emit({type:"resized",data:{event:c}})},translated:function(c){return s.emit({type:"translated",data:c})},reordered:function(c){return s.emit({type:"reordered",data:{element:c}})}},{translate:function(c){return s.emit({type:"translate",data:c})},zoom:function(c){return s.emit({type:"zoom",data:c})}}),s}return Kn(n,a),ht(n,[{key:"addNodeView",value:function(s){var l=this,c=s.id,d=new Nb(function(){return l.area.transform.k},{picked:function(){return void l.emit({type:"nodepicked",data:{id:c}})},translated:function(m){return l.emit({type:"nodetranslated",data:kv({id:c},m)})},dragged:function(){return void l.emit({type:"nodedragged",data:s})},contextmenu:function(m){return void l.emit({type:"contextmenu",data:{event:m,context:s}})},resized:function(m){var y=m.size;return l.emit({type:"noderesized",data:{id:s.id,size:y}})}},{translate:function(m){return l.emit({type:"nodetranslate",data:kv({id:c},m)})},resize:function(m){var y=m.size;return l.emit({type:"noderesize",data:{id:s.id,size:y}})}});return this.nodeViews.set(c,d),this.area.content.add(d.element),this.emit({type:"render",data:{element:d.element,type:"node",payload:s}}),d}},{key:"removeNodeView",value:function(s){var l=this.nodeViews.get(s);l&&(this.emit({type:"unmount",data:{element:l.element}}),this.nodeViews.delete(s),this.area.content.remove(l.element))}},{key:"addConnectionView",value:function(s){var l=this,c=new V2({contextmenu:function(h){return void l.emit({type:"contextmenu",data:{event:h,context:s}})}});return this.connectionViews.set(s.id,c),this.area.content.add(c.element),this.emit({type:"render",data:{element:c.element,type:"connection",payload:s}}),c}},{key:"removeConnectionView",value:function(s){var l=this.connectionViews.get(s);l&&(this.emit({type:"unmount",data:{element:l.element}}),this.connectionViews.delete(s),this.area.content.remove(l.element))}},{key:"update",value:(function(){var r=rt(Se.mark(function l(c,d){var h;return Se.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(h=this.elements.get(c,d),!h){y.next=4;break}return y.next=4,this.emit({type:"render",data:h});case 4:case"end":return y.stop()}},l,this)}));function s(l,c){return r.apply(this,arguments)}return s})()},{key:"resize",value:(function(){var r=rt(Se.mark(function l(c,d,h){var m;return Se.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(m=this.nodeViews.get(c),!m){v.next=5;break}return v.next=4,m.resize(d,h);case 4:return v.abrupt("return",v.sent);case 5:case"end":return v.stop()}},l,this)}));function s(l,c,d){return r.apply(this,arguments)}return s})()},{key:"translate",value:(function(){var r=rt(Se.mark(function l(c,d){var h,m,y;return Se.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(h=d.x,m=d.y,y=this.nodeViews.get(c),!y){b.next=6;break}return b.next=5,y.translate(h,m);case 5:return b.abrupt("return",b.sent);case 6:case"end":return b.stop()}},l,this)}));function s(l,c){return r.apply(this,arguments)}return s})()},{key:"destroy",value:function(){var s=this;this.container.removeEventListener("contextmenu",this.onContextMenu),Array.from(this.connectionViews.keys()).forEach(function(l){return s.removeConnectionView(l)}),Array.from(this.nodeViews.keys()).forEach(function(l){return s.removeNodeView(l)}),this.area.destroy()}}])})(Lo);const Cv=Object.freeze(Object.defineProperty({__proto__:null,Area:Cb,AreaExtensions:Gr,AreaPlugin:_b,BaseAreaPlugin:Lo,Drag:Ah,NodeView:Nb,Zoom:kb,usePointerListener:xb},Symbol.toStringTag,{value:"Module"}));function eE(a,n){for(;!{}.hasOwnProperty.call(a,n)&&(a=Ut(a))!==null;);return a}function Mo(){return Mo=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(a,n,r){var s=eE(a,n);if(s){var l=Object.getOwnPropertyDescriptor(s,n);return l.get?l.get.call(arguments.length<3?a:r):l.value}},Mo.apply(null,arguments)}function tE(a){if(Array.isArray(a))return a}function nE(a,n){var r=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(r!=null){var s,l,c,d,h=[],m=!0,y=!1;try{if(c=(r=r.call(a)).next,n!==0)for(;!(m=(s=c.call(r)).done)&&(h.push(s.value),h.length!==n);m=!0);}catch(v){y=!0,l=v}finally{try{if(!m&&r.return!=null&&(d=r.return(),Object(d)!==d))return}finally{if(y)throw l}}return h}}function aE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vn(a,n){return tE(a)||nE(a,n)||Sb(a,n)||aE()}function Tv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function xf(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Tv(Object(r),!0).forEach(function(s){Re(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):Tv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function rE(a){var n=null,r=null;function s(c){r&&c.removeConnectionView(r),n=null,r=null}function l(c){s(c),r="pseudo_".concat(Jr())}return{isMounted:function(){return!!r},mount:l,render:function(d,h,m){var y=h.x,v=h.y,b=m.side==="output",x={x:y+(b?-3:3),y:v};if(!r)throw new Error("pseudo connection id wasn't generated");var k=b?xf({id:r,source:m.nodeId,sourceOutput:m.key,target:"",targetInput:""},a??{}):xf({id:r,target:m.nodeId,targetInput:m.key,source:"",sourceOutput:""},a??{});if(!n){var j=d.addConnectionView(k);n=j.element}n&&d.emit({type:"render",data:xf({element:n,type:"connection",payload:k},b?{end:x}:{start:x})})},unmount:s}}function iE(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=sE(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(y){throw y},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,d=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var y=r.next();return d=y.done,y},e:function(y){h=!0,c=y},f:function(){try{d||r.return==null||r.return()}finally{if(h)throw c}}}}function sE(a,n){if(a){if(typeof a=="string")return Nv(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Nv(a,n):void 0}}function Nv(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function oE(a,n){var r=iE(n),s;try{for(r.s();!(s=r.n()).done;){var l=s.value,c=a.get(l);if(c)return c}}catch(d){r.e(d)}finally{r.f()}}function Db(a,n){var r,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document,l=s.elementsFromPoint(a,n),c=(r=l[0])===null||r===void 0?void 0:r.shadowRoot;return c&&c!==s&&l.unshift.apply(l,Ss(Db(a,n,c))),l}var _h=(function(){function a(){ft(this,a)}return ht(a,[{key:"setContext",value:function(r){this.context=r}}])})();function Mb(a,n){var r=a.side==="output"&&n.side==="input",s=a.side==="input"&&n.side==="output",l=r?[a,n]:s?[n,a]:[],c=Vn(l,2),d=c[0],h=c[1];if(d&&h)return[d,h]}function lE(a,n){return!!Mb(a,n)}function cE(a,n,r){var s=Mb(a,n)||[null,null],l=Vn(s,2),c=l[0],d=l[1];if(c&&d)return r.editor.addConnection({id:Jr(),source:c.nodeId,sourceOutput:c.key,target:d.nodeId,targetInput:d.key}),!0}function uE(a,n){var r=n.getNode(a.nodeId);if(!r)throw new Error("cannot find node");var s=a.side==="input"?r.inputs:r.outputs;return s[a.key]}function dE(a,n){var r=a.nodeId,s=a.side,l=a.key;return n.getConnections().filter(function(c){if(s==="input")return c.target===r&&c.targetInput===l;if(s==="output")return c.source===r&&c.sourceOutput===l})}function Ff(a,n){var r=a.map(function(s){var l=uE(s,n),c=l?.multipleConnections;return c?[]:dE(s,n)}).flat();return{commit:function(){var l=Array.from(new Set(r.map(function(c){var d=c.id;return d})));l.forEach(function(c){return void n.removeConnection(c)})}}}function Dh(a,n,r){return n=Ut(n),Ya(a,Rb()?Reflect.construct(n,[],Ut(a).constructor):n.apply(a,r))}function Rb(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rb=function(){return!!a})()}var fE=(function(a){function n(r,s){var l;return ft(this,n),l=Dh(this,n),l.initial=r,l.params=s,l}return Kn(n,a),ht(n,[{key:"pick",value:(function(){var r=rt(Se.mark(function l(c,d){var h,m;return Se.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:h=c.socket,this.params.canMakeConnection(this.initial,h)&&(Ff([this.initial,h],d.editor).commit(),m=this.params.makeConnection(this.initial,h,d),this.drop(d,m?h:null,m));case 2:case"end":return v.stop()}},l,this)}));function s(l,c){return r.apply(this,arguments)}return s})()},{key:"drop",value:function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.initial&&s.scope.emit({type:"connectiondrop",data:{initial:this.initial,socket:l,created:c}}),this.context.switchTo(new Mh(this.params))}}])})(_h),hE=(function(a){function n(r,s,l){var c;ft(this,n),c=Dh(this,n),c.connection=r,c.params=s;var d=Array.from(l.socketsCache.values()).find(function(h){return h.nodeId===c.connection.source&&h.side==="output"&&h.key===c.connection.sourceOutput});if(!d)throw new Error("cannot find output socket");return c.outputSocket=d,c}return Kn(n,a),ht(n,[{key:"init",value:(function(){var r=rt(Se.mark(function l(c){var d=this;return Se.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:c.scope.emit({type:"connectionpick",data:{socket:this.outputSocket}}).then(function(y){y?(c.editor.removeConnection(d.connection.id),d.initial=d.outputSocket):d.drop(c)});case 1:case"end":return m.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"pick",value:(function(){var r=rt(Se.mark(function l(c,d){var h,m,y,v,b,x;return Se.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:h=c.socket,m=c.event,this.initial&&!(h.side==="input"&&this.connection.target===h.nodeId&&this.connection.targetInput===h.key)?this.params.canMakeConnection(this.initial,h)&&(Ff([this.initial,h],d.editor).commit(),y=this.params.makeConnection(this.initial,h,d),v=y?h:null,this.drop(d,v,y)):m==="down"&&this.initial&&(Ff([this.initial,h],d.editor).commit(),b=this.params.makeConnection(this.initial,h,d),x=b?null:h,this.drop(d,x,b));case 2:case"end":return j.stop()}},l,this)}));function s(l,c){return r.apply(this,arguments)}return s})()},{key:"drop",value:function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.initial&&s.scope.emit({type:"connectiondrop",data:{initial:this.initial,socket:l,created:c}}),this.context.switchTo(new Mh(this.params))}}])})(_h),Mh=(function(a){function n(r){var s;return ft(this,n),s=Dh(this,n),s.params=r,s}return Kn(n,a),ht(n,[{key:"pick",value:(function(){var r=rt(Se.mark(function l(c,d){var h,m,y,v;return Se.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(h=c.socket,m=c.event,m==="down"){x.next=3;break}return x.abrupt("return");case 3:if(h.side!=="input"){x.next=11;break}if(y=d.editor.getConnections().find(function(k){return k.target===h.nodeId&&k.targetInput===h.key}),!y){x.next=11;break}return v=new hE(y,this.params,d),x.next=9,v.init(d);case 9:return this.context.switchTo(v),x.abrupt("return");case 11:return x.next=13,d.scope.emit({type:"connectionpick",data:{socket:h}});case 13:if(!x.sent){x.next=17;break}this.context.switchTo(new fE(h,this.params)),x.next=18;break;case 17:this.drop(d);case 18:case"end":return x.stop()}},l,this)}));function s(l,c){return r.apply(this,arguments)}return s})()},{key:"drop",value:function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.initial&&s.scope.emit({type:"connectiondrop",data:{initial:this.initial,socket:l,created:c}}),delete this.initial}}])})(_h),pE=(function(){function a(n){ft(this,a);var r=n?.canMakeConnection||lE,s=n?.makeConnection||cE;this.switchTo(new Mh({canMakeConnection:r,makeConnection:s}))}return ht(a,[{key:"pick",value:(function(){var n=rt(Se.mark(function s(l,c){return Se.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.currentState.pick(l,c);case 2:case"end":return h.stop()}},s,this)}));function r(s,l){return n.apply(this,arguments)}return r})()},{key:"getPickedSocket",value:function(){return this.currentState.initial}},{key:"switchTo",value:function(r){r.setContext(this),this.currentState=r}},{key:"drop",value:function(r){this.currentState.drop(r)}}])})();function mE(){return function(){return new pE}}var yE=Object.freeze({__proto__:null,setup:mE}),gE=Object.freeze({__proto__:null,classic:yE});function vE(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=bE(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(y){throw y},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,d=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var y=r.next();return d=y.done,y},e:function(y){h=!0,c=y},f:function(){try{d||r.return==null||r.return()}finally{if(h)throw c}}}}function bE(a,n){if(a){if(typeof a=="string")return Ov(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ov(a,n):void 0}}function Ov(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function wE(a,n,r){return n=Ut(n),Ya(a,zb()?Reflect.construct(n,r||[],Ut(a).constructor):n.apply(a,r))}function zb(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zb=function(){return!!a})()}function SE(a,n,r,s){var l=Mo(Ut(a.prototype),n,r);return typeof l=="function"?function(c){return l.apply(r,c)}:l}var xE=(function(a){function n(){var r;return ft(this,n),r=wE(this,n,["connection"]),Re(r,"presets",[]),Re(r,"currentFlow",null),Re(r,"preudoconnection",rE({isPseudo:!0})),Re(r,"socketsCache",new Map),r}return Kn(n,a),ht(n,[{key:"addPreset",value:function(s){this.presets.push(s)}},{key:"findPreset",value:function(s){var l=vE(this.presets),c;try{for(l.s();!(c=l.n()).done;){var d=c.value,h=d(s);if(h)return h}}catch(m){l.e(m)}finally{l.f()}return null}},{key:"update",value:function(){if(this.currentFlow){var s=this.currentFlow.getPickedSocket();s&&this.preudoconnection.render(this.areaPlugin,this.areaPlugin.area.pointer,s)}}},{key:"drop",value:function(){var s={editor:this.editor,scope:this,socketsCache:this.socketsCache};this.currentFlow&&(this.currentFlow.drop(s),this.preudoconnection.unmount(this.areaPlugin),this.currentFlow=null)}},{key:"pick",value:(function(){var r=rt(Se.mark(function l(c,d){var h,m,y;return Se.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(h={editor:this.editor,scope:this,socketsCache:this.socketsCache},m=Db(c.clientX,c.clientY),y=oE(this.socketsCache,m),!y){b.next=13;break}if(c.preventDefault(),c.stopPropagation(),this.currentFlow=this.currentFlow||this.findPreset(y),!this.currentFlow){b.next=11;break}return b.next=10,this.currentFlow.pick({socket:y,event:d},h);case 10:this.preudoconnection.mount(this.areaPlugin);case 11:b.next=14;break;case 13:this.currentFlow&&this.currentFlow.drop(h);case 14:this.currentFlow&&!this.currentFlow.getPickedSocket()&&(this.preudoconnection.unmount(this.areaPlugin),this.currentFlow=null),this.update();case 16:case"end":return b.stop()}},l,this)}));function s(l,c){return r.apply(this,arguments)}return s})()},{key:"setParent",value:function(s){var l=this;SE(n,"setParent",this)([s]),this.areaPlugin=this.parentScope(Lo),this.editor=this.areaPlugin.parentScope(Wr);var c=function(h){l.pick(h,"down")};this.addPipe(function(d){if(!d||_n(d)!=="object"||!("type"in d))return d;if(d.type==="pointermove")l.update();else if(d.type==="pointerup")l.pick(d.data.event,"up");else if(d.type==="render"){if(d.data.type==="socket"){var h=d.data.element;h.addEventListener("pointerdown",c),l.socketsCache.set(h,d.data)}}else if(d.type==="unmount"){var m=d.data.element;m.removeEventListener("pointerdown",c),l.socketsCache.delete(m)}return d})}}])})(ws);function EE(a,n){var r=Vn(a,2),s=r[0],l=s.x,c=s.y,d=r[1],h=d.x,m=d.y,y=Math.abs(c-m),v=l+Math.max(y/2,Math.abs(h-l))*n,b=h-Math.max(y/2,Math.abs(h-l))*n;return"M ".concat(l," ").concat(c," C ").concat(v," ").concat(c," ").concat(b," ").concat(m," ").concat(h," ").concat(m)}function kE(a,n,r){var s=Vn(a,2),l=s[0],c=l.x,d=l.y,h=s[1],m=h.x,y=h.y,v=y>d?1:-1,b=r+Math.abs(c-m)/(r/2),x=(c+m)/2,k=d-v*b,j=(y-d)*n;return`
        M `.concat(c," ").concat(d,`
        C `).concat(c+b," ").concat(d,`
        `).concat(c+b," ").concat(k-j,`
        `).concat(x," ").concat(k,`
        C `).concat(m-b," ").concat(k+j,`
        `).concat(m-b," ").concat(y,`
        `).concat(m," ").concat(y,`
    `)}function CE(a,n){return Pf.apply(this,arguments)}function Pf(){return Pf=rt(Se.mark(function a(n,r){var s,l,c,d,h;return Se.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(n.offsetParent){y.next=5;break}return y.next=3,new Promise(function(v){return setTimeout(v,0)});case 3:y.next=0;break;case 5:if(s=n.offsetLeft,l=n.offsetTop,c=n.offsetParent,c){y.next=10;break}throw new Error("child has null offsetParent");case 10:for(;c!==null&&c!==r;)s+=c.offsetLeft+c.clientLeft,l+=c.offsetTop+c.clientTop,c=c.offsetParent;return d=n.offsetWidth,h=n.offsetHeight,y.abrupt("return",{x:s+d/2,y:l+h/2});case 14:case"end":return y.stop()}},a)})),Pf.apply(this,arguments)}var TE=(function(){function a(){ft(this,a),Re(this,"listeners",new Set)}return ht(a,[{key:"emit",value:function(r){this.listeners.forEach(function(s){s(r)})}},{key:"listen",value:function(r){var s=this;return this.listeners.add(r),function(){s.listeners.delete(r)}}}])})(),NE=(function(){function a(){ft(this,a),Re(this,"elements",new Map)}return ht(a,[{key:"getPosition",value:function(r){var s,l,c=Array.from(this.elements.values()).flat(),d=c.filter(function(h){return h.side===r.side&&h.nodeId===r.nodeId&&h.key===r.key});return d.length>1&&console.warn(["Found more than one element for socket with same key and side.","Probably it was not unmounted correctly"].join(" "),r),(s=(l=d.pop())===null||l===void 0?void 0:l.position)!==null&&s!==void 0?s:null}},{key:"add",value:function(r){var s=this.elements.get(r.element);this.elements.set(r.element,s?[].concat(Ss(s.filter(function(l){return!(l.nodeId===r.nodeId&&l.key===r.key&&l.side===r.side)})),[r]):[r])}},{key:"remove",value:function(r){this.elements.delete(r)}},{key:"snapshot",value:function(){return Array.from(this.elements.values()).flat()}}])})(),OE=(function(){function a(){ft(this,a),Re(this,"sockets",new NE),Re(this,"emitter",new TE),Re(this,"area",null)}return ht(a,[{key:"attach",value:function(r){var s=this;this.area||r.hasParent()&&(this.area=r.parentScope(Lo),this.area.addPipe((function(){var l=rt(Se.mark(function c(d){var h,m,y,v,b,x,k,j,Z,q,Q;return Se.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(!(d.type==="rendered"&&d.data.type==="socket")){B.next=8;break}return h=d.data,m=h.nodeId,y=h.key,v=h.side,b=h.element,B.next=4,s.calculatePosition(m,v,y,b);case 4:x=B.sent,x&&(s.sockets.add({nodeId:m,key:y,side:v,element:b,position:x}),s.emitter.emit({nodeId:m,key:y,side:v})),B.next=24;break;case 8:if(d.type!=="unmount"){B.next=12;break}s.sockets.remove(d.data.element),B.next=24;break;case 12:if(d.type!=="nodetranslated"){B.next=16;break}s.emitter.emit({nodeId:d.data.id}),B.next=24;break;case 16:if(d.type!=="noderesized"){B.next=23;break}return k=d.data.id,B.next=20,Promise.all(s.sockets.snapshot().filter(function(Y){return Y.nodeId===d.data.id&&Y.side==="output"}).map((function(){var Y=rt(Se.mark(function fe(be){var H,de,re,pe;return Se.wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:return H=be.side,de=be.key,re=be.element,Oe.next=3,s.calculatePosition(k,H,de,re);case 3:pe=Oe.sent,pe&&(be.position=pe);case 5:case"end":return Oe.stop()}},fe)}));return function(fe){return Y.apply(this,arguments)}})()));case 20:s.emitter.emit({nodeId:k}),B.next=24;break;case 23:d.type==="render"&&d.data.type==="connection"&&(j=d.data.payload,Z=j.source,q=j.target,Q=Z||q,s.emitter.emit({nodeId:Q}));case 24:return B.abrupt("return",d);case 25:case"end":return B.stop()}},c)}));return function(c){return l.apply(this,arguments)}})()))}},{key:"listen",value:function(r,s,l,c){var d=this,h=this.emitter.listen(function(m){if(m.nodeId===r&&(!m.key||m.side===s)&&(!m.side||m.key===l)){var y,v=d.sockets.getPosition({side:s,nodeId:r,key:l});if(!v)return;var b=v.x,x=v.y,k=(y=d.area)===null||y===void 0?void 0:y.nodeViews.get(r);k&&c({x:b+k.position.x,y:x+k.position.y})}});return this.sockets.snapshot().forEach(function(m){m.nodeId===r&&d.emitter.emit(m)}),h}}])})();function jE(a,n,r){return n=Ut(n),Ya(a,Lb()?Reflect.construct(n,[],Ut(a).constructor):n.apply(a,r))}function Lb(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lb=function(){return!!a})()}var AE=(function(a){function n(r){var s;return ft(this,n),s=jE(this,n),s.props=r,s}return Kn(n,a),ht(n,[{key:"calculatePosition",value:(function(){var r=rt(Se.mark(function l(c,d,h,m){var y,v,b,x;return Se.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(b=(y=this.area)===null||y===void 0?void 0:y.nodeViews.get(c),b!=null&&b.element){j.next=3;break}return j.abrupt("return",null);case 3:return j.next=5,CE(m,b.element);case 5:if(x=j.sent,!((v=this.props)!==null&&v!==void 0&&v.offset)){j.next=8;break}return j.abrupt("return",this.props.offset(x,c,d,h));case 8:return j.abrupt("return",{x:x.x+12*(d==="input"?-1:1),y:x.y});case 9:case"end":return j.stop()}},l,this)}));function s(l,c,d,h){return r.apply(this,arguments)}return s})()}])})(OE);function _E(a){return new AE(a)}function Dn(a,n){return n||(n=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(n)}}))}var Xn=function(){return Xn=Object.assign||function(n){for(var r,s=1,l=arguments.length;s<l;s++){r=arguments[s];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(n[c]=r[c])}return n},Xn.apply(this,arguments)};function Nc(a,n,r){if(r||arguments.length===2)for(var s=0,l=n.length,c;s<l;s++)(c||!(s in n))&&(c||(c=Array.prototype.slice.call(n,0,s)),c[s]=n[s]);return a.concat(c||Array.prototype.slice.call(n))}var qt="-ms-",Oo="-moz-",Tt="-webkit-",Bb="comm",Bc="rule",Rh="decl",DE="@import",Ub="@keyframes",ME="@layer",Ib=Math.abs,zh=String.fromCharCode,Zf=Object.assign;function RE(a,n){return Cn(a,0)^45?(((n<<2^Cn(a,0))<<2^Cn(a,1))<<2^Cn(a,2))<<2^Cn(a,3):0}function $b(a){return a.trim()}function yr(a,n){return(a=n.exec(a))?a[0]:a}function at(a,n,r){return a.replace(n,r)}function mc(a,n,r){return a.indexOf(n,r)}function Cn(a,n){return a.charCodeAt(n)|0}function ps(a,n,r){return a.slice(n,r)}function Ia(a){return a.length}function Hb(a){return a.length}function xo(a,n){return n.push(a),a}function zE(a,n){return a.map(n).join("")}function jv(a,n){return a.filter(function(r){return!yr(r,n)})}var Uc=1,ms=1,Vb=0,Sa=0,gn=0,xs="";function Ic(a,n,r,s,l,c,d,h){return{value:a,root:n,parent:r,type:s,props:l,children:c,line:Uc,column:ms,length:d,return:"",siblings:h}}function Yr(a,n){return Zf(Ic("",null,null,"",null,null,0,a.siblings),a,{length:-a.length},n)}function rs(a){for(;a.root;)a=Yr(a.root,{children:[a]});xo(a,a.siblings)}function LE(){return gn}function BE(){return gn=Sa>0?Cn(xs,--Sa):0,ms--,gn===10&&(ms=1,Uc--),gn}function _a(){return gn=Sa<Vb?Cn(xs,Sa++):0,ms++,gn===10&&(ms=1,Uc++),gn}function Si(){return Cn(xs,Sa)}function yc(){return Sa}function $c(a,n){return ps(xs,a,n)}function Xf(a){switch(a){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function UE(a){return Uc=ms=1,Vb=Ia(xs=a),Sa=0,[]}function IE(a){return xs="",a}function Ef(a){return $b($c(Sa-1,Kf(a===91?a+2:a===40?a+1:a)))}function $E(a){for(;(gn=Si())&&gn<33;)_a();return Xf(a)>2||Xf(gn)>3?"":" "}function HE(a,n){for(;--n&&_a()&&!(gn<48||gn>102||gn>57&&gn<65||gn>70&&gn<97););return $c(a,yc()+(n<6&&Si()==32&&_a()==32))}function Kf(a){for(;_a();)switch(gn){case a:return Sa;case 34:case 39:a!==34&&a!==39&&Kf(gn);break;case 40:a===41&&Kf(a);break;case 92:_a();break}return Sa}function VE(a,n){for(;_a()&&a+gn!==57;)if(a+gn===84&&Si()===47)break;return"/*"+$c(n,Sa-1)+"*"+zh(a===47?a:_a())}function qE(a){for(;!Xf(Si());)_a();return $c(a,Sa)}function GE(a){return IE(gc("",null,null,null,[""],a=UE(a),0,[0],a))}function gc(a,n,r,s,l,c,d,h,m){for(var y=0,v=0,b=d,x=0,k=0,j=0,Z=1,q=1,Q=1,K=0,B="",Y=l,fe=c,be=s,H=B;q;)switch(j=K,K=_a()){case 40:if(j!=108&&Cn(H,b-1)==58){mc(H+=at(Ef(K),"&","&\f"),"&\f",Ib(y?h[y-1]:0))!=-1&&(Q=-1);break}case 34:case 39:case 91:H+=Ef(K);break;case 9:case 10:case 13:case 32:H+=$E(j);break;case 92:H+=HE(yc()-1,7);continue;case 47:switch(Si()){case 42:case 47:xo(YE(VE(_a(),yc()),n,r,m),m);break;default:H+="/"}break;case 123*Z:h[y++]=Ia(H)*Q;case 125*Z:case 59:case 0:switch(K){case 0:case 125:q=0;case 59+v:Q==-1&&(H=at(H,/\f/g,"")),k>0&&Ia(H)-b&&xo(k>32?_v(H+";",s,r,b-1,m):_v(at(H," ","")+";",s,r,b-2,m),m);break;case 59:H+=";";default:if(xo(be=Av(H,n,r,y,v,l,h,B,Y=[],fe=[],b,c),c),K===123)if(v===0)gc(H,n,be,be,Y,c,b,h,fe);else switch(x===99&&Cn(H,3)===110?100:x){case 100:case 108:case 109:case 115:gc(a,be,be,s&&xo(Av(a,be,be,0,0,l,h,B,l,Y=[],b,fe),fe),l,fe,b,h,s?Y:fe);break;default:gc(H,be,be,be,[""],fe,0,h,fe)}}y=v=k=0,Z=Q=1,B=H="",b=d;break;case 58:b=1+Ia(H),k=j;default:if(Z<1){if(K==123)--Z;else if(K==125&&Z++==0&&BE()==125)continue}switch(H+=zh(K),K*Z){case 38:Q=v>0?1:(H+="\f",-1);break;case 44:h[y++]=(Ia(H)-1)*Q,Q=1;break;case 64:Si()===45&&(H+=Ef(_a())),x=Si(),v=b=Ia(B=H+=qE(yc())),K++;break;case 45:j===45&&Ia(H)==2&&(Z=0)}}return c}function Av(a,n,r,s,l,c,d,h,m,y,v,b){for(var x=l-1,k=l===0?c:[""],j=Hb(k),Z=0,q=0,Q=0;Z<s;++Z)for(var K=0,B=ps(a,x+1,x=Ib(q=d[Z])),Y=a;K<j;++K)(Y=$b(q>0?k[K]+" "+B:at(B,/&\f/g,k[K])))&&(m[Q++]=Y);return Ic(a,n,r,l===0?Bc:h,m,y,v,b)}function YE(a,n,r,s){return Ic(a,n,r,Bb,zh(LE()),ps(a,2,-2),0,s)}function _v(a,n,r,s,l){return Ic(a,n,r,Rh,ps(a,0,s),ps(a,s+1,-1),s,l)}function qb(a,n,r){switch(RE(a,n)){case 5103:return Tt+"print-"+a+a;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Tt+a+a;case 4789:return Oo+a+a;case 5349:case 4246:case 4810:case 6968:case 2756:return Tt+a+Oo+a+qt+a+a;case 5936:switch(Cn(a,n+11)){case 114:return Tt+a+qt+at(a,/[svh]\w+-[tblr]{2}/,"tb")+a;case 108:return Tt+a+qt+at(a,/[svh]\w+-[tblr]{2}/,"tb-rl")+a;case 45:return Tt+a+qt+at(a,/[svh]\w+-[tblr]{2}/,"lr")+a}case 6828:case 4268:case 2903:return Tt+a+qt+a+a;case 6165:return Tt+a+qt+"flex-"+a+a;case 5187:return Tt+a+at(a,/(\w+).+(:[^]+)/,Tt+"box-$1$2"+qt+"flex-$1$2")+a;case 5443:return Tt+a+qt+"flex-item-"+at(a,/flex-|-self/g,"")+(yr(a,/flex-|baseline/)?"":qt+"grid-row-"+at(a,/flex-|-self/g,""))+a;case 4675:return Tt+a+qt+"flex-line-pack"+at(a,/align-content|flex-|-self/g,"")+a;case 5548:return Tt+a+qt+at(a,"shrink","negative")+a;case 5292:return Tt+a+qt+at(a,"basis","preferred-size")+a;case 6060:return Tt+"box-"+at(a,"-grow","")+Tt+a+qt+at(a,"grow","positive")+a;case 4554:return Tt+at(a,/([^-])(transform)/g,"$1"+Tt+"$2")+a;case 6187:return at(at(at(a,/(zoom-|grab)/,Tt+"$1"),/(image-set)/,Tt+"$1"),a,"")+a;case 5495:case 3959:return at(a,/(image-set\([^]*)/,Tt+"$1$`$1");case 4968:return at(at(a,/(.+:)(flex-)?(.*)/,Tt+"box-pack:$3"+qt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Tt+a+a;case 4200:if(!yr(a,/flex-|baseline/))return qt+"grid-column-align"+ps(a,n)+a;break;case 2592:case 3360:return qt+at(a,"template-","")+a;case 4384:case 3616:return r&&r.some(function(s,l){return n=l,yr(s.props,/grid-\w+-end/)})?~mc(a+(r=r[n].value),"span",0)?a:qt+at(a,"-start","")+a+qt+"grid-row-span:"+(~mc(r,"span",0)?yr(r,/\d+/):+yr(r,/\d+/)-+yr(a,/\d+/))+";":qt+at(a,"-start","")+a;case 4896:case 4128:return r&&r.some(function(s){return yr(s.props,/grid-\w+-start/)})?a:qt+at(at(a,"-end","-span"),"span ","")+a;case 4095:case 3583:case 4068:case 2532:return at(a,/(.+)-inline(.+)/,Tt+"$1$2")+a;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ia(a)-1-n>6)switch(Cn(a,n+1)){case 109:if(Cn(a,n+4)!==45)break;case 102:return at(a,/(.+:)(.+)-([^]+)/,"$1"+Tt+"$2-$3$1"+Oo+(Cn(a,n+3)==108?"$3":"$2-$3"))+a;case 115:return~mc(a,"stretch",0)?qb(at(a,"stretch","fill-available"),n,r)+a:a}break;case 5152:case 5920:return at(a,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,l,c,d,h,m,y){return qt+l+":"+c+y+(d?qt+l+"-span:"+(h?m:+m-+c)+y:"")+a});case 4949:if(Cn(a,n+6)===121)return at(a,":",":"+Tt)+a;break;case 6444:switch(Cn(a,Cn(a,14)===45?18:11)){case 120:return at(a,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Tt+(Cn(a,14)===45?"inline-":"")+"box$3$1"+Tt+"$2$3$1"+qt+"$2box$3")+a;case 100:return at(a,":",":"+qt)+a}break;case 5719:case 2647:case 2135:case 3927:case 2391:return at(a,"scroll-","scroll-snap-")+a}return a}function Oc(a,n){for(var r="",s=0;s<a.length;s++)r+=n(a[s],s,a,n)||"";return r}function FE(a,n,r,s){switch(a.type){case ME:if(a.children.length)break;case DE:case Rh:return a.return=a.return||a.value;case Bb:return"";case Ub:return a.return=a.value+"{"+Oc(a.children,s)+"}";case Bc:if(!Ia(a.value=a.props.join(",")))return""}return Ia(r=Oc(a.children,s))?a.return=a.value+"{"+r+"}":""}function PE(a){var n=Hb(a);return function(r,s,l,c){for(var d="",h=0;h<n;h++)d+=a[h](r,s,l,c)||"";return d}}function ZE(a){return function(n){n.root||(n=n.return)&&a(n)}}function XE(a,n,r,s){if(a.length>-1&&!a.return)switch(a.type){case Rh:a.return=qb(a.value,a.length,r);return;case Ub:return Oc([Yr(a,{value:at(a.value,"@","@"+Tt)})],s);case Bc:if(a.length)return zE(r=a.props,function(l){switch(yr(l,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":rs(Yr(a,{props:[at(l,/:(read-\w+)/,":"+Oo+"$1")]})),rs(Yr(a,{props:[l]})),Zf(a,{props:jv(r,s)});break;case"::placeholder":rs(Yr(a,{props:[at(l,/:(plac\w+)/,":"+Tt+"input-$1")]})),rs(Yr(a,{props:[at(l,/:(plac\w+)/,":"+Oo+"$1")]})),rs(Yr(a,{props:[at(l,/:(plac\w+)/,qt+"input-$1")]})),rs(Yr(a,{props:[l]})),Zf(a,{props:jv(r,s)});break}return""})}}var KE={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ra={},ys=typeof process<"u"&&ra!==void 0&&(ra.REACT_APP_SC_ATTR||ra.SC_ATTR)||"data-styled",Gb="active",Yb="data-styled-version",Hc="6.1.19",Lh=`/*!sc*/
`,jc=typeof window<"u"&&typeof document<"u",QE=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&ra!==void 0&&ra.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&ra.REACT_APP_SC_DISABLE_SPEEDY!==""?ra.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&ra.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&ra!==void 0&&ra.SC_DISABLE_SPEEDY!==void 0&&ra.SC_DISABLE_SPEEDY!==""&&ra.SC_DISABLE_SPEEDY!=="false"&&ra.SC_DISABLE_SPEEDY),Vc=Object.freeze([]),gs=Object.freeze({});function WE(a,n,r){return r===void 0&&(r=gs),a.theme!==r.theme&&a.theme||n||r.theme}var Fb=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),JE=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,ek=/(^-|-$)/g;function Dv(a){return a.replace(JE,"-").replace(ek,"")}var tk=/(a)(d)/gi,nc=52,Mv=function(a){return String.fromCharCode(a+(a>25?39:97))};function Qf(a){var n,r="";for(n=Math.abs(a);n>nc;n=n/nc|0)r=Mv(n%nc)+r;return(Mv(n%nc)+r).replace(tk,"$1-$2")}var kf,Pb=5381,cs=function(a,n){for(var r=n.length;r;)a=33*a^n.charCodeAt(--r);return a},Zb=function(a){return cs(Pb,a)};function nk(a){return Qf(Zb(a)>>>0)}function ak(a){return a.displayName||a.name||"Component"}function Cf(a){return typeof a=="string"&&!0}var Xb=typeof Symbol=="function"&&Symbol.for,Kb=Xb?Symbol.for("react.memo"):60115,rk=Xb?Symbol.for("react.forward_ref"):60112,ik={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},sk={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Qb={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ok=((kf={})[rk]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},kf[Kb]=Qb,kf);function Rv(a){return("type"in(n=a)&&n.type.$$typeof)===Kb?Qb:"$$typeof"in a?ok[a.$$typeof]:ik;var n}var lk=Object.defineProperty,ck=Object.getOwnPropertyNames,zv=Object.getOwnPropertySymbols,uk=Object.getOwnPropertyDescriptor,dk=Object.getPrototypeOf,Lv=Object.prototype;function Wb(a,n,r){if(typeof n!="string"){if(Lv){var s=dk(n);s&&s!==Lv&&Wb(a,s,r)}var l=ck(n);zv&&(l=l.concat(zv(n)));for(var c=Rv(a),d=Rv(n),h=0;h<l.length;++h){var m=l[h];if(!(m in sk||r&&r[m]||d&&m in d||c&&m in c)){var y=uk(n,m);try{lk(a,m,y)}catch{}}}}return a}function vs(a){return typeof a=="function"}function Bh(a){return typeof a=="object"&&"styledComponentId"in a}function vi(a,n){return a&&n?"".concat(a," ").concat(n):a||n||""}function Bv(a,n){if(a.length===0)return"";for(var r=a[0],s=1;s<a.length;s++)r+=a[s];return r}function Ro(a){return a!==null&&typeof a=="object"&&a.constructor.name===Object.name&&!("props"in a&&a.$$typeof)}function Wf(a,n,r){if(r===void 0&&(r=!1),!r&&!Ro(a)&&!Array.isArray(a))return n;if(Array.isArray(n))for(var s=0;s<n.length;s++)a[s]=Wf(a[s],n[s]);else if(Ro(n))for(var s in n)a[s]=Wf(a[s],n[s]);return a}function Uh(a,n){Object.defineProperty(a,"toString",{value:n})}function Bo(a){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(a," for more information.").concat(n.length>0?" Args: ".concat(n.join(", ")):""))}var fk=(function(){function a(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}return a.prototype.indexOfGroup=function(n){for(var r=0,s=0;s<n;s++)r+=this.groupSizes[s];return r},a.prototype.insertRules=function(n,r){if(n>=this.groupSizes.length){for(var s=this.groupSizes,l=s.length,c=l;n>=c;)if((c<<=1)<0)throw Bo(16,"".concat(n));this.groupSizes=new Uint32Array(c),this.groupSizes.set(s),this.length=c;for(var d=l;d<c;d++)this.groupSizes[d]=0}for(var h=this.indexOfGroup(n+1),m=(d=0,r.length);d<m;d++)this.tag.insertRule(h,r[d])&&(this.groupSizes[n]++,h++)},a.prototype.clearGroup=function(n){if(n<this.length){var r=this.groupSizes[n],s=this.indexOfGroup(n),l=s+r;this.groupSizes[n]=0;for(var c=s;c<l;c++)this.tag.deleteRule(s)}},a.prototype.getGroup=function(n){var r="";if(n>=this.length||this.groupSizes[n]===0)return r;for(var s=this.groupSizes[n],l=this.indexOfGroup(n),c=l+s,d=l;d<c;d++)r+="".concat(this.tag.getRule(d)).concat(Lh);return r},a})(),vc=new Map,Ac=new Map,bc=1,ac=function(a){if(vc.has(a))return vc.get(a);for(;Ac.has(bc);)bc++;var n=bc++;return vc.set(a,n),Ac.set(n,a),n},hk=function(a,n){bc=n+1,vc.set(a,n),Ac.set(n,a)},pk="style[".concat(ys,"][").concat(Yb,'="').concat(Hc,'"]'),mk=new RegExp("^".concat(ys,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),yk=function(a,n,r){for(var s,l=r.split(","),c=0,d=l.length;c<d;c++)(s=l[c])&&a.registerName(n,s)},gk=function(a,n){for(var r,s=((r=n.textContent)!==null&&r!==void 0?r:"").split(Lh),l=[],c=0,d=s.length;c<d;c++){var h=s[c].trim();if(h){var m=h.match(mk);if(m){var y=0|parseInt(m[1],10),v=m[2];y!==0&&(hk(v,y),yk(a,v,m[3]),a.getTag().insertRules(y,l)),l.length=0}else l.push(h)}}},Uv=function(a){for(var n=document.querySelectorAll(pk),r=0,s=n.length;r<s;r++){var l=n[r];l&&l.getAttribute(ys)!==Gb&&(gk(a,l),l.parentNode&&l.parentNode.removeChild(l))}};function vk(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Jb=function(a){var n=document.head,r=a||n,s=document.createElement("style"),l=(function(h){var m=Array.from(h.querySelectorAll("style[".concat(ys,"]")));return m[m.length-1]})(r),c=l!==void 0?l.nextSibling:null;s.setAttribute(ys,Gb),s.setAttribute(Yb,Hc);var d=vk();return d&&s.setAttribute("nonce",d),r.insertBefore(s,c),s},bk=(function(){function a(n){this.element=Jb(n),this.element.appendChild(document.createTextNode("")),this.sheet=(function(r){if(r.sheet)return r.sheet;for(var s=document.styleSheets,l=0,c=s.length;l<c;l++){var d=s[l];if(d.ownerNode===r)return d}throw Bo(17)})(this.element),this.length=0}return a.prototype.insertRule=function(n,r){try{return this.sheet.insertRule(r,n),this.length++,!0}catch{return!1}},a.prototype.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},a.prototype.getRule=function(n){var r=this.sheet.cssRules[n];return r&&r.cssText?r.cssText:""},a})(),wk=(function(){function a(n){this.element=Jb(n),this.nodes=this.element.childNodes,this.length=0}return a.prototype.insertRule=function(n,r){if(n<=this.length&&n>=0){var s=document.createTextNode(r);return this.element.insertBefore(s,this.nodes[n]||null),this.length++,!0}return!1},a.prototype.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},a.prototype.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},a})(),Sk=(function(){function a(n){this.rules=[],this.length=0}return a.prototype.insertRule=function(n,r){return n<=this.length&&(this.rules.splice(n,0,r),this.length++,!0)},a.prototype.deleteRule=function(n){this.rules.splice(n,1),this.length--},a.prototype.getRule=function(n){return n<this.length?this.rules[n]:""},a})(),Iv=jc,xk={isServer:!jc,useCSSOMInjection:!QE},e1=(function(){function a(n,r,s){n===void 0&&(n=gs),r===void 0&&(r={});var l=this;this.options=Xn(Xn({},xk),n),this.gs=r,this.names=new Map(s),this.server=!!n.isServer,!this.server&&jc&&Iv&&(Iv=!1,Uv(this)),Uh(this,function(){return(function(c){for(var d=c.getTag(),h=d.length,m="",y=function(b){var x=(function(Q){return Ac.get(Q)})(b);if(x===void 0)return"continue";var k=c.names.get(x),j=d.getGroup(b);if(k===void 0||!k.size||j.length===0)return"continue";var Z="".concat(ys,".g").concat(b,'[id="').concat(x,'"]'),q="";k!==void 0&&k.forEach(function(Q){Q.length>0&&(q+="".concat(Q,","))}),m+="".concat(j).concat(Z,'{content:"').concat(q,'"}').concat(Lh)},v=0;v<h;v++)y(v);return m})(l)})}return a.registerId=function(n){return ac(n)},a.prototype.rehydrate=function(){!this.server&&jc&&Uv(this)},a.prototype.reconstructWithOptions=function(n,r){return r===void 0&&(r=!0),new a(Xn(Xn({},this.options),n),this.gs,r&&this.names||void 0)},a.prototype.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},a.prototype.getTag=function(){return this.tag||(this.tag=(n=(function(r){var s=r.useCSSOMInjection,l=r.target;return r.isServer?new Sk(l):s?new bk(l):new wk(l)})(this.options),new fk(n)));var n},a.prototype.hasNameForId=function(n,r){return this.names.has(n)&&this.names.get(n).has(r)},a.prototype.registerName=function(n,r){if(ac(n),this.names.has(n))this.names.get(n).add(r);else{var s=new Set;s.add(r),this.names.set(n,s)}},a.prototype.insertRules=function(n,r,s){this.registerName(n,r),this.getTag().insertRules(ac(n),s)},a.prototype.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},a.prototype.clearRules=function(n){this.getTag().clearGroup(ac(n)),this.clearNames(n)},a.prototype.clearTag=function(){this.tag=void 0},a})(),Ek=/&/g,kk=/^\s*\/\/.*$/gm;function t1(a,n){return a.map(function(r){return r.type==="rule"&&(r.value="".concat(n," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(n," ")),r.props=r.props.map(function(s){return"".concat(n," ").concat(s)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=t1(r.children,n)),r})}function Ck(a){var n,r,s,l=gs,c=l.options,d=c===void 0?gs:c,h=l.plugins,m=h===void 0?Vc:h,y=function(x,k,j){return j.startsWith(r)&&j.endsWith(r)&&j.replaceAll(r,"").length>0?".".concat(n):x},v=m.slice();v.push(function(x){x.type===Bc&&x.value.includes("&")&&(x.props[0]=x.props[0].replace(Ek,r).replace(s,y))}),d.prefix&&v.push(XE),v.push(FE);var b=function(x,k,j,Z){k===void 0&&(k=""),j===void 0&&(j=""),Z===void 0&&(Z="&"),n=Z,r=k,s=new RegExp("\\".concat(r,"\\b"),"g");var q=x.replace(kk,""),Q=GE(j||k?"".concat(j," ").concat(k," { ").concat(q," }"):q);d.namespace&&(Q=t1(Q,d.namespace));var K=[];return Oc(Q,PE(v.concat(ZE(function(B){return K.push(B)})))),K};return b.hash=m.length?m.reduce(function(x,k){return k.name||Bo(15),cs(x,k.name)},Pb).toString():"",b}var Tk=new e1,Jf=Ck(),n1=Da.createContext({shouldForwardProp:void 0,styleSheet:Tk,stylis:Jf});n1.Consumer;Da.createContext(void 0);function $v(){return E.useContext(n1)}var Nk=(function(){function a(n,r){var s=this;this.inject=function(l,c){c===void 0&&(c=Jf);var d=s.name+c.hash;l.hasNameForId(s.id,d)||l.insertRules(s.id,d,c(s.rules,d,"@keyframes"))},this.name=n,this.id="sc-keyframes-".concat(n),this.rules=r,Uh(this,function(){throw Bo(12,String(s.name))})}return a.prototype.getName=function(n){return n===void 0&&(n=Jf),this.name+n.hash},a})(),Ok=function(a){return a>="A"&&a<="Z"};function Hv(a){for(var n="",r=0;r<a.length;r++){var s=a[r];if(r===1&&s==="-"&&a[0]==="-")return a;Ok(s)?n+="-"+s.toLowerCase():n+=s}return n.startsWith("ms-")?"-"+n:n}var a1=function(a){return a==null||a===!1||a===""},r1=function(a){var n,r,s=[];for(var l in a){var c=a[l];a.hasOwnProperty(l)&&!a1(c)&&(Array.isArray(c)&&c.isCss||vs(c)?s.push("".concat(Hv(l),":"),c,";"):Ro(c)?s.push.apply(s,Nc(Nc(["".concat(l," {")],r1(c),!1),["}"],!1)):s.push("".concat(Hv(l),": ").concat((n=l,(r=c)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||n in KE||n.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return s};function xi(a,n,r,s){if(a1(a))return[];if(Bh(a))return[".".concat(a.styledComponentId)];if(vs(a)){if(!vs(c=a)||c.prototype&&c.prototype.isReactComponent||!n)return[a];var l=a(n);return xi(l,n,r,s)}var c;return a instanceof Nk?r?(a.inject(r,s),[a.getName(s)]):[a]:Ro(a)?r1(a):Array.isArray(a)?Array.prototype.concat.apply(Vc,a.map(function(d){return xi(d,n,r,s)})):[a.toString()]}function jk(a){for(var n=0;n<a.length;n+=1){var r=a[n];if(vs(r)&&!Bh(r))return!1}return!0}var Ak=Zb(Hc),_k=(function(){function a(n,r,s){this.rules=n,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&jk(n),this.componentId=r,this.baseHash=cs(Ak,r),this.baseStyle=s,e1.registerId(r)}return a.prototype.generateAndInjectStyles=function(n,r,s){var l=this.baseStyle?this.baseStyle.generateAndInjectStyles(n,r,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))l=vi(l,this.staticRulesId);else{var c=Bv(xi(this.rules,n,r,s)),d=Qf(cs(this.baseHash,c)>>>0);if(!r.hasNameForId(this.componentId,d)){var h=s(c,".".concat(d),void 0,this.componentId);r.insertRules(this.componentId,d,h)}l=vi(l,d),this.staticRulesId=d}else{for(var m=cs(this.baseHash,s.hash),y="",v=0;v<this.rules.length;v++){var b=this.rules[v];if(typeof b=="string")y+=b;else if(b){var x=Bv(xi(b,n,r,s));m=cs(m,x+v),y+=x}}if(y){var k=Qf(m>>>0);r.hasNameForId(this.componentId,k)||r.insertRules(this.componentId,k,s(y,".".concat(k),void 0,this.componentId)),l=vi(l,k)}}return l},a})(),i1=Da.createContext(void 0);i1.Consumer;var Tf={};function Dk(a,n,r){var s=Bh(a),l=a,c=!Cf(a),d=n.attrs,h=d===void 0?Vc:d,m=n.componentId,y=m===void 0?(function(Y,fe){var be=typeof Y!="string"?"sc":Dv(Y);Tf[be]=(Tf[be]||0)+1;var H="".concat(be,"-").concat(nk(Hc+be+Tf[be]));return fe?"".concat(fe,"-").concat(H):H})(n.displayName,n.parentComponentId):m,v=n.displayName,b=v===void 0?(function(Y){return Cf(Y)?"styled.".concat(Y):"Styled(".concat(ak(Y),")")})(a):v,x=n.displayName&&n.componentId?"".concat(Dv(n.displayName),"-").concat(n.componentId):n.componentId||y,k=s&&l.attrs?l.attrs.concat(h).filter(Boolean):h,j=n.shouldForwardProp;if(s&&l.shouldForwardProp){var Z=l.shouldForwardProp;if(n.shouldForwardProp){var q=n.shouldForwardProp;j=function(Y,fe){return Z(Y,fe)&&q(Y,fe)}}else j=Z}var Q=new _k(r,x,s?l.componentStyle:void 0);function K(Y,fe){return(function(be,H,de){var re=be.attrs,pe=be.componentStyle,ze=be.defaultProps,Oe=be.foldedComponentIds,Je=be.styledComponentId,it=be.target,We=Da.useContext(i1),N=$v(),V=be.shouldForwardProp||N.shouldForwardProp,W=WE(H,We,ze)||gs,ge=(function(le,ve,je){for(var Ge,Ue=Xn(Xn({},ve),{className:void 0,theme:je}),tt=0;tt<le.length;tt+=1){var gt=vs(Ge=le[tt])?Ge(Ue):Ge;for(var _t in gt)Ue[_t]=_t==="className"?vi(Ue[_t],gt[_t]):_t==="style"?Xn(Xn({},Ue[_t]),gt[_t]):gt[_t]}return ve.className&&(Ue.className=vi(Ue.className,ve.className)),Ue})(re,H,W),U=ge.as||it,S={};for(var D in ge)ge[D]===void 0||D[0]==="$"||D==="as"||D==="theme"&&ge.theme===W||(D==="forwardedAs"?S.as=ge.forwardedAs:V&&!V(D,U)||(S[D]=ge[D]));var O=(function(le,ve){var je=$v(),Ge=le.generateAndInjectStyles(ve,je.styleSheet,je.stylis);return Ge})(pe,ge),z=vi(Oe,Je);return O&&(z+=" "+O),ge.className&&(z+=" "+ge.className),S[Cf(U)&&!Fb.has(U)?"class":"className"]=z,de&&(S.ref=de),E.createElement(U,S)})(B,Y,fe)}K.displayName=b;var B=Da.forwardRef(K);return B.attrs=k,B.componentStyle=Q,B.displayName=b,B.shouldForwardProp=j,B.foldedComponentIds=s?vi(l.foldedComponentIds,l.styledComponentId):"",B.styledComponentId=x,B.target=s?l.target:a,Object.defineProperty(B,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(Y){this._foldedDefaultProps=s?(function(fe){for(var be=[],H=1;H<arguments.length;H++)be[H-1]=arguments[H];for(var de=0,re=be;de<re.length;de++)Wf(fe,re[de],!0);return fe})({},l.defaultProps,Y):Y}}),Uh(B,function(){return".".concat(B.styledComponentId)}),c&&Wb(B,a,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),B}function Vv(a,n){for(var r=[a[0]],s=0,l=n.length;s<l;s+=1)r.push(n[s],a[s+1]);return r}var qv=function(a){return Object.assign(a,{isCss:!0})};function Ih(a){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(vs(a)||Ro(a))return qv(xi(Vv(Vc,Nc([a],n,!0))));var s=a;return n.length===0&&s.length===1&&typeof s[0]=="string"?xi(s):qv(xi(Vv(s,n)))}function eh(a,n,r){if(r===void 0&&(r=gs),!n)throw Bo(1,n);var s=function(l){for(var c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];return a(n,r,Ih.apply(void 0,Nc([l],c,!1)))};return s.attrs=function(l){return eh(a,n,Xn(Xn({},r),{attrs:Array.prototype.concat(r.attrs,l).filter(Boolean)}))},s.withConfig=function(l){return eh(a,n,Xn(Xn({},r),l))},s}var s1=function(a){return eh(Dk,a)},Un=s1;Fb.forEach(function(a){Un[a]=s1(a)});function Ei(){return Ei=Object.assign?Object.assign.bind():function(a){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var s in r)({}).hasOwnProperty.call(r,s)&&(a[s]=r[s])}return a},Ei.apply(null,arguments)}function Mk(a,n){if(a==null)return{};var r={};for(var s in a)if({}.hasOwnProperty.call(a,s)){if(n.indexOf(s)!==-1)continue;r[s]=a[s]}return r}function $h(a,n){if(a==null)return{};var r,s,l=Mk(a,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);for(s=0;s<c.length;s++)r=c[s],n.indexOf(r)===-1&&{}.propertyIsEnumerable.call(a,r)&&(l[r]=a[r])}return l}function Rk(a){var n=a?.createRoot,r=new WeakMap;function s(d){var h=r.get(d);if(h)return h;var m=document.createElement("span");return d.appendChild(m),r.set(d,m),m}function l(d){var h=r.get(d);h&&(h.remove(),r.delete(d))}if(n){var c=new WeakMap;return{mount:function(h,m){var y,v=s(m),b=c.get(v);return b||(b=n(v),c.set(v,b)),b.render(h),(y=v.firstElementChild)!==null&&y!==void 0?y:v},unmount:function(h){var m=s(h),y=c.get(m);y&&(y.unmount(),c.delete(m)),l(h)}}}return{mount:function(h,m){var y=s(m);if("render"in ev&&typeof Zr.render=="function"){var v=Zr.render(h,y);return v||y}throw new Error("ReactDOM.render is not available")},unmount:function(h){var m=s(h);if("unmountComponentAtNode"in ev&&typeof Zr.unmountComponentAtNode=="function")Zr.unmountComponentAtNode(m);else throw new Error("ReactDOM.unmountComponentAtNode is not available");l(h)}}}function zk(a){var n=a.children,r=a.rendered;return E.useEffect(function(){r()}),n}function Lk(){var a=E.useRef(!1);return E.useEffect(function(){a.current=!0},[]),{apply:function(r){a.current?queueMicrotask(function(){Zr.flushSync(r)}):r()}}}var o1=E.createContext({start:null,end:null,path:null});function Bk(a){var n=a.children,r=E.useState(null),s=Vn(r,2),l=s[0],c=s[1],d=E.useState(null),h=Vn(d,2),m=h[0],y=h[1],v=E.useState(null),b=Vn(v,2),x=b[0],k=b[1],j="x"in a.start?a.start:l,Z="x"in a.end?a.end:m,q=Lk();return E.useEffect(function(){var Q=typeof a.start=="function"&&a.start(function(B){q.apply(function(){c(B)})}),K=typeof a.end=="function"&&a.end(function(B){q.apply(function(){y(B)})});return function(){Q&&Q(),K&&K()}},[]),E.useEffect(function(){j&&Z&&a.path(j,Z).then(function(Q){q.apply(function(){k(Q)})})},[j,Z]),E.createElement(o1.Provider,{value:{start:j,end:Z,path:x}},n)}function l1(){return E.useContext(o1)}var Gv,Yv,Uk=Un.svg(Gv||(Gv=Dn([`
    overflow: visible !important;
    position: absolute;
    pointer-events: none;
    width: 9999px;
    height: 9999px;
`]))),Ik=Un.path(Yv||(Yv=Dn([`
    fill: none;
    stroke-width: 5px;
    stroke: steelblue;
    pointer-events: auto;
    `,`
`])),function(a){var n;return(n=a.styles)===null||n===void 0?void 0:n.call(a,a)});function c1(a){var n=l1(),r=n.path;return r?E.createElement(Uk,{"data-testid":"connection"},E.createElement(Ik,{styles:a.styles,d:r})):null}function $k(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=Hk(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(y){throw y},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,d=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var y=r.next();return d=y.done,y},e:function(y){h=!0,c=y},f:function(){try{d||r.return==null||r.return()}finally{if(h)throw c}}}}function Hk(a,n){if(a){if(typeof a=="string")return Fv(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Fv(a,n):void 0}}function Fv(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function Vk(a){for(var n=new a.constructor(a.type),r=n;r=Object.getPrototypeOf(r);){var s=Object.getOwnPropertyNames(r),l=$k(s),c;try{for(l.s();!(c=l.n()).done;){var d=c.value,h=n[d];typeof h!="function"&&Object.defineProperty(n,d,{value:a[d]})}}catch(m){l.e(m)}finally{l.f()}}return n}var qk="__reactContainer$";function Gk(a){for(var n=a;n;){if(n._reactRootContainer||Object.keys(n).some(function(r){return r.startsWith(qk)}))return n;n=n.parentElement}}function Pv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function Zv(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Pv(Object(r),!0).forEach(function(s){Re(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):Pv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function u1(a,n){return{start:function(s){var l=Zv({},n(s));function c(h){var m=Zv({},n(h)),y=m.x-l.x,v=m.y-l.y;l=m,a(y,v)}function d(){window.removeEventListener("pointermove",c),window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",d)}window.addEventListener("pointermove",c),window.addEventListener("pointerup",d),window.addEventListener("pointercancel",d)}}}function Yk(a,n){E.useEffect(function(){var r=function(c){if(!n){var d=Gk(c.target),h=E.version.startsWith("16")?document:d;h&&(c.stopPropagation(),h.dispatchEvent(Vk(c)))}},s=a.current;return s?.addEventListener("pointerdown",r),function(){s?.removeEventListener("pointerdown",r)}},[a,n])}var Xv,Fk=Un.input(Xv||(Xv=Dn([`
  width: 100%;
  border-radius: 30px;
  background-color: white;
  padding: 2px 6px;
  border: 1px solid #999;
  font-size: 110%;
  box-sizing: border-box;
  `,`
`])),function(a){var n;return(n=a.styles)===null||n===void 0?void 0:n.call(a,a)});function th(a){var n=E.useState(a.data.value),r=Vn(n,2),s=r[0],l=r[1],c=E.useRef(null);return Yk(c),E.useEffect(function(){l(a.data.value)},[a.data.value]),E.createElement(Fk,{value:s,type:a.data.type,ref:c,readOnly:a.data.readonly,onChange:function(h){var m=a.data.type==="number"?+h.target.value:h.target.value;l(m),a.data.setValue(m)},styles:a.styles})}var nh="rgba(110,136,255,0.8)",d1="#ffd92c",$a=24,gr=6,f1="#96b38a",h1=180,Pk=Object.freeze({__proto__:null,$nodecolor:nh,$nodecolorselected:d1,$socketsize:$a,$socketmargin:gr,$socketcolor:f1,$nodewidth:h1}),Zk=["init","unmount"];function Hh(a){var n=a.init,r=a.unmount,s=$h(a,Zk),l=E.useRef(null);return E.useEffect(function(){var c=l.current;return function(){c&&r(c)}},[]),E.useEffect(function(){l.current&&n(l.current)}),E.createElement("span",Ei({},s,{ref:l}))}var Xk=["name","emit","payload"];function ah(a){var n=a.name,r=a.emit,s=a.payload,l=$h(a,Xk);return E.createElement(Hh,Ei({},l,{className:n,init:function(d){r({type:"render",data:{type:"control",element:d,payload:s}})},unmount:function(d){r({type:"unmount",data:{element:d}})}}))}var Kk=["name","emit","nodeId","side","socketKey","payload"];function rh(a){var n=a.name,r=a.emit,s=a.nodeId,l=a.side,c=a.socketKey,d=a.payload,h=$h(a,Kk);return E.createElement(Hh,Ei({},h,{className:n,init:function(y){r({type:"render",data:{type:"socket",side:l,key:c,nodeId:s,element:y,payload:d}})},unmount:function(y){r({type:"unmount",data:{element:y}})}}))}var Kv,Qv,p1=Un.div(Kv||(Kv=Dn([`
    background: `,`;
    border: 2px solid #4e58bf;
    border-radius: 10px;
    cursor: pointer;
    box-sizing: border-box;
    width: `,`;
    height: `,`;
    padding-bottom: 6px;
    position: relative;
    user-select: none;
    line-height: initial;
    font-family: Arial;

    &:hover {
        background: lighten(`,`,4%);
    }
    `,`
    .title {
        color: white;
        font-family: sans-serif;
        font-size: 18px;
        padding: 8px;
    }
    .output {
        text-align: right;
    }
    .input {
        text-align: left;
    }
    .output-socket {
        text-align: right;
        margin-right: -`,`px;
        display: inline-block;
    }
    .input-socket {
        text-align: left;
        margin-left: -`,`px;
        display: inline-block;
    }
    .input-title,.output-title {
        vertical-align: middle;
        color: white;
        display: inline-block;
        font-family: sans-serif;
        font-size: 14px;
        margin: `,`px;
        line-height: `,`px;
    }
    .input-control {
        z-index: 1;
        width: calc(100% - `,`px);
        vertical-align: middle;
        display: inline-block;
    }
    .control {
        display: block;
        padding: `,"px ",`px;
    }
    `,`
`])),nh,function(a){return Number.isFinite(a.width)?"".concat(a.width,"px"):"".concat(h1,"px")},function(a){return Number.isFinite(a.height)?"".concat(a.height,"px"):"auto"},nh,function(a){return a.selected&&Ih(Qv||(Qv=Dn([`
        background: `,`;
        border-color: #e3c000;
    `])),d1)},$a/2+gr,$a/2+gr,gr,$a,$a+2*gr,gr,$a/2+gr,function(a){var n;return(n=a.styles)===null||n===void 0?void 0:n.call(a,a)});function Nf(a){a.sort(function(n,r){var s,l,c=((s=n[1])===null||s===void 0?void 0:s.index)||0,d=((l=r[1])===null||l===void 0?void 0:l.index)||0;return c-d})}function m1(a){var n=Object.entries(a.data.inputs),r=Object.entries(a.data.outputs),s=Object.entries(a.data.controls),l=a.data.selected||!1,c=a.data,d=c.id,h=c.label,m=c.width,y=c.height;return Nf(n),Nf(r),Nf(s),E.createElement(p1,{selected:l,width:m,height:y,styles:a.styles,"data-testid":"node"},E.createElement("div",{className:"title","data-testid":"title"},h),r.map(function(v){var b=Vn(v,2),x=b[0],k=b[1];return k&&E.createElement("div",{className:"output",key:x,"data-testid":"output-".concat(x)},E.createElement("div",{className:"output-title","data-testid":"output-title"},k.label),E.createElement(rh,{name:"output-socket",side:"output",socketKey:x,nodeId:d,emit:a.emit,payload:k.socket,"data-testid":"output-socket"}))}),s.map(function(v){var b=Vn(v,2),x=b[0],k=b[1];return k?E.createElement(ah,{key:x,name:"control",emit:a.emit,payload:k,"data-testid":"control-".concat(x)}):null}),n.map(function(v){var b=Vn(v,2),x=b[0],k=b[1];return k&&E.createElement("div",{className:"input",key:x,"data-testid":"input-".concat(x)},E.createElement(rh,{name:"input-socket",side:"input",socketKey:x,nodeId:d,emit:a.emit,payload:k.socket,"data-testid":"input-socket"}),k&&(!k.control||!k.showControl)&&E.createElement("div",{className:"input-title","data-testid":"input-title"},k.label),k.control&&k.showControl&&E.createElement(ah,{key:x,name:"input-control",emit:a.emit,payload:k.control,"data-testid":"input-control"}))}))}var Wv,Jv,y1=Un.div(Wv||(Wv=Dn([`
    display: inline-block;
    cursor: pointer;
    border: 1px solid white;
    border-radius: `,`px;
    width: `,`px;
    height: `,`px;
    vertical-align: middle;
    background: `,`;
    z-index: 2;
    box-sizing: border-box;
    &:hover {
      border-width: 4px;
    }
    &.multiple {
      border-color: yellow;
    }
`])),$a/2,$a,$a,f1),Qk=Un.div(Jv||(Jv=Dn([`
    border-radius: `,`px;
    padding: `,`px;
    &:hover `,` {
      border-width: 4px;
    }
`])),($a+gr*2)/2,gr,y1);function g1(a){return E.createElement(Qk,null,E.createElement(y1,{title:a.data.name}))}function Wk(a){var n=typeof a?.socketPositionWatcher>"u"?_E():a.socketPositionWatcher,r=a?.customize||{},s=r.node,l=r.connection,c=r.socket,d=r.control;return{attach:function(m){n.attach(m)},render:function(m,y){if(m.data.type==="node"){var v=y.parentScope(),b=s?s(m.data):m1;return b&&E.createElement(b,{data:m.data.payload,emit:function(fe){return void v.emit(fe)}})}else if(m.data.type==="connection"){var x=l?l(m.data):c1,k=m.data.payload,j=k.sourceOutput,Z=k.targetInput,q=k.source,Q=k.target;return x&&E.createElement(Bk,{start:m.data.start||function(Y){return n.listen(q,"output",j,Y)},end:m.data.end||function(Y){return n.listen(Q,"input",Z,Y)},path:(function(){var Y=rt(Se.mark(function fe(be,H){var de,re,pe,ze,Oe;return Se.wrap(function(Je){for(;;)switch(Je.prev=Je.next){case 0:return Je.next=1,y.emit({type:"connectionpath",data:{payload:k,points:[be,H]}});case 1:if(de=Je.sent,de){Je.next=2;break}return Je.abrupt("return","");case 2:if(re=de.data,pe=re.path,ze=re.points,Oe=.3,!(!pe&&ze.length!==2)){Je.next=3;break}throw new Error("cannot render connection with a custom number of points");case 3:if(pe){Je.next=4;break}return Je.abrupt("return",k.isLoop?kE(ze,Oe,120):EE(ze,Oe));case 4:return Je.abrupt("return",pe);case 5:case"end":return Je.stop()}},fe)}));return function(fe,be){return Y.apply(this,arguments)}})()},E.createElement(x,{data:m.data.payload}))}else if(m.data.type==="socket"){var K=c?c(m.data):g1;return K&&m.data.payload&&E.createElement(K,{data:m.data.payload})}else if(m.data.type==="control"){var B=d&&m.data.payload?d(m.data):m.data.payload instanceof Kt.InputControl?th:null;return B&&E.createElement(B,{data:m.data.payload})}}}}var Jk=Object.freeze({__proto__:null,vars:Pk,setup:Wk,Connection:c1,useConnection:l1,Control:th,InputControl:th,Node:m1,NodeStyles:p1,RefControl:ah,RefSocket:rh,Socket:g1});function v1(a,n){var r=E.useRef(void 0);function s(){r.current&&clearTimeout(r.current)}var l=function(){s(),r.current=setTimeout(function(){a()},n)};return E.useEffect(function(){return s},[]),[l,s]}var eC="rgba(110,136,255,0.8)",tC="rgba(130, 153, 255, 0.8)",nC="rgba(69, 103, 255, 0.8)",rc="5px",ih=120,e0,Vh=Un.div(e0||(e0=Dn([`
  color: #fff;
  padding: 4px;
  border-bottom: 1px solid `,`;
  background-color: `,`;
  cursor: pointer;
  width: 100%;
  position: relative;
  &:first-child {
    border-top-left-radius: `,`;
    border-top-right-radius: `,`;
  }
  &:last-child {
    border-bottom-left-radius: `,`;
    border-bottom-right-radius: `,`;
  }
  &:hover {
    background-color: `,`;
  }
`])),nC,eC,rc,rc,rc,rc,tC),t0,n0,a0,b1=Un(Vh)(t0||(t0=Dn([`
    `,`
`])),function(a){return a.hasSubitems&&Ih(n0||(n0=Dn([`&:after {
    content: '';
    position: absolute;
    opacity: 0.6;
    right: 5px;
    top: 5px;
    }`])))}),w1=Un.div(a0||(a0=Dn([`
    position: absolute;
    top: 0;
    left: 100%;
    width: `,`px;
`])),ih);function S1(a){var n,r,s,l,c=E.useState(!1),d=Vn(c,2),h=d[0],m=d[1],y=E.useCallback(function(){m(!1)},[m]),v=v1(y,a.delay),b=Vn(v,2),x=b[0],k=b[1],j=((n=a.components)===null||n===void 0||(r=n.item)===null||r===void 0?void 0:r.call(n,a.data))||b1,Z=((s=a.components)===null||s===void 0||(l=s.subitems)===null||l===void 0?void 0:l.call(s,a.data))||w1;return E.createElement(j,{onClick:function(Q){Q.stopPropagation(),a.data.handler(),a.hide()},hasSubitems:!!a.data.subitems,onPointerDown:function(Q){Q.stopPropagation()},onPointerOver:function(){k(),m(!0)},onPointerLeave:function(){x&&x()},"data-testid":"context-menu-item"},a.children,a.data.subitems&&h&&E.createElement(Z,null,a.data.subitems.map(function(q){return E.createElement(S1,{key:q.key,data:q,delay:a.delay,hide:a.hide,components:a.components},q.label)})))}var r0,x1=Un.input(r0||(r0=Dn([`
  color: white;
  padding: 1px 8px;
  border: 1px solid white;
  border-radius: 10px;
  font-size: 16px;
  font-family: serif;
  width: 100%;
  box-sizing: border-box;
  background: transparent;
`])));function aC(a){var n=a.component||x1;return E.createElement(n,{value:a.value,onInput:function(s){a.onChange(s.target.value)},onPointerDown:function(s){s.stopPropagation()},"data-testid":"context-menu-search-input"})}var i0,E1=Un.div(i0||(i0=Dn([`
  padding: 10px;
  width: `,`px;
  margin-top: -20px;
  margin-left: -`,`px;
`])),ih,ih/2);function rC(a){var n,r,s,l,c,d,h=v1(a.onHide,a.delay),m=Vn(h,2),y=m[0],v=m[1],b=E.useState(""),x=Vn(b,2),k=x[0],j=x[1],Z=new RegExp(k,"i"),q=a.items.filter(function(B){return B.label.match(Z)}),Q=((n=a.components)===null||n===void 0||(r=n.main)===null||r===void 0?void 0:r.call(n))||E1,K=((s=a.components)===null||s===void 0||(l=s.common)===null||l===void 0?void 0:l.call(s))||Vh;return E.createElement(Q,{onMouseOver:function(){v()},onMouseLeave:function(){y?.()},onWheel:function(Y){Y.stopPropagation()},"data-testid":"context-menu"},a.searchBar&&E.createElement(K,null,E.createElement(aC,{value:k,onChange:j,component:(c=a.components)===null||c===void 0||(d=c.search)===null||d===void 0?void 0:d.call(c)})),q.map(function(B){return E.createElement(S1,{key:B.key,data:B,delay:a.delay,hide:a.onHide,components:a.components},B.label)}))}function iC(a){var n=typeof a?.delay>"u"?1e3:a.delay;return{render:function(s){if(s.data.type==="contextmenu")return E.createElement(rC,{items:s.data.items,delay:n,searchBar:s.data.searchBar,onHide:s.data.onHide,components:a?.customize})}}}var sC=Object.freeze({__proto__:null,setup:iC,Item:b1,Subitems:w1,Menu:E1,Search:x1,Common:Vh}),ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},oC=typeof ic=="object"&&ic&&ic.Object===Object&&ic,lC=typeof self=="object"&&self&&self.Object===Object&&self;oC||lC||Function("return this")();function cC(){const a=E.useRef(!1);return E.useEffect(()=>(a.current=!0,()=>{a.current=!1}),[]),E.useCallback(()=>a.current,[])}var s0={width:void 0,height:void 0};function uC(a){const{ref:n,box:r="content-box"}=a,[{width:s,height:l},c]=E.useState(s0),d=cC(),h=E.useRef({...s0}),m=E.useRef(void 0);return m.current=a.onResize,E.useEffect(()=>{if(!n.current||typeof window>"u"||!("ResizeObserver"in window))return;const y=new ResizeObserver(([v])=>{const b=r==="border-box"?"borderBoxSize":r==="device-pixel-content-box"?"devicePixelContentBoxSize":"contentBoxSize",x=o0(v,b,"inlineSize"),k=o0(v,b,"blockSize");if(h.current.width!==x||h.current.height!==k){const Z={width:x,height:k};h.current.width=x,h.current.height=k,m.current?m.current(Z):d()&&c(Z)}});return y.observe(n.current,{box:r}),()=>{y.disconnect()}},[r,n,d]),{width:s,height:l}}function o0(a,n,r){return a[n]?Array.isArray(a[n])?a[n][0][r]:a[n][r]:n==="contentBoxSize"?a.contentRect[r==="inlineSize"?"width":"height"]:void 0}function Ha(a){return"".concat(a,"px")}var l0,dC=Un.div(l0||(l0=Dn([`
    position: absolute;
    background: rgba(110, 136, 255, 0.8);
    border: 1px solid rgb(192 206 212 / 60%);
`])));function fC(a){return E.createElement(dC,{style:{left:Ha(a.left),top:Ha(a.top),width:Ha(a.width),height:Ha(a.height)},"data-testid":"minimap-node"})}var c0,hC=Un.div(c0||(c0=Dn([`
  position: absolute;
  background: rgba(255, 251, 128, 0.32);
  border: 1px solid #ffe52b;
`])));function pC(a){var n=function(c){return c*a.containerWidth},r=function(c){return c/a.containerWidth},s=u1(function(l,c){a.translate(r(-l),r(-c))},function(l){return{x:l.pageX,y:l.pageY}});return E.createElement(hC,{onPointerDown:s.start,style:{left:Ha(n(a.left)),top:Ha(n(a.top)),width:Ha(n(a.width)),height:Ha(n(a.height))},"data-testid":"minimap-viewport"})}var u0,mC=Un.div(u0||(u0=Dn([`
    position: absolute;
    right: 24px;
    bottom: 24px;
    background: rgba(229, 234, 239, 0.65);
    padding: 20px;
    overflow: hidden;
    border: 1px solid #b1b7ff;
    border-radius: 8px;
    box-sizing: border-box;
`])));function yC(a){var n,r=E.useRef(null),s=uC({ref:r}),l=s.width,c=l===void 0?0:l,d=((n=r.current)===null||n===void 0?void 0:n.clientWidth)||c,h=E.useCallback(function(m){return m*d},[d]);return E.createElement(mC,{size:a.size,style:{width:Ha(a.size*a.ratio),height:Ha(a.size)},onPointerDown:function(y){y.stopPropagation(),y.preventDefault()},onDoubleClick:function(y){if(y.stopPropagation(),y.preventDefault(),!!r.current){var v=r.current.getBoundingClientRect(),b=(y.clientX-v.left)/(a.size*a.ratio),x=(y.clientY-v.top)/(a.size*a.ratio);a.point(b,x)}},ref:r,"data-testid":"minimap"},d?a.nodes.map(function(m,y){return E.createElement(fC,{key:y,left:h(m.left),top:h(m.top),width:h(m.width),height:h(m.height)})}):null,E.createElement(pC,Ei({},a.viewport,{start:a.start,containerWidth:d,translate:a.translate})))}function gC(a){return{render:function(r){if(r.data.type==="minimap")return E.createElement(yC,{nodes:r.data.nodes,size:a?.size||200,ratio:r.data.ratio,viewport:r.data.viewport,start:r.data.start,translate:r.data.translate,point:r.data.point})}}}var vC=Object.freeze({__proto__:null,setup:gC}),d0,jo=20,bC=Un.div(d0||(d0=Dn([`
  width: `,`px;
  height: `,`px;
  box-sizing: border-box;
  background: `,`;
  border: 2px solid white;
  border-radius: `,`px;
`])),jo,jo,function(a){return a.selected?"#ffd92c":"steelblue"},jo);function wC(a){var n=u1(function(c,d){a.translate(c,d)},a.pointer),r=a.position,s=r.x,l=r.y;return E.createElement(bC,{onPointerDown:function(d){d.stopPropagation(),d.preventDefault(),n.start(d),a.pointerdown()},onContextMenu:function(d){d.stopPropagation(),d.preventDefault(),a.contextMenu()},selected:a.selected,style:{position:"absolute",top:"".concat(l-jo/2,"px"),left:"".concat(s-jo/2,"px")},"data-testid":"pin"})}function SC(a){function n(r,s){return E.createElement(E.Fragment,null,r.pins.map(function(l){return E.createElement(wC,Ei({},l,{key:l.id,contextMenu:function(){var d;a==null||(d=a.contextMenu)===null||d===void 0||d.call(a,l.id)},translate:function(d,h){var m;a==null||(m=a.translate)===null||m===void 0||m.call(a,l.id,d,h)},pointerdown:function(){var d;a==null||(d=a.pointerdown)===null||d===void 0||d.call(a,l.id)},pointer:s}))}))}return{render:function(s,l){var c=s.data,d=l.parentScope(Lo);if(c.type==="reroute-pins")return n(c.data,function(){return d.area.pointer})}}}var xC=Object.freeze({__proto__:null,setup:SC}),Of=Object.freeze({__proto__:null,classic:Jk,contextMenu:sC,minimap:vC,reroute:xC});function EC(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=kC(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(y){throw y},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,d=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var y=r.next();return d=y.done,y},e:function(y){h=!0,c=y},f:function(){try{d||r.return==null||r.return()}finally{if(h)throw c}}}}function kC(a,n){if(a){if(typeof a=="string")return f0(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f0(a,n):void 0}}function f0(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function h0(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function sc(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?h0(Object(r),!0).forEach(function(s){Re(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):h0(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function CC(a,n,r){return n=Ut(n),Ya(a,k1()?Reflect.construct(n,r||[],Ut(a).constructor):n.apply(a,r))}function k1(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k1=function(){return!!a})()}function TC(a,n,r,s){var l=Mo(Ut(a.prototype),n,r);return typeof l=="function"?function(c){return l.apply(r,c)}:l}var NC=(function(a){function n(){for(var r,s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var d=l[0];return ft(this,n),r=CC(this,n,["react-render"]),Re(r,"presets",[]),r.renderer=Rk({createRoot:d?.createRoot}),r.addPipe(function(h){if(!h||_n(h)!=="object"||!("type"in h))return h;if(h.type==="unmount")r.unmount(h.data.element);else if(h.type==="render"){if("filled"in h.data&&h.data.filled)return h;if(r.mount(h.data.element,h))return sc(sc({},h),{},{data:sc(sc({},h.data),{},{filled:!0})})}return h}),r}return Kn(n,a),ht(n,[{key:"setParent",value:function(s){var l=this;TC(n,"setParent",this)([s]),this.presets.forEach(function(c){c.attach&&c.attach(l)})}},{key:"mount",value:function(s,l){var c=this.parentScope(),d=EC(this.presets),h;try{for(d.s();!(h=d.n()).done;){var m=h.value,y=m.render(l,this);if(y){var v=E.createElement(zk,{rendered:function(){return void c.emit({type:"rendered",data:l.data})}},y);return this.renderer.mount(v,s),!0}}}catch(b){d.e(b)}finally{d.f()}}},{key:"unmount",value:function(s){this.renderer.unmount(s)}},{key:"addPreset",value:function(s){var l=s;l.attach&&l.attach(this),this.presets.push(l)}}])})(ws);function OC(a){try{return Function.toString.call(a).indexOf("[native code]")!==-1}catch{return typeof a=="function"}}function C1(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(C1=function(){return!!a})()}function jC(a,n,r){if(C1())return Reflect.construct.apply(null,arguments);var s=[null];s.push.apply(s,n);var l=new(a.bind.apply(a,s));return r&&Do(l,r.prototype),l}function sh(a){var n=typeof Map=="function"?new Map:void 0;return sh=function(s){if(s===null||!OC(s))return s;if(typeof s!="function")throw new TypeError("Super expression must either be null or a function");if(n!==void 0){if(n.has(s))return n.get(s);n.set(s,l)}function l(){return jC(s,arguments,Ut(this).constructor)}return l.prototype=Object.create(s.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),Do(l,s)},sh(a)}function AC(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=_C(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(y){throw y},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,d=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var y=r.next();return d=y.done,y},e:function(y){h=!0,c=y},f:function(){try{d||r.return==null||r.return()}finally{if(h)throw c}}}}function _C(a,n){if(a){if(typeof a=="string")return p0(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?p0(a,n):void 0}}function p0(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}var DC=(function(){function a(n){ft(this,a),Re(this,"setups",new Map),this.editor=n}return ht(a,[{key:"add",value:function(r,s){var l=this.setups.get(r.id);if(l)throw new Error("already processed");this.setups.set(r.id,s)}},{key:"remove",value:function(r){this.setups.delete(r)}},{key:"fetchInputs",value:(function(){var n=rt(Se.mark(function s(l){var c=this,d,h,m,y,v,b,x,k,j,Z,q,Q;return Se.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(d=this.setups.get(l),d){B.next=3;break}throw new Error("node is not initialized");case 3:return h=d.inputs(),m=this.editor.getConnections().filter(function(Y){return Y.target===l&&h.includes(Y.targetInput)}),y={},B.next=8,Promise.all(m.map((function(){var Y=rt(Se.mark(function fe(be){return Se.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return de.t0=be,de.next=3,c.fetch(be.source);case 3:return de.t1=de.sent,de.abrupt("return",{c:de.t0,sourceData:de.t1});case 5:case"end":return de.stop()}},fe)}));return function(fe){return Y.apply(this,arguments)}})()));case 8:v=B.sent,b=AC(v);try{for(b.s();!(x=b.n()).done;)k=x.value,j=k.c,Z=k.sourceData,q=y[j.targetInput]?y[j.targetInput]:[],Q=y,Q[j.targetInput]=[].concat(Ss(q),[Z[j.sourceOutput]])}catch(Y){b.e(Y)}finally{b.f()}return B.abrupt("return",y);case 12:case"end":return B.stop()}},s,this)}));function r(s){return n.apply(this,arguments)}return r})()},{key:"fetch",value:(function(){var n=rt(Se.mark(function s(l){var c=this,d,h,m,y;return Se.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(d=this.setups.get(l),d){b.next=3;break}throw new Error("node is not initialized");case 3:return h=d.outputs(),b.next=6,d.data(function(){return c.fetchInputs(l)});case 6:if(m=b.sent,y=Object.keys(m),h.every(function(x){return y.includes(x)})){b.next=10;break}throw new Error('dataflow node "'.concat(l,`" doesn't return all of required properties. Expected "`).concat(h.join('", "'),'". Got "').concat(y.join('", "'),'"'));case 10:return b.abrupt("return",m);case 11:case"end":return b.stop()}},s,this)}));function r(s){return n.apply(this,arguments)}return r})()}])})(),MC=(function(){function a(n){ft(this,a),Re(this,"cache",new Map),this.onDelete=n}return ht(a,[{key:"get",value:function(r){return this.cache.get(r)}},{key:"add",value:function(r,s){if(this.cache.has(r))throw new Error("cache already exists");this.cache.set(r,s)}},{key:"patch",value:function(r,s){this.cache.set(r,s)}},{key:"delete",value:function(r){var s=this.cache.get(r);this.cache.delete(r),this.onDelete&&this.onDelete(s)}},{key:"clear",value:function(){var r=this;Array.from(this.cache.keys()).forEach(function(s){r.delete(s)})}}])})();function RC(a,n,r){return n=Ut(n),Ya(a,T1()?Reflect.construct(n,r||[],Ut(a).constructor):n.apply(a,r))}function T1(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T1=function(){return!!a})()}var m0=(function(a){function n(){return ft(this,n),RC(this,n,["cancelled"])}return Kn(n,a),ht(n)})(sh(Error));function zC(){var a=!1;function n(m){if(a)throw new m0;return m}for(var r,s=new Promise(function(m,y){r=y,m()}),l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var h=c.reduce(function(m,y){var v=m.then(y).then(n);return v},s);return h.cancel=function(){a||r(new m0),a=!0},h}function LC(a,n,r){return n=Ut(n),Ya(a,N1()?Reflect.construct(n,r||[],Ut(a).constructor):n.apply(a,r))}function N1(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N1=function(){return!!a})()}function BC(a,n,r,s){var l=Mo(Ut(a.prototype),n,r);return typeof l=="function"?function(c){return l.apply(r,c)}:l}var UC=(function(a){function n(r){var s;return ft(this,n),s=LC(this,n,["dataflow-engine"]),Re(s,"cache",new MC(function(l){return l?.cancel&&l.cancel()})),s.configure=r,s.addPipe(function(l){return l.type==="nodecreated"&&s.add(l.data),l.type==="noderemoved"&&s.remove(l.data),l}),s}return Kn(n,a),ht(n,[{key:"setParent",value:function(s){BC(n,"setParent",this)([s]),this.editor=this.parentScope(Wr),this.dataflow=new DC(this.editor)}},{key:"getDataflow",value:function(){if(!this.dataflow)throw new Error("DataflowEngine isn't attached to NodeEditor");return this.dataflow}},{key:"add",value:function(s){var l=this,c=this.configure?this.configure(s):{inputs:function(){return Object.keys(s.inputs)},outputs:function(){return Object.keys(s.outputs)}};this.getDataflow().add(s,{inputs:c.inputs,outputs:c.outputs,data:(function(){var d=rt(Se.mark(function m(y){var v,b;return Se.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(v=l.cache.get(s.id),!v){k.next=3;break}return k.abrupt("return",v);case 3:return b=zC(function(){return y()},function(j){return s.data(j)}),l.cache.add(s.id,b),k.abrupt("return",b);case 6:case"end":return k.stop()}},m)}));function h(m){return d.apply(this,arguments)}return h})()})}},{key:"remove",value:function(s){this.getDataflow().remove(s.id)}},{key:"reset",value:function(s){var l=this;if(s){var c=this.getDataflow().setups.get(s);if(!c)throw new Error("setup");var d=c.outputs();this.cache.delete(s),this.editor.getConnections().filter(function(h){return h.source===s&&d.includes(h.sourceOutput)}).forEach(function(h){l.reset(h.target)})}else this.cache.clear()}},{key:"fetchInputs",value:(function(){var r=rt(Se.mark(function l(c){var d;return Se.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return d=_n(c)==="object"?c.id:c,m.abrupt("return",this.getDataflow().fetchInputs(d));case 2:case"end":return m.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"fetch",value:(function(){var r=rt(Se.mark(function l(c){var d;return Se.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return d=_n(c)==="object"?c.id:c,m.abrupt("return",this.getDataflow().fetch(d));case 2:case"end":return m.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()}])})(ws);const IC=!1,qh=(...a)=>IC,y0=Kt.Socket.canConnect;Kt.Socket.canConnect=function(a,n){return qh(`[Socket Check] ${a.name} <-> ${n.name}`),y0&&y0(a,n)||a.name==="any"||n.name==="any"?!0:a.name===n.name};Kt.Socket.prototype.canConnectTo=function(a){return qh(`[Socket Instance Check] ${this.name} -> ${a.name}`),Kt.Socket.canConnect(this,a)};const O1={boolean:new Kt.Socket("boolean"),number:new Kt.Socket("number"),object:new Kt.Socket("object"),lightInfo:new Kt.Socket("light_info"),any:new Kt.Socket("any")};Object.values(O1).forEach(a=>{a.canConnectTo=function(n){return qh(`[Socket Instance Direct] ${this.name} -> ${n.name}`),this.name===n.name||this.name==="any"||n.name==="any"}});let bo=null;function qc(){if(bo!==null)return bo;const n=window.location.pathname.match(/^(\/api\/hassio_ingress\/[^/]+)/);return n?bo=n[1]:bo="",bo}function Sn(a){const n=qc(),r=a.startsWith("/")?a:"/"+a;return n+r}qc();const bi="t2app-pin",_c="t2app-pin-remember",j1=(a,n)=>{try{return a.getItem(n)}catch{return null}},oc=(a,n,r)=>{try{return a.setItem(n,r),!0}catch{return!1}},Ao=(a,n)=>{try{return a.removeItem(n),!0}catch{return!1}},Dc=()=>j1(localStorage,_c)==="true",ds=()=>{const n=Dc()?localStorage:sessionStorage;return(j1(n,bi)||"").trim()||null},A1=()=>{Ao(sessionStorage,bi),Ao(localStorage,bi),Ao(localStorage,_c),window.dispatchEvent(new CustomEvent("t2-pin-changed",{detail:{hasPin:!1}}))},g0=(a,{remember:n}={})=>{const r=(a||"").toString().trim(),s=typeof n=="boolean"?n:Dc();if(!r){A1(),typeof n=="boolean"&&oc(localStorage,_c,n?"true":"false");return}oc(localStorage,_c,s?"true":"false"),s?(oc(localStorage,bi,r),Ao(sessionStorage,bi)):(oc(sessionStorage,bi,r),Ao(localStorage,bi)),window.dispatchEvent(new CustomEvent("t2-pin-changed",{detail:{hasPin:!0}}))},ls=async(a,n={})=>{const r=typeof a=="string"?Sn(a):a;return fetch(r,n)},cn=async(a,n={})=>{const r=ds(),s=typeof a=="string"?Sn(a):a;if(!r)return fetch(s,n);const l=new Headers(n.headers||(typeof a!="string"?a.headers:void 0)||void 0);return l.set("X-APP-PIN",r),fetch(s,{...n,headers:l})},v0={shelly:{icon:"",color:"#ff9800",label:"Shelly"},wled:{icon:"",color:"#e040fb",label:"WLED"},esphome:{icon:"",color:"#00bcd4",label:"ESPHome"},hue:{icon:"",color:"#ffc107",label:"Philips Hue"},kasa:{icon:"",color:"#4caf50",label:"TP-Link Kasa"},tasmota:{icon:"",color:"#ff5722",label:"Tasmota"},chromecast:{icon:"",color:"#5c6bc0",label:"Chromecast"},homekit:{icon:"",color:"#607d8b",label:"HomeKit"},airplay:{icon:"",color:"#9c27b0",label:"AirPlay"},generic:{icon:"",color:"#78909c",label:"HTTP Device"},http:{icon:"",color:"#78909c",label:"HTTP Device"}};function $C(){const[a,n]=E.useState([]),[r,s]=E.useState(!1),[l,c]=E.useState(null),[d,h]=E.useState(null),[m,y]=E.useState(5e3),[v,b]=E.useState(null),x=E.useCallback(async()=>{s(!0),c(null);try{const Q=await ls("/api/discovery/scan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({timeout:m})});if(!Q.ok){const B=await Q.json();throw new Error(B.error||`Scan failed (${Q.status})`)}const K=await Q.json();n(K.devices||[]),h(new Date)}catch(Q){console.error("[Discovery] Scan error:",Q),c(Q.message)}finally{s(!1)}},[m]),k=Q=>v0[Q]||v0.generic,j=Q=>Q?new Date(Q).toLocaleTimeString():"",q=(Q=>{const K={};for(const B of Q){const Y=B.type||"generic";K[Y]||(K[Y]=[]),K[Y].push(B)}return K})(a);return p.jsxs("div",{className:"discovery-panel",children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[p.jsxs("div",{children:[p.jsx("div",{style:{fontSize:"11px",color:"#8a959e",marginBottom:"4px"},children:"Scan your network for smart home devices"}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx("label",{style:{fontSize:"11px",color:"#8a959e"},children:"Timeout:"}),p.jsxs("select",{value:m,onChange:Q=>y(Number(Q.target.value)),disabled:r,style:{background:"#2a3238",color:"#c5cdd3",border:"1px solid rgba(95, 179, 179, 0.3)",borderRadius:"4px",padding:"4px 8px",fontSize:"11px"},children:[p.jsx("option",{value:3e3,children:"3 seconds"}),p.jsx("option",{value:5e3,children:"5 seconds"}),p.jsx("option",{value:1e4,children:"10 seconds"}),p.jsx("option",{value:15e3,children:"15 seconds"})]})]})]}),p.jsx("button",{onClick:x,disabled:r,style:{padding:"10px 20px",background:r?"rgba(95, 179, 179, 0.2)":"rgba(95, 179, 179, 0.15)",border:"1px solid rgba(95, 179, 179, 0.5)",borderRadius:"6px",color:r?"#8a959e":"#5fb3b3",cursor:r?"not-allowed":"pointer",fontSize:"13px",fontWeight:500,display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s"},children:r?p.jsxs(p.Fragment,{children:[p.jsx("span",{className:"discovery-spinner",children:""}),"Scanning..."]}):p.jsx(p.Fragment,{children:" Scan Network"})})]}),l&&p.jsxs("div",{style:{padding:"10px 14px",background:"rgba(199, 95, 95, 0.15)",border:"1px solid rgba(199, 95, 95, 0.3)",borderRadius:"6px",color:"#c75f5f",fontSize:"12px",marginBottom:"12px"},children:[" ",l]}),d&&p.jsxs("div",{style:{fontSize:"10px",color:"#8a959e",marginBottom:"12px"},children:["Last scan: ",d.toLocaleTimeString(),"  Found ",a.length," device(s)"]}),a.length===0&&!r&&d&&p.jsxs("div",{style:{padding:"30px",textAlign:"center",color:"#8a959e",background:"rgba(0, 0, 0, 0.2)",borderRadius:"8px"},children:[p.jsx("div",{style:{fontSize:"24px",marginBottom:"8px"},children:""}),p.jsx("div",{children:"No devices found on your network."}),p.jsx("div",{style:{fontSize:"11px",marginTop:"8px"},children:"Try increasing the timeout or check if your devices are online."})]}),Object.entries(q).map(([Q,K])=>{const B=k(Q);return p.jsxs("div",{style:{marginBottom:"16px"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",paddingBottom:"6px",borderBottom:"1px solid rgba(95, 179, 179, 0.15)"},children:[p.jsx("span",{style:{fontSize:"16px"},children:B.icon}),p.jsx("span",{style:{color:B.color,fontSize:"13px",fontWeight:500},children:B.label}),p.jsx("span",{style:{color:"#8a959e",fontSize:"11px",background:"rgba(0, 0, 0, 0.2)",padding:"2px 8px",borderRadius:"10px"},children:K.length})]}),p.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:K.map(Y=>p.jsxs("div",{style:{background:v===Y.id?"rgba(95, 179, 179, 0.1)":"rgba(0, 0, 0, 0.15)",border:"1px solid rgba(95, 179, 179, 0.15)",borderRadius:"6px",padding:"10px 14px",cursor:"pointer",transition:"all 0.2s"},onClick:()=>b(v===Y.id?null:Y.id),children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[p.jsxs("div",{children:[p.jsx("div",{style:{color:"#c5cdd3",fontSize:"13px",fontWeight:500},children:Y.name}),p.jsxs("div",{style:{color:"#8a959e",fontSize:"11px",fontFamily:"monospace"},children:[Y.ip,":",Y.port]})]}),p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[Y.configured?p.jsx("span",{style:{background:"rgba(95, 170, 125, 0.2)",color:"#5faa7d",padding:"3px 8px",borderRadius:"4px",fontSize:"10px"},children:"Configured"}):p.jsx("span",{style:{background:"rgba(212, 160, 84, 0.2)",color:"#d4a054",padding:"3px 8px",borderRadius:"4px",fontSize:"10px"},children:"New"}),p.jsx("span",{style:{color:"#8a959e",fontSize:"12px"},children:v===Y.id?"":""})]})]}),v===Y.id&&p.jsxs("div",{style:{marginTop:"12px",paddingTop:"12px",borderTop:"1px solid rgba(95, 179, 179, 0.1)",fontSize:"11px",color:"#8a959e"},children:[p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"100px 1fr",gap:"6px 12px"},children:[p.jsx("span",{children:"Host:"}),p.jsx("span",{style:{color:"#c5cdd3",fontFamily:"monospace"},children:Y.host||"N/A"}),p.jsx("span",{children:"Source:"}),p.jsx("span",{style:{color:"#c5cdd3"},children:Y.source==="mdns"?"mDNS/Bonjour":Y.source==="udp"?"UDP Broadcast":Y.source}),p.jsx("span",{children:"Discovered:"}),p.jsx("span",{style:{color:"#c5cdd3"},children:j(Y.discoveredAt)}),Y.capabilities&&Y.capabilities.length>0&&p.jsxs(p.Fragment,{children:[p.jsx("span",{children:"Capabilities:"}),p.jsx("span",{style:{color:"#5fb3b3"},children:Y.capabilities.join(", ")})]}),Y.model&&p.jsxs(p.Fragment,{children:[p.jsx("span",{children:"Model:"}),p.jsx("span",{style:{color:"#c5cdd3"},children:Y.model})]})]}),p.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"12px"},children:[p.jsx("button",{onClick:fe=>{fe.stopPropagation(),window.open(`http://${Y.ip}:${Y.port}`,"_blank")},style:{padding:"6px 12px",background:"rgba(95, 179, 179, 0.15)",border:"1px solid rgba(95, 179, 179, 0.3)",borderRadius:"4px",color:"#5fb3b3",cursor:"pointer",fontSize:"11px"},children:" Open Web UI"}),p.jsx("button",{onClick:fe=>{fe.stopPropagation(),navigator.clipboard.writeText(Y.ip)},style:{padding:"6px 12px",background:"rgba(95, 179, 179, 0.1)",border:"1px solid rgba(95, 179, 179, 0.2)",borderRadius:"4px",color:"#8a959e",cursor:"pointer",fontSize:"11px"},children:" Copy IP"})]})]})]},Y.id))})]},Q)}),p.jsx("style",{children:`
                .discovery-spinner {
                    display: inline-block;
                    animation: spin 1s linear infinite;
                }
                @keyframes spin {
                    from { transform: rotate(0deg); }
                    to { transform: rotate(360deg); }
                }
            `})]})}const lc={tron:{name:"Tron (Default)",description:"Cyan neon on dark - the classic T2 look",colors:{primary:"#5fb3b3",background:"#1e2428",surface:"#2a3238",surfaceLight:"#343d44",text:"#c5cdd3",textMuted:"#8a959e",success:"#5faa7d",warning:"#d4a054",error:"#c75f5f",borderOpacity:25}},midnight:{name:"Midnight Purple",description:"Deep purple with pink accents",colors:{primary:"#b388ff",background:"#1a1a2e",surface:"#25253a",surfaceLight:"#32324a",text:"#e0d6ff",textMuted:"#9990b8",success:"#69f0ae",warning:"#ffab40",error:"#ff5252",borderOpacity:30}},forest:{name:"Forest",description:"Natural greens with earth tones",colors:{primary:"#81c784",background:"#1b2420",surface:"#263530",surfaceLight:"#324540",text:"#d5e8d4",textMuted:"#8aa888",success:"#4caf50",warning:"#ffb74d",error:"#e57373",borderOpacity:25}},ember:{name:"Ember",description:"Warm orange and red firelight",colors:{primary:"#ff7043",background:"#1f1510",surface:"#2d2018",surfaceLight:"#3d2d22",text:"#ffe0cc",textMuted:"#b08060",success:"#aed581",warning:"#ffc107",error:"#ff5722",borderOpacity:30}},arctic:{name:"Arctic",description:"Cool blues with icy highlights",colors:{primary:"#4fc3f7",background:"#0d1b2a",surface:"#1b2838",surfaceLight:"#283848",text:"#e3f2fd",textMuted:"#78a5c8",success:"#26a69a",warning:"#ffca28",error:"#ef5350",borderOpacity:25}},monochrome:{name:"Monochrome",description:"Clean grayscale - easy on the eyes",colors:{primary:"#90a4ae",background:"#1a1a1a",surface:"#252525",surfaceLight:"#333333",text:"#e0e0e0",textMuted:"#888888",success:"#a5d6a7",warning:"#ffe082",error:"#ef9a9a",borderOpacity:20}}},jf=[{key:"primary",label:"Primary Accent Color",type:"color",default:"#5fb3b3"},{key:"background",label:"Node Background",type:"color",default:"#1e2428"},{key:"surface",label:"Node Surface",type:"color",default:"#2a3238"},{key:"surfaceLight",label:"Elevated Surface",type:"color",default:"#343d44"},{key:"text",label:"Text Color",type:"color",default:"#c5cdd3"},{key:"textMuted",label:"Muted Text",type:"color",default:"#8a959e"},{key:"success",label:"Success Color",type:"color",default:"#5faa7d"},{key:"warning",label:"Warning Color",type:"color",default:"#d4a054"},{key:"error",label:"Error Color",type:"color",default:"#c75f5f"},{key:"borderOpacity",label:"Border Opacity (%)",type:"range",min:0,max:100,default:25}],HC=[{category:"Home Assistant",icon:"",testable:"ha",settings:[{key:"HA_HOST",label:"Home Assistant URL",placeholder:"http://homeassistant.local:8123",type:"text"},{key:"HA_TOKEN",label:"Long-Lived Access Token",placeholder:"eyJ...",type:"password",isSecret:!0}]},{category:"Weather Services",icon:"",testable:"weather",settings:[{key:"OPENWEATHERMAP_API_KEY",label:"OpenWeatherMap API Key",placeholder:"Your API key",type:"password",isSecret:!0}]},{category:"Ambient Weather",icon:"",testable:"ambient",settings:[{key:"AMBIENT_API_KEY",label:"Ambient Weather API Key",placeholder:"Your API key",type:"password",isSecret:!0},{key:"AMBIENT_APPLICATION_KEY",label:"Application Key",placeholder:"Your app key",type:"password",isSecret:!0},{key:"AMBIENT_MAC_ADDRESS",label:"Device MAC Address",placeholder:"XX:XX:XX:XX:XX:XX",type:"text"}]},{category:"Forecast Panel",icon:"",description:"Configure HA sensors to display live weather data on the forecast panel (optional)",settings:[{key:"FORECAST_TEMP_SENSOR",label:"Temperature Sensor",placeholder:"Select sensor...",type:"sensor-select",hint:"HA sensor for current temperature"},{key:"FORECAST_WIND_SENSOR",label:"Wind Speed Sensor",placeholder:"Select sensor...",type:"sensor-select",hint:"HA sensor for wind speed"},{key:"FORECAST_WIND_DIR_SENSOR",label:"Wind Direction Sensor",placeholder:"Select sensor...",type:"sensor-select",hint:"HA sensor for wind direction"},{key:"FORECAST_RAIN_SENSOR",label:"Rain Rate Sensor",placeholder:"Select sensor...",type:"sensor-select",hint:"HA sensor for rain rate"}]},{category:"Philips Hue",icon:"",testable:"hue",settings:[{key:"HUE_BRIDGE_IP",label:"Bridge IP Address",placeholder:"192.168.1.x",type:"text"},{key:"HUE_USERNAME",label:"Bridge Username/Key",placeholder:"Generated key",type:"password",isSecret:!0}]},{category:"Telegram Notifications",icon:"",testable:"telegram",settings:[{key:"TELEGRAM_BOT_TOKEN",label:"Bot Token",placeholder:"123456:ABC-DEF...",type:"password",isSecret:!0},{key:"TELEGRAM_CHAT_ID",label:"Chat ID",placeholder:"123456789",type:"text"}]},{category:"Location",icon:"",description:"Your location for sunrise/sunset calculations and weather",settings:[{key:"LOCATION_CITY",label:"City",placeholder:"Dallas, TX",type:"text"},{key:"LOCATION_LATITUDE",label:"Latitude",placeholder:"32.7767",type:"text"},{key:"LOCATION_LONGITUDE",label:"Longitude",placeholder:"-96.7970",type:"text"},{key:"LOCATION_TIMEZONE",label:"Timezone",placeholder:"America/Chicago",type:"text"}]},{category:"Server Settings",icon:"",settings:[{key:"PORT",label:"Server Port",placeholder:"3000",type:"number"},{key:"LOG_LEVEL",label:"Log Level",placeholder:"info",type:"select",options:["debug","info","warn","error"]}]}],b0=a=>{try{const n=Math.max(0,parseInt(a.slice(1,3),16)-40),r=Math.max(0,parseInt(a.slice(3,5),16)-40),s=Math.max(0,parseInt(a.slice(5,7),16)-40);return`#${n.toString(16).padStart(2,"0")}${r.toString(16).padStart(2,"0")}${s.toString(16).padStart(2,"0")}`}catch{return a}},w0=a=>{try{const n=Math.min(255,parseInt(a.slice(1,3),16)+50),r=Math.min(255,parseInt(a.slice(3,5),16)+50),s=Math.min(255,parseInt(a.slice(5,7),16)+50);return`#${n.toString(16).padStart(2,"0")}${r.toString(16).padStart(2,"0")}${s.toString(16).padStart(2,"0")}`}catch{return a}};function VC({isOpen:a,onClose:n}){const[r,s]=E.useState({}),[l,c]=E.useState(!0),[d,h]=E.useState(!1),[m,y]=E.useState(null),[v,b]=E.useState(null),[x,k]=E.useState({}),[j,Z]=E.useState({}),[q,Q]=E.useState({}),[K,B]=E.useState({}),[Y,fe]=E.useState([]),[be,H]=E.useState(!1),de=E.useRef(!1),re=E.useRef(null),[pe,ze]=E.useState(""),[Oe,Je]=E.useState(()=>Dc()),[it,We]=E.useState(()=>!!ds()),[N,V]=E.useState(!1),[W,ge]=E.useState(()=>{try{const _=localStorage.getItem("t2theme-overrides"),L=_?JSON.parse(_):{},ue={};return jf.forEach(oe=>{ue[oe.key]=oe.default}),{...ue,...L}}catch{const _={};return jf.forEach(L=>{_[L.key]=L.default}),_}}),[U,S]=E.useState(!1),[D,O]=E.useState(()=>{try{return localStorage.getItem("t2theme-preset")||"tron"}catch{return"tron"}}),z={"Home Assistant":{accent:"#4fc3f7",background:"#0a1520",icon:""},Weather:{accent:"#ffb74d",background:"#1a1510",icon:""},Logic:{accent:"#81c784",background:"#0a140a",icon:""},"Timer/Event":{accent:"#ce93d8",background:"#140a14",icon:""},Color:{accent:"#f48fb1",background:"#140a10",icon:""},Utility:{accent:"#90a4ae",background:"#0a0f14",icon:""},Inputs:{accent:"#aed581",background:"#0f140a",icon:""},CC_Control_Nodes:{accent:"#64b5f6",background:"#0a1018",icon:""},Other:{accent:"#b0bec5",background:"#0a0f14",icon:""}},[le,ve]=E.useState(()=>{try{const _=localStorage.getItem("t2category-overrides"),L=_?JSON.parse(_):{},ue={};for(const[oe,_e]of Object.entries(z))ue[oe]={..._e,...L[oe]||{}};return ue}catch{return{...z}}}),[je,Ge]=E.useState(!1),Ue={Boolean:{color:"#10b981",icon:"",description:"True/False values"},Number:{color:"#3b82f6",icon:"",description:"Numeric values"},String:{color:"#f59e0b",icon:"",description:"Text values"},"HSV Info":{color:"#8b5cf6",icon:"",description:"Color HSV data"},"Object/Any":{color:"#06b6d4",icon:"",description:"Generic objects"},"Light Info":{color:"#eab308",icon:"",description:"Light state data"}},tt={Boolean:"boolean",Number:"number",String:"string","HSV Info":"hsv","Object/Any":"object","Light Info":"light"},[gt,_t]=E.useState(()=>{try{const _=localStorage.getItem("t2socket-colors"),L=_?JSON.parse(_):{},ue={};for(const[oe,_e]of Object.entries(Ue))ue[oe]={..._e,...L[oe]||{}};return ue}catch{return{...Ue}}}),[In,un]=E.useState(!1),[dn,$n]=E.useState(!1),[Ke,F]=E.useState(null),[ie,ee]=E.useState(!1),[Ae,xe]=E.useState(!1);E.useEffect(()=>{a?(C(),Z({Security:!0,"Home Assistant":!0}),Q({}),Je(Dc()),We(!!ds()),ze(""),de.current||(de.current=!0,(async()=>{console.log("[SettingsModal] Fetching HA sensors via HTTP..."),H(!0);try{const _=await cn("/api/lights/ha/");if(console.log("[SettingsModal] Response status:",_.status),!_.ok){console.warn("[SettingsModal] Failed to fetch HA devices:",_.status),H(!1);return}const L=await _.json();if(console.log("[SettingsModal] HA devices received:",L?.length),!L||!Array.isArray(L)){console.warn("[SettingsModal] No devices array received"),H(!1);return}const ue=L.filter(oe=>(oe.id||oe.entity_id||"").includes("sensor.")).map(oe=>({id:(oe.id||oe.entity_id||"").replace("ha_",""),name:oe.name||oe.friendly_name||oe.id||oe.entity_id})).sort((oe,_e)=>oe.name.localeCompare(_e.name));console.log("[SettingsModal] Filtered sensors:",ue.length),fe(ue),H(!1)}catch(_){console.warn("[SettingsModal] Error fetching HA sensors:",_),H(!1)}})())):de.current=!1},[a]);const ce=async()=>{console.log("[SettingsModal] Fetching HA sensors via HTTP..."),H(!0);try{const _=await cn("/api/lights/ha/");if(!_.ok){console.warn("[SettingsModal] Failed to fetch HA devices:",_.status),H(!1);return}const L=await _.json();if(console.log("[SettingsModal] HA devices received:",L?.length),!L||!Array.isArray(L)){console.warn("[SettingsModal] No devices array received"),H(!1);return}const ue=L.filter(oe=>(oe.id||oe.entity_id||"").includes("sensor.")).map(oe=>({id:(oe.id||oe.entity_id||"").replace("ha_",""),name:oe.name||oe.friendly_name||oe.id||oe.entity_id})).sort((oe,_e)=>oe.name.localeCompare(_e.name));console.log("[SettingsModal] Filtered sensors:",ue.length),fe(ue),H(!1)}catch(_){console.warn("[SettingsModal] Error fetching HA sensors:",_),H(!1)}},C=async()=>{c(!0),y(null);try{const _=await cn("/api/settings");if(!_.ok)throw new Error("Failed to fetch settings");const ue=(await _.json()).settings||{};s(ue);try{const oe=await cn("/api/config");if(oe.ok){const _e=await oe.json();if(_e.success){ee(_e.isAddon||!1),xe(!0);const Ot=!ue.LOCATION_CITY,It=!ue.LOCATION_LATITUDE,Ye=!ue.LOCATION_LONGITUDE,Pt=!ue.LOCATION_TIMEZONE;(Ot||It||Ye||Pt)&&(s(xt=>({...xt,...Ot&&_e.locationName?{LOCATION_CITY:_e.locationName}:{},...It&&_e.latitude?{LOCATION_LATITUDE:String(_e.latitude)}:{},...Ye&&_e.longitude?{LOCATION_LONGITUDE:String(_e.longitude)}:{},...Pt&&_e.timezone?{LOCATION_TIMEZONE:_e.timezone}:{}})),console.log("[Settings] Auto-filled location from Home Assistant config"))}}}catch(oe){console.log("[Settings] Could not fetch HA config for location auto-fill:",oe.message)}}catch(_){y("Failed to load settings: "+_.message)}finally{c(!1)}},R=async()=>{h(!0),y(null),b(null);try{const _=await cn("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:r})});if(!_.ok){const L=await _.json();throw new Error(L.error||"Failed to save settings")}b("Settings saved! Some changes may require a server restart."),setTimeout(()=>b(null),5e3)}catch(_){y("Failed to save: "+_.message)}finally{h(!1)}},se=(_,L)=>{s(ue=>({...ue,[_]:L}))},he=async()=>{const _=r.LOCATION_CITY;if(!_||_.trim().length<2){F("Please enter a city name first");return}$n(!0),F(null);try{const L=await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(_)}&format=json&limit=1&addressdetails=1`,{headers:{"User-Agent":"T2AutoTron/2.1 (Home Automation App)"}});if(!L.ok)throw new Error("Geocoding service unavailable");const ue=await L.json();if(ue.length===0){F(`Could not find "${_}". Try adding state/country (e.g., "Dallas, TX, USA")`);return}const oe=ue[0],_e=parseFloat(oe.lat).toFixed(4),Ot=parseFloat(oe.lon).toFixed(4),It=oe.address?[oe.address.city||oe.address.town||oe.address.village||oe.name,oe.address.state,oe.address.country].filter(Boolean).join(", "):oe.display_name.split(",").slice(0,3).join(",");let Ye="UTC";const Pt=oe.address?.state?.toLowerCase()||"",xt=oe.address?.country?.toLowerCase()||"";if(xt.includes("portugal"))Ye="Europe/Lisbon";else if(xt.includes("spain"))Ye="Europe/Madrid";else if(xt.includes("france"))Ye="Europe/Paris";else if(xt.includes("germany"))Ye="Europe/Berlin";else if(xt.includes("italy"))Ye="Europe/Rome";else if(xt.includes("united kingdom")||xt.includes("ireland"))Ye="Europe/London";else if(xt.includes("netherlands"))Ye="Europe/Amsterdam";else if(xt.includes("belgium"))Ye="Europe/Brussels";else if(xt.includes("australia"))Ye="Australia/Sydney";else if(xt.includes("japan"))Ye="Asia/Tokyo";else if(xt.includes("china"))Ye="Asia/Shanghai";else if(xt.includes("india"))Ye="Asia/Kolkata";else if(xt.includes("brazil"))Ye="America/Sao_Paulo";else if(xt.includes("canada"))Pt.includes("british columbia")?Ye="America/Vancouver":Pt.includes("alberta")?Ye="America/Edmonton":Pt.includes("saskatchewan")?Ye="America/Regina":Pt.includes("manitoba")?Ye="America/Winnipeg":Pt.includes("ontario")?Ye="America/Toronto":Pt.includes("quebec")?Ye="America/Montreal":Ye="America/Toronto";else if(xt.includes("united states")||xt.includes("usa"))Pt.includes("hawaii")?Ye="Pacific/Honolulu":Pt.includes("alaska")?Ye="America/Anchorage":["california","nevada","oregon","washington"].some(Ze=>Pt.includes(Ze))?Ye="America/Los_Angeles":["arizona"].some(Ze=>Pt.includes(Ze))?Ye="America/Phoenix":["colorado","montana","wyoming","utah","new mexico","idaho"].some(Ze=>Pt.includes(Ze))?Ye="America/Denver":["texas","oklahoma","kansas","nebraska","south dakota","north dakota","minnesota","iowa","missouri","arkansas","louisiana","wisconsin","illinois","mississippi","alabama","tennessee"].some(Ze=>Pt.includes(Ze))?Ye="America/Chicago":Ye="America/New_York";else{const Ze=parseFloat(Ot);Ze>=-125&&Ze<-115?Ye="America/Los_Angeles":Ze>=-115&&Ze<-102?Ye="America/Denver":Ze>=-102&&Ze<-87?Ye="America/Chicago":Ze>=-87&&Ze<-67?Ye="America/New_York":Ze>=-10&&Ze<3?Ye="Europe/London":Ze>=3&&Ze<15?Ye="Europe/Paris":Ze>=15&&Ze<30&&(Ye="Europe/Berlin")}s(Ze=>({...Ze,LOCATION_CITY:It,LOCATION_LATITUDE:_e,LOCATION_LONGITUDE:Ot,LOCATION_TIMEZONE:Ye})),b(`Found: ${It} (${_e}, ${Ot})`),setTimeout(()=>b(null),5e3)}catch(L){F("Search failed: "+L.message)}finally{$n(!1)}},we=(_,L)=>{ge(ue=>({...ue,[_]:L})),S(!0),O("custom")},Ce=_=>{const L=lc[_];if(!L)return;const ue=document.documentElement;Object.entries(L.colors).forEach(([oe,_e])=>{if(oe==="borderOpacity")ue.style.setProperty("--node-border-opacity",_e/100);else{ue.style.setProperty(`--theme-${oe}`,_e);const Ot=_e;if(Ot.startsWith("#")){const It=parseInt(Ot.slice(1,3),16),Ye=parseInt(Ot.slice(3,5),16),Pt=parseInt(Ot.slice(5,7),16);ue.style.setProperty(`--theme-${oe}-rgb`,`${It}, ${Ye}, ${Pt}`)}}}),window.T2Controls?.THEME&&Object.assign(window.T2Controls.THEME,L.colors),localStorage.setItem("t2theme-preset",_),localStorage.setItem("t2theme-overrides",JSON.stringify(L.colors)),ge(L.colors),O(_),S(!1),b(`Theme "${L.name}" applied!`),setTimeout(()=>b(null),3e3)},$e=()=>{try{localStorage.setItem("t2theme-overrides",JSON.stringify(W)),localStorage.setItem("t2theme-preset","custom"),O("custom"),b("Theme saved! Refresh the page to apply changes."),S(!1),setTimeout(()=>b(null),5e3)}catch(_){y("Failed to save theme: "+_.message)}},Pe=()=>{Ce("tron"),localStorage.removeItem("t2theme-overrides"),localStorage.removeItem("t2theme-preset"),S(!1),setTimeout(()=>b(null),5e3)},bt=(_,L,ue)=>{ve(oe=>({...oe,[_]:{...oe[_],[L]:ue}})),Ge(!0)},Be=_=>{const L=parseInt(_.slice(1,3),16),ue=parseInt(_.slice(3,5),16),oe=parseInt(_.slice(5,7),16);return`${L}, ${ue}, ${oe}`},He={"Home Assistant":"ha",Weather:"weather",Logic:"logic","Timer/Event":"timer",Color:"color",Utility:"utility",Inputs:"inputs",CC_Control_Nodes:"cc",Other:"other"},Le=_=>{const L=document.documentElement;for(const[ue,oe]of Object.entries(_)){const _e=He[ue];_e&&(L.style.setProperty(`--node-${_e}-color`,oe.accent),L.style.setProperty(`--node-${_e}-color-rgb`,Be(oe.accent)),oe.background&&L.style.setProperty(`--node-${_e}-bg`,oe.background))}},st=()=>{try{const _={};for(const[L,ue]of Object.entries(le)){const oe=z[L],_e={};ue.accent!==oe.accent&&(_e.accent=ue.accent),ue.background!==oe.background&&(_e.background=ue.background),Object.keys(_e).length>0&&(_[L]=_e)}Object.keys(_).length>0?localStorage.setItem("t2category-overrides",JSON.stringify(_)):localStorage.removeItem("t2category-overrides"),Le(le),b("Category colors applied!"),Ge(!1),setTimeout(()=>b(null),3e3)}catch(_){y("Failed to save category colors: "+_.message)}},vt=()=>{ve({...z}),localStorage.removeItem("t2category-overrides"),Le(z),b("Category colors reset to defaults!"),Ge(!1),setTimeout(()=>b(null),3e3)},$t=(_,L)=>{_t(ue=>({...ue,[_]:{...ue[_],color:L}})),un(!0)},nn=(_,L=20)=>{const ue=parseInt(_.slice(1),16),oe=Math.max(0,(ue>>16)-Math.round(255*L/100)),_e=Math.max(0,(ue>>8&255)-Math.round(255*L/100)),Ot=Math.max(0,(ue&255)-Math.round(255*L/100));return`#${(1<<24|oe<<16|_e<<8|Ot).toString(16).slice(1)}`},ot=(_,L=20)=>{const ue=parseInt(_.slice(1),16),oe=Math.min(255,(ue>>16)+Math.round(255*L/100)),_e=Math.min(255,(ue>>8&255)+Math.round(255*L/100)),Ot=Math.min(255,(ue&255)+Math.round(255*L/100));return`#${(1<<24|oe<<16|_e<<8|Ot).toString(16).slice(1)}`},Dt=_=>{const L=document.documentElement;for(const[ue,oe]of Object.entries(_)){const _e=tt[ue];_e&&(L.style.setProperty(`--socket-${_e}-color`,oe.color),L.style.setProperty(`--socket-${_e}-dark`,nn(oe.color,15)),L.style.setProperty(`--socket-${_e}-border`,ot(oe.color,20)),L.style.setProperty(`--socket-${_e}-rgb`,Be(oe.color)))}},an=()=>{try{const _={};for(const[L,ue]of Object.entries(gt)){const oe=Ue[L];ue.color!==oe.color&&(_[L]={color:ue.color})}Object.keys(_).length>0?localStorage.setItem("t2socket-colors",JSON.stringify(_)):localStorage.removeItem("t2socket-colors"),Dt(gt),b("Socket colors applied!"),un(!1),setTimeout(()=>b(null),3e3)}catch(_){y("Failed to save socket colors: "+_.message)}},rn=()=>{_t({...Ue}),localStorage.removeItem("t2socket-colors"),Dt(Ue),b("Socket colors reset to defaults!"),un(!1),setTimeout(()=>b(null),3e3)},Ct=_=>{Z(L=>({...L,[_]:!L[_]})),_==="Forecast Panel"&&!j[_]&&Y.length===0&&ce()},Qt=_=>{k(L=>({...L,[_]:!L[_]}))},Fa=async _=>{B(L=>({...L,[_]:!0})),Q(L=>({...L,[_]:null}));try{const ue=await(await cn("/api/settings/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({service:_,settings:r})})).json();Q(oe=>({...oe,[_]:{success:ue.success,message:ue.message||(ue.success?"Connection successful!":"Connection failed"),details:ue.details}}))}catch(L){Q(ue=>({...ue,[_]:{success:!1,message:"Test failed: "+L.message}}))}finally{B(L=>({...L,[_]:!1}))}},Pa=()=>{const _={version:"1.0",timestamp:new Date().toISOString(),settings:r},L=new Blob([JSON.stringify(_,null,2)],{type:"application/json"}),ue=URL.createObjectURL(L),oe=document.createElement("a");oe.href=ue,oe.download=`t2autotron-settings-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(oe),oe.click(),document.body.removeChild(oe),URL.revokeObjectURL(ue),b("Settings exported successfully!"),setTimeout(()=>b(null),3e3)},sa=_=>{const L=_.target.files?.[0];if(!L)return;const ue=new FileReader;ue.onload=oe=>{try{const _e=JSON.parse(oe.target.result);if(!_e.settings||typeof _e.settings!="object")throw new Error("Invalid backup file format");s(Ot=>({...Ot,..._e.settings})),b(`Imported ${Object.keys(_e.settings).length} settings from backup. Click Save to apply.`),setTimeout(()=>b(null),5e3)}catch(_e){y("Failed to import backup: "+_e.message)}},ue.readAsText(L),_.target.value=""};return a?Nh.createPortal(p.jsx("div",{className:"settings-modal-overlay",onClick:n,children:p.jsxs("div",{className:"settings-modal",onClick:_=>_.stopPropagation(),children:[p.jsxs("div",{className:"settings-header",children:[p.jsx("h2",{children:" Settings & API Keys"}),p.jsx("button",{className:"settings-close-btn",onClick:n,children:""})]}),p.jsx("div",{className:"settings-content",children:l?p.jsx("div",{className:"settings-loading",children:"Loading settings..."}):p.jsxs(p.Fragment,{children:[m&&p.jsx("div",{className:"settings-error",children:m}),v&&p.jsx("div",{className:"settings-success",children:v}),p.jsx("div",{className:"settings-warning",children:" These settings are stored on the server (managed by this app). Keep the server secure."}),p.jsxs("div",{className:"settings-category",children:[p.jsxs("div",{className:"settings-category-header",onClick:()=>Ct("Security"),style:{background:"linear-gradient(135deg, rgba(0, 243, 255, 0.12), rgba(0, 150, 200, 0.08))"},children:[p.jsxs("span",{children:[j.Security?"":""," Security (This Device)"]}),it&&p.jsxs("span",{style:{fontSize:"10px",color:Oe?"#00c896":"#ffaa00"},children:[" ",Oe?"REMEMBERED":"SESSION"]})]}),j.Security&&p.jsxs("div",{className:"settings-category-content",children:[p.jsx("div",{className:"settings-info",style:{fontSize:"11px",color:"#8a959e",marginBottom:"10px",padding:"8px",background:"rgba(0, 243, 255, 0.06)",borderRadius:"4px"},children:"Used to authorize protected actions (Settings tests, Updates) when accessing the server from another device."}),p.jsxs("div",{className:"settings-field",children:[p.jsxs("label",{className:"settings-label",children:["App PIN",p.jsx("button",{className:"settings-show-btn",onClick:()=>V(_=>!_),type:"button",children:N?" Hide":" Show"})]}),p.jsx("input",{type:N?"text":"password",className:"settings-input",value:pe,onChange:_=>ze(_.target.value),placeholder:it?"Enter new PIN (leave blank to keep current)":"Enter PIN",autoComplete:"off"}),p.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"10px",alignItems:"center"},children:[p.jsxs("label",{style:{display:"flex",gap:"8px",alignItems:"center",fontSize:"12px",color:"#88ddff"},children:[p.jsx("input",{type:"checkbox",checked:Oe,onChange:_=>{const L=_.target.checked;Je(L);const ue=ds();ue&&g0(ue,{remember:L})}}),"Remember PIN on this device"]}),p.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:"10px"},children:[p.jsx("button",{className:"settings-btn-small",type:"button",onClick:()=>{const _=pe.trim();_&&(g0(_,{remember:Oe}),We(!0),ze(""),(async()=>{try{const L=await cn("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:{APP_PIN:_}})});if(!L.ok){const ue=await L.text();throw new Error(ue||`HTTP ${L.status}`)}b("PIN saved (server + this device)."),setTimeout(()=>b(null),3e3)}catch{b("PIN saved on this device. Server PIN update failed."),setTimeout(()=>b(null),4e3)}finally{C()}})())},style:{background:"rgba(0, 200, 150, 0.1)",borderColor:"rgba(0, 200, 150, 0.4)",color:"#00c896"},disabled:!pe.trim(),children:" Save PIN"}),p.jsx("button",{className:"settings-btn-small",type:"button",onClick:()=>{A1(),We(!1),ze(""),Je(!1),b("PIN cleared."),setTimeout(()=>b(null),3e3)},style:{background:"rgba(199, 95, 95, 0.12)",borderColor:"rgba(199, 95, 95, 0.45)",color:"#c75f5f"},disabled:!it,children:"Clear"})]})]}),p.jsx("div",{style:{marginTop:"8px",fontSize:"11px",color:"#666"},children:it?`PIN is saved (${Oe?"remembered":"this session"}).`:"No PIN saved."})]})]})]}),p.jsxs("div",{className:"settings-backup-section",children:[p.jsx("span",{className:"settings-backup-label",children:" Backup & Restore"}),p.jsxs("div",{className:"settings-backup-buttons",children:[p.jsx("button",{className:"settings-btn-small settings-btn-export",onClick:Pa,children:" Export Backup"}),p.jsx("button",{className:"settings-btn-small settings-btn-import",onClick:()=>re.current?.click(),children:" Import Backup"}),p.jsx("input",{ref:re,type:"file",accept:".json",style:{display:"none"},onChange:sa})]})]}),p.jsxs("div",{className:"settings-category",children:[p.jsxs("div",{className:"settings-category-header",onClick:()=>Ct("Performance"),style:{background:"linear-gradient(135deg, rgba(255, 170, 0, 0.15), rgba(255, 100, 50, 0.1))"},children:[p.jsxs("span",{children:[j.Performance?"":""," Performance Mode"]}),window.getPerformanceMode?.()&&p.jsx("span",{style:{fontSize:"10px",color:"#10b981"},children:" ACTIVE"})]}),j.Performance&&p.jsxs("div",{className:"settings-category-content",children:[p.jsxs("div",{className:"settings-info",style:{fontSize:"11px",color:"#ffaa00",marginBottom:"12px",padding:"10px",background:"rgba(255, 170, 0, 0.1)",borderRadius:"4px",border:"1px solid rgba(255, 170, 0, 0.2)"},children:[" ",p.jsx("strong",{children:"Enable this if you experience lag or high GPU usage with many nodes."}),p.jsx("br",{}),p.jsx("br",{}),"Performance Mode disables:",p.jsxs("ul",{style:{margin:"8px 0 0 0",paddingLeft:"20px"},children:[p.jsx("li",{children:"Backdrop blur effects on nodes (biggest impact)"}),p.jsx("li",{children:"Complex glow shadows"}),p.jsx("li",{children:"Infinite pulse/glow animations"}),p.jsx("li",{children:"Transition effects on nodes"})]})]}),p.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px",background:"rgba(0, 0, 0, 0.3)",borderRadius:"6px"},children:[p.jsxs("div",{children:[p.jsx("div",{style:{color:"#e0e0e0",fontSize:"13px",fontWeight:"500"},children:"Performance Mode"}),p.jsx("div",{style:{color:"#888",fontSize:"11px",marginTop:"2px"},children:"Recommended for 40+ nodes"})]}),p.jsxs("label",{style:{position:"relative",display:"inline-block",width:"50px",height:"26px"},children:[p.jsx("input",{type:"checkbox",checked:window.getPerformanceMode?.()||!1,onChange:_=>{window.setPerformanceMode?.(_.target.checked),Z(L=>({...L}))},style:{opacity:0,width:0,height:0}}),p.jsx("span",{style:{position:"absolute",cursor:"pointer",top:0,left:0,right:0,bottom:0,background:window.getPerformanceMode?.()?"#10b981":"#444",transition:"background 0.2s",borderRadius:"26px"},children:p.jsx("span",{style:{position:"absolute",content:"",height:"20px",width:"20px",left:window.getPerformanceMode?.()?"26px":"3px",bottom:"3px",background:"#fff",transition:"left 0.2s",borderRadius:"50%"}})})]})]}),p.jsx("div",{style:{marginTop:"12px",fontSize:"10px",color:"#666",textAlign:"center"},children:"Changes apply immediately. Look for  indicator in bottom-left when active."})]})]}),p.jsxs("div",{className:"settings-category",children:[p.jsx("div",{className:"settings-category-header",onClick:()=>Ct("Discovery"),children:p.jsxs("span",{children:[j.Discovery?"":""," Network Device Discovery"]})}),j.Discovery&&p.jsx("div",{className:"settings-category-content",children:p.jsx($C,{})})]}),p.jsxs("div",{className:"settings-category",children:[p.jsxs("div",{className:"settings-category-header",onClick:()=>Ct("Theme"),children:[p.jsxs("span",{children:[j.Theme?"":""," Node Theme Settings"]}),U&&p.jsx("span",{style:{fontSize:"10px",color:"#d4a054"},children:" unsaved"})]}),j.Theme&&p.jsxs("div",{className:"settings-category-content",children:[p.jsxs("div",{style:{marginBottom:"16px",padding:"12px",background:"rgba(95, 179, 179, 0.08)",borderRadius:"8px",border:"1px solid rgba(95, 179, 179, 0.2)"},children:[p.jsx("label",{className:"settings-label",style:{fontSize:"12px",marginBottom:"8px",display:"block"},children:" Theme Presets"}),p.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:Object.entries(lc).map(([_,L])=>p.jsxs("button",{onClick:()=>Ce(_),style:{padding:"8px 14px",borderRadius:"6px",border:D===_?`2px solid ${L.colors.primary}`:"1px solid rgba(255,255,255,0.2)",background:D===_?`linear-gradient(135deg, ${L.colors.surface}, ${L.colors.background})`:L.colors.surface,color:L.colors.text,cursor:"pointer",transition:"all 0.2s",fontSize:"11px",fontWeight:D===_?"600":"400",boxShadow:D===_?`0 0 12px ${L.colors.primary}40`:"none"},title:L.description,children:[p.jsx("span",{style:{display:"inline-block",width:"10px",height:"10px",borderRadius:"50%",background:L.colors.primary,marginRight:"6px",boxShadow:`0 0 6px ${L.colors.primary}`}}),L.name]},_))}),p.jsx("div",{style:{marginTop:"8px",fontSize:"10px",color:"#8a959e",fontStyle:"italic"},children:D!=="custom"&&lc[D]?lc[D].description:"Custom theme - you've modified individual colors"})]}),p.jsx("div",{className:"settings-info",style:{fontSize:"11px",color:"#8a959e",marginBottom:"12px",padding:"8px",background:"rgba(95, 179, 179, 0.1)",borderRadius:"4px"},children:" Click a preset to apply instantly, or customize individual colors below."}),p.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:jf.map(_=>p.jsxs("div",{className:"settings-field",style:{marginBottom:"8px"},children:[p.jsx("label",{className:"settings-label",style:{fontSize:"10px"},children:_.label}),_.type==="color"?p.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[p.jsx("input",{type:"color",value:W[_.key]||_.default,onChange:L=>we(_.key,L.target.value),style:{width:"40px",height:"30px",border:"none",borderRadius:"4px",cursor:"pointer",background:"transparent"}}),p.jsx("input",{type:"text",value:W[_.key]||_.default,onChange:L=>we(_.key,L.target.value),className:"settings-input",style:{flex:1,fontFamily:"monospace",fontSize:"11px"}})]}):_.type==="range"?p.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[p.jsx("input",{type:"range",min:_.min,max:_.max,value:W[_.key]||_.default,onChange:L=>we(_.key,parseInt(L.target.value)),style:{flex:1}}),p.jsxs("span",{style:{minWidth:"35px",textAlign:"right",color:"#c5cdd3",fontSize:"12px"},children:[W[_.key]||_.default,"%"]})]}):null]},_.key))}),p.jsxs("div",{style:{marginTop:"12px",padding:"12px",background:W.background,borderRadius:"8px",border:`1px solid rgba(95, 179, 179, ${(W.borderOpacity||25)/100})`},children:[p.jsx("div",{style:{fontSize:"10px",color:W.textMuted,marginBottom:"8px"},children:"PREVIEW"}),p.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",alignItems:"center"},children:[p.jsx("div",{style:{padding:"8px 12px",background:W.surface,color:W.text,borderRadius:"4px",fontSize:"12px"},children:"Surface"}),p.jsx("div",{style:{padding:"8px 12px",background:W.surfaceLight,color:W.text,borderRadius:"4px",fontSize:"12px"},children:"Elevated"}),p.jsx("span",{style:{color:W.primary},children:"Primary"}),p.jsx("span",{style:{color:W.success},children:"Success"}),p.jsx("span",{style:{color:W.warning},children:"Warning"}),p.jsx("span",{style:{color:W.error},children:"Error"})]})]}),p.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"12px",justifyContent:"flex-end"},children:[p.jsx("button",{className:"settings-btn-small",onClick:Pe,style:{background:"rgba(199, 95, 95, 0.15)",borderColor:"rgba(199, 95, 95, 0.5)",color:"#c75f5f"},children:"Reset to Defaults"}),p.jsx("button",{className:"settings-btn-small",onClick:$e,style:{background:"rgba(95, 170, 125, 0.15)",borderColor:"rgba(95, 170, 125, 0.5)",color:"#5faa7d"},children:" Save Theme"})]})]})]}),p.jsxs("div",{className:"settings-category",children:[p.jsxs("div",{className:"settings-category-header",onClick:()=>Ct("CategoryColors"),children:[p.jsxs("span",{children:[j.CategoryColors?"":""," Category Accent Colors"]}),je&&p.jsx("span",{style:{fontSize:"10px",color:"#d4a054"},children:" unsaved"})]}),j.CategoryColors&&p.jsxs("div",{className:"settings-category-content",children:[p.jsx("div",{className:"settings-info",style:{fontSize:"11px",color:"#8a959e",marginBottom:"12px",padding:"8px",background:"rgba(95, 179, 179, 0.1)",borderRadius:"4px"},children:" Set accent (border/header) and background colors for each node category."}),p.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:Object.entries(le).map(([_,L])=>p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 8px",background:L.background||"#0a0f14",borderRadius:"4px",border:`1px solid ${L.accent}55`},children:[p.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"2px"},children:[p.jsx("input",{type:"color",value:L.accent,onChange:ue=>bt(_,"accent",ue.target.value),title:"Accent color (borders, headers)",style:{width:"24px",height:"24px",border:"none",borderRadius:"4px",cursor:"pointer",background:"transparent"}}),p.jsx("span",{style:{fontSize:"8px",color:"#666"},children:"Accent"})]}),p.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"2px"},children:[p.jsx("input",{type:"color",value:L.background||"#0a0f14",onChange:ue=>bt(_,"background",ue.target.value),title:"Background color",style:{width:"24px",height:"24px",border:"1px solid #333",borderRadius:"4px",cursor:"pointer",background:"transparent"}}),p.jsx("span",{style:{fontSize:"8px",color:"#666"},children:"BG"})]}),p.jsx("div",{style:{flex:1,minWidth:0},children:p.jsxs("div",{style:{fontSize:"11px",color:L.accent,fontWeight:"600",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[L.icon," ",_]})})]},_))}),p.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"12px",justifyContent:"flex-end"},children:[p.jsx("button",{className:"settings-btn-small",onClick:vt,style:{background:"rgba(199, 95, 95, 0.15)",borderColor:"rgba(199, 95, 95, 0.5)",color:"#c75f5f"},children:"Reset to Defaults"}),p.jsx("button",{className:"settings-btn-small",onClick:st,style:{background:"rgba(95, 170, 125, 0.15)",borderColor:"rgba(95, 170, 125, 0.5)",color:"#5faa7d"},children:" Save Category Colors"})]})]})]}),p.jsxs("div",{className:"settings-category",children:[p.jsxs("div",{className:"settings-category-header",onClick:()=>Ct("SocketColors"),children:[p.jsxs("span",{children:[j.SocketColors?"":""," Socket Colors"]}),In&&p.jsx("span",{style:{fontSize:"10px",color:"#d4a054"},children:" unsaved"})]}),j.SocketColors&&p.jsxs("div",{className:"settings-category-content",children:[p.jsx("div",{className:"settings-info",style:{fontSize:"11px",color:"#8a959e",marginBottom:"12px",padding:"8px",background:"rgba(95, 130, 179, 0.1)",borderRadius:"4px"},children:" Customize socket connector colors by data type. These appear on all nodes."}),p.jsxs("div",{style:{background:"linear-gradient(145deg, #1e2428, #2a3238)",border:"1px solid rgba(95, 179, 179, 0.3)",borderRadius:"8px",padding:"12px",marginBottom:"16px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.4)"},children:[p.jsxs("div",{style:{fontSize:"11px",color:"#5fb3b3",marginBottom:"10px",fontWeight:"600",display:"flex",alignItems:"center",gap:"6px"},children:[p.jsx("span",{children:""})," Preview Node"]}),p.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[p.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:Object.entries(gt).slice(0,3).map(([_,L])=>p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",background:`linear-gradient(145deg, ${L.color}, ${b0(L.color)})`,border:`2px solid ${w0(L.color)}`,boxShadow:`0 0 8px ${L.color}80`}}),p.jsx("span",{style:{fontSize:"10px",color:"#8a959e"},children:_})]},_))}),p.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",alignItems:"flex-end"},children:Object.entries(gt).slice(3).map(([_,L])=>p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[p.jsx("span",{style:{fontSize:"10px",color:"#8a959e"},children:_}),p.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",background:`linear-gradient(145deg, ${L.color}, ${b0(L.color)})`,border:`2px solid ${w0(L.color)}`,boxShadow:`0 0 8px ${L.color}80`}})]},_))})]})]}),p.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:Object.entries(gt).map(([_,L])=>p.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 10px",background:"#0a0f14",borderRadius:"4px",border:`1px solid ${L.color}55`},children:[p.jsx("input",{type:"color",value:L.color,onChange:ue=>$t(_,ue.target.value),title:`${_} socket color`,style:{width:"28px",height:"28px",border:"none",borderRadius:"50%",cursor:"pointer",background:"transparent"}}),p.jsxs("div",{style:{flex:1,minWidth:0},children:[p.jsxs("div",{style:{fontSize:"12px",color:L.color,fontWeight:"600"},children:[L.icon," ",_]}),p.jsx("div",{style:{fontSize:"9px",color:"#666",marginTop:"2px"},children:L.description})]})]},_))}),p.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"12px",justifyContent:"flex-end"},children:[p.jsx("button",{className:"settings-btn-small",onClick:rn,style:{background:"rgba(199, 95, 95, 0.15)",borderColor:"rgba(199, 95, 95, 0.5)",color:"#c75f5f"},children:"Reset to Defaults"}),p.jsx("button",{className:"settings-btn-small",onClick:an,style:{background:"rgba(95, 170, 125, 0.15)",borderColor:"rgba(95, 170, 125, 0.5)",color:"#5faa7d"},children:" Save Socket Colors"})]})]})]}),HC.map(_=>p.jsxs("div",{className:"settings-category",children:[p.jsxs("div",{className:"settings-category-header",onClick:()=>Ct(_.category),children:[p.jsxs("span",{children:[j[_.category]?"":"",_.icon," ",_.category]}),_.testable&&j[_.category]&&p.jsx("button",{className:`settings-test-btn ${q[_.testable]?.success?"success":q[_.testable]?.success===!1?"error":""}`,onClick:L=>{L.stopPropagation(),Fa(_.testable)},disabled:K[_.testable],children:K[_.testable]?" Testing...":" Test Connection"})]}),j[_.category]&&p.jsxs("div",{className:"settings-category-content",children:[q[_.testable]&&p.jsxs("div",{className:`settings-test-result ${q[_.testable].success?"success":"error"}`,children:[q[_.testable].success?"":""," ",q[_.testable].message,q[_.testable].details&&p.jsx("div",{className:"settings-test-details",children:q[_.testable].details})]}),_.category==="Location"&&p.jsxs("div",{className:"settings-location-search",children:[Ae&&ie&&p.jsx("div",{style:{background:"rgba(76, 175, 80, 0.15)",border:"1px solid rgba(76, 175, 80, 0.4)",borderRadius:"6px",padding:"8px 12px",marginBottom:"12px",fontSize:"0.85rem",color:"#81c784"},children:" Location auto-filled from Home Assistant configuration"}),p.jsx("p",{style:{fontSize:"0.85rem",color:"#aaa",margin:"0 0 10px 0"},children:' Enter your city name and click "Search" to auto-fill coordinates.'}),p.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"10px"},children:[p.jsx("input",{type:"text",className:"settings-input",value:r.LOCATION_CITY||"",onChange:L=>se("LOCATION_CITY",L.target.value),placeholder:"e.g., Dallas, TX, USA",style:{flex:1},onKeyDown:L=>{L.key==="Enter"&&he()}}),p.jsx("button",{className:"settings-test-btn",onClick:he,disabled:dn,style:{whiteSpace:"nowrap"},children:dn?" Searching...":" Search City"})]}),Ke&&p.jsxs("div",{className:"settings-test-result error",style:{marginBottom:"10px"},children:[" ",Ke]}),p.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[p.jsxs("div",{className:"settings-field",children:[p.jsx("label",{className:"settings-label",children:"Latitude"}),p.jsx("input",{type:"text",className:"settings-input",value:r.LOCATION_LATITUDE||"",onChange:L=>se("LOCATION_LATITUDE",L.target.value),placeholder:"32.7767"})]}),p.jsxs("div",{className:"settings-field",children:[p.jsx("label",{className:"settings-label",children:"Longitude"}),p.jsx("input",{type:"text",className:"settings-input",value:r.LOCATION_LONGITUDE||"",onChange:L=>se("LOCATION_LONGITUDE",L.target.value),placeholder:"-96.7970"})]})]}),p.jsxs("div",{className:"settings-field",style:{marginTop:"10px"},children:[p.jsx("label",{className:"settings-label",children:"Timezone"}),p.jsx("input",{type:"text",className:"settings-input",value:r.LOCATION_TIMEZONE||"",onChange:L=>se("LOCATION_TIMEZONE",L.target.value),placeholder:"America/Chicago"}),p.jsx("span",{className:"settings-key-hint",children:"Common: America/New_York, America/Chicago, America/Denver, America/Los_Angeles"})]})]}),_.category!=="Location"&&_.settings.map(L=>p.jsxs("div",{className:"settings-field",children:[p.jsxs("label",{className:"settings-label",children:[L.label,L.isSecret&&p.jsx("button",{className:"settings-show-btn",onClick:()=>Qt(L.key),type:"button",children:x[L.key]?" Hide":" Show"})]}),L.type==="select"?p.jsxs("select",{className:"settings-input",value:r[L.key]||"",onChange:ue=>se(L.key,ue.target.value),children:[p.jsx("option",{value:"",children:"Select..."}),L.options.map(ue=>p.jsx("option",{value:ue,children:ue},ue))]}):L.type==="sensor-select"?p.jsxs("select",{className:"settings-input",value:r[L.key]||"",onChange:ue=>se(L.key,ue.target.value),disabled:be,children:[p.jsx("option",{value:"",children:be?"Loading sensors...":"None (disabled)"}),Y.map(ue=>p.jsx("option",{value:ue.id,children:ue.name},ue.id))]}):p.jsx("input",{type:L.isSecret&&!x[L.key]?"password":"text",className:"settings-input",value:r[L.key]||"",onChange:ue=>se(L.key,ue.target.value),placeholder:L.placeholder}),p.jsx("span",{className:"settings-key-hint",children:L.key})]},L.key))]})]},_.category))]})}),p.jsxs("div",{className:"settings-footer",children:[p.jsx("button",{className:"settings-btn settings-btn-secondary",onClick:n,children:"Cancel"}),p.jsx("button",{className:"settings-btn settings-btn-primary",onClick:R,disabled:d||l,children:d?"Saving...":" Save Settings"})]})]})}),document.body):null}const qC=[{category:"Selection & Editing",items:[{keys:["Delete","Backspace"],action:"Delete selected nodes"},{keys:["Ctrl","C"],action:"Copy selected nodes"},{keys:["Ctrl","V"],action:"Paste nodes at cursor"},{keys:["Ctrl","Z"],action:"Undo last delete"},{keys:["Ctrl","A"],action:"Select all nodes"},{keys:["Shift","Click"],action:"Add to selection"},{keys:["Drag"],action:"Lasso select multiple nodes"}]},{category:"Navigation",items:[{keys:["Scroll"],action:"Zoom in/out"},{keys:["Middle-click","Drag"],action:"Pan canvas"},{keys:["Home"],action:"Reset viewport to origin"},{keys:["F5"],action:"Reset editor view (fix frozen pan)"},{keys:["Escape"],action:"Cancel/reset drag state"}]},{category:"Node Operations",items:[{keys:["Right-click"],action:"Open context menu"},{keys:["Right-click node"],action:"Node context menu"},{keys:["Double-click"],action:"Edit node properties (where available)"}]},{category:"Graph Management",items:[{keys:["?"],action:"Show this help dialog"}]}];function GC({isOpen:a,onClose:n}){if(E.useEffect(()=>{if(!a)return;const s=l=>{l.key==="Escape"&&n()};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[a,n]),!a)return null;const r=s=>{s.target===s.currentTarget&&n()};return Nh.createPortal(p.jsx("div",{className:"shortcuts-modal-overlay",onClick:r,children:p.jsxs("div",{className:"shortcuts-modal",children:[p.jsxs("div",{className:"shortcuts-modal-header",children:[p.jsx("h2",{children:" Keyboard Shortcuts"}),p.jsx("button",{className:"shortcuts-close-btn",onClick:n,children:" Close"})]}),p.jsx("div",{className:"shortcuts-modal-body",children:qC.map((s,l)=>p.jsxs("div",{className:"shortcuts-section",children:[p.jsx("h3",{children:s.category}),p.jsx("div",{className:"shortcuts-list",children:s.items.map((c,d)=>p.jsxs("div",{className:"shortcut-row",children:[p.jsx("div",{className:"shortcut-keys",children:c.keys.map((h,m)=>p.jsxs(Da.Fragment,{children:[p.jsx("kbd",{children:h}),m<c.keys.length-1&&p.jsx("span",{className:"key-separator",children:"+"})]},m))}),p.jsx("div",{className:"shortcut-action",children:c.action})]},d))})]},l))}),p.jsx("div",{className:"shortcuts-modal-footer",children:p.jsxs("p",{children:["Press ",p.jsx("kbd",{children:"?"})," anytime to show this dialog"]})})]})}),document.body)}function YC({isExpanded:a,onToggle:n}){const[r,s]=E.useState([]),[l,c]=E.useState([]),[d,h]=E.useState(!0),[m,y]=E.useState(!1),[v,b]=E.useState(null),[x,k]=E.useState(!1),[j,Z]=E.useState(null),[q,Q]=E.useState(null),[K,B]=E.useState({username:"",password:"",name:""}),[Y,fe]=E.useState({username:"",password:""}),[be,H]=E.useState(""),[de,re]=E.useState(5e3),[pe,ze]=E.useState(null),Oe=E.useRef(null),[Je,it]=E.useState({});E.useEffect(()=>(We(),()=>{Oe.current&&clearInterval(Oe.current)}),[]),E.useEffect(()=>(Oe.current&&clearInterval(Oe.current),a&&r.length>0&&de>0&&(Oe.current=setInterval(()=>{it(O=>{const z={...O};return r.forEach(le=>{z[le.ip]=Date.now()}),z})},de)),()=>{Oe.current&&clearInterval(Oe.current)}),[a,r,de]);const We=async()=>{try{h(!0);const O=await ls("/api/cameras");if(O.ok){const z=await O.json();s(z.cameras||[]),z.defaultCredentials&&fe(le=>({...le,username:z.defaultCredentials.username||""}))}}catch{b("Failed to load cameras")}finally{h(!1)}},N=async()=>{y(!0),b(null);try{const O=await ls("/api/cameras/discover",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});if(O.ok){const z=await O.json();if(z.found&&z.found.length>0){const le=r.map(je=>je.ip),ve=z.found.filter(je=>!le.includes(je.ip));c(ve),window.T2Toast&&(ve.length>0?window.T2Toast.success(`Found ${ve.length} new camera(s)! Click to configure.`):window.T2Toast.info(`Found ${z.found.length} cameras, all already configured.`))}else c([]),window.T2Toast&&window.T2Toast.info("No cameras found on network")}}catch{b("Discovery failed")}finally{y(!1)}},V=async()=>{try{await ls("/api/cameras/credentials",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Y)}),window.T2Toast&&window.T2Toast.success("Credentials saved")}catch{b("Failed to save credentials")}},W=async(O,z,le)=>{try{await ls("/api/cameras",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ip:O,name:z||`Camera ${O.split(".").pop()}`,username:le?.username||Y.username,password:le?.password||Y.password})}),c(ve=>ve.filter(je=>je.ip!==O)),Z(null),H(""),await We(),window.T2Toast&&window.T2Toast.success(`Camera ${O} added!`)}catch{b("Failed to add camera")}},ge=async O=>{try{await fetch(`/api/cameras/${O}`,{method:"DELETE"}),await We(),pe===O&&ze(null)}catch{b("Failed to remove camera")}},U=async()=>{if(q)try{await ls("/api/cameras",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ip:q,name:K.name,username:K.username,password:K.password})}),Q(null),it(O=>({...O,[q]:Date.now()})),await We(),window.T2Toast&&window.T2Toast.success(`Camera ${q} updated!`)}catch{b("Failed to update camera")}},S={container:{background:"linear-gradient(180deg, rgba(12, 20, 35, 0.95) 0%, rgba(8, 15, 28, 0.98) 100%)",borderRadius:"12px",border:"1px solid rgba(0, 200, 255, 0.2)",overflow:"hidden",marginBottom:"8px"},header:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 14px",background:"linear-gradient(90deg, rgba(0, 150, 200, 0.15), transparent)",borderBottom:"1px solid rgba(0, 200, 255, 0.1)",cursor:"pointer"},title:{display:"flex",alignItems:"center",gap:"8px",color:"#00d4ff",fontSize:"14px",fontWeight:600},icon:{fontSize:"16px"},badge:{background:"rgba(0, 200, 255, 0.2)",color:"#00d4ff",padding:"2px 8px",borderRadius:"10px",fontSize:"11px"},content:{padding:a?"12px":"0",maxHeight:a?"400px":"0",overflow:"auto",transition:"all 0.3s ease"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"10px"},cameraCard:{background:"rgba(0, 0, 0, 0.3)",borderRadius:"8px",overflow:"hidden",border:"1px solid rgba(0, 200, 255, 0.15)",cursor:"pointer",transition:"all 0.2s ease"},cameraCardSelected:{border:"2px solid #00d4ff",boxShadow:"0 0 10px rgba(0, 200, 255, 0.3)"},cameraImage:{width:"100%",height:"100px",objectFit:"cover",background:"#111"},cameraInfo:{padding:"6px 8px",display:"flex",justifyContent:"space-between",alignItems:"center"},cameraName:{color:"#b8e6ea",fontSize:"11px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},deleteBtn:{background:"rgba(255, 80, 80, 0.2)",border:"none",color:"#ff6b6b",padding:"2px 6px",borderRadius:"4px",cursor:"pointer",fontSize:"10px"},toolbar:{display:"flex",gap:"8px",marginBottom:"10px",flexWrap:"wrap"},btn:{background:"rgba(0, 200, 255, 0.15)",border:"1px solid rgba(0, 200, 255, 0.3)",color:"#00d4ff",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",fontSize:"12px",display:"flex",alignItems:"center",gap:"4px"},btnActive:{background:"rgba(0, 200, 255, 0.3)"},settings:{background:"rgba(0, 0, 0, 0.2)",borderRadius:"8px",padding:"12px",marginBottom:"10px"},inputGroup:{marginBottom:"8px"},label:{color:"#8899aa",fontSize:"11px",marginBottom:"4px",display:"block"},input:{width:"100%",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 200, 255, 0.2)",borderRadius:"4px",padding:"6px 10px",color:"#fff",fontSize:"12px",boxSizing:"border-box"},fullView:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.9)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:1e4},fullImage:{maxWidth:"90vw",maxHeight:"80vh",objectFit:"contain"},closeBtn:{position:"absolute",top:"20px",right:"20px",background:"rgba(255, 255, 255, 0.1)",border:"none",color:"#fff",padding:"10px 20px",borderRadius:"8px",cursor:"pointer",fontSize:"14px"},emptyState:{textAlign:"center",padding:"20px",color:"#667788"},refreshSelect:{background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 200, 255, 0.2)",borderRadius:"4px",padding:"6px",color:"#fff",fontSize:"11px"}},D=O=>{const z=Je[O]||Date.now();return`/api/cameras/snapshot/${O}?t=${z}`};return p.jsxs("div",{style:S.container,children:[p.jsxs("div",{style:S.header,onClick:n,children:[p.jsxs("div",{style:S.title,children:[p.jsx("span",{style:S.icon,children:""}),p.jsx("span",{children:"Cameras"}),r.length>0&&p.jsx("span",{style:S.badge,children:r.length})]}),p.jsx("span",{style:{color:"#00d4ff"},children:a?"":""})]}),a&&p.jsxs("div",{style:S.content,children:[p.jsxs("div",{style:S.toolbar,children:[p.jsx("button",{style:{...S.btn,...m?S.btnActive:{}},onClick:N,disabled:m,children:m?" Scanning...":" Discover"}),p.jsx("button",{style:{...S.btn,...x?S.btnActive:{}},onClick:()=>k(!x),children:" Settings"}),p.jsxs("select",{style:S.refreshSelect,value:de,onChange:O=>re(Number(O.target.value)),title:"Refresh interval",children:[p.jsx("option",{value:0,children:"Manual"}),p.jsx("option",{value:2e3,children:"2s"}),p.jsx("option",{value:5e3,children:"5s"}),p.jsx("option",{value:1e4,children:"10s"}),p.jsx("option",{value:3e4,children:"30s"})]})]}),x&&p.jsxs("div",{style:S.settings,children:[p.jsxs("div",{style:S.inputGroup,children:[p.jsx("label",{style:S.label,children:"Select Camera to Configure"}),p.jsxs("select",{style:{...S.input,cursor:"pointer"},value:q||"",onChange:O=>{const z=O.target.value;if(!z){Q(null),B({username:"",password:"",name:""});return}const le=r.find(ve=>ve.ip===z);le?(Q(z),B({name:le.name||"",username:le.username||"",password:""})):(Q(z),B({name:`Camera ${z.split(".").pop()}`,username:Y.username||"",password:Y.password||""}))},children:[p.jsx("option",{value:"",children:"-- Select a camera --"}),r.length>0&&p.jsx("optgroup",{label:" Configured Cameras",children:r.map(O=>p.jsxs("option",{value:O.ip,children:[O.name," (",O.ip,")"]},O.ip))}),l.length>0&&p.jsx("optgroup",{label:" Discovered (Not Configured)",children:l.map(O=>p.jsxs("option",{value:O.ip,children:[O.ip," (Ports: ",O.ports.join(", "),")"]},O.ip))})]})]}),q&&p.jsxs("div",{style:{background:"rgba(0, 0, 0, 0.2)",borderRadius:"6px",padding:"10px",marginTop:"8px"},children:[p.jsxs("div",{style:S.inputGroup,children:[p.jsx("label",{style:S.label,children:"Camera Name"}),p.jsx("input",{type:"text",style:S.input,value:K.name,onChange:O=>B(z=>({...z,name:O.target.value})),placeholder:"Front Door"})]}),p.jsxs("div",{style:S.inputGroup,children:[p.jsx("label",{style:S.label,children:"Username"}),p.jsx("input",{type:"text",style:S.input,value:K.username,onChange:O=>B(z=>({...z,username:O.target.value})),placeholder:"admin"})]}),p.jsxs("div",{style:S.inputGroup,children:[p.jsxs("label",{style:S.label,children:["Password ",r.find(O=>O.ip===q)?"(leave blank to keep current)":""]}),p.jsx("input",{type:"password",style:S.input,value:K.password,onChange:O=>B(z=>({...z,password:O.target.value})),placeholder:""})]}),p.jsx("div",{style:{display:"flex",gap:"8px",marginTop:"8px"},children:p.jsx("button",{style:{...S.btn,flex:1,justifyContent:"center"},onClick:()=>{!r.find(z=>z.ip===q)?W(q,K.name,K):U()},children:r.find(O=>O.ip===q)?" Save Changes":" Add Camera"})})]}),p.jsxs("div",{style:{borderTop:"1px solid rgba(0, 200, 255, 0.15)",marginTop:"12px",paddingTop:"12px"},children:[p.jsx("div",{style:{color:"#8899aa",fontSize:"11px",marginBottom:"8px"},children:"Default credentials (used for new cameras)"}),p.jsxs("div",{style:{display:"flex",gap:"8px"},children:[p.jsx("input",{type:"text",style:{...S.input,flex:1},value:Y.username,onChange:O=>fe(z=>({...z,username:O.target.value})),placeholder:"Username"}),p.jsx("input",{type:"password",style:{...S.input,flex:1},value:Y.password,onChange:O=>fe(z=>({...z,password:O.target.value})),placeholder:"Password"}),p.jsx("button",{style:S.btn,onClick:V,title:"Save as default",children:""})]})]}),p.jsxs("div",{style:{borderTop:"1px solid rgba(0, 200, 255, 0.15)",marginTop:"12px",paddingTop:"12px"},children:[p.jsx("div",{style:{color:"#8899aa",fontSize:"11px",marginBottom:"8px"},children:"Add camera by IP (if not discovered)"}),p.jsxs("div",{style:{display:"flex",gap:"8px"},children:[p.jsx("input",{type:"text",id:"addCameraIp",style:{...S.input,flex:1},placeholder:"192.168.1.100",onKeyDown:O=>{if(O.key==="Enter"&&O.target.value){const z=O.target.value;!l.find(le=>le.ip===z)&&!r.find(le=>le.ip===z)&&c(le=>[...le,{ip:z,ports:["manual"]}]),Q(z),B({name:`Camera ${z.split(".").pop()}`,username:Y.username||"",password:Y.password||""}),O.target.value=""}}}),p.jsx("button",{style:S.btn,onClick:()=>{const O=document.getElementById("addCameraIp"),z=O?.value;z&&(!l.find(le=>le.ip===z)&&!r.find(le=>le.ip===z)&&c(le=>[...le,{ip:z,ports:["manual"]}]),Q(z),B({name:`Camera ${z.split(".").pop()}`,username:Y.username||"",password:Y.password||""}),O.value="")},children:"Configure"})]})]})]}),v&&p.jsxs("div",{style:{color:"#ff6b6b",padding:"8px",fontSize:"12px"},children:[" ",v]}),d?p.jsx("div",{style:S.emptyState,children:"Loading cameras..."}):r.length===0&&l.length===0?p.jsxs("div",{style:S.emptyState,children:[p.jsx("p",{children:"No cameras configured"}),p.jsx("p",{style:{fontSize:"11px"},children:"Click Discover to scan your network"})]}):p.jsx("div",{style:S.grid,children:r.map(O=>p.jsxs("div",{style:{...S.cameraCard,...pe===O.ip?S.cameraCardSelected:{}},onClick:()=>ze(O.ip),children:[p.jsx("img",{src:D(O.ip),alt:O.name,style:S.cameraImage,onError:z=>{z.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect fill="%23222" width="100" height="100"/><text x="50" y="55" text-anchor="middle" fill="%23666" font-size="12">No Signal</text></svg>'}}),p.jsxs("div",{style:S.cameraInfo,children:[p.jsx("span",{style:S.cameraName,title:O.ip,children:O.name}),p.jsxs("div",{style:{display:"flex",gap:"4px"},children:[p.jsx("button",{style:{...S.deleteBtn,background:"rgba(0, 150, 255, 0.2)",color:"#00aaff"},onClick:z=>{z.stopPropagation(),k(!0),Q(O.ip),B({name:O.name||"",username:O.username||"",password:""})},title:"Edit credentials",children:""}),p.jsx("button",{style:S.deleteBtn,onClick:z=>{z.stopPropagation(),ge(O.ip)},title:"Remove camera",children:""})]})]})]},O.ip))})]}),pe&&p.jsxs("div",{style:S.fullView,onClick:()=>ze(null),children:[p.jsx("img",{src:D(pe),alt:"Camera feed",style:S.fullImage}),p.jsx("button",{style:S.closeBtn,onClick:()=>ze(null),children:" Close"}),p.jsx("div",{style:{color:"#fff",marginTop:"10px"},children:r.find(O=>O.ip===pe)?.name||pe})]})]})}const qa=Object.create(null);qa.open="0";qa.close="1";qa.ping="2";qa.pong="3";qa.message="4";qa.upgrade="5";qa.noop="6";const wc=Object.create(null);Object.keys(qa).forEach(a=>{wc[qa[a]]=a});const oh={type:"error",data:"parser error"},_1=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",D1=typeof ArrayBuffer=="function",M1=a=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(a):a&&a.buffer instanceof ArrayBuffer,Gh=({type:a,data:n},r,s)=>_1&&n instanceof Blob?r?s(n):S0(n,s):D1&&(n instanceof ArrayBuffer||M1(n))?r?s(n):S0(new Blob([n]),s):s(qa[a]+(n||"")),S0=(a,n)=>{const r=new FileReader;return r.onload=function(){const s=r.result.split(",")[1];n("b"+(s||""))},r.readAsDataURL(a)};function x0(a){return a instanceof Uint8Array?a:a instanceof ArrayBuffer?new Uint8Array(a):new Uint8Array(a.buffer,a.byteOffset,a.byteLength)}let Af;function FC(a,n){if(_1&&a.data instanceof Blob)return a.data.arrayBuffer().then(x0).then(n);if(D1&&(a.data instanceof ArrayBuffer||M1(a.data)))return n(x0(a.data));Gh(a,!1,r=>{Af||(Af=new TextEncoder),n(Af.encode(r))})}const E0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Eo=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let a=0;a<E0.length;a++)Eo[E0.charCodeAt(a)]=a;const PC=a=>{let n=a.length*.75,r=a.length,s,l=0,c,d,h,m;a[a.length-1]==="="&&(n--,a[a.length-2]==="="&&n--);const y=new ArrayBuffer(n),v=new Uint8Array(y);for(s=0;s<r;s+=4)c=Eo[a.charCodeAt(s)],d=Eo[a.charCodeAt(s+1)],h=Eo[a.charCodeAt(s+2)],m=Eo[a.charCodeAt(s+3)],v[l++]=c<<2|d>>4,v[l++]=(d&15)<<4|h>>2,v[l++]=(h&3)<<6|m&63;return y},ZC=typeof ArrayBuffer=="function",Yh=(a,n)=>{if(typeof a!="string")return{type:"message",data:R1(a,n)};const r=a.charAt(0);return r==="b"?{type:"message",data:XC(a.substring(1),n)}:wc[r]?a.length>1?{type:wc[r],data:a.substring(1)}:{type:wc[r]}:oh},XC=(a,n)=>{if(ZC){const r=PC(a);return R1(r,n)}else return{base64:!0,data:a}},R1=(a,n)=>{switch(n){case"blob":return a instanceof Blob?a:new Blob([a]);case"arraybuffer":default:return a instanceof ArrayBuffer?a:a.buffer}},z1="",KC=(a,n)=>{const r=a.length,s=new Array(r);let l=0;a.forEach((c,d)=>{Gh(c,!1,h=>{s[d]=h,++l===r&&n(s.join(z1))})})},QC=(a,n)=>{const r=a.split(z1),s=[];for(let l=0;l<r.length;l++){const c=Yh(r[l],n);if(s.push(c),c.type==="error")break}return s};function WC(){return new TransformStream({transform(a,n){FC(a,r=>{const s=r.length;let l;if(s<126)l=new Uint8Array(1),new DataView(l.buffer).setUint8(0,s);else if(s<65536){l=new Uint8Array(3);const c=new DataView(l.buffer);c.setUint8(0,126),c.setUint16(1,s)}else{l=new Uint8Array(9);const c=new DataView(l.buffer);c.setUint8(0,127),c.setBigUint64(1,BigInt(s))}a.data&&typeof a.data!="string"&&(l[0]|=128),n.enqueue(l),n.enqueue(r)})}})}let _f;function cc(a){return a.reduce((n,r)=>n+r.length,0)}function uc(a,n){if(a[0].length===n)return a.shift();const r=new Uint8Array(n);let s=0;for(let l=0;l<n;l++)r[l]=a[0][s++],s===a[0].length&&(a.shift(),s=0);return a.length&&s<a[0].length&&(a[0]=a[0].slice(s)),r}function JC(a,n){_f||(_f=new TextDecoder);const r=[];let s=0,l=-1,c=!1;return new TransformStream({transform(d,h){for(r.push(d);;){if(s===0){if(cc(r)<1)break;const m=uc(r,1);c=(m[0]&128)===128,l=m[0]&127,l<126?s=3:l===126?s=1:s=2}else if(s===1){if(cc(r)<2)break;const m=uc(r,2);l=new DataView(m.buffer,m.byteOffset,m.length).getUint16(0),s=3}else if(s===2){if(cc(r)<8)break;const m=uc(r,8),y=new DataView(m.buffer,m.byteOffset,m.length),v=y.getUint32(0);if(v>Math.pow(2,21)-1){h.enqueue(oh);break}l=v*Math.pow(2,32)+y.getUint32(4),s=3}else{if(cc(r)<l)break;const m=uc(r,l);h.enqueue(Yh(c?m:_f.decode(m),n)),s=0}if(l===0||l>a){h.enqueue(oh);break}}}})}const L1=4;function vn(a){if(a)return eT(a)}function eT(a){for(var n in vn.prototype)a[n]=vn.prototype[n];return a}vn.prototype.on=vn.prototype.addEventListener=function(a,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+a]=this._callbacks["$"+a]||[]).push(n),this};vn.prototype.once=function(a,n){function r(){this.off(a,r),n.apply(this,arguments)}return r.fn=n,this.on(a,r),this};vn.prototype.off=vn.prototype.removeListener=vn.prototype.removeAllListeners=vn.prototype.removeEventListener=function(a,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+a];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+a],this;for(var s,l=0;l<r.length;l++)if(s=r[l],s===n||s.fn===n){r.splice(l,1);break}return r.length===0&&delete this._callbacks["$"+a],this};vn.prototype.emit=function(a){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),r=this._callbacks["$"+a],s=1;s<arguments.length;s++)n[s-1]=arguments[s];if(r){r=r.slice(0);for(var s=0,l=r.length;s<l;++s)r[s].apply(this,n)}return this};vn.prototype.emitReserved=vn.prototype.emit;vn.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks["$"+a]||[]};vn.prototype.hasListeners=function(a){return!!this.listeners(a).length};const Gc=typeof Promise=="function"&&typeof Promise.resolve=="function"?n=>Promise.resolve().then(n):(n,r)=>r(n,0),va=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),tT="arraybuffer";function B1(a,...n){return n.reduce((r,s)=>(a.hasOwnProperty(s)&&(r[s]=a[s]),r),{})}const nT=va.setTimeout,aT=va.clearTimeout;function Yc(a,n){n.useNativeTimers?(a.setTimeoutFn=nT.bind(va),a.clearTimeoutFn=aT.bind(va)):(a.setTimeoutFn=va.setTimeout.bind(va),a.clearTimeoutFn=va.clearTimeout.bind(va))}const rT=1.33;function iT(a){return typeof a=="string"?sT(a):Math.ceil((a.byteLength||a.size)*rT)}function sT(a){let n=0,r=0;for(let s=0,l=a.length;s<l;s++)n=a.charCodeAt(s),n<128?r+=1:n<2048?r+=2:n<55296||n>=57344?r+=3:(s++,r+=4);return r}function U1(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function oT(a){let n="";for(let r in a)a.hasOwnProperty(r)&&(n.length&&(n+="&"),n+=encodeURIComponent(r)+"="+encodeURIComponent(a[r]));return n}function lT(a){let n={},r=a.split("&");for(let s=0,l=r.length;s<l;s++){let c=r[s].split("=");n[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return n}class cT extends Error{constructor(n,r,s){super(n),this.description=r,this.context=s,this.type="TransportError"}}class Fh extends vn{constructor(n){super(),this.writable=!1,Yc(this,n),this.opts=n,this.query=n.query,this.socket=n.socket,this.supportsBinary=!n.forceBase64}onError(n,r,s){return super.emitReserved("error",new cT(n,r,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(n){this.readyState==="open"&&this.write(n)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(n){const r=Yh(n,this.socket.binaryType);this.onPacket(r)}onPacket(n){super.emitReserved("packet",n)}onClose(n){this.readyState="closed",super.emitReserved("close",n)}pause(n){}createUri(n,r={}){return n+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const n=this.opts.hostname;return n.indexOf(":")===-1?n:"["+n+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(n){const r=oT(n);return r.length?"?"+r:""}}class uT extends Fh{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(n){this.readyState="pausing";const r=()=>{this.readyState="paused",n()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||r()})),this.writable||(s++,this.once("drain",function(){--s||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(n){const r=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};QC(n,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const n=()=>{this.write([{type:"close"}])};this.readyState==="open"?n():this.once("open",n)}write(n){this.writable=!1,KC(n,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const n=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=U1()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(n,r)}}let I1=!1;try{I1=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const dT=I1;function fT(){}class hT extends uT{constructor(n){if(super(n),typeof location<"u"){const r=location.protocol==="https:";let s=location.port;s||(s=r?"443":"80"),this.xd=typeof location<"u"&&n.hostname!==location.hostname||s!==n.port}}doWrite(n,r){const s=this.request({method:"POST",data:n});s.on("success",r),s.on("error",(l,c)=>{this.onError("xhr post error",l,c)})}doPoll(){const n=this.request();n.on("data",this.onData.bind(this)),n.on("error",(r,s)=>{this.onError("xhr poll error",r,s)}),this.pollXhr=n}}class Va extends vn{constructor(n,r,s){super(),this.createRequest=n,Yc(this,s),this._opts=s,this._method=s.method||"GET",this._uri=r,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var n;const r=B1(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(r);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let l in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(l)&&s.setRequestHeader(l,this._opts.extraHeaders[l])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(n=this._opts.cookieJar)===null||n===void 0||n.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var l;s.readyState===3&&((l=this._opts.cookieJar)===null||l===void 0||l.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(l){this.setTimeoutFn(()=>{this._onError(l)},0);return}typeof document<"u"&&(this._index=Va.requestsCount++,Va.requests[this._index]=this)}_onError(n){this.emitReserved("error",n,this._xhr),this._cleanup(!0)}_cleanup(n){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=fT,n)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Va.requests[this._index],this._xhr=null}}_onLoad(){const n=this._xhr.responseText;n!==null&&(this.emitReserved("data",n),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Va.requestsCount=0;Va.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",k0);else if(typeof addEventListener=="function"){const a="onpagehide"in va?"pagehide":"unload";addEventListener(a,k0,!1)}}function k0(){for(let a in Va.requests)Va.requests.hasOwnProperty(a)&&Va.requests[a].abort()}const pT=(function(){const a=$1({xdomain:!1});return a&&a.responseType!==null})();class mT extends hT{constructor(n){super(n);const r=n&&n.forceBase64;this.supportsBinary=pT&&!r}request(n={}){return Object.assign(n,{xd:this.xd},this.opts),new Va($1,this.uri(),n)}}function $1(a){const n=a.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!n||dT))return new XMLHttpRequest}catch{}if(!n)try{return new va[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const H1=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class yT extends Fh{get name(){return"websocket"}doOpen(){const n=this.uri(),r=this.opts.protocols,s=H1?{}:B1(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(n,r,s)}catch(l){return this.emitReserved("error",l)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n}),this.ws.onmessage=n=>this.onData(n.data),this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=!1;for(let r=0;r<n.length;r++){const s=n[r],l=r===n.length-1;Gh(s,this.supportsBinary,c=>{try{this.doWrite(s,c)}catch{}l&&Gc(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const n=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=U1()),this.supportsBinary||(r.b64=1),this.createUri(n,r)}}const Df=va.WebSocket||va.MozWebSocket;class gT extends yT{createSocket(n,r,s){return H1?new Df(n,r,s):r?new Df(n,r):new Df(n)}doWrite(n,r){this.ws.send(r)}}class vT extends Fh{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(n){return this.emitReserved("error",n)}this._transport.closed.then(()=>{this.onClose()}).catch(n=>{this.onError("webtransport error",n)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(n=>{const r=JC(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=n.readable.pipeThrough(r).getReader(),l=WC();l.readable.pipeTo(n.writable),this._writer=l.writable.getWriter();const c=()=>{s.read().then(({done:h,value:m})=>{h||(this.onPacket(m),c())}).catch(h=>{})};c();const d={type:"open"};this.query.sid&&(d.data=`{"sid":"${this.query.sid}"}`),this._writer.write(d).then(()=>this.onOpen())})})}write(n){this.writable=!1;for(let r=0;r<n.length;r++){const s=n[r],l=r===n.length-1;this._writer.write(s).then(()=>{l&&Gc(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var n;(n=this._transport)===null||n===void 0||n.close()}}const bT={websocket:gT,webtransport:vT,polling:mT},wT=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,ST=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function lh(a){if(a.length>8e3)throw"URI too long";const n=a,r=a.indexOf("["),s=a.indexOf("]");r!=-1&&s!=-1&&(a=a.substring(0,r)+a.substring(r,s).replace(/:/g,";")+a.substring(s,a.length));let l=wT.exec(a||""),c={},d=14;for(;d--;)c[ST[d]]=l[d]||"";return r!=-1&&s!=-1&&(c.source=n,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=xT(c,c.path),c.queryKey=ET(c,c.query),c}function xT(a,n){const r=/\/{2,9}/g,s=n.replace(r,"/").split("/");return(n.slice(0,1)=="/"||n.length===0)&&s.splice(0,1),n.slice(-1)=="/"&&s.splice(s.length-1,1),s}function ET(a,n){const r={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,l,c){l&&(r[l]=c)}),r}const ch=typeof addEventListener=="function"&&typeof removeEventListener=="function",Sc=[];ch&&addEventListener("offline",()=>{Sc.forEach(a=>a())},!1);class Xr extends vn{constructor(n,r){if(super(),this.binaryType=tT,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,n&&typeof n=="object"&&(r=n,n=null),n){const s=lh(n);r.hostname=s.host,r.secure=s.protocol==="https"||s.protocol==="wss",r.port=s.port,s.query&&(r.query=s.query)}else r.host&&(r.hostname=lh(r.host).host);Yc(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(s=>{const l=s.prototype.name;this.transports.push(l),this._transportsByName[l]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=lT(this.opts.query)),ch&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Sc.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(n){const r=Object.assign({},this.opts.query);r.EIO=L1,r.transport=n,this.id&&(r.sid=this.id);const s=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[n]);return new this._transportsByName[n](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const n=this.opts.rememberUpgrade&&Xr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(n);r.open(),this.setTransport(r)}setTransport(n){this.transport&&this.transport.removeAllListeners(),this.transport=n,n.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Xr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",n),this.emitReserved("heartbeat"),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=n.data,this._onError(r);break;case"message":this.emitReserved("data",n.data),this.emitReserved("message",n.data);break}}onHandshake(n){this.emitReserved("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this._pingInterval=n.pingInterval,this._pingTimeout=n.pingTimeout,this._maxPayload=n.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const n=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+n,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},n),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const n=this._getWritablePackets();this.transport.send(n),this._prevBufferLen=n.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let s=0;s<this.writeBuffer.length;s++){const l=this.writeBuffer[s].data;if(l&&(r+=iT(l)),s>0&&r>this._maxPayload)return this.writeBuffer.slice(0,s);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const n=Date.now()>this._pingTimeoutTime;return n&&(this._pingTimeoutTime=0,Gc(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),n}write(n,r,s){return this._sendPacket("message",n,r,s),this}send(n,r,s){return this._sendPacket("message",n,r,s),this}_sendPacket(n,r,s,l){if(typeof r=="function"&&(l=r,r=void 0),typeof s=="function"&&(l=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const c={type:n,data:r,options:s};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),l&&this.once("flush",l),this.flush()}close(){const n=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),n()},s=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():n()}):this.upgrading?s():n()),this}_onError(n){if(Xr.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",n),this._onClose("transport error",n)}_onClose(n,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),ch&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=Sc.indexOf(this._offlineEventListener);s!==-1&&Sc.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",n,r),this.writeBuffer=[],this._prevBufferLen=0}}}Xr.protocol=L1;class kT extends Xr{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let n=0;n<this._upgrades.length;n++)this._probe(this._upgrades[n])}_probe(n){let r=this.createTransport(n),s=!1;Xr.priorWebsocketSuccess=!1;const l=()=>{s||(r.send([{type:"ping",data:"probe"}]),r.once("packet",b=>{if(!s)if(b.type==="pong"&&b.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Xr.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(v(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const x=new Error("probe error");x.transport=r.name,this.emitReserved("upgradeError",x)}}))};function c(){s||(s=!0,v(),r.close(),r=null)}const d=b=>{const x=new Error("probe error: "+b);x.transport=r.name,c(),this.emitReserved("upgradeError",x)};function h(){d("transport closed")}function m(){d("socket closed")}function y(b){r&&b.name!==r.name&&c()}const v=()=>{r.removeListener("open",l),r.removeListener("error",d),r.removeListener("close",h),this.off("close",m),this.off("upgrading",y)};r.once("open",l),r.once("error",d),r.once("close",h),this.once("close",m),this.once("upgrading",y),this._upgrades.indexOf("webtransport")!==-1&&n!=="webtransport"?this.setTimeoutFn(()=>{s||r.open()},200):r.open()}onHandshake(n){this._upgrades=this._filterUpgrades(n.upgrades),super.onHandshake(n)}_filterUpgrades(n){const r=[];for(let s=0;s<n.length;s++)~this.transports.indexOf(n[s])&&r.push(n[s]);return r}}let CT=class extends kT{constructor(n,r={}){const s=typeof n=="object"?n:r;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(l=>bT[l]).filter(l=>!!l)),super(n,s)}};function TT(a,n="",r){let s=a;r=r||typeof location<"u"&&location,a==null&&(a=r.protocol+"//"+r.host),typeof a=="string"&&(a.charAt(0)==="/"&&(a.charAt(1)==="/"?a=r.protocol+a:a=r.host+a),/^(https?|wss?):\/\//.test(a)||(typeof r<"u"?a=r.protocol+"//"+a:a="https://"+a),s=lh(a)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const c=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+c+":"+s.port+n,s.href=s.protocol+"://"+c+(r&&r.port===s.port?"":":"+s.port),s}const NT=typeof ArrayBuffer=="function",OT=a=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(a):a.buffer instanceof ArrayBuffer,V1=Object.prototype.toString,jT=typeof Blob=="function"||typeof Blob<"u"&&V1.call(Blob)==="[object BlobConstructor]",AT=typeof File=="function"||typeof File<"u"&&V1.call(File)==="[object FileConstructor]";function Ph(a){return NT&&(a instanceof ArrayBuffer||OT(a))||jT&&a instanceof Blob||AT&&a instanceof File}function xc(a,n){if(!a||typeof a!="object")return!1;if(Array.isArray(a)){for(let r=0,s=a.length;r<s;r++)if(xc(a[r]))return!0;return!1}if(Ph(a))return!0;if(a.toJSON&&typeof a.toJSON=="function"&&arguments.length===1)return xc(a.toJSON(),!0);for(const r in a)if(Object.prototype.hasOwnProperty.call(a,r)&&xc(a[r]))return!0;return!1}function _T(a){const n=[],r=a.data,s=a;return s.data=uh(r,n),s.attachments=n.length,{packet:s,buffers:n}}function uh(a,n){if(!a)return a;if(Ph(a)){const r={_placeholder:!0,num:n.length};return n.push(a),r}else if(Array.isArray(a)){const r=new Array(a.length);for(let s=0;s<a.length;s++)r[s]=uh(a[s],n);return r}else if(typeof a=="object"&&!(a instanceof Date)){const r={};for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=uh(a[s],n));return r}return a}function DT(a,n){return a.data=dh(a.data,n),delete a.attachments,a}function dh(a,n){if(!a)return a;if(a&&a._placeholder===!0){if(typeof a.num=="number"&&a.num>=0&&a.num<n.length)return n[a.num];throw new Error("illegal attachments")}else if(Array.isArray(a))for(let r=0;r<a.length;r++)a[r]=dh(a[r],n);else if(typeof a=="object")for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&(a[r]=dh(a[r],n));return a}const MT=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],RT=5;var mt;(function(a){a[a.CONNECT=0]="CONNECT",a[a.DISCONNECT=1]="DISCONNECT",a[a.EVENT=2]="EVENT",a[a.ACK=3]="ACK",a[a.CONNECT_ERROR=4]="CONNECT_ERROR",a[a.BINARY_EVENT=5]="BINARY_EVENT",a[a.BINARY_ACK=6]="BINARY_ACK"})(mt||(mt={}));class zT{constructor(n){this.replacer=n}encode(n){return(n.type===mt.EVENT||n.type===mt.ACK)&&xc(n)?this.encodeAsBinary({type:n.type===mt.EVENT?mt.BINARY_EVENT:mt.BINARY_ACK,nsp:n.nsp,data:n.data,id:n.id}):[this.encodeAsString(n)]}encodeAsString(n){let r=""+n.type;return(n.type===mt.BINARY_EVENT||n.type===mt.BINARY_ACK)&&(r+=n.attachments+"-"),n.nsp&&n.nsp!=="/"&&(r+=n.nsp+","),n.id!=null&&(r+=n.id),n.data!=null&&(r+=JSON.stringify(n.data,this.replacer)),r}encodeAsBinary(n){const r=_T(n),s=this.encodeAsString(r.packet),l=r.buffers;return l.unshift(s),l}}function C0(a){return Object.prototype.toString.call(a)==="[object Object]"}class Zh extends vn{constructor(n){super(),this.reviver=n}add(n){let r;if(typeof n=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(n);const s=r.type===mt.BINARY_EVENT;s||r.type===mt.BINARY_ACK?(r.type=s?mt.EVENT:mt.ACK,this.reconstructor=new LT(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Ph(n)||n.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(n),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+n)}decodeString(n){let r=0;const s={type:Number(n.charAt(0))};if(mt[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===mt.BINARY_EVENT||s.type===mt.BINARY_ACK){const c=r+1;for(;n.charAt(++r)!=="-"&&r!=n.length;);const d=n.substring(c,r);if(d!=Number(d)||n.charAt(r)!=="-")throw new Error("Illegal attachments");s.attachments=Number(d)}if(n.charAt(r+1)==="/"){const c=r+1;for(;++r&&!(n.charAt(r)===","||r===n.length););s.nsp=n.substring(c,r)}else s.nsp="/";const l=n.charAt(r+1);if(l!==""&&Number(l)==l){const c=r+1;for(;++r;){const d=n.charAt(r);if(d==null||Number(d)!=d){--r;break}if(r===n.length)break}s.id=Number(n.substring(c,r+1))}if(n.charAt(++r)){const c=this.tryParse(n.substr(r));if(Zh.isPayloadValid(s.type,c))s.data=c;else throw new Error("invalid payload")}return s}tryParse(n){try{return JSON.parse(n,this.reviver)}catch{return!1}}static isPayloadValid(n,r){switch(n){case mt.CONNECT:return C0(r);case mt.DISCONNECT:return r===void 0;case mt.CONNECT_ERROR:return typeof r=="string"||C0(r);case mt.EVENT:case mt.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&MT.indexOf(r[0])===-1);case mt.ACK:case mt.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class LT{constructor(n){this.packet=n,this.buffers=[],this.reconPack=n}takeBinaryData(n){if(this.buffers.push(n),this.buffers.length===this.reconPack.attachments){const r=DT(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const BT=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Zh,Encoder:zT,get PacketType(){return mt},protocol:RT},Symbol.toStringTag,{value:"Module"}));function ja(a,n,r){return a.on(n,r),function(){a.off(n,r)}}const UT=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class q1 extends vn{constructor(n,r,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=n,this.nsp=r,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const n=this.io;this.subs=[ja(n,"open",this.onopen.bind(this)),ja(n,"packet",this.onpacket.bind(this)),ja(n,"error",this.onerror.bind(this)),ja(n,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...n){return n.unshift("message"),this.emit.apply(this,n),this}emit(n,...r){var s,l,c;if(UT.hasOwnProperty(n))throw new Error('"'+n.toString()+'" is a reserved event name');if(r.unshift(n),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const d={type:mt.EVENT,data:r};if(d.options={},d.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const v=this.ids++,b=r.pop();this._registerAckCallback(v,b),d.id=v}const h=(l=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||l===void 0?void 0:l.writable,m=this.connected&&!(!((c=this.io.engine)===null||c===void 0)&&c._hasPingExpired());return this.flags.volatile&&!h||(m?(this.notifyOutgoingListeners(d),this.packet(d)):this.sendBuffer.push(d)),this.flags={},this}_registerAckCallback(n,r){var s;const l=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(l===void 0){this.acks[n]=r;return}const c=this.io.setTimeoutFn(()=>{delete this.acks[n];for(let h=0;h<this.sendBuffer.length;h++)this.sendBuffer[h].id===n&&this.sendBuffer.splice(h,1);r.call(this,new Error("operation has timed out"))},l),d=(...h)=>{this.io.clearTimeoutFn(c),r.apply(this,h)};d.withError=!0,this.acks[n]=d}emitWithAck(n,...r){return new Promise((s,l)=>{const c=(d,h)=>d?l(d):s(h);c.withError=!0,r.push(c),this.emit(n,...r)})}_addToQueue(n){let r;typeof n[n.length-1]=="function"&&(r=n.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:n,flags:Object.assign({fromQueue:!0},this.flags)};n.push((l,...c)=>s!==this._queue[0]?void 0:(l!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(l)):(this._queue.shift(),r&&r(null,...c)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(n=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!n||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(n){n.nsp=this.nsp,this.io._packet(n)}onopen(){typeof this.auth=="function"?this.auth(n=>{this._sendConnectPacket(n)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(n){this.packet({type:mt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},n):n})}onerror(n){this.connected||this.emitReserved("connect_error",n)}onclose(n,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",n,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(n=>{if(!this.sendBuffer.some(s=>String(s.id)===n)){const s=this.acks[n];delete this.acks[n],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(n){if(n.nsp===this.nsp)switch(n.type){case mt.CONNECT:n.data&&n.data.sid?this.onconnect(n.data.sid,n.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case mt.EVENT:case mt.BINARY_EVENT:this.onevent(n);break;case mt.ACK:case mt.BINARY_ACK:this.onack(n);break;case mt.DISCONNECT:this.ondisconnect();break;case mt.CONNECT_ERROR:this.destroy();const s=new Error(n.data.message);s.data=n.data.data,this.emitReserved("connect_error",s);break}}onevent(n){const r=n.data||[];n.id!=null&&r.push(this.ack(n.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(n){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const s of r)s.apply(this,n)}super.emit.apply(this,n),this._pid&&n.length&&typeof n[n.length-1]=="string"&&(this._lastOffset=n[n.length-1])}ack(n){const r=this;let s=!1;return function(...l){s||(s=!0,r.packet({type:mt.ACK,id:n,data:l}))}}onack(n){const r=this.acks[n.id];typeof r=="function"&&(delete this.acks[n.id],r.withError&&n.data.unshift(null),r.apply(this,n.data))}onconnect(n,r){this.id=n,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(n=>this.emitEvent(n)),this.receiveBuffer=[],this.sendBuffer.forEach(n=>{this.notifyOutgoingListeners(n),this.packet(n)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(n=>n()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:mt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(n){return this.flags.compress=n,this}get volatile(){return this.flags.volatile=!0,this}timeout(n){return this.flags.timeout=n,this}onAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(n),this}prependAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(n),this}offAny(n){if(!this._anyListeners)return this;if(n){const r=this._anyListeners;for(let s=0;s<r.length;s++)if(n===r[s])return r.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(n),this}prependAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(n),this}offAnyOutgoing(n){if(!this._anyOutgoingListeners)return this;if(n){const r=this._anyOutgoingListeners;for(let s=0;s<r.length;s++)if(n===r[s])return r.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(n){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const s of r)s.apply(this,n.data)}}}function Es(a){a=a||{},this.ms=a.min||100,this.max=a.max||1e4,this.factor=a.factor||2,this.jitter=a.jitter>0&&a.jitter<=1?a.jitter:0,this.attempts=0}Es.prototype.duration=function(){var a=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),r=Math.floor(n*this.jitter*a);a=(Math.floor(n*10)&1)==0?a-r:a+r}return Math.min(a,this.max)|0};Es.prototype.reset=function(){this.attempts=0};Es.prototype.setMin=function(a){this.ms=a};Es.prototype.setMax=function(a){this.max=a};Es.prototype.setJitter=function(a){this.jitter=a};class fh extends vn{constructor(n,r){var s;super(),this.nsps={},this.subs=[],n&&typeof n=="object"&&(r=n,n=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Yc(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((s=r.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new Es({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=n;const l=r.parser||BT;this.encoder=new l.Encoder,this.decoder=new l.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(n){return arguments.length?(this._reconnection=!!n,n||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(n){return n===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=n,this)}reconnectionDelay(n){var r;return n===void 0?this._reconnectionDelay:(this._reconnectionDelay=n,(r=this.backoff)===null||r===void 0||r.setMin(n),this)}randomizationFactor(n){var r;return n===void 0?this._randomizationFactor:(this._randomizationFactor=n,(r=this.backoff)===null||r===void 0||r.setJitter(n),this)}reconnectionDelayMax(n){var r;return n===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=n,(r=this.backoff)===null||r===void 0||r.setMax(n),this)}timeout(n){return arguments.length?(this._timeout=n,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(n){if(~this._readyState.indexOf("open"))return this;this.engine=new CT(this.uri,this.opts);const r=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const l=ja(r,"open",function(){s.onopen(),n&&n()}),c=h=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",h),n?n(h):this.maybeReconnectOnOpen()},d=ja(r,"error",c);if(this._timeout!==!1){const h=this._timeout,m=this.setTimeoutFn(()=>{l(),c(new Error("timeout")),r.close()},h);this.opts.autoUnref&&m.unref(),this.subs.push(()=>{this.clearTimeoutFn(m)})}return this.subs.push(l),this.subs.push(d),this}connect(n){return this.open(n)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const n=this.engine;this.subs.push(ja(n,"ping",this.onping.bind(this)),ja(n,"data",this.ondata.bind(this)),ja(n,"error",this.onerror.bind(this)),ja(n,"close",this.onclose.bind(this)),ja(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(n){try{this.decoder.add(n)}catch(r){this.onclose("parse error",r)}}ondecoded(n){Gc(()=>{this.emitReserved("packet",n)},this.setTimeoutFn)}onerror(n){this.emitReserved("error",n)}socket(n,r){let s=this.nsps[n];return s?this._autoConnect&&!s.active&&s.connect():(s=new q1(this,n,r),this.nsps[n]=s),s}_destroy(n){const r=Object.keys(this.nsps);for(const s of r)if(this.nsps[s].active)return;this._close()}_packet(n){const r=this.encoder.encode(n);for(let s=0;s<r.length;s++)this.engine.write(r[s],n.options)}cleanup(){this.subs.forEach(n=>n()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(n,r){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",n,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const n=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{n.skipReconnect||(this.emitReserved("reconnect_attempt",n.backoff.attempts),!n.skipReconnect&&n.open(l=>{l?(n._reconnecting=!1,n.reconnect(),this.emitReserved("reconnect_error",l)):n.onreconnect()}))},r);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const n=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",n)}}const wo={};function Ec(a,n){typeof a=="object"&&(n=a,a=void 0),n=n||{};const r=TT(a,n.path||"/socket.io"),s=r.source,l=r.id,c=r.path,d=wo[l]&&c in wo[l].nsps,h=n.forceNew||n["force new connection"]||n.multiplex===!1||d;let m;return h?m=new fh(s,n):(wo[l]||(wo[l]=new fh(s,n)),m=wo[l]),r.query&&!n.query&&(n.query=r.queryKey),m.socket(r.path,n)}Object.assign(Ec,{Manager:fh,Socket:q1,io:Ec,connect:Ec});const IT=typeof window<"u"?window.location.origin:"http://localhost:3000",T0=qc(),$T=T0?`${T0}/socket.io`:"/socket.io",ye=Ec(IT,{path:$T,autoConnect:!1,reconnection:!0,reconnectionAttempts:1/0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,timeout:2e4,transports:["websocket","polling"]}),HT=()=>{ye.connected||ye.connect()},VT=()=>{ye.connected&&ye.disconnect()};class qT{constructor(){this.nodes=new Map}register(n,r){typeof n=="object"&&r===void 0&&(r=n,n=r.label?r.label.replace(/\s+/g,""):"Node_"+Math.random().toString(36).substr(2,9)),this.nodes.set(n,r)}get(n){return this.nodes.get(n)}getAll(){return Array.from(this.nodes.values()).filter(n=>n)}getByLabel(n){for(const r of this.nodes.values())if(r.label===n)return r;return null}getByInstance(n){for(const r of this.nodes.values())if(r.nodeClass&&n instanceof r.nodeClass)return r;return null}}const Rn=new qT;class ki extends Error{}class GT extends ki{constructor(n){super(`Invalid DateTime: ${n.toMessage()}`)}}class YT extends ki{constructor(n){super(`Invalid Interval: ${n.toMessage()}`)}}class FT extends ki{constructor(n){super(`Invalid Duration: ${n.toMessage()}`)}}class us extends ki{}class G1 extends ki{constructor(n){super(`Invalid unit ${n}`)}}class zn extends ki{}class Vr extends ki{constructor(){super("Zone is an abstract class")}}const Ne="numeric",Ma="short",ia="long",Mc={year:Ne,month:Ne,day:Ne},Y1={year:Ne,month:Ma,day:Ne},PT={year:Ne,month:Ma,day:Ne,weekday:Ma},F1={year:Ne,month:ia,day:Ne},P1={year:Ne,month:ia,day:Ne,weekday:ia},Z1={hour:Ne,minute:Ne},X1={hour:Ne,minute:Ne,second:Ne},K1={hour:Ne,minute:Ne,second:Ne,timeZoneName:Ma},Q1={hour:Ne,minute:Ne,second:Ne,timeZoneName:ia},W1={hour:Ne,minute:Ne,hourCycle:"h23"},J1={hour:Ne,minute:Ne,second:Ne,hourCycle:"h23"},ew={hour:Ne,minute:Ne,second:Ne,hourCycle:"h23",timeZoneName:Ma},tw={hour:Ne,minute:Ne,second:Ne,hourCycle:"h23",timeZoneName:ia},nw={year:Ne,month:Ne,day:Ne,hour:Ne,minute:Ne},aw={year:Ne,month:Ne,day:Ne,hour:Ne,minute:Ne,second:Ne},rw={year:Ne,month:Ma,day:Ne,hour:Ne,minute:Ne},iw={year:Ne,month:Ma,day:Ne,hour:Ne,minute:Ne,second:Ne},ZT={year:Ne,month:Ma,day:Ne,weekday:Ma,hour:Ne,minute:Ne},sw={year:Ne,month:ia,day:Ne,hour:Ne,minute:Ne,timeZoneName:Ma},ow={year:Ne,month:ia,day:Ne,hour:Ne,minute:Ne,second:Ne,timeZoneName:Ma},lw={year:Ne,month:ia,day:Ne,weekday:ia,hour:Ne,minute:Ne,timeZoneName:ia},cw={year:Ne,month:ia,day:Ne,weekday:ia,hour:Ne,minute:Ne,second:Ne,timeZoneName:ia};class ks{get type(){throw new Vr}get name(){throw new Vr}get ianaName(){return this.name}get isUniversal(){throw new Vr}offsetName(n,r){throw new Vr}formatOffset(n,r){throw new Vr}offset(n){throw new Vr}equals(n){throw new Vr}get isValid(){throw new Vr}}let Mf=null;class Uo extends ks{static get instance(){return Mf===null&&(Mf=new Uo),Mf}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(n,{format:r,locale:s}){return Sw(n,r,s)}formatOffset(n,r){return _o(this.offset(n),r)}offset(n){return-new Date(n).getTimezoneOffset()}equals(n){return n.type==="system"}get isValid(){return!0}}const hh=new Map;function XT(a){let n=hh.get(a);return n===void 0&&(n=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:a,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),hh.set(a,n)),n}const KT={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function QT(a,n){const r=a.format(n).replace(/\u200E/g,""),s=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,l,c,d,h,m,y,v]=s;return[d,l,c,h,m,y,v]}function WT(a,n){const r=a.formatToParts(n),s=[];for(let l=0;l<r.length;l++){const{type:c,value:d}=r[l],h=KT[c];c==="era"?s[h]=d:qe(h)||(s[h]=parseInt(d,10))}return s}const Rf=new Map;class Ga extends ks{static create(n){let r=Rf.get(n);return r===void 0&&Rf.set(n,r=new Ga(n)),r}static resetCache(){Rf.clear(),hh.clear()}static isValidSpecifier(n){return this.isValidZone(n)}static isValidZone(n){if(!n)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:n}).format(),!0}catch{return!1}}constructor(n){super(),this.zoneName=n,this.valid=Ga.isValidZone(n)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(n,{format:r,locale:s}){return Sw(n,r,s,this.name)}formatOffset(n,r){return _o(this.offset(n),r)}offset(n){if(!this.valid)return NaN;const r=new Date(n);if(isNaN(r))return NaN;const s=XT(this.name);let[l,c,d,h,m,y,v]=s.formatToParts?WT(s,r):QT(s,r);h==="BC"&&(l=-Math.abs(l)+1);const x=Pc({year:l,month:c,day:d,hour:m===24?0:m,minute:y,second:v,millisecond:0});let k=+r;const j=k%1e3;return k-=j>=0?j:1e3+j,(x-k)/(60*1e3)}equals(n){return n.type==="iana"&&n.name===this.name}get isValid(){return this.valid}}let N0={};function JT(a,n={}){const r=JSON.stringify([a,n]);let s=N0[r];return s||(s=new Intl.ListFormat(a,n),N0[r]=s),s}const ph=new Map;function mh(a,n={}){const r=JSON.stringify([a,n]);let s=ph.get(r);return s===void 0&&(s=new Intl.DateTimeFormat(a,n),ph.set(r,s)),s}const yh=new Map;function eN(a,n={}){const r=JSON.stringify([a,n]);let s=yh.get(r);return s===void 0&&(s=new Intl.NumberFormat(a,n),yh.set(r,s)),s}const gh=new Map;function tN(a,n={}){const{base:r,...s}=n,l=JSON.stringify([a,s]);let c=gh.get(l);return c===void 0&&(c=new Intl.RelativeTimeFormat(a,n),gh.set(l,c)),c}let ko=null;function nN(){return ko||(ko=new Intl.DateTimeFormat().resolvedOptions().locale,ko)}const vh=new Map;function uw(a){let n=vh.get(a);return n===void 0&&(n=new Intl.DateTimeFormat(a).resolvedOptions(),vh.set(a,n)),n}const bh=new Map;function aN(a){let n=bh.get(a);if(!n){const r=new Intl.Locale(a);n="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,"minimalDays"in n||(n={...dw,...n}),bh.set(a,n)}return n}function rN(a){const n=a.indexOf("-x-");n!==-1&&(a=a.substring(0,n));const r=a.indexOf("-u-");if(r===-1)return[a];{let s,l;try{s=mh(a).resolvedOptions(),l=a}catch{const m=a.substring(0,r);s=mh(m).resolvedOptions(),l=m}const{numberingSystem:c,calendar:d}=s;return[l,c,d]}}function iN(a,n,r){return(r||n)&&(a.includes("-u-")||(a+="-u"),r&&(a+=`-ca-${r}`),n&&(a+=`-nu-${n}`)),a}function sN(a){const n=[];for(let r=1;r<=12;r++){const s=Fe.utc(2009,r,1);n.push(a(s))}return n}function oN(a){const n=[];for(let r=1;r<=7;r++){const s=Fe.utc(2016,11,13+r);n.push(a(s))}return n}function dc(a,n,r,s){const l=a.listingMode();return l==="error"?null:l==="en"?r(n):s(n)}function lN(a){return a.numberingSystem&&a.numberingSystem!=="latn"?!1:a.numberingSystem==="latn"||!a.locale||a.locale.startsWith("en")||uw(a.locale).numberingSystem==="latn"}class cN{constructor(n,r,s){this.padTo=s.padTo||0,this.floor=s.floor||!1;const{padTo:l,floor:c,...d}=s;if(!r||Object.keys(d).length>0){const h={useGrouping:!1,...s};s.padTo>0&&(h.minimumIntegerDigits=s.padTo),this.inf=eN(n,h)}}format(n){if(this.inf){const r=this.floor?Math.floor(n):n;return this.inf.format(r)}else{const r=this.floor?Math.floor(n):Jh(n,3);return yn(r,this.padTo)}}}class uN{constructor(n,r,s){this.opts=s,this.originalZone=void 0;let l;if(this.opts.timeZone)this.dt=n;else if(n.zone.type==="fixed"){const d=-1*(n.offset/60),h=d>=0?`Etc/GMT+${d}`:`Etc/GMT${d}`;n.offset!==0&&Ga.create(h).valid?(l=h,this.dt=n):(l="UTC",this.dt=n.offset===0?n:n.setZone("UTC").plus({minutes:n.offset}),this.originalZone=n.zone)}else n.zone.type==="system"?this.dt=n:n.zone.type==="iana"?(this.dt=n,l=n.zone.name):(l="UTC",this.dt=n.setZone("UTC").plus({minutes:n.offset}),this.originalZone=n.zone);const c={...this.opts};c.timeZone=c.timeZone||l,this.dtf=mh(r,c)}format(){return this.originalZone?this.formatToParts().map(({value:n})=>n).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const n=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?n.map(r=>{if(r.type==="timeZoneName"){const s=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:s}}else return r}):n}resolvedOptions(){return this.dtf.resolvedOptions()}}class dN{constructor(n,r,s){this.opts={style:"long",...s},!r&&bw()&&(this.rtf=tN(n,s))}format(n,r){return this.rtf?this.rtf.format(n,r):DN(r,n,this.opts.numeric,this.opts.style!=="long")}formatToParts(n,r){return this.rtf?this.rtf.formatToParts(n,r):[]}}const dw={firstDay:1,minimalDays:4,weekend:[6,7]};class Nt{static fromOpts(n){return Nt.create(n.locale,n.numberingSystem,n.outputCalendar,n.weekSettings,n.defaultToEN)}static create(n,r,s,l,c=!1){const d=n||Xt.defaultLocale,h=d||(c?"en-US":nN()),m=r||Xt.defaultNumberingSystem,y=s||Xt.defaultOutputCalendar,v=Sh(l)||Xt.defaultWeekSettings;return new Nt(h,m,y,v,d)}static resetCache(){ko=null,ph.clear(),yh.clear(),gh.clear(),vh.clear(),bh.clear()}static fromObject({locale:n,numberingSystem:r,outputCalendar:s,weekSettings:l}={}){return Nt.create(n,r,s,l)}constructor(n,r,s,l,c){const[d,h,m]=rN(n);this.locale=d,this.numberingSystem=r||h||null,this.outputCalendar=s||m||null,this.weekSettings=l,this.intl=iN(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=c,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=lN(this)),this.fastNumbersCached}listingMode(){const n=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return n&&r?"en":"intl"}clone(n){return!n||Object.getOwnPropertyNames(n).length===0?this:Nt.create(n.locale||this.specifiedLocale,n.numberingSystem||this.numberingSystem,n.outputCalendar||this.outputCalendar,Sh(n.weekSettings)||this.weekSettings,n.defaultToEN||!1)}redefaultToEN(n={}){return this.clone({...n,defaultToEN:!0})}redefaultToSystem(n={}){return this.clone({...n,defaultToEN:!1})}months(n,r=!1){return dc(this,n,kw,()=>{const s=this.intl==="ja"||this.intl.startsWith("ja-");r&=!s;const l=r?{month:n,day:"numeric"}:{month:n},c=r?"format":"standalone";if(!this.monthsCache[c][n]){const d=s?h=>this.dtFormatter(h,l).format():h=>this.extract(h,l,"month");this.monthsCache[c][n]=sN(d)}return this.monthsCache[c][n]})}weekdays(n,r=!1){return dc(this,n,Nw,()=>{const s=r?{weekday:n,year:"numeric",month:"long",day:"numeric"}:{weekday:n},l=r?"format":"standalone";return this.weekdaysCache[l][n]||(this.weekdaysCache[l][n]=oN(c=>this.extract(c,s,"weekday"))),this.weekdaysCache[l][n]})}meridiems(){return dc(this,void 0,()=>Ow,()=>{if(!this.meridiemCache){const n={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Fe.utc(2016,11,13,9),Fe.utc(2016,11,13,19)].map(r=>this.extract(r,n,"dayperiod"))}return this.meridiemCache})}eras(n){return dc(this,n,jw,()=>{const r={era:n};return this.eraCache[n]||(this.eraCache[n]=[Fe.utc(-40,1,1),Fe.utc(2017,1,1)].map(s=>this.extract(s,r,"era"))),this.eraCache[n]})}extract(n,r,s){const l=this.dtFormatter(n,r),c=l.formatToParts(),d=c.find(h=>h.type.toLowerCase()===s);return d?d.value:null}numberFormatter(n={}){return new cN(this.intl,n.forceSimple||this.fastNumbers,n)}dtFormatter(n,r={}){return new uN(n,this.intl,r)}relFormatter(n={}){return new dN(this.intl,this.isEnglish(),n)}listFormatter(n={}){return JT(this.intl,n)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||uw(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:ww()?aN(this.locale):dw}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(n){return this.locale===n.locale&&this.numberingSystem===n.numberingSystem&&this.outputCalendar===n.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let zf=null;class Bn extends ks{static get utcInstance(){return zf===null&&(zf=new Bn(0)),zf}static instance(n){return n===0?Bn.utcInstance:new Bn(n)}static parseSpecifier(n){if(n){const r=n.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new Bn(Zc(r[1],r[2]))}return null}constructor(n){super(),this.fixed=n}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${_o(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${_o(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(n,r){return _o(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(n){return n.type==="fixed"&&n.fixed===this.fixed}get isValid(){return!0}}class fw extends ks{constructor(n){super(),this.zoneName=n}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Pr(a,n){if(qe(a)||a===null)return n;if(a instanceof ks)return a;if(gN(a)){const r=a.toLowerCase();return r==="default"?n:r==="local"||r==="system"?Uo.instance:r==="utc"||r==="gmt"?Bn.utcInstance:Bn.parseSpecifier(r)||Ga.create(a)}else return Kr(a)?Bn.instance(a):typeof a=="object"&&"offset"in a&&typeof a.offset=="function"?a:new fw(a)}const Xh={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},O0={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},fN=Xh.hanidec.replace(/[\[|\]]/g,"").split("");function hN(a){let n=parseInt(a,10);if(isNaN(n)){n="";for(let r=0;r<a.length;r++){const s=a.charCodeAt(r);if(a[r].search(Xh.hanidec)!==-1)n+=fN.indexOf(a[r]);else for(const l in O0){const[c,d]=O0[l];s>=c&&s<=d&&(n+=s-c)}}return parseInt(n,10)}else return n}const wh=new Map;function pN(){wh.clear()}function Na({numberingSystem:a},n=""){const r=a||"latn";let s=wh.get(r);s===void 0&&(s=new Map,wh.set(r,s));let l=s.get(n);return l===void 0&&(l=new RegExp(`${Xh[r]}${n}`),s.set(n,l)),l}let j0=()=>Date.now(),A0="system",_0=null,D0=null,M0=null,R0=60,z0,L0=null;class Xt{static get now(){return j0}static set now(n){j0=n}static set defaultZone(n){A0=n}static get defaultZone(){return Pr(A0,Uo.instance)}static get defaultLocale(){return _0}static set defaultLocale(n){_0=n}static get defaultNumberingSystem(){return D0}static set defaultNumberingSystem(n){D0=n}static get defaultOutputCalendar(){return M0}static set defaultOutputCalendar(n){M0=n}static get defaultWeekSettings(){return L0}static set defaultWeekSettings(n){L0=Sh(n)}static get twoDigitCutoffYear(){return R0}static set twoDigitCutoffYear(n){R0=n%100}static get throwOnInvalid(){return z0}static set throwOnInvalid(n){z0=n}static resetCaches(){Nt.resetCache(),Ga.resetCache(),Fe.resetCache(),pN()}}class Aa{constructor(n,r){this.reason=n,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const hw=[0,31,59,90,120,151,181,212,243,273,304,334],pw=[0,31,60,91,121,152,182,213,244,274,305,335];function ba(a,n){return new Aa("unit out of range",`you specified ${n} (of type ${typeof n}) as a ${a}, which is invalid`)}function Kh(a,n,r){const s=new Date(Date.UTC(a,n-1,r));a<100&&a>=0&&s.setUTCFullYear(s.getUTCFullYear()-1900);const l=s.getUTCDay();return l===0?7:l}function mw(a,n,r){return r+(Io(a)?pw:hw)[n-1]}function yw(a,n){const r=Io(a)?pw:hw,s=r.findIndex(c=>c<n),l=n-r[s];return{month:s+1,day:l}}function Qh(a,n){return(a-n+7)%7+1}function Rc(a,n=4,r=1){const{year:s,month:l,day:c}=a,d=mw(s,l,c),h=Qh(Kh(s,l,c),r);let m=Math.floor((d-h+14-n)/7),y;return m<1?(y=s-1,m=zo(y,n,r)):m>zo(s,n,r)?(y=s+1,m=1):y=s,{weekYear:y,weekNumber:m,weekday:h,...Xc(a)}}function B0(a,n=4,r=1){const{weekYear:s,weekNumber:l,weekday:c}=a,d=Qh(Kh(s,1,n),r),h=fs(s);let m=l*7+c-d-7+n,y;m<1?(y=s-1,m+=fs(y)):m>h?(y=s+1,m-=fs(s)):y=s;const{month:v,day:b}=yw(y,m);return{year:y,month:v,day:b,...Xc(a)}}function Lf(a){const{year:n,month:r,day:s}=a,l=mw(n,r,s);return{year:n,ordinal:l,...Xc(a)}}function U0(a){const{year:n,ordinal:r}=a,{month:s,day:l}=yw(n,r);return{year:n,month:s,day:l,...Xc(a)}}function I0(a,n){if(!qe(a.localWeekday)||!qe(a.localWeekNumber)||!qe(a.localWeekYear)){if(!qe(a.weekday)||!qe(a.weekNumber)||!qe(a.weekYear))throw new us("Cannot mix locale-based week fields with ISO-based week fields");return qe(a.localWeekday)||(a.weekday=a.localWeekday),qe(a.localWeekNumber)||(a.weekNumber=a.localWeekNumber),qe(a.localWeekYear)||(a.weekYear=a.localWeekYear),delete a.localWeekday,delete a.localWeekNumber,delete a.localWeekYear,{minDaysInFirstWeek:n.getMinDaysInFirstWeek(),startOfWeek:n.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function mN(a,n=4,r=1){const s=Fc(a.weekYear),l=wa(a.weekNumber,1,zo(a.weekYear,n,r)),c=wa(a.weekday,1,7);return s?l?c?!1:ba("weekday",a.weekday):ba("week",a.weekNumber):ba("weekYear",a.weekYear)}function yN(a){const n=Fc(a.year),r=wa(a.ordinal,1,fs(a.year));return n?r?!1:ba("ordinal",a.ordinal):ba("year",a.year)}function gw(a){const n=Fc(a.year),r=wa(a.month,1,12),s=wa(a.day,1,zc(a.year,a.month));return n?r?s?!1:ba("day",a.day):ba("month",a.month):ba("year",a.year)}function vw(a){const{hour:n,minute:r,second:s,millisecond:l}=a,c=wa(n,0,23)||n===24&&r===0&&s===0&&l===0,d=wa(r,0,59),h=wa(s,0,59),m=wa(l,0,999);return c?d?h?m?!1:ba("millisecond",l):ba("second",s):ba("minute",r):ba("hour",n)}function qe(a){return typeof a>"u"}function Kr(a){return typeof a=="number"}function Fc(a){return typeof a=="number"&&a%1===0}function gN(a){return typeof a=="string"}function vN(a){return Object.prototype.toString.call(a)==="[object Date]"}function bw(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function ww(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function bN(a){return Array.isArray(a)?a:[a]}function $0(a,n,r){if(a.length!==0)return a.reduce((s,l)=>{const c=[n(l),l];return s&&r(s[0],c[0])===s[0]?s:c},null)[1]}function wN(a,n){return n.reduce((r,s)=>(r[s]=a[s],r),{})}function bs(a,n){return Object.prototype.hasOwnProperty.call(a,n)}function Sh(a){if(a==null)return null;if(typeof a!="object")throw new zn("Week settings must be an object");if(!wa(a.firstDay,1,7)||!wa(a.minimalDays,1,7)||!Array.isArray(a.weekend)||a.weekend.some(n=>!wa(n,1,7)))throw new zn("Invalid week settings");return{firstDay:a.firstDay,minimalDays:a.minimalDays,weekend:Array.from(a.weekend)}}function wa(a,n,r){return Fc(a)&&a>=n&&a<=r}function SN(a,n){return a-n*Math.floor(a/n)}function yn(a,n=2){const r=a<0;let s;return r?s="-"+(""+-a).padStart(n,"0"):s=(""+a).padStart(n,"0"),s}function Fr(a){if(!(qe(a)||a===null||a===""))return parseInt(a,10)}function yi(a){if(!(qe(a)||a===null||a===""))return parseFloat(a)}function Wh(a){if(!(qe(a)||a===null||a==="")){const n=parseFloat("0."+a)*1e3;return Math.floor(n)}}function Jh(a,n,r="round"){const s=10**n;switch(r){case"expand":return a>0?Math.ceil(a*s)/s:Math.floor(a*s)/s;case"trunc":return Math.trunc(a*s)/s;case"round":return Math.round(a*s)/s;case"floor":return Math.floor(a*s)/s;case"ceil":return Math.ceil(a*s)/s;default:throw new RangeError(`Value rounding ${r} is out of range`)}}function Io(a){return a%4===0&&(a%100!==0||a%400===0)}function fs(a){return Io(a)?366:365}function zc(a,n){const r=SN(n-1,12)+1,s=a+(n-r)/12;return r===2?Io(s)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function Pc(a){let n=Date.UTC(a.year,a.month-1,a.day,a.hour,a.minute,a.second,a.millisecond);return a.year<100&&a.year>=0&&(n=new Date(n),n.setUTCFullYear(a.year,a.month-1,a.day)),+n}function H0(a,n,r){return-Qh(Kh(a,1,n),r)+n-1}function zo(a,n=4,r=1){const s=H0(a,n,r),l=H0(a+1,n,r);return(fs(a)-s+l)/7}function xh(a){return a>99?a:a>Xt.twoDigitCutoffYear?1900+a:2e3+a}function Sw(a,n,r,s=null){const l=new Date(a),c={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};s&&(c.timeZone=s);const d={timeZoneName:n,...c},h=new Intl.DateTimeFormat(r,d).formatToParts(l).find(m=>m.type.toLowerCase()==="timezonename");return h?h.value:null}function Zc(a,n){let r=parseInt(a,10);Number.isNaN(r)&&(r=0);const s=parseInt(n,10)||0,l=r<0||Object.is(r,-0)?-s:s;return r*60+l}function xw(a){const n=Number(a);if(typeof a=="boolean"||a===""||!Number.isFinite(n))throw new zn(`Invalid unit value ${a}`);return n}function Lc(a,n){const r={};for(const s in a)if(bs(a,s)){const l=a[s];if(l==null)continue;r[n(s)]=xw(l)}return r}function _o(a,n){const r=Math.trunc(Math.abs(a/60)),s=Math.trunc(Math.abs(a%60)),l=a>=0?"+":"-";switch(n){case"short":return`${l}${yn(r,2)}:${yn(s,2)}`;case"narrow":return`${l}${r}${s>0?`:${s}`:""}`;case"techie":return`${l}${yn(r,2)}${yn(s,2)}`;default:throw new RangeError(`Value format ${n} is out of range for property format`)}}function Xc(a){return wN(a,["hour","minute","second","millisecond"])}const xN=["January","February","March","April","May","June","July","August","September","October","November","December"],Ew=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],EN=["J","F","M","A","M","J","J","A","S","O","N","D"];function kw(a){switch(a){case"narrow":return[...EN];case"short":return[...Ew];case"long":return[...xN];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Cw=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Tw=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],kN=["M","T","W","T","F","S","S"];function Nw(a){switch(a){case"narrow":return[...kN];case"short":return[...Tw];case"long":return[...Cw];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Ow=["AM","PM"],CN=["Before Christ","Anno Domini"],TN=["BC","AD"],NN=["B","A"];function jw(a){switch(a){case"narrow":return[...NN];case"short":return[...TN];case"long":return[...CN];default:return null}}function ON(a){return Ow[a.hour<12?0:1]}function jN(a,n){return Nw(n)[a.weekday-1]}function AN(a,n){return kw(n)[a.month-1]}function _N(a,n){return jw(n)[a.year<0?0:1]}function DN(a,n,r="always",s=!1){const l={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},c=["hours","minutes","seconds"].indexOf(a)===-1;if(r==="auto"&&c){const b=a==="days";switch(n){case 1:return b?"tomorrow":`next ${l[a][0]}`;case-1:return b?"yesterday":`last ${l[a][0]}`;case 0:return b?"today":`this ${l[a][0]}`}}const d=Object.is(n,-0)||n<0,h=Math.abs(n),m=h===1,y=l[a],v=s?m?y[1]:y[2]||y[1]:m?l[a][0]:a;return d?`${h} ${v} ago`:`in ${h} ${v}`}function V0(a,n){let r="";for(const s of a)s.literal?r+=s.val:r+=n(s.val);return r}const MN={D:Mc,DD:Y1,DDD:F1,DDDD:P1,t:Z1,tt:X1,ttt:K1,tttt:Q1,T:W1,TT:J1,TTT:ew,TTTT:tw,f:nw,ff:rw,fff:sw,ffff:lw,F:aw,FF:iw,FFF:ow,FFFF:cw};class Ln{static create(n,r={}){return new Ln(n,r)}static parseFormat(n){let r=null,s="",l=!1;const c=[];for(let d=0;d<n.length;d++){const h=n.charAt(d);h==="'"?((s.length>0||l)&&c.push({literal:l||/^\s+$/.test(s),val:s===""?"'":s}),r=null,s="",l=!l):l||h===r?s+=h:(s.length>0&&c.push({literal:/^\s+$/.test(s),val:s}),s=h,r=h)}return s.length>0&&c.push({literal:l||/^\s+$/.test(s),val:s}),c}static macroTokenToFormatOpts(n){return MN[n]}constructor(n,r){this.opts=r,this.loc=n,this.systemLoc=null}formatWithSystemDefault(n,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(n,{...this.opts,...r}).format()}dtFormatter(n,r={}){return this.loc.dtFormatter(n,{...this.opts,...r})}formatDateTime(n,r){return this.dtFormatter(n,r).format()}formatDateTimeParts(n,r){return this.dtFormatter(n,r).formatToParts()}formatInterval(n,r){return this.dtFormatter(n.start,r).dtf.formatRange(n.start.toJSDate(),n.end.toJSDate())}resolvedOptions(n,r){return this.dtFormatter(n,r).resolvedOptions()}num(n,r=0,s=void 0){if(this.opts.forceSimple)return yn(n,r);const l={...this.opts};return r>0&&(l.padTo=r),s&&(l.signDisplay=s),this.loc.numberFormatter(l).format(n)}formatDateTimeFromString(n,r){const s=this.loc.listingMode()==="en",l=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",c=(k,j)=>this.loc.extract(n,k,j),d=k=>n.isOffsetFixed&&n.offset===0&&k.allowZ?"Z":n.isValid?n.zone.formatOffset(n.ts,k.format):"",h=()=>s?ON(n):c({hour:"numeric",hourCycle:"h12"},"dayperiod"),m=(k,j)=>s?AN(n,k):c(j?{month:k}:{month:k,day:"numeric"},"month"),y=(k,j)=>s?jN(n,k):c(j?{weekday:k}:{weekday:k,month:"long",day:"numeric"},"weekday"),v=k=>{const j=Ln.macroTokenToFormatOpts(k);return j?this.formatWithSystemDefault(n,j):k},b=k=>s?_N(n,k):c({era:k},"era"),x=k=>{switch(k){case"S":return this.num(n.millisecond);case"u":case"SSS":return this.num(n.millisecond,3);case"s":return this.num(n.second);case"ss":return this.num(n.second,2);case"uu":return this.num(Math.floor(n.millisecond/10),2);case"uuu":return this.num(Math.floor(n.millisecond/100));case"m":return this.num(n.minute);case"mm":return this.num(n.minute,2);case"h":return this.num(n.hour%12===0?12:n.hour%12);case"hh":return this.num(n.hour%12===0?12:n.hour%12,2);case"H":return this.num(n.hour);case"HH":return this.num(n.hour,2);case"Z":return d({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return d({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return d({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return n.zone.offsetName(n.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return n.zone.offsetName(n.ts,{format:"long",locale:this.loc.locale});case"z":return n.zoneName;case"a":return h();case"d":return l?c({day:"numeric"},"day"):this.num(n.day);case"dd":return l?c({day:"2-digit"},"day"):this.num(n.day,2);case"c":return this.num(n.weekday);case"ccc":return y("short",!0);case"cccc":return y("long",!0);case"ccccc":return y("narrow",!0);case"E":return this.num(n.weekday);case"EEE":return y("short",!1);case"EEEE":return y("long",!1);case"EEEEE":return y("narrow",!1);case"L":return l?c({month:"numeric",day:"numeric"},"month"):this.num(n.month);case"LL":return l?c({month:"2-digit",day:"numeric"},"month"):this.num(n.month,2);case"LLL":return m("short",!0);case"LLLL":return m("long",!0);case"LLLLL":return m("narrow",!0);case"M":return l?c({month:"numeric"},"month"):this.num(n.month);case"MM":return l?c({month:"2-digit"},"month"):this.num(n.month,2);case"MMM":return m("short",!1);case"MMMM":return m("long",!1);case"MMMMM":return m("narrow",!1);case"y":return l?c({year:"numeric"},"year"):this.num(n.year);case"yy":return l?c({year:"2-digit"},"year"):this.num(n.year.toString().slice(-2),2);case"yyyy":return l?c({year:"numeric"},"year"):this.num(n.year,4);case"yyyyyy":return l?c({year:"numeric"},"year"):this.num(n.year,6);case"G":return b("short");case"GG":return b("long");case"GGGGG":return b("narrow");case"kk":return this.num(n.weekYear.toString().slice(-2),2);case"kkkk":return this.num(n.weekYear,4);case"W":return this.num(n.weekNumber);case"WW":return this.num(n.weekNumber,2);case"n":return this.num(n.localWeekNumber);case"nn":return this.num(n.localWeekNumber,2);case"ii":return this.num(n.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(n.localWeekYear,4);case"o":return this.num(n.ordinal);case"ooo":return this.num(n.ordinal,3);case"q":return this.num(n.quarter);case"qq":return this.num(n.quarter,2);case"X":return this.num(Math.floor(n.ts/1e3));case"x":return this.num(n.ts);default:return v(k)}};return V0(Ln.parseFormat(r),x)}formatDurationFromString(n,r){const s=this.opts.signMode==="negativeLargestOnly"?-1:1,l=v=>{switch(v[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"w":return"weeks";case"M":return"months";case"y":return"years";default:return null}},c=(v,b)=>x=>{const k=l(x);if(k){const j=b.isNegativeDuration&&k!==b.largestUnit?s:1;let Z;return this.opts.signMode==="negativeLargestOnly"&&k!==b.largestUnit?Z="never":this.opts.signMode==="all"?Z="always":Z="auto",this.num(v.get(k)*j,x.length,Z)}else return x},d=Ln.parseFormat(r),h=d.reduce((v,{literal:b,val:x})=>b?v:v.concat(x),[]),m=n.shiftTo(...h.map(l).filter(v=>v)),y={isNegativeDuration:m<0,largestUnit:Object.keys(m.values)[0]};return V0(d,c(m,y))}}const Aw=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Cs(...a){const n=a.reduce((r,s)=>r+s.source,"");return RegExp(`^${n}$`)}function Ts(...a){return n=>a.reduce(([r,s,l],c)=>{const[d,h,m]=c(n,l);return[{...r,...d},h||s,m]},[{},null,1]).slice(0,2)}function Ns(a,...n){if(a==null)return[null,null];for(const[r,s]of n){const l=r.exec(a);if(l)return s(l)}return[null,null]}function _w(...a){return(n,r)=>{const s={};let l;for(l=0;l<a.length;l++)s[a[l]]=Fr(n[r+l]);return[s,null,r+l]}}const Dw=/(?:([Zz])|([+-]\d\d)(?::?(\d\d))?)/,RN=`(?:${Dw.source}?(?:\\[(${Aw.source})\\])?)?`,ep=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Mw=RegExp(`${ep.source}${RN}`),tp=RegExp(`(?:[Tt]${Mw.source})?`),zN=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,LN=/(\d{4})-?W(\d\d)(?:-?(\d))?/,BN=/(\d{4})-?(\d{3})/,UN=_w("weekYear","weekNumber","weekDay"),IN=_w("year","ordinal"),$N=/(\d{4})-(\d\d)-(\d\d)/,Rw=RegExp(`${ep.source} ?(?:${Dw.source}|(${Aw.source}))?`),HN=RegExp(`(?: ${Rw.source})?`);function hs(a,n,r){const s=a[n];return qe(s)?r:Fr(s)}function VN(a,n){return[{year:hs(a,n),month:hs(a,n+1,1),day:hs(a,n+2,1)},null,n+3]}function Os(a,n){return[{hours:hs(a,n,0),minutes:hs(a,n+1,0),seconds:hs(a,n+2,0),milliseconds:Wh(a[n+3])},null,n+4]}function $o(a,n){const r=!a[n]&&!a[n+1],s=Zc(a[n+1],a[n+2]),l=r?null:Bn.instance(s);return[{},l,n+3]}function Ho(a,n){const r=a[n]?Ga.create(a[n]):null;return[{},r,n+1]}const qN=RegExp(`^T?${ep.source}$`),GN=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function YN(a){const[n,r,s,l,c,d,h,m,y]=a,v=n[0]==="-",b=m&&m[0]==="-",x=(k,j=!1)=>k!==void 0&&(j||k&&v)?-k:k;return[{years:x(yi(r)),months:x(yi(s)),weeks:x(yi(l)),days:x(yi(c)),hours:x(yi(d)),minutes:x(yi(h)),seconds:x(yi(m),m==="-0"),milliseconds:x(Wh(y),b)}]}const FN={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function np(a,n,r,s,l,c,d){const h={year:n.length===2?xh(Fr(n)):Fr(n),month:Ew.indexOf(r)+1,day:Fr(s),hour:Fr(l),minute:Fr(c)};return d&&(h.second=Fr(d)),a&&(h.weekday=a.length>3?Cw.indexOf(a)+1:Tw.indexOf(a)+1),h}const PN=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function ZN(a){const[,n,r,s,l,c,d,h,m,y,v,b]=a,x=np(n,l,s,r,c,d,h);let k;return m?k=FN[m]:y?k=0:k=Zc(v,b),[x,new Bn(k)]}function XN(a){return a.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const KN=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,QN=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,WN=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function q0(a){const[,n,r,s,l,c,d,h]=a;return[np(n,l,s,r,c,d,h),Bn.utcInstance]}function JN(a){const[,n,r,s,l,c,d,h]=a;return[np(n,h,r,s,l,c,d),Bn.utcInstance]}const eO=Cs(zN,tp),tO=Cs(LN,tp),nO=Cs(BN,tp),aO=Cs(Mw),zw=Ts(VN,Os,$o,Ho),rO=Ts(UN,Os,$o,Ho),iO=Ts(IN,Os,$o,Ho),sO=Ts(Os,$o,Ho);function oO(a){return Ns(a,[eO,zw],[tO,rO],[nO,iO],[aO,sO])}function lO(a){return Ns(XN(a),[PN,ZN])}function cO(a){return Ns(a,[KN,q0],[QN,q0],[WN,JN])}function uO(a){return Ns(a,[GN,YN])}const dO=Ts(Os);function fO(a){return Ns(a,[qN,dO])}const hO=Cs($N,HN),pO=Cs(Rw),mO=Ts(Os,$o,Ho);function yO(a){return Ns(a,[hO,zw],[pO,mO])}const G0="Invalid Duration",Lw={weeks:{days:7,hours:168,minutes:10080,seconds:10080*60,milliseconds:10080*60*1e3},days:{hours:24,minutes:1440,seconds:1440*60,milliseconds:1440*60*1e3},hours:{minutes:60,seconds:3600,milliseconds:3600*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},gO={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:2184*60,seconds:2184*60*60,milliseconds:2184*60*60*1e3},months:{weeks:4,days:30,hours:720,minutes:720*60,seconds:720*60*60,milliseconds:720*60*60*1e3},...Lw},ga=146097/400,is=146097/4800,vO={years:{quarters:4,months:12,weeks:ga/7,days:ga,hours:ga*24,minutes:ga*24*60,seconds:ga*24*60*60,milliseconds:ga*24*60*60*1e3},quarters:{months:3,weeks:ga/28,days:ga/4,hours:ga*24/4,minutes:ga*24*60/4,seconds:ga*24*60*60/4,milliseconds:ga*24*60*60*1e3/4},months:{weeks:is/7,days:is,hours:is*24,minutes:is*24*60,seconds:is*24*60*60,milliseconds:is*24*60*60*1e3},...Lw},wi=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],bO=wi.slice(0).reverse();function mr(a,n,r=!1){const s={values:r?n.values:{...a.values,...n.values||{}},loc:a.loc.clone(n.loc),conversionAccuracy:n.conversionAccuracy||a.conversionAccuracy,matrix:n.matrix||a.matrix};return new yt(s)}function Bw(a,n){let r=n.milliseconds??0;for(const s of bO.slice(1))n[s]&&(r+=n[s]*a[s].milliseconds);return r}function Y0(a,n){const r=Bw(a,n)<0?-1:1;wi.reduceRight((s,l)=>{if(qe(n[l]))return s;if(s){const c=n[s]*r,d=a[l][s],h=Math.floor(c/d);n[l]+=h*r,n[s]-=h*d*r}return l},null),wi.reduce((s,l)=>{if(qe(n[l]))return s;if(s){const c=n[s]%1;n[s]-=c,n[l]+=c*a[s][l]}return l},null)}function F0(a){const n={};for(const[r,s]of Object.entries(a))s!==0&&(n[r]=s);return n}class yt{constructor(n){const r=n.conversionAccuracy==="longterm"||!1;let s=r?vO:gO;n.matrix&&(s=n.matrix),this.values=n.values,this.loc=n.loc||Nt.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=n.invalid||null,this.matrix=s,this.isLuxonDuration=!0}static fromMillis(n,r){return yt.fromObject({milliseconds:n},r)}static fromObject(n,r={}){if(n==null||typeof n!="object")throw new zn(`Duration.fromObject: argument expected to be an object, got ${n===null?"null":typeof n}`);return new yt({values:Lc(n,yt.normalizeUnit),loc:Nt.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(n){if(Kr(n))return yt.fromMillis(n);if(yt.isDuration(n))return n;if(typeof n=="object")return yt.fromObject(n);throw new zn(`Unknown duration argument ${n} of type ${typeof n}`)}static fromISO(n,r){const[s]=uO(n);return s?yt.fromObject(s,r):yt.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static fromISOTime(n,r){const[s]=fO(n);return s?yt.fromObject(s,r):yt.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static invalid(n,r=null){if(!n)throw new zn("need to specify a reason the Duration is invalid");const s=n instanceof Aa?n:new Aa(n,r);if(Xt.throwOnInvalid)throw new FT(s);return new yt({invalid:s})}static normalizeUnit(n){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[n&&n.toLowerCase()];if(!r)throw new G1(n);return r}static isDuration(n){return n&&n.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(n,r={}){const s={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?Ln.create(this.loc,s).formatDurationFromString(this,n):G0}toHuman(n={}){if(!this.isValid)return G0;const r=n.showZeros!==!1,s=wi.map(l=>{const c=this.values[l];return qe(c)||c===0&&!r?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...n,unit:l.slice(0,-1)}).format(c)}).filter(l=>l);return this.loc.listFormatter({type:"conjunction",style:n.listStyle||"narrow",...n}).format(s)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let n="P";return this.years!==0&&(n+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(n+=this.months+this.quarters*3+"M"),this.weeks!==0&&(n+=this.weeks+"W"),this.days!==0&&(n+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(n+="T"),this.hours!==0&&(n+=this.hours+"H"),this.minutes!==0&&(n+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(n+=Jh(this.seconds+this.milliseconds/1e3,3)+"S"),n==="P"&&(n+="T0S"),n}toISOTime(n={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(n={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...n,includeOffset:!1},Fe.fromMillis(r,{zone:"UTC"}).toISOTime(n))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Bw(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(n){if(!this.isValid)return this;const r=yt.fromDurationLike(n),s={};for(const l of wi)(bs(r.values,l)||bs(this.values,l))&&(s[l]=r.get(l)+this.get(l));return mr(this,{values:s},!0)}minus(n){if(!this.isValid)return this;const r=yt.fromDurationLike(n);return this.plus(r.negate())}mapUnits(n){if(!this.isValid)return this;const r={};for(const s of Object.keys(this.values))r[s]=xw(n(this.values[s],s));return mr(this,{values:r},!0)}get(n){return this[yt.normalizeUnit(n)]}set(n){if(!this.isValid)return this;const r={...this.values,...Lc(n,yt.normalizeUnit)};return mr(this,{values:r})}reconfigure({locale:n,numberingSystem:r,conversionAccuracy:s,matrix:l}={}){const d={loc:this.loc.clone({locale:n,numberingSystem:r}),matrix:l,conversionAccuracy:s};return mr(this,d)}as(n){return this.isValid?this.shiftTo(n).get(n):NaN}normalize(){if(!this.isValid)return this;const n=this.toObject();return Y0(this.matrix,n),mr(this,{values:n},!0)}rescale(){if(!this.isValid)return this;const n=F0(this.normalize().shiftToAll().toObject());return mr(this,{values:n},!0)}shiftTo(...n){if(!this.isValid)return this;if(n.length===0)return this;n=n.map(d=>yt.normalizeUnit(d));const r={},s={},l=this.toObject();let c;for(const d of wi)if(n.indexOf(d)>=0){c=d;let h=0;for(const y in s)h+=this.matrix[y][d]*s[y],s[y]=0;Kr(l[d])&&(h+=l[d]);const m=Math.trunc(h);r[d]=m,s[d]=(h*1e3-m*1e3)/1e3}else Kr(l[d])&&(s[d]=l[d]);for(const d in s)s[d]!==0&&(r[c]+=d===c?s[d]:s[d]/this.matrix[c][d]);return Y0(this.matrix,r),mr(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=this.values[r]===0?0:-this.values[r];return mr(this,{values:n},!0)}removeZeros(){if(!this.isValid)return this;const n=F0(this.values);return mr(this,{values:n},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(n){if(!this.isValid||!n.isValid||!this.loc.equals(n.loc))return!1;function r(s,l){return s===void 0||s===0?l===void 0||l===0:s===l}for(const s of wi)if(!r(this.values[s],n.values[s]))return!1;return!0}}const ss="Invalid Interval";function wO(a,n){return!a||!a.isValid?Zt.invalid("missing or invalid start"):!n||!n.isValid?Zt.invalid("missing or invalid end"):n<a?Zt.invalid("end before start",`The end of an interval must be after its start, but you had start=${a.toISO()} and end=${n.toISO()}`):null}class Zt{constructor(n){this.s=n.start,this.e=n.end,this.invalid=n.invalid||null,this.isLuxonInterval=!0}static invalid(n,r=null){if(!n)throw new zn("need to specify a reason the Interval is invalid");const s=n instanceof Aa?n:new Aa(n,r);if(Xt.throwOnInvalid)throw new YT(s);return new Zt({invalid:s})}static fromDateTimes(n,r){const s=So(n),l=So(r),c=wO(s,l);return c??new Zt({start:s,end:l})}static after(n,r){const s=yt.fromDurationLike(r),l=So(n);return Zt.fromDateTimes(l,l.plus(s))}static before(n,r){const s=yt.fromDurationLike(r),l=So(n);return Zt.fromDateTimes(l.minus(s),l)}static fromISO(n,r){const[s,l]=(n||"").split("/",2);if(s&&l){let c,d;try{c=Fe.fromISO(s,r),d=c.isValid}catch{d=!1}let h,m;try{h=Fe.fromISO(l,r),m=h.isValid}catch{m=!1}if(d&&m)return Zt.fromDateTimes(c,h);if(d){const y=yt.fromISO(l,r);if(y.isValid)return Zt.after(c,y)}else if(m){const y=yt.fromISO(s,r);if(y.isValid)return Zt.before(h,y)}}return Zt.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static isInterval(n){return n&&n.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(n="milliseconds"){return this.isValid?this.toDuration(n).get(n):NaN}count(n="milliseconds",r){if(!this.isValid)return NaN;const s=this.start.startOf(n,r);let l;return r?.useLocaleWeeks?l=this.end.reconfigure({locale:s.locale}):l=this.end,l=l.startOf(n,r),Math.floor(l.diff(s,n).get(n))+(l.valueOf()!==this.end.valueOf())}hasSame(n){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,n):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(n){return this.isValid?this.s>n:!1}isBefore(n){return this.isValid?this.e<=n:!1}contains(n){return this.isValid?this.s<=n&&this.e>n:!1}set({start:n,end:r}={}){return this.isValid?Zt.fromDateTimes(n||this.s,r||this.e):this}splitAt(...n){if(!this.isValid)return[];const r=n.map(So).filter(d=>this.contains(d)).sort((d,h)=>d.toMillis()-h.toMillis()),s=[];let{s:l}=this,c=0;for(;l<this.e;){const d=r[c]||this.e,h=+d>+this.e?this.e:d;s.push(Zt.fromDateTimes(l,h)),l=h,c+=1}return s}splitBy(n){const r=yt.fromDurationLike(n);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s}=this,l=1,c;const d=[];for(;s<this.e;){const h=this.start.plus(r.mapUnits(m=>m*l));c=+h>+this.e?this.e:h,d.push(Zt.fromDateTimes(s,c)),s=c,l+=1}return d}divideEqually(n){return this.isValid?this.splitBy(this.length()/n).slice(0,n):[]}overlaps(n){return this.e>n.s&&this.s<n.e}abutsStart(n){return this.isValid?+this.e==+n.s:!1}abutsEnd(n){return this.isValid?+n.e==+this.s:!1}engulfs(n){return this.isValid?this.s<=n.s&&this.e>=n.e:!1}equals(n){return!this.isValid||!n.isValid?!1:this.s.equals(n.s)&&this.e.equals(n.e)}intersection(n){if(!this.isValid)return this;const r=this.s>n.s?this.s:n.s,s=this.e<n.e?this.e:n.e;return r>=s?null:Zt.fromDateTimes(r,s)}union(n){if(!this.isValid)return this;const r=this.s<n.s?this.s:n.s,s=this.e>n.e?this.e:n.e;return Zt.fromDateTimes(r,s)}static merge(n){const[r,s]=n.sort((l,c)=>l.s-c.s).reduce(([l,c],d)=>c?c.overlaps(d)||c.abutsStart(d)?[l,c.union(d)]:[l.concat([c]),d]:[l,d],[[],null]);return s&&r.push(s),r}static xor(n){let r=null,s=0;const l=[],c=n.map(m=>[{time:m.s,type:"s"},{time:m.e,type:"e"}]),d=Array.prototype.concat(...c),h=d.sort((m,y)=>m.time-y.time);for(const m of h)s+=m.type==="s"?1:-1,s===1?r=m.time:(r&&+r!=+m.time&&l.push(Zt.fromDateTimes(r,m.time)),r=null);return Zt.merge(l)}difference(...n){return Zt.xor([this].concat(n)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:ss}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(n=Mc,r={}){return this.isValid?Ln.create(this.s.loc.clone(r),n).formatInterval(this):ss}toISO(n){return this.isValid?`${this.s.toISO(n)}/${this.e.toISO(n)}`:ss}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:ss}toISOTime(n){return this.isValid?`${this.s.toISOTime(n)}/${this.e.toISOTime(n)}`:ss}toFormat(n,{separator:r="  "}={}){return this.isValid?`${this.s.toFormat(n)}${r}${this.e.toFormat(n)}`:ss}toDuration(n,r){return this.isValid?this.e.diff(this.s,n,r):yt.invalid(this.invalidReason)}mapEndpoints(n){return Zt.fromDateTimes(n(this.s),n(this.e))}}class Co{static hasDST(n=Xt.defaultZone){const r=Fe.now().setZone(n).set({month:12});return!n.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(n){return Ga.isValidZone(n)}static normalizeZone(n){return Pr(n,Xt.defaultZone)}static getStartOfWeek({locale:n=null,locObj:r=null}={}){return(r||Nt.create(n)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:n=null,locObj:r=null}={}){return(r||Nt.create(n)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:n=null,locObj:r=null}={}){return(r||Nt.create(n)).getWeekendDays().slice()}static months(n="long",{locale:r=null,numberingSystem:s=null,locObj:l=null,outputCalendar:c="gregory"}={}){return(l||Nt.create(r,s,c)).months(n)}static monthsFormat(n="long",{locale:r=null,numberingSystem:s=null,locObj:l=null,outputCalendar:c="gregory"}={}){return(l||Nt.create(r,s,c)).months(n,!0)}static weekdays(n="long",{locale:r=null,numberingSystem:s=null,locObj:l=null}={}){return(l||Nt.create(r,s,null)).weekdays(n)}static weekdaysFormat(n="long",{locale:r=null,numberingSystem:s=null,locObj:l=null}={}){return(l||Nt.create(r,s,null)).weekdays(n,!0)}static meridiems({locale:n=null}={}){return Nt.create(n).meridiems()}static eras(n="short",{locale:r=null}={}){return Nt.create(r,null,"gregory").eras(n)}static features(){return{relative:bw(),localeWeek:ww()}}}function P0(a,n){const r=l=>l.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),s=r(n)-r(a);return Math.floor(yt.fromMillis(s).as("days"))}function SO(a,n,r){const s=[["years",(m,y)=>y.year-m.year],["quarters",(m,y)=>y.quarter-m.quarter+(y.year-m.year)*4],["months",(m,y)=>y.month-m.month+(y.year-m.year)*12],["weeks",(m,y)=>{const v=P0(m,y);return(v-v%7)/7}],["days",P0]],l={},c=a;let d,h;for(const[m,y]of s)r.indexOf(m)>=0&&(d=m,l[m]=y(a,n),h=c.plus(l),h>n?(l[m]--,a=c.plus(l),a>n&&(h=a,l[m]--,a=c.plus(l))):a=h);return[a,l,h,d]}function xO(a,n,r,s){let[l,c,d,h]=SO(a,n,r);const m=n-l,y=r.filter(b=>["hours","minutes","seconds","milliseconds"].indexOf(b)>=0);y.length===0&&(d<n&&(d=l.plus({[h]:1})),d!==l&&(c[h]=(c[h]||0)+m/(d-l)));const v=yt.fromObject(c,s);return y.length>0?yt.fromMillis(m,s).shiftTo(...y).plus(v):v}const EO="missing Intl.DateTimeFormat.formatToParts support";function kt(a,n=r=>r){return{regex:a,deser:([r])=>n(hN(r))}}const kO="",Uw=`[ ${kO}]`,Iw=new RegExp(Uw,"g");function CO(a){return a.replace(/\./g,"\\.?").replace(Iw,Uw)}function Z0(a){return a.replace(/\./g,"").replace(Iw," ").toLowerCase()}function Oa(a,n){return a===null?null:{regex:RegExp(a.map(CO).join("|")),deser:([r])=>a.findIndex(s=>Z0(r)===Z0(s))+n}}function X0(a,n){return{regex:a,deser:([,r,s])=>Zc(r,s),groups:n}}function fc(a){return{regex:a,deser:([n])=>n}}function TO(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function NO(a,n){const r=Na(n),s=Na(n,"{2}"),l=Na(n,"{3}"),c=Na(n,"{4}"),d=Na(n,"{6}"),h=Na(n,"{1,2}"),m=Na(n,"{1,3}"),y=Na(n,"{1,6}"),v=Na(n,"{1,9}"),b=Na(n,"{2,4}"),x=Na(n,"{4,6}"),k=q=>({regex:RegExp(TO(q.val)),deser:([Q])=>Q,literal:!0}),Z=(q=>{if(a.literal)return k(q);switch(q.val){case"G":return Oa(n.eras("short"),0);case"GG":return Oa(n.eras("long"),0);case"y":return kt(y);case"yy":return kt(b,xh);case"yyyy":return kt(c);case"yyyyy":return kt(x);case"yyyyyy":return kt(d);case"M":return kt(h);case"MM":return kt(s);case"MMM":return Oa(n.months("short",!0),1);case"MMMM":return Oa(n.months("long",!0),1);case"L":return kt(h);case"LL":return kt(s);case"LLL":return Oa(n.months("short",!1),1);case"LLLL":return Oa(n.months("long",!1),1);case"d":return kt(h);case"dd":return kt(s);case"o":return kt(m);case"ooo":return kt(l);case"HH":return kt(s);case"H":return kt(h);case"hh":return kt(s);case"h":return kt(h);case"mm":return kt(s);case"m":return kt(h);case"q":return kt(h);case"qq":return kt(s);case"s":return kt(h);case"ss":return kt(s);case"S":return kt(m);case"SSS":return kt(l);case"u":return fc(v);case"uu":return fc(h);case"uuu":return kt(r);case"a":return Oa(n.meridiems(),0);case"kkkk":return kt(c);case"kk":return kt(b,xh);case"W":return kt(h);case"WW":return kt(s);case"E":case"c":return kt(r);case"EEE":return Oa(n.weekdays("short",!1),1);case"EEEE":return Oa(n.weekdays("long",!1),1);case"ccc":return Oa(n.weekdays("short",!0),1);case"cccc":return Oa(n.weekdays("long",!0),1);case"Z":case"ZZ":return X0(new RegExp(`([+-]${h.source})(?::(${s.source}))?`),2);case"ZZZ":return X0(new RegExp(`([+-]${h.source})(${s.source})?`),2);case"z":return fc(/[a-z_+-/]{1,256}?/i);case" ":return fc(/[^\S\n\r]/);default:return k(q)}})(a)||{invalidReason:EO};return Z.token=a,Z}const OO={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function jO(a,n,r){const{type:s,value:l}=a;if(s==="literal"){const m=/^\s+$/.test(l);return{literal:!m,val:m?" ":l}}const c=n[s];let d=s;s==="hour"&&(n.hour12!=null?d=n.hour12?"hour12":"hour24":n.hourCycle!=null?n.hourCycle==="h11"||n.hourCycle==="h12"?d="hour12":d="hour24":d=r.hour12?"hour12":"hour24");let h=OO[d];if(typeof h=="object"&&(h=h[c]),h)return{literal:!1,val:h}}function AO(a){return[`^${a.map(r=>r.regex).reduce((r,s)=>`${r}(${s.source})`,"")}$`,a]}function _O(a,n,r){const s=a.match(n);if(s){const l={};let c=1;for(const d in r)if(bs(r,d)){const h=r[d],m=h.groups?h.groups+1:1;!h.literal&&h.token&&(l[h.token.val[0]]=h.deser(s.slice(c,c+m))),c+=m}return[s,l]}else return[s,{}]}function DO(a){const n=c=>{switch(c){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,s;return qe(a.z)||(r=Ga.create(a.z)),qe(a.Z)||(r||(r=new Bn(a.Z)),s=a.Z),qe(a.q)||(a.M=(a.q-1)*3+1),qe(a.h)||(a.h<12&&a.a===1?a.h+=12:a.h===12&&a.a===0&&(a.h=0)),a.G===0&&a.y&&(a.y=-a.y),qe(a.u)||(a.S=Wh(a.u)),[Object.keys(a).reduce((c,d)=>{const h=n(d);return h&&(c[h]=a[d]),c},{}),r,s]}let Bf=null;function MO(){return Bf||(Bf=Fe.fromMillis(1555555555555)),Bf}function RO(a,n){if(a.literal)return a;const r=Ln.macroTokenToFormatOpts(a.val),s=qw(r,n);return s==null||s.includes(void 0)?a:s}function $w(a,n){return Array.prototype.concat(...a.map(r=>RO(r,n)))}class Hw{constructor(n,r){if(this.locale=n,this.format=r,this.tokens=$w(Ln.parseFormat(r),n),this.units=this.tokens.map(s=>NO(s,n)),this.disqualifyingUnit=this.units.find(s=>s.invalidReason),!this.disqualifyingUnit){const[s,l]=AO(this.units);this.regex=RegExp(s,"i"),this.handlers=l}}explainFromTokens(n){if(this.isValid){const[r,s]=_O(n,this.regex,this.handlers),[l,c,d]=s?DO(s):[null,null,void 0];if(bs(s,"a")&&bs(s,"H"))throw new us("Can't include meridiem when specifying 24-hour format");return{input:n,tokens:this.tokens,regex:this.regex,rawMatches:r,matches:s,result:l,zone:c,specificOffset:d}}else return{input:n,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function Vw(a,n,r){return new Hw(a,r).explainFromTokens(n)}function zO(a,n,r){const{result:s,zone:l,specificOffset:c,invalidReason:d}=Vw(a,n,r);return[s,l,c,d]}function qw(a,n){if(!a)return null;const s=Ln.create(n,a).dtFormatter(MO()),l=s.formatToParts(),c=s.resolvedOptions();return l.map(d=>jO(d,a,c))}const Uf="Invalid DateTime",K0=864e13;function To(a){return new Aa("unsupported zone",`the zone "${a.name}" is not supported`)}function If(a){return a.weekData===null&&(a.weekData=Rc(a.c)),a.weekData}function $f(a){return a.localWeekData===null&&(a.localWeekData=Rc(a.c,a.loc.getMinDaysInFirstWeek(),a.loc.getStartOfWeek())),a.localWeekData}function gi(a,n){const r={ts:a.ts,zone:a.zone,c:a.c,o:a.o,loc:a.loc,invalid:a.invalid};return new Fe({...r,...n,old:r})}function Gw(a,n,r){let s=a-n*60*1e3;const l=r.offset(s);if(n===l)return[s,n];s-=(l-n)*60*1e3;const c=r.offset(s);return l===c?[s,l]:[a-Math.min(l,c)*60*1e3,Math.max(l,c)]}function hc(a,n){a+=n*60*1e3;const r=new Date(a);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function kc(a,n,r){return Gw(Pc(a),n,r)}function Q0(a,n){const r=a.o,s=a.c.year+Math.trunc(n.years),l=a.c.month+Math.trunc(n.months)+Math.trunc(n.quarters)*3,c={...a.c,year:s,month:l,day:Math.min(a.c.day,zc(s,l))+Math.trunc(n.days)+Math.trunc(n.weeks)*7},d=yt.fromObject({years:n.years-Math.trunc(n.years),quarters:n.quarters-Math.trunc(n.quarters),months:n.months-Math.trunc(n.months),weeks:n.weeks-Math.trunc(n.weeks),days:n.days-Math.trunc(n.days),hours:n.hours,minutes:n.minutes,seconds:n.seconds,milliseconds:n.milliseconds}).as("milliseconds"),h=Pc(c);let[m,y]=Gw(h,r,a.zone);return d!==0&&(m+=d,y=a.zone.offset(m)),{ts:m,o:y}}function os(a,n,r,s,l,c){const{setZone:d,zone:h}=r;if(a&&Object.keys(a).length!==0||n){const m=n||h,y=Fe.fromObject(a,{...r,zone:m,specificOffset:c});return d?y:y.setZone(h)}else return Fe.invalid(new Aa("unparsable",`the input "${l}" can't be parsed as ${s}`))}function pc(a,n,r=!0){return a.isValid?Ln.create(Nt.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(a,n):null}function Hf(a,n,r){const s=a.c.year>9999||a.c.year<0;let l="";if(s&&a.c.year>=0&&(l+="+"),l+=yn(a.c.year,s?6:4),r==="year")return l;if(n){if(l+="-",l+=yn(a.c.month),r==="month")return l;l+="-"}else if(l+=yn(a.c.month),r==="month")return l;return l+=yn(a.c.day),l}function W0(a,n,r,s,l,c,d){let h=!r||a.c.millisecond!==0||a.c.second!==0,m="";switch(d){case"day":case"month":case"year":break;default:if(m+=yn(a.c.hour),d==="hour")break;if(n){if(m+=":",m+=yn(a.c.minute),d==="minute")break;h&&(m+=":",m+=yn(a.c.second))}else{if(m+=yn(a.c.minute),d==="minute")break;h&&(m+=yn(a.c.second))}if(d==="second")break;h&&(!s||a.c.millisecond!==0)&&(m+=".",m+=yn(a.c.millisecond,3))}return l&&(a.isOffsetFixed&&a.offset===0&&!c?m+="Z":a.o<0?(m+="-",m+=yn(Math.trunc(-a.o/60)),m+=":",m+=yn(Math.trunc(-a.o%60))):(m+="+",m+=yn(Math.trunc(a.o/60)),m+=":",m+=yn(Math.trunc(a.o%60)))),c&&(m+="["+a.zone.ianaName+"]"),m}const Yw={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},LO={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},BO={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Cc=["year","month","day","hour","minute","second","millisecond"],UO=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],IO=["year","ordinal","hour","minute","second","millisecond"];function Tc(a){const n={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[a.toLowerCase()];if(!n)throw new G1(a);return n}function J0(a){switch(a.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return Tc(a)}}function $O(a){if(No===void 0&&(No=Xt.now()),a.type!=="iana")return a.offset(No);const n=a.name;let r=Eh.get(n);return r===void 0&&(r=a.offset(No),Eh.set(n,r)),r}function eb(a,n){const r=Pr(n.zone,Xt.defaultZone);if(!r.isValid)return Fe.invalid(To(r));const s=Nt.fromObject(n);let l,c;if(qe(a.year))l=Xt.now();else{for(const m of Cc)qe(a[m])&&(a[m]=Yw[m]);const d=gw(a)||vw(a);if(d)return Fe.invalid(d);const h=$O(r);[l,c]=kc(a,h,r)}return new Fe({ts:l,zone:r,loc:s,o:c})}function tb(a,n,r){const s=qe(r.round)?!0:r.round,l=qe(r.rounding)?"trunc":r.rounding,c=(h,m)=>(h=Jh(h,s||r.calendary?0:2,r.calendary?"round":l),n.loc.clone(r).relFormatter(r).format(h,m)),d=h=>r.calendary?n.hasSame(a,h)?0:n.startOf(h).diff(a.startOf(h),h).get(h):n.diff(a,h).get(h);if(r.unit)return c(d(r.unit),r.unit);for(const h of r.units){const m=d(h);if(Math.abs(m)>=1)return c(m,h)}return c(a>n?-0:0,r.units[r.units.length-1])}function nb(a){let n={},r;return a.length>0&&typeof a[a.length-1]=="object"?(n=a[a.length-1],r=Array.from(a).slice(0,a.length-1)):r=Array.from(a),[n,r]}let No;const Eh=new Map;class Fe{constructor(n){const r=n.zone||Xt.defaultZone;let s=n.invalid||(Number.isNaN(n.ts)?new Aa("invalid input"):null)||(r.isValid?null:To(r));this.ts=qe(n.ts)?Xt.now():n.ts;let l=null,c=null;if(!s)if(n.old&&n.old.ts===this.ts&&n.old.zone.equals(r))[l,c]=[n.old.c,n.old.o];else{const h=Kr(n.o)&&!n.old?n.o:r.offset(this.ts);l=hc(this.ts,h),s=Number.isNaN(l.year)?new Aa("invalid input"):null,l=s?null:l,c=s?null:h}this._zone=r,this.loc=n.loc||Nt.create(),this.invalid=s,this.weekData=null,this.localWeekData=null,this.c=l,this.o=c,this.isLuxonDateTime=!0}static now(){return new Fe({})}static local(){const[n,r]=nb(arguments),[s,l,c,d,h,m,y]=r;return eb({year:s,month:l,day:c,hour:d,minute:h,second:m,millisecond:y},n)}static utc(){const[n,r]=nb(arguments),[s,l,c,d,h,m,y]=r;return n.zone=Bn.utcInstance,eb({year:s,month:l,day:c,hour:d,minute:h,second:m,millisecond:y},n)}static fromJSDate(n,r={}){const s=vN(n)?n.valueOf():NaN;if(Number.isNaN(s))return Fe.invalid("invalid input");const l=Pr(r.zone,Xt.defaultZone);return l.isValid?new Fe({ts:s,zone:l,loc:Nt.fromObject(r)}):Fe.invalid(To(l))}static fromMillis(n,r={}){if(Kr(n))return n<-K0||n>K0?Fe.invalid("Timestamp out of range"):new Fe({ts:n,zone:Pr(r.zone,Xt.defaultZone),loc:Nt.fromObject(r)});throw new zn(`fromMillis requires a numerical input, but received a ${typeof n} with value ${n}`)}static fromSeconds(n,r={}){if(Kr(n))return new Fe({ts:n*1e3,zone:Pr(r.zone,Xt.defaultZone),loc:Nt.fromObject(r)});throw new zn("fromSeconds requires a numerical input")}static fromObject(n,r={}){n=n||{};const s=Pr(r.zone,Xt.defaultZone);if(!s.isValid)return Fe.invalid(To(s));const l=Nt.fromObject(r),c=Lc(n,J0),{minDaysInFirstWeek:d,startOfWeek:h}=I0(c,l),m=Xt.now(),y=qe(r.specificOffset)?s.offset(m):r.specificOffset,v=!qe(c.ordinal),b=!qe(c.year),x=!qe(c.month)||!qe(c.day),k=b||x,j=c.weekYear||c.weekNumber;if((k||v)&&j)throw new us("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(x&&v)throw new us("Can't mix ordinal dates with month/day");const Z=j||c.weekday&&!k;let q,Q,K=hc(m,y);Z?(q=UO,Q=LO,K=Rc(K,d,h)):v?(q=IO,Q=BO,K=Lf(K)):(q=Cc,Q=Yw);let B=!1;for(const pe of q){const ze=c[pe];qe(ze)?B?c[pe]=Q[pe]:c[pe]=K[pe]:B=!0}const Y=Z?mN(c,d,h):v?yN(c):gw(c),fe=Y||vw(c);if(fe)return Fe.invalid(fe);const be=Z?B0(c,d,h):v?U0(c):c,[H,de]=kc(be,y,s),re=new Fe({ts:H,zone:s,o:de,loc:l});return c.weekday&&k&&n.weekday!==re.weekday?Fe.invalid("mismatched weekday",`you can't specify both a weekday of ${c.weekday} and a date of ${re.toISO()}`):re.isValid?re:Fe.invalid(re.invalid)}static fromISO(n,r={}){const[s,l]=oO(n);return os(s,l,r,"ISO 8601",n)}static fromRFC2822(n,r={}){const[s,l]=lO(n);return os(s,l,r,"RFC 2822",n)}static fromHTTP(n,r={}){const[s,l]=cO(n);return os(s,l,r,"HTTP",r)}static fromFormat(n,r,s={}){if(qe(n)||qe(r))throw new zn("fromFormat requires an input string and a format");const{locale:l=null,numberingSystem:c=null}=s,d=Nt.fromOpts({locale:l,numberingSystem:c,defaultToEN:!0}),[h,m,y,v]=zO(d,n,r);return v?Fe.invalid(v):os(h,m,s,`format ${r}`,n,y)}static fromString(n,r,s={}){return Fe.fromFormat(n,r,s)}static fromSQL(n,r={}){const[s,l]=yO(n);return os(s,l,r,"SQL",n)}static invalid(n,r=null){if(!n)throw new zn("need to specify a reason the DateTime is invalid");const s=n instanceof Aa?n:new Aa(n,r);if(Xt.throwOnInvalid)throw new GT(s);return new Fe({invalid:s})}static isDateTime(n){return n&&n.isLuxonDateTime||!1}static parseFormatForOpts(n,r={}){const s=qw(n,Nt.fromObject(r));return s?s.map(l=>l?l.val:null).join(""):null}static expandFormat(n,r={}){return $w(Ln.parseFormat(n),Nt.fromObject(r)).map(l=>l.val).join("")}static resetCache(){No=void 0,Eh.clear()}get(n){return this[n]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?If(this).weekYear:NaN}get weekNumber(){return this.isValid?If(this).weekNumber:NaN}get weekday(){return this.isValid?If(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?$f(this).weekday:NaN}get localWeekNumber(){return this.isValid?$f(this).weekNumber:NaN}get localWeekYear(){return this.isValid?$f(this).weekYear:NaN}get ordinal(){return this.isValid?Lf(this.c).ordinal:NaN}get monthShort(){return this.isValid?Co.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Co.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Co.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Co.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const n=864e5,r=6e4,s=Pc(this.c),l=this.zone.offset(s-n),c=this.zone.offset(s+n),d=this.zone.offset(s-l*r),h=this.zone.offset(s-c*r);if(d===h)return[this];const m=s-d*r,y=s-h*r,v=hc(m,d),b=hc(y,h);return v.hour===b.hour&&v.minute===b.minute&&v.second===b.second&&v.millisecond===b.millisecond?[gi(this,{ts:m}),gi(this,{ts:y})]:[this]}get isInLeapYear(){return Io(this.year)}get daysInMonth(){return zc(this.year,this.month)}get daysInYear(){return this.isValid?fs(this.year):NaN}get weeksInWeekYear(){return this.isValid?zo(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?zo(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(n={}){const{locale:r,numberingSystem:s,calendar:l}=Ln.create(this.loc.clone(n),n).resolvedOptions(this);return{locale:r,numberingSystem:s,outputCalendar:l}}toUTC(n=0,r={}){return this.setZone(Bn.instance(n),r)}toLocal(){return this.setZone(Xt.defaultZone)}setZone(n,{keepLocalTime:r=!1,keepCalendarTime:s=!1}={}){if(n=Pr(n,Xt.defaultZone),n.equals(this.zone))return this;if(n.isValid){let l=this.ts;if(r||s){const c=n.offset(this.ts),d=this.toObject();[l]=kc(d,c,n)}return gi(this,{ts:l,zone:n})}else return Fe.invalid(To(n))}reconfigure({locale:n,numberingSystem:r,outputCalendar:s}={}){const l=this.loc.clone({locale:n,numberingSystem:r,outputCalendar:s});return gi(this,{loc:l})}setLocale(n){return this.reconfigure({locale:n})}set(n){if(!this.isValid)return this;const r=Lc(n,J0),{minDaysInFirstWeek:s,startOfWeek:l}=I0(r,this.loc),c=!qe(r.weekYear)||!qe(r.weekNumber)||!qe(r.weekday),d=!qe(r.ordinal),h=!qe(r.year),m=!qe(r.month)||!qe(r.day),y=h||m,v=r.weekYear||r.weekNumber;if((y||d)&&v)throw new us("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(m&&d)throw new us("Can't mix ordinal dates with month/day");let b;c?b=B0({...Rc(this.c,s,l),...r},s,l):qe(r.ordinal)?(b={...this.toObject(),...r},qe(r.day)&&(b.day=Math.min(zc(b.year,b.month),b.day))):b=U0({...Lf(this.c),...r});const[x,k]=kc(b,this.o,this.zone);return gi(this,{ts:x,o:k})}plus(n){if(!this.isValid)return this;const r=yt.fromDurationLike(n);return gi(this,Q0(this,r))}minus(n){if(!this.isValid)return this;const r=yt.fromDurationLike(n).negate();return gi(this,Q0(this,r))}startOf(n,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;const s={},l=yt.normalizeUnit(n);switch(l){case"years":s.month=1;case"quarters":case"months":s.day=1;case"weeks":case"days":s.hour=0;case"hours":s.minute=0;case"minutes":s.second=0;case"seconds":s.millisecond=0;break}if(l==="weeks")if(r){const c=this.loc.getStartOfWeek(),{weekday:d}=this;d<c&&(s.weekNumber=this.weekNumber-1),s.weekday=c}else s.weekday=1;if(l==="quarters"){const c=Math.ceil(this.month/3);s.month=(c-1)*3+1}return this.set(s)}endOf(n,r){return this.isValid?this.plus({[n]:1}).startOf(n,r).minus(1):this}toFormat(n,r={}){return this.isValid?Ln.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,n):Uf}toLocaleString(n=Mc,r={}){return this.isValid?Ln.create(this.loc.clone(r),n).formatDateTime(this):Uf}toLocaleParts(n={}){return this.isValid?Ln.create(this.loc.clone(n),n).formatDateTimeParts(this):[]}toISO({format:n="extended",suppressSeconds:r=!1,suppressMilliseconds:s=!1,includeOffset:l=!0,extendedZone:c=!1,precision:d="milliseconds"}={}){if(!this.isValid)return null;d=Tc(d);const h=n==="extended";let m=Hf(this,h,d);return Cc.indexOf(d)>=3&&(m+="T"),m+=W0(this,h,r,s,l,c,d),m}toISODate({format:n="extended",precision:r="day"}={}){return this.isValid?Hf(this,n==="extended",Tc(r)):null}toISOWeekDate(){return pc(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:n=!1,suppressSeconds:r=!1,includeOffset:s=!0,includePrefix:l=!1,extendedZone:c=!1,format:d="extended",precision:h="milliseconds"}={}){return this.isValid?(h=Tc(h),(l&&Cc.indexOf(h)>=3?"T":"")+W0(this,d==="extended",r,n,s,c,h)):null}toRFC2822(){return pc(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return pc(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Hf(this,!0):null}toSQLTime({includeOffset:n=!0,includeZone:r=!1,includeOffsetSpace:s=!0}={}){let l="HH:mm:ss.SSS";return(r||n)&&(s&&(l+=" "),r?l+="z":n&&(l+="ZZ")),pc(this,l,!0)}toSQL(n={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(n)}`:null}toString(){return this.isValid?this.toISO():Uf}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(n={}){if(!this.isValid)return{};const r={...this.c};return n.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(n,r="milliseconds",s={}){if(!this.isValid||!n.isValid)return yt.invalid("created by diffing an invalid DateTime");const l={locale:this.locale,numberingSystem:this.numberingSystem,...s},c=bN(r).map(yt.normalizeUnit),d=n.valueOf()>this.valueOf(),h=d?this:n,m=d?n:this,y=xO(h,m,c,l);return d?y.negate():y}diffNow(n="milliseconds",r={}){return this.diff(Fe.now(),n,r)}until(n){return this.isValid?Zt.fromDateTimes(this,n):this}hasSame(n,r,s){if(!this.isValid)return!1;const l=n.valueOf(),c=this.setZone(n.zone,{keepLocalTime:!0});return c.startOf(r,s)<=l&&l<=c.endOf(r,s)}equals(n){return this.isValid&&n.isValid&&this.valueOf()===n.valueOf()&&this.zone.equals(n.zone)&&this.loc.equals(n.loc)}toRelative(n={}){if(!this.isValid)return null;const r=n.base||Fe.fromObject({},{zone:this.zone}),s=n.padding?this<r?-n.padding:n.padding:0;let l=["years","months","days","hours","minutes","seconds"],c=n.unit;return Array.isArray(n.unit)&&(l=n.unit,c=void 0),tb(r,this.plus(s),{...n,numeric:"always",units:l,unit:c})}toRelativeCalendar(n={}){return this.isValid?tb(n.base||Fe.fromObject({},{zone:this.zone}),this,{...n,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...n){if(!n.every(Fe.isDateTime))throw new zn("min requires all arguments be DateTimes");return $0(n,r=>r.valueOf(),Math.min)}static max(...n){if(!n.every(Fe.isDateTime))throw new zn("max requires all arguments be DateTimes");return $0(n,r=>r.valueOf(),Math.max)}static fromFormatExplain(n,r,s={}){const{locale:l=null,numberingSystem:c=null}=s,d=Nt.fromOpts({locale:l,numberingSystem:c,defaultToEN:!0});return Vw(d,n,r)}static fromStringExplain(n,r,s={}){return Fe.fromFormatExplain(n,r,s)}static buildFormatParser(n,r={}){const{locale:s=null,numberingSystem:l=null}=r,c=Nt.fromOpts({locale:s,numberingSystem:l,defaultToEN:!0});return new Hw(c,n)}static fromFormatParser(n,r,s={}){if(qe(n)||qe(r))throw new zn("fromFormatParser requires an input string and a format parser");const{locale:l=null,numberingSystem:c=null}=s,d=Nt.fromOpts({locale:l,numberingSystem:c,defaultToEN:!0});if(!d.equals(r.locale))throw new zn(`fromFormatParser called with a locale of ${d}, but the format parser was created for ${r.locale}`);const{result:h,zone:m,specificOffset:y,invalidReason:v}=r.explainFromTokens(n);return v?Fe.invalid(v):os(h,m,s,`format ${r.format}`,n,y)}static get DATE_SHORT(){return Mc}static get DATE_MED(){return Y1}static get DATE_MED_WITH_WEEKDAY(){return PT}static get DATE_FULL(){return F1}static get DATE_HUGE(){return P1}static get TIME_SIMPLE(){return Z1}static get TIME_WITH_SECONDS(){return X1}static get TIME_WITH_SHORT_OFFSET(){return K1}static get TIME_WITH_LONG_OFFSET(){return Q1}static get TIME_24_SIMPLE(){return W1}static get TIME_24_WITH_SECONDS(){return J1}static get TIME_24_WITH_SHORT_OFFSET(){return ew}static get TIME_24_WITH_LONG_OFFSET(){return tw}static get DATETIME_SHORT(){return nw}static get DATETIME_SHORT_WITH_SECONDS(){return aw}static get DATETIME_MED(){return rw}static get DATETIME_MED_WITH_SECONDS(){return iw}static get DATETIME_MED_WITH_WEEKDAY(){return ZT}static get DATETIME_FULL(){return sw}static get DATETIME_FULL_WITH_SECONDS(){return ow}static get DATETIME_HUGE(){return lw}static get DATETIME_HUGE_WITH_SECONDS(){return cw}}function So(a){if(Fe.isDateTime(a))return a;if(a&&a.valueOf&&Kr(a.valueOf()))return Fe.fromJSDate(a);if(a&&typeof a=="object")return Fe.fromObject(a);throw new zn(`Unknown datetime argument: ${a}, of type ${typeof a}`)}const HO="3.7.2",VO=Object.freeze(Object.defineProperty({__proto__:null,DateTime:Fe,Duration:yt,FixedOffsetZone:Bn,IANAZone:Ga,Info:Co,Interval:Zt,InvalidZone:fw,Settings:Xt,SystemZone:Uo,VERSION:HO,Zone:ks},Symbol.toStringTag,{value:"Module"}));window.Rete=z2;window.React=s2;window.RefComponent=Hh;window.luxon=VO;window.nodeRegistry=Rn;window.sockets=O1;window.socket=ye;window.apiUrl=Sn;window.getApiBase=qc;window.apiFetch=async function(a,n={}){const r=Sn(a);return fetch(r,n)};let Qr={isLoading:!1,progress:0,status:"Ready",loadedCount:0,totalCount:0,failedPlugins:[],error:null};const kh=new Set;function Fw(a){return kh.add(a),a({...Qr}),()=>kh.delete(a)}function qr(a){Qr={...Qr,...a},kh.forEach(n=>n({...Qr}))}function qO(){return{...Qr}}async function GO(){qr({isLoading:!0,progress:0,status:"Fetching plugin list...",error:null,failedPlugins:[]});try{const a=await fetch(Sn("/api/plugins"));if(!a.ok)throw new Error("Failed to fetch plugin list");const n=await a.json(),r=n.length,s=n.filter(m=>m.includes("/00_")),l=n.filter(m=>!m.includes("/00_"));qr({totalCount:r,status:`Loading ${s.length} infrastructure + ${l.length} node plugins...`});let c=0;for(const m of s){const y=m.split("/").pop().replace(".js","");qr({status:`Loading ${y}...`});try{await ab(Sn(m)),c++,qr({loadedCount:c,progress:Math.round(c/r*100)})}catch(v){console.error(`[PluginLoader] Failed to load infrastructure ${m}`,v),Qr.failedPlugins.push({name:y,error:v.message})}}qr({status:`Loading ${l.length} node plugins in parallel...`});const d=await Promise.allSettled(l.map(async m=>{const y=m.split("/").pop().replace(".js","");try{return await ab(Sn(m)),c++,qr({loadedCount:c,progress:Math.round(c/r*100)}),{success:!0,name:y}}catch(v){return console.error(`[PluginLoader] Failed to load ${m}`,v),Qr.failedPlugins.push({name:y,error:v.message}),{success:!1,name:y,error:v.message}}})),h=Qr.failedPlugins.length;qr({isLoading:!1,progress:100,status:h>0?`Loaded ${c} plugins (${h} failed)`:`Loaded ${c} plugins`})}catch(a){console.error("[PluginLoader] Error loading plugins:",a),qr({isLoading:!1,error:a.message,status:"Failed to load plugins"})}}function ab(a){return new Promise((n,r)=>{const s=document.createElement("script"),l=`v=${Date.now()}`;s.src=a.includes("?")?`${a}&${l}`:`${a}?${l}`,s.onload=n,s.onerror=r,document.body.appendChild(s)})}const Pw=E.createContext(null),rb={success:{icon:"",className:"toast-success"},error:{icon:"",className:"toast-error"},warning:{icon:"",className:"toast-warning"},info:{icon:"",className:"toast-info"}};function YO({id:a,type:n,message:r,duration:s,onRemove:l,action:c,actionLabel:d}){const[h,m]=E.useState(!1),y=rb[n]||rb.info;E.useEffect(()=>{if(s>0){const x=setTimeout(()=>{m(!0),setTimeout(()=>l(a),300)},s);return()=>clearTimeout(x)}},[a,s,l]);const v=()=>{m(!0),setTimeout(()=>l(a),300)},b=()=>{c&&c(),v()};return p.jsxs("div",{className:`toast ${y.className} ${h?"toast-exit":""}`,children:[p.jsx("span",{className:"toast-icon",children:y.icon}),p.jsx("span",{className:"toast-message",children:r}),c&&d&&p.jsx("button",{className:"toast-action",onClick:b,children:d}),p.jsx("button",{className:"toast-close",onClick:v,children:""})]})}function FO({children:a}){const[n,r]=E.useState([]);let s=0;const l=E.useCallback((h,m,y={})=>{const v=++s,b=typeof y=="number"?y:y.duration??4e3,x=typeof y=="object"?y.action:null,k=typeof y=="object"?y.actionLabel:null;return r(j=>[...j,{id:v,type:h,message:m,duration:b,action:x,actionLabel:k}]),v},[]),c=E.useCallback(h=>{r(m=>m.filter(y=>y.id!==h))},[]),d={success:(h,m)=>l("success",h,m),error:(h,m)=>l("error",h,typeof m=="number"?m:{duration:6e3,...m}),warning:(h,m)=>l("warning",h,m),info:(h,m)=>l("info",h,m),dismiss:c,dismissAll:()=>r([])};return p.jsxs(Pw.Provider,{value:d,children:[a,p.jsx("div",{className:"toast-container",children:n.map(h=>p.jsx(YO,{id:h.id,type:h.type,message:h.message,duration:h.duration,onRemove:c,action:h.action,actionLabel:h.actionLabel},h.id))})]})}function ap(){const a=E.useContext(Pw);return a||{success:()=>{},error:()=>{},warning:()=>{},info:()=>{},dismiss:()=>{},dismissAll:()=>{}}}function PO(){const a=ap();return E.useEffect(()=>(typeof window<"u"&&(window.T2Toast=a),()=>{typeof window<"u"&&(window.T2Toast=null)}),[a]),null}typeof window<"u"&&(window.T2Toast=null);const ib=window.location.pathname.includes("/api/hassio/ingress/");function ZO({onSave:a,onLoad:n,onLoadExample:r,onClear:s,onExport:l,onImport:c,hasUnsavedChanges:d,isMerged:h=!1,onToggleMerged:m}){const[y,v]=E.useState(!1),[b,x]=E.useState(!1),[k,j]=E.useState(!1),[Z,q]=E.useState([]),[Q,K]=E.useState(!1),[B,Y]=E.useState(!1),[fe,be]=E.useState(!1),[H,de]=E.useState(null),re=ap(),[pe,ze]=E.useState(()=>{const C=localStorage.getItem("dock-position");return C?JSON.parse(C):{x:20,y:20}}),[Oe,Je]=E.useState(!1),[it,We]=E.useState({x:0,y:0}),[N,V]=E.useState(!0),[W,ge]=E.useState(!0),[U,S]=E.useState(!1),[D,O]=E.useState(new Date),[z,le]=E.useState({backend:ye.connected,ha:{connected:!1,wsConnected:!1,deviceCount:0},hue:{connected:!1,deviceCount:0},kasa:{connected:!1,deviceCount:0}}),[ve,je]=E.useState({loaded:0,failed:0,total:0}),[Ge,Ue]=E.useState({running:!1,nodeCount:0,tickCount:0,registeredNodeTypes:0});let tt;const gt=E.useRef(null),_t=E.useRef(null);E.useEffect(()=>{(async()=>{try{const R=await fetch("/api/version");if(R.ok){const se=await R.json();de(se.version)}}catch{}})()},[]),E.useEffect(()=>{tt=Fw(R=>{let se=0,he=R.totalCount||0;window.nodeRegistry&&typeof window.nodeRegistry.getAll=="function"?(se=window.nodeRegistry.getAll().length,(!he||se>he)&&(he=se)):se=R.loadedCount,je({loaded:se,failed:R.failedPlugins?.length||0,total:he})});const C=R=>{R.target.tagName==="INPUT"||R.target.tagName==="TEXTAREA"||R.target.isContentEditable||(R.key==="?"||R.shiftKey&&R.code==="Slash")&&(R.preventDefault(),x(!0))};return window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)},[]),E.useEffect(()=>{const C=()=>{le(Le=>({...Le,backend:!0})),ye.emit("request-hue-status")},R=()=>le(Le=>({...Le,backend:!1})),se=Le=>le(st=>({...st,ha:{connected:Le.connected,wsConnected:Le.wsConnected,deviceCount:Le.deviceCount||0}})),he=Le=>{Le.hue&&le(st=>({...st,hue:Le.hue})),Le.kasa&&le(st=>({...st,kasa:Le.kasa}))},we=Le=>{le(st=>({...st,hue:{connected:Le.connected,deviceCount:Le.deviceCount||0,bridgeIp:Le.bridgeIp||null}}))};ye.on("connect",C),ye.on("disconnect",R),ye.on("ha-connection-status",se),ye.on("device-counts",he),ye.on("hue-connection-status",we);const Ce=Le=>Ue(Le),$e=Le=>Ue(st=>({...st,...Le,running:!0})),Pe=Le=>Ue(st=>({...st,...Le,running:!1}));ye.on("engine-status",Ce),ye.on("engine-started",$e),ye.on("engine-stopped",Pe),le(Le=>({...Le,backend:ye.connected})),ye.connected&&(ye.emit("request-hue-status"),ye.emit("request-engine-status"));const bt=qO();let Be=0,He=bt.totalCount||0;return window.nodeRegistry&&typeof window.nodeRegistry.getAll=="function"?(Be=window.nodeRegistry.getAll().length,(!He||Be>He)&&(He=Be)):Be=bt.loadedCount,je({loaded:Be,failed:bt.failedPlugins?.length||0,total:He}),()=>{ye.off("connect",C),ye.off("disconnect",R),ye.off("ha-connection-status",se),ye.off("device-counts",he),ye.off("hue-connection-status",we),ye.off("engine-status",Ce),ye.off("engine-started",$e),ye.off("engine-stopped",Pe),tt&&tt()}},[]),E.useEffect(()=>{const C=setInterval(()=>{O(new Date)},1e3);return()=>clearInterval(C)},[]);const In=()=>{const C={weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"};return D.toLocaleDateString("en-US",C)};E.useEffect(()=>{localStorage.setItem("dock-position",JSON.stringify(pe))},[pe]);const un=C=>{h||C.target.closest(".dock-header")&&(Je(!0),We({x:C.clientX-pe.x,y:C.clientY-pe.y}))},dn=C=>{Oe&&ze({x:C.clientX-it.x,y:C.clientY-it.y})},$n=()=>{Je(!1)};E.useEffect(()=>{if(Oe)return window.addEventListener("mousemove",dn),window.addEventListener("mouseup",$n),()=>{window.removeEventListener("mousemove",dn),window.removeEventListener("mouseup",$n)}},[Oe,it]);const Ke=()=>{_t.current?.click()},F=C=>{const R=C.target.files?.[0];if(R){const se=new FileReader;se.onload=he=>{try{const we=JSON.parse(he.target.result);c(we)}catch(we){console.error("Failed to parse JSON:",we),alert("Invalid JSON file")}},se.readAsText(R)}C.target.value=""},ie=async()=>{j(!0),K(!0);try{const C=await cn("/api/engine/graphs");if(C.ok){const R=await C.json();q(R.graphs||[])}else re.error("Failed to load graphs list"),q([])}catch(C){console.error("Failed to fetch server graphs:",C),re.error("Failed to connect to server"),q([])}finally{K(!1)}},ee=async C=>{try{const R=await cn(`/api/engine/graphs/${encodeURIComponent(C)}`);if(R.ok){const se=await R.json();se.graph&&(c(se.graph),j(!1),re.success(`Loaded: ${C.replace(".json","")}`))}else re.error("Failed to load graph")}catch(R){console.error("Failed to load graph:",R),re.error("Failed to load graph")}},Ae=async(C,R)=>{R.stopPropagation();try{const se=await cn(`/api/engine/graphs/${encodeURIComponent(C)}`);if(se.ok){const he=await se.json();if(he.graph){const we=new Blob([JSON.stringify(he.graph,null,2)],{type:"application/json"}),Ce=URL.createObjectURL(we),$e=document.createElement("a");$e.href=Ce,$e.download=C.endsWith(".json")?C:`${C}.json`,$e.click(),URL.revokeObjectURL(Ce),re.success(`Downloaded: ${C.replace(".json","")}`)}}else re.error("Failed to download graph")}catch(se){console.error("Failed to download graph:",se),re.error("Failed to download graph")}},xe=async()=>{if(!B){Y(!0);try{const C=await cn("/api/update/check?force=true");if(!C.ok){const se=await C.text();throw new Error(se||`HTTP ${C.status}`)}const R=await C.json();if(R.isAddon){R.hasUpdate?re.info(" Add-on updates are available through Home Assistant  Settings  Add-ons  T2AutoTron",{duration:6e3}):re.success(` You're up to date! (v${R.currentVersion})`,4e3);return}R.hasUpdate?re.info(` Update available: ${R.currentVersion}  ${R.newVersion}`,{duration:0,actionLabel:"View Details",action:()=>{ye.emit("request-show-update-modal",R),window.dispatchEvent(new CustomEvent("showUpdateModal",{detail:R}))}}):re.success(` You're up to date! (v${R.currentVersion})`,4e3)}catch(C){console.error("Failed to check for updates:",C),re.error("Failed to check for updates: "+C.message,5e3)}finally{Y(!1)}}},ce=async()=>{if(!fe){be(!0);try{const C=await cn("/api/update/plugins/check");if(!C.ok)throw new Error(`HTTP ${C.status}`);const R=await C.json();if(!R.hasUpdates){re.success(" Plugins are up to date!",3e3);return}const se=(R.newPlugins?.length||0)+(R.modifiedPlugins?.length||0);re.info(` ${se} plugin update(s) available. Downloading...`,3e3);const he=await cn("/api/update/plugins",{method:"POST"});if(!he.ok)throw new Error(`HTTP ${he.status}`);const we=await he.json();we.success&&we.updated?.length>0?re.success(` Updated ${we.updated.length} plugin(s). Refresh page to load them.`,{duration:0,actionLabel:"Refresh Now",action:()=>window.location.reload()}):we.updated?.length===0?re.info("No plugins needed updating",3e3):re.error("Plugin update failed: "+(we.error||"Unknown error"),5e3)}catch(C){console.error("Failed to update plugins:",C),re.error("Failed to update plugins: "+C.message,5e3)}finally{be(!1)}}};return p.jsxs("div",{ref:gt,className:`dock-container ${h?"dock-merged":""}`,style:{...h?{cursor:"default"}:{left:`${pe.x}px`,top:`${pe.y}px`,cursor:Oe?"grabbing":"default"}},onMouseDown:un,children:[p.jsxs("div",{className:"dock-header",style:{cursor:h?"default":"grab"},children:[p.jsxs("div",{className:"dock-header-row",children:[p.jsx("span",{className:"dock-title",children:" Control Panel"}),p.jsx("button",{type:"button",className:"dock-btn-small",onClick:C=>{C.stopPropagation(),m?.()},onMouseDown:C=>C.stopPropagation(),title:h?"Pop Control Panel back out":"Merge Control Panel into the Forecast panel",children:h?"Pop out":"Merge"})]}),p.jsx("span",{className:"dock-datetime",children:In()})]}),p.jsxs("div",{className:"dock-section",children:[p.jsx("div",{className:"dock-section-header",onClick:()=>V(!N),children:p.jsxs("span",{children:[N?"":""," Graph Tools ",d&&p.jsx("span",{className:"unsaved-dot",title:"Unsaved changes",children:""})]})}),N&&p.jsxs("div",{className:"dock-section-content",children:[p.jsxs("button",{onClick:a,className:`dock-btn ${d?"dock-btn-unsaved":""}`,children:[" Save ",d&&"*"]}),p.jsx("button",{onClick:n,className:"dock-btn",children:" Load Last"}),p.jsx("button",{onClick:ie,className:"dock-btn",title:"Load a saved graph from the server",children:" Saved Graphs"}),p.jsx("button",{onClick:r,className:"dock-btn",title:"Load a starter graph to see how things work",children:" Load Example"}),p.jsx("button",{onClick:Ke,className:"dock-btn",children:" Import File"}),p.jsx("button",{onClick:l,className:"dock-btn",title:"Download current graph as JSON file to your computer",children:" Download Graph"}),p.jsx("button",{onClick:s,className:"dock-btn",children:" Clear"}),p.jsx("button",{onClick:()=>ye.emit(Ge.running?"stop-engine":"start-engine"),className:`dock-btn ${Ge.running?"dock-btn-active":""}`,title:Ge.running?"Stop backend engine":"Start backend engine (runs automations 24/7)",children:Ge.running?" Stop Engine":" Start Engine"}),p.jsx("input",{ref:_t,type:"file",accept:".json",style:{display:"none"},onChange:F})]})]}),p.jsxs("div",{className:"dock-section",children:[p.jsx("div",{className:"dock-section-header",onClick:()=>ge(!W),children:p.jsxs("span",{children:[W?"":""," Connection Status"]})}),W&&p.jsxs("div",{className:"dock-section-content dock-status-grid",children:[p.jsxs("div",{className:`dock-status-item ${z.backend?"connected":"disconnected"}`,children:[p.jsx("span",{className:"dock-status-dot"}),p.jsx("span",{className:"dock-status-label",children:"Backend"}),p.jsx("span",{className:"dock-status-value",children:z.backend?"Connected":"Offline"})]}),p.jsxs("div",{className:`dock-status-item ${z.ha.connected?"connected":"disconnected"}`,children:[p.jsx("span",{className:"dock-status-dot"}),p.jsx("span",{className:"dock-status-label",children:"Home Assistant"}),p.jsx("span",{className:"dock-status-value",children:z.ha.connected?`${z.ha.deviceCount} devices`:"Offline"})]}),p.jsxs("div",{className:`dock-status-item ${z.hue.connected?"connected":"disconnected"}`,children:[p.jsx("span",{className:"dock-status-dot"}),p.jsx("span",{className:"dock-status-label",children:"Philips Hue"}),p.jsx("span",{className:"dock-status-value",children:z.hue.connected?`${z.hue.deviceCount||0} lights${z.hue.bridgeIp?` (${z.hue.bridgeIp})`:""}`:"Offline"})]}),z.kasa.deviceCount>0&&p.jsxs("div",{className:`dock-status-item ${z.kasa.connected?"connected":"disconnected"}`,children:[p.jsx("span",{className:"dock-status-dot"}),p.jsx("span",{className:"dock-status-label",children:"Kasa"}),p.jsxs("span",{className:"dock-status-value",children:[z.kasa.deviceCount," devices"]})]}),p.jsxs("div",{className:"dock-status-item plugins",children:[p.jsx("span",{className:"dock-status-dot",style:{background:ve.failed>0?"#f59e0b":"#10b981"}}),p.jsx("span",{className:"dock-status-label",children:"Plugins"}),p.jsx("span",{className:"dock-status-value",children:ve.total>0?`${ve.loaded} / ${ve.total} loaded${ve.failed>0?` (${ve.failed} failed)`:""}`:`${ve.loaded} loaded`})]}),p.jsxs("div",{className:`dock-status-item ${Ge.running?"connected":"disconnected"}`,children:[p.jsx("span",{className:"dock-status-dot",style:{background:Ge.running?"#10b981":"#6b7280"}}),p.jsx("span",{className:"dock-status-label",children:"Engine"}),p.jsx("span",{className:"dock-status-value",children:Ge.running?`Running (${Ge.nodeCount} nodes)`:"Stopped"})]})]})]}),p.jsx(YC,{isExpanded:U,onToggle:()=>S(!U)}),p.jsxs("div",{className:"dock-section",children:[p.jsxs("div",{className:"dock-section-content",children:[p.jsx("button",{onClick:()=>v(!0),className:"dock-btn dock-btn-settings",children:" Settings & API Keys"}),p.jsx("button",{onClick:()=>x(!0),className:"dock-btn dock-btn-help",children:" Keyboard Shortcuts"}),p.jsx("button",{onClick:async()=>{let C=H||"unknown";try{const we=await fetch("/api/version");we.ok&&(C=(await we.json()).version||C)}catch{}const R={version:C,userAgent:navigator.userAgent,isAddon:ib,backend:z.backend,ha:z.ha.connected,engine:Ge.running,plugins:ve.loaded},se=Object.entries(R).map(([we,Ce])=>`- **${we}**: ${Ce}`).join(`
`),he=new URL("https://github.com/gregtee2/T2AutoTron/issues/new");he.searchParams.set("template","bug_report.md"),he.searchParams.set("title","[Bug]: "),he.searchParams.set("body",`##  Environment (auto-filled)
${se}

##  Bug Description
<!-- Describe what went wrong -->

`),window.open(he.toString(),"_blank")},className:"dock-btn dock-btn-bug",title:"Report a bug on GitHub",children:" Report Bug"}),p.jsx("button",{onClick:()=>{const C=`${window.location.origin}/tools/debug_dashboard.html`;window.open(C,"_blank")},className:"dock-btn",title:"Open Debug Dashboard in new tab",children:" Debug Dashboard"}),ib?p.jsx("button",{onClick:()=>re.info(" Add-on updates are available through Home Assistant  Settings  Add-ons  T2AutoTron  Update",{duration:8e3}),className:"dock-btn dock-btn-update",title:"Updates are managed by Home Assistant Supervisor",children:" Update via HA"}):p.jsx("button",{onClick:xe,disabled:B,className:"dock-btn dock-btn-update",title:"Check for available updates (full rebuild)",children:B?" Checking...":" Check for Updates"}),p.jsx("button",{onClick:ce,disabled:fe,className:"dock-btn dock-btn-plugins",title:"Hot-update plugins without restart",children:fe?" Updating...":" Update Plugins"})]}),H&&p.jsxs("div",{className:"dock-version",title:"T2AutoTron version",children:["v",H]})]}),p.jsx(VC,{isOpen:y,onClose:()=>v(!1)}),p.jsx(GC,{isOpen:b,onClose:()=>x(!1)}),k&&p.jsx("div",{className:"modal-overlay",onClick:()=>j(!1),children:p.jsxs("div",{className:"modal server-graphs-modal",onClick:C=>C.stopPropagation(),children:[p.jsxs("div",{className:"modal-header",children:[p.jsx("h2",{children:" Saved Graphs"}),p.jsx("button",{className:"modal-close",onClick:()=>j(!1),children:""})]}),p.jsx("div",{className:"modal-body",children:Q?p.jsx("div",{className:"loading-message",children:"Loading graphs..."}):Z.length===0?p.jsxs("div",{className:"empty-message",children:[p.jsx("p",{children:"No saved graphs found."}),p.jsx("p",{style:{fontSize:"0.9em",opacity:.7},children:'Create a graph and click "Save" to save it to the server.'})]}):p.jsx("div",{className:"graphs-list",children:Z.map((C,R)=>p.jsxs("div",{className:"graph-item",children:[p.jsxs("div",{className:"graph-info",onClick:()=>ee(C.name),title:"Click to load this graph",children:[p.jsx("span",{className:"graph-name",children:C.displayName}),p.jsx("span",{className:"graph-date",children:new Date(C.modified).toLocaleDateString()})]}),p.jsx("button",{className:"graph-download-btn",onClick:se=>Ae(C.name,se),title:"Download this graph to your computer",children:""})]},R))})})]})})]})}function XO({dockSlotRef:a}){const[n,r]=E.useState(!0),[s,l]=E.useState(!0),[c,d]=E.useState(null),[h,m]=E.useState(null),[y,v]=E.useState(ye?.connected??!1),[b,x]=E.useState({connected:!1,wsConnected:!1,deviceCount:0}),[k,j]=E.useState(new Map),[Z,q]=E.useState(()=>parseInt(localStorage.getItem("forecastPanelWidth"))||320),[Q,K]=E.useState(()=>parseInt(localStorage.getItem("devicesOnHeight"))||200),[B,Y]=E.useState(null),[fe,be]=E.useState(null),H=E.useRef(null);E.useEffect(()=>{(async()=>{try{const V=await cn(Sn("/api/settings"));if(V.ok){const W=await V.json(),ge={tempSensor:W.FORECAST_TEMP_SENSOR||null,windSensor:W.FORECAST_WIND_SENSOR||null,windDirSensor:W.FORECAST_WIND_DIR_SENSOR||null,rainSensor:W.FORECAST_RAIN_SENSOR||null};(ge.tempSensor||ge.windSensor||ge.windDirSensor||ge.rainSensor)&&(be(ge),de(ge))}}catch(V){console.warn("Could not fetch forecast sensor config:",V)}})()},[]);const de=async N=>{if(!N)return;const V={source:"ha-sensors"};try{if(N.tempSensor){const W=await cn(Sn(`/api/lights/ha/${N.tempSensor}/state`));if(W.ok){const ge=await W.json();V.temp=parseFloat(ge.state)}}if(N.windSensor){const W=await cn(Sn(`/api/lights/ha/${N.windSensor}/state`));if(W.ok){const ge=await W.json();V.windSpeed=parseFloat(ge.state)}}if(N.windDirSensor){const W=await cn(Sn(`/api/lights/ha/${N.windDirSensor}/state`));if(W.ok){const ge=await W.json();V.windDir=parseFloat(ge.state)}}if(N.rainSensor){const W=await cn(Sn(`/api/lights/ha/${N.rainSensor}/state`));if(W.ok){const ge=await W.json();V.rainRate=parseFloat(ge.state)}}V.temp!==void 0&&Y(W=>({...W,...V}))}catch(W){console.warn("Error fetching sensor values:",W)}};E.useEffect(()=>{if(!ye)return;const N=()=>{v(!0),ye.emit("request-ha-status")},V=()=>{v(!1),x({connected:!1,wsConnected:!1,deviceCount:0})},W=S=>{x(S)};ye.on("connect",N),ye.on("disconnect",V),ye.on("ha-connection-status",W),ye.on("forecast-update",S=>{d(S)});const ge=S=>{Y(D=>D?.source==="ha-sensors"||fe?.tempSensor?D:{temp:S.tempf,humidity:S.humidity,windSpeed:S.windspeedmph,windDir:S.winddir,rainRate:S.hourlyrainin,dailyRain:S.dailyrainin,source:S._source||"ambient"})};ye.on("weather-update",ge),fe?.tempSensor||ye.emit("request-weather-update");const U=S=>{const{id:D,state:O,on:z,name:le}=S;if(!D)return;if(fe){const Ue=D.replace("ha_","");if(Ue===fe.tempSensor){const tt=parseFloat(O);isNaN(tt)||Y(gt=>({...gt,temp:tt,source:"ha-sensors"}))}else if(Ue===fe.windSensor){const tt=parseFloat(O);isNaN(tt)||Y(gt=>({...gt,windSpeed:tt}))}else if(Ue===fe.windDirSensor){const tt=parseFloat(O);isNaN(tt)||Y(gt=>({...gt,windDir:tt}))}else if(Ue===fe.rainSensor){const tt=parseFloat(O);isNaN(tt)||Y(gt=>({...gt,rainRate:tt}))}}const ve=z!==void 0?z:O==="on"||O==="playing"||O==="open",je=le||S.friendly_name||S.attributes?.friendly_name||D.replace("ha_","").replace("kasa_","").replace(/\./g," ").replace(/_/g," ");(D.includes("light.")||D.includes("switch.")||D.startsWith("kasa_"))&&j(Ue=>{const tt=new Map(Ue);return ve?tt.set(D,{name:je,on:!0}):tt.delete(D),tt})};return ye.on("device-state-update",U),ye.emit("request-forecast"),ye.connected&&(v(!0),ye.emit("request-ha-status")),()=>{ye.off("connect",N),ye.off("disconnect",V),ye.off("ha-connection-status",W),ye.off("forecast-update"),ye.off("weather-update",ge),ye.off("device-state-update",U)}},[fe]);const re=()=>{ye?.emit("request-forecast"),fe?.tempSensor?de(fe):ye?.emit("request-weather-update")},pe=N=>{if(N==null)return"";const V=["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"],W=Math.round(N/22.5)%16;return V[W]},ze=N=>{const V=(N||"").toLowerCase();return V.includes("clear")||V.includes("sun")?p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#FFD700",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("circle",{cx:"12",cy:"12",r:"5"}),p.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),p.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),p.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),p.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),p.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),p.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),p.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),p.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):V.includes("rain")||V.includes("drizzle")||V.includes("shower")?p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#4facfe",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M20 16.2A4.5 4.5 0 0 0 17.5 8h-1.8A7 7 0 1 0 4 14.9"}),p.jsx("line",{x1:"8",y1:"19",x2:"8",y2:"21"}),p.jsx("line",{x1:"8",y1:"13",x2:"8",y2:"15"}),p.jsx("line",{x1:"16",y1:"19",x2:"16",y2:"21"}),p.jsx("line",{x1:"16",y1:"13",x2:"16",y2:"15"}),p.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),p.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"17"})]}):V.includes("partly")||V.includes("partial")||V.includes("few")?p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M13 2v2",stroke:"#FFD700"}),p.jsx("path",{d:"M3 13h2",stroke:"#FFD700"}),p.jsx("path",{d:"M20 13h2",stroke:"#FFD700"}),p.jsx("path",{d:"M5.6 5.6l1.4 1.4",stroke:"#FFD700"}),p.jsx("path",{d:"M18.4 5.6l-1.4 1.4",stroke:"#FFD700"}),p.jsx("circle",{cx:"13",cy:"9",r:"4",stroke:"#FFD700"}),p.jsx("path",{d:"M17 17h-10a4 4 0 0 1 0-8h.5a5.5 5.5 0 0 1 10.5 3h.5a3 3 0 0 1 0 6z",stroke:"#B0C4DE",fill:"none"})]}):V.includes("snow")||V.includes("flurr")?p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#B0E0E6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"}),p.jsx("line",{x1:"8",y1:"16",x2:"8",y2:"16.01"}),p.jsx("line",{x1:"8",y1:"20",x2:"8",y2:"20.01"}),p.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"18.01"}),p.jsx("line",{x1:"12",y1:"22",x2:"12",y2:"22.01"}),p.jsx("line",{x1:"16",y1:"16",x2:"16",y2:"16.01"}),p.jsx("line",{x1:"16",y1:"20",x2:"16",y2:"20.01"})]}):V.includes("thunder")||V.includes("storm")?p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#9370DB",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"}),p.jsx("polyline",{points:"13 11 9 17 15 17 11 23",stroke:"#FFD700",fill:"none"})]}):V.includes("fog")||V.includes("mist")||V.includes("haze")?p.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#A9A9A9",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"}),p.jsx("line",{x1:"3",y1:"20",x2:"21",y2:"20"}),p.jsx("line",{x1:"3",y1:"17",x2:"21",y2:"17"})]}):p.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#B0C4DE",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:p.jsx("path",{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"})})},Oe=N=>{if(!N)return{day:"",date:""};let V;if(typeof N=="string"&&N.match(/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun)/i)){const U=N.match(/(\w+),\s*(\w+)\s*(\d+)/);return U?{day:`${U[1]}, ${U[2]}`,date:U[3]}:{day:N,date:""}}if(V=new Date(parseInt(N)||N),isNaN(V.getTime()))return{day:N,date:""};const W=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ge=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return{day:`${W[V.getUTCDay()]}, ${ge[V.getUTCMonth()]}`,date:`${V.getUTCDate()}`}},Je=()=>{if(!c||!c.length)return p.jsx("div",{className:"forecast-empty",children:"No forecast data"});if(h!==null){const N=c[h],V=Oe(N.date||N.day);return p.jsxs("div",{className:"forecast-detail",children:[p.jsxs("div",{className:"forecast-detail-header",children:[p.jsx("button",{className:"detail-back-btn",onClick:()=>m(null),children:" Back"}),p.jsxs("span",{className:"detail-date",children:[V.day," ",V.date]})]}),p.jsxs("div",{className:"detail-main",children:[p.jsx("div",{className:"detail-icon",children:ze(N.conditions||N.condition)}),p.jsxs("div",{className:"detail-temps",children:[p.jsxs("div",{className:"detail-high",children:[N.high,""]}),p.jsxs("div",{className:"detail-low",children:[N.low,""]})]}),p.jsx("div",{className:"detail-condition",children:N.conditions||N.condition||"N/A"})]}),N.description&&p.jsx("div",{className:"detail-description",children:N.description}),p.jsxs("div",{className:"detail-stats",children:[p.jsxs("div",{className:"detail-stat",children:[p.jsx("span",{className:"stat-label",children:"Precipitation"}),p.jsx("span",{className:"stat-value",children:N.precipitation||N.precip||"0%"})]}),N.humidity&&p.jsxs("div",{className:"detail-stat",children:[p.jsx("span",{className:"stat-label",children:"Humidity"}),p.jsxs("span",{className:"stat-value",children:[N.humidity,"%"]})]}),N.wind&&p.jsxs("div",{className:"detail-stat",children:[p.jsx("span",{className:"stat-label",children:"Wind"}),p.jsx("span",{className:"stat-value",children:N.wind})]}),(N.sunrise||N.sunset)&&p.jsxs("div",{className:"detail-sun-times",children:[N.sunrise&&p.jsxs("div",{className:"detail-stat",children:[p.jsx("span",{className:"stat-label",children:" Sunrise"}),p.jsx("span",{className:"stat-value",children:N.sunrise})]}),N.sunset&&p.jsxs("div",{className:"detail-stat",children:[p.jsx("span",{className:"stat-label",children:" Sunset"}),p.jsx("span",{className:"stat-value",children:N.sunset})]})]})]})]})}return c.slice(0,5).map((N,V)=>{const W=Oe(N.date||N.day),ge=V===0;return p.jsxs("div",{className:`forecast-card ${ge&&B?"forecast-card-today":""}`,onClick:()=>m(V),children:[p.jsxs("div",{className:"forecast-row-top",children:[p.jsxs("div",{className:"forecast-date",children:[p.jsx("span",{className:"date-day",children:W.day}),p.jsx("span",{className:"date-num",children:W.date})]}),p.jsx("div",{className:"forecast-icon",children:ze(N.conditions||N.condition)})]}),ge&&B&&p.jsxs("div",{className:"station-data",children:[p.jsxs("div",{className:"station-current-temp",children:[Math.round(B.temp),"",p.jsx("span",{className:"station-label",children:"now"})]}),p.jsxs("div",{className:"station-details",children:[p.jsxs("span",{className:"station-detail",title:"Wind",children:[" ",Math.round(B.windSpeed||0)," mph ",pe(B.windDir)]}),B.rainRate>0&&p.jsxs("span",{className:"station-detail station-rain",title:"Rain Rate",children:[" ",B.rainRate.toFixed(2),'"/hr']})]})]}),p.jsxs("div",{className:"forecast-row-bottom",children:[p.jsxs("span",{className:"temp-low",children:[N.low,""]}),p.jsxs("span",{className:"temp-high",children:[N.high,""]}),p.jsxs("span",{className:"precip-group",children:[p.jsxs("svg",{className:"precip-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M20 16.2A4.5 4.5 0 0 0 17.5 8h-1.8A7 7 0 1 0 4 14.9"}),p.jsx("path",{d:"M16 14v4"}),p.jsx("path",{d:"M8 14v4"}),p.jsx("path",{d:"M12 16v4"})]}),p.jsx("span",{className:"precip-value",children:N.precipitation||N.precip||"0%"})]})]})]},V)})},it=N=>{N.preventDefault();const V=N.clientX,W=Z,ge=S=>{const D=V-S.clientX,O=Math.max(250,Math.min(500,W+D));q(O),localStorage.setItem("forecastPanelWidth",O)},U=()=>{document.removeEventListener("mousemove",ge),document.removeEventListener("mouseup",U)};document.addEventListener("mousemove",ge),document.addEventListener("mouseup",U)},We=N=>{N.preventDefault(),N.stopPropagation();const V=N.clientY,W=Q,ge=S=>{const D=V-S.clientY,O=Math.max(100,Math.min(500,W+D));K(O),localStorage.setItem("devicesOnHeight",O)},U=()=>{document.removeEventListener("mousemove",ge),document.removeEventListener("mouseup",U)};document.addEventListener("mousemove",ge),document.addEventListener("mouseup",U)};return p.jsxs("div",{className:"forecast-panel",style:{width:Z},children:[p.jsx("div",{className:"forecast-resize-handle",ref:H,onMouseDown:it,children:p.jsx("div",{className:"forecast-resize-grip"})}),p.jsxs("div",{className:"forecast-panel-header",onClick:()=>r(!n),children:[p.jsx("span",{children:"5-Day Forecast"}),p.jsx("button",{onClick:N=>{N.stopPropagation(),re()},className:"forecast-refresh-btn",children:"Refresh"})]}),n&&p.jsx("div",{className:"forecast-panel-content",children:Je()}),p.jsx("div",{className:"forecast-dock-slot",ref:a}),p.jsxs("div",{className:"devices-on-section",style:{height:s?Q:"auto"},children:[p.jsx("div",{className:"devices-resize-handle",onMouseDown:We,children:p.jsx("div",{className:"devices-resize-grip"})}),p.jsxs("div",{className:"devices-on-header",onClick:()=>l(!s),children:[p.jsxs("span",{children:["Devices ON (",k.size,")"]}),p.jsx("span",{className:"expand-icon",children:s?"":""})]}),s&&p.jsx("div",{className:"devices-on-list",children:k.size===0?p.jsx("div",{className:"no-devices",children:"All devices off"}):Array.from(k.values()).sort((N,V)=>N.name.localeCompare(V.name)).map((N,V)=>p.jsxs("div",{className:"device-on-item",children:[p.jsx("span",{className:"device-on-indicator"}),p.jsx("span",{className:"device-on-name",children:N.name})]},V))})]}),p.jsxs("div",{className:"status-indicators",children:[p.jsx("div",{className:`connection-status ${y?"connected":"disconnected"}`,children:y?"Backend":"Backend X"}),p.jsx("div",{className:`connection-status ${b.connected?"connected":"disconnected"}`,children:b.connected?`HA (${b.deviceCount})`:"HA X"})]})]})}function KO({width:a=180,panelRef:n,dropActive:r=!1,favoriteGroups:s=[],onAddFavorite:l,onRemoveFavorite:c,onCreateNode:d}){const h=window.T2Controls?.Tooltip,m=`Drag a node onto this panel to add it to Favorites.
Click a favorite to add that node to the canvas.
Right-click a favorite to remove it.`,y=(s||[]).reduce((b,x)=>b+(x?.labels||[]).length,0),v=b=>{const x=(b||"").toString().trim();x&&c?.(x)};return p.jsxs("div",{ref:n,className:`favorites-panel ${r?"drop-active":""}`,style:{width:a},onMouseDown:b=>b.stopPropagation(),children:[p.jsx("div",{className:"favorites-header",children:p.jsxs("div",{className:"favorites-header-row",children:[p.jsx("span",{className:"favorites-title",children:" Favorites"}),h?p.jsx(h,{text:m,position:"bottom",children:p.jsx("span",{className:"favorites-help-fallback",children:"?"})}):p.jsx("span",{className:"favorites-help-fallback",title:m,children:"?"})]})}),p.jsx("div",{className:"favorites-list",children:y===0?p.jsx("div",{className:"favorites-empty",children:"No favorites yet"}):s.map(b=>{const x=(b?.category||"Other").toString(),k=Array.isArray(b?.labels)?b.labels:[];return k.length===0?null:p.jsxs("div",{className:"favorites-group",children:[p.jsx("div",{className:"favorites-divider",children:p.jsx("span",{className:"favorites-divider-text",children:x})}),k.map(j=>p.jsx("button",{type:"button",className:"favorites-item-btn",onClick:()=>d?.(j),onContextMenu:Z=>{Z.preventDefault(),Z.stopPropagation(),v(j)},title:"Click: add to canvas  Right-click: remove",children:j},`${x}:${j}`))]},x)})})]})}function QO({isOpen:a,onClose:n,onSave:r,currentGraphData:s}){const[l,c]=E.useState(""),[d,h]=E.useState([]),[m,y]=E.useState(!1),[v,b]=E.useState(!1),[x,k]=E.useState(null),j=E.useRef(null);E.useEffect(()=>{a&&(Z(),setTimeout(()=>j.current?.focus(),100))},[a]);const Z=async()=>{y(!0),k(null);try{const Y=await(await fetch(Sn("/api/engine/graphs"))).json();Y.success?h(Y.graphs||[]):k("Failed to load existing graphs")}catch(B){console.error("[SaveModal] Error fetching graphs:",B),k("Failed to connect to server")}finally{y(!1)}},q=async()=>{if(!l.trim()){k("Please enter a filename");return}b(!0),k(null);try{const Y=await(await fetch(Sn("/api/engine/save-graph"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filename:l.trim(),graph:s})})).json();Y.success?(window.T2Toast&&window.T2Toast.success(`Saved as "${Y.filename}"`,3e3),r?.(Y.filename),n()):k(Y.error||"Failed to save graph")}catch(B){console.error("[SaveModal] Error saving:",B),k("Failed to save graph")}finally{b(!1)}},Q=B=>{B.key==="Enter"&&!v?q():B.key==="Escape"&&n()},K=B=>{const Y=B.replace(".json","");c(Y),j.current?.focus()};return a?p.jsx("div",{className:"save-modal-overlay",onClick:n,children:p.jsxs("div",{className:"save-modal",onClick:B=>B.stopPropagation(),children:[p.jsxs("div",{className:"save-modal-header",children:[p.jsx("h2",{children:" Save Graph"}),p.jsx("button",{className:"save-modal-close",onClick:n,children:""})]}),p.jsxs("div",{className:"save-modal-content",children:[p.jsxs("div",{className:"save-modal-input-section",children:[p.jsx("label",{htmlFor:"graph-filename",children:"Filename:"}),p.jsxs("div",{className:"save-modal-input-row",children:[p.jsx("input",{ref:j,id:"graph-filename",type:"text",value:l,onChange:B=>c(B.target.value),onKeyDown:Q,placeholder:"my_automation_graph",disabled:v}),p.jsx("span",{className:"save-modal-extension",children:".json"})]})]}),x&&p.jsxs("div",{className:"save-modal-error",children:[" ",x]}),p.jsxs("div",{className:"save-modal-existing",children:[p.jsxs("h3",{children:["Existing Graphs ",m&&p.jsx("span",{className:"save-modal-loading",children:"loading..."})]}),d.length===0&&!m?p.jsx("p",{className:"save-modal-empty",children:"No saved graphs yet"}):p.jsx("ul",{className:"save-modal-list",children:d.map(B=>p.jsxs("li",{onClick:()=>K(B.name),className:l===B.displayName?"selected":"",title:`Click to overwrite. Modified: ${new Date(B.modified).toLocaleString()}`,children:[p.jsx("span",{className:"graph-name",children:B.displayName}),p.jsx("span",{className:"graph-date",children:new Date(B.modified).toLocaleDateString()})]},B.name))})]})]}),p.jsxs("div",{className:"save-modal-footer",children:[p.jsx("button",{className:"save-modal-btn save-modal-btn-cancel",onClick:n,disabled:v,children:"Cancel"}),p.jsx("button",{className:"save-modal-btn save-modal-btn-save",onClick:q,disabled:v||!l.trim(),children:v?"Saving...":" Save"})]})]})}):null}function WO({visible:a,position:n,items:r,onClose:s,onSelect:l}){const c=E.useRef(null),d=E.useRef(null),[h,m]=E.useState(null),[y,v]=E.useState({x:0,y:0}),[b,x]=E.useState(""),k=E.useRef(null),j=E.useRef(null);E.useEffect(()=>{a&&(x(""),m(null),setTimeout(()=>{d.current?.focus()},50))},[a]);const Z=E.useMemo(()=>{if(!b.trim())return r;const H=b.toLowerCase(),de=[];for(const re of r)if(re.subitems)for(const pe of re.subitems)pe.label&&pe.label.toLowerCase().includes(H)&&de.push({...pe,categoryHint:re.label});else re.label&&re.label.toLowerCase().includes(H)&&de.push(re);return de},[r,b]),q=b.trim().length>0;E.useEffect(()=>{if(!a)return;const H=re=>{c.current&&!c.current.contains(re.target)&&s()},de=re=>{re.key==="Escape"&&s()};return document.addEventListener("mousedown",H),document.addEventListener("keydown",de),()=>{document.removeEventListener("mousedown",H),document.removeEventListener("keydown",de)}},[a,s]),E.useEffect(()=>()=>{k.current&&clearTimeout(k.current),j.current&&clearTimeout(j.current)},[]);const Q=E.useCallback((H,de,re)=>{j.current&&(clearTimeout(j.current),j.current=null),de.subitems&&de.subitems.length>0?m(re):m(null)},[]),K=E.useCallback(()=>{j.current=setTimeout(()=>{m(null)},150)},[]),B=E.useCallback(()=>{j.current&&(clearTimeout(j.current),j.current=null)},[]),Y=E.useCallback(()=>{j.current=setTimeout(()=>{m(null)},100)},[]),fe=E.useCallback(H=>{H.subitems&&H.subitems.length>0||(l(H),s())},[l,s]);if(!a)return null;const be={...n};if(typeof window<"u"){const de=Math.min(Z.length*36+50,400);n.x+220>window.innerWidth&&(be.x=window.innerWidth-220-10),n.y+de>window.innerHeight&&(be.y=Math.max(10,window.innerHeight-de-10))}return p.jsxs("div",{ref:c,className:"fast-context-menu",style:{left:be.x,top:be.y},children:[p.jsxs("div",{className:"fast-menu-search",children:[p.jsx("input",{ref:d,type:"text",placeholder:"Search nodes...",value:b,onChange:H=>x(H.target.value),onClick:H=>H.stopPropagation(),onKeyDown:H=>{if(H.key==="Enter"&&Z.length===1){const de=Z[0];de.subitems||fe(de)}H.stopPropagation()}}),b&&p.jsx("span",{className:"search-clear",onClick:H=>{H.stopPropagation(),x(""),d.current?.focus()},children:""})]}),p.jsx("div",{className:"fast-menu-results",children:Z.length===0?p.jsx("div",{className:"fast-menu-empty",children:"No nodes found"}):q?Z.map((H,de)=>p.jsxs("div",{className:"fast-menu-item search-result",onClick:()=>fe(H),children:[p.jsx("span",{className:"menu-label",children:H.label}),H.categoryHint&&p.jsx("span",{className:"category-hint",children:H.categoryHint})]},H.label||de)):Z.map((H,de)=>p.jsxs("div",{className:`fast-menu-item ${H.subitems?"has-submenu":""} ${h===de?"active":""}`,onMouseEnter:re=>Q(re,H,de),onMouseLeave:K,onClick:()=>fe(H),children:[H.icon&&p.jsx("span",{className:"menu-icon",children:H.icon}),p.jsx("span",{className:"menu-label",children:H.label}),H.subitems&&p.jsx("span",{className:"submenu-arrow",children:""}),h===de&&H.subitems&&p.jsx("div",{className:"fast-submenu",onMouseEnter:B,onMouseLeave:Y,children:H.subitems.map((re,pe)=>p.jsx("div",{className:"fast-menu-item",title:re.description||"",onClick:ze=>{ze.stopPropagation(),fe(re)},children:p.jsx("span",{className:"menu-label",children:re.label})},re.label||pe))})]},H.label||de))})]})}function sb(a){const n=[],r=[];if(!a||typeof a!="object")return{valid:!1,errors:["Graph data is not an object"],warnings:[]};if(!Array.isArray(a.nodes))n.push('Missing or invalid "nodes" array');else{const s=new Set;a.nodes.forEach((l,c)=>{l.id?(s.has(l.id)&&n.push(`Duplicate node ID: ${l.id}`),s.add(l.id)):n.push(`Node at index ${c} is missing "id"`),l.label||n.push(`Node ${l.id||c} is missing "label"`),(!l.position||typeof l.position.x!="number"||typeof l.position.y!="number")&&r.push(`Node ${l.id||c} has invalid position`),l.position&&(!Number.isFinite(l.position.x)||!Number.isFinite(l.position.y))&&n.push(`Node ${l.id||c} has NaN or Infinity in position`)})}if(!Array.isArray(a.connections))n.push('Missing or invalid "connections" array');else{const s=new Set(a.nodes?.map(c=>c.id)||[]),l=new Set;a.connections.forEach((c,d)=>{c.source?s.has(c.source)||n.push(`Connection ${d} references non-existent source node: ${c.source}`):n.push(`Connection at index ${d} is missing "source"`),c.target?s.has(c.target)||n.push(`Connection ${d} references non-existent target node: ${c.target}`):n.push(`Connection at index ${d} is missing "target"`),c.sourceOutput||r.push(`Connection ${d} is missing "sourceOutput"`),c.targetInput||r.push(`Connection ${d} is missing "targetInput"`);const h=`${c.source}:${c.sourceOutput}->${c.target}:${c.targetInput}`;l.has(h)&&r.push(`Duplicate connection: ${h}`),l.add(h),c.source===c.target&&r.push(`Self-connection detected on node ${c.source}`)})}return a.viewport&&((typeof a.viewport.k!="number"||a.viewport.k<=0)&&r.push("Invalid viewport zoom value"),(!Number.isFinite(a.viewport.x)||!Number.isFinite(a.viewport.y))&&r.push("Invalid viewport position")),{valid:n.length===0,errors:n,warnings:r}}function ob(a){const n=[];let r=!1;const s=JSON.parse(JSON.stringify(a));Array.isArray(s.nodes)||(s.nodes=[],n.push("Created empty nodes array"),r=!0),Array.isArray(s.connections)||(s.connections=[],n.push("Created empty connections array"),r=!0);const l=new Set,c=new Set;return s.nodes=s.nodes.filter((d,h)=>{if(!d.id)return n.push(`Removed node at index ${h} (missing ID)`),r=!0,!1;if(c.has(d.id)){const m=`${d.id}_${Date.now()}_${h}`;n.push(`Renamed duplicate node ID ${d.id} to ${m}`),d.id=m,r=!0}return c.add(d.id),l.add(d.id),d.label||(d.label="Unknown Node",n.push(`Set label for node ${d.id} to "Unknown Node"`),r=!0),!d.position||typeof d.position!="object"?(d.position={x:0,y:0},n.push(`Reset position for node ${d.id}`),r=!0):(Number.isFinite(d.position.x)||(d.position.x=0,n.push(`Fixed NaN x position for node ${d.id}`),r=!0),Number.isFinite(d.position.y)||(d.position.y=0,n.push(`Fixed NaN y position for node ${d.id}`),r=!0)),!0}),s.connections=s.connections.filter((d,h)=>l.has(d.source)?l.has(d.target)?!0:(n.push(`Removed connection ${h} (invalid target: ${d.target})`),r=!0,!1):(n.push(`Removed connection ${h} (invalid source: ${d.source})`),r=!0,!1)),s.viewport&&(Number.isFinite(s.viewport.x)||(s.viewport.x=0,n.push("Fixed viewport x position"),r=!0),Number.isFinite(s.viewport.y)||(s.viewport.y=0,n.push("Fixed viewport y position"),r=!0),(!Number.isFinite(s.viewport.k)||s.viewport.k<=0)&&(s.viewport.k=1,n.push("Fixed viewport zoom level"),r=!0)),{repaired:r,graphData:s,fixes:n}}class bj extends Kt.Control{constructor(n,r){super(),this.label=n,this.onClick=r}}function JO({data:a}){return p.jsx("button",{onPointerDown:n=>n.stopPropagation(),onDoubleClick:n=>n.stopPropagation(),onClick:a.onClick,style:{width:"100%",padding:"8px",marginBottom:"5px",background:"rgba(0, 243, 255, 0.1)",border:"1px solid rgba(0, 243, 255, 0.4)",color:"#00f3ff",borderRadius:"20px",cursor:"pointer",fontWeight:"600",textTransform:"uppercase",fontSize:"12px",transition:"all 0.2s"},onMouseOver:n=>{n.currentTarget.style.background="rgba(0, 243, 255, 0.25)",n.currentTarget.style.boxShadow="0 0 12px rgba(0, 243, 255, 0.4)"},onMouseOut:n=>{n.currentTarget.style.background="rgba(0, 243, 255, 0.1)",n.currentTarget.style.boxShadow="none"},children:a.label})}class wj extends Kt.Control{constructor(n,r,s,l){super(),this.label=n,this.values=r,this.value=s,this.onChange=l}setValue(n){this.value=n}}function ej({data:a}){const[,n]=E.useReducer(d=>d+1,0),[r,s]=E.useState(a.value);E.useEffect(()=>{s(a.value)},[a.value]),E.useEffect(()=>{n()},[a]);const l=d=>{const h=d.target.value;s(h),typeof a.setValue=="function"?a.setValue(h):a.value=h,a.onChange&&a.onChange(h)},c=a.values||[];return p.jsxs("div",{style:{marginBottom:"5px"},children:[a.label&&p.jsx("label",{style:{display:"block",fontSize:"10px",color:"#00f3ff",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.5px"},children:a.label}),p.jsx("select",{value:r,onChange:l,onPointerDown:d=>d.stopPropagation(),onDoubleClick:d=>d.stopPropagation(),style:{width:"100%",background:"#0a0f14",color:"#00f3ff",border:"1px solid rgba(0, 243, 255, 0.3)",padding:"6px",borderRadius:"4px",outline:"none",fontSize:"12px"},children:c.map((d,h)=>p.jsx("option",{value:d,style:{background:"#0a0f14",color:"#00f3ff"},children:d},`${h}-${d}`))})]})}class Sj extends Kt.Control{constructor(n,r,s){super(),this.label=n,this.value=r,this.onChange=s}}function tj({data:a}){const[n,r]=E.useState(a.value),s=l=>{const c=l.target.value;r(c),a.value=c,a.onChange&&a.onChange(c)};return p.jsxs("div",{style:{marginBottom:"5px"},children:[a.label&&p.jsx("label",{style:{display:"block",fontSize:"10px",color:"#00f3ff",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.5px"},children:a.label}),p.jsx("input",{type:"text",value:n,onChange:s,onPointerDown:l=>l.stopPropagation(),onDoubleClick:l=>l.stopPropagation(),style:{width:"100%",background:"#0a0f14",color:"#00f3ff",border:"1px solid rgba(0, 243, 255, 0.3)",padding:"6px",borderRadius:"4px",outline:"none",fontSize:"12px"}})]})}class xj extends Kt.Control{constructor(n,r,s){super(),this.label=n,this.value=r,this.onChange=s}}function nj({data:a}){const[n,r]=E.useState(a.value),s=l=>{const c=l.target.checked;r(c),a.value=c,a.onChange&&a.onChange(c)};return p.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"5px"},children:[p.jsx("input",{type:"checkbox",checked:n,onChange:s,onPointerDown:l=>l.stopPropagation(),onDoubleClick:l=>l.stopPropagation(),style:{accentColor:"#00f3ff"}}),p.jsx("span",{style:{marginLeft:"5px",fontSize:"12px",color:"#00f3ff",textTransform:"uppercase",letterSpacing:"0.5px"},children:a.label})]})}class Ej extends Kt.Control{constructor(n,r,s,l={}){super(),this.label=n,this.value=r,this.onChange=s,this.options=l}}function aj({data:a}){const[n,r]=E.useState(a.value),s=l=>{const c=Number(l.target.value);r(c),a.value=c,a.onChange&&a.onChange(c)};return p.jsxs("div",{style:{marginBottom:"5px"},children:[a.label&&p.jsx("label",{style:{display:"block",fontSize:"10px",color:"#00f3ff",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.5px"},children:a.label}),p.jsx("input",{type:"number",value:n,onChange:s,min:a.options.min,max:a.options.max,step:a.options.step,onPointerDown:l=>l.stopPropagation(),onDoubleClick:l=>l.stopPropagation(),style:{width:"100%",background:"#0a0f14",color:"#00f3ff",border:"1px solid rgba(0, 243, 255, 0.3)",padding:"6px",borderRadius:"4px",outline:"none",fontSize:"12px"}})]})}class kj extends Kt.Control{constructor(n,r,s,l="text"){super(),this.label=n,this.value=r,this.onChange=s,this.type=l}}function rj({data:a}){const[n,r]=E.useState(a.value);E.useEffect(()=>{r(a.value)},[a.value]);const s=l=>{let c=l.target.value;a.type==="number"&&(c=Number(c)),r(c),a.value=c,a.onChange&&a.onChange(c)};return p.jsxs("div",{style:{marginBottom:"5px"},children:[a.label&&p.jsx("label",{style:{display:"block",fontSize:"10px",color:"#00f3ff",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.5px"},children:a.label}),p.jsx("input",{type:a.type||"text",value:n,onChange:s,onPointerDown:l=>l.stopPropagation(),onDoubleClick:l=>l.stopPropagation(),style:{width:"100%",background:"#0a0f14",color:"#00f3ff",border:"1px solid rgba(0, 243, 255, 0.3)",padding:"6px",borderRadius:"4px",outline:"none",fontSize:"12px"}})]})}class Cj extends Kt.Control{constructor(n,r){super(),this.deviceId=n,this.getState=r}}function ij({data:a}){const n=a.getState?a.getState(a.deviceId):null,r=document.body.classList.contains("performance-mode");if(!n)return p.jsx("div",{style:{padding:"4px 8px",background:"rgba(0, 20, 30, 0.6)",borderRadius:"4px",marginBottom:"4px",display:"flex",alignItems:"center",justifyContent:"space-between",minHeight:"24px",border:"1px solid rgba(0, 243, 255, 0.1)"},children:p.jsx("span",{style:{fontSize:"11px",color:"rgba(0, 243, 255, 0.5)"},children:"No state data"})});const s=n.on||n.state==="on",l=n.attributes&&typeof n.attributes.brightness=="number"?Number(n.attributes.brightness):null;let c=0;l!==null&&Number.isFinite(l)&&l>100?c=Math.round(l/255*100):typeof n.brightness=="number"&&Number.isFinite(n.brightness)?c=n.brightness>100?Math.round(n.brightness/255*100):Math.round(n.brightness):l!==null&&Number.isFinite(l)&&(c=Math.round(l)),c=Math.max(0,Math.min(100,c));const d=n.hs_color||[0,0],[h,m]=d;let y="#e74c3c";s&&(m===0?y="#f1c40f":y=`hsl(${h}, ${m}%, 50%)`);const v={width:"14px",height:"14px",borderRadius:"50%",background:y,border:"1px solid rgba(255,255,255,0.3)",animation:s&&!r?"flash-pulse 2s infinite ease-in-out":"none",color:y,marginRight:"8px",flexShrink:0,boxShadow:s?`0 0 5px ${y}`:"none"};return p.jsxs("div",{style:{padding:"6px 8px",background:"rgba(0, 20, 30, 0.6)",borderRadius:"4px",marginBottom:"4px",border:"1px solid rgba(0, 243, 255, 0.2)",display:"flex",flexDirection:"column"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:s?"4px":"0"},children:[p.jsxs("div",{style:{display:"flex",alignItems:"center",flex:1,overflow:"hidden"},children:[p.jsx("div",{style:v}),p.jsx("span",{style:{fontSize:"12px",color:"#e0f7fa",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginRight:"8px"},children:n.name||a.deviceId})]}),p.jsx("span",{style:{fontSize:"10px",color:"#00f3ff",fontFamily:"monospace",whiteSpace:"nowrap"},children:s?`${c}%`:"Off"})]}),s&&p.jsx("div",{style:{width:"100%",height:"4px",background:"rgba(0, 243, 255, 0.1)",borderRadius:"2px",overflow:"hidden"},children:p.jsx("div",{style:{width:`${c}%`,height:"100%",background:`linear-gradient(90deg, rgba(0, 243, 255, 0.2), ${y})`,transition:"width 0.3s ease-out"}})})]})}function sj(a){const{state:n,color:r}=a.data.data||{},s=n==="on"||n==="open"||n==="playing",l=r||(s?"#00f3ff":"#333");return p.jsxs("div",{className:"status-indicator-control",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"5px",width:"100%"},onPointerDown:c=>c.stopPropagation(),children:[p.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:s?l:"rgba(0, 20, 30, 0.8)",boxShadow:s?`0 0 10px ${l}, 0 0 20px ${l}`:"none",transition:"all 0.3s ease",border:"1px solid rgba(0, 243, 255, 0.3)",animation:s?"pulse 2s infinite":"none"}}),p.jsx("style",{children:`
                @keyframes pulse {
                    0% { opacity: 1; transform: scale(1); }
                    50% { opacity: 0.7; transform: scale(0.9); }
                    100% { opacity: 1; transform: scale(1); }
                }
            `})]})}function oj(a){const[,n]=E.useState(0);E.useEffect(()=>{let b=JSON.stringify(a.data.data||{});const x=setInterval(()=>{const k=JSON.stringify(a.data.data||{});k!==b&&(b=k,n(j=>j+1))},100);return()=>clearInterval(x)},[a.data]);const{brightness:r,hs_color:s,entityType:l,state:c,on:d}=a.data.data||{};let h="#444";s&&s.length===2?h=`hsl(${s[0]}, ${s[1]}%, 50%)`:l==="light"&&(h="#ffaa00");const m=c==="on"||d===!0;let y=typeof r=="number"&&Number.isFinite(r)?r:0;y>100&&(y=y/255*100),y=Math.max(0,Math.min(100,y));const v=m?y:0;return p.jsx("div",{className:"color-bar-control",style:{width:"100%",height:"8px",backgroundColor:"rgba(0, 20, 30, 0.6)",borderRadius:"4px",overflow:"hidden",marginTop:"5px",border:"1px solid rgba(0, 243, 255, 0.2)"},onPointerDown:b=>b.stopPropagation(),children:p.jsx("div",{style:{width:`${v}%`,height:"100%",backgroundColor:h,transition:"all 0.3s ease",boxShadow:v>0?`0 0 10px ${h}`:"none"}})})}function lj(a){const{power:n,energy:r}=a.data.data||{};return n===null&&r===null?p.jsx("div",{className:"power-stats-control",style:{fontSize:"10px",color:"#777",marginTop:"5px",fontFamily:"monospace"},children:"-- W / -- kWh"}):p.jsxs("div",{className:"power-stats-control",style:{display:"flex",flexDirection:"column",fontSize:"10px",color:"#e0f7fa",marginTop:"5px",fontFamily:"monospace"},onPointerDown:s=>s.stopPropagation(),children:[p.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[p.jsx("span",{children:"PWR:"}),p.jsx("span",{style:{color:"#00f3ff"},children:n!==null?`${n} W`:"--"})]}),r!==null&&p.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[p.jsx("span",{children:"NRG:"}),p.jsxs("span",{style:{color:"#ffaa00"},children:[r," kWh"]})]})]})}window.EDITOR_DEBUG=!1;const cj=window.EDITOR_DEBUG,Te=(...a)=>cj&&console.debug("[Editor]",...a),uj=Da.memo(({data:a,socketKey:n,side:r})=>{let l=a?.name||"any";if(n&&typeof n=="string"){const d=n.toLowerCase();d.includes("hsv")||d.includes("color")?l="hsv_info":d.includes("trigger")||d.includes("enable")||d.includes("active")?l="boolean":(d.includes("light")||d.includes("device"))&&(l="light_info")}const c=`${n||"socket"} (${l})`;return Da.createElement("div",{className:"rete-socket","data-socket-type":l,title:c})});function dj(){const a=E.useRef(null),[n,r]=E.useState(null),[s,l]=E.useState(null),[c,d]=E.useState(null),[h,m]=E.useState(null),[y,v]=E.useState(()=>{try{return localStorage.getItem("dockMergedIntoForecast")==="true"}catch{return!1}}),b=E.useRef(null),x=E.useRef(null);E.useEffect(()=>{try{localStorage.setItem("dockMergedIntoForecast",String(y))}catch{}},[y]);const k=E.useRef(!1),j=E.useRef(new Set),Z=E.useRef(null),q=E.useRef(!1),Q=E.useRef(null),K=E.useRef(null),B=E.useRef(null),Y=E.useRef({x:0,y:0}),fe=E.useRef(!1),be=E.useRef([]),[H,de]=E.useState({visible:!1,position:{x:0,y:0},items:[],nodeContext:null}),re=180,pe="favoriteNodes",[ze,Oe]=E.useState(()=>{try{const F=localStorage.getItem(pe),ie=F?JSON.parse(F):null,ee=ce=>{const C=[];for(const R of Array.isArray(ce)?ce:[]){if(typeof R!="string")continue;const se=R.trim();se&&(C.includes(se)||C.push(se))}return C};if(Array.isArray(ie)){const ce=ee(ie);return ce.length?[{category:"Other",labels:ce}]:[]}const Ae=Array.isArray(ie?.groups)?ie.groups:Array.isArray(ie?.favoriteGroups)?ie.favoriteGroups:Array.isArray(ie)?ie:null;if(!Ae)return[];const xe=[];for(const ce of Ae){const C=(ce?.category||"Other").toString().trim()||"Other",R=ee(ce?.labels);R.length!==0&&xe.push({category:C,labels:R})}return xe}catch{return[]}}),Je=E.useRef(null),[it,We]=E.useState(!1),N=E.useRef(null),[V,W]=E.useState(!1),[ge,U]=E.useState(null);E.useEffect(()=>{try{localStorage.setItem(pe,JSON.stringify({version:2,groups:ze}))}catch{}},[ze]);const S=E.useCallback(F=>{const ie=(F||"").toString().trim();if(!ie)return;const Ae=(Rn.getByLabel(ie)?.category||"Other").toString().trim()||"Other";Oe(xe=>{for(const R of xe)if(Array.isArray(R?.labels)&&R.labels.includes(ie))return xe;const ce=xe.map(R=>({category:R.category,labels:[...R.labels]})),C=ce.findIndex(R=>R.category===Ae);return C===-1?ce.push({category:Ae,labels:[ie]}):ce[C].labels.push(ie),ce})},[]),D=E.useCallback(F=>{const ie=(F||"").toString().trim();ie&&Oe(ee=>{const Ae=[];for(const xe of ee){const ce=(xe?.labels||[]).filter(C=>C!==ie);ce.length!==0&&Ae.push({category:xe.category,labels:ce})}return Ae})},[]),O=E.useCallback(async F=>{const ie=a.current,ee=Q.current,Ae=K.current;if(!ie||!ee||!Ae)return;const xe=ie.getBoundingClientRect(),ce={x:xe.left+xe.width/2,y:xe.top+xe.height/2};try{const se=window._t2GetMenuItems;if(typeof se=="function"){const he=se();for(const we of he||[])for(const Ce of we.subitems||[])if(Ce.label===F&&typeof Ce.handler=="function"){await Ce.handler(ce);return}}}catch(se){console.warn("[Favorites] Failed to create via context handlers:",se)}const C=Rn.getByLabel(F);if(!C)return;const R=()=>{try{Z.current?.()}catch{}};try{const se=C.factory(R);await ee.addNode(se);const he=Ae.area.transform,we=(ce.x-he.x)/he.k,Ce=(ce.y-he.y)/he.k;await Ae.translate(se.id,{x:we,y:Ce}),F==="Backdrop"&&window.refreshBackdropGroups&&window.refreshBackdropGroups()}catch(se){console.warn("[Favorites] Fallback create failed:",se)}},[]);E.useEffect(()=>{try{const F=Rn.getAll();if(F.length===0)return;const ie=new Map;for(const ee of F)ee?.label&&ie.set(ee.label,(ee.category||"Other").toString().trim()||"Other");Oe(ee=>{const Ae=[],xe=new Map,ce=(C,R)=>{xe.has(C)||(xe.set(C,[]),Ae.push(C));const se=xe.get(C);se.includes(R)||se.push(R)};for(const C of ee)for(const R of C?.labels||[]){const se=ie.get(R);se&&ce(se,R)}return Ae.map(C=>({category:C,labels:xe.get(C)})).filter(C=>C.labels.length>0)})}catch{}},[n]);const z=E.useCallback(async F=>{await new Promise(P=>{const ne=()=>{const me=F.getBoundingClientRect();me.width>0&&me.height>0?P():requestAnimationFrame(ne)};requestAnimationFrame(ne)});const ie=new Wr,ee=new _b(F),Ae=new xE,xe=new NC({createRoot:ub.createRoot}),ce=new UC;ie.use(ce);let C=0,R=0,se=Date.now();window._t2PerfStats=()=>{const P=(Date.now()-se)/1e3;return console.log(`[Perf] In ${P.toFixed(1)}s: ${C} process calls, ${R} skipped (${(C/P).toFixed(1)}/sec)`),{calls:C,skipped:R,perSecond:C/P}},window._t2PerfReset=()=>{C=0,R=0,se=Date.now(),console.log("[Perf] Stats reset")};let he=null;const we=()=>{const P=ie?.getNodes?.()?.length||0;return P<50?16:P<100?32:P<150?50:100};let Ce=!1;const $e=async()=>{if(Ce){R++;return}if(he)return;C++;const P=we();he=setTimeout(async()=>{he=null,Ce=!0;try{const ne=ie.getNodes(),me=ie.getConnections();window._debugProcess&&(console.log("[Editor] process() - nodes:",ne.map(ke=>`${ke.id}:${ke.label}`)),console.log("[Editor] process() - connections:",me.map(ke=>`${ke.source}:${ke.sourceOutput} -> ${ke.target}:${ke.targetInput}`)),window._debugProcess=!1),ce.reset();for(const ke of ne)try{await ce.fetch(ke.id)}catch{}}finally{Ce=!1}},P)},Pe=async()=>{if(!Ce){he&&(clearTimeout(he),he=null),Ce=!0;try{ce.reset();for(const P of ie.getNodes())try{await ce.fetch(P.id)}catch{}}finally{Ce=!1}}},bt=new Set;let Be=null;const He=P=>{bt.add(P),Be||(Be=setTimeout(()=>{Be=null,bt.forEach(ne=>{ee.update("node",ne)}),bt.clear(),$e()},16))},Le=()=>{$e()},st=()=>{const P=Rn.getAll(),ne={};P.forEach(ke=>{const Xe=ke.category||"Other";ne[Xe]||(ne[Xe]=[]),ne[Xe].push({label:ke.label,order:ke.order,description:ke.description,handler:async Gt=>{let sn;const Wt=()=>{ke.updateStrategy==="dataflow"?Le():He(sn.id)};sn=ke.factory(Wt),await ie.addNode(sn);const Jt=ee.area.transform,bn=(Gt.x-Jt.x)/Jt.k,Mt=(Gt.y-Jt.y)/Jt.k;await ee.translate(sn.id,{x:bn,y:Mt}),ke.label==="Backdrop"&&window.refreshBackdropGroups&&window.refreshBackdropGroups()}})});const me=window.T2Controls?.THEME?.categories||{};return Object.entries(ne).map(([ke,Xe])=>({label:ke,icon:me[ke]?.icon||"",subitems:Xe.sort((Gt,sn)=>{const Wt=Gt.order??999,Jt=sn.order??999;return Wt!==Jt?Wt-Jt:Gt.label.localeCompare(sn.label)})})).sort((ke,Xe)=>ke.label.localeCompare(Xe.label))};window._t2GetMenuItems=st,window._t2Editor=ie,window._t2Area=ee,window._t2Process=$e,window._t2ProcessImmediate=Pe,window._t2Engine=ce;const vt=Gr.selector();xe.addPreset(Of.classic.setup({customize:{node(P){const ne=Rn.getByInstance(P.payload);return ne?ne.component:Of.classic.Node},socket(P){const ne=P.key,me=P.side;return function({data:ke}){return Da.createElement(uj,{data:ke,socketKey:ne,side:me})}},control(P){if(P.payload instanceof Kt.Control){const me=P.payload.constructor.name;if(me==="ButtonControl")return JO;if(me==="DropdownControl")return ej;if(me==="TextControl")return tj;if(me==="SwitchControl")return nj;if(me==="NumberControl")return aj;if(me==="InputControl")return rj;if(me==="DeviceStateControl")return ij;if(me==="StatusIndicatorControl")return sj;if(me==="ColorBarControl")return oj;if(me==="PowerStatsControl")return lj}return Of.classic.Control}}})),Ae.addPreset(gE.classic.setup()),ie.use(ee),ee.use(Ae),ee.use(xe),Gr.selectableNodes(ee,vt,{accumulating:Gr.accumulateOnCtrl()}),Gr.simpleNodesOrder(ee),ie.addPipe(P=>{if(P.type==="nodecreated"){const ne=P.data,me=Rn.getByInstance(ne);me&&me.isBackdrop&&setTimeout(()=>{const Ee=ee.nodeViews.get(ne.id);Ee&&Ee.element&&(Ee.element.style.zIndex="-10",Te("[Backdrop] Set z-index on creation for:",ne.id))},50)}return P});let $t=!1,nn=!1,ot={x:0,y:0};Ae.addPipe(P=>(P.type==="connectionpick"?($t=!0,Te(" Connection pick - wire dragging started")):P.type==="connectiondrop"&&($t=!1,nn=!1,Te(" Connection drop - wire dragging ended")),P));const Dt=P=>{if($t)if(P.ctrlKey||P.metaKey)if(!nn)nn=!0,ot={x:P.clientX,y:P.clientY},F.style.cursor="grab";else{const ne=P.clientX-ot.x,me=P.clientY-ot.y;if(ne!==0||me!==0){const Ee=ee.area.transform;ee.area.translate(Ee.x+ne,Ee.y+me),ot={x:P.clientX,y:P.clientY}}}else nn&&(nn=!1,F.style.cursor="")},an=P=>{(P.key==="Control"||P.key==="Meta")&&nn&&(nn=!1,F.style.cursor="")};window.addEventListener("pointermove",Dt),window.addEventListener("keyup",an);let rn=!1,Ct=!1,Qt=null,Fa=!1,Pa={x:0,y:0},sa={x:0,y:0};const _=P=>{P.code==="Space"&&rn&&Qt&&(Fa=!0,sa={x:0,y:0},P.preventDefault())},L=P=>{if(P.code==="Space"&&(Fa=!1,Ct&&Qt)){const ne=ee.nodeViews.get(Qt);if(ne){const me=ee.area.transform,Ee=sa.x/me.k,ke=sa.y/me.k,Xe={x:ne.position.x-Ee,y:ne.position.y-ke};k.current=!0,ee.translate(Qt,Xe).finally(()=>{k.current=!1})}Ct=!1,F.style.cursor=""}},ue=P=>{if(!(!rn||!Qt))if(Fa)if(!Ct)Ct=!0,Pa={x:P.clientX,y:P.clientY},sa={x:0,y:0},F.style.cursor="grab";else{const ne=P.clientX-Pa.x,me=P.clientY-Pa.y;if(ne!==0||me!==0){const Ee=ee.area.transform;ee.area.translate(Ee.x+ne,Ee.y+me),sa.x+=ne,sa.y+=me,Pa={x:P.clientX,y:P.clientY}}}else Ct&&(Ct=!1,F.style.cursor="")};window.addEventListener("keydown",_,!0),window.addEventListener("keyup",L,!0),F.addEventListener("pointermove",ue,!0);const oe=document.createElement("div");oe.classList.add("selection-box"),F.appendChild(oe);let _e=!1,Ot={x:0,y:0};const It=j.current,Ye=()=>{_e&&(Te(" Safety reset: clearing stuck lasso selection"),_e=!1,oe.style.display="none")},Pt=()=>{Ye(),window.resetEditorDragState&&window.resetEditorDragState()},xt=()=>{document.hidden&&(Ye(),window.resetEditorDragState&&window.resetEditorDragState())};window.addEventListener("blur",Pt),document.addEventListener("visibilitychange",xt);const Ze=P=>{try{const ne=P.target;ne&&(ne.tagName==="INPUT"||ne.tagName==="TEXTAREA"||ne.isContentEditable)||(F.tabIndex=-1,F.focus())}catch{}if((P.ctrlKey||P.metaKey)&&P.button===0){P.stopPropagation(),P.preventDefault(),_e=!0;const ne=F.getBoundingClientRect();Ot={x:P.clientX-ne.left,y:P.clientY-ne.top},oe.style.display="block",oe.style.left=`${Ot.x}px`,oe.style.top=`${Ot.y}px`,oe.style.width="0px",oe.style.height="0px",P.shiftKey||(It.forEach(me=>{const Ee=ee.nodeViews.get(me);Ee&&Ee.element&&(Ee.element.classList.remove("selected"),Ee.element.style.outline="")}),It.clear(),vt&&vt.entities&&Array.from(vt.entities).forEach(me=>vt.remove(me)))}},Tn=P=>{if(!_e)return;const ne=F.getBoundingClientRect(),me=P.clientX-ne.left,Ee=P.clientY-ne.top,ke=Math.min(Ot.x,me),Xe=Math.min(Ot.y,Ee),Gt=Math.abs(me-Ot.x),sn=Math.abs(Ee-Ot.y);oe.style.left=`${ke}px`,oe.style.top=`${Xe}px`,oe.style.width=`${Gt}px`,oe.style.height=`${sn}px`},Za=P=>{if(!_e)return;const ne=oe.getBoundingClientRect();if(_e=!1,oe.style.display="none",ne.width<5&&ne.height<5)return;const me=[];ie.getNodes().forEach(Ee=>{const ke=ee.nodeViews.get(Ee.id);if(ke&&ke.element){const Xe=ke.element.getBoundingClientRect();ne.left<=Xe.left&&ne.right>=Xe.right&&ne.top<=Xe.top&&ne.bottom>=Xe.bottom&&me.push({node:Ee,view:ke})}}),me.forEach(({node:Ee,view:ke})=>{It.add(Ee.id),vt.add({id:Ee.id,label:"node",translate(Xe,Gt){},unselect(){ke.element.classList.remove("selected"),ke.element.style.outline=""}},!1),ke.element.classList.add("selected"),ke.element.style.outline="3px solid #00f3ff"})},Kc=()=>{It.size>0&&(It.forEach(P=>{const ne=ee.nodeViews.get(P);ne&&ne.element&&(ne.element.classList.remove("selected"),ne.element.style.outline="")}),It.clear()),vt&&vt.entities&&(vt.entities instanceof Map?Array.from(vt.entities.values()):Array.from(vt.entities)).forEach(ne=>{ne.unselect&&ne.unselect(),vt.remove(ne)}),ie.getNodes().forEach(P=>{const ne=ee.nodeViews.get(P.id);ne&&ne.element&&ne.element.classList.remove("selected")})},qo=P=>{if(!P.ctrlKey&&!P.metaKey&&!_e){let ne=!1;for(const[me,Ee]of ee.nodeViews)if(Ee.element.contains(P.target)){ne=!0;break}if(!ne){const me=P.target;(me===F||me.classList.contains("rete-area")||me.closest('[data-testid="area"]'))&&Kc()}}};F.addEventListener("pointerdown",Ze,{capture:!0}),F.addEventListener("click",qo),window.addEventListener("pointermove",Tn),window.addEventListener("pointerup",Za),ie.addPipe(P=>((P.type==="connectioncreated"||P.type==="connectionremoved")&&$e(),P));let xn={activeBackdropId:null,isDragging:!1,nodesBeingMoved:new Set},xa=!1,Ea=null;const oa=P=>{xa=P,Ea&&(clearTimeout(Ea),Ea=null),P&&(Ea=setTimeout(()=>{xa&&(Te(" Safety reset: clearing stuck isGroupMoving"),xa=!1),Ea=null},500))},vr=()=>{_e&&(Te(" Resetting stuck lasso selection"),_e=!1,oe.style.display="none"),xa&&(Te(" Resetting stuck group moving"),oa(!1)),xn.isDragging&&(Te(" Resetting stuck backdrop drag"),xn.isDragging=!1,xn.activeBackdropId=null,xn.nodesBeingMoved.clear())};window.resetEditorDragState=vr;function Xa(){const P=ie.getNodes(),ne=P.filter(Ee=>{const ke=Rn.getByInstance(Ee);return ke&&ke.isBackdrop}),me=P.filter(Ee=>{const ke=Rn.getByInstance(Ee);return!ke||!ke.isBackdrop});ne.forEach(Ee=>{const ke=ee.nodeViews.get(Ee.id);if(!ke)return;ke.element&&(ke.element.style.zIndex="-10");const Xe=ke.position,Gt=[],sn=Ee.properties.width||400,Wt=Ee.properties.height||300,Jt=(Mt,Yt,En)=>{const Ra=Mt.x+Yt/2,Ka=Mt.y+En/2;return Ra>=Xe.x&&Ra<=Xe.x+sn&&Ka>=Xe.y&&Ka<=Xe.y+Wt};me.forEach(Mt=>{const Yt=ee.nodeViews.get(Mt.id);if(!Yt)return;Yt.element&&parseInt(Yt.element.style.zIndex||"0",10)<0&&(Yt.element.style.zIndex="1");const En=Yt.position,Ra=Mt.width||180,Ka=Mt.height||100;Jt(En,Ra,Ka)&&Gt.push(Mt.id)}),ne.forEach(Mt=>{if(Mt.id===Ee.id)return;const Yt=ee.nodeViews.get(Mt.id);if(!Yt)return;const En=Yt.position,Ra=Mt.properties.width||400,Ka=Mt.properties.height||300;Ra>=sn||Ka>=Wt||Jt(En,Ra,Ka)&&Gt.push(Mt.id)});const bn=Ee.properties.capturedNodes.length;Ee.properties.capturedNodes=Gt,bn!==Gt.length&&Ee.changeCallback&&Ee.changeCallback()})}return ee.updateBackdropCaptures=Xa,ee.addPipe(P=>{if(P.type==="nodepicked"){const ne=P.data.id,me=ie.getNode(ne);rn=!0,Qt=ne,Ct=!1;try{if(me&&N?.current!==void 0){const ke=ee.nodeViews.get(ne)?.position||{x:0,y:0};N.current={nodeId:ne,label:me.label,startPos:ke,active:!1,over:!1}}}catch{}if(me){const ke=Rn.getByInstance(me);if(ke&&ke.isBackdrop&&me.properties.locked)return}!fe.current&&!It.has(ne)&&(It.forEach(ke=>{const Xe=ee.nodeViews.get(ke);Xe&&Xe.element&&(Xe.element.classList.remove("selected"),Xe.element.style.outline="")}),It.clear()),It.add(ne);const Ee=ee.nodeViews.get(ne);Ee&&Ee.element&&(Ee.element.classList.add("selected"),Ee.element.style.outline="3px solid #00f3ff")}return P}),ee.addPipe(P=>{try{if(k.current)return P;const ne=me=>{const Ee=Je.current?.getBoundingClientRect();if(!Ee)return!1;const Xe=ee.nodeViews.get(me)?.element;if(!Xe)return!1;const Gt=Xe.getBoundingClientRect(),sn=Gt.left+Gt.width/2,Wt=Gt.top+Gt.height/2;return sn>=Ee.left&&sn<=Ee.right&&Wt>=Ee.top&&Wt<=Ee.bottom};if(P.type==="nodetranslate"){const me=N.current;if(!me)return P;const Ee=P.data?.id;if(!Ee||me.nodeId!==Ee)return P;me.active||(me.active=!0,!me.startPos&&P.data?.previous&&(me.startPos=P.data.previous));const ke=ne(Ee);return ke!==me.over&&(me.over=ke,We(ke)),P}if(P.type==="nodedragged"){const me=N.current;if(!me)return P;const Ee=P.data?.id;if(!Ee||me.nodeId!==Ee)return P;if(me.active&&ne(Ee)){S(me.label);const Xe=me.startPos;Xe&&setTimeout(()=>{try{ee.translate(Ee,Xe)}catch{}},0)}return N.current=null,We(!1),P}}catch{}return P}),ee.addPipe(P=>{if(P.type==="render"&&P.data?.payload){const ne=P.data.payload,me=Rn.getByInstance(ne);me&&me.isBackdrop&&setTimeout(()=>{const Ee=ee.nodeViews.get(ne.id);if(Ee&&Ee.element){Ee.element.style.zIndex!=="-10"&&(Ee.element.style.zIndex="-10");const ke=ne.properties.locked?"none":"auto";Ee.element.style.pointerEvents!==ke&&(Ee.element.style.pointerEvents=ke)}},0)}if(P.type==="nodetranslate"){if(k.current||xa)return P;const ne=P.data.id,me=ie.getNode(ne);if(!me)return P;const Ee=P.data.position,ke=P.data.previous,Xe=Ee.x-ke.x,Gt=Ee.y-ke.y;if(Xe===0&&Gt===0)return P;if(Ct&&Qt===ne)return{...P,data:{...P.data,position:P.data.previous}};if(It.size>1&&It.has(ne)){oa(!0);const Wt=[];return It.forEach(Jt=>{if(Jt!==ne){const bn=ee.nodeViews.get(Jt);if(bn){const Mt=bn.position.x+Xe,Yt=bn.position.y+Gt;Wt.push(ee.translate(Jt,{x:Mt,y:Yt}))}}}),Promise.all(Wt).then(()=>{oa(!1)}),P}const sn=Rn.getByInstance(me);if(sn&&sn.isBackdrop){if(me.properties.locked)return{...P,data:{...P.data,position:P.data.previous}};if(xn.isDragging&&xn.nodesBeingMoved.has(ne)&&xn.activeBackdropId!==ne)return P;if(xn.activeBackdropId!==ne){xn.activeBackdropId=ne,xn.isDragging=!0,xn.nodesBeingMoved.clear(),Xa();const Wt=Jt=>{Jt.forEach(bn=>{xn.nodesBeingMoved.add(bn);const Mt=ie.getNode(bn);Mt&&Mt.properties.capturedNodes&&Wt(Mt.properties.capturedNodes)})};Wt(me.properties.capturedNodes)}if(me.properties.capturedNodes.length>0){oa(!0);const Wt=[];return me.properties.capturedNodes.forEach(Jt=>{if(!It.has(Jt)){const bn=ee.nodeViews.get(Jt);if(bn){const Mt=bn.position.x+Xe,Yt=bn.position.y+Gt;Wt.push(ee.translate(Jt,{x:Mt,y:Yt}))}}}),Promise.all(Wt).then(()=>{oa(!1)}),P}}}if(P.type==="nodedragged"){if(k.current)return P;xn.isDragging=!1,xn.activeBackdropId=null,xn.nodesBeingMoved.clear(),rn=!1,Qt=null,Ct&&(Ct=!1,F.style.cursor=""),Xa()}return P}),Q.current=ie,K.current=ee,B.current=vt,window.updateBackdropLockState=(P,ne)=>{const me=ee.nodeViews.get(P);me&&me.element&&(me.element.style.pointerEvents=ne?"none":"auto",Te(" Updated backdrop lock state:",P,"locked:",ne))},r(ie),l(ee),d(ce),{destroy:()=>{F.removeEventListener("pointerdown",Ze,{capture:!0}),F.removeEventListener("click",qo),F.removeEventListener("pointermove",ue,!0),window.removeEventListener("pointermove",Tn),window.removeEventListener("pointerup",Za),window.removeEventListener("pointermove",Dt),window.removeEventListener("keyup",an),window.removeEventListener("keydown",_,!0),window.removeEventListener("keyup",L,!0),window.removeEventListener("blur",Pt),document.removeEventListener("visibilitychange",xt),Ea&&clearTimeout(Ea),oe.parentNode&&oe.parentNode.removeChild(oe),ee.destroy()},selector:vt,editor:ie,area:ee,engine:ce,process:$e,processImmediate:Pe}},[]);E.useEffect(()=>{const F=a.current;if(!F)return;let ie=null,ee=null,Ae=null;const xe=new Map,ce=he=>{try{typeof he.pointerId=="number"&&xe.set(he.pointerId,{el:he.target,pointerType:he.pointerType||"mouse"})}catch{}},C=he=>{try{typeof he.pointerId=="number"&&xe.delete(he.pointerId)}catch{}},R=he=>{try{typeof he.pointerId=="number"&&xe.delete(he.pointerId)}catch{}};F.addEventListener("gotpointercapture",ce,!0),F.addEventListener("lostpointercapture",C,!0),window.addEventListener("pointerup",R,!0),window.addEventListener("pointercancel",R,!0),ee=GO().then(()=>(Te(" External plugins loaded, now creating editor..."),z(F))).then(he=>{he.editor,ie=he.area,he.engine,he.selector,r(he.editor),l(he.area),d(he.engine),m(he.selector),Z.current=he.processImmediate,setTimeout(()=>{if(F){F.tabIndex=-1,F.focus();const Ce=F.getBoundingClientRect(),$e=Ce.left+Ce.width/2,Pe=Ce.top+Ce.height/2,bt=new WheelEvent("wheel",{bubbles:!0,cancelable:!0,clientX:$e,clientY:Pe,deltaY:0});F.dispatchEvent(bt),Te(" Container initialized and focused"),window.resetEditorView=()=>{Te(" Manual reset triggered"),requestAnimationFrame(()=>{window.resetEditorDragState&&window.resetEditorDragState();const Be=F.getBoundingClientRect(),He=Be.left+Be.width/2,Le=Be.top+Be.height/2;F.tabIndex=-1,F.focus();try{const vt=Array.from(xe.entries());xe.clear(),vt.forEach(([$t,nn])=>{const ot=nn?.el,Dt=nn?.pointerType||"mouse";try{const an=new PointerEvent("pointercancel",{bubbles:!0,cancelable:!0,pointerId:$t,pointerType:Dt});F.dispatchEvent(an)}catch{}try{F.releasePointerCapture($t)}catch{}try{ot&&typeof ot.releasePointerCapture=="function"&&ot.releasePointerCapture($t)}catch{}})}catch{}try{for(let $t=0;$t<5;$t++)try{F.releasePointerCapture($t)}catch{}F.querySelectorAll(".node, .connection, [data-drag]").forEach($t=>{try{$t.releasePointerCapture(1)}catch{}})}catch{}if(ie){const vt=new PointerEvent("pointercancel",{bubbles:!0,cancelable:!0,pointerId:1,pointerType:"mouse"});F.dispatchEvent(vt);const $t=new PointerEvent("lostpointercapture",{bubbles:!0,cancelable:!0,pointerId:1,pointerType:"mouse"});F.dispatchEvent($t)}setTimeout(()=>{const vt=new PointerEvent("pointerdown",{bubbles:!0,cancelable:!0,clientX:He,clientY:Le,pointerId:1,pointerType:"mouse",isPrimary:!0,button:0,buttons:1}),$t=new PointerEvent("pointerup",{bubbles:!0,cancelable:!0,clientX:He,clientY:Le,pointerId:1,pointerType:"mouse",isPrimary:!0,button:0,buttons:0});F.dispatchEvent(vt),setTimeout(()=>{F.dispatchEvent($t);const nn=new WheelEvent("wheel",{bubbles:!0,cancelable:!0,clientX:He,clientY:Le,deltaY:0});F.dispatchEvent(nn),Te(" Reset complete")},50)},50)})}}},100);let we=!1;return Ae=new ResizeObserver(Ce=>{for(const $e of Ce){const{width:Pe,height:bt}=$e.contentRect;!we&&Pe>0&&bt>0&&(we=!0,Te(" ResizeObserver: Container now has size",Pe,bt),setTimeout(()=>{F.focus();const Be=F.getBoundingClientRect(),He=new WheelEvent("wheel",{bubbles:!0,cancelable:!0,clientX:Be.left+Be.width/2,clientY:Be.top+Be.height/2,deltaY:0});F.dispatchEvent(He)},50))}}),Ae.observe(F),he});const se=()=>{Te(" graphLoadComplete event received - triggering view reset");const he=()=>{window.resetEditorView&&window.resetEditorView()};he(),setTimeout(he,100),setTimeout(he,500),setTimeout(he,1e3)};return window.addEventListener("graphLoadComplete",se),()=>{Ae&&Ae.disconnect(),window.removeEventListener("graphLoadComplete",se),F.removeEventListener("gotpointercapture",ce,!0),F.removeEventListener("lostpointercapture",C,!0),window.removeEventListener("pointerup",R,!0),window.removeEventListener("pointercancel",R,!0),ee.then(he=>he.destroy())}},[z]),E.useEffect(()=>{if(!n||!s||!h)return;const F=async C=>{if(C.target.tagName==="INPUT"||C.target.tagName==="TEXTAREA"||C.target.isContentEditable)return;if(Te(` KeyDown: ${C.code} (Ctrl: ${C.ctrlKey}, Meta: ${C.metaKey})`),C.code==="F5"||(C.ctrlKey||C.metaKey)&&C.shiftKey&&C.code==="KeyR"){C.preventDefault(),Te(" View reset shortcut triggered"),window.resetEditorView&&window.resetEditorView();return}if(C.code==="KeyF"&&!C.ctrlKey&&!C.metaKey&&!C.altKey){C.preventDefault();const Ce=K.current,$e=Q.current;if(Ce&&$e){const Pe=$e.getNodes();Pe.length>0&&(Te(" Zoom extents triggered (F key)"),Gr.zoomAt(Ce,Pe,{scale:.9}).catch(bt=>{console.warn("[F key] zoomAt failed:",bt)}))}return}const R=Q.current,se=K.current,he=B.current;if(!R||!se){Te(" No editor/area ref available");return}const we=()=>{const Ce=new Set;if(he&&he.entities&&he.entities instanceof Map)for(const[$e,Pe]of he.entities)R.getNode($e)&&Ce.add($e);for(const $e of j.current){const Pe=R.getNode($e);Te(` Checking node ${$e}: exists=${!!Pe}`),Pe&&Ce.add($e)}return Te(` Found ${Ce.size} selected nodes:`,Array.from(Ce)),Array.from(Ce)};if(C.code==="Delete"||C.code==="Backspace"){Te(" Delete key pressed. lassoSelectedNodesRef.current size:",j.current.size),Te(" lassoSelectedNodesRef.current contents:",Array.from(j.current));const Ce=we();if(Te(` Deleting ${Ce.length} nodes:`,Ce),Ce.length>0){const $e=[],Pe=[],bt=new Set(Ce);for(const Be of R.getConnections())(bt.has(Be.source)||bt.has(Be.target))&&Pe.push({source:Be.source,target:Be.target,sourceOutput:Be.sourceOutput,targetInput:Be.targetInput});for(const Be of Ce){const He=R.getNode(Be);He&&$e.push({id:Be,label:He.label,position:se.nodeViews.get(Be)?.position||{x:0,y:0},properties:JSON.parse(JSON.stringify(He.properties||{}))})}be.current.push({type:"delete",nodes:$e,connections:Pe}),Te(" Saved undo state:",be.current.length,"items in stack");for(const Be of Ce){const He=R.getConnections().filter(Le=>Le.source===Be||Le.target===Be);for(const Le of He)await R.removeConnection(Le.id);await R.removeNode(Be),j.current.delete(Be)}window.refreshBackdropGroups&&window.refreshBackdropGroups()}}if((C.ctrlKey||C.metaKey)&&C.code==="KeyZ"&&!C.shiftKey){if(C.preventDefault(),be.current.length===0){Te(" Nothing to undo");return}const Ce=be.current.pop();if(Te(" Undoing:",Ce.type,Ce.nodes.length,"nodes"),Ce.type==="delete"){const $e={};k.current=!0;try{for(const Pe of Ce.nodes){const bt=Rn.getByLabel(Pe.label);if(bt){let Be;const He=()=>{se&&se.update("node",Be.id),c&&R&&(c.reset(),setTimeout(()=>{R.getNodes().forEach(async st=>{try{await c.fetch(st.id)}catch{}})},0))},Le=()=>{bt.updateStrategy==="dataflow"?(c&&c.reset(),c&&R&&setTimeout(()=>{R.getNodes().forEach(async st=>{try{await c.fetch(st.id)}catch{}})},0)):He()};Be=bt.factory(Le),Pe.properties&&Object.assign(Be.properties,Pe.properties),await R.addNode(Be),await se.translate(Be.id,Pe.position),$e[Pe.id]=Be.id}}for(const Pe of Ce.connections){const bt=$e[Pe.source]||Pe.source,Be=$e[Pe.target]||Pe.target,He=R.getNode(bt),Le=R.getNode(Be);if(He&&Le)try{await R.addConnection(new Kt.Connection(He,Pe.sourceOutput,Le,Pe.targetInput))}catch(st){console.warn("[Editor] Could not restore connection:",st)}}Te(" Undo complete - restored",Ce.nodes.length,"nodes"),window.refreshBackdropGroups&&window.refreshBackdropGroups()}finally{k.current=!1,se?.updateBackdropCaptures?.()}}}if((C.ctrlKey||C.metaKey)&&C.code==="KeyC")try{const Ce=we();if(Ce.length===0){Te(" Nothing selected to copy");return}Te(` Copying ${Ce.length} nodes`);const $e=[],Pe=new Set(Ce);for(const He of Ce){const Le=R.getNode(He);Le&&$e.push({label:Le.label,position:se.nodeViews.get(Le.id)?.position||{x:0,y:0},data:{id:Le.id,properties:JSON.parse(JSON.stringify(Le.properties||{}))}})}if($e.length===0){Te(" Nothing selected to copy (no nodes in selection)");return}const bt=[];for(const He of R.getConnections())Pe.has(He.source)&&Pe.has(He.target)&&bt.push({source:He.source,target:He.target,sourceOutput:He.sourceOutput,targetInput:He.targetInput});const Be={nodes:$e,connections:bt};localStorage.setItem("rete-clipboard",JSON.stringify(Be)),Te("Copied to clipboard:",Be)}catch(Ce){console.error("[Editor] Copy failed:",Ce)}if((C.ctrlKey||C.metaKey)&&C.code==="KeyV"){const Ce=localStorage.getItem("rete-clipboard");if(!Ce){Te(" Clipboard empty");return}try{const $e=JSON.parse(Ce),Pe={},Be=(K.current?.container||a.current)?.getBoundingClientRect()||{left:0,top:0},He=se.area.transform,Le=(Y.current.x-Be.left-He.x)/He.k,st=(Y.current.y-Be.top-He.y)/He.k;let vt=1/0,$t=1/0;for(const ot of $e.nodes)vt=Math.min(vt,ot.position.x),$t=Math.min($t,ot.position.y);he&&he.entities&&Array.from(he.entities).forEach(ot=>he.remove(ot)),k.current=!0;try{for(const ot of $e.nodes){let Dt;const an=Rn.getByLabel(ot.label);if(an){const rn=()=>{se&&se.update("node",Dt.id),c&&R&&(c.reset(),setTimeout(()=>{R.getNodes().forEach(async Qt=>{try{await c.fetch(Qt.id)}catch{}})},0))},Ct=()=>{an.updateStrategy==="dataflow"?(c&&c.reset(),c&&R&&setTimeout(()=>{R.getNodes().forEach(async Qt=>{try{await c.fetch(Qt.id)}catch{}})},0)):rn()};Dt=an.factory(Ct)}if(Dt){typeof Dt.restore=="function"&&ot.data?Dt.restore(ot.data):ot.data&&ot.data.properties&&Dt.properties&&Object.assign(Dt.properties,ot.data.properties),await R.addNode(Dt);const rn=ot.position.x-vt,Ct=ot.position.y-$t,Qt={x:Le+rn,y:st+Ct};await se.translate(Dt.id,Qt),Pe[ot.data.id]=Dt.id,he&&he.add({id:Dt.id,label:"node",translate:()=>{},unmount:()=>{},unselect:()=>{}},!0)}}}finally{k.current=!1,se?.updateBackdropCaptures?.()}const nn=[];for(const ot of $e.connections){const Dt=Pe[ot.source],an=Pe[ot.target];if(Dt&&an){const rn=R.getNode(Dt),Ct=R.getNode(an);rn&&Ct&&nn.push(R.addConnection(new Kt.Connection(rn,ot.sourceOutput,Ct,ot.targetInput)))}}if(await Promise.all(nn),c&&R){c.reset();for(const ot of R.getNodes())try{await c.fetch(ot.id)}catch{}}Te("Pasted from clipboard")}catch($e){console.error("[Editor] Paste failed:",$e)}}C.code==="Home"&&(C.preventDefault(),se.area&&(se.area.zoom(1,0,0),se.area.translate(0,0),Te(" Viewport reset via Home key"))),C.code==="Escape"&&window.resetEditorDragState&&(window.resetEditorDragState(),Te(" Drag state reset via Escape key"))},ie=C=>{Y.current={x:C.clientX,y:C.clientY}},ee=C=>{C.key==="Shift"&&(fe.current=!0)},Ae=C=>{C.key==="Shift"&&(fe.current=!1)},xe=()=>{Te(" Received delete from Electron IPC"),F({code:"Delete",ctrlKey:!1,metaKey:!1,target:{tagName:"DIV",isContentEditable:!1}})};let ce=null;return window.api&&window.api.onDeleteKey&&(ce=window.api.onDeleteKey(xe)),window.addEventListener("keydown",F),window.addEventListener("keydown",ee),window.addEventListener("keyup",Ae),window.addEventListener("mousemove",ie),()=>{window.removeEventListener("keydown",F),window.removeEventListener("keydown",ee),window.removeEventListener("keyup",Ae),window.removeEventListener("mousemove",ie),ce&&ce()}},[n,s,c,h]),E.useEffect(()=>{const F=a.current;if(!F||!n||!s)return;const ie=ee=>{const Ae=ee.target.closest('[data-testid="node"]');if(Ae){ee.preventDefault();const xe=Ae.dataset.nodeId||Array.from(s.nodeViews.entries()).find(([ce,C])=>C.element===Ae)?.[0];if(xe){const ce=n.getNode(xe);de({visible:!0,position:{x:ee.clientX,y:ee.clientY},items:[{label:"Delete",handler:async()=>{const C=n.getConnections().filter(R=>R.source===xe||R.target===xe);for(const R of C)await n.removeConnection(R.id);await n.removeNode(xe)}}],nodeContext:ce})}}else{ee.preventDefault();const xe=window._t2GetMenuItems?window._t2GetMenuItems():[];de({visible:!0,position:{x:ee.clientX,y:ee.clientY},items:xe,nodeContext:null})}};return F.addEventListener("contextmenu",ie),()=>{F.removeEventListener("contextmenu",ie)}},[n,s]);const le=E.useCallback(()=>{de(F=>({...F,visible:!1}))},[]),ve=E.useCallback(async F=>{F.handler&&await F.handler(H.position)},[H.position]),je=async()=>{if(!(!n||!s))try{const F=n.getNodes().map(we=>{const Ce=typeof we.toJSON=="function"?we.toJSON():{...we};return we.properties&&(Ce.properties=we.properties),{id:we.id,label:we.label,position:s.nodeViews.get(we.id)?.position||{x:0,y:0},data:Ce}}),ie=n.getConnections().map(we=>({id:we.id,source:we.source,target:we.target,sourceOutput:we.sourceOutput,targetInput:we.targetInput})),ee=s.area?.transform?{x:s.area.transform.x,y:s.area.transform.y,k:s.area.transform.k}:{x:0,y:0,k:1},Ae={nodes:F,connections:ie,viewport:ee},xe=JSON.stringify(Ae,null,2);if(window.self!==window.top||window.location.pathname.includes("/api/hassio")){Te("Running in HA ingress - showing save dialog"),U(Ae),W(!0);return}try{xe.length<2e6&&(localStorage.removeItem("saved-graph"),localStorage.setItem("saved-graph",xe))}catch{console.warn("localStorage skipped")}Te("Graph saved to localStorage");try{const we=await fetch(Sn("/api/engine/save-active"),{method:"POST",headers:{"Content-Type":"application/json"},body:xe});we.ok?Te("[handleSave] Graph saved to server as last active"):console.warn("[handleSave] Failed to save to server:",we.status)}catch(we){console.warn("[handleSave] Failed to save to server:",we)}if(window.api?.saveTempFile)try{await window.api.saveTempFile("autotron_graph.json",xe),Te("[handleSave] Saved temp file for Electron reload")}catch(we){console.warn("[handleSave] Failed to save temp file via Electron API",we)}if(window.showSaveFilePicker)try{const Ce=await(await window.showSaveFilePicker({suggestedName:"autotron_graph.json",types:[{description:"AutoTron Graph",accept:{"application/json":[".json"]}}]})).createWritable();await Ce.write(xe),await Ce.close(),Te("Graph saved to file");return}catch(we){if(we.name==="AbortError")return;console.warn("File System Access API failed, falling back to download",we)}const R=new Blob([xe],{type:"application/json"}),se=URL.createObjectURL(R),he=document.createElement("a");he.href=se,he.download=`autotron_graph_${Date.now()}.json`,he.click(),URL.revokeObjectURL(se),Te("Graph saved via download")}catch(F){console.error("Failed to save graph:",F)}};E.useEffect(()=>(window.triggerGraphSave=async()=>{if(!(!n||!s))try{const F=n.getNodes().map(ce=>{const C=typeof ce.toJSON=="function"?ce.toJSON():{...ce};return ce.properties&&(C.properties=ce.properties),{id:ce.id,label:ce.label,position:s.nodeViews.get(ce.id)?.position||{x:0,y:0},data:C}}),ie=n.getConnections().map(ce=>({id:ce.id,source:ce.source,target:ce.target,sourceOutput:ce.sourceOutput,targetInput:ce.targetInput})),ee=s.area?.transform?{x:s.area.transform.x,y:s.area.transform.y,k:s.area.transform.k}:{x:0,y:0,k:1},Ae={nodes:F,connections:ie,viewport:ee,preUpdateSave:!0,timestamp:Date.now()},xe=JSON.stringify(Ae);xe.length<2e6&&(localStorage.setItem("saved-graph",xe),Te("[triggerGraphSave] Graph saved before update"))}catch(F){console.warn("[triggerGraphSave] Failed:",F)}},()=>{delete window.triggerGraphSave}),[n,s]);const[Ge,Ue]=E.useState(!1),tt=E.useRef(null),gt=E.useRef(Date.now());E.useEffect(()=>{if(!n)return;const F=()=>{Ue(!0)};n.addPipe(ie=>(["nodecreated","noderemoved","connectioncreated","connectionremoved"].includes(ie.type)&&F(),ie))},[n]),E.useEffect(()=>{if(!n||!s)return;const F=async()=>{if(!(window.graphLoading||q.current)&&Ge)try{const ie=n.getNodes().map(C=>{const R=typeof C.toJSON=="function"?C.toJSON():{...C};return C.properties&&(R.properties=C.properties),{id:C.id,label:C.label,position:s.nodeViews.get(C.id)?.position||{x:0,y:0},data:R}}),ee=n.getConnections().map(C=>({id:C.id,source:C.source,target:C.target,sourceOutput:C.sourceOutput,targetInput:C.targetInput})),Ae=s.area?.transform?{x:s.area.transform.x,y:s.area.transform.y,k:s.area.transform.k}:{x:0,y:0,k:1},xe={nodes:ie,connections:ee,viewport:Ae,autoSaved:!0,timestamp:Date.now()},ce=JSON.stringify(xe);if(ce.length<2e6){localStorage.setItem("saved-graph",ce),gt.current=Date.now(),Ue(!1);try{await fetch(Sn("/api/engine/save-active"),{method:"POST",headers:{"Content-Type":"application/json"},body:ce})}catch{}window.T2Toast&&window.T2Toast.success("Auto-saved",2e3)}}catch(ie){console.warn("[Auto-save] Failed:",ie)}};return tt.current=setInterval(F,12e4),()=>{tt.current&&clearInterval(tt.current)}},[n,s,Ge]),E.useEffect(()=>{if(!n||!s||!c)return;if(sessionStorage.getItem("autoLoadAfterUpdate")==="true"){sessionStorage.removeItem("autoLoadAfterUpdate"),Te("[AutoLoad] Detected post-update reload, attempting to restore graph...");const ie=setTimeout(async()=>{try{const ee=localStorage.getItem("saved-graph");if(ee){Te("[AutoLoad] Found saved graph, loading...");const Ae=JSON.parse(ee);Ae.nodes&&Ae.nodes.length>0&&(window.T2Toast&&window.T2Toast.info("Restoring your graph after update...",3e3),document.dispatchEvent(new CustomEvent("autoLoadGraph")))}}catch(ee){console.warn("[AutoLoad] Failed to auto-load graph:",ee)}},1e3);return()=>clearTimeout(ie)}},[n,s,c]);const _t=E.useRef(!1);E.useEffect(()=>{if(!n||!s||!c||_t.current)return;if(window.self!==window.top||window.location.pathname.includes("/api/hassio")){Te("[ServerAutoLoad] Skipping - HA ingress mode, user should click Load Last"),_t.current=!0;return}const ee=localStorage.getItem("saved-graph"),Ae=sessionStorage.getItem("autoLoadAfterUpdate")==="true";if(ee||Ae){Te("[ServerAutoLoad] Skipping - desktop mode with local graph");return}_t.current=!0;const ce=setTimeout(async()=>{try{Te("[ServerAutoLoad] Fetching last active graph from server...");const R=await(await fetch(Sn("/api/engine/last-active"))).json();R.success&&R.graph?(Te("[ServerAutoLoad] Found last active graph, loading..."),localStorage.setItem("saved-graph",JSON.stringify(R.graph)),window.T2Toast&&window.T2Toast.info("Loading your last graph...",2e3),setTimeout(()=>{document.dispatchEvent(new CustomEvent("autoLoadGraph"))},500)):Te("[ServerAutoLoad] No last active graph on server")}catch(C){console.warn("[ServerAutoLoad] Failed to fetch from server:",C)}},1500);return()=>clearTimeout(ce)},[n,s,c]);const In=async()=>{if(!n||!s||!c){console.error("[handleLoad] Missing instances:",{editor:!!n,area:!!s,engine:!!c});return}try{let F=localStorage.getItem("saved-graph");if(!F&&window.api?.readTempFile)try{const ce=await window.api.readTempFile("autotron_graph.json");ce?.success&&ce.content&&(F=ce.content,Te("[handleLoad] Loaded graph from Electron temp file"))}catch(ce){console.warn("[handleLoad] Failed to read Electron temp file",ce)}if(!F){alert("No saved graph found");return}const ie=JSON.parse(F);Te(`[handleLoad] Loading graph with ${ie.nodes?.length} nodes`);const ee=sb(ie);if(!ee.valid){console.warn("[handleLoad] Graph validation failed:",ee.errors),window.T2Toast&&window.T2Toast.warning(`Graph has issues: ${ee.errors.length} errors`,4e3);const ce=ob(ie);ce.repaired&&(Te("[handleLoad] Graph repaired:",ce.fixes),window.T2Toast&&window.T2Toast.info(`Graph repaired: ${ce.fixes.length} fixes applied`,3e3),Object.assign(ie,ce.graphData))}ee.warnings.length>0&&console.warn("[handleLoad] Graph warnings:",ee.warnings),await dn();const Ae=n.getNodes();if(Ae.length>0){console.error("[handleLoad] Clear did not work! Still have",Ae.length,"nodes");for(const ce of Ae)try{await n.removeNode(ce.id)}catch(C){console.error("[handleLoad] Force remove failed:",C)}}if(k.current=!0,q.current=!0,s?.area)try{s.area.zoom(.1,0,0),s.area.translate(0,0)}catch{}try{for(const C of ie.nodes){let R;const se=Rn.getByLabel(C.label);if(se){const he=()=>{if(q.current||window.graphLoading){s&&s.update("node",C.id);return}s&&s.update("node",C.id),window._t2Process&&window._t2Process()};R=se.factory(he)}R&&(R.id=C.id,typeof R.restore=="function"&&C.data?R.restore(C.data):C.data&&C.data.properties&&R.properties&&Object.assign(R.properties,C.data.properties),await n.addNode(R),await s.translate(R.id,C.position))}const ce=[];for(const C of ie.connections){const R=n.getNode(C.source),se=n.getNode(C.target);R&&se&&ce.push(n.addConnection(new Kt.Connection(R,C.sourceOutput,se,C.targetInput)))}await Promise.all(ce)}finally{k.current=!1,s?.updateBackdropCaptures?.()}const xe=n.getNodes();if(xe.length>0&&s){Te("[handleLoad] Zooming to fit",xe.length,"nodes...");try{await Gr.zoomAt(s,xe,{scale:.9})}catch(ce){console.warn("[handleLoad] zoomAt failed:",ce)}}Z.current&&(Te("[handleLoad] Processing graph immediately..."),await Z.current(),Te("[handleLoad] Graph processing complete")),q.current=!1,Te("[handleLoad] Setting up viewport restoration timer..."),setTimeout(()=>{if(Te("[handleLoad] Viewport restoration timer fired, areaInstance:",!!s,"area:",!!s?.area),s?.area){const ce=ie.viewport||{x:0,y:0,k:1},C=ce.k||1,R=ce.x||0,se=ce.y||0;Te("[handleLoad] Restoring viewport:",{savedX:R,savedY:se,savedK:C}),Te("[handleLoad] Current transform before restore:",{...s.area.transform});try{s.area.zoom(C,0,0),s.area.translate(R,se)}catch(we){console.warn("[handleLoad] Viewport restore failed:",we)}Te("[handleLoad] Transform after restore:",{...s.area.transform});const he=s.container;if(he){he.tabIndex=-1,he.focus(),document.activeElement&&document.activeElement!==he&&document.activeElement.tagName!=="BODY"&&document.activeElement.blur();const we=()=>{window.resetEditorView&&window.resetEditorView()};setTimeout(we,100),setTimeout(we,500),setTimeout(we,1e3)}n.getNodes().forEach(we=>{const Ce=s.nodeViews.get(we.id);if(Ce?.element)try{for(let $e=0;$e<10;$e++)try{Ce.element.releasePointerCapture($e)}catch{}}catch{}})}},300),Te("Graph loaded")}catch(F){console.error("Failed to load graph:",F),q.current=!1,alert("Failed to load graph")}},un=async()=>{if(!n||!s||!c){console.error("[handleLoadExample] Missing instances");return}if(!(n.getNodes().length>0&&!confirm("This will replace your current graph with the starter example. Continue?")))try{const ie=await fetch(Sn("/api/examples/starter"));if(!ie.ok)throw new Error(`Failed to fetch example: ${ie.status}`);const ee=await ie.json();if(!ee.success||!ee.graph)throw new Error("Invalid example graph response");localStorage.setItem("saved-graph",JSON.stringify(ee.graph)),Te("[handleLoadExample] Example graph loaded, triggering handleLoad..."),await In(),window.T2Toast&&window.T2Toast.success("Starter example loaded! Select devices from the dropdowns.")}catch(ie){console.error("[handleLoadExample] Failed:",ie),alert("Failed to load example graph: "+ie.message)}};E.useEffect(()=>{const F=()=>{Te("[AutoLoadEvent] Received autoLoadGraph event, calling handleLoad..."),In()};return document.addEventListener("autoLoadGraph",F),()=>document.removeEventListener("autoLoadGraph",F)},[n,s,c]);const dn=async()=>{if(!n){console.warn("[handleClear] No editor instance!");return}try{const F=n.getConnections(),ie=n.getNodes();Te(`[handleClear] Removing ${F.length} connections and ${ie.length} nodes`);for(const Ae of F)await n.removeConnection(Ae.id);for(const Ae of ie)await n.removeNode(Ae.id);const ee=n.getNodes();Te(`[handleClear] Complete. Remaining nodes: ${ee.length}`),ee.length>0&&console.error("[handleClear] Failed to remove all nodes! Remaining:",ee.map(Ae=>Ae.id))}catch(F){console.error("Failed to clear graph:",F)}},$n=()=>{if(!(!n||!s))try{const F=n.getNodes().map(R=>{const se=typeof R.toJSON=="function"?R.toJSON():{...R};return R.properties&&(se.properties=R.properties),{id:R.id,label:R.label,position:s.nodeViews.get(R.id)?.position||{x:0,y:0},data:se}}),ie=n.getConnections().map(R=>({id:R.id,source:R.source,target:R.target,sourceOutput:R.sourceOutput,targetInput:R.targetInput})),ee=s.area?.transform?{x:s.area.transform.x,y:s.area.transform.y,k:s.area.transform.k}:{x:0,y:0,k:1},Ae={nodes:F,connections:ie,viewport:ee},xe=new Blob([JSON.stringify(Ae,null,2)],{type:"application/json"}),ce=URL.createObjectURL(xe),C=document.createElement("a");C.href=ce,C.download=`graph-${Date.now()}.json`,C.click(),URL.revokeObjectURL(ce),Te("Graph exported")}catch(F){console.error("Failed to export graph:",F)}},Ke=async F=>{const ie=sb(F);if(!ie.valid){console.warn("[handleImport] Graph validation failed:",ie.errors),window.T2Toast&&window.T2Toast.warning(`Graph has issues: ${ie.errors.length} errors`,4e3);const xe=ob(F);if(xe.repaired)Te("[handleImport] Graph repaired:",xe.fixes),window.T2Toast&&window.T2Toast.info(`Graph repaired: ${xe.fixes.length} fixes applied`,3e3),F=xe.graphData;else if(!confirm(`Graph has ${ie.errors.length} errors. Continue anyway?`))return}const ee={log:console.log,warn:console.warn,error:console.error};console.log=()=>{},console.warn=()=>{};let Ae=0;if(console.error=(...xe)=>{Ae++<10&&ee.error(...xe)},ee.log("%c IMPORT STARTED (console suppressed)","background: green; color: white; font-size: 16px;"),window.graphLoading=!0,!n||!s||!c){Object.assign(console,ee);return}try{if(await dn(),k.current=!0,q.current=!0,s?.area)try{s.area.zoom(.1,0,0),s.area.translate(0,0)}catch{}try{for(const C of F.nodes){let R;const se=Rn.getByLabel(C.label);if(!se){console.warn(`[handleImport] No definition found for node label: "${C.label}"`);continue}if(se){const he=()=>{if(q.current||window.graphLoading){s&&s.update("node",C.id);return}s&&s.update("node",C.id),window._t2Process&&window._t2Process()};R=se.factory(he)}R&&(R.id=C.id,C.label==="Timeline Color"&&ee.log("[DEBUG-IMPORT] Timeline Color restore check:",{hasRestore:typeof R.restore=="function",hasData:!!C.data,dataKeys:C.data?Object.keys(C.data):"N/A",propertiesKeys:C.data?.properties?Object.keys(C.data.properties):"N/A",previewModeValue:C.data?.properties?.previewMode}),typeof R.restore=="function"&&C.data?R.restore(C.data):C.data&&C.data.properties&&R.properties&&Object.assign(R.properties,C.data.properties),await n.addNode(R),await s.translate(R.id,C.position))}const ce=[];for(const C of F.connections){const R=n.getNode(C.source),se=n.getNode(C.target);R&&se?ce.push(n.addConnection(new Kt.Connection(R,C.sourceOutput,se,C.targetInput))):console.warn(`[handleImport] Connection skipped - missing node: source=${C.source} (${!!R}), target=${C.target} (${!!se})`)}await Promise.all(ce)}finally{k.current=!1,s?.updateBackdropCaptures?.()}const xe=n.getNodes();if(xe.length>0&&s)try{await Gr.zoomAt(s,xe,{scale:.9})}catch{}q.current=!1,setTimeout(async()=>{window.graphLoading=!1,Te("[handleImport] Graph loading complete - API calls now enabled"),window.dispatchEvent(new CustomEvent("graphLoadComplete")),setTimeout(()=>{Z.current&&(Te("[handleImport] Running processImmediate to sync node states"),Z.current()),setTimeout(()=>{Z.current&&(Te("[handleImport] Running second processImmediate for late-loading data"),Z.current())},1500)},500);try{const C=JSON.stringify(F,null,2);C.length<2e6&&(localStorage.removeItem("saved-graph"),localStorage.setItem("saved-graph",C),Te("[handleImport] Graph saved to localStorage")),(await fetch(Sn("/api/engine/save-active"),{method:"POST",headers:{"Content-Type":"application/json"},body:C})).ok&&Te("[handleImport] Graph saved to server as last active")}catch(C){console.warn("[handleImport] Failed to save imported graph:",C)}const ce=()=>{window.resetEditorView&&window.resetEditorView()};setTimeout(ce,100),setTimeout(ce,500)},2e3),Object.assign(console,ee),console.log("%c IMPORT COMPLETE","background: green; color: white; font-size: 16px;"),Te("Graph imported successfully. Pan/zoom should work now.")}catch(xe){window.graphLoading=!1,typeof ee<"u"&&Object.assign(console,ee),console.error("Failed to import graph:",xe),q.current=!1,alert("Failed to import graph: "+xe.message)}};return p.jsxs("div",{style:{width:"100%",height:"100%",position:"relative"},children:[p.jsx(KO,{width:re,panelRef:Je,dropActive:it,favoriteGroups:ze,onAddFavorite:S,onRemoveFavorite:D,onCreateNode:O}),p.jsx("div",{ref:a,className:"rete-editor",style:{width:"100%",height:"100%",marginRight:"320px",marginLeft:`${re}px`}}),p.jsx("div",{ref:b}),(()=>{const F=y?x.current:b.current;return F?Zr.createPortal(p.jsx(ZO,{onSave:je,onLoad:In,onLoadExample:un,onClear:dn,onExport:$n,onImport:Ke,hasUnsavedChanges:Ge,isMerged:y,onToggleMerged:()=>v(ie=>!ie)}),F):null})(),p.jsx(XO,{dockSlotRef:x}),p.jsx(WO,{visible:H.visible,position:H.position,items:H.items,onClose:le,onSelect:ve}),p.jsx(QO,{isOpen:V,onClose:()=>W(!1),onSave:()=>{Ue(!1),W(!1)},currentGraphData:ge})]})}class fj extends Da.Component{constructor(n){super(n),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,r){console.error("[ErrorBoundary] Caught error:",n),console.error("[ErrorBoundary] Error info:",r),this.setState({error:n,errorInfo:r})}handleReload=()=>{window.location.reload()};handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){return this.state.hasError?p.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#1a1a2e",color:"#eee",fontFamily:"system-ui, -apple-system, sans-serif",padding:"20px",textAlign:"center"},children:p.jsxs("div",{style:{backgroundColor:"#252540",borderRadius:"12px",padding:"40px",maxWidth:"500px",boxShadow:"0 4px 20px rgba(0,0,0,0.3)"},children:[p.jsx("div",{style:{fontSize:"48px",marginBottom:"20px"},children:""}),p.jsx("h1",{style:{fontSize:"24px",marginBottom:"16px",color:"#ff6b6b"},children:"Something went wrong"}),p.jsx("p",{style:{fontSize:"14px",color:"#aaa",marginBottom:"24px",lineHeight:"1.5"},children:"The editor encountered an error and couldn't continue. This might be caused by a corrupted graph or a plugin issue."}),this.state.error&&p.jsxs("details",{style:{textAlign:"left",backgroundColor:"#1a1a2e",padding:"12px",borderRadius:"8px",marginBottom:"24px",fontSize:"12px",color:"#888"},children:[p.jsx("summary",{style:{cursor:"pointer",color:"#aaa",marginBottom:"8px"},children:"Error Details"}),p.jsxs("pre",{style:{overflow:"auto",maxHeight:"150px",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:[this.state.error.toString(),this.state.errorInfo?.componentStack]})]}),p.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[p.jsx("button",{onClick:this.handleReset,style:{padding:"12px 24px",fontSize:"14px",backgroundColor:"#3a3a5c",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:n=>n.target.style.backgroundColor="#4a4a6c",onMouseOut:n=>n.target.style.backgroundColor="#3a3a5c",children:"Try Again"}),p.jsx("button",{onClick:this.handleReload,style:{padding:"12px 24px",fontSize:"14px",backgroundColor:"#4dabf7",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:n=>n.target.style.backgroundColor="#339af0",onMouseOut:n=>n.target.style.backgroundColor="#4dabf7",children:"Reload Page"})]})]})}):this.props.children}}function hj({isLoading:a,progress:n=0,status:r="Initializing...",loadedCount:s=0,totalCount:l=0,error:c=null}){const[d,h]=E.useState(!1),[m,y]=E.useState(a);return E.useEffect(()=>{if(!a&&m){h(!0);const v=setTimeout(()=>{y(!1),h(!1)},500);return()=>clearTimeout(v)}else a&&!m&&y(!0)},[a,m]),m?p.jsxs("div",{className:`loading-overlay ${d?"fade-out":""}`,children:[p.jsx("div",{className:"loading-logo",children:""}),p.jsx("div",{className:"loading-title",children:"T2 AutoTron"}),p.jsx("div",{className:"loading-subtitle",children:"Visual Automation Editor"}),p.jsx("div",{className:"loading-progress-container",children:p.jsx("div",{className:"loading-progress-bar",children:p.jsx("div",{className:"loading-progress-fill",style:{width:`${Math.min(100,n)}%`}})})}),p.jsx("div",{className:"loading-status",children:r}),l>0&&p.jsxs("div",{className:"loading-count",children:[s," / ",l," plugins loaded"]}),c&&p.jsxs("div",{className:"loading-error",children:[" ",c]})]}):null}function pj({updateInfo:a,onClose:n,onApplyUpdate:r}){const[s,l]=E.useState(!1),[c,d]=E.useState("");if(!a||!a.hasUpdate)return null;const h=async()=>{l(!0),d("Saving current graph...");try{window.triggerGraphSave&&(await window.triggerGraphSave(),d("Graph saved! Starting update..."))}catch(y){console.warn("Pre-update graph save failed:",y)}sessionStorage.setItem("justUpdated","true"),sessionStorage.setItem("autoLoadAfterUpdate","true");try{const v=await(await cn("/api/update/apply",{method:"POST",headers:{"Content-Type":"application/json"}})).json();d(v.message||"Updating... The app will restart shortly."),setTimeout(()=>{d("Update applied! Reloading page..."),setTimeout(()=>{const b=()=>{cn("/api/health",{method:"GET"}).then(()=>window.location.reload()).catch(()=>setTimeout(b,2e3))};b()},3e3)},2e3)}catch(y){y.message.includes("fetch")||y.message.includes("network")?(d("Server restarting... Reloading page..."),setTimeout(()=>{const v=()=>{cn("/api/health",{method:"GET"}).then(()=>window.location.reload()).catch(()=>setTimeout(v,2e3))};v()},3e3)):(d(`Update failed: ${y.message}`),l(!1))}},m=()=>{sessionStorage.setItem("updateSkipped",a.newVersion),n()};return p.jsx("div",{className:"update-modal-overlay",children:p.jsxs("div",{className:"update-modal",children:[p.jsxs("div",{className:"update-modal-header",children:[p.jsx("span",{className:"update-icon",children:""}),p.jsx("h2",{children:"Update Available!"})]}),p.jsxs("div",{className:"update-modal-version",children:[p.jsx("span",{className:"version-current",children:a.currentVersion}),p.jsx("span",{className:"version-arrow",children:""}),p.jsx("span",{className:"version-new",children:a.newVersion})]}),p.jsxs("div",{className:"update-modal-content",children:[p.jsx("h3",{children:"What's New:"}),p.jsx("div",{className:"changelog-content",children:p.jsx("pre",{children:a.changelog||"No changelog available."})})]}),c&&p.jsxs("div",{className:"update-status",children:[p.jsx("span",{className:"status-spinner",children:""}),c]}),p.jsx("div",{className:"update-modal-actions",children:s?p.jsx("div",{className:"updating-message",children:"Please wait while the update is being applied..."}):p.jsxs(p.Fragment,{children:[p.jsx("button",{className:"update-btn update-btn-primary",onClick:h,children:"Update Now"}),p.jsx("button",{className:"update-btn update-btn-secondary",onClick:m,children:"Later"})]})})]})})}const mj=()=>{try{localStorage.getItem("t2-performance-mode")==="true"&&document.body.classList.add("performance-mode")}catch(a){console.warn("Failed to apply performance mode:",a)}};mj();window.setPerformanceMode=a=>{a?(document.body.classList.add("performance-mode"),localStorage.setItem("t2-performance-mode","true")):(document.body.classList.remove("performance-mode"),localStorage.setItem("t2-performance-mode","false"))};window.getPerformanceMode=()=>document.body.classList.contains("performance-mode");const Zw=()=>{const a=r=>{const s=parseInt(r.slice(1,3),16),l=parseInt(r.slice(3,5),16),c=parseInt(r.slice(5,7),16);return`${s}, ${l}, ${c}`},n={"Home Assistant":"ha",Weather:"weather",Logic:"logic","Timer/Event":"timer",Color:"color",Utility:"utility",Inputs:"inputs",CC_Control_Nodes:"cc",Other:"other"};try{const r=localStorage.getItem("t2category-overrides");if(r){const s=JSON.parse(r),l=document.documentElement;for(const[c,d]of Object.entries(s)){const h=n[c];h&&(d.accent&&(l.style.setProperty(`--node-${h}-color`,d.accent),l.style.setProperty(`--node-${h}-color-rgb`,a(d.accent))),d.background&&l.style.setProperty(`--node-${h}-bg`,d.background))}}}catch(r){console.warn("Failed to apply stored category colors:",r)}},Xw=()=>{const a=c=>{const d=parseInt(c.slice(1,3),16),h=parseInt(c.slice(3,5),16),m=parseInt(c.slice(5,7),16);return`${d}, ${h}, ${m}`},n=(c,d=15)=>{const h=parseInt(c.slice(1),16),m=Math.max(0,(h>>16)-Math.round(255*d/100)),y=Math.max(0,(h>>8&255)-Math.round(255*d/100)),v=Math.max(0,(h&255)-Math.round(255*d/100));return`#${(16777216|m<<16|y<<8|v).toString(16).slice(1)}`},r=(c,d=20)=>{const h=parseInt(c.slice(1),16),m=Math.min(255,(h>>16)+Math.round(255*d/100)),y=Math.min(255,(h>>8&255)+Math.round(255*d/100)),v=Math.min(255,(h&255)+Math.round(255*d/100));return`#${(16777216|m<<16|y<<8|v).toString(16).slice(1)}`},s={Boolean:"boolean",Number:"number",String:"string","HSV Info":"hsv","Object/Any":"object","Light Info":"light"},l={Boolean:"#10b981",Number:"#3b82f6",String:"#f59e0b","HSV Info":"#8b5cf6","Object/Any":"#06b6d4","Light Info":"#eab308"};try{const c=localStorage.getItem("t2socket-colors"),d=c?JSON.parse(c):{},h=document.documentElement;for(const[m,y]of Object.entries(s)){const v=d[m]?.color||l[m];v&&(h.style.setProperty(`--socket-${y}-color`,v),h.style.setProperty(`--socket-${y}-dark`,n(v)),h.style.setProperty(`--socket-${y}-border`,r(v)),h.style.setProperty(`--socket-${y}-rgb`,a(v)))}}catch(c){console.warn("Failed to apply stored socket colors:",c)}};Zw();Xw();Kw();function Kw(){const a=n=>{const r=parseInt(n.slice(1,3),16),s=parseInt(n.slice(3,5),16),l=parseInt(n.slice(5,7),16);return`${r}, ${s}, ${l}`};try{const n=localStorage.getItem("t2theme-overrides");if(n){const r=JSON.parse(n),s=document.documentElement;Object.entries(r).forEach(([l,c])=>{l==="borderOpacity"?s.style.setProperty("--node-border-opacity",c/100):typeof c=="string"&&c.startsWith("#")&&(s.style.setProperty(`--theme-${l}`,c),s.style.setProperty(`--theme-${l}-rgb`,a(c)))})}}catch(n){console.warn("Failed to apply stored theme:",n)}}window.applyCategoryColors=Zw;window.applySocketColors=Xw;window.applyTheme=Kw;const Vf=new Map,qf=new Map;function yj(){const[a,n]=E.useState(ye.connected),[r,s]=E.useState({connected:!1,wsConnected:!1,deviceCount:0}),[l,c]=E.useState([]),[d,h]=E.useState([]),[m,y]=E.useState(()=>parseInt(localStorage.getItem("panelHeight"))||150),[v,b]=E.useState(()=>parseInt(localStorage.getItem("panelFontSize"))||11),[x,k]=E.useState({isLoading:!0,progress:0,status:"Starting...",loadedCount:0,totalCount:0,error:null}),[j,Z]=E.useState(null),[q,Q]=E.useState(0),[K,B]=E.useState(()=>localStorage.getItem("eventLogFilter")||"all"),[Y,fe]=E.useState([]),be=E.useRef(null),H=E.useRef(null),de=E.useRef({authenticated:!1,invalidPinNotified:!1}),re=100,pe=ap();E.useEffect(()=>{const U=setInterval(()=>{Q(S=>S+1)},3e4);return()=>clearInterval(U)},[]);const ze=E.useCallback(()=>{const U=window._t2Editor;if(!U)return;const D=U.getNodes().filter(O=>O.label==="Backdrop"||O.constructor?.name==="BackdropNode"||O.properties?.width!==void 0&&O.properties?.height!==void 0&&O.properties?.title!==void 0).map(O=>({id:O.id,title:O.properties?.title||"Group",color:O.properties?.customColor||window.BackdropColorPalette?.[O.properties?.colorIndex]?.border||"#888"})).sort((O,z)=>O.title.localeCompare(z.title));fe(D)},[]);E.useEffect(()=>{const U=()=>{setTimeout(ze,200)};window.addEventListener("graphLoadComplete",U),window.refreshBackdropGroups=ze;const S=setTimeout(ze,500);return()=>{window.removeEventListener("graphLoadComplete",U),delete window.refreshBackdropGroups,clearTimeout(S)}},[ze]),E.useEffect(()=>Fw(S=>{k(S),!S.isLoading&&S.progress===100&&S.failedPlugins?.length>0&&pe.warning(`Loaded ${S.loadedCount} plugins (${S.failedPlugins.length} failed)`),S.error&&pe.error(`Plugin loading failed: ${S.error}`)}),[pe]),E.useEffect(()=>{function U(){n(!0),pe.success("Connected to server"),Oe("system","Socket connected to server"),qf.clear();const Ke=ds();Ke&&ye.emit("authenticate",Ke),ye.emit("editor-active"),ye.emit("request-ha-status")}function S(){n(!1),s({connected:!1,wsConnected:!1,deviceCount:0}),de.current.authenticated=!1,pe.warning("Disconnected from server - reconnecting..."),Oe("system","Socket disconnected from server")}function D(Ke){Oe("system",`Socket reconnected after ${Ke} attempt(s)`)}function O(Ke){Ke%5===0&&Oe("system",`Reconnection attempt ${Ke}...`)}function z(Ke){Oe("system","Reconnection failed, retrying...")}function le(Ke){s(Ke)}function ve(){de.current.authenticated||(de.current.authenticated=!0,de.current.invalidPinNotified=!1,pe.success("Authenticated"))}function je(Ke){de.current.authenticated=!1;const F=(Ke?.error||"").toString();if(F.toLowerCase().includes("invalid pin")){de.current.invalidPinNotified||(de.current.invalidPinNotified=!0,pe.error("Stored PIN is invalid. Update it in Settings  Security."));return}const ie=F?`Authentication failed: ${F}`:"Authentication failed";pe.error(ie)}function Ge(){if(!ye.connected)return;de.current.invalidPinNotified=!1;const Ke=ds();Ke&&ye.emit("authenticate",Ke)}function Ue(Ke){const{id:F,state:ie,on:ee,name:Ae,vendor:xe}=Ke;if(!F)return;const ce=qf.get(F),C=ee!==void 0?ee:ie==="on"||ie==="playing"||ie==="open",R=Ae||Ke.friendly_name||Ke.attributes?.friendly_name||F.replace("ha_","").replace("kasa_","").replace("hue_","").replace(/\./g," ").replace(/_/g," ");if(ce&&ce.on===C)return;qf.set(F,{on:C,state:ie});const se=Vf.get(F),he=C?"ON":"OFF";let we=xe||"External";xe||(F.startsWith("ha_")?we="HA":F.startsWith("hue_")?we="Hue":F.startsWith("kasa_")&&(we="Kasa")),se&&Date.now()-se.timestamp<5e3?(Oe("device",`${R}  ${he}`,{source:"app",triggeredBy:se.nodeTitle,nodeId:se.nodeId}),Vf.delete(F)):Oe("trigger",`${R}  ${he}`,{source:we})}function tt(Ke){}function gt(Ke){const{nodeId:F,nodeLabel:ie,result:ee}=Ke;Oe("node",`${ie||F} executed`,{...ee,nodeId:F})}function _t(Ke){Array.isArray(Ke)&&h(Ke.slice(0,20))}function In(Ke){const{type:F,name:ie,value:ee}=Ke;Oe("trigger",`${F}: ${ie}`,ee)}function un(Ke){if(Ke.isAddon||window.location.pathname.includes("/api/hassio/ingress/")){console.log("[Update] Ignoring update notification in HA add-on environment");return}if(sessionStorage.getItem("justUpdated")==="true"){sessionStorage.removeItem("justUpdated");return}sessionStorage.getItem("updateSkipped")!==Ke.newVersion&&pe.info(` Update available: ${Ke.currentVersion}  ${Ke.newVersion}`,{duration:0,actionLabel:"View Details",action:()=>Z(Ke)})}ye.on("connect",U),ye.on("disconnect",S),ye.on("reconnect",D),ye.on("reconnect_attempt",O),ye.on("reconnect_error",z),ye.on("auth-success",ve),ye.on("auth-failed",je),ye.on("ha-connection-status",le),ye.on("device-state-update",Ue),ye.on("device_state_change",tt),ye.on("node_executed",gt),ye.on("scheduled_events",_t),ye.on("trigger_event",In),ye.on("update-available",un),window.addEventListener("t2-pin-changed",Ge);const dn=()=>{ye.connected&&ye.emit("editor-inactive")};window.addEventListener("beforeunload",dn),HT();const $n=setInterval(()=>{ye.connected&&ye.emit("editor-heartbeat")},3e4);return()=>{ye.connected&&ye.emit("editor-inactive"),clearInterval($n),ye.off("connect",U),ye.off("disconnect",S),ye.off("reconnect",D),ye.off("reconnect_attempt",O),ye.off("reconnect_error",z),ye.off("auth-success",ve),ye.off("auth-failed",je),ye.off("ha-connection-status",le),ye.off("device-state-update",Ue),ye.off("device_state_change",tt),ye.off("node_executed",gt),ye.off("scheduled_events",_t),ye.off("trigger_event",In),ye.off("update-available",un),window.removeEventListener("t2-pin-changed",Ge),window.removeEventListener("beforeunload",dn),VT()}},[]);const Oe=(U,S,D=null)=>{const O=new Date().toLocaleTimeString();c(z=>[{timestamp:O,type:U,message:S,details:D},...z].slice(0,re))},Je=E.useRef({}),it=E.useCallback((U,S)=>{const D=S.map(ve=>({...ve,nodeId:U}));Je.current[U]=D;const O=[];Object.values(Je.current).forEach(ve=>{Array.isArray(ve)&&O.push(...ve)});const z=new Date,le=O.filter(ve=>ve.time&&new Date(ve.time)>z).sort((ve,je)=>new Date(ve.time)-new Date(je.time)).slice(0,20);h(le)},[]),We=E.useCallback(U=>{delete Je.current[U],it(U,[])},[it]);E.useEffect(()=>(window.addEventLog=Oe,window.setUpcomingEvents=h,window.registerScheduledEvents=it,window.unregisterScheduledEvents=We,window.T2Toast=pe,window.registerPendingCommand=(U,S,D,O)=>{Vf.set(U,{nodeTitle:S,action:D,nodeId:O,timestamp:Date.now()})},()=>{delete window.addEventLog,delete window.setUpcomingEvents,delete window.registerScheduledEvents,delete window.unregisterScheduledEvents,delete window.registerPendingCommand,delete window.T2Toast}),[it,We,pe]);const N=U=>{if(!U)return"";const S=new Date(U),O=S-new Date,z=Math.floor(O/6e4),le=Math.floor(z/60),ve=Math.floor(le/24);let je="";return ve>0?je=`${ve}d ${le%24}h`:le>0?je=`${le}h ${z%60}m`:z>0?je=`${z}m`:je="<1m",`${S.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})} (${je})`},V=E.useCallback(async U=>{if(!U)return;const S=window._t2Area,D=window._t2Editor;if(!S||!D){console.warn("[focusNode] Editor not ready");return}const O=D.getNode(U);if(!O){console.warn("[focusNode] Node not found:",U);return}try{const{AreaExtensions:z}=await Jg(async()=>{const{AreaExtensions:le}=await Promise.resolve().then(()=>Cv);return{AreaExtensions:le}},void 0,import.meta.url);await z.zoomAt(S,[O],{scale:1})}catch(z){console.warn("[focusNode] Failed to zoom to node:",z)}},[]),W=E.useCallback(async U=>{if(!U)return;const S=window._t2Area,D=window._t2Editor;if(!S||!D){console.warn("[focusBackdrop] Editor not ready");return}const O=D.getNode(U);if(!O){console.warn("[focusBackdrop] Backdrop not found:",U);return}try{const z=S.nodeViews.get(U);if(!z){console.warn("[focusBackdrop] Node view not found");return}const le=z.position,ve=O.properties?.width||O.width||400,je=O.properties?.height||O.height||300,Ge=le.x+ve/2,Ue=le.y+je/2,tt=S.container,gt=tt.clientWidth,_t=tt.clientHeight,In=gt*.85/ve,un=_t*.85/je,dn=Math.min(In,un,1.5),$n=gt/2-Ge*dn,Ke=_t/2-Ue*dn;await S.area.zoom(dn,0,0),await S.area.translate($n,Ke)}catch(z){console.warn("[focusBackdrop] Failed to zoom to backdrop:",z)}},[]),ge=E.useCallback(async()=>{const U=window._t2Area,S=window._t2Editor;if(!U||!S){console.warn("[zoomExtents] Editor not ready");return}const D=S.getNodes();if(D.length===0){console.warn("[zoomExtents] No nodes in graph");return}try{const{AreaExtensions:O}=await Jg(async()=>{const{AreaExtensions:z}=await Promise.resolve().then(()=>Cv);return{AreaExtensions:z}},void 0,import.meta.url);await O.zoomAt(U,D,{scale:.7})}catch(O){console.warn("[zoomExtents] Failed to zoom:",O)}},[]);return p.jsxs("div",{className:"app-container",children:[j&&j.hasUpdate&&p.jsx(pj,{updateInfo:j,onClose:()=>Z(null)}),p.jsx(hj,{isLoading:x.isLoading,progress:x.progress,status:x.status,loadedCount:x.loadedCount,totalCount:x.totalCount,error:x.error}),p.jsx("div",{className:"editor-wrapper",children:p.jsx(dj,{})}),p.jsx("div",{className:"resize-handle",ref:H,onMouseDown:U=>{U.preventDefault();const S=U.clientY,D=m,O=le=>{const ve=S-le.clientY,je=Math.max(80,Math.min(400,D+ve));y(je),localStorage.setItem("panelHeight",je)},z=()=>{document.removeEventListener("mousemove",O),document.removeEventListener("mouseup",z)};document.addEventListener("mousemove",O),document.addEventListener("mouseup",z)},children:p.jsx("div",{className:"resize-handle-grip"})}),p.jsxs("div",{className:"bottom-panels",style:{height:m,fontSize:v},children:[p.jsxs("div",{className:"panel event-log-panel",children:[p.jsxs("div",{className:"panel-header",children:[p.jsx("span",{className:"panel-title",children:"Event Log"}),p.jsxs("div",{className:"group-nav-buttons",children:[p.jsx("button",{className:"group-nav-btn group-nav-all",onClick:ge,title:"Zoom to fit all nodes (F key)",children:" All"}),Y.map(U=>p.jsx("button",{className:"group-nav-btn",style:{borderColor:U.color},onClick:()=>W(U.id),title:`Zoom to "${U.title}" group`,children:U.title},U.id))]}),p.jsxs("div",{className:"panel-controls",children:[p.jsxs("div",{className:"filter-buttons",children:[p.jsx("button",{className:`filter-btn ${K==="all"?"active":""}`,onClick:()=>{B("all"),localStorage.setItem("eventLogFilter","all")},children:"All"}),p.jsx("button",{className:`filter-btn ${K==="app"?"active":""}`,onClick:()=>{B("app"),localStorage.setItem("eventLogFilter","app")},children:"App"}),p.jsx("button",{className:`filter-btn ${K==="ha"?"active":""}`,onClick:()=>{B("ha"),localStorage.setItem("eventLogFilter","ha")},children:"HA"})]}),p.jsx("button",{className:"font-size-btn",onClick:()=>{const U=Math.max(8,v-1);b(U),localStorage.setItem("panelFontSize",U)},children:"A-"}),p.jsxs("span",{className:"font-size-label",children:[v,"px"]}),p.jsx("button",{className:"font-size-btn",onClick:()=>{const U=Math.min(16,v+1);b(U),localStorage.setItem("panelFontSize",U)},children:"A+"}),p.jsx("button",{className:"panel-clear-btn",onClick:()=>c([]),children:"Clear"})]})]}),p.jsx("div",{className:"panel-content",ref:be,children:l.length===0?p.jsx("div",{className:"empty-message",children:"No events yet..."}):l.filter(U=>K==="all"?!0:K==="app"?U.details?.triggeredBy||U.details?.source==="app"||U.type==="node"||U.type==="device"||U.type==="system":K==="ha"?U.type==="trigger"||U.details?.source&&U.details.source!=="app"&&!U.details?.triggeredBy:!0).map((U,S)=>p.jsxs("div",{className:`log-entry log-${U.type}${U.details?.nodeId?" clickable":""}`,title:U.details?.nodeId?"Click to jump to this node":U.details?.triggeredBy?`Triggered by: ${U.details.triggeredBy}`:U.details?.source&&U.details.source!=="app"?`Triggered externally via ${U.details.source}`:"",onClick:()=>U.details?.nodeId&&V(U.details.nodeId),style:U.details?.nodeId?{cursor:"pointer"}:{},children:[p.jsx("span",{className:"log-time",children:U.timestamp}),p.jsx("span",{className:`log-type-badge ${U.type}`,children:U.type==="trigger"?"external":U.type}),p.jsx("span",{className:"log-message",children:U.message}),U.details?.triggeredBy&&p.jsxs("span",{className:"log-source app-source",children:["via ",U.details.triggeredBy]}),U.details?.source&&U.details.source!=="app"&&!U.details?.triggeredBy&&p.jsxs("span",{className:"log-source external-source",children:["via ",U.details.source]})]},S))})]}),p.jsxs("div",{className:"panel upcoming-events-panel",children:[p.jsx("div",{className:"panel-header",children:p.jsx("span",{className:"panel-title",children:"Upcoming Events"})}),p.jsx("div",{className:"panel-content",children:d.length===0?p.jsx("div",{className:"empty-message",children:"No scheduled events..."}):d.map((U,S)=>p.jsxs("div",{className:`event-entry event-${U.action||"unknown"}${U.nodeId?" clickable":""}`,onClick:()=>U.nodeId&&V(U.nodeId),title:U.nodeId?"Click to jump to this node":"",style:U.nodeId?{cursor:"pointer"}:{},children:[p.jsx("span",{className:"event-time",children:N(U.time)}),p.jsx("span",{className:`event-action ${U.action}`,children:U.action||"event"}),p.jsx("span",{className:"event-device",children:U.deviceName||U.device||"Unknown"})]},S))})]})]})]})}function gj(){return p.jsx(fj,{children:p.jsxs(FO,{children:[p.jsx(PO,{}),p.jsx(yj,{})]})})}typeof window.api<"u"&&console.log("T2AutoTron running in Electron mode");ub.createRoot(document.getElementById("root")).render(p.jsx(E.StrictMode,{children:p.jsx(gj,{})}));
