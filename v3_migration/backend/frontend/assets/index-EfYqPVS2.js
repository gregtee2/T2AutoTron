function rb(a,n){for(var r=0;r<n.length;r++){const s=n[r];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in a)){const c=Object.getOwnPropertyDescriptor(s,l);c&&Object.defineProperty(a,l,c.get?c:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function r(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=r(l);fetch(l.href,c)}})();function xh(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var td={exports:{}},ho={};var Hg;function Wx(){if(Hg)return ho;Hg=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(s,l,c){var f=null;if(c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),"key"in l){c={};for(var h in l)h!=="key"&&(c[h]=l[h])}else c=l;return l=c.ref,{$$typeof:a,type:s,key:f,ref:l!==void 0?l:null,props:c}}return ho.Fragment=n,ho.jsx=r,ho.jsxs=r,ho}var Vg;function eE(){return Vg||(Vg=1,td.exports=Wx()),td.exports}var m=eE(),nd={exports:{}},Qe={};var qg;function tE(){if(qg)return Qe;qg=1;var a=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),S=Symbol.iterator;function k(x){return x===null||typeof x!="object"?null:(x=S&&x[S]||x["@@iterator"],typeof x=="function"?x:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,U={};function Q(x,R,A){this.props=x,this.context=R,this.refs=U,this.updater=A||N}Q.prototype.isReactComponent={},Q.prototype.setState=function(x,R){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,R,"setState")},Q.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function X(){}X.prototype=Q.prototype;function V(x,R,A){this.props=x,this.context=R,this.refs=U,this.updater=A||N}var P=V.prototype=new X;P.constructor=V,Z(P,Q.prototype),P.isPureReactComponent=!0;var de=Array.isArray;function le(){}var I={H:null,A:null,T:null,S:null},oe=Object.prototype.hasOwnProperty;function ee(x,R,A){var $=A.ref;return{$$typeof:a,type:x,key:R,ref:$!==void 0?$:null,props:A}}function G(x,R){return ee(x.type,R,x.props)}function fe(x){return typeof x=="object"&&x!==null&&x.$$typeof===a}function je(x){var R={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(A){return R[A]})}var De=/\/+/g;function Ye(x,R){return typeof x=="object"&&x!==null&&x.key!=null?je(""+x.key):R.toString(36)}function Pe(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(le,le):(x.status="pending",x.then(function(R){x.status==="pending"&&(x.status="fulfilled",x.value=R)},function(R){x.status==="pending"&&(x.status="rejected",x.reason=R)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function C(x,R,A,$,pe){var Oe=typeof x;(Oe==="undefined"||Oe==="boolean")&&(x=null);var Ve=!1;if(x===null)Ve=!0;else switch(Oe){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(x.$$typeof){case a:case n:Ve=!0;break;case b:return Ve=x._init,C(Ve(x._payload),R,A,$,pe)}}if(Ve)return pe=pe(x),Ve=$===""?"."+Ye(x,0):$,de(pe)?(A="",Ve!=null&&(A=Ve.replace(De,"$&/")+"/"),C(pe,R,A,"",function(Wt){return Wt})):pe!=null&&(fe(pe)&&(pe=G(pe,A+(pe.key==null||x&&x.key===pe.key?"":(""+pe.key).replace(De,"$&/")+"/")+Ve)),R.push(pe)),1;Ve=0;var it=$===""?".":$+":";if(de(x))for(var Je=0;Je<x.length;Je++)$=x[Je],Oe=it+Ye($,Je),Ve+=C($,R,A,Oe,pe);else if(Je=k(x),typeof Je=="function")for(x=Je.call(x),Je=0;!($=x.next()).done;)$=$.value,Oe=it+Ye($,Je++),Ve+=C($,R,A,Oe,pe);else if(Oe==="object"){if(typeof x.then=="function")return C(Pe(x),R,A,$,pe);throw R=String(x),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function H(x,R,A){if(x==null)return x;var $=[],pe=0;return C(x,$,"","",function(Oe){return R.call(A,Oe,pe++)}),$}function ce(x){if(x._status===-1){var R=x._result;R=R(),R.then(function(A){(x._status===0||x._status===-1)&&(x._status=1,x._result=A)},function(A){(x._status===0||x._status===-1)&&(x._status=2,x._result=A)}),x._status===-1&&(x._status=0,x._result=R)}if(x._status===1)return x._result.default;throw x._result}var we=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},xe={map:H,forEach:function(x,R,A){H(x,function(){R.apply(this,arguments)},A)},count:function(x){var R=0;return H(x,function(){R++}),R},toArray:function(x){return H(x,function(R){return R})||[]},only:function(x){if(!fe(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Qe.Activity=v,Qe.Children=xe,Qe.Component=Q,Qe.Fragment=r,Qe.Profiler=l,Qe.PureComponent=V,Qe.StrictMode=s,Qe.Suspense=p,Qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Qe.__COMPILER_RUNTIME={__proto__:null,c:function(x){return I.H.useMemoCache(x)}},Qe.cache=function(x){return function(){return x.apply(null,arguments)}},Qe.cacheSignal=function(){return null},Qe.cloneElement=function(x,R,A){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var $=Z({},x.props),pe=x.key;if(R!=null)for(Oe in R.key!==void 0&&(pe=""+R.key),R)!oe.call(R,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&R.ref===void 0||($[Oe]=R[Oe]);var Oe=arguments.length-2;if(Oe===1)$.children=A;else if(1<Oe){for(var Ve=Array(Oe),it=0;it<Oe;it++)Ve[it]=arguments[it+2];$.children=Ve}return ee(x.type,pe,$)},Qe.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},Qe.createElement=function(x,R,A){var $,pe={},Oe=null;if(R!=null)for($ in R.key!==void 0&&(Oe=""+R.key),R)oe.call(R,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(pe[$]=R[$]);var Ve=arguments.length-2;if(Ve===1)pe.children=A;else if(1<Ve){for(var it=Array(Ve),Je=0;Je<Ve;Je++)it[Je]=arguments[Je+2];pe.children=it}if(x&&x.defaultProps)for($ in Ve=x.defaultProps,Ve)pe[$]===void 0&&(pe[$]=Ve[$]);return ee(x,Oe,pe)},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(x){return{$$typeof:h,render:x}},Qe.isValidElement=fe,Qe.lazy=function(x){return{$$typeof:b,_payload:{_status:-1,_result:x},_init:ce}},Qe.memo=function(x,R){return{$$typeof:y,type:x,compare:R===void 0?null:R}},Qe.startTransition=function(x){var R=I.T,A={};I.T=A;try{var $=x(),pe=I.S;pe!==null&&pe(A,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(le,we)}catch(Oe){we(Oe)}finally{R!==null&&A.types!==null&&(R.types=A.types),I.T=R}},Qe.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Qe.use=function(x){return I.H.use(x)},Qe.useActionState=function(x,R,A){return I.H.useActionState(x,R,A)},Qe.useCallback=function(x,R){return I.H.useCallback(x,R)},Qe.useContext=function(x){return I.H.useContext(x)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(x,R){return I.H.useDeferredValue(x,R)},Qe.useEffect=function(x,R){return I.H.useEffect(x,R)},Qe.useEffectEvent=function(x){return I.H.useEffectEvent(x)},Qe.useId=function(){return I.H.useId()},Qe.useImperativeHandle=function(x,R,A){return I.H.useImperativeHandle(x,R,A)},Qe.useInsertionEffect=function(x,R){return I.H.useInsertionEffect(x,R)},Qe.useLayoutEffect=function(x,R){return I.H.useLayoutEffect(x,R)},Qe.useMemo=function(x,R){return I.H.useMemo(x,R)},Qe.useOptimistic=function(x,R){return I.H.useOptimistic(x,R)},Qe.useReducer=function(x,R,A){return I.H.useReducer(x,R,A)},Qe.useRef=function(x){return I.H.useRef(x)},Qe.useState=function(x){return I.H.useState(x)},Qe.useSyncExternalStore=function(x,R,A){return I.H.useSyncExternalStore(x,R,A)},Qe.useTransition=function(){return I.H.useTransition()},Qe.version="19.2.0",Qe}var Yg;function Eh(){return Yg||(Yg=1,nd.exports=tE()),nd.exports}var E=Eh();const ka=xh(E),nE=rb({__proto__:null,default:ka},[E]);var ad={exports:{}},po={},rd={exports:{}},id={};var Gg;function aE(){return Gg||(Gg=1,(function(a){function n(C,H){var ce=C.length;C.push(H);e:for(;0<ce;){var we=ce-1>>>1,xe=C[we];if(0<l(xe,H))C[we]=H,C[ce]=xe,ce=we;else break e}}function r(C){return C.length===0?null:C[0]}function s(C){if(C.length===0)return null;var H=C[0],ce=C.pop();if(ce!==H){C[0]=ce;e:for(var we=0,xe=C.length,x=xe>>>1;we<x;){var R=2*(we+1)-1,A=C[R],$=R+1,pe=C[$];if(0>l(A,ce))$<xe&&0>l(pe,A)?(C[we]=pe,C[$]=ce,we=$):(C[we]=A,C[R]=ce,we=R);else if($<xe&&0>l(pe,ce))C[we]=pe,C[$]=ce,we=$;else break e}}return H}function l(C,H){var ce=C.sortIndex-H.sortIndex;return ce!==0?ce:C.id-H.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var f=Date,h=f.now();a.unstable_now=function(){return f.now()-h}}var p=[],y=[],b=1,v=null,S=3,k=!1,N=!1,Z=!1,U=!1,Q=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function P(C){for(var H=r(y);H!==null;){if(H.callback===null)s(y);else if(H.startTime<=C)s(y),H.sortIndex=H.expirationTime,n(p,H);else break;H=r(y)}}function de(C){if(Z=!1,P(C),!N)if(r(p)!==null)N=!0,le||(le=!0,je());else{var H=r(y);H!==null&&Pe(de,H.startTime-C)}}var le=!1,I=-1,oe=5,ee=-1;function G(){return U?!0:!(a.unstable_now()-ee<oe)}function fe(){if(U=!1,le){var C=a.unstable_now();ee=C;var H=!0;try{e:{N=!1,Z&&(Z=!1,X(I),I=-1),k=!0;var ce=S;try{t:{for(P(C),v=r(p);v!==null&&!(v.expirationTime>C&&G());){var we=v.callback;if(typeof we=="function"){v.callback=null,S=v.priorityLevel;var xe=we(v.expirationTime<=C);if(C=a.unstable_now(),typeof xe=="function"){v.callback=xe,P(C),H=!0;break t}v===r(p)&&s(p),P(C)}else s(p);v=r(p)}if(v!==null)H=!0;else{var x=r(y);x!==null&&Pe(de,x.startTime-C),H=!1}}break e}finally{v=null,S=ce,k=!1}H=void 0}}finally{H?je():le=!1}}}var je;if(typeof V=="function")je=function(){V(fe)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,Ye=De.port2;De.port1.onmessage=fe,je=function(){Ye.postMessage(null)}}else je=function(){Q(fe,0)};function Pe(C,H){I=Q(function(){C(a.unstable_now())},H)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(C){C.callback=null},a.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<C?Math.floor(1e3/C):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_next=function(C){switch(S){case 1:case 2:case 3:var H=3;break;default:H=S}var ce=S;S=H;try{return C()}finally{S=ce}},a.unstable_requestPaint=function(){U=!0},a.unstable_runWithPriority=function(C,H){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var ce=S;S=C;try{return H()}finally{S=ce}},a.unstable_scheduleCallback=function(C,H,ce){var we=a.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?we+ce:we):ce=we,C){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=ce+xe,C={id:b++,callback:H,priorityLevel:C,startTime:ce,expirationTime:xe,sortIndex:-1},ce>we?(C.sortIndex=ce,n(y,C),r(p)===null&&C===r(y)&&(Z?(X(I),I=-1):Z=!0,Pe(de,ce-we))):(C.sortIndex=xe,n(p,C),N||k||(N=!0,le||(le=!0,je()))),C},a.unstable_shouldYield=G,a.unstable_wrapCallback=function(C){var H=S;return function(){var ce=S;S=H;try{return C.apply(this,arguments)}finally{S=ce}}}})(id)),id}var Zg;function rE(){return Zg||(Zg=1,rd.exports=aE()),rd.exports}var sd={exports:{}},xn={};var Pg;function iE(){if(Pg)return xn;Pg=1;var a=Eh();function n(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,y,b){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:v==null?null:""+v,children:p,containerInfo:y,implementation:b}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,xn.createPortal=function(p,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(n(299));return c(p,y,null,b)},xn.flushSync=function(p){var y=f.T,b=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=b,s.d.f()}},xn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},xn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},xn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var b=y.as,v=h(b,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,k=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:v,integrity:S,fetchPriority:k}):b==="script"&&s.d.X(p,{crossOrigin:v,integrity:S,fetchPriority:k,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},xn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=h(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},xn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,v=h(b,y.crossOrigin);s.d.L(p,b,{crossOrigin:v,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},xn.preloadModule=function(p,y){if(typeof p=="string")if(y){var b=h(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},xn.requestFormReset=function(p){s.d.r(p)},xn.unstable_batchedUpdates=function(p,y){return p(y)},xn.useFormState=function(p,y,b){return f.H.useFormState(p,y,b)},xn.useFormStatus=function(){return f.H.useHostTransitionStatus()},xn.version="19.2.0",xn}var Fg;function ib(){if(Fg)return sd.exports;Fg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),sd.exports=iE(),sd.exports}var Xg;function sE(){if(Xg)return po;Xg=1;var a=rE(),n=Eh(),r=ib();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(s(188))}function y(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(s(188));return t!==e?null:e}for(var i=e,o=t;;){var u=i.return;if(u===null)break;var d=u.alternate;if(d===null){if(o=u.return,o!==null){i=o;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===i)return p(u),e;if(d===o)return p(u),t;d=d.sibling}throw Error(s(188))}if(i.return!==o.return)i=u,o=d;else{for(var g=!1,w=u.child;w;){if(w===i){g=!0,i=u,o=d;break}if(w===o){g=!0,o=u,i=d;break}w=w.sibling}if(!g){for(w=d.child;w;){if(w===i){g=!0,i=d,o=u;break}if(w===o){g=!0,o=d,i=u;break}w=w.sibling}if(!g)throw Error(s(189))}}if(i.alternate!==o)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),V=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),fe=Symbol.iterator;function je(e){return e===null||typeof e!="object"?null:(e=fe&&e[fe]||e["@@iterator"],typeof e=="function"?e:null)}var De=Symbol.for("react.client.reference");function Ye(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===De?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case Q:return"Profiler";case U:return"StrictMode";case de:return"Suspense";case le:return"SuspenseList";case ee:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case V:return e.displayName||"Context";case X:return(e._context.displayName||"Context")+".Consumer";case P:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return t=e.displayName||null,t!==null?t:Ye(e.type)||"Memo";case oe:t=e._payload,e=e._init;try{return Ye(e(t))}catch{}}return null}var Pe=Array.isArray,C=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},we=[],xe=-1;function x(e){return{current:e}}function R(e){0>xe||(e.current=we[xe],we[xe]=null,xe--)}function A(e,t){xe++,we[xe]=e.current,e.current=t}var $=x(null),pe=x(null),Oe=x(null),Ve=x(null);function it(e,t){switch(A(Oe,t),A(pe,e),A($,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ug(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=ug(t),e=fg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}R($),A($,e)}function Je(){R($),R(pe),R(Oe)}function Wt(e){e.memoizedState!==null&&A(Ve,e);var t=$.current,i=fg(t,e.type);t!==i&&(A(pe,e),A($,i))}function Yt(e){pe.current===e&&(R($),R(pe)),Ve.current===e&&(R(Ve),lo._currentValue=ce)}var qe,jt;function q(e){if(qe===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);qe=t&&t[1]||"",jt=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qe+e+jt}var se=!1;function te(e,t){if(!e||se)return"";se=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(t){var re=function(){throw Error()};if(Object.defineProperty(re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(re,[])}catch(Y){var B=Y}Reflect.construct(e,[],re)}else{try{re.call()}catch(Y){B=Y}e.call(re.prototype)}}else{try{throw Error()}catch(Y){B=Y}(re=e())&&typeof re.catch=="function"&&re.catch(function(){})}}catch(Y){if(Y&&B&&typeof Y.stack=="string")return[Y.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),g=d[0],w=d[1];if(g&&w){var T=g.split(`
`),z=w.split(`
`);for(u=o=0;o<T.length&&!T[o].includes("DetermineComponentFrameRoot");)o++;for(;u<z.length&&!z[u].includes("DetermineComponentFrameRoot");)u++;if(o===T.length||u===z.length)for(o=T.length-1,u=z.length-1;1<=o&&0<=u&&T[o]!==z[u];)u--;for(;1<=o&&0<=u;o--,u--)if(T[o]!==z[u]){if(o!==1||u!==1)do if(o--,u--,0>u||T[o]!==z[u]){var W=`
`+T[o].replace(" at new "," at ");return e.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",e.displayName)),W}while(1<=o&&0<=u);break}}}finally{se=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?q(i):""}function _e(e,t){switch(e.tag){case 26:case 27:case 5:return q(e.type);case 16:return q("Lazy");case 13:return e.child!==t&&t!==null?q("Suspense Fallback"):q("Suspense");case 19:return q("SuspenseList");case 0:case 15:return te(e.type,!1);case 11:return te(e.type.render,!1);case 1:return te(e.type,!0);case 31:return q("Activity");default:return""}}function me(e){try{var t="",i=null;do t+=_e(e,i),i=e,e=e.return;while(e);return t}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ie=Object.prototype.hasOwnProperty,D=a.unstable_scheduleCallback,K=a.unstable_cancelCallback,Ee=a.unstable_shouldYield,J=a.unstable_requestPaint,ae=a.unstable_now,ve=a.unstable_getCurrentPriorityLevel,Ue=a.unstable_ImmediatePriority,$e=a.unstable_UserBlockingPriority,bt=a.unstable_NormalPriority,Me=a.unstable_LowPriority,et=a.unstable_IdlePriority,st=a.log,Vt=a.unstable_setDisableYieldValue,xt=null,ze=null;function We(e){if(typeof st=="function"&&Vt(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(xt,e)}catch{}}var Ge=Math.clz32?Math.clz32:Nn,Et=Math.log,fn=Math.LN2;function Nn(e){return e>>>=0,e===0?32:31-(Et(e)/fn|0)|0}var _=256,L=262144,he=4194304;function Te(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ne(e,t,i){var o=e.pendingLanes;if(o===0)return 0;var u=0,d=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var w=o&134217727;return w!==0?(o=w&~d,o!==0?u=Te(o):(g&=w,g!==0?u=Te(g):i||(i=w&~e,i!==0&&(u=Te(i))))):(w=o&~d,w!==0?u=Te(w):g!==0?u=Te(g):i||(i=o&~e,i!==0&&(u=Te(i)))),u===0?0:t!==0&&t!==u&&(t&d)===0&&(d=u&-u,i=t&-t,d>=i||d===32&&(i&4194048)!==0)?t:u}function At(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function jn(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ie(){var e=he;return he<<=1,(he&62914560)===0&&(he=4194304),e}function Xt(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function _t(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Tt(e,t,i,o,u,d){var g=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var w=e.entanglements,T=e.expirationTimes,z=e.hiddenUpdates;for(i=g&~i;0<i;){var W=31-Ge(i),re=1<<W;w[W]=0,T[W]=-1;var B=z[W];if(B!==null)for(z[W]=null,W=0;W<B.length;W++){var Y=B[W];Y!==null&&(Y.lane&=-536870913)}i&=~re}o!==0&&vs(e,o,0),d!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=d&~(g&~t))}function vs(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var o=31-Ge(t);e.entangledLanes|=t,e.entanglements[o]=e.entanglements[o]|1073741824|i&261930}function bs(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var o=31-Ge(i),u=1<<o;u&t|e[o]&t&&(e[o]|=t),i&=~u}}function ws(e,t){var i=t&-t;return i=(i&42)!==0?1:Uo(i),(i&(e.suspendedLanes|t))!==0?0:i}function Uo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ss(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function xs(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:Rg(e.type))}function pa(e,t){var i=H.p;try{return H.p=e,t()}finally{H.p=i}}var Dn=Math.random().toString(36).slice(2),Ut="__reactFiber$"+Dn,nn="__reactProps$"+Dn,ir="__reactContainer$"+Dn,$r="__reactEvents$"+Dn,F="__reactListeners$"+Dn,ue="__reactHandles$"+Dn,ye="__reactResources$"+Dn,ge="__reactMarker$"+Dn;function Re(e){delete e[Ut],delete e[nn],delete e[$r],delete e[F],delete e[ue]}function Ke(e){var t=e[Ut];if(t)return t;for(var i=e.parentNode;i;){if(t=i[ir]||i[Ut]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=vg(e);e!==null;){if(i=e[Ut])return i;e=vg(e)}return t}e=i,i=e.parentNode}return null}function Dt(e){if(e=e[Ut]||e[ir]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Gt(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function Kt(e){var t=e[ye];return t||(t=e[ye]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ct(e){e[ge]=!0}var mn=new Set,Mn={};function Rn(e,t){sr(e,t),sr(e+"Capture",t)}function sr(e,t){for(Mn[e]=t,e=0;e<t.length;e++)mn.add(t[e])}var Zc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Es={},ks={};function tp(e){return ie.call(ks,e)?!0:ie.call(Es,e)?!1:Zc.test(e)?ks[e]=!0:(Es[e]=!0,!1)}function Io(e,t,i){if(tp(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var o=t.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function $o(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function Ba(e,t,i,o){if(o===null)e.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+o)}}function Wn(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function np(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Zw(e,t,i){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var u=o.get,d=o.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(g){i=""+g,d.call(this,g)}}),Object.defineProperty(e,t,{enumerable:o.enumerable}),{getValue:function(){return i},setValue:function(g){i=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Pc(e){if(!e._valueTracker){var t=np(e)?"checked":"value";e._valueTracker=Zw(e,t,""+e[t])}}function ap(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),o="";return e&&(o=np(e)?e.checked?"true":"false":e.value),e=o,e!==i?(t.setValue(e),!0):!1}function Ho(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Pw=/[\n"\\]/g;function ea(e){return e.replace(Pw,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Fc(e,t,i,o,u,d,g,w){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),t!=null?g==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Wn(t)):e.value!==""+Wn(t)&&(e.value=""+Wn(t)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),t!=null?Xc(e,g,Wn(t)):i!=null?Xc(e,g,Wn(i)):o!=null&&e.removeAttribute("value"),u==null&&d!=null&&(e.defaultChecked=!!d),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?e.name=""+Wn(w):e.removeAttribute("name")}function rp(e,t,i,o,u,d,g,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||i!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){Pc(e);return}i=i!=null?""+Wn(i):"",t=t!=null?""+Wn(t):i,w||t===e.value||(e.value=t),e.defaultValue=t}o=o??u,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=w?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Pc(e)}function Xc(e,t,i){t==="number"&&Ho(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function pi(e,t,i,o){if(e=e.options,t){t={};for(var u=0;u<i.length;u++)t["$"+i[u]]=!0;for(i=0;i<e.length;i++)u=t.hasOwnProperty("$"+e[i].value),e[i].selected!==u&&(e[i].selected=u),u&&o&&(e[i].defaultSelected=!0)}else{for(i=""+Wn(i),t=null,u=0;u<e.length;u++){if(e[u].value===i){e[u].selected=!0,o&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function ip(e,t,i){if(t!=null&&(t=""+Wn(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Wn(i):""}function sp(e,t,i,o){if(t==null){if(o!=null){if(i!=null)throw Error(s(92));if(Pe(o)){if(1<o.length)throw Error(s(93));o=o[0]}i=o}i==null&&(i=""),t=i}i=Wn(t),e.defaultValue=i,o=e.textContent,o===i&&o!==""&&o!==null&&(e.value=o),Pc(e)}function mi(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Fw=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function op(e,t,i){var o=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?o?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":o?e.setProperty(t,i):typeof i!="number"||i===0||Fw.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function lp(e,t,i){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,i!=null){for(var o in i)!i.hasOwnProperty(o)||t!=null&&t.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var u in t)o=t[u],t.hasOwnProperty(u)&&i[u]!==o&&op(e,u,o)}else for(var d in t)t.hasOwnProperty(d)&&op(e,d,t[d])}function Kc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Kw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vo(e){return Kw.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Ua(){}var Qc=null;function Jc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yi=null,gi=null;function cp(e){var t=Dt(e);if(t&&(e=t.stateNode)){var i=e[nn]||null;e:switch(e=t.stateNode,t.type){case"input":if(Fc(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+ea(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var o=i[t];if(o!==e&&o.form===e.form){var u=o[nn]||null;if(!u)throw Error(s(90));Fc(o,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<i.length;t++)o=i[t],o.form===e.form&&ap(o)}break e;case"textarea":ip(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&pi(e,!!i.multiple,t,!1)}}}var Wc=!1;function up(e,t,i){if(Wc)return e(t,i);Wc=!0;try{var o=e(t);return o}finally{if(Wc=!1,(yi!==null||gi!==null)&&(jl(),yi&&(t=yi,e=gi,gi=yi=null,cp(t),e)))for(t=0;t<e.length;t++)cp(e[t])}}function Cs(e,t){var i=e.stateNode;if(i===null)return null;var o=i[nn]||null;if(o===null)return null;i=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,t,typeof i));return i}var Ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eu=!1;if(Ia)try{var Ts={};Object.defineProperty(Ts,"passive",{get:function(){eu=!0}}),window.addEventListener("test",Ts,Ts),window.removeEventListener("test",Ts,Ts)}catch{eu=!1}var or=null,tu=null,qo=null;function fp(){if(qo)return qo;var e,t=tu,i=t.length,o,u="value"in or?or.value:or.textContent,d=u.length;for(e=0;e<i&&t[e]===u[e];e++);var g=i-e;for(o=1;o<=g&&t[i-o]===u[d-o];o++);return qo=u.slice(e,1<o?1-o:void 0)}function Yo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Go(){return!0}function dp(){return!1}function zn(e){function t(i,o,u,d,g){this._reactName=i,this._targetInst=u,this.type=o,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var w in e)e.hasOwnProperty(w)&&(i=e[w],this[w]=i?i(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Go:dp,this.isPropagationStopped=dp,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Go)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Go)},persist:function(){},isPersistent:Go}),t}var Hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zo=zn(Hr),Os=v({},Hr,{view:0,detail:0}),Qw=zn(Os),nu,au,Ns,Po=v({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ns&&(Ns&&e.type==="mousemove"?(nu=e.screenX-Ns.screenX,au=e.screenY-Ns.screenY):au=nu=0,Ns=e),nu)},movementY:function(e){return"movementY"in e?e.movementY:au}}),hp=zn(Po),Jw=v({},Po,{dataTransfer:0}),Ww=zn(Jw),eS=v({},Os,{relatedTarget:0}),ru=zn(eS),tS=v({},Hr,{animationName:0,elapsedTime:0,pseudoElement:0}),nS=zn(tS),aS=v({},Hr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rS=zn(aS),iS=v({},Hr,{data:0}),pp=zn(iS),sS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lS[e])?!!t[e]:!1}function iu(){return cS}var uS=v({},Os,{key:function(e){if(e.key){var t=sS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?oS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iu,charCode:function(e){return e.type==="keypress"?Yo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),fS=zn(uS),dS=v({},Po,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mp=zn(dS),hS=v({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iu}),pS=zn(hS),mS=v({},Hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),yS=zn(mS),gS=v({},Po,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vS=zn(gS),bS=v({},Hr,{newState:0,oldState:0}),wS=zn(bS),SS=[9,13,27,32],su=Ia&&"CompositionEvent"in window,js=null;Ia&&"documentMode"in document&&(js=document.documentMode);var xS=Ia&&"TextEvent"in window&&!js,yp=Ia&&(!su||js&&8<js&&11>=js),gp=" ",vp=!1;function bp(e,t){switch(e){case"keyup":return SS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vi=!1;function ES(e,t){switch(e){case"compositionend":return wp(t);case"keypress":return t.which!==32?null:(vp=!0,gp);case"textInput":return e=t.data,e===gp&&vp?null:e;default:return null}}function kS(e,t){if(vi)return e==="compositionend"||!su&&bp(e,t)?(e=fp(),qo=tu=or=null,vi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yp&&t.locale!=="ko"?null:t.data;default:return null}}var CS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!CS[e.type]:t==="textarea"}function xp(e,t,i,o){yi?gi?gi.push(o):gi=[o]:yi=o,t=Ll(t,"onChange"),0<t.length&&(i=new Zo("onChange","change",null,i,o),e.push({event:i,listeners:t}))}var As=null,_s=null;function TS(e){rg(e,0)}function Fo(e){var t=Gt(e);if(ap(t))return e}function Ep(e,t){if(e==="change")return t}var kp=!1;if(Ia){var ou;if(Ia){var lu="oninput"in document;if(!lu){var Cp=document.createElement("div");Cp.setAttribute("oninput","return;"),lu=typeof Cp.oninput=="function"}ou=lu}else ou=!1;kp=ou&&(!document.documentMode||9<document.documentMode)}function Tp(){As&&(As.detachEvent("onpropertychange",Op),_s=As=null)}function Op(e){if(e.propertyName==="value"&&Fo(_s)){var t=[];xp(t,_s,e,Jc(e)),up(TS,t)}}function OS(e,t,i){e==="focusin"?(Tp(),As=t,_s=i,As.attachEvent("onpropertychange",Op)):e==="focusout"&&Tp()}function NS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fo(_s)}function jS(e,t){if(e==="click")return Fo(t)}function AS(e,t){if(e==="input"||e==="change")return Fo(t)}function _S(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qn=typeof Object.is=="function"?Object.is:_S;function Ds(e,t){if(qn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var u=i[o];if(!ie.call(t,u)||!qn(e[u],t[u]))return!1}return!0}function Np(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jp(e,t){var i=Np(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=t&&o>=t)return{node:i,offset:t-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Np(i)}}function Ap(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ap(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _p(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ho(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Ho(e.document)}return t}function cu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var DS=Ia&&"documentMode"in document&&11>=document.documentMode,bi=null,uu=null,Ms=null,fu=!1;function Dp(e,t,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;fu||bi==null||bi!==Ho(o)||(o=bi,"selectionStart"in o&&cu(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ms&&Ds(Ms,o)||(Ms=o,o=Ll(uu,"onSelect"),0<o.length&&(t=new Zo("onSelect","select",null,t,i),e.push({event:t,listeners:o}),t.target=bi)))}function Vr(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var wi={animationend:Vr("Animation","AnimationEnd"),animationiteration:Vr("Animation","AnimationIteration"),animationstart:Vr("Animation","AnimationStart"),transitionrun:Vr("Transition","TransitionRun"),transitionstart:Vr("Transition","TransitionStart"),transitioncancel:Vr("Transition","TransitionCancel"),transitionend:Vr("Transition","TransitionEnd")},du={},Mp={};Ia&&(Mp=document.createElement("div").style,"AnimationEvent"in window||(delete wi.animationend.animation,delete wi.animationiteration.animation,delete wi.animationstart.animation),"TransitionEvent"in window||delete wi.transitionend.transition);function qr(e){if(du[e])return du[e];if(!wi[e])return e;var t=wi[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Mp)return du[e]=t[i];return e}var Rp=qr("animationend"),zp=qr("animationiteration"),Lp=qr("animationstart"),MS=qr("transitionrun"),RS=qr("transitionstart"),zS=qr("transitioncancel"),Bp=qr("transitionend"),Up=new Map,hu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hu.push("scrollEnd");function ma(e,t){Up.set(e,t),Rn(t,[e])}var Xo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},ta=[],Si=0,pu=0;function Ko(){for(var e=Si,t=pu=Si=0;t<e;){var i=ta[t];ta[t++]=null;var o=ta[t];ta[t++]=null;var u=ta[t];ta[t++]=null;var d=ta[t];if(ta[t++]=null,o!==null&&u!==null){var g=o.pending;g===null?u.next=u:(u.next=g.next,g.next=u),o.pending=u}d!==0&&Ip(i,u,d)}}function Qo(e,t,i,o){ta[Si++]=e,ta[Si++]=t,ta[Si++]=i,ta[Si++]=o,pu|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function mu(e,t,i,o){return Qo(e,t,i,o),Jo(e)}function Yr(e,t){return Qo(e,null,null,t),Jo(e)}function Ip(e,t,i){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i);for(var u=!1,d=e.return;d!==null;)d.childLanes|=i,o=d.alternate,o!==null&&(o.childLanes|=i),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(u=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,u&&t!==null&&(u=31-Ge(i),e=d.hiddenUpdates,o=e[u],o===null?e[u]=[t]:o.push(t),t.lane=i|536870912),d):null}function Jo(e){if(50<to)throw to=0,Cf=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var xi={};function LS(e,t,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(e,t,i,o){return new LS(e,t,i,o)}function yu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $a(e,t){var i=e.alternate;return i===null?(i=Yn(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function $p(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Wo(e,t,i,o,u,d){var g=0;if(o=e,typeof e=="function")yu(e)&&(g=1);else if(typeof e=="string")g=Hx(e,i,$.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ee:return e=Yn(31,i,t,u),e.elementType=ee,e.lanes=d,e;case Z:return Gr(i.children,u,d,t);case U:g=8,u|=24;break;case Q:return e=Yn(12,i,t,u|2),e.elementType=Q,e.lanes=d,e;case de:return e=Yn(13,i,t,u),e.elementType=de,e.lanes=d,e;case le:return e=Yn(19,i,t,u),e.elementType=le,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case V:g=10;break e;case X:g=9;break e;case P:g=11;break e;case I:g=14;break e;case oe:g=16,o=null;break e}g=29,i=Error(s(130,e===null?"null":typeof e,"")),o=null}return t=Yn(g,i,t,u),t.elementType=e,t.type=o,t.lanes=d,t}function Gr(e,t,i,o){return e=Yn(7,e,o,t),e.lanes=i,e}function gu(e,t,i){return e=Yn(6,e,null,t),e.lanes=i,e}function Hp(e){var t=Yn(18,null,null,0);return t.stateNode=e,t}function vu(e,t,i){return t=Yn(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Vp=new WeakMap;function na(e,t){if(typeof e=="object"&&e!==null){var i=Vp.get(e);return i!==void 0?i:(t={value:e,source:t,stack:me(t)},Vp.set(e,t),t)}return{value:e,source:t,stack:me(t)}}var Ei=[],ki=0,el=null,Rs=0,aa=[],ra=0,lr=null,Ta=1,Oa="";function Ha(e,t){Ei[ki++]=Rs,Ei[ki++]=el,el=e,Rs=t}function qp(e,t,i){aa[ra++]=Ta,aa[ra++]=Oa,aa[ra++]=lr,lr=e;var o=Ta;e=Oa;var u=32-Ge(o)-1;o&=~(1<<u),i+=1;var d=32-Ge(t)+u;if(30<d){var g=u-u%5;d=(o&(1<<g)-1).toString(32),o>>=g,u-=g,Ta=1<<32-Ge(t)+u|i<<u|o,Oa=d+e}else Ta=1<<d|i<<u|o,Oa=e}function bu(e){e.return!==null&&(Ha(e,1),qp(e,1,0))}function wu(e){for(;e===el;)el=Ei[--ki],Ei[ki]=null,Rs=Ei[--ki],Ei[ki]=null;for(;e===lr;)lr=aa[--ra],aa[ra]=null,Oa=aa[--ra],aa[ra]=null,Ta=aa[--ra],aa[ra]=null}function Yp(e,t){aa[ra++]=Ta,aa[ra++]=Oa,aa[ra++]=lr,Ta=t.id,Oa=t.overflow,lr=e}var yn=null,It=null,pt=!1,cr=null,ia=!1,Su=Error(s(519));function ur(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zs(na(t,e)),Su}function Gp(e){var t=e.stateNode,i=e.type,o=e.memoizedProps;switch(t[Ut]=e,t[nn]=o,i){case"dialog":lt("cancel",t),lt("close",t);break;case"iframe":case"object":case"embed":lt("load",t);break;case"video":case"audio":for(i=0;i<ao.length;i++)lt(ao[i],t);break;case"source":lt("error",t);break;case"img":case"image":case"link":lt("error",t),lt("load",t);break;case"details":lt("toggle",t);break;case"input":lt("invalid",t),rp(t,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":lt("invalid",t);break;case"textarea":lt("invalid",t),sp(t,o.value,o.defaultValue,o.children)}i=o.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||o.suppressHydrationWarning===!0||lg(t.textContent,i)?(o.popover!=null&&(lt("beforetoggle",t),lt("toggle",t)),o.onScroll!=null&&lt("scroll",t),o.onScrollEnd!=null&&lt("scrollend",t),o.onClick!=null&&(t.onclick=Ua),t=!0):t=!1,t||ur(e,!0)}function Zp(e){for(yn=e.return;yn;)switch(yn.tag){case 5:case 31:case 13:ia=!1;return;case 27:case 3:ia=!0;return;default:yn=yn.return}}function Ci(e){if(e!==yn)return!1;if(!pt)return Zp(e),pt=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||$f(e.type,e.memoizedProps)),i=!i),i&&It&&ur(e),Zp(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));It=gg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));It=gg(e)}else t===27?(t=It,kr(e.type)?(e=Gf,Gf=null,It=e):It=t):It=yn?oa(e.stateNode.nextSibling):null;return!0}function Zr(){It=yn=null,pt=!1}function xu(){var e=cr;return e!==null&&(In===null?In=e:In.push.apply(In,e),cr=null),e}function zs(e){cr===null?cr=[e]:cr.push(e)}var Eu=x(null),Pr=null,Va=null;function fr(e,t,i){A(Eu,t._currentValue),t._currentValue=i}function qa(e){e._currentValue=Eu.current,R(Eu)}function ku(e,t,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===i)break;e=e.return}}function Cu(e,t,i,o){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var d=u.dependencies;if(d!==null){var g=u.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=u;for(var T=0;T<t.length;T++)if(w.context===t[T]){d.lanes|=i,w=d.alternate,w!==null&&(w.lanes|=i),ku(d.return,i,e),o||(g=null);break e}d=w.next}}else if(u.tag===18){if(g=u.return,g===null)throw Error(s(341));g.lanes|=i,d=g.alternate,d!==null&&(d.lanes|=i),ku(g,i,e),g=null}else g=u.child;if(g!==null)g.return=u;else for(g=u;g!==null;){if(g===e){g=null;break}if(u=g.sibling,u!==null){u.return=g.return,g=u;break}g=g.return}u=g}}function Ti(e,t,i,o){e=null;for(var u=t,d=!1;u!==null;){if(!d){if((u.flags&524288)!==0)d=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var g=u.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var w=u.type;qn(u.pendingProps.value,g.value)||(e!==null?e.push(w):e=[w])}}else if(u===Ve.current){if(g=u.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(lo):e=[lo])}u=u.return}e!==null&&Cu(t,e,i,o),t.flags|=262144}function tl(e){for(e=e.firstContext;e!==null;){if(!qn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Fr(e){Pr=e,Va=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function gn(e){return Pp(Pr,e)}function nl(e,t){return Pr===null&&Fr(e),Pp(e,t)}function Pp(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},Va===null){if(e===null)throw Error(s(308));Va=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Va=Va.next=t;return i}var BS=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,o){e.push(o)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},US=a.unstable_scheduleCallback,IS=a.unstable_NormalPriority,an={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tu(){return{controller:new BS,data:new Map,refCount:0}}function Ls(e){e.refCount--,e.refCount===0&&US(IS,function(){e.controller.abort()})}var Bs=null,Ou=0,Oi=0,Ni=null;function $S(e,t){if(Bs===null){var i=Bs=[];Ou=0,Oi=_f(),Ni={status:"pending",value:void 0,then:function(o){i.push(o)}}}return Ou++,t.then(Fp,Fp),t}function Fp(){if(--Ou===0&&Bs!==null){Ni!==null&&(Ni.status="fulfilled");var e=Bs;Bs=null,Oi=0,Ni=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function HS(e,t){var i=[],o={status:"pending",value:null,reason:null,then:function(u){i.push(u)}};return e.then(function(){o.status="fulfilled",o.value=t;for(var u=0;u<i.length;u++)(0,i[u])(t)},function(u){for(o.status="rejected",o.reason=u,u=0;u<i.length;u++)(0,i[u])(void 0)}),o}var Xp=C.S;C.S=function(e,t){Dy=ae(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&$S(e,t),Xp!==null&&Xp(e,t)};var Xr=x(null);function Nu(){var e=Xr.current;return e!==null?e:Lt.pooledCache}function al(e,t){t===null?A(Xr,Xr.current):A(Xr,t.pool)}function Kp(){var e=Nu();return e===null?null:{parent:an._currentValue,pool:e}}var ji=Error(s(460)),ju=Error(s(474)),rl=Error(s(542)),il={then:function(){}};function Qp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Jp(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Ua,Ua),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,em(e),e;default:if(typeof t.status=="string")t.then(Ua,Ua);else{if(e=Lt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(o){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=o}},function(o){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=o}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,em(e),e}throw Qr=t,ji}}function Kr(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Qr=i,ji):i}}var Qr=null;function Wp(){if(Qr===null)throw Error(s(459));var e=Qr;return Qr=null,e}function em(e){if(e===ji||e===rl)throw Error(s(483))}var Ai=null,Us=0;function sl(e){var t=Us;return Us+=1,Ai===null&&(Ai=[]),Jp(Ai,e,t)}function Is(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ol(e,t){throw t.$$typeof===S?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function tm(e){function t(j,O){if(e){var M=j.deletions;M===null?(j.deletions=[O],j.flags|=16):M.push(O)}}function i(j,O){if(!e)return null;for(;O!==null;)t(j,O),O=O.sibling;return null}function o(j){for(var O=new Map;j!==null;)j.key!==null?O.set(j.key,j):O.set(j.index,j),j=j.sibling;return O}function u(j,O){return j=$a(j,O),j.index=0,j.sibling=null,j}function d(j,O,M){return j.index=M,e?(M=j.alternate,M!==null?(M=M.index,M<O?(j.flags|=67108866,O):M):(j.flags|=67108866,O)):(j.flags|=1048576,O)}function g(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function w(j,O,M,ne){return O===null||O.tag!==6?(O=gu(M,j.mode,ne),O.return=j,O):(O=u(O,M),O.return=j,O)}function T(j,O,M,ne){var He=M.type;return He===Z?W(j,O,M.props.children,ne,M.key):O!==null&&(O.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===oe&&Kr(He)===O.type)?(O=u(O,M.props),Is(O,M),O.return=j,O):(O=Wo(M.type,M.key,M.props,null,j.mode,ne),Is(O,M),O.return=j,O)}function z(j,O,M,ne){return O===null||O.tag!==4||O.stateNode.containerInfo!==M.containerInfo||O.stateNode.implementation!==M.implementation?(O=vu(M,j.mode,ne),O.return=j,O):(O=u(O,M.children||[]),O.return=j,O)}function W(j,O,M,ne,He){return O===null||O.tag!==7?(O=Gr(M,j.mode,ne,He),O.return=j,O):(O=u(O,M),O.return=j,O)}function re(j,O,M){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=gu(""+O,j.mode,M),O.return=j,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case k:return M=Wo(O.type,O.key,O.props,null,j.mode,M),Is(M,O),M.return=j,M;case N:return O=vu(O,j.mode,M),O.return=j,O;case oe:return O=Kr(O),re(j,O,M)}if(Pe(O)||je(O))return O=Gr(O,j.mode,M,null),O.return=j,O;if(typeof O.then=="function")return re(j,sl(O),M);if(O.$$typeof===V)return re(j,nl(j,O),M);ol(j,O)}return null}function B(j,O,M,ne){var He=O!==null?O.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return He!==null?null:w(j,O,""+M,ne);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case k:return M.key===He?T(j,O,M,ne):null;case N:return M.key===He?z(j,O,M,ne):null;case oe:return M=Kr(M),B(j,O,M,ne)}if(Pe(M)||je(M))return He!==null?null:W(j,O,M,ne,null);if(typeof M.then=="function")return B(j,O,sl(M),ne);if(M.$$typeof===V)return B(j,O,nl(j,M),ne);ol(j,M)}return null}function Y(j,O,M,ne,He){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return j=j.get(M)||null,w(O,j,""+ne,He);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case k:return j=j.get(ne.key===null?M:ne.key)||null,T(O,j,ne,He);case N:return j=j.get(ne.key===null?M:ne.key)||null,z(O,j,ne,He);case oe:return ne=Kr(ne),Y(j,O,M,ne,He)}if(Pe(ne)||je(ne))return j=j.get(M)||null,W(O,j,ne,He,null);if(typeof ne.then=="function")return Y(j,O,M,sl(ne),He);if(ne.$$typeof===V)return Y(j,O,M,nl(O,ne),He);ol(O,ne)}return null}function Ae(j,O,M,ne){for(var He=null,gt=null,Le=O,nt=O=0,ft=null;Le!==null&&nt<M.length;nt++){Le.index>nt?(ft=Le,Le=null):ft=Le.sibling;var vt=B(j,Le,M[nt],ne);if(vt===null){Le===null&&(Le=ft);break}e&&Le&&vt.alternate===null&&t(j,Le),O=d(vt,O,nt),gt===null?He=vt:gt.sibling=vt,gt=vt,Le=ft}if(nt===M.length)return i(j,Le),pt&&Ha(j,nt),He;if(Le===null){for(;nt<M.length;nt++)Le=re(j,M[nt],ne),Le!==null&&(O=d(Le,O,nt),gt===null?He=Le:gt.sibling=Le,gt=Le);return pt&&Ha(j,nt),He}for(Le=o(Le);nt<M.length;nt++)ft=Y(Le,j,nt,M[nt],ne),ft!==null&&(e&&ft.alternate!==null&&Le.delete(ft.key===null?nt:ft.key),O=d(ft,O,nt),gt===null?He=ft:gt.sibling=ft,gt=ft);return e&&Le.forEach(function(jr){return t(j,jr)}),pt&&Ha(j,nt),He}function Ze(j,O,M,ne){if(M==null)throw Error(s(151));for(var He=null,gt=null,Le=O,nt=O=0,ft=null,vt=M.next();Le!==null&&!vt.done;nt++,vt=M.next()){Le.index>nt?(ft=Le,Le=null):ft=Le.sibling;var jr=B(j,Le,vt.value,ne);if(jr===null){Le===null&&(Le=ft);break}e&&Le&&jr.alternate===null&&t(j,Le),O=d(jr,O,nt),gt===null?He=jr:gt.sibling=jr,gt=jr,Le=ft}if(vt.done)return i(j,Le),pt&&Ha(j,nt),He;if(Le===null){for(;!vt.done;nt++,vt=M.next())vt=re(j,vt.value,ne),vt!==null&&(O=d(vt,O,nt),gt===null?He=vt:gt.sibling=vt,gt=vt);return pt&&Ha(j,nt),He}for(Le=o(Le);!vt.done;nt++,vt=M.next())vt=Y(Le,j,nt,vt.value,ne),vt!==null&&(e&&vt.alternate!==null&&Le.delete(vt.key===null?nt:vt.key),O=d(vt,O,nt),gt===null?He=vt:gt.sibling=vt,gt=vt);return e&&Le.forEach(function(Jx){return t(j,Jx)}),pt&&Ha(j,nt),He}function zt(j,O,M,ne){if(typeof M=="object"&&M!==null&&M.type===Z&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case k:e:{for(var He=M.key;O!==null;){if(O.key===He){if(He=M.type,He===Z){if(O.tag===7){i(j,O.sibling),ne=u(O,M.props.children),ne.return=j,j=ne;break e}}else if(O.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===oe&&Kr(He)===O.type){i(j,O.sibling),ne=u(O,M.props),Is(ne,M),ne.return=j,j=ne;break e}i(j,O);break}else t(j,O);O=O.sibling}M.type===Z?(ne=Gr(M.props.children,j.mode,ne,M.key),ne.return=j,j=ne):(ne=Wo(M.type,M.key,M.props,null,j.mode,ne),Is(ne,M),ne.return=j,j=ne)}return g(j);case N:e:{for(He=M.key;O!==null;){if(O.key===He)if(O.tag===4&&O.stateNode.containerInfo===M.containerInfo&&O.stateNode.implementation===M.implementation){i(j,O.sibling),ne=u(O,M.children||[]),ne.return=j,j=ne;break e}else{i(j,O);break}else t(j,O);O=O.sibling}ne=vu(M,j.mode,ne),ne.return=j,j=ne}return g(j);case oe:return M=Kr(M),zt(j,O,M,ne)}if(Pe(M))return Ae(j,O,M,ne);if(je(M)){if(He=je(M),typeof He!="function")throw Error(s(150));return M=He.call(M),Ze(j,O,M,ne)}if(typeof M.then=="function")return zt(j,O,sl(M),ne);if(M.$$typeof===V)return zt(j,O,nl(j,M),ne);ol(j,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,O!==null&&O.tag===6?(i(j,O.sibling),ne=u(O,M),ne.return=j,j=ne):(i(j,O),ne=gu(M,j.mode,ne),ne.return=j,j=ne),g(j)):i(j,O)}return function(j,O,M,ne){try{Us=0;var He=zt(j,O,M,ne);return Ai=null,He}catch(Le){if(Le===ji||Le===rl)throw Le;var gt=Yn(29,Le,null,j.mode);return gt.lanes=ne,gt.return=j,gt}finally{}}}var Jr=tm(!0),nm=tm(!1),dr=!1;function Au(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _u(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function hr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function pr(e,t,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(wt&2)!==0){var u=o.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),o.pending=t,t=Jo(e),Ip(e,null,i),t}return Qo(e,o,t,i),Jo(e)}function $s(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,bs(e,i)}}function Du(e,t){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var u=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var g={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};d===null?u=d=g:d=d.next=g,i=i.next}while(i!==null);d===null?u=d=t:d=d.next=t}else u=d=t;i={baseState:o.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Mu=!1;function Hs(){if(Mu){var e=Ni;if(e!==null)throw e}}function Vs(e,t,i,o){Mu=!1;var u=e.updateQueue;dr=!1;var d=u.firstBaseUpdate,g=u.lastBaseUpdate,w=u.shared.pending;if(w!==null){u.shared.pending=null;var T=w,z=T.next;T.next=null,g===null?d=z:g.next=z,g=T;var W=e.alternate;W!==null&&(W=W.updateQueue,w=W.lastBaseUpdate,w!==g&&(w===null?W.firstBaseUpdate=z:w.next=z,W.lastBaseUpdate=T))}if(d!==null){var re=u.baseState;g=0,W=z=T=null,w=d;do{var B=w.lane&-536870913,Y=B!==w.lane;if(Y?(ut&B)===B:(o&B)===B){B!==0&&B===Oi&&(Mu=!0),W!==null&&(W=W.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Ae=e,Ze=w;B=t;var zt=i;switch(Ze.tag){case 1:if(Ae=Ze.payload,typeof Ae=="function"){re=Ae.call(zt,re,B);break e}re=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Ze.payload,B=typeof Ae=="function"?Ae.call(zt,re,B):Ae,B==null)break e;re=v({},re,B);break e;case 2:dr=!0}}B=w.callback,B!==null&&(e.flags|=64,Y&&(e.flags|=8192),Y=u.callbacks,Y===null?u.callbacks=[B]:Y.push(B))}else Y={lane:B,tag:w.tag,payload:w.payload,callback:w.callback,next:null},W===null?(z=W=Y,T=re):W=W.next=Y,g|=B;if(w=w.next,w===null){if(w=u.shared.pending,w===null)break;Y=w,w=Y.next,Y.next=null,u.lastBaseUpdate=Y,u.shared.pending=null}}while(!0);W===null&&(T=re),u.baseState=T,u.firstBaseUpdate=z,u.lastBaseUpdate=W,d===null&&(u.shared.lanes=0),br|=g,e.lanes=g,e.memoizedState=re}}function am(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function rm(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)am(i[e],t)}var _i=x(null),ll=x(0);function im(e,t){e=Ja,A(ll,e),A(_i,t),Ja=e|t.baseLanes}function Ru(){A(ll,Ja),A(_i,_i.current)}function zu(){Ja=ll.current,R(_i),R(ll)}var Gn=x(null),sa=null;function mr(e){var t=e.alternate;A(en,en.current&1),A(Gn,e),sa===null&&(t===null||_i.current!==null||t.memoizedState!==null)&&(sa=e)}function Lu(e){A(en,en.current),A(Gn,e),sa===null&&(sa=e)}function sm(e){e.tag===22?(A(en,en.current),A(Gn,e),sa===null&&(sa=e)):yr()}function yr(){A(en,en.current),A(Gn,Gn.current)}function Zn(e){R(Gn),sa===e&&(sa=null),R(en)}var en=x(0);function cl(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||qf(i)||Yf(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ya=0,tt=null,Mt=null,rn=null,ul=!1,Di=!1,Wr=!1,fl=0,qs=0,Mi=null,VS=0;function Qt(){throw Error(s(321))}function Bu(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!qn(e[i],t[i]))return!1;return!0}function Uu(e,t,i,o,u,d){return Ya=d,tt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,C.H=e===null||e.memoizedState===null?qm:Wu,Wr=!1,d=i(o,u),Wr=!1,Di&&(d=lm(t,i,o,u)),om(e),d}function om(e){C.H=Zs;var t=Mt!==null&&Mt.next!==null;if(Ya=0,rn=Mt=tt=null,ul=!1,qs=0,Mi=null,t)throw Error(s(300));e===null||sn||(e=e.dependencies,e!==null&&tl(e)&&(sn=!0))}function lm(e,t,i,o){tt=e;var u=0;do{if(Di&&(Mi=null),qs=0,Di=!1,25<=u)throw Error(s(301));if(u+=1,rn=Mt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}C.H=Ym,d=t(i,o)}while(Di);return d}function qS(){var e=C.H,t=e.useState()[0];return t=typeof t.then=="function"?Ys(t):t,e=e.useState()[0],(Mt!==null?Mt.memoizedState:null)!==e&&(tt.flags|=1024),t}function Iu(){var e=fl!==0;return fl=0,e}function $u(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Hu(e){if(ul){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ul=!1}Ya=0,rn=Mt=tt=null,Di=!1,qs=fl=0,Mi=null}function An(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?tt.memoizedState=rn=e:rn=rn.next=e,rn}function tn(){if(Mt===null){var e=tt.alternate;e=e!==null?e.memoizedState:null}else e=Mt.next;var t=rn===null?tt.memoizedState:rn.next;if(t!==null)rn=t,Mt=e;else{if(e===null)throw tt.alternate===null?Error(s(467)):Error(s(310));Mt=e,e={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},rn===null?tt.memoizedState=rn=e:rn=rn.next=e}return rn}function dl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ys(e){var t=qs;return qs+=1,Mi===null&&(Mi=[]),e=Jp(Mi,e,t),t=tt,(rn===null?t.memoizedState:rn.next)===null&&(t=t.alternate,C.H=t===null||t.memoizedState===null?qm:Wu),e}function hl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ys(e);if(e.$$typeof===V)return gn(e)}throw Error(s(438,String(e)))}function Vu(e){var t=null,i=tt.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var o=tt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(t={data:o.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=dl(),tt.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),o=0;o<e;o++)i[o]=G;return t.index++,i}function Ga(e,t){return typeof t=="function"?t(e):t}function pl(e){var t=tn();return qu(t,Mt,e)}function qu(e,t,i){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=e.baseQueue,d=o.pending;if(d!==null){if(u!==null){var g=u.next;u.next=d.next,d.next=g}t.baseQueue=u=d,o.pending=null}if(d=e.baseState,u===null)e.memoizedState=d;else{t=u.next;var w=g=null,T=null,z=t,W=!1;do{var re=z.lane&-536870913;if(re!==z.lane?(ut&re)===re:(Ya&re)===re){var B=z.revertLane;if(B===0)T!==null&&(T=T.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),re===Oi&&(W=!0);else if((Ya&B)===B){z=z.next,B===Oi&&(W=!0);continue}else re={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},T===null?(w=T=re,g=d):T=T.next=re,tt.lanes|=B,br|=B;re=z.action,Wr&&i(d,re),d=z.hasEagerState?z.eagerState:i(d,re)}else B={lane:re,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},T===null?(w=T=B,g=d):T=T.next=B,tt.lanes|=re,br|=re;z=z.next}while(z!==null&&z!==t);if(T===null?g=d:T.next=w,!qn(d,e.memoizedState)&&(sn=!0,W&&(i=Ni,i!==null)))throw i;e.memoizedState=d,e.baseState=g,e.baseQueue=T,o.lastRenderedState=d}return u===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Yu(e){var t=tn(),i=t.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var o=i.dispatch,u=i.pending,d=t.memoizedState;if(u!==null){i.pending=null;var g=u=u.next;do d=e(d,g.action),g=g.next;while(g!==u);qn(d,t.memoizedState)||(sn=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),i.lastRenderedState=d}return[d,o]}function cm(e,t,i){var o=tt,u=tn(),d=pt;if(d){if(i===void 0)throw Error(s(407));i=i()}else i=t();var g=!qn((Mt||u).memoizedState,i);if(g&&(u.memoizedState=i,sn=!0),u=u.queue,Pu(dm.bind(null,o,u,e),[e]),u.getSnapshot!==t||g||rn!==null&&rn.memoizedState.tag&1){if(o.flags|=2048,Ri(9,{destroy:void 0},fm.bind(null,o,u,i,t),null),Lt===null)throw Error(s(349));d||(Ya&127)!==0||um(o,t,i)}return i}function um(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=tt.updateQueue,t===null?(t=dl(),tt.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function fm(e,t,i,o){t.value=i,t.getSnapshot=o,hm(t)&&pm(e)}function dm(e,t,i){return i(function(){hm(t)&&pm(e)})}function hm(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!qn(e,i)}catch{return!0}}function pm(e){var t=Yr(e,2);t!==null&&$n(t,e,2)}function Gu(e){var t=An();if(typeof e=="function"){var i=e;if(e=i(),Wr){We(!0);try{i()}finally{We(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:e},t}function mm(e,t,i,o){return e.baseState=i,qu(e,Mt,typeof o=="function"?o:Ga)}function YS(e,t,i,o,u){if(gl(e))throw Error(s(485));if(e=t.action,e!==null){var d={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){d.listeners.push(g)}};C.T!==null?i(!0):d.isTransition=!1,o(d),i=t.pending,i===null?(d.next=t.pending=d,ym(t,d)):(d.next=i.next,t.pending=i.next=d)}}function ym(e,t){var i=t.action,o=t.payload,u=e.state;if(t.isTransition){var d=C.T,g={};C.T=g;try{var w=i(u,o),T=C.S;T!==null&&T(g,w),gm(e,t,w)}catch(z){Zu(e,t,z)}finally{d!==null&&g.types!==null&&(d.types=g.types),C.T=d}}else try{d=i(u,o),gm(e,t,d)}catch(z){Zu(e,t,z)}}function gm(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(o){vm(e,t,o)},function(o){return Zu(e,t,o)}):vm(e,t,i)}function vm(e,t,i){t.status="fulfilled",t.value=i,bm(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,ym(e,i)))}function Zu(e,t,i){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do t.status="rejected",t.reason=i,bm(t),t=t.next;while(t!==o)}e.action=null}function bm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function wm(e,t){return t}function Sm(e,t){if(pt){var i=Lt.formState;if(i!==null){e:{var o=tt;if(pt){if(It){t:{for(var u=It,d=ia;u.nodeType!==8;){if(!d){u=null;break t}if(u=oa(u.nextSibling),u===null){u=null;break t}}d=u.data,u=d==="F!"||d==="F"?u:null}if(u){It=oa(u.nextSibling),o=u.data==="F!";break e}}ur(o)}o=!1}o&&(t=i[0])}}return i=An(),i.memoizedState=i.baseState=t,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wm,lastRenderedState:t},i.queue=o,i=$m.bind(null,tt,o),o.dispatch=i,o=Gu(!1),d=Ju.bind(null,tt,!1,o.queue),o=An(),u={state:t,dispatch:null,action:e,pending:null},o.queue=u,i=YS.bind(null,tt,u,d,i),u.dispatch=i,o.memoizedState=e,[t,i,!1]}function xm(e){var t=tn();return Em(t,Mt,e)}function Em(e,t,i){if(t=qu(e,t,wm)[0],e=pl(Ga)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var o=Ys(t)}catch(g){throw g===ji?rl:g}else o=t;t=tn();var u=t.queue,d=u.dispatch;return i!==t.memoizedState&&(tt.flags|=2048,Ri(9,{destroy:void 0},GS.bind(null,u,i),null)),[o,d,e]}function GS(e,t){e.action=t}function km(e){var t=tn(),i=Mt;if(i!==null)return Em(t,i,e);tn(),t=t.memoizedState,i=tn();var o=i.queue.dispatch;return i.memoizedState=e,[t,o,!1]}function Ri(e,t,i,o){return e={tag:e,create:i,deps:o,inst:t,next:null},t=tt.updateQueue,t===null&&(t=dl(),tt.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,t.lastEffect=e),e}function Cm(){return tn().memoizedState}function ml(e,t,i,o){var u=An();tt.flags|=e,u.memoizedState=Ri(1|t,{destroy:void 0},i,o===void 0?null:o)}function yl(e,t,i,o){var u=tn();o=o===void 0?null:o;var d=u.memoizedState.inst;Mt!==null&&o!==null&&Bu(o,Mt.memoizedState.deps)?u.memoizedState=Ri(t,d,i,o):(tt.flags|=e,u.memoizedState=Ri(1|t,d,i,o))}function Tm(e,t){ml(8390656,8,e,t)}function Pu(e,t){yl(2048,8,e,t)}function ZS(e){tt.flags|=4;var t=tt.updateQueue;if(t===null)t=dl(),tt.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function Om(e){var t=tn().memoizedState;return ZS({ref:t,nextImpl:e}),function(){if((wt&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function Nm(e,t){return yl(4,2,e,t)}function jm(e,t){return yl(4,4,e,t)}function Am(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _m(e,t,i){i=i!=null?i.concat([e]):null,yl(4,4,Am.bind(null,t,e),i)}function Fu(){}function Dm(e,t){var i=tn();t=t===void 0?null:t;var o=i.memoizedState;return t!==null&&Bu(t,o[1])?o[0]:(i.memoizedState=[e,t],e)}function Mm(e,t){var i=tn();t=t===void 0?null:t;var o=i.memoizedState;if(t!==null&&Bu(t,o[1]))return o[0];if(o=e(),Wr){We(!0);try{e()}finally{We(!1)}}return i.memoizedState=[o,t],o}function Xu(e,t,i){return i===void 0||(Ya&1073741824)!==0&&(ut&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=Ry(),tt.lanes|=e,br|=e,i)}function Rm(e,t,i,o){return qn(i,t)?i:_i.current!==null?(e=Xu(e,i,o),qn(e,t)||(sn=!0),e):(Ya&42)===0||(Ya&1073741824)!==0&&(ut&261930)===0?(sn=!0,e.memoizedState=i):(e=Ry(),tt.lanes|=e,br|=e,t)}function zm(e,t,i,o,u){var d=H.p;H.p=d!==0&&8>d?d:8;var g=C.T,w={};C.T=w,Ju(e,!1,t,i);try{var T=u(),z=C.S;if(z!==null&&z(w,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var W=HS(T,o);Gs(e,t,W,Xn(e))}else Gs(e,t,o,Xn(e))}catch(re){Gs(e,t,{then:function(){},status:"rejected",reason:re},Xn())}finally{H.p=d,g!==null&&w.types!==null&&(g.types=w.types),C.T=g}}function PS(){}function Ku(e,t,i,o){if(e.tag!==5)throw Error(s(476));var u=Lm(e).queue;zm(e,u,t,ce,i===null?PS:function(){return Bm(e),i(o)})}function Lm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:ce},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Bm(e){var t=Lm(e);t.next===null&&(t=e.alternate.memoizedState),Gs(e,t.next.queue,{},Xn())}function Qu(){return gn(lo)}function Um(){return tn().memoizedState}function Im(){return tn().memoizedState}function FS(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Xn();e=hr(i);var o=pr(t,e,i);o!==null&&($n(o,t,i),$s(o,t,i)),t={cache:Tu()},e.payload=t;return}t=t.return}}function XS(e,t,i){var o=Xn();i={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},gl(e)?Hm(t,i):(i=mu(e,t,i,o),i!==null&&($n(i,e,o),Vm(i,t,o)))}function $m(e,t,i){var o=Xn();Gs(e,t,i,o)}function Gs(e,t,i,o){var u={lane:o,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(gl(e))Hm(t,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var g=t.lastRenderedState,w=d(g,i);if(u.hasEagerState=!0,u.eagerState=w,qn(w,g))return Qo(e,t,u,0),Lt===null&&Ko(),!1}catch{}finally{}if(i=mu(e,t,u,o),i!==null)return $n(i,e,o),Vm(i,t,o),!0}return!1}function Ju(e,t,i,o){if(o={lane:2,revertLane:_f(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},gl(e)){if(t)throw Error(s(479))}else t=mu(e,i,o,2),t!==null&&$n(t,e,2)}function gl(e){var t=e.alternate;return e===tt||t!==null&&t===tt}function Hm(e,t){Di=ul=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Vm(e,t,i){if((i&4194048)!==0){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,bs(e,i)}}var Zs={readContext:gn,use:hl,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt};Zs.useEffectEvent=Qt;var qm={readContext:gn,use:hl,useCallback:function(e,t){return An().memoizedState=[e,t===void 0?null:t],e},useContext:gn,useEffect:Tm,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,ml(4194308,4,Am.bind(null,t,e),i)},useLayoutEffect:function(e,t){return ml(4194308,4,e,t)},useInsertionEffect:function(e,t){ml(4,2,e,t)},useMemo:function(e,t){var i=An();t=t===void 0?null:t;var o=e();if(Wr){We(!0);try{e()}finally{We(!1)}}return i.memoizedState=[o,t],o},useReducer:function(e,t,i){var o=An();if(i!==void 0){var u=i(t);if(Wr){We(!0);try{i(t)}finally{We(!1)}}}else u=t;return o.memoizedState=o.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},o.queue=e,e=e.dispatch=XS.bind(null,tt,e),[o.memoizedState,e]},useRef:function(e){var t=An();return e={current:e},t.memoizedState=e},useState:function(e){e=Gu(e);var t=e.queue,i=$m.bind(null,tt,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:Fu,useDeferredValue:function(e,t){var i=An();return Xu(i,e,t)},useTransition:function(){var e=Gu(!1);return e=zm.bind(null,tt,e.queue,!0,!1),An().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var o=tt,u=An();if(pt){if(i===void 0)throw Error(s(407));i=i()}else{if(i=t(),Lt===null)throw Error(s(349));(ut&127)!==0||um(o,t,i)}u.memoizedState=i;var d={value:i,getSnapshot:t};return u.queue=d,Tm(dm.bind(null,o,d,e),[e]),o.flags|=2048,Ri(9,{destroy:void 0},fm.bind(null,o,d,i,t),null),i},useId:function(){var e=An(),t=Lt.identifierPrefix;if(pt){var i=Oa,o=Ta;i=(o&~(1<<32-Ge(o)-1)).toString(32)+i,t="_"+t+"R_"+i,i=fl++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=VS++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Qu,useFormState:Sm,useActionState:Sm,useOptimistic:function(e){var t=An();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Ju.bind(null,tt,!0,i),i.dispatch=t,[e,t]},useMemoCache:Vu,useCacheRefresh:function(){return An().memoizedState=FS.bind(null,tt)},useEffectEvent:function(e){var t=An(),i={impl:e};return t.memoizedState=i,function(){if((wt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}},Wu={readContext:gn,use:hl,useCallback:Dm,useContext:gn,useEffect:Pu,useImperativeHandle:_m,useInsertionEffect:Nm,useLayoutEffect:jm,useMemo:Mm,useReducer:pl,useRef:Cm,useState:function(){return pl(Ga)},useDebugValue:Fu,useDeferredValue:function(e,t){var i=tn();return Rm(i,Mt.memoizedState,e,t)},useTransition:function(){var e=pl(Ga)[0],t=tn().memoizedState;return[typeof e=="boolean"?e:Ys(e),t]},useSyncExternalStore:cm,useId:Um,useHostTransitionStatus:Qu,useFormState:xm,useActionState:xm,useOptimistic:function(e,t){var i=tn();return mm(i,Mt,e,t)},useMemoCache:Vu,useCacheRefresh:Im};Wu.useEffectEvent=Om;var Ym={readContext:gn,use:hl,useCallback:Dm,useContext:gn,useEffect:Pu,useImperativeHandle:_m,useInsertionEffect:Nm,useLayoutEffect:jm,useMemo:Mm,useReducer:Yu,useRef:Cm,useState:function(){return Yu(Ga)},useDebugValue:Fu,useDeferredValue:function(e,t){var i=tn();return Mt===null?Xu(i,e,t):Rm(i,Mt.memoizedState,e,t)},useTransition:function(){var e=Yu(Ga)[0],t=tn().memoizedState;return[typeof e=="boolean"?e:Ys(e),t]},useSyncExternalStore:cm,useId:Um,useHostTransitionStatus:Qu,useFormState:km,useActionState:km,useOptimistic:function(e,t){var i=tn();return Mt!==null?mm(i,Mt,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Vu,useCacheRefresh:Im};Ym.useEffectEvent=Om;function ef(e,t,i,o){t=e.memoizedState,i=i(o,t),i=i==null?t:v({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var tf={enqueueSetState:function(e,t,i){e=e._reactInternals;var o=Xn(),u=hr(o);u.payload=t,i!=null&&(u.callback=i),t=pr(e,u,o),t!==null&&($n(t,e,o),$s(t,e,o))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var o=Xn(),u=hr(o);u.tag=1,u.payload=t,i!=null&&(u.callback=i),t=pr(e,u,o),t!==null&&($n(t,e,o),$s(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Xn(),o=hr(i);o.tag=2,t!=null&&(o.callback=t),t=pr(e,o,i),t!==null&&($n(t,e,i),$s(t,e,i))}};function Gm(e,t,i,o,u,d,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,g):t.prototype&&t.prototype.isPureReactComponent?!Ds(i,o)||!Ds(u,d):!0}function Zm(e,t,i,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,o),t.state!==e&&tf.enqueueReplaceState(t,t.state,null)}function ei(e,t){var i=t;if("ref"in t){i={};for(var o in t)o!=="ref"&&(i[o]=t[o])}if(e=e.defaultProps){i===t&&(i=v({},i));for(var u in e)i[u]===void 0&&(i[u]=e[u])}return i}function Pm(e){Xo(e)}function Fm(e){console.error(e)}function Xm(e){Xo(e)}function vl(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(o){setTimeout(function(){throw o})}}function Km(e,t,i){try{var o=e.onCaughtError;o(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function nf(e,t,i){return i=hr(i),i.tag=3,i.payload={element:null},i.callback=function(){vl(e,t)},i}function Qm(e){return e=hr(e),e.tag=3,e}function Jm(e,t,i,o){var u=i.type.getDerivedStateFromError;if(typeof u=="function"){var d=o.value;e.payload=function(){return u(d)},e.callback=function(){Km(t,i,o)}}var g=i.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Km(t,i,o),typeof u!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})})}function KS(e,t,i,o,u){if(i.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(t=i.alternate,t!==null&&Ti(t,i,u,!0),i=Gn.current,i!==null){switch(i.tag){case 31:case 13:return sa===null?Al():i.alternate===null&&Jt===0&&(Jt=3),i.flags&=-257,i.flags|=65536,i.lanes=u,o===il?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([o]):t.add(o),Nf(e,o,u)),!1;case 22:return i.flags|=65536,o===il?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([o])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([o]):i.add(o)),Nf(e,o,u)),!1}throw Error(s(435,i.tag))}return Nf(e,o,u),Al(),!1}if(pt)return t=Gn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,o!==Su&&(e=Error(s(422),{cause:o}),zs(na(e,i)))):(o!==Su&&(t=Error(s(423),{cause:o}),zs(na(t,i))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,o=na(o,i),u=nf(e.stateNode,o,u),Du(e,u),Jt!==4&&(Jt=2)),!1;var d=Error(s(520),{cause:o});if(d=na(d,i),eo===null?eo=[d]:eo.push(d),Jt!==4&&(Jt=2),t===null)return!0;o=na(o,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=u&-u,i.lanes|=e,e=nf(i.stateNode,o,e),Du(i,e),!1;case 1:if(t=i.type,d=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(wr===null||!wr.has(d))))return i.flags|=65536,u&=-u,i.lanes|=u,u=Qm(u),Jm(u,e,i,o),Du(i,u),!1}i=i.return}while(i!==null);return!1}var af=Error(s(461)),sn=!1;function vn(e,t,i,o){t.child=e===null?nm(t,null,i,o):Jr(t,e.child,i,o)}function Wm(e,t,i,o,u){i=i.render;var d=t.ref;if("ref"in o){var g={};for(var w in o)w!=="ref"&&(g[w]=o[w])}else g=o;return Fr(t),o=Uu(e,t,i,g,d,u),w=Iu(),e!==null&&!sn?($u(e,t,u),Za(e,t,u)):(pt&&w&&bu(t),t.flags|=1,vn(e,t,o,u),t.child)}function ey(e,t,i,o,u){if(e===null){var d=i.type;return typeof d=="function"&&!yu(d)&&d.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=d,ty(e,t,d,o,u)):(e=Wo(i.type,null,o,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!df(e,u)){var g=d.memoizedProps;if(i=i.compare,i=i!==null?i:Ds,i(g,o)&&e.ref===t.ref)return Za(e,t,u)}return t.flags|=1,e=$a(d,o),e.ref=t.ref,e.return=t,t.child=e}function ty(e,t,i,o,u){if(e!==null){var d=e.memoizedProps;if(Ds(d,o)&&e.ref===t.ref)if(sn=!1,t.pendingProps=o=d,df(e,u))(e.flags&131072)!==0&&(sn=!0);else return t.lanes=e.lanes,Za(e,t,u)}return rf(e,t,i,o,u)}function ny(e,t,i,o){var u=o.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|i:i,e!==null){for(o=t.child=e.child,u=0;o!==null;)u=u|o.lanes|o.childLanes,o=o.sibling;o=u&~d}else o=0,t.child=null;return ay(e,t,d,i,o)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&al(t,d!==null?d.cachePool:null),d!==null?im(t,d):Ru(),sm(t);else return o=t.lanes=536870912,ay(e,t,d!==null?d.baseLanes|i:i,i,o)}else d!==null?(al(t,d.cachePool),im(t,d),yr(),t.memoizedState=null):(e!==null&&al(t,null),Ru(),yr());return vn(e,t,u,i),t.child}function Ps(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function ay(e,t,i,o,u){var d=Nu();return d=d===null?null:{parent:an._currentValue,pool:d},t.memoizedState={baseLanes:i,cachePool:d},e!==null&&al(t,null),Ru(),sm(t),e!==null&&Ti(e,t,o,!0),t.childLanes=u,null}function bl(e,t){return t=Sl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function ry(e,t,i){return Jr(t,e.child,null,i),e=bl(t,t.pendingProps),e.flags|=2,Zn(t),t.memoizedState=null,e}function QS(e,t,i){var o=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(pt){if(o.mode==="hidden")return e=bl(t,o),t.lanes=536870912,Ps(null,e);if(Lu(t),(e=It)?(e=yg(e,ia),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:lr!==null?{id:Ta,overflow:Oa}:null,retryLane:536870912,hydrationErrors:null},i=Hp(e),i.return=t,t.child=i,yn=t,It=null)):e=null,e===null)throw ur(t);return t.lanes=536870912,null}return bl(t,o)}var d=e.memoizedState;if(d!==null){var g=d.dehydrated;if(Lu(t),u)if(t.flags&256)t.flags&=-257,t=ry(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(sn||Ti(e,t,i,!1),u=(i&e.childLanes)!==0,sn||u){if(o=Lt,o!==null&&(g=ws(o,i),g!==0&&g!==d.retryLane))throw d.retryLane=g,Yr(e,g),$n(o,e,g),af;Al(),t=ry(e,t,i)}else e=d.treeContext,It=oa(g.nextSibling),yn=t,pt=!0,cr=null,ia=!1,e!==null&&Yp(t,e),t=bl(t,o),t.flags|=4096;return t}return e=$a(e.child,{mode:o.mode,children:o.children}),e.ref=t.ref,t.child=e,e.return=t,e}function wl(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function rf(e,t,i,o,u){return Fr(t),i=Uu(e,t,i,o,void 0,u),o=Iu(),e!==null&&!sn?($u(e,t,u),Za(e,t,u)):(pt&&o&&bu(t),t.flags|=1,vn(e,t,i,u),t.child)}function iy(e,t,i,o,u,d){return Fr(t),t.updateQueue=null,i=lm(t,o,i,u),om(e),o=Iu(),e!==null&&!sn?($u(e,t,d),Za(e,t,d)):(pt&&o&&bu(t),t.flags|=1,vn(e,t,i,d),t.child)}function sy(e,t,i,o,u){if(Fr(t),t.stateNode===null){var d=xi,g=i.contextType;typeof g=="object"&&g!==null&&(d=gn(g)),d=new i(o,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=tf,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=o,d.state=t.memoizedState,d.refs={},Au(t),g=i.contextType,d.context=typeof g=="object"&&g!==null?gn(g):xi,d.state=t.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(ef(t,i,g,o),d.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(g=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),g!==d.state&&tf.enqueueReplaceState(d,d.state,null),Vs(t,o,d,u),Hs(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),o=!0}else if(e===null){d=t.stateNode;var w=t.memoizedProps,T=ei(i,w);d.props=T;var z=d.context,W=i.contextType;g=xi,typeof W=="object"&&W!==null&&(g=gn(W));var re=i.getDerivedStateFromProps;W=typeof re=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=t.pendingProps!==w,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||z!==g)&&Zm(t,d,o,g),dr=!1;var B=t.memoizedState;d.state=B,Vs(t,o,d,u),Hs(),z=t.memoizedState,w||B!==z||dr?(typeof re=="function"&&(ef(t,i,re,o),z=t.memoizedState),(T=dr||Gm(t,i,T,o,B,z,g))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=z),d.props=o,d.state=z,d.context=g,o=T):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{d=t.stateNode,_u(e,t),g=t.memoizedProps,W=ei(i,g),d.props=W,re=t.pendingProps,B=d.context,z=i.contextType,T=xi,typeof z=="object"&&z!==null&&(T=gn(z)),w=i.getDerivedStateFromProps,(z=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(g!==re||B!==T)&&Zm(t,d,o,T),dr=!1,B=t.memoizedState,d.state=B,Vs(t,o,d,u),Hs();var Y=t.memoizedState;g!==re||B!==Y||dr||e!==null&&e.dependencies!==null&&tl(e.dependencies)?(typeof w=="function"&&(ef(t,i,w,o),Y=t.memoizedState),(W=dr||Gm(t,i,W,o,B,Y,T)||e!==null&&e.dependencies!==null&&tl(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,Y,T),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,Y,T)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=Y),d.props=o,d.state=Y,d.context=T,o=W):(typeof d.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(t.flags|=1024),o=!1)}return d=o,wl(e,t),o=(t.flags&128)!==0,d||o?(d=t.stateNode,i=o&&typeof i.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&o?(t.child=Jr(t,e.child,null,u),t.child=Jr(t,null,i,u)):vn(e,t,i,u),t.memoizedState=d.state,e=t.child):e=Za(e,t,u),e}function oy(e,t,i,o){return Zr(),t.flags|=256,vn(e,t,i,o),t.child}var sf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function of(e){return{baseLanes:e,cachePool:Kp()}}function lf(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Fn),e}function ly(e,t,i){var o=t.pendingProps,u=!1,d=(t.flags&128)!==0,g;if((g=d)||(g=e!==null&&e.memoizedState===null?!1:(en.current&2)!==0),g&&(u=!0,t.flags&=-129),g=(t.flags&32)!==0,t.flags&=-33,e===null){if(pt){if(u?mr(t):yr(),(e=It)?(e=yg(e,ia),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:lr!==null?{id:Ta,overflow:Oa}:null,retryLane:536870912,hydrationErrors:null},i=Hp(e),i.return=t,t.child=i,yn=t,It=null)):e=null,e===null)throw ur(t);return Yf(e)?t.lanes=32:t.lanes=536870912,null}var w=o.children;return o=o.fallback,u?(yr(),u=t.mode,w=Sl({mode:"hidden",children:w},u),o=Gr(o,u,i,null),w.return=t,o.return=t,w.sibling=o,t.child=w,o=t.child,o.memoizedState=of(i),o.childLanes=lf(e,g,i),t.memoizedState=sf,Ps(null,o)):(mr(t),cf(t,w))}var T=e.memoizedState;if(T!==null&&(w=T.dehydrated,w!==null)){if(d)t.flags&256?(mr(t),t.flags&=-257,t=uf(e,t,i)):t.memoizedState!==null?(yr(),t.child=e.child,t.flags|=128,t=null):(yr(),w=o.fallback,u=t.mode,o=Sl({mode:"visible",children:o.children},u),w=Gr(w,u,i,null),w.flags|=2,o.return=t,w.return=t,o.sibling=w,t.child=o,Jr(t,e.child,null,i),o=t.child,o.memoizedState=of(i),o.childLanes=lf(e,g,i),t.memoizedState=sf,t=Ps(null,o));else if(mr(t),Yf(w)){if(g=w.nextSibling&&w.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(s(419)),o.stack="",o.digest=g,zs({value:o,source:null,stack:null}),t=uf(e,t,i)}else if(sn||Ti(e,t,i,!1),g=(i&e.childLanes)!==0,sn||g){if(g=Lt,g!==null&&(o=ws(g,i),o!==0&&o!==T.retryLane))throw T.retryLane=o,Yr(e,o),$n(g,e,o),af;qf(w)||Al(),t=uf(e,t,i)}else qf(w)?(t.flags|=192,t.child=e.child,t=null):(e=T.treeContext,It=oa(w.nextSibling),yn=t,pt=!0,cr=null,ia=!1,e!==null&&Yp(t,e),t=cf(t,o.children),t.flags|=4096);return t}return u?(yr(),w=o.fallback,u=t.mode,T=e.child,z=T.sibling,o=$a(T,{mode:"hidden",children:o.children}),o.subtreeFlags=T.subtreeFlags&65011712,z!==null?w=$a(z,w):(w=Gr(w,u,i,null),w.flags|=2),w.return=t,o.return=t,o.sibling=w,t.child=o,Ps(null,o),o=t.child,w=e.child.memoizedState,w===null?w=of(i):(u=w.cachePool,u!==null?(T=an._currentValue,u=u.parent!==T?{parent:T,pool:T}:u):u=Kp(),w={baseLanes:w.baseLanes|i,cachePool:u}),o.memoizedState=w,o.childLanes=lf(e,g,i),t.memoizedState=sf,Ps(e.child,o)):(mr(t),i=e.child,e=i.sibling,i=$a(i,{mode:"visible",children:o.children}),i.return=t,i.sibling=null,e!==null&&(g=t.deletions,g===null?(t.deletions=[e],t.flags|=16):g.push(e)),t.child=i,t.memoizedState=null,i)}function cf(e,t){return t=Sl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Sl(e,t){return e=Yn(22,e,null,t),e.lanes=0,e}function uf(e,t,i){return Jr(t,e.child,null,i),e=cf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cy(e,t,i){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),ku(e.return,t,i)}function ff(e,t,i,o,u,d){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:u,treeForkCount:d}:(g.isBackwards=t,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=i,g.tailMode=u,g.treeForkCount=d)}function uy(e,t,i){var o=t.pendingProps,u=o.revealOrder,d=o.tail;o=o.children;var g=en.current,w=(g&2)!==0;if(w?(g=g&1|2,t.flags|=128):g&=1,A(en,g),vn(e,t,o,i),o=pt?Rs:0,!w&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cy(e,i,t);else if(e.tag===19)cy(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(i=t.child,u=null;i!==null;)e=i.alternate,e!==null&&cl(e)===null&&(u=i),i=i.sibling;i=u,i===null?(u=t.child,t.child=null):(u=i.sibling,i.sibling=null),ff(t,!1,u,i,d,o);break;case"backwards":case"unstable_legacy-backwards":for(i=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&cl(e)===null){t.child=u;break}e=u.sibling,u.sibling=i,i=u,u=e}ff(t,!0,i,null,d,o);break;case"together":ff(t,!1,null,null,void 0,o);break;default:t.memoizedState=null}return t.child}function Za(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),br|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(Ti(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,i=$a(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=$a(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function df(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&tl(e)))}function JS(e,t,i){switch(t.tag){case 3:it(t,t.stateNode.containerInfo),fr(t,an,e.memoizedState.cache),Zr();break;case 27:case 5:Wt(t);break;case 4:it(t,t.stateNode.containerInfo);break;case 10:fr(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Lu(t),null;break;case 13:var o=t.memoizedState;if(o!==null)return o.dehydrated!==null?(mr(t),t.flags|=128,null):(i&t.child.childLanes)!==0?ly(e,t,i):(mr(t),e=Za(e,t,i),e!==null?e.sibling:null);mr(t);break;case 19:var u=(e.flags&128)!==0;if(o=(i&t.childLanes)!==0,o||(Ti(e,t,i,!1),o=(i&t.childLanes)!==0),u){if(o)return uy(e,t,i);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),A(en,en.current),o)break;return null;case 22:return t.lanes=0,ny(e,t,i,t.pendingProps);case 24:fr(t,an,e.memoizedState.cache)}return Za(e,t,i)}function fy(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)sn=!0;else{if(!df(e,i)&&(t.flags&128)===0)return sn=!1,JS(e,t,i);sn=(e.flags&131072)!==0}else sn=!1,pt&&(t.flags&1048576)!==0&&qp(t,Rs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var o=t.pendingProps;if(e=Kr(t.elementType),t.type=e,typeof e=="function")yu(e)?(o=ei(e,o),t.tag=1,t=sy(null,t,e,o,i)):(t.tag=0,t=rf(null,t,e,o,i));else{if(e!=null){var u=e.$$typeof;if(u===P){t.tag=11,t=Wm(null,t,e,o,i);break e}else if(u===I){t.tag=14,t=ey(null,t,e,o,i);break e}}throw t=Ye(e)||e,Error(s(306,t,""))}}return t;case 0:return rf(e,t,t.type,t.pendingProps,i);case 1:return o=t.type,u=ei(o,t.pendingProps),sy(e,t,o,u,i);case 3:e:{if(it(t,t.stateNode.containerInfo),e===null)throw Error(s(387));o=t.pendingProps;var d=t.memoizedState;u=d.element,_u(e,t),Vs(t,o,null,i);var g=t.memoizedState;if(o=g.cache,fr(t,an,o),o!==d.cache&&Cu(t,[an],i,!0),Hs(),o=g.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:g.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=oy(e,t,o,i);break e}else if(o!==u){u=na(Error(s(424)),t),zs(u),t=oy(e,t,o,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(It=oa(e.firstChild),yn=t,pt=!0,cr=null,ia=!0,i=nm(t,null,o,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Zr(),o===u){t=Za(e,t,i);break e}vn(e,t,o,i)}t=t.child}return t;case 26:return wl(e,t),e===null?(i=xg(t.type,null,t.pendingProps,null))?t.memoizedState=i:pt||(i=t.type,e=t.pendingProps,o=Bl(Oe.current).createElement(i),o[Ut]=t,o[nn]=e,bn(o,i,e),ct(o),t.stateNode=o):t.memoizedState=xg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Wt(t),e===null&&pt&&(o=t.stateNode=bg(t.type,t.pendingProps,Oe.current),yn=t,ia=!0,u=It,kr(t.type)?(Gf=u,It=oa(o.firstChild)):It=u),vn(e,t,t.pendingProps.children,i),wl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&pt&&((u=o=It)&&(o=Nx(o,t.type,t.pendingProps,ia),o!==null?(t.stateNode=o,yn=t,It=oa(o.firstChild),ia=!1,u=!0):u=!1),u||ur(t)),Wt(t),u=t.type,d=t.pendingProps,g=e!==null?e.memoizedProps:null,o=d.children,$f(u,d)?o=null:g!==null&&$f(u,g)&&(t.flags|=32),t.memoizedState!==null&&(u=Uu(e,t,qS,null,null,i),lo._currentValue=u),wl(e,t),vn(e,t,o,i),t.child;case 6:return e===null&&pt&&((e=i=It)&&(i=jx(i,t.pendingProps,ia),i!==null?(t.stateNode=i,yn=t,It=null,e=!0):e=!1),e||ur(t)),null;case 13:return ly(e,t,i);case 4:return it(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=Jr(t,null,o,i):vn(e,t,o,i),t.child;case 11:return Wm(e,t,t.type,t.pendingProps,i);case 7:return vn(e,t,t.pendingProps,i),t.child;case 8:return vn(e,t,t.pendingProps.children,i),t.child;case 12:return vn(e,t,t.pendingProps.children,i),t.child;case 10:return o=t.pendingProps,fr(t,t.type,o.value),vn(e,t,o.children,i),t.child;case 9:return u=t.type._context,o=t.pendingProps.children,Fr(t),u=gn(u),o=o(u),t.flags|=1,vn(e,t,o,i),t.child;case 14:return ey(e,t,t.type,t.pendingProps,i);case 15:return ty(e,t,t.type,t.pendingProps,i);case 19:return uy(e,t,i);case 31:return QS(e,t,i);case 22:return ny(e,t,i,t.pendingProps);case 24:return Fr(t),o=gn(an),e===null?(u=Nu(),u===null&&(u=Lt,d=Tu(),u.pooledCache=d,d.refCount++,d!==null&&(u.pooledCacheLanes|=i),u=d),t.memoizedState={parent:o,cache:u},Au(t),fr(t,an,u)):((e.lanes&i)!==0&&(_u(e,t),Vs(t,null,null,i),Hs()),u=e.memoizedState,d=t.memoizedState,u.parent!==o?(u={parent:o,cache:o},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),fr(t,an,o)):(o=d.cache,fr(t,an,o),o!==u.cache&&Cu(t,[an],i,!0))),vn(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Pa(e){e.flags|=4}function hf(e,t,i,o,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Uy())e.flags|=8192;else throw Qr=il,ju}else e.flags&=-16777217}function dy(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Og(t))if(Uy())e.flags|=8192;else throw Qr=il,ju}function xl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ie():536870912,e.lanes|=t,Ui|=t)}function Fs(e,t){if(!pt)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function $t(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(t)for(var u=e.child;u!==null;)i|=u.lanes|u.childLanes,o|=u.subtreeFlags&65011712,o|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)i|=u.lanes|u.childLanes,o|=u.subtreeFlags,o|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=o,e.childLanes=i,t}function WS(e,t,i){var o=t.pendingProps;switch(wu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(t),null;case 1:return $t(t),null;case 3:return i=t.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),t.memoizedState.cache!==o&&(t.flags|=2048),qa(an),Je(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Ci(t)?Pa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,xu())),$t(t),null;case 26:var u=t.type,d=t.memoizedState;return e===null?(Pa(t),d!==null?($t(t),dy(t,d)):($t(t),hf(t,u,null,o,i))):d?d!==e.memoizedState?(Pa(t),$t(t),dy(t,d)):($t(t),t.flags&=-16777217):(e=e.memoizedProps,e!==o&&Pa(t),$t(t),hf(t,u,e,o,i)),null;case 27:if(Yt(t),i=Oe.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==o&&Pa(t);else{if(!o){if(t.stateNode===null)throw Error(s(166));return $t(t),null}e=$.current,Ci(t)?Gp(t):(e=bg(u,o,i),t.stateNode=e,Pa(t))}return $t(t),null;case 5:if(Yt(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==o&&Pa(t);else{if(!o){if(t.stateNode===null)throw Error(s(166));return $t(t),null}if(d=$.current,Ci(t))Gp(t);else{var g=Bl(Oe.current);switch(d){case 1:d=g.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:d=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":d=g.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":d=g.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":d=g.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?g.createElement(u,{is:o.is}):g.createElement(u)}}d[Ut]=t,d[nn]=o;e:for(g=t.child;g!==null;){if(g.tag===5||g.tag===6)d.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}t.stateNode=d;e:switch(bn(d,u,o),u){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Pa(t)}}return $t(t),hf(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==o&&Pa(t);else{if(typeof o!="string"&&t.stateNode===null)throw Error(s(166));if(e=Oe.current,Ci(t)){if(e=t.stateNode,i=t.memoizedProps,o=null,u=yn,u!==null)switch(u.tag){case 27:case 5:o=u.memoizedProps}e[Ut]=t,e=!!(e.nodeValue===i||o!==null&&o.suppressHydrationWarning===!0||lg(e.nodeValue,i)),e||ur(t,!0)}else e=Bl(e).createTextNode(o),e[Ut]=t,t.stateNode=e}return $t(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(o=Ci(t),i!==null){if(e===null){if(!o)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Ut]=t}else Zr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;$t(t),e=!1}else i=xu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(Zn(t),t):(Zn(t),null);if((t.flags&128)!==0)throw Error(s(558))}return $t(t),null;case 13:if(o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Ci(t),o!==null&&o.dehydrated!==null){if(e===null){if(!u)throw Error(s(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(s(317));u[Ut]=t}else Zr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;$t(t),u=!1}else u=xu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(Zn(t),t):(Zn(t),null)}return Zn(t),(t.flags&128)!==0?(t.lanes=i,t):(i=o!==null,e=e!==null&&e.memoizedState!==null,i&&(o=t.child,u=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(u=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==u&&(o.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),xl(t,t.updateQueue),$t(t),null);case 4:return Je(),e===null&&zf(t.stateNode.containerInfo),$t(t),null;case 10:return qa(t.type),$t(t),null;case 19:if(R(en),o=t.memoizedState,o===null)return $t(t),null;if(u=(t.flags&128)!==0,d=o.rendering,d===null)if(u)Fs(o,!1);else{if(Jt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=cl(e),d!==null){for(t.flags|=128,Fs(o,!1),e=d.updateQueue,t.updateQueue=e,xl(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)$p(i,e),i=i.sibling;return A(en,en.current&1|2),pt&&Ha(t,o.treeForkCount),t.child}e=e.sibling}o.tail!==null&&ae()>Ol&&(t.flags|=128,u=!0,Fs(o,!1),t.lanes=4194304)}else{if(!u)if(e=cl(d),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,xl(t,e),Fs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!pt)return $t(t),null}else 2*ae()-o.renderingStartTime>Ol&&i!==536870912&&(t.flags|=128,u=!0,Fs(o,!1),t.lanes=4194304);o.isBackwards?(d.sibling=t.child,t.child=d):(e=o.last,e!==null?e.sibling=d:t.child=d,o.last=d)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ae(),e.sibling=null,i=en.current,A(en,u?i&1|2:i&1),pt&&Ha(t,o.treeForkCount),e):($t(t),null);case 22:case 23:return Zn(t),zu(),o=t.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(t.flags|=8192):o&&(t.flags|=8192),o?(i&536870912)!==0&&(t.flags&128)===0&&($t(t),t.subtreeFlags&6&&(t.flags|=8192)):$t(t),i=t.updateQueue,i!==null&&xl(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),o=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),o!==i&&(t.flags|=2048),e!==null&&R(Xr),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),qa(an),$t(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function ex(e,t){switch(wu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qa(an),Je(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Yt(t),null;case 31:if(t.memoizedState!==null){if(Zn(t),t.alternate===null)throw Error(s(340));Zr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Zn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Zr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return R(en),null;case 4:return Je(),null;case 10:return qa(t.type),null;case 22:case 23:return Zn(t),zu(),e!==null&&R(Xr),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return qa(an),null;case 25:return null;default:return null}}function hy(e,t){switch(wu(t),t.tag){case 3:qa(an),Je();break;case 26:case 27:case 5:Yt(t);break;case 4:Je();break;case 31:t.memoizedState!==null&&Zn(t);break;case 13:Zn(t);break;case 19:R(en);break;case 10:qa(t.type);break;case 22:case 23:Zn(t),zu(),e!==null&&R(Xr);break;case 24:qa(an)}}function Xs(e,t){try{var i=t.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var u=o.next;i=u;do{if((i.tag&e)===e){o=void 0;var d=i.create,g=i.inst;o=d(),g.destroy=o}i=i.next}while(i!==u)}}catch(w){Nt(t,t.return,w)}}function gr(e,t,i){try{var o=t.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&e)===e){var g=o.inst,w=g.destroy;if(w!==void 0){g.destroy=void 0,u=t;var T=i,z=w;try{z()}catch(W){Nt(u,T,W)}}}o=o.next}while(o!==d)}}catch(W){Nt(t,t.return,W)}}function py(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{rm(t,i)}catch(o){Nt(e,e.return,o)}}}function my(e,t,i){i.props=ei(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(o){Nt(e,t,o)}}function Ks(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof i=="function"?e.refCleanup=i(o):i.current=o}}catch(u){Nt(e,t,u)}}function Na(e,t){var i=e.ref,o=e.refCleanup;if(i!==null)if(typeof o=="function")try{o()}catch(u){Nt(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(u){Nt(e,t,u)}else i.current=null}function yy(e){var t=e.type,i=e.memoizedProps,o=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&o.focus();break e;case"img":i.src?o.src=i.src:i.srcSet&&(o.srcset=i.srcSet)}}catch(u){Nt(e,e.return,u)}}function pf(e,t,i){try{var o=e.stateNode;xx(o,e.type,i,t),o[nn]=t}catch(u){Nt(e,e.return,u)}}function gy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&kr(e.type)||e.tag===4}function mf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&kr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yf(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Ua));else if(o!==4&&(o===27&&kr(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(yf(e,t,i),e=e.sibling;e!==null;)yf(e,t,i),e=e.sibling}function El(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(o!==4&&(o===27&&kr(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(El(e,t,i),e=e.sibling;e!==null;)El(e,t,i),e=e.sibling}function vy(e){var t=e.stateNode,i=e.memoizedProps;try{for(var o=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);bn(t,o,i),t[Ut]=e,t[nn]=i}catch(d){Nt(e,e.return,d)}}var Fa=!1,on=!1,gf=!1,by=typeof WeakSet=="function"?WeakSet:Set,hn=null;function tx(e,t){if(e=e.containerInfo,Uf=Yl,e=_p(e),cu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var u=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var g=0,w=-1,T=-1,z=0,W=0,re=e,B=null;t:for(;;){for(var Y;re!==i||u!==0&&re.nodeType!==3||(w=g+u),re!==d||o!==0&&re.nodeType!==3||(T=g+o),re.nodeType===3&&(g+=re.nodeValue.length),(Y=re.firstChild)!==null;)B=re,re=Y;for(;;){if(re===e)break t;if(B===i&&++z===u&&(w=g),B===d&&++W===o&&(T=g),(Y=re.nextSibling)!==null)break;re=B,B=re.parentNode}re=Y}i=w===-1||T===-1?null:{start:w,end:T}}else i=null}i=i||{start:0,end:0}}else i=null;for(If={focusedElem:e,selectionRange:i},Yl=!1,hn=t;hn!==null;)if(t=hn,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,hn=e;else for(;hn!==null;){switch(t=hn,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)u=e[i],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,i=t,u=d.memoizedProps,d=d.memoizedState,o=i.stateNode;try{var Ae=ei(i.type,u);e=o.getSnapshotBeforeUpdate(Ae,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(Ze){Nt(i,i.return,Ze)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Vf(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Vf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,hn=e;break}hn=t.return}}function wy(e,t,i){var o=i.flags;switch(i.tag){case 0:case 11:case 15:Ka(e,i),o&4&&Xs(5,i);break;case 1:if(Ka(e,i),o&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(g){Nt(i,i.return,g)}else{var u=ei(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Nt(i,i.return,g)}}o&64&&py(i),o&512&&Ks(i,i.return);break;case 3:if(Ka(e,i),o&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{rm(e,t)}catch(g){Nt(i,i.return,g)}}break;case 27:t===null&&o&4&&vy(i);case 26:case 5:Ka(e,i),t===null&&o&4&&yy(i),o&512&&Ks(i,i.return);break;case 12:Ka(e,i);break;case 31:Ka(e,i),o&4&&Ey(e,i);break;case 13:Ka(e,i),o&4&&ky(e,i),o&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=ux.bind(null,i),Ax(e,i))));break;case 22:if(o=i.memoizedState!==null||Fa,!o){t=t!==null&&t.memoizedState!==null||on,u=Fa;var d=on;Fa=o,(on=t)&&!d?Qa(e,i,(i.subtreeFlags&8772)!==0):Ka(e,i),Fa=u,on=d}break;case 30:break;default:Ka(e,i)}}function Sy(e){var t=e.alternate;t!==null&&(e.alternate=null,Sy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Re(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qt=null,Ln=!1;function Xa(e,t,i){for(i=i.child;i!==null;)xy(e,t,i),i=i.sibling}function xy(e,t,i){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(xt,i)}catch{}switch(i.tag){case 26:on||Na(i,t),Xa(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:on||Na(i,t);var o=qt,u=Ln;kr(i.type)&&(qt=i.stateNode,Ln=!1),Xa(e,t,i),io(i.stateNode),qt=o,Ln=u;break;case 5:on||Na(i,t);case 6:if(o=qt,u=Ln,qt=null,Xa(e,t,i),qt=o,Ln=u,qt!==null)if(Ln)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(i.stateNode)}catch(d){Nt(i,t,d)}else try{qt.removeChild(i.stateNode)}catch(d){Nt(i,t,d)}break;case 18:qt!==null&&(Ln?(e=qt,pg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Zi(e)):pg(qt,i.stateNode));break;case 4:o=qt,u=Ln,qt=i.stateNode.containerInfo,Ln=!0,Xa(e,t,i),qt=o,Ln=u;break;case 0:case 11:case 14:case 15:gr(2,i,t),on||gr(4,i,t),Xa(e,t,i);break;case 1:on||(Na(i,t),o=i.stateNode,typeof o.componentWillUnmount=="function"&&my(i,t,o)),Xa(e,t,i);break;case 21:Xa(e,t,i);break;case 22:on=(o=on)||i.memoizedState!==null,Xa(e,t,i),on=o;break;default:Xa(e,t,i)}}function Ey(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Zi(e)}catch(i){Nt(t,t.return,i)}}}function ky(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Zi(e)}catch(i){Nt(t,t.return,i)}}function nx(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new by),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new by),t;default:throw Error(s(435,e.tag))}}function kl(e,t){var i=nx(e);t.forEach(function(o){if(!i.has(o)){i.add(o);var u=fx.bind(null,e,o);o.then(u,u)}})}function Bn(e,t){var i=t.deletions;if(i!==null)for(var o=0;o<i.length;o++){var u=i[o],d=e,g=t,w=g;e:for(;w!==null;){switch(w.tag){case 27:if(kr(w.type)){qt=w.stateNode,Ln=!1;break e}break;case 5:qt=w.stateNode,Ln=!1;break e;case 3:case 4:qt=w.stateNode.containerInfo,Ln=!0;break e}w=w.return}if(qt===null)throw Error(s(160));xy(d,g,u),qt=null,Ln=!1,d=u.alternate,d!==null&&(d.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Cy(t,e),t=t.sibling}var ya=null;function Cy(e,t){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Bn(t,e),Un(e),o&4&&(gr(3,e,e.return),Xs(3,e),gr(5,e,e.return));break;case 1:Bn(t,e),Un(e),o&512&&(on||i===null||Na(i,i.return)),o&64&&Fa&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?o:i.concat(o))));break;case 26:var u=ya;if(Bn(t,e),Un(e),o&512&&(on||i===null||Na(i,i.return)),o&4){var d=i!==null?i.memoizedState:null;if(o=e.memoizedState,i===null)if(o===null)if(e.stateNode===null){e:{o=e.type,i=e.memoizedProps,u=u.ownerDocument||u;t:switch(o){case"title":d=u.getElementsByTagName("title")[0],(!d||d[ge]||d[Ut]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=u.createElement(o),u.head.insertBefore(d,u.querySelector("head > title"))),bn(d,o,i),d[Ut]=e,ct(d),o=d;break e;case"link":var g=Cg("link","href",u).get(o+(i.href||""));if(g){for(var w=0;w<g.length;w++)if(d=g[w],d.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&d.getAttribute("rel")===(i.rel==null?null:i.rel)&&d.getAttribute("title")===(i.title==null?null:i.title)&&d.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){g.splice(w,1);break t}}d=u.createElement(o),bn(d,o,i),u.head.appendChild(d);break;case"meta":if(g=Cg("meta","content",u).get(o+(i.content||""))){for(w=0;w<g.length;w++)if(d=g[w],d.getAttribute("content")===(i.content==null?null:""+i.content)&&d.getAttribute("name")===(i.name==null?null:i.name)&&d.getAttribute("property")===(i.property==null?null:i.property)&&d.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&d.getAttribute("charset")===(i.charSet==null?null:i.charSet)){g.splice(w,1);break t}}d=u.createElement(o),bn(d,o,i),u.head.appendChild(d);break;default:throw Error(s(468,o))}d[Ut]=e,ct(d),o=d}e.stateNode=o}else Tg(u,e.type,e.stateNode);else e.stateNode=kg(u,o,e.memoizedProps);else d!==o?(d===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):d.count--,o===null?Tg(u,e.type,e.stateNode):kg(u,o,e.memoizedProps)):o===null&&e.stateNode!==null&&pf(e,e.memoizedProps,i.memoizedProps)}break;case 27:Bn(t,e),Un(e),o&512&&(on||i===null||Na(i,i.return)),i!==null&&o&4&&pf(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Bn(t,e),Un(e),o&512&&(on||i===null||Na(i,i.return)),e.flags&32){u=e.stateNode;try{mi(u,"")}catch(Ae){Nt(e,e.return,Ae)}}o&4&&e.stateNode!=null&&(u=e.memoizedProps,pf(e,u,i!==null?i.memoizedProps:u)),o&1024&&(gf=!0);break;case 6:if(Bn(t,e),Un(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,i=e.stateNode;try{i.nodeValue=o}catch(Ae){Nt(e,e.return,Ae)}}break;case 3:if($l=null,u=ya,ya=Ul(t.containerInfo),Bn(t,e),ya=u,Un(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{Zi(t.containerInfo)}catch(Ae){Nt(e,e.return,Ae)}gf&&(gf=!1,Ty(e));break;case 4:o=ya,ya=Ul(e.stateNode.containerInfo),Bn(t,e),Un(e),ya=o;break;case 12:Bn(t,e),Un(e);break;case 31:Bn(t,e),Un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,kl(e,o)));break;case 13:Bn(t,e),Un(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Tl=ae()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,kl(e,o)));break;case 22:u=e.memoizedState!==null;var T=i!==null&&i.memoizedState!==null,z=Fa,W=on;if(Fa=z||u,on=W||T,Bn(t,e),on=W,Fa=z,Un(e),o&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(i===null||T||Fa||on||ti(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){T=i=t;try{if(d=T.stateNode,u)g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{w=T.stateNode;var re=T.memoizedProps.style,B=re!=null&&re.hasOwnProperty("display")?re.display:null;w.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(Ae){Nt(T,T.return,Ae)}}}else if(t.tag===6){if(i===null){T=t;try{T.stateNode.nodeValue=u?"":T.memoizedProps}catch(Ae){Nt(T,T.return,Ae)}}}else if(t.tag===18){if(i===null){T=t;try{var Y=T.stateNode;u?mg(Y,!0):mg(T.stateNode,!1)}catch(Ae){Nt(T,T.return,Ae)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}o&4&&(o=e.updateQueue,o!==null&&(i=o.retryQueue,i!==null&&(o.retryQueue=null,kl(e,i))));break;case 19:Bn(t,e),Un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,kl(e,o)));break;case 30:break;case 21:break;default:Bn(t,e),Un(e)}}function Un(e){var t=e.flags;if(t&2){try{for(var i,o=e.return;o!==null;){if(gy(o)){i=o;break}o=o.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var u=i.stateNode,d=mf(e);El(e,d,u);break;case 5:var g=i.stateNode;i.flags&32&&(mi(g,""),i.flags&=-33);var w=mf(e);El(e,w,g);break;case 3:case 4:var T=i.stateNode.containerInfo,z=mf(e);yf(e,z,T);break;default:throw Error(s(161))}}catch(W){Nt(e,e.return,W)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Ty(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Ty(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ka(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)wy(e,t.alternate,t),t=t.sibling}function ti(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:gr(4,t,t.return),ti(t);break;case 1:Na(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&my(t,t.return,i),ti(t);break;case 27:io(t.stateNode);case 26:case 5:Na(t,t.return),ti(t);break;case 22:t.memoizedState===null&&ti(t);break;case 30:ti(t);break;default:ti(t)}e=e.sibling}}function Qa(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var o=t.alternate,u=e,d=t,g=d.flags;switch(d.tag){case 0:case 11:case 15:Qa(u,d,i),Xs(4,d);break;case 1:if(Qa(u,d,i),o=d,u=o.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(z){Nt(o,o.return,z)}if(o=d,u=o.updateQueue,u!==null){var w=o.stateNode;try{var T=u.shared.hiddenCallbacks;if(T!==null)for(u.shared.hiddenCallbacks=null,u=0;u<T.length;u++)am(T[u],w)}catch(z){Nt(o,o.return,z)}}i&&g&64&&py(d),Ks(d,d.return);break;case 27:vy(d);case 26:case 5:Qa(u,d,i),i&&o===null&&g&4&&yy(d),Ks(d,d.return);break;case 12:Qa(u,d,i);break;case 31:Qa(u,d,i),i&&g&4&&Ey(u,d);break;case 13:Qa(u,d,i),i&&g&4&&ky(u,d);break;case 22:d.memoizedState===null&&Qa(u,d,i),Ks(d,d.return);break;case 30:break;default:Qa(u,d,i)}t=t.sibling}}function vf(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Ls(i))}function bf(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ls(e))}function ga(e,t,i,o){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Oy(e,t,i,o),t=t.sibling}function Oy(e,t,i,o){var u=t.flags;switch(t.tag){case 0:case 11:case 15:ga(e,t,i,o),u&2048&&Xs(9,t);break;case 1:ga(e,t,i,o);break;case 3:ga(e,t,i,o),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ls(e)));break;case 12:if(u&2048){ga(e,t,i,o),e=t.stateNode;try{var d=t.memoizedProps,g=d.id,w=d.onPostCommit;typeof w=="function"&&w(g,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(T){Nt(t,t.return,T)}}else ga(e,t,i,o);break;case 31:ga(e,t,i,o);break;case 13:ga(e,t,i,o);break;case 23:break;case 22:d=t.stateNode,g=t.alternate,t.memoizedState!==null?d._visibility&2?ga(e,t,i,o):Qs(e,t):d._visibility&2?ga(e,t,i,o):(d._visibility|=2,zi(e,t,i,o,(t.subtreeFlags&10256)!==0||!1)),u&2048&&vf(g,t);break;case 24:ga(e,t,i,o),u&2048&&bf(t.alternate,t);break;default:ga(e,t,i,o)}}function zi(e,t,i,o,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,g=t,w=i,T=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:zi(d,g,w,T,u),Xs(8,g);break;case 23:break;case 22:var W=g.stateNode;g.memoizedState!==null?W._visibility&2?zi(d,g,w,T,u):Qs(d,g):(W._visibility|=2,zi(d,g,w,T,u)),u&&z&2048&&vf(g.alternate,g);break;case 24:zi(d,g,w,T,u),u&&z&2048&&bf(g.alternate,g);break;default:zi(d,g,w,T,u)}t=t.sibling}}function Qs(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,o=t,u=o.flags;switch(o.tag){case 22:Qs(i,o),u&2048&&vf(o.alternate,o);break;case 24:Qs(i,o),u&2048&&bf(o.alternate,o);break;default:Qs(i,o)}t=t.sibling}}var Js=8192;function Li(e,t,i){if(e.subtreeFlags&Js)for(e=e.child;e!==null;)Ny(e,t,i),e=e.sibling}function Ny(e,t,i){switch(e.tag){case 26:Li(e,t,i),e.flags&Js&&e.memoizedState!==null&&Vx(i,ya,e.memoizedState,e.memoizedProps);break;case 5:Li(e,t,i);break;case 3:case 4:var o=ya;ya=Ul(e.stateNode.containerInfo),Li(e,t,i),ya=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Js,Js=16777216,Li(e,t,i),Js=o):Li(e,t,i));break;default:Li(e,t,i)}}function jy(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ws(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var o=t[i];hn=o,_y(o,e)}jy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ay(e),e=e.sibling}function Ay(e){switch(e.tag){case 0:case 11:case 15:Ws(e),e.flags&2048&&gr(9,e,e.return);break;case 3:Ws(e);break;case 12:Ws(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Cl(e)):Ws(e);break;default:Ws(e)}}function Cl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var o=t[i];hn=o,_y(o,e)}jy(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:gr(8,t,t.return),Cl(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,Cl(t));break;default:Cl(t)}e=e.sibling}}function _y(e,t){for(;hn!==null;){var i=hn;switch(i.tag){case 0:case 11:case 15:gr(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var o=i.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ls(i.memoizedState.cache)}if(o=i.child,o!==null)o.return=i,hn=o;else e:for(i=e;hn!==null;){o=hn;var u=o.sibling,d=o.return;if(Sy(o),o===i){hn=null;break e}if(u!==null){u.return=d,hn=u;break e}hn=d}}}var ax={getCacheForType:function(e){var t=gn(an),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return gn(an).controller.signal}},rx=typeof WeakMap=="function"?WeakMap:Map,wt=0,Lt=null,ot=null,ut=0,Ot=0,Pn=null,vr=!1,Bi=!1,wf=!1,Ja=0,Jt=0,br=0,ni=0,Sf=0,Fn=0,Ui=0,eo=null,In=null,xf=!1,Tl=0,Dy=0,Ol=1/0,Nl=null,wr=null,dn=0,Sr=null,Ii=null,Wa=0,Ef=0,kf=null,My=null,to=0,Cf=null;function Xn(){return(wt&2)!==0&&ut!==0?ut&-ut:C.T!==null?_f():xs()}function Ry(){if(Fn===0)if((ut&536870912)===0||pt){var e=L;L<<=1,(L&3932160)===0&&(L=262144),Fn=e}else Fn=536870912;return e=Gn.current,e!==null&&(e.flags|=32),Fn}function $n(e,t,i){(e===Lt&&(Ot===2||Ot===9)||e.cancelPendingCommit!==null)&&($i(e,0),xr(e,ut,Fn,!1)),_t(e,i),((wt&2)===0||e!==Lt)&&(e===Lt&&((wt&2)===0&&(ni|=i),Jt===4&&xr(e,ut,Fn,!1)),ja(e))}function zy(e,t,i){if((wt&6)!==0)throw Error(s(327));var o=!i&&(t&127)===0&&(t&e.expiredLanes)===0||At(e,t),u=o?ox(e,t):Of(e,t,!0),d=o;do{if(u===0){Bi&&!o&&xr(e,t,0,!1);break}else{if(i=e.current.alternate,d&&!ix(i)){u=Of(e,t,!1),d=!1;continue}if(u===2){if(d=t,e.errorRecoveryDisabledLanes&d)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){t=g;e:{var w=e;u=eo;var T=w.current.memoizedState.isDehydrated;if(T&&($i(w,g).flags|=256),g=Of(w,g,!1),g!==2){if(wf&&!T){w.errorRecoveryDisabledLanes|=d,ni|=d,u=4;break e}d=In,In=u,d!==null&&(In===null?In=d:In.push.apply(In,d))}u=g}if(d=!1,u!==2)continue}}if(u===1){$i(e,0),xr(e,t,0,!0);break}e:{switch(o=e,d=u,d){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:xr(o,t,Fn,!vr);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(u=Tl+300-ae(),10<u)){if(xr(o,t,Fn,!vr),Ne(o,0,!0)!==0)break e;Wa=t,o.timeoutHandle=dg(Ly.bind(null,o,i,In,Nl,xf,t,Fn,ni,Ui,vr,d,"Throttled",-0,0),u);break e}Ly(o,i,In,Nl,xf,t,Fn,ni,Ui,vr,d,null,-0,0)}}break}while(!0);ja(e)}function Ly(e,t,i,o,u,d,g,w,T,z,W,re,B,Y){if(e.timeoutHandle=-1,re=t.subtreeFlags,re&8192||(re&16785408)===16785408){re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ua},Ny(t,d,re);var Ae=(d&62914560)===d?Tl-ae():(d&4194048)===d?Dy-ae():0;if(Ae=qx(re,Ae),Ae!==null){Wa=d,e.cancelPendingCommit=Ae(Yy.bind(null,e,t,d,i,o,u,g,w,T,W,re,null,B,Y)),xr(e,d,g,!z);return}}Yy(e,t,d,i,o,u,g,w,T)}function ix(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var o=0;o<i.length;o++){var u=i[o],d=u.getSnapshot;u=u.value;try{if(!qn(d(),u))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xr(e,t,i,o){t&=~Sf,t&=~ni,e.suspendedLanes|=t,e.pingedLanes&=~t,o&&(e.warmLanes|=t),o=e.expirationTimes;for(var u=t;0<u;){var d=31-Ge(u),g=1<<d;o[d]=-1,u&=~g}i!==0&&vs(e,i,t)}function jl(){return(wt&6)===0?(no(0),!1):!0}function Tf(){if(ot!==null){if(Ot===0)var e=ot.return;else e=ot,Va=Pr=null,Hu(e),Ai=null,Us=0,e=ot;for(;e!==null;)hy(e.alternate,e),e=e.return;ot=null}}function $i(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,Cx(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Wa=0,Tf(),Lt=e,ot=i=$a(e.current,null),ut=t,Ot=0,Pn=null,vr=!1,Bi=At(e,t),wf=!1,Ui=Fn=Sf=ni=br=Jt=0,In=eo=null,xf=!1,(t&8)!==0&&(t|=t&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=t;0<o;){var u=31-Ge(o),d=1<<u;t|=e[u],o&=~d}return Ja=t,Ko(),i}function By(e,t){tt=null,C.H=Zs,t===ji||t===rl?(t=Wp(),Ot=3):t===ju?(t=Wp(),Ot=4):Ot=t===af?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Pn=t,ot===null&&(Jt=1,vl(e,na(t,e.current)))}function Uy(){var e=Gn.current;return e===null?!0:(ut&4194048)===ut?sa===null:(ut&62914560)===ut||(ut&536870912)!==0?e===sa:!1}function Iy(){var e=C.H;return C.H=Zs,e===null?Zs:e}function $y(){var e=C.A;return C.A=ax,e}function Al(){Jt=4,vr||(ut&4194048)!==ut&&Gn.current!==null||(Bi=!0),(br&134217727)===0&&(ni&134217727)===0||Lt===null||xr(Lt,ut,Fn,!1)}function Of(e,t,i){var o=wt;wt|=2;var u=Iy(),d=$y();(Lt!==e||ut!==t)&&(Nl=null,$i(e,t)),t=!1;var g=Jt;e:do try{if(Ot!==0&&ot!==null){var w=ot,T=Pn;switch(Ot){case 8:Tf(),g=6;break e;case 3:case 2:case 9:case 6:Gn.current===null&&(t=!0);var z=Ot;if(Ot=0,Pn=null,Hi(e,w,T,z),i&&Bi){g=0;break e}break;default:z=Ot,Ot=0,Pn=null,Hi(e,w,T,z)}}sx(),g=Jt;break}catch(W){By(e,W)}while(!0);return t&&e.shellSuspendCounter++,Va=Pr=null,wt=o,C.H=u,C.A=d,ot===null&&(Lt=null,ut=0,Ko()),g}function sx(){for(;ot!==null;)Hy(ot)}function ox(e,t){var i=wt;wt|=2;var o=Iy(),u=$y();Lt!==e||ut!==t?(Nl=null,Ol=ae()+500,$i(e,t)):Bi=At(e,t);e:do try{if(Ot!==0&&ot!==null){t=ot;var d=Pn;t:switch(Ot){case 1:Ot=0,Pn=null,Hi(e,t,d,1);break;case 2:case 9:if(Qp(d)){Ot=0,Pn=null,Vy(t);break}t=function(){Ot!==2&&Ot!==9||Lt!==e||(Ot=7),ja(e)},d.then(t,t);break e;case 3:Ot=7;break e;case 4:Ot=5;break e;case 7:Qp(d)?(Ot=0,Pn=null,Vy(t)):(Ot=0,Pn=null,Hi(e,t,d,7));break;case 5:var g=null;switch(ot.tag){case 26:g=ot.memoizedState;case 5:case 27:var w=ot;if(g?Og(g):w.stateNode.complete){Ot=0,Pn=null;var T=w.sibling;if(T!==null)ot=T;else{var z=w.return;z!==null?(ot=z,_l(z)):ot=null}break t}}Ot=0,Pn=null,Hi(e,t,d,5);break;case 6:Ot=0,Pn=null,Hi(e,t,d,6);break;case 8:Tf(),Jt=6;break e;default:throw Error(s(462))}}lx();break}catch(W){By(e,W)}while(!0);return Va=Pr=null,C.H=o,C.A=u,wt=i,ot!==null?0:(Lt=null,ut=0,Ko(),Jt)}function lx(){for(;ot!==null&&!Ee();)Hy(ot)}function Hy(e){var t=fy(e.alternate,e,Ja);e.memoizedProps=e.pendingProps,t===null?_l(e):ot=t}function Vy(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=iy(i,t,t.pendingProps,t.type,void 0,ut);break;case 11:t=iy(i,t,t.pendingProps,t.type.render,t.ref,ut);break;case 5:Hu(t);default:hy(i,t),t=ot=$p(t,Ja),t=fy(i,t,Ja)}e.memoizedProps=e.pendingProps,t===null?_l(e):ot=t}function Hi(e,t,i,o){Va=Pr=null,Hu(t),Ai=null,Us=0;var u=t.return;try{if(KS(e,u,t,i,ut)){Jt=1,vl(e,na(i,e.current)),ot=null;return}}catch(d){if(u!==null)throw ot=u,d;Jt=1,vl(e,na(i,e.current)),ot=null;return}t.flags&32768?(pt||o===1?e=!0:Bi||(ut&536870912)!==0?e=!1:(vr=e=!0,(o===2||o===9||o===3||o===6)&&(o=Gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),qy(t,e)):_l(t)}function _l(e){var t=e;do{if((t.flags&32768)!==0){qy(t,vr);return}e=t.return;var i=WS(t.alternate,t,Ja);if(i!==null){ot=i;return}if(t=t.sibling,t!==null){ot=t;return}ot=t=e}while(t!==null);Jt===0&&(Jt=5)}function qy(e,t){do{var i=ex(e.alternate,e);if(i!==null){i.flags&=32767,ot=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){ot=e;return}ot=e=i}while(e!==null);Jt=6,ot=null}function Yy(e,t,i,o,u,d,g,w,T){e.cancelPendingCommit=null;do Dl();while(dn!==0);if((wt&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(d=t.lanes|t.childLanes,d|=pu,Tt(e,i,d,g,w,T),e===Lt&&(ot=Lt=null,ut=0),Ii=t,Sr=e,Wa=i,Ef=d,kf=u,My=o,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,dx(bt,function(){return Xy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||o){o=C.T,C.T=null,u=H.p,H.p=2,g=wt,wt|=4;try{tx(e,t,i)}finally{wt=g,H.p=u,C.T=o}}dn=1,Gy(),Zy(),Py()}}function Gy(){if(dn===1){dn=0;var e=Sr,t=Ii,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=C.T,C.T=null;var o=H.p;H.p=2;var u=wt;wt|=4;try{Cy(t,e);var d=If,g=_p(e.containerInfo),w=d.focusedElem,T=d.selectionRange;if(g!==w&&w&&w.ownerDocument&&Ap(w.ownerDocument.documentElement,w)){if(T!==null&&cu(w)){var z=T.start,W=T.end;if(W===void 0&&(W=z),"selectionStart"in w)w.selectionStart=z,w.selectionEnd=Math.min(W,w.value.length);else{var re=w.ownerDocument||document,B=re&&re.defaultView||window;if(B.getSelection){var Y=B.getSelection(),Ae=w.textContent.length,Ze=Math.min(T.start,Ae),zt=T.end===void 0?Ze:Math.min(T.end,Ae);!Y.extend&&Ze>zt&&(g=zt,zt=Ze,Ze=g);var j=jp(w,Ze),O=jp(w,zt);if(j&&O&&(Y.rangeCount!==1||Y.anchorNode!==j.node||Y.anchorOffset!==j.offset||Y.focusNode!==O.node||Y.focusOffset!==O.offset)){var M=re.createRange();M.setStart(j.node,j.offset),Y.removeAllRanges(),Ze>zt?(Y.addRange(M),Y.extend(O.node,O.offset)):(M.setEnd(O.node,O.offset),Y.addRange(M))}}}}for(re=[],Y=w;Y=Y.parentNode;)Y.nodeType===1&&re.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<re.length;w++){var ne=re[w];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Yl=!!Uf,If=Uf=null}finally{wt=u,H.p=o,C.T=i}}e.current=t,dn=2}}function Zy(){if(dn===2){dn=0;var e=Sr,t=Ii,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=C.T,C.T=null;var o=H.p;H.p=2;var u=wt;wt|=4;try{wy(e,t.alternate,t)}finally{wt=u,H.p=o,C.T=i}}dn=3}}function Py(){if(dn===4||dn===3){dn=0,J();var e=Sr,t=Ii,i=Wa,o=My;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?dn=5:(dn=0,Ii=Sr=null,Fy(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(wr=null),Ss(i),t=t.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(xt,t,void 0,(t.current.flags&128)===128)}catch{}if(o!==null){t=C.T,u=H.p,H.p=2,C.T=null;try{for(var d=e.onRecoverableError,g=0;g<o.length;g++){var w=o[g];d(w.value,{componentStack:w.stack})}}finally{C.T=t,H.p=u}}(Wa&3)!==0&&Dl(),ja(e),u=e.pendingLanes,(i&261930)!==0&&(u&42)!==0?e===Cf?to++:(to=0,Cf=e):to=0,no(0)}}function Fy(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ls(t)))}function Dl(){return Gy(),Zy(),Py(),Xy()}function Xy(){if(dn!==5)return!1;var e=Sr,t=Ef;Ef=0;var i=Ss(Wa),o=C.T,u=H.p;try{H.p=32>i?32:i,C.T=null,i=kf,kf=null;var d=Sr,g=Wa;if(dn=0,Ii=Sr=null,Wa=0,(wt&6)!==0)throw Error(s(331));var w=wt;if(wt|=4,Ay(d.current),Oy(d,d.current,g,i),wt=w,no(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(xt,d)}catch{}return!0}finally{H.p=u,C.T=o,Fy(e,t)}}function Ky(e,t,i){t=na(i,t),t=nf(e.stateNode,t,2),e=pr(e,t,2),e!==null&&(_t(e,2),ja(e))}function Nt(e,t,i){if(e.tag===3)Ky(e,e,i);else for(;t!==null;){if(t.tag===3){Ky(t,e,i);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(wr===null||!wr.has(o))){e=na(i,e),i=Qm(2),o=pr(t,i,2),o!==null&&(Jm(i,o,t,e),_t(o,2),ja(o));break}}t=t.return}}function Nf(e,t,i){var o=e.pingCache;if(o===null){o=e.pingCache=new rx;var u=new Set;o.set(t,u)}else u=o.get(t),u===void 0&&(u=new Set,o.set(t,u));u.has(i)||(wf=!0,u.add(i),e=cx.bind(null,e,t,i),t.then(e,e))}function cx(e,t,i){var o=e.pingCache;o!==null&&o.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Lt===e&&(ut&i)===i&&(Jt===4||Jt===3&&(ut&62914560)===ut&&300>ae()-Tl?(wt&2)===0&&$i(e,0):Sf|=i,Ui===ut&&(Ui=0)),ja(e)}function Qy(e,t){t===0&&(t=Ie()),e=Yr(e,t),e!==null&&(_t(e,t),ja(e))}function ux(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Qy(e,i)}function fx(e,t){var i=0;switch(e.tag){case 31:case 13:var o=e.stateNode,u=e.memoizedState;u!==null&&(i=u.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(t),Qy(e,i)}function dx(e,t){return D(e,t)}var Ml=null,Vi=null,jf=!1,Rl=!1,Af=!1,Er=0;function ja(e){e!==Vi&&e.next===null&&(Vi===null?Ml=Vi=e:Vi=Vi.next=e),Rl=!0,jf||(jf=!0,px())}function no(e,t){if(!Af&&Rl){Af=!0;do for(var i=!1,o=Ml;o!==null;){if(e!==0){var u=o.pendingLanes;if(u===0)var d=0;else{var g=o.suspendedLanes,w=o.pingedLanes;d=(1<<31-Ge(42|e)+1)-1,d&=u&~(g&~w),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(i=!0,tg(o,d))}else d=ut,d=Ne(o,o===Lt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||At(o,d)||(i=!0,tg(o,d));o=o.next}while(i);Af=!1}}function hx(){Jy()}function Jy(){Rl=jf=!1;var e=0;Er!==0&&kx()&&(e=Er);for(var t=ae(),i=null,o=Ml;o!==null;){var u=o.next,d=Wy(o,t);d===0?(o.next=null,i===null?Ml=u:i.next=u,u===null&&(Vi=i)):(i=o,(e!==0||(d&3)!==0)&&(Rl=!0)),o=u}dn!==0&&dn!==5||no(e),Er!==0&&(Er=0)}function Wy(e,t){for(var i=e.suspendedLanes,o=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var g=31-Ge(d),w=1<<g,T=u[g];T===-1?((w&i)===0||(w&o)!==0)&&(u[g]=jn(w,t)):T<=t&&(e.expiredLanes|=w),d&=~w}if(t=Lt,i=ut,i=Ne(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,i===0||e===t&&(Ot===2||Ot===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&K(o),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||At(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(o!==null&&K(o),Ss(i)){case 2:case 8:i=$e;break;case 32:i=bt;break;case 268435456:i=et;break;default:i=bt}return o=eg.bind(null,e),i=D(i,o),e.callbackPriority=t,e.callbackNode=i,t}return o!==null&&o!==null&&K(o),e.callbackPriority=2,e.callbackNode=null,2}function eg(e,t){if(dn!==0&&dn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Dl()&&e.callbackNode!==i)return null;var o=ut;return o=Ne(e,e===Lt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(zy(e,o,t),Wy(e,ae()),e.callbackNode!=null&&e.callbackNode===i?eg.bind(null,e):null)}function tg(e,t){if(Dl())return null;zy(e,t,!0)}function px(){Tx(function(){(wt&6)!==0?D(Ue,hx):Jy()})}function _f(){if(Er===0){var e=Oi;e===0&&(e=_,_<<=1,(_&261888)===0&&(_=256)),Er=e}return Er}function ng(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Vo(""+e)}function ag(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function mx(e,t,i,o,u){if(t==="submit"&&i&&i.stateNode===u){var d=ng((u[nn]||null).action),g=o.submitter;g&&(t=(t=g[nn]||null)?ng(t.formAction):g.getAttribute("formAction"),t!==null&&(d=t,g=null));var w=new Zo("action","action",null,o,u);e.push({event:w,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Er!==0){var T=g?ag(u,g):new FormData(u);Ku(i,{pending:!0,data:T,method:u.method,action:d},null,T)}}else typeof d=="function"&&(w.preventDefault(),T=g?ag(u,g):new FormData(u),Ku(i,{pending:!0,data:T,method:u.method,action:d},d,T))},currentTarget:u}]})}}for(var Df=0;Df<hu.length;Df++){var Mf=hu[Df],yx=Mf.toLowerCase(),gx=Mf[0].toUpperCase()+Mf.slice(1);ma(yx,"on"+gx)}ma(Rp,"onAnimationEnd"),ma(zp,"onAnimationIteration"),ma(Lp,"onAnimationStart"),ma("dblclick","onDoubleClick"),ma("focusin","onFocus"),ma("focusout","onBlur"),ma(MS,"onTransitionRun"),ma(RS,"onTransitionStart"),ma(zS,"onTransitionCancel"),ma(Bp,"onTransitionEnd"),sr("onMouseEnter",["mouseout","mouseover"]),sr("onMouseLeave",["mouseout","mouseover"]),sr("onPointerEnter",["pointerout","pointerover"]),sr("onPointerLeave",["pointerout","pointerover"]),Rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ao));function rg(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],u=o.event;o=o.listeners;e:{var d=void 0;if(t)for(var g=o.length-1;0<=g;g--){var w=o[g],T=w.instance,z=w.currentTarget;if(w=w.listener,T!==d&&u.isPropagationStopped())break e;d=w,u.currentTarget=z;try{d(u)}catch(W){Xo(W)}u.currentTarget=null,d=T}else for(g=0;g<o.length;g++){if(w=o[g],T=w.instance,z=w.currentTarget,w=w.listener,T!==d&&u.isPropagationStopped())break e;d=w,u.currentTarget=z;try{d(u)}catch(W){Xo(W)}u.currentTarget=null,d=T}}}}function lt(e,t){var i=t[$r];i===void 0&&(i=t[$r]=new Set);var o=e+"__bubble";i.has(o)||(ig(t,e,2,!1),i.add(o))}function Rf(e,t,i){var o=0;t&&(o|=4),ig(i,e,o,t)}var zl="_reactListening"+Math.random().toString(36).slice(2);function zf(e){if(!e[zl]){e[zl]=!0,mn.forEach(function(i){i!=="selectionchange"&&(vx.has(i)||Rf(i,!1,e),Rf(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zl]||(t[zl]=!0,Rf("selectionchange",!1,t))}}function ig(e,t,i,o){switch(Rg(t)){case 2:var u=Zx;break;case 8:u=Px;break;default:u=Kf}i=u.bind(null,t,i,e),u=void 0,!eu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),o?u!==void 0?e.addEventListener(t,i,{capture:!0,passive:u}):e.addEventListener(t,i,!0):u!==void 0?e.addEventListener(t,i,{passive:u}):e.addEventListener(t,i,!1)}function Lf(e,t,i,o,u){var d=o;if((t&1)===0&&(t&2)===0&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var w=o.stateNode.containerInfo;if(w===u)break;if(g===4)for(g=o.return;g!==null;){var T=g.tag;if((T===3||T===4)&&g.stateNode.containerInfo===u)return;g=g.return}for(;w!==null;){if(g=Ke(w),g===null)return;if(T=g.tag,T===5||T===6||T===26||T===27){o=d=g;continue e}w=w.parentNode}}o=o.return}up(function(){var z=d,W=Jc(i),re=[];e:{var B=Up.get(e);if(B!==void 0){var Y=Zo,Ae=e;switch(e){case"keypress":if(Yo(i)===0)break e;case"keydown":case"keyup":Y=fS;break;case"focusin":Ae="focus",Y=ru;break;case"focusout":Ae="blur",Y=ru;break;case"beforeblur":case"afterblur":Y=ru;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=hp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=Ww;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=pS;break;case Rp:case zp:case Lp:Y=nS;break;case Bp:Y=yS;break;case"scroll":case"scrollend":Y=Qw;break;case"wheel":Y=vS;break;case"copy":case"cut":case"paste":Y=rS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=mp;break;case"toggle":case"beforetoggle":Y=wS}var Ze=(t&4)!==0,zt=!Ze&&(e==="scroll"||e==="scrollend"),j=Ze?B!==null?B+"Capture":null:B;Ze=[];for(var O=z,M;O!==null;){var ne=O;if(M=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||M===null||j===null||(ne=Cs(O,j),ne!=null&&Ze.push(ro(O,ne,M))),zt)break;O=O.return}0<Ze.length&&(B=new Y(B,Ae,null,i,W),re.push({event:B,listeners:Ze}))}}if((t&7)===0){e:{if(B=e==="mouseover"||e==="pointerover",Y=e==="mouseout"||e==="pointerout",B&&i!==Qc&&(Ae=i.relatedTarget||i.fromElement)&&(Ke(Ae)||Ae[ir]))break e;if((Y||B)&&(B=W.window===W?W:(B=W.ownerDocument)?B.defaultView||B.parentWindow:window,Y?(Ae=i.relatedTarget||i.toElement,Y=z,Ae=Ae?Ke(Ae):null,Ae!==null&&(zt=c(Ae),Ze=Ae.tag,Ae!==zt||Ze!==5&&Ze!==27&&Ze!==6)&&(Ae=null)):(Y=null,Ae=z),Y!==Ae)){if(Ze=hp,ne="onMouseLeave",j="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(Ze=mp,ne="onPointerLeave",j="onPointerEnter",O="pointer"),zt=Y==null?B:Gt(Y),M=Ae==null?B:Gt(Ae),B=new Ze(ne,O+"leave",Y,i,W),B.target=zt,B.relatedTarget=M,ne=null,Ke(W)===z&&(Ze=new Ze(j,O+"enter",Ae,i,W),Ze.target=M,Ze.relatedTarget=zt,ne=Ze),zt=ne,Y&&Ae)t:{for(Ze=bx,j=Y,O=Ae,M=0,ne=j;ne;ne=Ze(ne))M++;ne=0;for(var He=O;He;He=Ze(He))ne++;for(;0<M-ne;)j=Ze(j),M--;for(;0<ne-M;)O=Ze(O),ne--;for(;M--;){if(j===O||O!==null&&j===O.alternate){Ze=j;break t}j=Ze(j),O=Ze(O)}Ze=null}else Ze=null;Y!==null&&sg(re,B,Y,Ze,!1),Ae!==null&&zt!==null&&sg(re,zt,Ae,Ze,!0)}}e:{if(B=z?Gt(z):window,Y=B.nodeName&&B.nodeName.toLowerCase(),Y==="select"||Y==="input"&&B.type==="file")var gt=Ep;else if(Sp(B))if(kp)gt=AS;else{gt=NS;var Le=OS}else Y=B.nodeName,!Y||Y.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Kc(z.elementType)&&(gt=Ep):gt=jS;if(gt&&(gt=gt(e,z))){xp(re,gt,i,W);break e}Le&&Le(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Xc(B,"number",B.value)}switch(Le=z?Gt(z):window,e){case"focusin":(Sp(Le)||Le.contentEditable==="true")&&(bi=Le,uu=z,Ms=null);break;case"focusout":Ms=uu=bi=null;break;case"mousedown":fu=!0;break;case"contextmenu":case"mouseup":case"dragend":fu=!1,Dp(re,i,W);break;case"selectionchange":if(DS)break;case"keydown":case"keyup":Dp(re,i,W)}var nt;if(su)e:{switch(e){case"compositionstart":var ft="onCompositionStart";break e;case"compositionend":ft="onCompositionEnd";break e;case"compositionupdate":ft="onCompositionUpdate";break e}ft=void 0}else vi?bp(e,i)&&(ft="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ft="onCompositionStart");ft&&(yp&&i.locale!=="ko"&&(vi||ft!=="onCompositionStart"?ft==="onCompositionEnd"&&vi&&(nt=fp()):(or=W,tu="value"in or?or.value:or.textContent,vi=!0)),Le=Ll(z,ft),0<Le.length&&(ft=new pp(ft,e,null,i,W),re.push({event:ft,listeners:Le}),nt?ft.data=nt:(nt=wp(i),nt!==null&&(ft.data=nt)))),(nt=xS?ES(e,i):kS(e,i))&&(ft=Ll(z,"onBeforeInput"),0<ft.length&&(Le=new pp("onBeforeInput","beforeinput",null,i,W),re.push({event:Le,listeners:ft}),Le.data=nt)),mx(re,e,z,i,W)}rg(re,t)})}function ro(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Ll(e,t){for(var i=t+"Capture",o=[];e!==null;){var u=e,d=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||d===null||(u=Cs(e,i),u!=null&&o.unshift(ro(e,u,d)),u=Cs(e,t),u!=null&&o.push(ro(e,u,d))),e.tag===3)return o;e=e.return}return[]}function bx(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function sg(e,t,i,o,u){for(var d=t._reactName,g=[];i!==null&&i!==o;){var w=i,T=w.alternate,z=w.stateNode;if(w=w.tag,T!==null&&T===o)break;w!==5&&w!==26&&w!==27||z===null||(T=z,u?(z=Cs(i,d),z!=null&&g.unshift(ro(i,z,T))):u||(z=Cs(i,d),z!=null&&g.push(ro(i,z,T)))),i=i.return}g.length!==0&&e.push({event:t,listeners:g})}var wx=/\r\n?/g,Sx=/\u0000|\uFFFD/g;function og(e){return(typeof e=="string"?e:""+e).replace(wx,`
`).replace(Sx,"")}function lg(e,t){return t=og(t),og(e)===t}function Rt(e,t,i,o,u,d){switch(i){case"children":typeof o=="string"?t==="body"||t==="textarea"&&o===""||mi(e,o):(typeof o=="number"||typeof o=="bigint")&&t!=="body"&&mi(e,""+o);break;case"className":$o(e,"class",o);break;case"tabIndex":$o(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":$o(e,i,o);break;case"style":lp(e,o,d);break;case"data":if(t!=="object"){$o(e,"data",o);break}case"src":case"href":if(o===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=Vo(""+o),e.setAttribute(i,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(i==="formAction"?(t!=="input"&&Rt(e,t,"name",u.name,u,null),Rt(e,t,"formEncType",u.formEncType,u,null),Rt(e,t,"formMethod",u.formMethod,u,null),Rt(e,t,"formTarget",u.formTarget,u,null)):(Rt(e,t,"encType",u.encType,u,null),Rt(e,t,"method",u.method,u,null),Rt(e,t,"target",u.target,u,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(i);break}o=Vo(""+o),e.setAttribute(i,o);break;case"onClick":o!=null&&(e.onclick=Ua);break;case"onScroll":o!=null&&lt("scroll",e);break;case"onScrollEnd":o!=null&&lt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(i=o.__html,i!=null){if(u.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}i=Vo(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""+o):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":o===!0?e.setAttribute(i,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(i,o):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(i,o):e.removeAttribute(i);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(i):e.setAttribute(i,o);break;case"popover":lt("beforetoggle",e),lt("toggle",e),Io(e,"popover",o);break;case"xlinkActuate":Ba(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ba(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ba(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ba(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ba(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ba(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ba(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ba(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ba(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Io(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Xw.get(i)||i,Io(e,i,o))}}function Bf(e,t,i,o,u,d){switch(i){case"style":lp(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(i=o.__html,i!=null){if(u.children!=null)throw Error(s(60));e.innerHTML=i}}break;case"children":typeof o=="string"?mi(e,o):(typeof o=="number"||typeof o=="bigint")&&mi(e,""+o);break;case"onScroll":o!=null&&lt("scroll",e);break;case"onScrollEnd":o!=null&&lt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Ua);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Mn.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(u=i.endsWith("Capture"),t=i.slice(2,u?i.length-7:void 0),d=e[nn]||null,d=d!=null?d[i]:null,typeof d=="function"&&e.removeEventListener(t,d,u),typeof o=="function")){typeof d!="function"&&d!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,o,u);break e}i in e?e[i]=o:o===!0?e.setAttribute(i,""):Io(e,i,o)}}}function bn(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lt("error",e),lt("load",e);var o=!1,u=!1,d;for(d in i)if(i.hasOwnProperty(d)){var g=i[d];if(g!=null)switch(d){case"src":o=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Rt(e,t,d,g,i,null)}}u&&Rt(e,t,"srcSet",i.srcSet,i,null),o&&Rt(e,t,"src",i.src,i,null);return;case"input":lt("invalid",e);var w=d=g=u=null,T=null,z=null;for(o in i)if(i.hasOwnProperty(o)){var W=i[o];if(W!=null)switch(o){case"name":u=W;break;case"type":g=W;break;case"checked":T=W;break;case"defaultChecked":z=W;break;case"value":d=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,t));break;default:Rt(e,t,o,W,i,null)}}rp(e,d,w,T,z,g,u,!1);return;case"select":lt("invalid",e),o=g=d=null;for(u in i)if(i.hasOwnProperty(u)&&(w=i[u],w!=null))switch(u){case"value":d=w;break;case"defaultValue":g=w;break;case"multiple":o=w;default:Rt(e,t,u,w,i,null)}t=d,i=g,e.multiple=!!o,t!=null?pi(e,!!o,t,!1):i!=null&&pi(e,!!o,i,!0);return;case"textarea":lt("invalid",e),d=u=o=null;for(g in i)if(i.hasOwnProperty(g)&&(w=i[g],w!=null))switch(g){case"value":o=w;break;case"defaultValue":u=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Rt(e,t,g,w,i,null)}sp(e,o,u,d);return;case"option":for(T in i)if(i.hasOwnProperty(T)&&(o=i[T],o!=null))switch(T){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Rt(e,t,T,o,i,null)}return;case"dialog":lt("beforetoggle",e),lt("toggle",e),lt("cancel",e),lt("close",e);break;case"iframe":case"object":lt("load",e);break;case"video":case"audio":for(o=0;o<ao.length;o++)lt(ao[o],e);break;case"image":lt("error",e),lt("load",e);break;case"details":lt("toggle",e);break;case"embed":case"source":case"link":lt("error",e),lt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in i)if(i.hasOwnProperty(z)&&(o=i[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Rt(e,t,z,o,i,null)}return;default:if(Kc(t)){for(W in i)i.hasOwnProperty(W)&&(o=i[W],o!==void 0&&Bf(e,t,W,o,i,void 0));return}}for(w in i)i.hasOwnProperty(w)&&(o=i[w],o!=null&&Rt(e,t,w,o,i,null))}function xx(e,t,i,o){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,d=null,g=null,w=null,T=null,z=null,W=null;for(Y in i){var re=i[Y];if(i.hasOwnProperty(Y)&&re!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":T=re;default:o.hasOwnProperty(Y)||Rt(e,t,Y,null,o,re)}}for(var B in o){var Y=o[B];if(re=i[B],o.hasOwnProperty(B)&&(Y!=null||re!=null))switch(B){case"type":d=Y;break;case"name":u=Y;break;case"checked":z=Y;break;case"defaultChecked":W=Y;break;case"value":g=Y;break;case"defaultValue":w=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,t));break;default:Y!==re&&Rt(e,t,B,Y,o,re)}}Fc(e,g,w,T,z,W,d,u);return;case"select":Y=g=w=B=null;for(d in i)if(T=i[d],i.hasOwnProperty(d)&&T!=null)switch(d){case"value":break;case"multiple":Y=T;default:o.hasOwnProperty(d)||Rt(e,t,d,null,o,T)}for(u in o)if(d=o[u],T=i[u],o.hasOwnProperty(u)&&(d!=null||T!=null))switch(u){case"value":B=d;break;case"defaultValue":w=d;break;case"multiple":g=d;default:d!==T&&Rt(e,t,u,d,o,T)}t=w,i=g,o=Y,B!=null?pi(e,!!i,B,!1):!!o!=!!i&&(t!=null?pi(e,!!i,t,!0):pi(e,!!i,i?[]:"",!1));return;case"textarea":Y=B=null;for(w in i)if(u=i[w],i.hasOwnProperty(w)&&u!=null&&!o.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Rt(e,t,w,null,o,u)}for(g in o)if(u=o[g],d=i[g],o.hasOwnProperty(g)&&(u!=null||d!=null))switch(g){case"value":B=u;break;case"defaultValue":Y=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(s(91));break;default:u!==d&&Rt(e,t,g,u,o,d)}ip(e,B,Y);return;case"option":for(var Ae in i)if(B=i[Ae],i.hasOwnProperty(Ae)&&B!=null&&!o.hasOwnProperty(Ae))switch(Ae){case"selected":e.selected=!1;break;default:Rt(e,t,Ae,null,o,B)}for(T in o)if(B=o[T],Y=i[T],o.hasOwnProperty(T)&&B!==Y&&(B!=null||Y!=null))switch(T){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Rt(e,t,T,B,o,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in i)B=i[Ze],i.hasOwnProperty(Ze)&&B!=null&&!o.hasOwnProperty(Ze)&&Rt(e,t,Ze,null,o,B);for(z in o)if(B=o[z],Y=i[z],o.hasOwnProperty(z)&&B!==Y&&(B!=null||Y!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,t));break;default:Rt(e,t,z,B,o,Y)}return;default:if(Kc(t)){for(var zt in i)B=i[zt],i.hasOwnProperty(zt)&&B!==void 0&&!o.hasOwnProperty(zt)&&Bf(e,t,zt,void 0,o,B);for(W in o)B=o[W],Y=i[W],!o.hasOwnProperty(W)||B===Y||B===void 0&&Y===void 0||Bf(e,t,W,B,o,Y);return}}for(var j in i)B=i[j],i.hasOwnProperty(j)&&B!=null&&!o.hasOwnProperty(j)&&Rt(e,t,j,null,o,B);for(re in o)B=o[re],Y=i[re],!o.hasOwnProperty(re)||B===Y||B==null&&Y==null||Rt(e,t,re,B,o,Y)}function cg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ex(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),o=0;o<i.length;o++){var u=i[o],d=u.transferSize,g=u.initiatorType,w=u.duration;if(d&&w&&cg(g)){for(g=0,w=u.responseEnd,o+=1;o<i.length;o++){var T=i[o],z=T.startTime;if(z>w)break;var W=T.transferSize,re=T.initiatorType;W&&cg(re)&&(T=T.responseEnd,g+=W*(T<w?1:(w-z)/(T-z)))}if(--o,t+=8*(d+g)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Uf=null,If=null;function Bl(e){return e.nodeType===9?e:e.ownerDocument}function ug(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function $f(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hf=null;function kx(){var e=window.event;return e&&e.type==="popstate"?e===Hf?!1:(Hf=e,!0):(Hf=null,!1)}var dg=typeof setTimeout=="function"?setTimeout:void 0,Cx=typeof clearTimeout=="function"?clearTimeout:void 0,hg=typeof Promise=="function"?Promise:void 0,Tx=typeof queueMicrotask=="function"?queueMicrotask:typeof hg<"u"?function(e){return hg.resolve(null).then(e).catch(Ox)}:dg;function Ox(e){setTimeout(function(){throw e})}function kr(e){return e==="head"}function pg(e,t){var i=t,o=0;do{var u=i.nextSibling;if(e.removeChild(i),u&&u.nodeType===8)if(i=u.data,i==="/$"||i==="/&"){if(o===0){e.removeChild(u),Zi(t);return}o--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")o++;else if(i==="html")io(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,io(i);for(var d=i.firstChild;d;){var g=d.nextSibling,w=d.nodeName;d[ge]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&d.rel.toLowerCase()==="stylesheet"||i.removeChild(d),d=g}}else i==="body"&&io(e.ownerDocument.body);i=u}while(i);Zi(t)}function mg(e,t){var i=e;e=0;do{var o=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=o}while(i)}function Vf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Vf(i),Re(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Nx(e,t,i,o){for(;e.nodeType===1;){var u=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ge])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=oa(e.nextSibling),e===null)break}return null}function jx(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=oa(e.nextSibling),e===null))return null;return e}function yg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=oa(e.nextSibling),e===null))return null;return e}function qf(e){return e.data==="$?"||e.data==="$~"}function Yf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ax(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var o=function(){t(),i.removeEventListener("DOMContentLoaded",o)};i.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function oa(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Gf=null;function gg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return oa(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function vg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function bg(e,t,i){switch(t=Bl(i),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function io(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Re(e)}var la=new Map,wg=new Set;function Ul(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var er=H.d;H.d={f:_x,r:Dx,D:Mx,C:Rx,L:zx,m:Lx,X:Ux,S:Bx,M:Ix};function _x(){var e=er.f(),t=jl();return e||t}function Dx(e){var t=Dt(e);t!==null&&t.tag===5&&t.type==="form"?Bm(t):er.r(e)}var qi=typeof document>"u"?null:document;function Sg(e,t,i){var o=qi;if(o&&typeof t=="string"&&t){var u=ea(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof i=="string"&&(u+='[crossorigin="'+i+'"]'),wg.has(u)||(wg.add(u),e={rel:e,crossOrigin:i,href:t},o.querySelector(u)===null&&(t=o.createElement("link"),bn(t,"link",e),ct(t),o.head.appendChild(t)))}}function Mx(e){er.D(e),Sg("dns-prefetch",e,null)}function Rx(e,t){er.C(e,t),Sg("preconnect",e,t)}function zx(e,t,i){er.L(e,t,i);var o=qi;if(o&&e&&t){var u='link[rel="preload"][as="'+ea(t)+'"]';t==="image"&&i&&i.imageSrcSet?(u+='[imagesrcset="'+ea(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(u+='[imagesizes="'+ea(i.imageSizes)+'"]')):u+='[href="'+ea(e)+'"]';var d=u;switch(t){case"style":d=Yi(e);break;case"script":d=Gi(e)}la.has(d)||(e=v({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),la.set(d,e),o.querySelector(u)!==null||t==="style"&&o.querySelector(so(d))||t==="script"&&o.querySelector(oo(d))||(t=o.createElement("link"),bn(t,"link",e),ct(t),o.head.appendChild(t)))}}function Lx(e,t){er.m(e,t);var i=qi;if(i&&e){var o=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+ea(o)+'"][href="'+ea(e)+'"]',d=u;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Gi(e)}if(!la.has(d)&&(e=v({rel:"modulepreload",href:e},t),la.set(d,e),i.querySelector(u)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(oo(d)))return}o=i.createElement("link"),bn(o,"link",e),ct(o),i.head.appendChild(o)}}}function Bx(e,t,i){er.S(e,t,i);var o=qi;if(o&&e){var u=Kt(o).hoistableStyles,d=Yi(e);t=t||"default";var g=u.get(d);if(!g){var w={loading:0,preload:null};if(g=o.querySelector(so(d)))w.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},i),(i=la.get(d))&&Zf(e,i);var T=g=o.createElement("link");ct(T),bn(T,"link",e),T._p=new Promise(function(z,W){T.onload=z,T.onerror=W}),T.addEventListener("load",function(){w.loading|=1}),T.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Il(g,t,o)}g={type:"stylesheet",instance:g,count:1,state:w},u.set(d,g)}}}function Ux(e,t){er.X(e,t);var i=qi;if(i&&e){var o=Kt(i).hoistableScripts,u=Gi(e),d=o.get(u);d||(d=i.querySelector(oo(u)),d||(e=v({src:e,async:!0},t),(t=la.get(u))&&Pf(e,t),d=i.createElement("script"),ct(d),bn(d,"link",e),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(u,d))}}function Ix(e,t){er.M(e,t);var i=qi;if(i&&e){var o=Kt(i).hoistableScripts,u=Gi(e),d=o.get(u);d||(d=i.querySelector(oo(u)),d||(e=v({src:e,async:!0,type:"module"},t),(t=la.get(u))&&Pf(e,t),d=i.createElement("script"),ct(d),bn(d,"link",e),i.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(u,d))}}function xg(e,t,i,o){var u=(u=Oe.current)?Ul(u):null;if(!u)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Yi(i.href),i=Kt(u).hoistableStyles,o=i.get(t),o||(o={type:"style",instance:null,count:0,state:null},i.set(t,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Yi(i.href);var d=Kt(u).hoistableStyles,g=d.get(e);if(g||(u=u.ownerDocument||u,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,g),(d=u.querySelector(so(e)))&&!d._p&&(g.instance=d,g.state.loading=5),la.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},la.set(e,i),d||$x(u,e,i,g.state))),t&&o===null)throw Error(s(528,""));return g}if(t&&o!==null)throw Error(s(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Gi(i),i=Kt(u).hoistableScripts,o=i.get(t),o||(o={type:"script",instance:null,count:0,state:null},i.set(t,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Yi(e){return'href="'+ea(e)+'"'}function so(e){return'link[rel="stylesheet"]['+e+"]"}function Eg(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function $x(e,t,i,o){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?o.loading=1:(t=e.createElement("link"),o.preload=t,t.addEventListener("load",function(){return o.loading|=1}),t.addEventListener("error",function(){return o.loading|=2}),bn(t,"link",i),ct(t),e.head.appendChild(t))}function Gi(e){return'[src="'+ea(e)+'"]'}function oo(e){return"script[async]"+e}function kg(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var o=e.querySelector('style[data-href~="'+ea(i.href)+'"]');if(o)return t.instance=o,ct(o),o;var u=v({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ct(o),bn(o,"style",u),Il(o,i.precedence,e),t.instance=o;case"stylesheet":u=Yi(i.href);var d=e.querySelector(so(u));if(d)return t.state.loading|=4,t.instance=d,ct(d),d;o=Eg(i),(u=la.get(u))&&Zf(o,u),d=(e.ownerDocument||e).createElement("link"),ct(d);var g=d;return g._p=new Promise(function(w,T){g.onload=w,g.onerror=T}),bn(d,"link",o),t.state.loading|=4,Il(d,i.precedence,e),t.instance=d;case"script":return d=Gi(i.src),(u=e.querySelector(oo(d)))?(t.instance=u,ct(u),u):(o=i,(u=la.get(d))&&(o=v({},i),Pf(o,u)),e=e.ownerDocument||e,u=e.createElement("script"),ct(u),bn(u,"link",o),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(o=t.instance,t.state.loading|=4,Il(o,i.precedence,e));return t.instance}function Il(e,t,i){for(var o=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=o.length?o[o.length-1]:null,d=u,g=0;g<o.length;g++){var w=o[g];if(w.dataset.precedence===t)d=w;else if(d!==u)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Zf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Pf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var $l=null;function Cg(e,t,i){if($l===null){var o=new Map,u=$l=new Map;u.set(i,o)}else u=$l,o=u.get(i),o||(o=new Map,u.set(i,o));if(o.has(e))return o;for(o.set(e,null),i=i.getElementsByTagName(e),u=0;u<i.length;u++){var d=i[u];if(!(d[ge]||d[Ut]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var g=d.getAttribute(t)||"";g=e+g;var w=o.get(g);w?w.push(d):o.set(g,[d])}}return o}function Tg(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function Hx(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Og(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Vx(e,t,i,o){if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var u=Yi(o.href),d=t.querySelector(so(u));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Hl.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=d,ct(d);return}d=t.ownerDocument||t,o=Eg(o),(u=la.get(u))&&Zf(o,u),d=d.createElement("link"),ct(d);var g=d;g._p=new Promise(function(w,T){g.onload=w,g.onerror=T}),bn(d,"link",o),i.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Hl.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var Ff=0;function qx(e,t){return e.stylesheets&&e.count===0&&ql(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var o=setTimeout(function(){if(e.stylesheets&&ql(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&Ff===0&&(Ff=62500*Ex());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ql(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Ff?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(u)}}:null}function Hl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ql(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Vl=null;function ql(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Vl=new Map,t.forEach(Yx,e),Vl=null,Hl.call(e))}function Yx(e,t){if(!(t.state.loading&4)){var i=Vl.get(e);if(i)var o=i.get(null);else{i=new Map,Vl.set(e,i);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<u.length;d++){var g=u[d];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(i.set(g.dataset.precedence,g),o=g)}o&&i.set(null,o)}u=t.instance,g=u.getAttribute("data-precedence"),d=i.get(g)||o,d===o&&i.set(null,u),i.set(g,u),this.count++,o=Hl.bind(this),u.addEventListener("load",o),u.addEventListener("error",o),d?d.parentNode.insertBefore(u,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var lo={$$typeof:V,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function Gx(e,t,i,o,u,d,g,w,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xt(0),this.hiddenUpdates=Xt(null),this.identifierPrefix=o,this.onUncaughtError=u,this.onCaughtError=d,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Ng(e,t,i,o,u,d,g,w,T,z,W,re){return e=new Gx(e,t,i,g,T,z,W,re,w),t=1,d===!0&&(t|=24),d=Yn(3,null,null,t),e.current=d,d.stateNode=e,t=Tu(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:o,isDehydrated:i,cache:t},Au(d),e}function jg(e){return e?(e=xi,e):xi}function Ag(e,t,i,o,u,d){u=jg(u),o.context===null?o.context=u:o.pendingContext=u,o=hr(t),o.payload={element:i},d=d===void 0?null:d,d!==null&&(o.callback=d),i=pr(e,o,t),i!==null&&($n(i,e,t),$s(i,e,t))}function _g(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Xf(e,t){_g(e,t),(e=e.alternate)&&_g(e,t)}function Dg(e){if(e.tag===13||e.tag===31){var t=Yr(e,67108864);t!==null&&$n(t,e,67108864),Xf(e,67108864)}}function Mg(e){if(e.tag===13||e.tag===31){var t=Xn();t=Uo(t);var i=Yr(e,t);i!==null&&$n(i,e,t),Xf(e,t)}}var Yl=!0;function Zx(e,t,i,o){var u=C.T;C.T=null;var d=H.p;try{H.p=2,Kf(e,t,i,o)}finally{H.p=d,C.T=u}}function Px(e,t,i,o){var u=C.T;C.T=null;var d=H.p;try{H.p=8,Kf(e,t,i,o)}finally{H.p=d,C.T=u}}function Kf(e,t,i,o){if(Yl){var u=Qf(o);if(u===null)Lf(e,t,o,Gl,i),zg(e,o);else if(Xx(u,e,t,i,o))o.stopPropagation();else if(zg(e,o),t&4&&-1<Fx.indexOf(e)){for(;u!==null;){var d=Dt(u);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var g=Te(d.pendingLanes);if(g!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;g;){var T=1<<31-Ge(g);w.entanglements[1]|=T,g&=~T}ja(d),(wt&6)===0&&(Ol=ae()+500,no(0))}}break;case 31:case 13:w=Yr(d,2),w!==null&&$n(w,d,2),jl(),Xf(d,2)}if(d=Qf(o),d===null&&Lf(e,t,o,Gl,i),d===u)break;u=d}u!==null&&o.stopPropagation()}else Lf(e,t,o,null,i)}}function Qf(e){return e=Jc(e),Jf(e)}var Gl=null;function Jf(e){if(Gl=null,e=Ke(e),e!==null){var t=c(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=f(t),e!==null)return e;e=null}else if(i===31){if(e=h(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Gl=e,null}function Rg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ve()){case Ue:return 2;case $e:return 8;case bt:case Me:return 32;case et:return 268435456;default:return 32}default:return 32}}var Wf=!1,Cr=null,Tr=null,Or=null,co=new Map,uo=new Map,Nr=[],Fx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zg(e,t){switch(e){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":co.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":uo.delete(t.pointerId)}}function fo(e,t,i,o,u,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:i,eventSystemFlags:o,nativeEvent:d,targetContainers:[u]},t!==null&&(t=Dt(t),t!==null&&Dg(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function Xx(e,t,i,o,u){switch(t){case"focusin":return Cr=fo(Cr,e,t,i,o,u),!0;case"dragenter":return Tr=fo(Tr,e,t,i,o,u),!0;case"mouseover":return Or=fo(Or,e,t,i,o,u),!0;case"pointerover":var d=u.pointerId;return co.set(d,fo(co.get(d)||null,e,t,i,o,u)),!0;case"gotpointercapture":return d=u.pointerId,uo.set(d,fo(uo.get(d)||null,e,t,i,o,u)),!0}return!1}function Lg(e){var t=Ke(e.target);if(t!==null){var i=c(t);if(i!==null){if(t=i.tag,t===13){if(t=f(i),t!==null){e.blockedOn=t,pa(e.priority,function(){Mg(i)});return}}else if(t===31){if(t=h(i),t!==null){e.blockedOn=t,pa(e.priority,function(){Mg(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Qf(e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);Qc=o,i.target.dispatchEvent(o),Qc=null}else return t=Dt(i),t!==null&&Dg(t),e.blockedOn=i,!1;t.shift()}return!0}function Bg(e,t,i){Zl(e)&&i.delete(t)}function Kx(){Wf=!1,Cr!==null&&Zl(Cr)&&(Cr=null),Tr!==null&&Zl(Tr)&&(Tr=null),Or!==null&&Zl(Or)&&(Or=null),co.forEach(Bg),uo.forEach(Bg)}function Pl(e,t){e.blockedOn===t&&(e.blockedOn=null,Wf||(Wf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Kx)))}var Fl=null;function Ug(e){Fl!==e&&(Fl=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Fl===e&&(Fl=null);for(var t=0;t<e.length;t+=3){var i=e[t],o=e[t+1],u=e[t+2];if(typeof o!="function"){if(Jf(o||i)===null)continue;break}var d=Dt(i);d!==null&&(e.splice(t,3),t-=3,Ku(d,{pending:!0,data:u,method:i.method,action:o},o,u))}}))}function Zi(e){function t(T){return Pl(T,e)}Cr!==null&&Pl(Cr,e),Tr!==null&&Pl(Tr,e),Or!==null&&Pl(Or,e),co.forEach(t),uo.forEach(t);for(var i=0;i<Nr.length;i++){var o=Nr[i];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Nr.length&&(i=Nr[0],i.blockedOn===null);)Lg(i),i.blockedOn===null&&Nr.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(o=0;o<i.length;o+=3){var u=i[o],d=i[o+1],g=u[nn]||null;if(typeof d=="function")g||Ug(i);else if(g){var w=null;if(d&&d.hasAttribute("formAction")){if(u=d,g=d[nn]||null)w=g.formAction;else if(Jf(u)!==null)continue}else w=g.action;typeof w=="function"?i[o+1]=w:(i.splice(o,3),o-=3),Ug(i)}}}function Ig(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(g){return u=g})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),o||setTimeout(i,20)}function i(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function ed(e){this._internalRoot=e}Xl.prototype.render=ed.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var i=t.current,o=Xn();Ag(i,o,e,t,null,null)},Xl.prototype.unmount=ed.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ag(e.current,2,null,e,null,null),jl(),t[ir]=null}};function Xl(e){this._internalRoot=e}Xl.prototype.unstable_scheduleHydration=function(e){if(e){var t=xs();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Nr.length&&t!==0&&t<Nr[i].priority;i++);Nr.splice(i,0,e),i===0&&Lg(e)}};var $g=n.version;if($g!=="19.2.0")throw Error(s(527,$g,"19.2.0"));H.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Qx={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:C,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kl.isDisabled&&Kl.supportsFiber)try{xt=Kl.inject(Qx),ze=Kl}catch{}}return po.createRoot=function(e,t){if(!l(e))throw Error(s(299));var i=!1,o="",u=Pm,d=Fm,g=Xm;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=Ng(e,1,!1,null,null,i,o,null,u,d,g,Ig),e[ir]=t.current,zf(e),new ed(t)},po.hydrateRoot=function(e,t,i){if(!l(e))throw Error(s(299));var o=!1,u="",d=Pm,g=Fm,w=Xm,T=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(w=i.onRecoverableError),i.formState!==void 0&&(T=i.formState)),t=Ng(e,1,!0,t,i??null,o,u,T,d,g,w,Ig),t.context=jg(null),i=t.current,o=Xn(),o=Uo(o),u=hr(o),u.callback=null,pr(i,u,o),i=o,t.current.lanes=i,_t(t,i),ja(t),e[ir]=t.current,zf(e),new Xl(t)},po.version="19.2.0",po}var Kg;function oE(){if(Kg)return ad.exports;Kg=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),ad.exports=sE(),ad.exports}var sb=oE();const lE="modulepreload",cE=function(a,n){return new URL(a,n).href},Qg={},$d=function(n,r,s){let l=Promise.resolve();if(r&&r.length>0){let y=function(b){return Promise.all(b.map(v=>Promise.resolve(v).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};const f=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),p=h?.nonce||h?.getAttribute("nonce");l=y(r.map(b=>{if(b=cE(b,s),b in Qg)return;Qg[b]=!0;const v=b.endsWith(".css"),S=v?'[rel="stylesheet"]':"";if(s)for(let N=f.length-1;N>=0;N--){const Z=f[N];if(Z.href===b&&(!v||Z.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${b}"]${S}`))return;const k=document.createElement("link");if(k.rel=v?"stylesheet":lE,v||(k.as="script"),k.crossOrigin="",k.href=b,p&&k.setAttribute("nonce",p),document.head.appendChild(k),v)return new Promise((N,Z)=>{k.addEventListener("load",N),k.addEventListener("error",()=>Z(new Error(`Unable to preload CSS for ${b}`)))})}))}function c(f){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=f,window.dispatchEvent(h),!h.defaultPrevented)throw f}return l.then(f=>{for(const h of f||[])h.status==="rejected"&&c(h.reason);return n().catch(c)})};var zr=ib();const kh=xh(zr),Jg=rb({__proto__:null,default:kh},[zr]);function Wg(a,n,r,s,l,c,f){try{var h=a[c](f),p=h.value}catch(y){return void r(y)}h.done?n(p):Promise.resolve(p).then(s,l)}function rt(a){return function(){var n=this,r=arguments;return new Promise(function(s,l){var c=a.apply(n,r);function f(p){Wg(c,s,l,f,h,"next",p)}function h(p){Wg(c,s,l,f,h,"throw",p)}f(void 0)})}}function dt(a,n){if(!(a instanceof n))throw new TypeError("Cannot call a class as a function")}function wn(a){"@babel/helpers - typeof";return wn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},wn(a)}function uE(a,n){if(wn(a)!="object"||!a)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var s=r.call(a,n);if(wn(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(a)}function ob(a){var n=uE(a,"string");return wn(n)=="symbol"?n:n+""}function fE(a,n){for(var r=0;r<n.length;r++){var s=n[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(a,ob(s.key),s)}}function ht(a,n,r){return n&&fE(a.prototype,n),Object.defineProperty(a,"prototype",{writable:!1}),a}function dE(a){if(a===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function La(a,n){if(n&&(wn(n)=="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dE(a)}function Bt(a){return Bt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bt(a)}function No(a,n){return No=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},No(a,n)}function Vn(a,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(n&&n.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),n&&No(a,n)}function Be(a,n,r){return(n=ob(n))in a?Object.defineProperty(a,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[n]=r,a}var od={exports:{}},ld={exports:{}},ev;function lb(){return ev||(ev=1,(function(a){function n(r,s){this.v=r,this.k=s}a.exports=n,a.exports.__esModule=!0,a.exports.default=a.exports})(ld)),ld.exports}var cd={exports:{}},ud={exports:{}},tv;function cb(){return tv||(tv=1,(function(a){function n(r,s,l,c){var f=Object.defineProperty;try{f({},"",{})}catch{f=0}a.exports=n=function(p,y,b,v){function S(k,N){n(p,k,function(Z){return this._invoke(k,N,Z)})}y?f?f(p,y,{value:b,enumerable:!v,configurable:!v,writable:!v}):p[y]=b:(S("next",0),S("throw",1),S("return",2))},a.exports.__esModule=!0,a.exports.default=a.exports,n(r,s,l,c)}a.exports=n,a.exports.__esModule=!0,a.exports.default=a.exports})(ud)),ud.exports}var nv;function ub(){return nv||(nv=1,(function(a){var n=cb();function r(){var s,l,c=typeof Symbol=="function"?Symbol:{},f=c.iterator||"@@iterator",h=c.toStringTag||"@@toStringTag";function p(U,Q,X,V){var P=Q&&Q.prototype instanceof b?Q:b,de=Object.create(P.prototype);return n(de,"_invoke",(function(le,I,oe){var ee,G,fe,je=0,De=oe||[],Ye=!1,Pe={p:0,n:0,v:s,a:C,f:C.bind(s,4),d:function(ce,we){return ee=ce,G=0,fe=s,Pe.n=we,y}};function C(H,ce){for(G=H,fe=ce,l=0;!Ye&&je&&!we&&l<De.length;l++){var we,xe=De[l],x=Pe.p,R=xe[2];H>3?(we=R===ce)&&(fe=xe[(G=xe[4])?5:(G=3,3)],xe[4]=xe[5]=s):xe[0]<=x&&((we=H<2&&x<xe[1])?(G=0,Pe.v=ce,Pe.n=xe[1]):x<R&&(we=H<3||xe[0]>ce||ce>R)&&(xe[4]=H,xe[5]=ce,Pe.n=R,G=0))}if(we||H>1)return y;throw Ye=!0,ce}return function(H,ce,we){if(je>1)throw TypeError("Generator is already running");for(Ye&&ce===1&&C(ce,we),G=ce,fe=we;(l=G<2?s:fe)||!Ye;){ee||(G?G<3?(G>1&&(Pe.n=-1),C(G,fe)):Pe.n=fe:Pe.v=fe);try{if(je=2,ee){if(G||(H="next"),l=ee[H]){if(!(l=l.call(ee,fe)))throw TypeError("iterator result is not an object");if(!l.done)return l;fe=l.value,G<2&&(G=0)}else G===1&&(l=ee.return)&&l.call(ee),G<2&&(fe=TypeError("The iterator does not provide a '"+H+"' method"),G=1);ee=s}else if((l=(Ye=Pe.n<0)?fe:le.call(I,Pe))!==y)break}catch(xe){ee=s,G=1,fe=xe}finally{je=1}}return{value:l,done:Ye}}})(U,X,V),!0),de}var y={};function b(){}function v(){}function S(){}l=Object.getPrototypeOf;var k=[][f]?l(l([][f]())):(n(l={},f,function(){return this}),l),N=S.prototype=b.prototype=Object.create(k);function Z(U){return Object.setPrototypeOf?Object.setPrototypeOf(U,S):(U.__proto__=S,n(U,h,"GeneratorFunction")),U.prototype=Object.create(N),U}return v.prototype=S,n(N,"constructor",S),n(S,"constructor",v),v.displayName="GeneratorFunction",n(S,h,"GeneratorFunction"),n(N),n(N,h,"Generator"),n(N,f,function(){return this}),n(N,"toString",function(){return"[object Generator]"}),(a.exports=r=function(){return{w:p,m:Z}},a.exports.__esModule=!0,a.exports.default=a.exports)()}a.exports=r,a.exports.__esModule=!0,a.exports.default=a.exports})(cd)),cd.exports}var fd={exports:{}},dd={exports:{}},hd={exports:{}},av;function fb(){return av||(av=1,(function(a){var n=lb(),r=cb();function s(l,c){function f(p,y,b,v){try{var S=l[p](y),k=S.value;return k instanceof n?c.resolve(k.v).then(function(N){f("next",N,b,v)},function(N){f("throw",N,b,v)}):c.resolve(k).then(function(N){S.value=N,b(S)},function(N){return f("throw",N,b,v)})}catch(N){v(N)}}var h;this.next||(r(s.prototype),r(s.prototype,typeof Symbol=="function"&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),r(this,"_invoke",function(p,y,b){function v(){return new c(function(S,k){f(p,b,S,k)})}return h=h?h.then(v,v):v()},!0)}a.exports=s,a.exports.__esModule=!0,a.exports.default=a.exports})(hd)),hd.exports}var rv;function db(){return rv||(rv=1,(function(a){var n=ub(),r=fb();function s(l,c,f,h,p){return new r(n().w(l,c,f,h),p||Promise)}a.exports=s,a.exports.__esModule=!0,a.exports.default=a.exports})(dd)),dd.exports}var iv;function hE(){return iv||(iv=1,(function(a){var n=db();function r(s,l,c,f,h){var p=n(s,l,c,f,h);return p.next().then(function(y){return y.done?y.value:p.next()})}a.exports=r,a.exports.__esModule=!0,a.exports.default=a.exports})(fd)),fd.exports}var pd={exports:{}},sv;function pE(){return sv||(sv=1,(function(a){function n(r){var s=Object(r),l=[];for(var c in s)l.unshift(c);return function f(){for(;l.length;)if((c=l.pop())in s)return f.value=c,f.done=!1,f;return f.done=!0,f}}a.exports=n,a.exports.__esModule=!0,a.exports.default=a.exports})(pd)),pd.exports}var md={exports:{}},yd={exports:{}},ov;function mE(){return ov||(ov=1,(function(a){function n(r){"@babel/helpers - typeof";return a.exports=n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},a.exports.__esModule=!0,a.exports.default=a.exports,n(r)}a.exports=n,a.exports.__esModule=!0,a.exports.default=a.exports})(yd)),yd.exports}var lv;function yE(){return lv||(lv=1,(function(a){var n=mE().default;function r(s){if(s!=null){var l=s[typeof Symbol=="function"&&Symbol.iterator||"@@iterator"],c=0;if(l)return l.call(s);if(typeof s.next=="function")return s;if(!isNaN(s.length))return{next:function(){return s&&c>=s.length&&(s=void 0),{value:s&&s[c++],done:!s}}}}throw new TypeError(n(s)+" is not iterable")}a.exports=r,a.exports.__esModule=!0,a.exports.default=a.exports})(md)),md.exports}var cv;function gE(){return cv||(cv=1,(function(a){var n=lb(),r=ub(),s=hE(),l=db(),c=fb(),f=pE(),h=yE();function p(){var y=r(),b=y.m(p),v=(Object.getPrototypeOf?Object.getPrototypeOf(b):b.__proto__).constructor;function S(Z){var U=typeof Z=="function"&&Z.constructor;return!!U&&(U===v||(U.displayName||U.name)==="GeneratorFunction")}var k={throw:1,return:2,break:3,continue:3};function N(Z){var U,Q;return function(X){U||(U={stop:function(){return Q(X.a,2)},catch:function(){return X.v},abrupt:function(P,de){return Q(X.a,k[P],de)},delegateYield:function(P,de,le){return U.resultName=de,Q(X.d,h(P),le)},finish:function(P){return Q(X.f,P)}},Q=function(P,de,le){X.p=U.prev,X.n=U.next;try{return P(de,le)}finally{U.next=X.n}}),U.resultName&&(U[U.resultName]=X.v,U.resultName=void 0),U.sent=X.v,U.next=X.n;try{return Z.call(this,U)}finally{X.p=U.prev,X.n=U.next}}}return(a.exports=p=function(){return{wrap:function(Q,X,V,P){return y.w(N(Q),X,V,P&&P.reverse())},isGeneratorFunction:S,mark:y.m,awrap:function(Q,X){return new n(Q,X)},AsyncIterator:c,async:function(Q,X,V,P,de){return(S(X)?l:s)(N(Q),X,V,P,de)},keys:f,values:h}},a.exports.__esModule=!0,a.exports.default=a.exports)()}a.exports=p,a.exports.__esModule=!0,a.exports.default=a.exports})(od)),od.exports}var gd,uv;function vE(){if(uv)return gd;uv=1;var a=gE()();gd=a;try{regeneratorRuntime=a}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}return gd}var bE=vE();const Se=xh(bE);function wE(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=SE(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(y){throw y},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,f=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var y=r.next();return f=y.done,y},e:function(y){h=!0,c=y},f:function(){try{f||r.return==null||r.return()}finally{if(h)throw c}}}}function SE(a,n){if(a){if(typeof a=="string")return fv(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?fv(a,n):void 0}}function fv(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function xE(){return{debug:function(n){}}}var hb=(function(){function a(){dt(this,a),Be(this,"pipes",[])}return ht(a,[{key:"addPipe",value:function(r){this.pipes.push(r)}},{key:"emit",value:(function(){var n=rt(Se.mark(function s(l){var c,f,h,p;return Se.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:c=l,f=wE(this.pipes),b.prev=2,f.s();case 4:if((h=f.n()).done){b.next=13;break}return p=h.value,b.next=8,p(c);case 8:if(c=b.sent,!(typeof c>"u")){b.next=11;break}return b.abrupt("return");case 11:b.next=4;break;case 13:b.next=18;break;case 15:b.prev=15,b.t0=b.catch(2),f.e(b.t0);case 18:return b.prev=18,f.f(),b.finish(18);case 21:return b.abrupt("return",c);case 22:case"end":return b.stop()}},s,this,[[2,15,18,21]])}));function r(s){return n.apply(this,arguments)}return r})()}])})(),cs=(function(){function a(n){dt(this,a),Be(this,"signal",new hb),this.name=n}return ht(a,[{key:"addPipe",value:function(r){this.signal.addPipe(r)}},{key:"use",value:function(r){if(!(r instanceof a))throw new Error("cannot use non-Scope instance");return r.setParent(this),this.addPipe(function(s){return r.signal.emit(s)}),xE()}},{key:"setParent",value:function(r){this.parent=r}},{key:"emit",value:function(r){return this.signal.emit(r)}},{key:"hasParent",value:function(){return!!this.parent}},{key:"parentScope",value:function(r){if(!this.parent)throw new Error("cannot find parent");if(r&&this.parent instanceof r)return this.parent;if(r)throw new Error("actual parent is not instance of type");return this.parent}}])})();function dv(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=EE(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(y){throw y},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,f=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var y=r.next();return f=y.done,y},e:function(y){h=!0,c=y},f:function(){try{f||r.return==null||r.return()}finally{if(h)throw c}}}}function EE(a,n){if(a){if(typeof a=="string")return hv(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hv(a,n):void 0}}function hv(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function kE(a,n,r){return n=Bt(n),La(a,pb()?Reflect.construct(n,r||[],Bt(a).constructor):n.apply(a,r))}function pb(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pb=function(){return!!a})()}var Ur=(function(a){function n(){var r;return dt(this,n),r=kE(this,n,["NodeEditor"]),Be(r,"nodes",[]),Be(r,"connections",[]),r}return Vn(n,a),ht(n,[{key:"getNode",value:function(s){return this.nodes.find(function(l){return l.id===s})}},{key:"getNodes",value:function(){return this.nodes.slice()}},{key:"getConnections",value:function(){return this.connections.slice()}},{key:"getConnection",value:function(s){return this.connections.find(function(l){return l.id===s})}},{key:"addNode",value:(function(){var r=rt(Se.mark(function l(c){return Se.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!this.getNode(c.id)){h.next=2;break}throw new Error("node has already been added");case 2:return h.next=4,this.emit({type:"nodecreate",data:c});case 4:if(h.sent){h.next=6;break}return h.abrupt("return",!1);case 6:return this.nodes.push(c),h.next=9,this.emit({type:"nodecreated",data:c});case 9:return h.abrupt("return",!0);case 10:case"end":return h.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"addConnection",value:(function(){var r=rt(Se.mark(function l(c){return Se.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!this.getConnection(c.id)){h.next=2;break}throw new Error("connection has already been added");case 2:return h.next=4,this.emit({type:"connectioncreate",data:c});case 4:if(h.sent){h.next=6;break}return h.abrupt("return",!1);case 6:return this.connections.push(c),h.next=9,this.emit({type:"connectioncreated",data:c});case 9:return h.abrupt("return",!0);case 10:case"end":return h.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"removeNode",value:(function(){var r=rt(Se.mark(function l(c){var f,h;return Se.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(f=this.nodes.find(function(b){return b.id===c}),f){y.next=3;break}throw new Error("cannot find node");case 3:return y.next=5,this.emit({type:"noderemove",data:f});case 5:if(y.sent){y.next=7;break}return y.abrupt("return",!1);case 7:return h=this.nodes.indexOf(f),this.nodes.splice(h,1),y.next=11,this.emit({type:"noderemoved",data:f});case 11:return y.abrupt("return",!0);case 12:case"end":return y.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"removeConnection",value:(function(){var r=rt(Se.mark(function l(c){var f,h;return Se.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(f=this.connections.find(function(b){return b.id===c}),f){y.next=3;break}throw new Error("cannot find connection");case 3:return y.next=5,this.emit({type:"connectionremove",data:f});case 5:if(y.sent){y.next=7;break}return y.abrupt("return",!1);case 7:return h=this.connections.indexOf(f),this.connections.splice(h,1),y.next=11,this.emit({type:"connectionremoved",data:f});case 11:return y.abrupt("return",!0);case 12:case"end":return y.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"clear",value:(function(){var r=rt(Se.mark(function l(){var c,f,h,p,y,b;return Se.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,this.emit({type:"clear"});case 2:if(S.sent){S.next=6;break}return S.next=5,this.emit({type:"clearcancelled"});case 5:return S.abrupt("return",!1);case 6:c=dv(this.connections.slice()),S.prev=7,c.s();case 9:if((f=c.n()).done){S.next=15;break}return h=f.value,S.next=13,this.removeConnection(h.id);case 13:S.next=9;break;case 15:S.next=20;break;case 17:S.prev=17,S.t0=S.catch(7),c.e(S.t0);case 20:return S.prev=20,c.f(),S.finish(20);case 23:p=dv(this.nodes.slice()),S.prev=24,p.s();case 26:if((y=p.n()).done){S.next=32;break}return b=y.value,S.next=30,this.removeNode(b.id);case 30:S.next=26;break;case 32:S.next=37;break;case 34:S.prev=34,S.t1=S.catch(24),p.e(S.t1);case 37:return S.prev=37,p.f(),S.finish(37);case 40:return S.next=42,this.emit({type:"cleared"});case 42:return S.abrupt("return",!0);case 43:case"end":return S.stop()}},l,this,[[7,17,20,23],[24,34,37,40]])}));function s(){return r.apply(this,arguments)}return s})()}])})(cs),vd=globalThis.crypto;function Ir(){if("randomBytes"in vd)return vd.randomBytes(8).toString("hex");var a=vd.getRandomValues(new Uint8Array(8)),n=Array.from(a),r=n.map(function(s){return s.toString(16).padStart(2,"0")});return r.join("")}function Ch(a,n,r){return n=Bt(n),La(a,mb()?Reflect.construct(n,r||[],Bt(a).constructor):n.apply(a,r))}function mb(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mb=function(){return!!a})()}var CE=ht(function a(n){dt(this,a),this.name=n}),Th=ht(function a(n,r,s){dt(this,a),this.socket=n,this.label=r,this.multipleConnections=s,this.id=Ir()}),TE=(function(a){function n(r,s,l){var c;return dt(this,n),c=Ch(this,n,[r,s,l]),Be(c,"control",null),Be(c,"showControl",!0),c.socket=r,c.label=s,c.multipleConnections=l,c}return Vn(n,a),ht(n,[{key:"addControl",value:function(s){if(this.control)throw new Error("control already added for this input");this.control=s}},{key:"removeControl",value:function(){this.control=null}}])})(Th),OE=(function(a){function n(r,s,l){return dt(this,n),Ch(this,n,[r,s,l!==!1])}return Vn(n,a),ht(n)})(Th),yb=ht(function a(){dt(this,a),this.id=Ir()}),NE=(function(a){function n(r,s){var l,c;return dt(this,n),c=Ch(this,n),c.type=r,c.options=s,c.id=Ir(),c.readonly=(l=s?.readonly)!==null&&l!==void 0?l:!1,typeof s?.initial<"u"&&(c.value=s.initial),c}return Vn(n,a),ht(n,[{key:"setValue",value:function(s){var l;this.value=s,(l=this.options)!==null&&l!==void 0&&l.change&&this.options.change(s)}}])})(yb),jE=(function(){function a(n){dt(this,a),Be(this,"inputs",{}),Be(this,"outputs",{}),Be(this,"controls",{}),this.label=n,this.id=Ir()}return ht(a,[{key:"hasInput",value:function(r){return Object.prototype.hasOwnProperty.call(this.inputs,r)}},{key:"addInput",value:function(r,s){if(this.hasInput(r))throw new Error("input with key '".concat(String(r),"' already added"));Object.defineProperty(this.inputs,r,{value:s,enumerable:!0,configurable:!0})}},{key:"removeInput",value:function(r){delete this.inputs[r]}},{key:"hasOutput",value:function(r){return Object.prototype.hasOwnProperty.call(this.outputs,r)}},{key:"addOutput",value:function(r,s){if(this.hasOutput(r))throw new Error("output with key '".concat(String(r),"' already added"));Object.defineProperty(this.outputs,r,{value:s,enumerable:!0,configurable:!0})}},{key:"removeOutput",value:function(r){delete this.outputs[r]}},{key:"hasControl",value:function(r){return Object.prototype.hasOwnProperty.call(this.controls,r)}},{key:"addControl",value:function(r,s){if(this.hasControl(r))throw new Error("control with key '".concat(String(r),"' already added"));Object.defineProperty(this.controls,r,{value:s,enumerable:!0,configurable:!0})}},{key:"removeControl",value:function(r){delete this.controls[r]}}])})(),AE=ht(function a(n,r,s,l){if(dt(this,a),this.sourceOutput=r,this.targetInput=l,!n.outputs[r])throw new Error("source node doesn't have output with a key ".concat(String(r)));if(!s.inputs[l])throw new Error("target node doesn't have input with a key ".concat(String(l)));this.id=Ir(),this.source=n.id,this.target=s.id}),Ft=Object.freeze({__proto__:null,Socket:CE,Port:Th,Input:TE,Output:OE,Control:yb,InputControl:NE,Node:jE,Connection:AE});const _E=Object.freeze(Object.defineProperty({__proto__:null,ClassicPreset:Ft,NodeEditor:Ur,Scope:cs,Signal:hb,getUID:Ir},Symbol.toStringTag,{value:"Module"}));function Hd(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function DE(a){if(Array.isArray(a))return Hd(a)}function ME(a){if(typeof Symbol<"u"&&a[Symbol.iterator]!=null||a["@@iterator"]!=null)return Array.from(a)}function gb(a,n){if(a){if(typeof a=="string")return Hd(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Hd(a,n):void 0}}function RE(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function us(a){return DE(a)||ME(a)||gb(a)||RE()}var zE=(function(){function a(n){dt(this,a),this.reordered=n,this.holder=document.createElement("div"),this.holder.style.transformOrigin="0 0"}return ht(a,[{key:"getPointerFrom",value:function(r){var s=this.holder.getBoundingClientRect(),l=s.left,c=s.top,f=r.clientX-l,h=r.clientY-c;return{x:f,y:h}}},{key:"add",value:function(r){this.holder.appendChild(r)}},{key:"reorder",value:(function(){var n=rt(Se.mark(function s(l,c){return Se.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(this.holder.contains(l)){h.next=2;break}throw new Error("content doesn't have 'target' for reordering");case 2:if(!(c!==null&&!this.holder.contains(c))){h.next=4;break}throw new Error("content doesn't have 'next' for reordering");case 4:return this.holder.insertBefore(l,c),h.next=7,this.reordered(l);case 7:case"end":return h.stop()}},s,this)}));function r(s,l){return n.apply(this,arguments)}return r})()},{key:"remove",value:function(r){this.holder.contains(r)&&this.holder.removeChild(r)}}])})();function vb(a,n){var r=function(f){n.move(f)},s=function(f){window.removeEventListener("pointermove",r),window.removeEventListener("pointerup",s),window.removeEventListener("pointercancel",s),n.up(f)},l=function(f){window.addEventListener("pointermove",r),window.addEventListener("pointerup",s),window.addEventListener("pointercancel",s),n.down(f)};return a.addEventListener("pointerdown",l),{destroy:function(){a.removeEventListener("pointerdown",l),window.removeEventListener("pointermove",r),window.removeEventListener("pointerup",s),window.removeEventListener("pointercancel",s)}}}var pv=function(n){return n.length===0?0:Math.min.apply(Math,us(n))},mv=function(n){return n.length===0?0:Math.max.apply(Math,us(n))};function bb(a){var n=pv(a.map(function(c){return c.position.x})),r=pv(a.map(function(c){return c.position.y})),s=mv(a.map(function(c){return c.position.x+c.width})),l=mv(a.map(function(c){return c.position.y+c.height}));return{left:n,right:s,top:r,bottom:l,width:Math.abs(n-s),height:Math.abs(r-l),center:{x:(n+s)/2,y:(r+l)/2}}}function yv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function LE(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?yv(Object(r),!0).forEach(function(s){Be(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):yv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}var Oh=(function(){function a(n){var r=this;dt(this,a),Be(this,"down",function(s){r.guards.down(s)&&(s.stopPropagation(),r.pointerStart={x:s.pageX,y:s.pageY},r.startPosition=LE({},r.config.getCurrentPosition()),r.events.start(s))}),Be(this,"move",function(s){if(!(!r.pointerStart||!r.startPosition)&&r.guards.move(s)){s.preventDefault();var l={x:s.pageX-r.pointerStart.x,y:s.pageY-r.pointerStart.y},c=r.config.getZoom(),f=r.startPosition.x+l.x/c,h=r.startPosition.y+l.y/c;r.events.translate(f,h,s)}}),Be(this,"up",function(s){r.pointerStart&&(delete r.pointerStart,r.events.drag(s))}),this.guards=n||{down:function(l){return!(l.pointerType==="mouse"&&l.button!==0)},move:function(){return!0}}}return ht(a,[{key:"initialize",value:function(r,s,l){this.config=s,this.events=l,r.style.touchAction="none",this.pointerListener=vb(r,{down:this.down,move:this.move,up:this.up})}},{key:"destroy",value:function(){this.pointerListener.destroy()}}])})(),wb=(function(){function a(n){var r=this;dt(this,a),Be(this,"previous",null),Be(this,"pointers",[]),Be(this,"wheel",function(s){s.preventDefault();var l=r.element.getBoundingClientRect(),c=l.left,f=l.top,h=s.deltaY<0,p=h?r.intensity:-r.intensity,y=(c-s.clientX)*p,b=(f-s.clientY)*p;r.onzoom(p,y,b,"wheel")}),Be(this,"down",function(s){r.pointers.push(s)}),Be(this,"move",function(s){if(r.pointers=r.pointers.map(function(N){return N.pointerId===s.pointerId?s:N}),!!r.isTranslating()){var l=r.element.getBoundingClientRect(),c=l.left,f=l.top,h=r.getTouches(),p=h.cx,y=h.cy,b=h.distance;if(r.previous!==null&&r.previous.distance>0){var v=b/r.previous.distance-1,S=(c-p)*v,k=(f-y)*v;r.onzoom(v,S-(r.previous.cx-p),k-(r.previous.cy-y),"touch")}r.previous={cx:p,cy:y,distance:b}}}),Be(this,"contextmenu",function(){r.pointers=[]}),Be(this,"up",function(s){r.previous=null,r.pointers=r.pointers.filter(function(l){return l.pointerId!==s.pointerId})}),Be(this,"dblclick",function(s){s.preventDefault();var l=r.element.getBoundingClientRect(),c=l.left,f=l.top,h=4*r.intensity,p=(c-s.clientX)*h,y=(f-s.clientY)*h;r.onzoom(h,p,y,"dblclick")}),this.intensity=n}return ht(a,[{key:"initialize",value:function(r,s,l){this.container=r,this.element=s,this.onzoom=l,this.container.addEventListener("wheel",this.wheel),this.container.addEventListener("pointerdown",this.down),this.container.addEventListener("dblclick",this.dblclick),window.addEventListener("pointermove",this.move),window.addEventListener("pointerup",this.up),window.addEventListener("pointercancel",this.up),window.addEventListener("contextmenu",this.contextmenu)}},{key:"getTouches",value:function(){var r={touches:this.pointers},s=[r.touches[0].clientX,r.touches[0].clientY],l=s[0],c=s[1],f=[r.touches[1].clientX,r.touches[1].clientY],h=f[0],p=f[1],y=Math.sqrt(Math.pow(l-h,2)+Math.pow(c-p,2));return{cx:(l+h)/2,cy:(c+p)/2,distance:y}}},{key:"isTranslating",value:function(){return this.pointers.length>=2}},{key:"destroy",value:function(){this.container.removeEventListener("wheel",this.wheel),this.container.removeEventListener("pointerdown",this.down),this.container.removeEventListener("dblclick",this.dblclick),window.removeEventListener("pointermove",this.move),window.removeEventListener("pointerup",this.up),window.removeEventListener("pointercancel",this.up),window.removeEventListener("contextmenu",this.contextmenu)}}])})(),Sb=(function(){function a(n,r,s){var l=this;dt(this,a),Be(this,"transform",{k:1,x:0,y:0}),Be(this,"pointer",{x:0,y:0}),Be(this,"zoomHandler",null),Be(this,"dragHandler",null),Be(this,"pointerdown",function(c){l.setPointerFrom(c),l.events.pointerDown(l.pointer,c)}),Be(this,"pointermove",function(c){l.setPointerFrom(c),l.events.pointerMove(l.pointer,c)}),Be(this,"pointerup",function(c){l.setPointerFrom(c),l.events.pointerUp(l.pointer,c)}),Be(this,"resize",function(c){l.events.resize(c)}),Be(this,"onTranslate",function(c,f){var h;(h=l.zoomHandler)!==null&&h!==void 0&&h.isTranslating()||l.translate(c,f)}),Be(this,"onZoom",function(c,f,h,p){l.zoom(l.transform.k*(1+c),f,h,p),l.update()}),this.container=n,this.events=r,this.guards=s,this.content=new zE(function(c){return l.events.reordered(c)}),this.content.holder.style.transformOrigin="0 0",this.setZoomHandler(new wb(.1)),this.setDragHandler(new Oh),this.container.addEventListener("pointerdown",this.pointerdown),this.container.addEventListener("pointermove",this.pointermove),window.addEventListener("pointerup",this.pointerup),window.addEventListener("resize",this.resize),n.appendChild(this.content.holder),this.update()}return ht(a,[{key:"update",value:function(){var r=this.transform,s=r.x,l=r.y,c=r.k;this.content.holder.style.transform="translate(".concat(s,"px, ").concat(l,"px) scale(").concat(c,")")}},{key:"setDragHandler",value:function(r){var s=this;this.dragHandler&&this.dragHandler.destroy(),this.dragHandler=r,this.dragHandler&&this.dragHandler.initialize(this.container,{getCurrentPosition:function(){return s.transform},getZoom:function(){return 1}},{start:function(){return null},translate:this.onTranslate,drag:function(){return null}})}},{key:"setZoomHandler",value:function(r){this.zoomHandler&&this.zoomHandler.destroy(),this.zoomHandler=r,this.zoomHandler&&this.zoomHandler.initialize(this.container,this.content.holder,this.onZoom)}},{key:"setPointerFrom",value:function(r){var s=this.content.getPointerFrom(r),l=s.x,c=s.y,f=this.transform.k;this.pointer={x:l/f,y:c/f}}},{key:"translate",value:(function(){var n=rt(Se.mark(function s(l,c){var f,h;return Se.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return f={x:l,y:c},y.next=3,this.guards.translate({previous:this.transform,position:f});case 3:if(h=y.sent,h){y.next=6;break}return y.abrupt("return",!1);case 6:return this.transform.x=h.data.position.x,this.transform.y=h.data.position.y,this.update(),y.next=11,this.events.translated(h.data);case 11:return y.abrupt("return",!0);case 12:case"end":return y.stop()}},s,this)}));function r(s,l){return n.apply(this,arguments)}return r})()},{key:"zoom",value:(function(){var n=rt(Se.mark(function s(l){var c,f,h,p,y,b,v=arguments;return Se.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return c=v.length>1&&v[1]!==void 0?v[1]:0,f=v.length>2&&v[2]!==void 0?v[2]:0,h=v.length>3?v[3]:void 0,p=this.transform.k,k.next=6,this.guards.zoom({previous:this.transform,zoom:l,source:h});case 6:if(y=k.sent,y){k.next=9;break}return k.abrupt("return",!0);case 9:return b=(p-y.data.zoom)/(p-l||1),this.transform.k=y.data.zoom||1,this.transform.x+=c*b,this.transform.y+=f*b,this.update(),k.next=16,this.events.zoomed(y.data);case 16:return k.abrupt("return",!1);case 17:case"end":return k.stop()}},s,this)}));function r(s){return n.apply(this,arguments)}return r})()},{key:"destroy",value:function(){this.container.removeEventListener("pointerdown",this.pointerdown),this.container.removeEventListener("pointermove",this.pointermove),window.removeEventListener("pointerup",this.pointerup),window.removeEventListener("resize",this.resize),this.dragHandler&&this.dragHandler.destroy(),this.zoomHandler&&this.zoomHandler.destroy(),this.content.holder.innerHTML=""}}])})();function BE(a,n,r){return n=Bt(n),La(a,xb()?Reflect.construct(n,r||[],Bt(a).constructor):n.apply(a,r))}function xb(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xb=function(){return!!a})()}var Do=(function(a){function n(){return dt(this,n),BE(this,n,arguments)}return Vn(n,a),ht(n)})(cs),UE=ht(function a(n){dt(this,a),this.element=document.createElement("div"),this.element.style.position="absolute",this.element.style.left="0",this.element.style.top="0",this.element.addEventListener("contextmenu",function(r){return n.contextmenu(r)})}),IE=(function(){function a(){dt(this,a),Be(this,"views",new WeakMap),Be(this,"viewsElements",new Map)}return ht(a,[{key:"set",value:function(r){var s=r.element,l=r.type,c=r.payload;c!=null&&c.id&&(this.views.set(s,r),this.viewsElements.set("".concat(l,"_").concat(c.id),s))}},{key:"get",value:function(r,s){var l=this.viewsElements.get("".concat(r,"_").concat(s));return l&&this.views.get(l)}},{key:"delete",value:function(r){var s,l=this.views.get(r);l&&(s=l.payload)!==null&&s!==void 0&&s.id&&(this.views.delete(r),this.viewsElements.delete("".concat(l.type,"_").concat(l.payload.id)))}}])})();function gv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function vv(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?gv(Object(r),!0).forEach(function(s){Be(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):gv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}var Eb=(function(){function a(n,r,s){var l=this;dt(this,a),Be(this,"translate",(function(){var c=rt(Se.mark(function f(h,p){var y,b;return Se.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return y=vv({},l.position),S.next=3,l.guards.translate({previous:y,position:{x:h,y:p}});case 3:if(b=S.sent,b){S.next=6;break}return S.abrupt("return",!1);case 6:return l.position=vv({},b.data.position),l.element.style.transform="translate(".concat(l.position.x,"px, ").concat(l.position.y,"px)"),S.next=10,l.events.translated({position:l.position,previous:y});case 10:return S.abrupt("return",!0);case 11:case"end":return S.stop()}},f)}));return function(f,h){return c.apply(this,arguments)}})()),Be(this,"resize",(function(){var c=rt(Se.mark(function f(h,p){var y,b;return Se.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return y={width:h,height:p},S.next=3,l.guards.resize({size:y});case 3:if(S.sent){S.next=5;break}return S.abrupt("return",!1);case 5:if(b=l.element.querySelector("*:not(span):not([fragment])"),!(!b||!(b instanceof HTMLElement))){S.next=8;break}return S.abrupt("return",!1);case 8:return b.style.width="".concat(h,"px"),b.style.height="".concat(p,"px"),S.next=12,l.events.resized({size:y});case 12:return S.abrupt("return",!0);case 13:case"end":return S.stop()}},f)}));return function(f,h){return c.apply(this,arguments)}})()),this.getZoom=n,this.events=r,this.guards=s,this.element=document.createElement("div"),this.element.style.position="absolute",this.position={x:0,y:0},this.translate(0,0),this.element.addEventListener("contextmenu",function(c){return l.events.contextmenu(c)}),this.dragHandler=new Oh,this.dragHandler.initialize(this.element,{getCurrentPosition:function(){return l.position},getZoom:function(){return l.getZoom()}},{start:this.events.picked,translate:this.translate,drag:this.events.dragged})}return ht(a,[{key:"destroy",value:function(){this.dragHandler.destroy()}}])})();function kb(a,n){return a.map(function(r){return{view:n.get(r.id),node:r}}).filter(function(r){return r.view}).map(function(r){var s=r.view,l=r.node,c=l.width,f=l.height;return typeof c<"u"&&typeof f<"u"?{position:s.position,width:c,height:f}:{position:s.position,width:s.element.clientWidth,height:s.element.clientHeight}})}function $E(a,n){var r=a.parentScope(Ur),s=n.map(function(c){return wn(c)==="object"?c:r.getNode(c)}),l=kb(s,a.nodeViews);return bb(l)}function HE(a){var n=a;n.addPipe(function(r){if(!r||wn(r)!=="object"||!("type"in r))return r;if(r.type==="nodepicked"){var s=n.nodeViews.get(r.data.id),l=n.area.content;s&&l.reorder(s.element,null)}if(r.type==="connectioncreated"){var c=n.connectionViews.get(r.data.id),f=n.area.content;c&&f.reorder(c.element,f.holder.firstChild)}return r})}function bv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function tr(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?bv(Object(r),!0).forEach(function(s){Be(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):bv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function VE(a,n){var r=n!=null&&n.scaling?n.scaling===!0?{min:.1,max:1}:n.scaling:!1,s=n!=null&&n.translation?n.translation===!0?{left:0,top:0,right:1e3,bottom:1e3}:n.translation:!1;function l(f){if(!r)throw new Error("scaling param isnt defined");var h=typeof r=="function"?r():r,p=h.min,y=h.max;return f<p?p:f>y?y:f}function c(f){if(!s)throw new Error("translation param isnt defined");var h=tr({},f),p=typeof s=="function"?s():s,y=p.left,b=p.top,v=p.right,S=p.bottom;return h.x<y&&(h.x=y),h.x>v&&(h.x=v),h.y<b&&(h.y=b),h.y>S&&(h.y=S),h}a.addPipe(function(f){if(!f||wn(f)!=="object"||!("type"in f))return f;if(r&&f.type==="zoom")return tr(tr({},f),{},{data:tr(tr({},f.data),{},{zoom:l(f.data.zoom)})});if(s&&f.type==="zoomed"){var h=c(a.area.transform);a.area.translate(h.x,h.y)}return s&&f.type==="translate"?tr(tr({},f),{},{data:tr(tr({},f.data),{},{position:c(f.data.position)})}):f})}function qE(){var a=!1;function n(s){(s.key==="Control"||s.key==="Meta")&&(a=!0)}function r(s){(s.key==="Control"||s.key==="Meta")&&(a=!1)}return document.addEventListener("keydown",n),document.addEventListener("keyup",r),{active:function(){return a},destroy:function(){document.removeEventListener("keydown",n),document.removeEventListener("keyup",r)}}}var Cb=(function(){function a(){dt(this,a),Be(this,"entities",new Map),Be(this,"pickId",null)}return ht(a,[{key:"isSelected",value:function(r){return this.entities.has("".concat(r.label,"_").concat(r.id))}},{key:"add",value:(function(){var n=rt(Se.mark(function s(l,c){return Se.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(c){h.next=3;break}return h.next=3,this.unselectAll();case 3:this.entities.set("".concat(l.label,"_").concat(l.id),l);case 4:case"end":return h.stop()}},s,this)}));function r(s,l){return n.apply(this,arguments)}return r})()},{key:"remove",value:(function(){var n=rt(Se.mark(function s(l){var c,f;return Se.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(c="".concat(l.label,"_").concat(l.id),f=this.entities.get(c),!f){p.next=6;break}return this.entities.delete(c),p.next=6,f.unselect();case 6:case"end":return p.stop()}},s,this)}));function r(s){return n.apply(this,arguments)}return r})()},{key:"unselectAll",value:(function(){var n=rt(Se.mark(function s(){var l=this;return Se.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,Promise.all(us(Array.from(this.entities.values())).map(function(h){return l.remove(h)}));case 2:case"end":return f.stop()}},s,this)}));function r(){return n.apply(this,arguments)}return r})()},{key:"translate",value:(function(){var n=rt(Se.mark(function s(l,c){var f=this;return Se.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,Promise.all(Array.from(this.entities.values()).map(function(y){return!f.isPicked(y)&&y.translate(l,c)}));case 2:case"end":return p.stop()}},s,this)}));function r(s,l){return n.apply(this,arguments)}return r})()},{key:"pick",value:function(r){this.pickId="".concat(r.label,"_").concat(r.id)}},{key:"release",value:function(){this.pickId=null}},{key:"isPicked",value:function(r){return this.pickId==="".concat(r.label,"_").concat(r.id)}}])})();function YE(){return new Cb}function GE(a,n,r){var s=null,l=a,c=function(){return s||(s=l.parentScope(Ur))},f=0;function h(k){k.selected||(k.selected=!0,l.update("node",k.id))}function p(k){k.selected&&(k.selected=!1,l.update("node",k.id))}function y(k,N){return b.apply(this,arguments)}function b(){return b=rt(Se.mark(function k(N,Z){var U;return Se.wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(U=c().getNode(N),U){X.next=3;break}return X.abrupt("return");case 3:return X.next=5,n.add({label:"node",id:U.id,translate:function(P,de){return rt(Se.mark(function le(){var I,oe;return Se.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(I=l.nodeViews.get(U.id),oe=I?.position,!oe){G.next=5;break}return G.next=5,I.translate(oe.x+P,oe.y+de);case 5:case"end":return G.stop()}},le)}))()},unselect:function(){p(U)}},Z);case 5:h(U);case 6:case"end":return X.stop()}},k)})),b.apply(this,arguments)}function v(k){return S.apply(this,arguments)}function S(){return S=rt(Se.mark(function k(N){return Se.wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,n.remove({id:N,label:"node"});case 2:case"end":return U.stop()}},k)})),S.apply(this,arguments)}return l.addPipe((function(){var k=rt(Se.mark(function N(Z){var U,Q,X,V,P,de,le,I;return Se.wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(!(!Z||wn(Z)!=="object"||!("type"in Z))){ee.next=2;break}return ee.abrupt("return",Z);case 2:if(Z.type!=="nodepicked"){ee.next=11;break}return U=Z.data.id,Q=r.accumulating.active(),n.pick({id:U,label:"node"}),f=null,ee.next=9,y(U,Q);case 9:ee.next=33;break;case 11:if(Z.type!=="nodetranslated"){ee.next=20;break}if(X=Z.data,V=X.id,P=X.position,de=X.previous,le=P.x-de.x,I=P.y-de.y,!n.isPicked({id:V,label:"node"})){ee.next=18;break}return ee.next=18,n.translate(le,I);case 18:ee.next=33;break;case 20:if(Z.type!=="pointerdown"){ee.next=24;break}f=0,ee.next=33;break;case 24:if(Z.type!=="pointermove"){ee.next=28;break}f!==null&&f++,ee.next=33;break;case 28:if(Z.type!=="pointerup"){ee.next=33;break}if(!(f!==null&&f<4)){ee.next=32;break}return ee.next=32,n.unselectAll();case 32:f=null;case 33:return ee.abrupt("return",Z);case 34:case"end":return ee.stop()}},N)}));return function(N){return k.apply(this,arguments)}})()),{select:y,unselect:v}}function ZE(a,n){var r=null,s=function(){return r||(r=a.parentScope(Ur))};function l(c,f){var h=s().getNode(c);if(h){var p=h.inputs[f];if(!p)throw new Error("cannot find input");var y=p.showControl,b=s().getConnections(),v=!!b.find(function(S){return S.target===c&&S.targetInput===f});p.showControl=n?n({hasAnyConnection:v,input:p}):!v,p.showControl!==y&&a.update("node",h.id)}}a.addPipe(function(c){return(c.type==="connectioncreated"||c.type==="connectionremoved")&&l(c.data.target,c.data.targetInput),c})}function wv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function Ql(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?wv(Object(r),!0).forEach(function(s){Be(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):wv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function PE(a,n){var r=a,s=typeof n?.size>"u"?16:n.size,l=typeof n?.dynamic>"u"?!0:n.dynamic;function c(f){return Math.round(f/s)*s}r.addPipe(function(f){if(!f||wn(f)!=="object"||!("type"in f))return f;if(l&&f.type==="nodetranslate"){var h=f.data.position,p=c(h.x),y=c(h.y);return Ql(Ql({},f),{},{data:Ql(Ql({},f.data),{},{position:{x:p,y}})})}if(!l&&f.type==="nodedragged"){var b=r.nodeViews.get(f.data.id);if(b){var v=b.position,S=v.x,k=v.y;b.translate(c(S),c(k))}}return f})}function FE(a,n,r){return Vd.apply(this,arguments)}function Vd(){return Vd=rt(Se.mark(function a(n,r,s){var l,c,f,h,p,y,b,v,S,k,N,Z,U;return Se.wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return l=s||{},c=l.scale,f=c===void 0?.9:c,h=n.parentScope(Ur),p=r.map(function(V){return wn(V)==="object"?V:h.getNode(V)}),y=kb(p,n.nodeViews),b=bb(y),v=[n.container.clientWidth,n.container.clientHeight],S=v[0],k=v[1],N=S/b.width,Z=k/b.height,U=Math.min(Z*f,N*f,1),n.area.transform.x=S/2-b.center.x*U,n.area.transform.y=k/2-b.center.y*U,X.next=12,n.area.zoom(U,0,0);case 12:case"end":return X.stop()}},a)})),Vd.apply(this,arguments)}var _r=Object.freeze({__proto__:null,getBoundingBox:$E,simpleNodesOrder:HE,restrictor:VE,accumulateOnCtrl:qE,selectableNodes:GE,Selector:Cb,selector:YE,showInputControl:ZE,snapGrid:PE,zoomAt:FE});function Sv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function xv(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Sv(Object(r),!0).forEach(function(s){Be(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):Sv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function XE(a,n,r){return n=Bt(n),La(a,Tb()?Reflect.construct(n,r||[],Bt(a).constructor):n.apply(a,r))}function Tb(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tb=function(){return!!a})()}var Ob=(function(a){function n(r){var s;return dt(this,n),s=XE(this,n,["area"]),Be(s,"nodeViews",new Map),Be(s,"connectionViews",new Map),Be(s,"elements",new IE),Be(s,"onContextMenu",function(l){s.emit({type:"contextmenu",data:{event:l,context:"root"}})}),s.container=r,r.style.overflow="hidden",r.addEventListener("contextmenu",s.onContextMenu),s.addPipe(function(l){return!l||!(wn(l)==="object"&&"type"in l)||(l.type==="nodecreated"&&s.addNodeView(l.data),l.type==="noderemoved"&&s.removeNodeView(l.data.id),l.type==="connectioncreated"&&s.addConnectionView(l.data),l.type==="connectionremoved"&&s.removeConnectionView(l.data.id),l.type==="render"&&s.elements.set(l.data),l.type==="unmount"&&s.elements.delete(l.data.element)),l}),s.area=new Sb(r,{zoomed:function(c){return s.emit({type:"zoomed",data:c})},pointerDown:function(c,f){return void s.emit({type:"pointerdown",data:{position:c,event:f}})},pointerMove:function(c,f){return void s.emit({type:"pointermove",data:{position:c,event:f}})},pointerUp:function(c,f){return void s.emit({type:"pointerup",data:{position:c,event:f}})},resize:function(c){return void s.emit({type:"resized",data:{event:c}})},translated:function(c){return s.emit({type:"translated",data:c})},reordered:function(c){return s.emit({type:"reordered",data:{element:c}})}},{translate:function(c){return s.emit({type:"translate",data:c})},zoom:function(c){return s.emit({type:"zoom",data:c})}}),s}return Vn(n,a),ht(n,[{key:"addNodeView",value:function(s){var l=this,c=s.id,f=new Eb(function(){return l.area.transform.k},{picked:function(){return void l.emit({type:"nodepicked",data:{id:c}})},translated:function(p){return l.emit({type:"nodetranslated",data:xv({id:c},p)})},dragged:function(){return void l.emit({type:"nodedragged",data:s})},contextmenu:function(p){return void l.emit({type:"contextmenu",data:{event:p,context:s}})},resized:function(p){var y=p.size;return l.emit({type:"noderesized",data:{id:s.id,size:y}})}},{translate:function(p){return l.emit({type:"nodetranslate",data:xv({id:c},p)})},resize:function(p){var y=p.size;return l.emit({type:"noderesize",data:{id:s.id,size:y}})}});return this.nodeViews.set(c,f),this.area.content.add(f.element),this.emit({type:"render",data:{element:f.element,type:"node",payload:s}}),f}},{key:"removeNodeView",value:function(s){var l=this.nodeViews.get(s);l&&(this.emit({type:"unmount",data:{element:l.element}}),this.nodeViews.delete(s),this.area.content.remove(l.element))}},{key:"addConnectionView",value:function(s){var l=this,c=new UE({contextmenu:function(h){return void l.emit({type:"contextmenu",data:{event:h,context:s}})}});return this.connectionViews.set(s.id,c),this.area.content.add(c.element),this.emit({type:"render",data:{element:c.element,type:"connection",payload:s}}),c}},{key:"removeConnectionView",value:function(s){var l=this.connectionViews.get(s);l&&(this.emit({type:"unmount",data:{element:l.element}}),this.connectionViews.delete(s),this.area.content.remove(l.element))}},{key:"update",value:(function(){var r=rt(Se.mark(function l(c,f){var h;return Se.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(h=this.elements.get(c,f),!h){y.next=4;break}return y.next=4,this.emit({type:"render",data:h});case 4:case"end":return y.stop()}},l,this)}));function s(l,c){return r.apply(this,arguments)}return s})()},{key:"resize",value:(function(){var r=rt(Se.mark(function l(c,f,h){var p;return Se.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(p=this.nodeViews.get(c),!p){b.next=5;break}return b.next=4,p.resize(f,h);case 4:return b.abrupt("return",b.sent);case 5:case"end":return b.stop()}},l,this)}));function s(l,c,f){return r.apply(this,arguments)}return s})()},{key:"translate",value:(function(){var r=rt(Se.mark(function l(c,f){var h,p,y;return Se.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(h=f.x,p=f.y,y=this.nodeViews.get(c),!y){v.next=6;break}return v.next=5,y.translate(h,p);case 5:return v.abrupt("return",v.sent);case 6:case"end":return v.stop()}},l,this)}));function s(l,c){return r.apply(this,arguments)}return s})()},{key:"destroy",value:function(){var s=this;this.container.removeEventListener("contextmenu",this.onContextMenu),Array.from(this.connectionViews.keys()).forEach(function(l){return s.removeConnectionView(l)}),Array.from(this.nodeViews.keys()).forEach(function(l){return s.removeNodeView(l)}),this.area.destroy()}}])})(Do);const Ev=Object.freeze(Object.defineProperty({__proto__:null,Area:Sb,AreaExtensions:_r,AreaPlugin:Ob,BaseAreaPlugin:Do,Drag:Oh,NodeView:Eb,Zoom:wb,usePointerListener:vb},Symbol.toStringTag,{value:"Module"}));function KE(a,n){for(;!{}.hasOwnProperty.call(a,n)&&(a=Bt(a))!==null;);return a}function jo(){return jo=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(a,n,r){var s=KE(a,n);if(s){var l=Object.getOwnPropertyDescriptor(s,n);return l.get?l.get.call(arguments.length<3?a:r):l.value}},jo.apply(null,arguments)}function QE(a){if(Array.isArray(a))return a}function JE(a,n){var r=a==null?null:typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(r!=null){var s,l,c,f,h=[],p=!0,y=!1;try{if(c=(r=r.call(a)).next,n!==0)for(;!(p=(s=c.call(r)).done)&&(h.push(s.value),h.length!==n);p=!0);}catch(b){y=!0,l=b}finally{try{if(!p&&r.return!=null&&(f=r.return(),Object(f)!==f))return}finally{if(y)throw l}}return h}}function WE(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _n(a,n){return QE(a)||JE(a,n)||gb(a,n)||WE()}function kv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function bd(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?kv(Object(r),!0).forEach(function(s){Be(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):kv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function e2(a){var n=null,r=null;function s(c){r&&c.removeConnectionView(r),n=null,r=null}function l(c){s(c),r="pseudo_".concat(Ir())}return{isMounted:function(){return!!r},mount:l,render:function(f,h,p){var y=h.x,b=h.y,v=p.side==="output",S={x:y+(v?-3:3),y:b};if(!r)throw new Error("pseudo connection id wasn't generated");var k=v?bd({id:r,source:p.nodeId,sourceOutput:p.key,target:"",targetInput:""},a??{}):bd({id:r,target:p.nodeId,targetInput:p.key,source:"",sourceOutput:""},a??{});if(!n){var N=f.addConnectionView(k);n=N.element}n&&f.emit({type:"render",data:bd({element:n,type:"connection",payload:k},v?{end:S}:{start:S})})},unmount:s}}function t2(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=n2(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(y){throw y},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,f=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var y=r.next();return f=y.done,y},e:function(y){h=!0,c=y},f:function(){try{f||r.return==null||r.return()}finally{if(h)throw c}}}}function n2(a,n){if(a){if(typeof a=="string")return Cv(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Cv(a,n):void 0}}function Cv(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function a2(a,n){var r=t2(n),s;try{for(r.s();!(s=r.n()).done;){var l=s.value,c=a.get(l);if(c)return c}}catch(f){r.e(f)}finally{r.f()}}function Nb(a,n){var r,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document,l=s.elementsFromPoint(a,n),c=(r=l[0])===null||r===void 0?void 0:r.shadowRoot;return c&&c!==s&&l.unshift.apply(l,us(Nb(a,n,c))),l}var Nh=(function(){function a(){dt(this,a)}return ht(a,[{key:"setContext",value:function(r){this.context=r}}])})();function jb(a,n){var r=a.side==="output"&&n.side==="input",s=a.side==="input"&&n.side==="output",l=r?[a,n]:s?[n,a]:[],c=_n(l,2),f=c[0],h=c[1];if(f&&h)return[f,h]}function r2(a,n){return!!jb(a,n)}function i2(a,n,r){var s=jb(a,n)||[null,null],l=_n(s,2),c=l[0],f=l[1];if(c&&f)return r.editor.addConnection({id:Ir(),source:c.nodeId,sourceOutput:c.key,target:f.nodeId,targetInput:f.key}),!0}function s2(a,n){var r=n.getNode(a.nodeId);if(!r)throw new Error("cannot find node");var s=a.side==="input"?r.inputs:r.outputs;return s[a.key]}function o2(a,n){var r=a.nodeId,s=a.side,l=a.key;return n.getConnections().filter(function(c){if(s==="input")return c.target===r&&c.targetInput===l;if(s==="output")return c.source===r&&c.sourceOutput===l})}function qd(a,n){var r=a.map(function(s){var l=s2(s,n),c=l?.multipleConnections;return c?[]:o2(s,n)}).flat();return{commit:function(){var l=Array.from(new Set(r.map(function(c){var f=c.id;return f})));l.forEach(function(c){return void n.removeConnection(c)})}}}function jh(a,n,r){return n=Bt(n),La(a,Ab()?Reflect.construct(n,[],Bt(a).constructor):n.apply(a,r))}function Ab(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ab=function(){return!!a})()}var l2=(function(a){function n(r,s){var l;return dt(this,n),l=jh(this,n),l.initial=r,l.params=s,l}return Vn(n,a),ht(n,[{key:"pick",value:(function(){var r=rt(Se.mark(function l(c,f){var h,p;return Se.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:h=c.socket,this.params.canMakeConnection(this.initial,h)&&(qd([this.initial,h],f.editor).commit(),p=this.params.makeConnection(this.initial,h,f),this.drop(f,p?h:null,p));case 2:case"end":return b.stop()}},l,this)}));function s(l,c){return r.apply(this,arguments)}return s})()},{key:"drop",value:function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.initial&&s.scope.emit({type:"connectiondrop",data:{initial:this.initial,socket:l,created:c}}),this.context.switchTo(new Ah(this.params))}}])})(Nh),c2=(function(a){function n(r,s,l){var c;dt(this,n),c=jh(this,n),c.connection=r,c.params=s;var f=Array.from(l.socketsCache.values()).find(function(h){return h.nodeId===c.connection.source&&h.side==="output"&&h.key===c.connection.sourceOutput});if(!f)throw new Error("cannot find output socket");return c.outputSocket=f,c}return Vn(n,a),ht(n,[{key:"init",value:(function(){var r=rt(Se.mark(function l(c){var f=this;return Se.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:c.scope.emit({type:"connectionpick",data:{socket:this.outputSocket}}).then(function(y){y?(c.editor.removeConnection(f.connection.id),f.initial=f.outputSocket):f.drop(c)});case 1:case"end":return p.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"pick",value:(function(){var r=rt(Se.mark(function l(c,f){var h,p,y,b,v,S;return Se.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:h=c.socket,p=c.event,this.initial&&!(h.side==="input"&&this.connection.target===h.nodeId&&this.connection.targetInput===h.key)?this.params.canMakeConnection(this.initial,h)&&(qd([this.initial,h],f.editor).commit(),y=this.params.makeConnection(this.initial,h,f),b=y?h:null,this.drop(f,b,y)):p==="down"&&this.initial&&(qd([this.initial,h],f.editor).commit(),v=this.params.makeConnection(this.initial,h,f),S=v?null:h,this.drop(f,S,v));case 2:case"end":return N.stop()}},l,this)}));function s(l,c){return r.apply(this,arguments)}return s})()},{key:"drop",value:function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.initial&&s.scope.emit({type:"connectiondrop",data:{initial:this.initial,socket:l,created:c}}),this.context.switchTo(new Ah(this.params))}}])})(Nh),Ah=(function(a){function n(r){var s;return dt(this,n),s=jh(this,n),s.params=r,s}return Vn(n,a),ht(n,[{key:"pick",value:(function(){var r=rt(Se.mark(function l(c,f){var h,p,y,b;return Se.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(h=c.socket,p=c.event,p==="down"){S.next=3;break}return S.abrupt("return");case 3:if(h.side!=="input"){S.next=11;break}if(y=f.editor.getConnections().find(function(k){return k.target===h.nodeId&&k.targetInput===h.key}),!y){S.next=11;break}return b=new c2(y,this.params,f),S.next=9,b.init(f);case 9:return this.context.switchTo(b),S.abrupt("return");case 11:return S.next=13,f.scope.emit({type:"connectionpick",data:{socket:h}});case 13:if(!S.sent){S.next=17;break}this.context.switchTo(new l2(h,this.params)),S.next=18;break;case 17:this.drop(f);case 18:case"end":return S.stop()}},l,this)}));function s(l,c){return r.apply(this,arguments)}return s})()},{key:"drop",value:function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.initial&&s.scope.emit({type:"connectiondrop",data:{initial:this.initial,socket:l,created:c}}),delete this.initial}}])})(Nh),u2=(function(){function a(n){dt(this,a);var r=n?.canMakeConnection||r2,s=n?.makeConnection||i2;this.switchTo(new Ah({canMakeConnection:r,makeConnection:s}))}return ht(a,[{key:"pick",value:(function(){var n=rt(Se.mark(function s(l,c){return Se.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,this.currentState.pick(l,c);case 2:case"end":return h.stop()}},s,this)}));function r(s,l){return n.apply(this,arguments)}return r})()},{key:"getPickedSocket",value:function(){return this.currentState.initial}},{key:"switchTo",value:function(r){r.setContext(this),this.currentState=r}},{key:"drop",value:function(r){this.currentState.drop(r)}}])})();function f2(){return function(){return new u2}}var d2=Object.freeze({__proto__:null,setup:f2}),h2=Object.freeze({__proto__:null,classic:d2});function p2(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=m2(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(y){throw y},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,f=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var y=r.next();return f=y.done,y},e:function(y){h=!0,c=y},f:function(){try{f||r.return==null||r.return()}finally{if(h)throw c}}}}function m2(a,n){if(a){if(typeof a=="string")return Tv(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Tv(a,n):void 0}}function Tv(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function y2(a,n,r){return n=Bt(n),La(a,_b()?Reflect.construct(n,r||[],Bt(a).constructor):n.apply(a,r))}function _b(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_b=function(){return!!a})()}function g2(a,n,r,s){var l=jo(Bt(a.prototype),n,r);return typeof l=="function"?function(c){return l.apply(r,c)}:l}var v2=(function(a){function n(){var r;return dt(this,n),r=y2(this,n,["connection"]),Be(r,"presets",[]),Be(r,"currentFlow",null),Be(r,"preudoconnection",e2({isPseudo:!0})),Be(r,"socketsCache",new Map),r}return Vn(n,a),ht(n,[{key:"addPreset",value:function(s){this.presets.push(s)}},{key:"findPreset",value:function(s){var l=p2(this.presets),c;try{for(l.s();!(c=l.n()).done;){var f=c.value,h=f(s);if(h)return h}}catch(p){l.e(p)}finally{l.f()}return null}},{key:"update",value:function(){if(this.currentFlow){var s=this.currentFlow.getPickedSocket();s&&this.preudoconnection.render(this.areaPlugin,this.areaPlugin.area.pointer,s)}}},{key:"drop",value:function(){var s={editor:this.editor,scope:this,socketsCache:this.socketsCache};this.currentFlow&&(this.currentFlow.drop(s),this.preudoconnection.unmount(this.areaPlugin),this.currentFlow=null)}},{key:"pick",value:(function(){var r=rt(Se.mark(function l(c,f){var h,p,y;return Se.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(h={editor:this.editor,scope:this,socketsCache:this.socketsCache},p=Nb(c.clientX,c.clientY),y=a2(this.socketsCache,p),!y){v.next=13;break}if(c.preventDefault(),c.stopPropagation(),this.currentFlow=this.currentFlow||this.findPreset(y),!this.currentFlow){v.next=11;break}return v.next=10,this.currentFlow.pick({socket:y,event:f},h);case 10:this.preudoconnection.mount(this.areaPlugin);case 11:v.next=14;break;case 13:this.currentFlow&&this.currentFlow.drop(h);case 14:this.currentFlow&&!this.currentFlow.getPickedSocket()&&(this.preudoconnection.unmount(this.areaPlugin),this.currentFlow=null),this.update();case 16:case"end":return v.stop()}},l,this)}));function s(l,c){return r.apply(this,arguments)}return s})()},{key:"setParent",value:function(s){var l=this;g2(n,"setParent",this)([s]),this.areaPlugin=this.parentScope(Do),this.editor=this.areaPlugin.parentScope(Ur);var c=function(h){l.pick(h,"down")};this.addPipe(function(f){if(!f||wn(f)!=="object"||!("type"in f))return f;if(f.type==="pointermove")l.update();else if(f.type==="pointerup")l.pick(f.data.event,"up");else if(f.type==="render"){if(f.data.type==="socket"){var h=f.data.element;h.addEventListener("pointerdown",c),l.socketsCache.set(h,f.data)}}else if(f.type==="unmount"){var p=f.data.element;p.removeEventListener("pointerdown",c),l.socketsCache.delete(p)}return f})}}])})(cs);function b2(a,n){var r=_n(a,2),s=r[0],l=s.x,c=s.y,f=r[1],h=f.x,p=f.y,y=Math.abs(c-p),b=l+Math.max(y/2,Math.abs(h-l))*n,v=h-Math.max(y/2,Math.abs(h-l))*n;return"M ".concat(l," ").concat(c," C ").concat(b," ").concat(c," ").concat(v," ").concat(p," ").concat(h," ").concat(p)}function w2(a,n,r){var s=_n(a,2),l=s[0],c=l.x,f=l.y,h=s[1],p=h.x,y=h.y,b=y>f?1:-1,v=r+Math.abs(c-p)/(r/2),S=(c+p)/2,k=f-b*v,N=(y-f)*n;return`
        M `.concat(c," ").concat(f,`
        C `).concat(c+v," ").concat(f,`
        `).concat(c+v," ").concat(k-N,`
        `).concat(S," ").concat(k,`
        C `).concat(p-v," ").concat(k+N,`
        `).concat(p-v," ").concat(y,`
        `).concat(p," ").concat(y,`
    `)}function S2(a,n){return Yd.apply(this,arguments)}function Yd(){return Yd=rt(Se.mark(function a(n,r){var s,l,c,f,h;return Se.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(n.offsetParent){y.next=5;break}return y.next=3,new Promise(function(b){return setTimeout(b,0)});case 3:y.next=0;break;case 5:if(s=n.offsetLeft,l=n.offsetTop,c=n.offsetParent,c){y.next=10;break}throw new Error("child has null offsetParent");case 10:for(;c!==null&&c!==r;)s+=c.offsetLeft+c.clientLeft,l+=c.offsetTop+c.clientTop,c=c.offsetParent;return f=n.offsetWidth,h=n.offsetHeight,y.abrupt("return",{x:s+f/2,y:l+h/2});case 14:case"end":return y.stop()}},a)})),Yd.apply(this,arguments)}var x2=(function(){function a(){dt(this,a),Be(this,"listeners",new Set)}return ht(a,[{key:"emit",value:function(r){this.listeners.forEach(function(s){s(r)})}},{key:"listen",value:function(r){var s=this;return this.listeners.add(r),function(){s.listeners.delete(r)}}}])})(),E2=(function(){function a(){dt(this,a),Be(this,"elements",new Map)}return ht(a,[{key:"getPosition",value:function(r){var s,l,c=Array.from(this.elements.values()).flat(),f=c.filter(function(h){return h.side===r.side&&h.nodeId===r.nodeId&&h.key===r.key});return f.length>1&&console.warn(["Found more than one element for socket with same key and side.","Probably it was not unmounted correctly"].join(" "),r),(s=(l=f.pop())===null||l===void 0?void 0:l.position)!==null&&s!==void 0?s:null}},{key:"add",value:function(r){var s=this.elements.get(r.element);this.elements.set(r.element,s?[].concat(us(s.filter(function(l){return!(l.nodeId===r.nodeId&&l.key===r.key&&l.side===r.side)})),[r]):[r])}},{key:"remove",value:function(r){this.elements.delete(r)}},{key:"snapshot",value:function(){return Array.from(this.elements.values()).flat()}}])})(),k2=(function(){function a(){dt(this,a),Be(this,"sockets",new E2),Be(this,"emitter",new x2),Be(this,"area",null)}return ht(a,[{key:"attach",value:function(r){var s=this;this.area||r.hasParent()&&(this.area=r.parentScope(Do),this.area.addPipe((function(){var l=rt(Se.mark(function c(f){var h,p,y,b,v,S,k,N,Z,U,Q;return Se.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(!(f.type==="rendered"&&f.data.type==="socket")){V.next=8;break}return h=f.data,p=h.nodeId,y=h.key,b=h.side,v=h.element,V.next=4,s.calculatePosition(p,b,y,v);case 4:S=V.sent,S&&(s.sockets.add({nodeId:p,key:y,side:b,element:v,position:S}),s.emitter.emit({nodeId:p,key:y,side:b})),V.next=24;break;case 8:if(f.type!=="unmount"){V.next=12;break}s.sockets.remove(f.data.element),V.next=24;break;case 12:if(f.type!=="nodetranslated"){V.next=16;break}s.emitter.emit({nodeId:f.data.id}),V.next=24;break;case 16:if(f.type!=="noderesized"){V.next=23;break}return k=f.data.id,V.next=20,Promise.all(s.sockets.snapshot().filter(function(P){return P.nodeId===f.data.id&&P.side==="output"}).map((function(){var P=rt(Se.mark(function de(le){var I,oe,ee,G;return Se.wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return I=le.side,oe=le.key,ee=le.element,je.next=3,s.calculatePosition(k,I,oe,ee);case 3:G=je.sent,G&&(le.position=G);case 5:case"end":return je.stop()}},de)}));return function(de){return P.apply(this,arguments)}})()));case 20:s.emitter.emit({nodeId:k}),V.next=24;break;case 23:f.type==="render"&&f.data.type==="connection"&&(N=f.data.payload,Z=N.source,U=N.target,Q=Z||U,s.emitter.emit({nodeId:Q}));case 24:return V.abrupt("return",f);case 25:case"end":return V.stop()}},c)}));return function(c){return l.apply(this,arguments)}})()))}},{key:"listen",value:function(r,s,l,c){var f=this,h=this.emitter.listen(function(p){if(p.nodeId===r&&(!p.key||p.side===s)&&(!p.side||p.key===l)){var y,b=f.sockets.getPosition({side:s,nodeId:r,key:l});if(!b)return;var v=b.x,S=b.y,k=(y=f.area)===null||y===void 0?void 0:y.nodeViews.get(r);k&&c({x:v+k.position.x,y:S+k.position.y})}});return this.sockets.snapshot().forEach(function(p){p.nodeId===r&&f.emitter.emit(p)}),h}}])})();function C2(a,n,r){return n=Bt(n),La(a,Db()?Reflect.construct(n,[],Bt(a).constructor):n.apply(a,r))}function Db(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Db=function(){return!!a})()}var T2=(function(a){function n(r){var s;return dt(this,n),s=C2(this,n),s.props=r,s}return Vn(n,a),ht(n,[{key:"calculatePosition",value:(function(){var r=rt(Se.mark(function l(c,f,h,p){var y,b,v,S;return Se.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:if(v=(y=this.area)===null||y===void 0?void 0:y.nodeViews.get(c),v!=null&&v.element){N.next=3;break}return N.abrupt("return",null);case 3:return N.next=5,S2(p,v.element);case 5:if(S=N.sent,!((b=this.props)!==null&&b!==void 0&&b.offset)){N.next=8;break}return N.abrupt("return",this.props.offset(S,c,f,h));case 8:return N.abrupt("return",{x:S.x+12*(f==="input"?-1:1),y:S.y});case 9:case"end":return N.stop()}},l,this)}));function s(l,c,f,h){return r.apply(this,arguments)}return s})()}])})(k2);function O2(a){return new T2(a)}function Sn(a,n){return n||(n=a.slice(0)),Object.freeze(Object.defineProperties(a,{raw:{value:Object.freeze(n)}}))}var Hn=function(){return Hn=Object.assign||function(n){for(var r,s=1,l=arguments.length;s<l;s++){r=arguments[s];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(n[c]=r[c])}return n},Hn.apply(this,arguments)};function Ec(a,n,r){if(r||arguments.length===2)for(var s=0,l=n.length,c;s<l;s++)(c||!(s in n))&&(c||(c=Array.prototype.slice.call(n,0,s)),c[s]=n[s]);return a.concat(c||Array.prototype.slice.call(n))}var Ht="-ms-",ko="-moz-",kt="-webkit-",Mb="comm",Mc="rule",_h="decl",N2="@import",Rb="@keyframes",j2="@layer",zb=Math.abs,Dh=String.fromCharCode,Gd=Object.assign;function A2(a,n){return pn(a,0)^45?(((n<<2^pn(a,0))<<2^pn(a,1))<<2^pn(a,2))<<2^pn(a,3):0}function Lb(a){return a.trim()}function ar(a,n){return(a=n.exec(a))?a[0]:a}function at(a,n,r){return a.replace(n,r)}function fc(a,n,r){return a.indexOf(n,r)}function pn(a,n){return a.charCodeAt(n)|0}function as(a,n,r){return a.slice(n,r)}function Aa(a){return a.length}function Bb(a){return a.length}function vo(a,n){return n.push(a),a}function _2(a,n){return a.map(n).join("")}function Ov(a,n){return a.filter(function(r){return!ar(r,n)})}var Rc=1,rs=1,Ub=0,ha=0,cn=0,fs="";function zc(a,n,r,s,l,c,f,h){return{value:a,root:n,parent:r,type:s,props:l,children:c,line:Rc,column:rs,length:f,return:"",siblings:h}}function Dr(a,n){return Gd(zc("",null,null,"",null,null,0,a.siblings),a,{length:-a.length},n)}function Pi(a){for(;a.root;)a=Dr(a.root,{children:[a]});vo(a,a.siblings)}function D2(){return cn}function M2(){return cn=ha>0?pn(fs,--ha):0,rs--,cn===10&&(rs=1,Rc--),cn}function Ea(){return cn=ha<Ub?pn(fs,ha++):0,rs++,cn===10&&(rs=1,Rc++),cn}function ci(){return pn(fs,ha)}function dc(){return ha}function Lc(a,n){return as(fs,a,n)}function Zd(a){switch(a){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function R2(a){return Rc=rs=1,Ub=Aa(fs=a),ha=0,[]}function z2(a){return fs="",a}function wd(a){return Lb(Lc(ha-1,Pd(a===91?a+2:a===40?a+1:a)))}function L2(a){for(;(cn=ci())&&cn<33;)Ea();return Zd(a)>2||Zd(cn)>3?"":" "}function B2(a,n){for(;--n&&Ea()&&!(cn<48||cn>102||cn>57&&cn<65||cn>70&&cn<97););return Lc(a,dc()+(n<6&&ci()==32&&Ea()==32))}function Pd(a){for(;Ea();)switch(cn){case a:return ha;case 34:case 39:a!==34&&a!==39&&Pd(cn);break;case 40:a===41&&Pd(a);break;case 92:Ea();break}return ha}function U2(a,n){for(;Ea()&&a+cn!==57;)if(a+cn===84&&ci()===47)break;return"/*"+Lc(n,ha-1)+"*"+Dh(a===47?a:Ea())}function I2(a){for(;!Zd(ci());)Ea();return Lc(a,ha)}function $2(a){return z2(hc("",null,null,null,[""],a=R2(a),0,[0],a))}function hc(a,n,r,s,l,c,f,h,p){for(var y=0,b=0,v=f,S=0,k=0,N=0,Z=1,U=1,Q=1,X=0,V="",P=l,de=c,le=s,I=V;U;)switch(N=X,X=Ea()){case 40:if(N!=108&&pn(I,v-1)==58){fc(I+=at(wd(X),"&","&\f"),"&\f",zb(y?h[y-1]:0))!=-1&&(Q=-1);break}case 34:case 39:case 91:I+=wd(X);break;case 9:case 10:case 13:case 32:I+=L2(N);break;case 92:I+=B2(dc()-1,7);continue;case 47:switch(ci()){case 42:case 47:vo(H2(U2(Ea(),dc()),n,r,p),p);break;default:I+="/"}break;case 123*Z:h[y++]=Aa(I)*Q;case 125*Z:case 59:case 0:switch(X){case 0:case 125:U=0;case 59+b:Q==-1&&(I=at(I,/\f/g,"")),k>0&&Aa(I)-v&&vo(k>32?jv(I+";",s,r,v-1,p):jv(at(I," ","")+";",s,r,v-2,p),p);break;case 59:I+=";";default:if(vo(le=Nv(I,n,r,y,b,l,h,V,P=[],de=[],v,c),c),X===123)if(b===0)hc(I,n,le,le,P,c,v,h,de);else switch(S===99&&pn(I,3)===110?100:S){case 100:case 108:case 109:case 115:hc(a,le,le,s&&vo(Nv(a,le,le,0,0,l,h,V,l,P=[],v,de),de),l,de,v,h,s?P:de);break;default:hc(I,le,le,le,[""],de,0,h,de)}}y=b=k=0,Z=Q=1,V=I="",v=f;break;case 58:v=1+Aa(I),k=N;default:if(Z<1){if(X==123)--Z;else if(X==125&&Z++==0&&M2()==125)continue}switch(I+=Dh(X),X*Z){case 38:Q=b>0?1:(I+="\f",-1);break;case 44:h[y++]=(Aa(I)-1)*Q,Q=1;break;case 64:ci()===45&&(I+=wd(Ea())),S=ci(),b=v=Aa(V=I+=I2(dc())),X++;break;case 45:N===45&&Aa(I)==2&&(Z=0)}}return c}function Nv(a,n,r,s,l,c,f,h,p,y,b,v){for(var S=l-1,k=l===0?c:[""],N=Bb(k),Z=0,U=0,Q=0;Z<s;++Z)for(var X=0,V=as(a,S+1,S=zb(U=f[Z])),P=a;X<N;++X)(P=Lb(U>0?k[X]+" "+V:at(V,/&\f/g,k[X])))&&(p[Q++]=P);return zc(a,n,r,l===0?Mc:h,p,y,b,v)}function H2(a,n,r,s){return zc(a,n,r,Mb,Dh(D2()),as(a,2,-2),0,s)}function jv(a,n,r,s,l){return zc(a,n,r,_h,as(a,0,s),as(a,s+1,-1),s,l)}function Ib(a,n,r){switch(A2(a,n)){case 5103:return kt+"print-"+a+a;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return kt+a+a;case 4789:return ko+a+a;case 5349:case 4246:case 4810:case 6968:case 2756:return kt+a+ko+a+Ht+a+a;case 5936:switch(pn(a,n+11)){case 114:return kt+a+Ht+at(a,/[svh]\w+-[tblr]{2}/,"tb")+a;case 108:return kt+a+Ht+at(a,/[svh]\w+-[tblr]{2}/,"tb-rl")+a;case 45:return kt+a+Ht+at(a,/[svh]\w+-[tblr]{2}/,"lr")+a}case 6828:case 4268:case 2903:return kt+a+Ht+a+a;case 6165:return kt+a+Ht+"flex-"+a+a;case 5187:return kt+a+at(a,/(\w+).+(:[^]+)/,kt+"box-$1$2"+Ht+"flex-$1$2")+a;case 5443:return kt+a+Ht+"flex-item-"+at(a,/flex-|-self/g,"")+(ar(a,/flex-|baseline/)?"":Ht+"grid-row-"+at(a,/flex-|-self/g,""))+a;case 4675:return kt+a+Ht+"flex-line-pack"+at(a,/align-content|flex-|-self/g,"")+a;case 5548:return kt+a+Ht+at(a,"shrink","negative")+a;case 5292:return kt+a+Ht+at(a,"basis","preferred-size")+a;case 6060:return kt+"box-"+at(a,"-grow","")+kt+a+Ht+at(a,"grow","positive")+a;case 4554:return kt+at(a,/([^-])(transform)/g,"$1"+kt+"$2")+a;case 6187:return at(at(at(a,/(zoom-|grab)/,kt+"$1"),/(image-set)/,kt+"$1"),a,"")+a;case 5495:case 3959:return at(a,/(image-set\([^]*)/,kt+"$1$`$1");case 4968:return at(at(a,/(.+:)(flex-)?(.*)/,kt+"box-pack:$3"+Ht+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+kt+a+a;case 4200:if(!ar(a,/flex-|baseline/))return Ht+"grid-column-align"+as(a,n)+a;break;case 2592:case 3360:return Ht+at(a,"template-","")+a;case 4384:case 3616:return r&&r.some(function(s,l){return n=l,ar(s.props,/grid-\w+-end/)})?~fc(a+(r=r[n].value),"span",0)?a:Ht+at(a,"-start","")+a+Ht+"grid-row-span:"+(~fc(r,"span",0)?ar(r,/\d+/):+ar(r,/\d+/)-+ar(a,/\d+/))+";":Ht+at(a,"-start","")+a;case 4896:case 4128:return r&&r.some(function(s){return ar(s.props,/grid-\w+-start/)})?a:Ht+at(at(a,"-end","-span"),"span ","")+a;case 4095:case 3583:case 4068:case 2532:return at(a,/(.+)-inline(.+)/,kt+"$1$2")+a;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Aa(a)-1-n>6)switch(pn(a,n+1)){case 109:if(pn(a,n+4)!==45)break;case 102:return at(a,/(.+:)(.+)-([^]+)/,"$1"+kt+"$2-$3$1"+ko+(pn(a,n+3)==108?"$3":"$2-$3"))+a;case 115:return~fc(a,"stretch",0)?Ib(at(a,"stretch","fill-available"),n,r)+a:a}break;case 5152:case 5920:return at(a,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(s,l,c,f,h,p,y){return Ht+l+":"+c+y+(f?Ht+l+"-span:"+(h?p:+p-+c)+y:"")+a});case 4949:if(pn(a,n+6)===121)return at(a,":",":"+kt)+a;break;case 6444:switch(pn(a,pn(a,14)===45?18:11)){case 120:return at(a,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+kt+(pn(a,14)===45?"inline-":"")+"box$3$1"+kt+"$2$3$1"+Ht+"$2box$3")+a;case 100:return at(a,":",":"+Ht)+a}break;case 5719:case 2647:case 2135:case 3927:case 2391:return at(a,"scroll-","scroll-snap-")+a}return a}function kc(a,n){for(var r="",s=0;s<a.length;s++)r+=n(a[s],s,a,n)||"";return r}function V2(a,n,r,s){switch(a.type){case j2:if(a.children.length)break;case N2:case _h:return a.return=a.return||a.value;case Mb:return"";case Rb:return a.return=a.value+"{"+kc(a.children,s)+"}";case Mc:if(!Aa(a.value=a.props.join(",")))return""}return Aa(r=kc(a.children,s))?a.return=a.value+"{"+r+"}":""}function q2(a){var n=Bb(a);return function(r,s,l,c){for(var f="",h=0;h<n;h++)f+=a[h](r,s,l,c)||"";return f}}function Y2(a){return function(n){n.root||(n=n.return)&&a(n)}}function G2(a,n,r,s){if(a.length>-1&&!a.return)switch(a.type){case _h:a.return=Ib(a.value,a.length,r);return;case Rb:return kc([Dr(a,{value:at(a.value,"@","@"+kt)})],s);case Mc:if(a.length)return _2(r=a.props,function(l){switch(ar(l,s=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Pi(Dr(a,{props:[at(l,/:(read-\w+)/,":"+ko+"$1")]})),Pi(Dr(a,{props:[l]})),Gd(a,{props:Ov(r,s)});break;case"::placeholder":Pi(Dr(a,{props:[at(l,/:(plac\w+)/,":"+kt+"input-$1")]})),Pi(Dr(a,{props:[at(l,/:(plac\w+)/,":"+ko+"$1")]})),Pi(Dr(a,{props:[at(l,/:(plac\w+)/,Ht+"input-$1")]})),Pi(Dr(a,{props:[l]})),Gd(a,{props:Ov(r,s)});break}return""})}}var Z2={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Kn={},is=typeof process<"u"&&Kn!==void 0&&(Kn.REACT_APP_SC_ATTR||Kn.SC_ATTR)||"data-styled",$b="active",Hb="data-styled-version",Bc="6.1.19",Mh=`/*!sc*/
`,Cc=typeof window<"u"&&typeof document<"u",P2=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Kn!==void 0&&Kn.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Kn.REACT_APP_SC_DISABLE_SPEEDY!==""?Kn.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Kn.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Kn!==void 0&&Kn.SC_DISABLE_SPEEDY!==void 0&&Kn.SC_DISABLE_SPEEDY!==""&&Kn.SC_DISABLE_SPEEDY!=="false"&&Kn.SC_DISABLE_SPEEDY),Uc=Object.freeze([]),ss=Object.freeze({});function F2(a,n,r){return r===void 0&&(r=ss),a.theme!==r.theme&&a.theme||n||r.theme}var Vb=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),X2=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,K2=/(^-|-$)/g;function Av(a){return a.replace(X2,"-").replace(K2,"")}var Q2=/(a)(d)/gi,Jl=52,_v=function(a){return String.fromCharCode(a+(a>25?39:97))};function Fd(a){var n,r="";for(n=Math.abs(a);n>Jl;n=n/Jl|0)r=_v(n%Jl)+r;return(_v(n%Jl)+r).replace(Q2,"$1-$2")}var Sd,qb=5381,Ji=function(a,n){for(var r=n.length;r;)a=33*a^n.charCodeAt(--r);return a},Yb=function(a){return Ji(qb,a)};function J2(a){return Fd(Yb(a)>>>0)}function W2(a){return a.displayName||a.name||"Component"}function xd(a){return typeof a=="string"&&!0}var Gb=typeof Symbol=="function"&&Symbol.for,Zb=Gb?Symbol.for("react.memo"):60115,ek=Gb?Symbol.for("react.forward_ref"):60112,tk={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},nk={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Pb={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ak=((Sd={})[ek]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Sd[Zb]=Pb,Sd);function Dv(a){return("type"in(n=a)&&n.type.$$typeof)===Zb?Pb:"$$typeof"in a?ak[a.$$typeof]:tk;var n}var rk=Object.defineProperty,ik=Object.getOwnPropertyNames,Mv=Object.getOwnPropertySymbols,sk=Object.getOwnPropertyDescriptor,ok=Object.getPrototypeOf,Rv=Object.prototype;function Fb(a,n,r){if(typeof n!="string"){if(Rv){var s=ok(n);s&&s!==Rv&&Fb(a,s,r)}var l=ik(n);Mv&&(l=l.concat(Mv(n)));for(var c=Dv(a),f=Dv(n),h=0;h<l.length;++h){var p=l[h];if(!(p in nk||r&&r[p]||f&&p in f||c&&p in c)){var y=sk(n,p);try{rk(a,p,y)}catch{}}}}return a}function os(a){return typeof a=="function"}function Rh(a){return typeof a=="object"&&"styledComponentId"in a}function si(a,n){return a&&n?"".concat(a," ").concat(n):a||n||""}function zv(a,n){if(a.length===0)return"";for(var r=a[0],s=1;s<a.length;s++)r+=a[s];return r}function Ao(a){return a!==null&&typeof a=="object"&&a.constructor.name===Object.name&&!("props"in a&&a.$$typeof)}function Xd(a,n,r){if(r===void 0&&(r=!1),!r&&!Ao(a)&&!Array.isArray(a))return n;if(Array.isArray(n))for(var s=0;s<n.length;s++)a[s]=Xd(a[s],n[s]);else if(Ao(n))for(var s in n)a[s]=Xd(a[s],n[s]);return a}function zh(a,n){Object.defineProperty(a,"toString",{value:n})}function Mo(a){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(a," for more information.").concat(n.length>0?" Args: ".concat(n.join(", ")):""))}var lk=(function(){function a(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}return a.prototype.indexOfGroup=function(n){for(var r=0,s=0;s<n;s++)r+=this.groupSizes[s];return r},a.prototype.insertRules=function(n,r){if(n>=this.groupSizes.length){for(var s=this.groupSizes,l=s.length,c=l;n>=c;)if((c<<=1)<0)throw Mo(16,"".concat(n));this.groupSizes=new Uint32Array(c),this.groupSizes.set(s),this.length=c;for(var f=l;f<c;f++)this.groupSizes[f]=0}for(var h=this.indexOfGroup(n+1),p=(f=0,r.length);f<p;f++)this.tag.insertRule(h,r[f])&&(this.groupSizes[n]++,h++)},a.prototype.clearGroup=function(n){if(n<this.length){var r=this.groupSizes[n],s=this.indexOfGroup(n),l=s+r;this.groupSizes[n]=0;for(var c=s;c<l;c++)this.tag.deleteRule(s)}},a.prototype.getGroup=function(n){var r="";if(n>=this.length||this.groupSizes[n]===0)return r;for(var s=this.groupSizes[n],l=this.indexOfGroup(n),c=l+s,f=l;f<c;f++)r+="".concat(this.tag.getRule(f)).concat(Mh);return r},a})(),pc=new Map,Tc=new Map,mc=1,Wl=function(a){if(pc.has(a))return pc.get(a);for(;Tc.has(mc);)mc++;var n=mc++;return pc.set(a,n),Tc.set(n,a),n},ck=function(a,n){mc=n+1,pc.set(a,n),Tc.set(n,a)},uk="style[".concat(is,"][").concat(Hb,'="').concat(Bc,'"]'),fk=new RegExp("^".concat(is,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),dk=function(a,n,r){for(var s,l=r.split(","),c=0,f=l.length;c<f;c++)(s=l[c])&&a.registerName(n,s)},hk=function(a,n){for(var r,s=((r=n.textContent)!==null&&r!==void 0?r:"").split(Mh),l=[],c=0,f=s.length;c<f;c++){var h=s[c].trim();if(h){var p=h.match(fk);if(p){var y=0|parseInt(p[1],10),b=p[2];y!==0&&(ck(b,y),dk(a,b,p[3]),a.getTag().insertRules(y,l)),l.length=0}else l.push(h)}}},Lv=function(a){for(var n=document.querySelectorAll(uk),r=0,s=n.length;r<s;r++){var l=n[r];l&&l.getAttribute(is)!==$b&&(hk(a,l),l.parentNode&&l.parentNode.removeChild(l))}};function pk(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Xb=function(a){var n=document.head,r=a||n,s=document.createElement("style"),l=(function(h){var p=Array.from(h.querySelectorAll("style[".concat(is,"]")));return p[p.length-1]})(r),c=l!==void 0?l.nextSibling:null;s.setAttribute(is,$b),s.setAttribute(Hb,Bc);var f=pk();return f&&s.setAttribute("nonce",f),r.insertBefore(s,c),s},mk=(function(){function a(n){this.element=Xb(n),this.element.appendChild(document.createTextNode("")),this.sheet=(function(r){if(r.sheet)return r.sheet;for(var s=document.styleSheets,l=0,c=s.length;l<c;l++){var f=s[l];if(f.ownerNode===r)return f}throw Mo(17)})(this.element),this.length=0}return a.prototype.insertRule=function(n,r){try{return this.sheet.insertRule(r,n),this.length++,!0}catch{return!1}},a.prototype.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},a.prototype.getRule=function(n){var r=this.sheet.cssRules[n];return r&&r.cssText?r.cssText:""},a})(),yk=(function(){function a(n){this.element=Xb(n),this.nodes=this.element.childNodes,this.length=0}return a.prototype.insertRule=function(n,r){if(n<=this.length&&n>=0){var s=document.createTextNode(r);return this.element.insertBefore(s,this.nodes[n]||null),this.length++,!0}return!1},a.prototype.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},a.prototype.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},a})(),gk=(function(){function a(n){this.rules=[],this.length=0}return a.prototype.insertRule=function(n,r){return n<=this.length&&(this.rules.splice(n,0,r),this.length++,!0)},a.prototype.deleteRule=function(n){this.rules.splice(n,1),this.length--},a.prototype.getRule=function(n){return n<this.length?this.rules[n]:""},a})(),Bv=Cc,vk={isServer:!Cc,useCSSOMInjection:!P2},Kb=(function(){function a(n,r,s){n===void 0&&(n=ss),r===void 0&&(r={});var l=this;this.options=Hn(Hn({},vk),n),this.gs=r,this.names=new Map(s),this.server=!!n.isServer,!this.server&&Cc&&Bv&&(Bv=!1,Lv(this)),zh(this,function(){return(function(c){for(var f=c.getTag(),h=f.length,p="",y=function(v){var S=(function(Q){return Tc.get(Q)})(v);if(S===void 0)return"continue";var k=c.names.get(S),N=f.getGroup(v);if(k===void 0||!k.size||N.length===0)return"continue";var Z="".concat(is,".g").concat(v,'[id="').concat(S,'"]'),U="";k!==void 0&&k.forEach(function(Q){Q.length>0&&(U+="".concat(Q,","))}),p+="".concat(N).concat(Z,'{content:"').concat(U,'"}').concat(Mh)},b=0;b<h;b++)y(b);return p})(l)})}return a.registerId=function(n){return Wl(n)},a.prototype.rehydrate=function(){!this.server&&Cc&&Lv(this)},a.prototype.reconstructWithOptions=function(n,r){return r===void 0&&(r=!0),new a(Hn(Hn({},this.options),n),this.gs,r&&this.names||void 0)},a.prototype.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},a.prototype.getTag=function(){return this.tag||(this.tag=(n=(function(r){var s=r.useCSSOMInjection,l=r.target;return r.isServer?new gk(l):s?new mk(l):new yk(l)})(this.options),new lk(n)));var n},a.prototype.hasNameForId=function(n,r){return this.names.has(n)&&this.names.get(n).has(r)},a.prototype.registerName=function(n,r){if(Wl(n),this.names.has(n))this.names.get(n).add(r);else{var s=new Set;s.add(r),this.names.set(n,s)}},a.prototype.insertRules=function(n,r,s){this.registerName(n,r),this.getTag().insertRules(Wl(n),s)},a.prototype.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},a.prototype.clearRules=function(n){this.getTag().clearGroup(Wl(n)),this.clearNames(n)},a.prototype.clearTag=function(){this.tag=void 0},a})(),bk=/&/g,wk=/^\s*\/\/.*$/gm;function Qb(a,n){return a.map(function(r){return r.type==="rule"&&(r.value="".concat(n," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(n," ")),r.props=r.props.map(function(s){return"".concat(n," ").concat(s)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=Qb(r.children,n)),r})}function Sk(a){var n,r,s,l=ss,c=l.options,f=c===void 0?ss:c,h=l.plugins,p=h===void 0?Uc:h,y=function(S,k,N){return N.startsWith(r)&&N.endsWith(r)&&N.replaceAll(r,"").length>0?".".concat(n):S},b=p.slice();b.push(function(S){S.type===Mc&&S.value.includes("&")&&(S.props[0]=S.props[0].replace(bk,r).replace(s,y))}),f.prefix&&b.push(G2),b.push(V2);var v=function(S,k,N,Z){k===void 0&&(k=""),N===void 0&&(N=""),Z===void 0&&(Z="&"),n=Z,r=k,s=new RegExp("\\".concat(r,"\\b"),"g");var U=S.replace(wk,""),Q=$2(N||k?"".concat(N," ").concat(k," { ").concat(U," }"):U);f.namespace&&(Q=Qb(Q,f.namespace));var X=[];return kc(Q,q2(b.concat(Y2(function(V){return X.push(V)})))),X};return v.hash=p.length?p.reduce(function(S,k){return k.name||Mo(15),Ji(S,k.name)},qb).toString():"",v}var xk=new Kb,Kd=Sk(),Jb=ka.createContext({shouldForwardProp:void 0,styleSheet:xk,stylis:Kd});Jb.Consumer;ka.createContext(void 0);function Uv(){return E.useContext(Jb)}var Ek=(function(){function a(n,r){var s=this;this.inject=function(l,c){c===void 0&&(c=Kd);var f=s.name+c.hash;l.hasNameForId(s.id,f)||l.insertRules(s.id,f,c(s.rules,f,"@keyframes"))},this.name=n,this.id="sc-keyframes-".concat(n),this.rules=r,zh(this,function(){throw Mo(12,String(s.name))})}return a.prototype.getName=function(n){return n===void 0&&(n=Kd),this.name+n.hash},a})(),kk=function(a){return a>="A"&&a<="Z"};function Iv(a){for(var n="",r=0;r<a.length;r++){var s=a[r];if(r===1&&s==="-"&&a[0]==="-")return a;kk(s)?n+="-"+s.toLowerCase():n+=s}return n.startsWith("ms-")?"-"+n:n}var Wb=function(a){return a==null||a===!1||a===""},e1=function(a){var n,r,s=[];for(var l in a){var c=a[l];a.hasOwnProperty(l)&&!Wb(c)&&(Array.isArray(c)&&c.isCss||os(c)?s.push("".concat(Iv(l),":"),c,";"):Ao(c)?s.push.apply(s,Ec(Ec(["".concat(l," {")],e1(c),!1),["}"],!1)):s.push("".concat(Iv(l),": ").concat((n=l,(r=c)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||n in Z2||n.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return s};function ui(a,n,r,s){if(Wb(a))return[];if(Rh(a))return[".".concat(a.styledComponentId)];if(os(a)){if(!os(c=a)||c.prototype&&c.prototype.isReactComponent||!n)return[a];var l=a(n);return ui(l,n,r,s)}var c;return a instanceof Ek?r?(a.inject(r,s),[a.getName(s)]):[a]:Ao(a)?e1(a):Array.isArray(a)?Array.prototype.concat.apply(Uc,a.map(function(f){return ui(f,n,r,s)})):[a.toString()]}function Ck(a){for(var n=0;n<a.length;n+=1){var r=a[n];if(os(r)&&!Rh(r))return!1}return!0}var Tk=Yb(Bc),Ok=(function(){function a(n,r,s){this.rules=n,this.staticRulesId="",this.isStatic=(s===void 0||s.isStatic)&&Ck(n),this.componentId=r,this.baseHash=Ji(Tk,r),this.baseStyle=s,Kb.registerId(r)}return a.prototype.generateAndInjectStyles=function(n,r,s){var l=this.baseStyle?this.baseStyle.generateAndInjectStyles(n,r,s):"";if(this.isStatic&&!s.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))l=si(l,this.staticRulesId);else{var c=zv(ui(this.rules,n,r,s)),f=Fd(Ji(this.baseHash,c)>>>0);if(!r.hasNameForId(this.componentId,f)){var h=s(c,".".concat(f),void 0,this.componentId);r.insertRules(this.componentId,f,h)}l=si(l,f),this.staticRulesId=f}else{for(var p=Ji(this.baseHash,s.hash),y="",b=0;b<this.rules.length;b++){var v=this.rules[b];if(typeof v=="string")y+=v;else if(v){var S=zv(ui(v,n,r,s));p=Ji(p,S+b),y+=S}}if(y){var k=Fd(p>>>0);r.hasNameForId(this.componentId,k)||r.insertRules(this.componentId,k,s(y,".".concat(k),void 0,this.componentId)),l=si(l,k)}}return l},a})(),t1=ka.createContext(void 0);t1.Consumer;var Ed={};function Nk(a,n,r){var s=Rh(a),l=a,c=!xd(a),f=n.attrs,h=f===void 0?Uc:f,p=n.componentId,y=p===void 0?(function(P,de){var le=typeof P!="string"?"sc":Av(P);Ed[le]=(Ed[le]||0)+1;var I="".concat(le,"-").concat(J2(Bc+le+Ed[le]));return de?"".concat(de,"-").concat(I):I})(n.displayName,n.parentComponentId):p,b=n.displayName,v=b===void 0?(function(P){return xd(P)?"styled.".concat(P):"Styled(".concat(W2(P),")")})(a):b,S=n.displayName&&n.componentId?"".concat(Av(n.displayName),"-").concat(n.componentId):n.componentId||y,k=s&&l.attrs?l.attrs.concat(h).filter(Boolean):h,N=n.shouldForwardProp;if(s&&l.shouldForwardProp){var Z=l.shouldForwardProp;if(n.shouldForwardProp){var U=n.shouldForwardProp;N=function(P,de){return Z(P,de)&&U(P,de)}}else N=Z}var Q=new Ok(r,S,s?l.componentStyle:void 0);function X(P,de){return(function(le,I,oe){var ee=le.attrs,G=le.componentStyle,fe=le.defaultProps,je=le.foldedComponentIds,De=le.styledComponentId,Ye=le.target,Pe=ka.useContext(t1),C=Uv(),H=le.shouldForwardProp||C.shouldForwardProp,ce=F2(I,Pe,fe)||ss,we=(function(pe,Oe,Ve){for(var it,Je=Hn(Hn({},Oe),{className:void 0,theme:Ve}),Wt=0;Wt<pe.length;Wt+=1){var Yt=os(it=pe[Wt])?it(Je):it;for(var qe in Yt)Je[qe]=qe==="className"?si(Je[qe],Yt[qe]):qe==="style"?Hn(Hn({},Je[qe]),Yt[qe]):Yt[qe]}return Oe.className&&(Je.className=si(Je.className,Oe.className)),Je})(ee,I,ce),xe=we.as||Ye,x={};for(var R in we)we[R]===void 0||R[0]==="$"||R==="as"||R==="theme"&&we.theme===ce||(R==="forwardedAs"?x.as=we.forwardedAs:H&&!H(R,xe)||(x[R]=we[R]));var A=(function(pe,Oe){var Ve=Uv(),it=pe.generateAndInjectStyles(Oe,Ve.styleSheet,Ve.stylis);return it})(G,we),$=si(je,De);return A&&($+=" "+A),we.className&&($+=" "+we.className),x[xd(xe)&&!Vb.has(xe)?"class":"className"]=$,oe&&(x.ref=oe),E.createElement(xe,x)})(V,P,de)}X.displayName=v;var V=ka.forwardRef(X);return V.attrs=k,V.componentStyle=Q,V.displayName=v,V.shouldForwardProp=N,V.foldedComponentIds=s?si(l.foldedComponentIds,l.styledComponentId):"",V.styledComponentId=S,V.target=s?l.target:a,Object.defineProperty(V,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(P){this._foldedDefaultProps=s?(function(de){for(var le=[],I=1;I<arguments.length;I++)le[I-1]=arguments[I];for(var oe=0,ee=le;oe<ee.length;oe++)Xd(de,ee[oe],!0);return de})({},l.defaultProps,P):P}}),zh(V,function(){return".".concat(V.styledComponentId)}),c&&Fb(V,a,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),V}function $v(a,n){for(var r=[a[0]],s=0,l=n.length;s<l;s+=1)r.push(n[s],a[s+1]);return r}var Hv=function(a){return Object.assign(a,{isCss:!0})};function Lh(a){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(os(a)||Ao(a))return Hv(ui($v(Uc,Ec([a],n,!0))));var s=a;return n.length===0&&s.length===1&&typeof s[0]=="string"?ui(s):Hv(ui($v(s,n)))}function Qd(a,n,r){if(r===void 0&&(r=ss),!n)throw Mo(1,n);var s=function(l){for(var c=[],f=1;f<arguments.length;f++)c[f-1]=arguments[f];return a(n,r,Lh.apply(void 0,Ec([l],c,!1)))};return s.attrs=function(l){return Qd(a,n,Hn(Hn({},r),{attrs:Array.prototype.concat(r.attrs,l).filter(Boolean)}))},s.withConfig=function(l){return Qd(a,n,Hn(Hn({},r),l))},s}var n1=function(a){return Qd(Nk,a)},On=n1;Vb.forEach(function(a){On[a]=n1(a)});function di(){return di=Object.assign?Object.assign.bind():function(a){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var s in r)({}).hasOwnProperty.call(r,s)&&(a[s]=r[s])}return a},di.apply(null,arguments)}function jk(a,n){if(a==null)return{};var r={};for(var s in a)if({}.hasOwnProperty.call(a,s)){if(n.indexOf(s)!==-1)continue;r[s]=a[s]}return r}function Bh(a,n){if(a==null)return{};var r,s,l=jk(a,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);for(s=0;s<c.length;s++)r=c[s],n.indexOf(r)===-1&&{}.propertyIsEnumerable.call(a,r)&&(l[r]=a[r])}return l}function Ak(a){var n=a?.createRoot,r=new WeakMap;function s(f){var h=r.get(f);if(h)return h;var p=document.createElement("span");return f.appendChild(p),r.set(f,p),p}function l(f){var h=r.get(f);h&&(h.remove(),r.delete(f))}if(n){var c=new WeakMap;return{mount:function(h,p){var y,b=s(p),v=c.get(b);return v||(v=n(b),c.set(b,v)),v.render(h),(y=b.firstElementChild)!==null&&y!==void 0?y:b},unmount:function(h){var p=s(h),y=c.get(p);y&&(y.unmount(),c.delete(p)),l(h)}}}return{mount:function(h,p){var y=s(p);if("render"in Jg&&typeof zr.render=="function"){var b=zr.render(h,y);return b||y}throw new Error("ReactDOM.render is not available")},unmount:function(h){var p=s(h);if("unmountComponentAtNode"in Jg&&typeof zr.unmountComponentAtNode=="function")zr.unmountComponentAtNode(p);else throw new Error("ReactDOM.unmountComponentAtNode is not available");l(h)}}}function _k(a){var n=a.children,r=a.rendered;return E.useEffect(function(){r()}),n}function Dk(){var a=E.useRef(!1);return E.useEffect(function(){a.current=!0},[]),{apply:function(r){a.current?queueMicrotask(function(){zr.flushSync(r)}):r()}}}var a1=E.createContext({start:null,end:null,path:null});function Mk(a){var n=a.children,r=E.useState(null),s=_n(r,2),l=s[0],c=s[1],f=E.useState(null),h=_n(f,2),p=h[0],y=h[1],b=E.useState(null),v=_n(b,2),S=v[0],k=v[1],N="x"in a.start?a.start:l,Z="x"in a.end?a.end:p,U=Dk();return E.useEffect(function(){var Q=typeof a.start=="function"&&a.start(function(V){U.apply(function(){c(V)})}),X=typeof a.end=="function"&&a.end(function(V){U.apply(function(){y(V)})});return function(){Q&&Q(),X&&X()}},[]),E.useEffect(function(){N&&Z&&a.path(N,Z).then(function(Q){U.apply(function(){k(Q)})})},[N,Z]),E.createElement(a1.Provider,{value:{start:N,end:Z,path:S}},n)}function r1(){return E.useContext(a1)}var Vv,qv,Rk=On.svg(Vv||(Vv=Sn([`
    overflow: visible !important;
    position: absolute;
    pointer-events: none;
    width: 9999px;
    height: 9999px;
`]))),zk=On.path(qv||(qv=Sn([`
    fill: none;
    stroke-width: 5px;
    stroke: steelblue;
    pointer-events: auto;
    `,`
`])),function(a){var n;return(n=a.styles)===null||n===void 0?void 0:n.call(a,a)});function i1(a){var n=r1(),r=n.path;return r?E.createElement(Rk,{"data-testid":"connection"},E.createElement(zk,{styles:a.styles,d:r})):null}function Lk(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=Bk(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(y){throw y},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,f=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var y=r.next();return f=y.done,y},e:function(y){h=!0,c=y},f:function(){try{f||r.return==null||r.return()}finally{if(h)throw c}}}}function Bk(a,n){if(a){if(typeof a=="string")return Yv(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Yv(a,n):void 0}}function Yv(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function Uk(a){for(var n=new a.constructor(a.type),r=n;r=Object.getPrototypeOf(r);){var s=Object.getOwnPropertyNames(r),l=Lk(s),c;try{for(l.s();!(c=l.n()).done;){var f=c.value,h=n[f];typeof h!="function"&&Object.defineProperty(n,f,{value:a[f]})}}catch(p){l.e(p)}finally{l.f()}}return n}var Ik="__reactContainer$";function $k(a){for(var n=a;n;){if(n._reactRootContainer||Object.keys(n).some(function(r){return r.startsWith(Ik)}))return n;n=n.parentElement}}function Gv(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function Zv(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?Gv(Object(r),!0).forEach(function(s){Be(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):Gv(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function s1(a,n){return{start:function(s){var l=Zv({},n(s));function c(h){var p=Zv({},n(h)),y=p.x-l.x,b=p.y-l.y;l=p,a(y,b)}function f(){window.removeEventListener("pointermove",c),window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",f)}window.addEventListener("pointermove",c),window.addEventListener("pointerup",f),window.addEventListener("pointercancel",f)}}}function Hk(a,n){E.useEffect(function(){var r=function(c){if(!n){var f=$k(c.target),h=E.version.startsWith("16")?document:f;h&&(c.stopPropagation(),h.dispatchEvent(Uk(c)))}},s=a.current;return s?.addEventListener("pointerdown",r),function(){s?.removeEventListener("pointerdown",r)}},[a,n])}var Pv,Vk=On.input(Pv||(Pv=Sn([`
  width: 100%;
  border-radius: 30px;
  background-color: white;
  padding: 2px 6px;
  border: 1px solid #999;
  font-size: 110%;
  box-sizing: border-box;
  `,`
`])),function(a){var n;return(n=a.styles)===null||n===void 0?void 0:n.call(a,a)});function Jd(a){var n=E.useState(a.data.value),r=_n(n,2),s=r[0],l=r[1],c=E.useRef(null);return Hk(c),E.useEffect(function(){l(a.data.value)},[a.data.value]),E.createElement(Vk,{value:s,type:a.data.type,ref:c,readOnly:a.data.readonly,onChange:function(h){var p=a.data.type==="number"?+h.target.value:h.target.value;l(p),a.data.setValue(p)},styles:a.styles})}var Wd="rgba(110,136,255,0.8)",o1="#ffd92c",_a=24,rr=6,l1="#96b38a",c1=180,qk=Object.freeze({__proto__:null,$nodecolor:Wd,$nodecolorselected:o1,$socketsize:_a,$socketmargin:rr,$socketcolor:l1,$nodewidth:c1}),Yk=["init","unmount"];function Uh(a){var n=a.init,r=a.unmount,s=Bh(a,Yk),l=E.useRef(null);return E.useEffect(function(){var c=l.current;return function(){c&&r(c)}},[]),E.useEffect(function(){l.current&&n(l.current)}),E.createElement("span",di({},s,{ref:l}))}var Gk=["name","emit","payload"];function eh(a){var n=a.name,r=a.emit,s=a.payload,l=Bh(a,Gk);return E.createElement(Uh,di({},l,{className:n,init:function(f){r({type:"render",data:{type:"control",element:f,payload:s}})},unmount:function(f){r({type:"unmount",data:{element:f}})}}))}var Zk=["name","emit","nodeId","side","socketKey","payload"];function th(a){var n=a.name,r=a.emit,s=a.nodeId,l=a.side,c=a.socketKey,f=a.payload,h=Bh(a,Zk);return E.createElement(Uh,di({},h,{className:n,init:function(y){r({type:"render",data:{type:"socket",side:l,key:c,nodeId:s,element:y,payload:f}})},unmount:function(y){r({type:"unmount",data:{element:y}})}}))}var Fv,Xv,u1=On.div(Fv||(Fv=Sn([`
    background: `,`;
    border: 2px solid #4e58bf;
    border-radius: 10px;
    cursor: pointer;
    box-sizing: border-box;
    width: `,`;
    height: `,`;
    padding-bottom: 6px;
    position: relative;
    user-select: none;
    line-height: initial;
    font-family: Arial;

    &:hover {
        background: lighten(`,`,4%);
    }
    `,`
    .title {
        color: white;
        font-family: sans-serif;
        font-size: 18px;
        padding: 8px;
    }
    .output {
        text-align: right;
    }
    .input {
        text-align: left;
    }
    .output-socket {
        text-align: right;
        margin-right: -`,`px;
        display: inline-block;
    }
    .input-socket {
        text-align: left;
        margin-left: -`,`px;
        display: inline-block;
    }
    .input-title,.output-title {
        vertical-align: middle;
        color: white;
        display: inline-block;
        font-family: sans-serif;
        font-size: 14px;
        margin: `,`px;
        line-height: `,`px;
    }
    .input-control {
        z-index: 1;
        width: calc(100% - `,`px);
        vertical-align: middle;
        display: inline-block;
    }
    .control {
        display: block;
        padding: `,"px ",`px;
    }
    `,`
`])),Wd,function(a){return Number.isFinite(a.width)?"".concat(a.width,"px"):"".concat(c1,"px")},function(a){return Number.isFinite(a.height)?"".concat(a.height,"px"):"auto"},Wd,function(a){return a.selected&&Lh(Xv||(Xv=Sn([`
        background: `,`;
        border-color: #e3c000;
    `])),o1)},_a/2+rr,_a/2+rr,rr,_a,_a+2*rr,rr,_a/2+rr,function(a){var n;return(n=a.styles)===null||n===void 0?void 0:n.call(a,a)});function kd(a){a.sort(function(n,r){var s,l,c=((s=n[1])===null||s===void 0?void 0:s.index)||0,f=((l=r[1])===null||l===void 0?void 0:l.index)||0;return c-f})}function f1(a){var n=Object.entries(a.data.inputs),r=Object.entries(a.data.outputs),s=Object.entries(a.data.controls),l=a.data.selected||!1,c=a.data,f=c.id,h=c.label,p=c.width,y=c.height;return kd(n),kd(r),kd(s),E.createElement(u1,{selected:l,width:p,height:y,styles:a.styles,"data-testid":"node"},E.createElement("div",{className:"title","data-testid":"title"},h),r.map(function(b){var v=_n(b,2),S=v[0],k=v[1];return k&&E.createElement("div",{className:"output",key:S,"data-testid":"output-".concat(S)},E.createElement("div",{className:"output-title","data-testid":"output-title"},k.label),E.createElement(th,{name:"output-socket",side:"output",socketKey:S,nodeId:f,emit:a.emit,payload:k.socket,"data-testid":"output-socket"}))}),s.map(function(b){var v=_n(b,2),S=v[0],k=v[1];return k?E.createElement(eh,{key:S,name:"control",emit:a.emit,payload:k,"data-testid":"control-".concat(S)}):null}),n.map(function(b){var v=_n(b,2),S=v[0],k=v[1];return k&&E.createElement("div",{className:"input",key:S,"data-testid":"input-".concat(S)},E.createElement(th,{name:"input-socket",side:"input",socketKey:S,nodeId:f,emit:a.emit,payload:k.socket,"data-testid":"input-socket"}),k&&(!k.control||!k.showControl)&&E.createElement("div",{className:"input-title","data-testid":"input-title"},k.label),k.control&&k.showControl&&E.createElement(eh,{key:S,name:"input-control",emit:a.emit,payload:k.control,"data-testid":"input-control"}))}))}var Kv,Qv,d1=On.div(Kv||(Kv=Sn([`
    display: inline-block;
    cursor: pointer;
    border: 1px solid white;
    border-radius: `,`px;
    width: `,`px;
    height: `,`px;
    vertical-align: middle;
    background: `,`;
    z-index: 2;
    box-sizing: border-box;
    &:hover {
      border-width: 4px;
    }
    &.multiple {
      border-color: yellow;
    }
`])),_a/2,_a,_a,l1),Pk=On.div(Qv||(Qv=Sn([`
    border-radius: `,`px;
    padding: `,`px;
    &:hover `,` {
      border-width: 4px;
    }
`])),(_a+rr*2)/2,rr,d1);function h1(a){return E.createElement(Pk,null,E.createElement(d1,{title:a.data.name}))}function Fk(a){var n=typeof a?.socketPositionWatcher>"u"?O2():a.socketPositionWatcher,r=a?.customize||{},s=r.node,l=r.connection,c=r.socket,f=r.control;return{attach:function(p){n.attach(p)},render:function(p,y){if(p.data.type==="node"){var b=y.parentScope(),v=s?s(p.data):f1;return v&&E.createElement(v,{data:p.data.payload,emit:function(de){return void b.emit(de)}})}else if(p.data.type==="connection"){var S=l?l(p.data):i1,k=p.data.payload,N=k.sourceOutput,Z=k.targetInput,U=k.source,Q=k.target;return S&&E.createElement(Mk,{start:p.data.start||function(P){return n.listen(U,"output",N,P)},end:p.data.end||function(P){return n.listen(Q,"input",Z,P)},path:(function(){var P=rt(Se.mark(function de(le,I){var oe,ee,G,fe,je;return Se.wrap(function(De){for(;;)switch(De.prev=De.next){case 0:return De.next=1,y.emit({type:"connectionpath",data:{payload:k,points:[le,I]}});case 1:if(oe=De.sent,oe){De.next=2;break}return De.abrupt("return","");case 2:if(ee=oe.data,G=ee.path,fe=ee.points,je=.3,!(!G&&fe.length!==2)){De.next=3;break}throw new Error("cannot render connection with a custom number of points");case 3:if(G){De.next=4;break}return De.abrupt("return",k.isLoop?w2(fe,je,120):b2(fe,je));case 4:return De.abrupt("return",G);case 5:case"end":return De.stop()}},de)}));return function(de,le){return P.apply(this,arguments)}})()},E.createElement(S,{data:p.data.payload}))}else if(p.data.type==="socket"){var X=c?c(p.data):h1;return X&&p.data.payload&&E.createElement(X,{data:p.data.payload})}else if(p.data.type==="control"){var V=f&&p.data.payload?f(p.data):p.data.payload instanceof Ft.InputControl?Jd:null;return V&&E.createElement(V,{data:p.data.payload})}}}}var Xk=Object.freeze({__proto__:null,vars:qk,setup:Fk,Connection:i1,useConnection:r1,Control:Jd,InputControl:Jd,Node:f1,NodeStyles:u1,RefControl:eh,RefSocket:th,Socket:h1});function p1(a,n){var r=E.useRef(void 0);function s(){r.current&&clearTimeout(r.current)}var l=function(){s(),r.current=setTimeout(function(){a()},n)};return E.useEffect(function(){return s},[]),[l,s]}var Kk="rgba(110,136,255,0.8)",Qk="rgba(130, 153, 255, 0.8)",Jk="rgba(69, 103, 255, 0.8)",ec="5px",nh=120,Jv,Ih=On.div(Jv||(Jv=Sn([`
  color: #fff;
  padding: 4px;
  border-bottom: 1px solid `,`;
  background-color: `,`;
  cursor: pointer;
  width: 100%;
  position: relative;
  &:first-child {
    border-top-left-radius: `,`;
    border-top-right-radius: `,`;
  }
  &:last-child {
    border-bottom-left-radius: `,`;
    border-bottom-right-radius: `,`;
  }
  &:hover {
    background-color: `,`;
  }
`])),Jk,Kk,ec,ec,ec,ec,Qk),Wv,e0,t0,m1=On(Ih)(Wv||(Wv=Sn([`
    `,`
`])),function(a){return a.hasSubitems&&Lh(e0||(e0=Sn([`&:after {
    content: '';
    position: absolute;
    opacity: 0.6;
    right: 5px;
    top: 5px;
    }`])))}),y1=On.div(t0||(t0=Sn([`
    position: absolute;
    top: 0;
    left: 100%;
    width: `,`px;
`])),nh);function g1(a){var n,r,s,l,c=E.useState(!1),f=_n(c,2),h=f[0],p=f[1],y=E.useCallback(function(){p(!1)},[p]),b=p1(y,a.delay),v=_n(b,2),S=v[0],k=v[1],N=((n=a.components)===null||n===void 0||(r=n.item)===null||r===void 0?void 0:r.call(n,a.data))||m1,Z=((s=a.components)===null||s===void 0||(l=s.subitems)===null||l===void 0?void 0:l.call(s,a.data))||y1;return E.createElement(N,{onClick:function(Q){Q.stopPropagation(),a.data.handler(),a.hide()},hasSubitems:!!a.data.subitems,onPointerDown:function(Q){Q.stopPropagation()},onPointerOver:function(){k(),p(!0)},onPointerLeave:function(){S&&S()},"data-testid":"context-menu-item"},a.children,a.data.subitems&&h&&E.createElement(Z,null,a.data.subitems.map(function(U){return E.createElement(g1,{key:U.key,data:U,delay:a.delay,hide:a.hide,components:a.components},U.label)})))}var n0,v1=On.input(n0||(n0=Sn([`
  color: white;
  padding: 1px 8px;
  border: 1px solid white;
  border-radius: 10px;
  font-size: 16px;
  font-family: serif;
  width: 100%;
  box-sizing: border-box;
  background: transparent;
`])));function Wk(a){var n=a.component||v1;return E.createElement(n,{value:a.value,onInput:function(s){a.onChange(s.target.value)},onPointerDown:function(s){s.stopPropagation()},"data-testid":"context-menu-search-input"})}var a0,b1=On.div(a0||(a0=Sn([`
  padding: 10px;
  width: `,`px;
  margin-top: -20px;
  margin-left: -`,`px;
`])),nh,nh/2);function eC(a){var n,r,s,l,c,f,h=p1(a.onHide,a.delay),p=_n(h,2),y=p[0],b=p[1],v=E.useState(""),S=_n(v,2),k=S[0],N=S[1],Z=new RegExp(k,"i"),U=a.items.filter(function(V){return V.label.match(Z)}),Q=((n=a.components)===null||n===void 0||(r=n.main)===null||r===void 0?void 0:r.call(n))||b1,X=((s=a.components)===null||s===void 0||(l=s.common)===null||l===void 0?void 0:l.call(s))||Ih;return E.createElement(Q,{onMouseOver:function(){b()},onMouseLeave:function(){y?.()},onWheel:function(P){P.stopPropagation()},"data-testid":"context-menu"},a.searchBar&&E.createElement(X,null,E.createElement(Wk,{value:k,onChange:N,component:(c=a.components)===null||c===void 0||(f=c.search)===null||f===void 0?void 0:f.call(c)})),U.map(function(V){return E.createElement(g1,{key:V.key,data:V,delay:a.delay,hide:a.onHide,components:a.components},V.label)}))}function tC(a){var n=typeof a?.delay>"u"?1e3:a.delay;return{render:function(s){if(s.data.type==="contextmenu")return E.createElement(eC,{items:s.data.items,delay:n,searchBar:s.data.searchBar,onHide:s.data.onHide,components:a?.customize})}}}var nC=Object.freeze({__proto__:null,setup:tC,Item:m1,Subitems:y1,Menu:b1,Search:v1,Common:Ih}),tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},aC=typeof tc=="object"&&tc&&tc.Object===Object&&tc,rC=typeof self=="object"&&self&&self.Object===Object&&self;aC||rC||Function("return this")();function iC(){const a=E.useRef(!1);return E.useEffect(()=>(a.current=!0,()=>{a.current=!1}),[]),E.useCallback(()=>a.current,[])}var r0={width:void 0,height:void 0};function sC(a){const{ref:n,box:r="content-box"}=a,[{width:s,height:l},c]=E.useState(r0),f=iC(),h=E.useRef({...r0}),p=E.useRef(void 0);return p.current=a.onResize,E.useEffect(()=>{if(!n.current||typeof window>"u"||!("ResizeObserver"in window))return;const y=new ResizeObserver(([b])=>{const v=r==="border-box"?"borderBoxSize":r==="device-pixel-content-box"?"devicePixelContentBoxSize":"contentBoxSize",S=i0(b,v,"inlineSize"),k=i0(b,v,"blockSize");if(h.current.width!==S||h.current.height!==k){const Z={width:S,height:k};h.current.width=S,h.current.height=k,p.current?p.current(Z):f()&&c(Z)}});return y.observe(n.current,{box:r}),()=>{y.disconnect()}},[r,n,f]),{width:s,height:l}}function i0(a,n,r){return a[n]?Array.isArray(a[n])?a[n][0][r]:a[n][r]:n==="contentBoxSize"?a.contentRect[r==="inlineSize"?"width":"height"]:void 0}function Da(a){return"".concat(a,"px")}var s0,oC=On.div(s0||(s0=Sn([`
    position: absolute;
    background: rgba(110, 136, 255, 0.8);
    border: 1px solid rgb(192 206 212 / 60%);
`])));function lC(a){return E.createElement(oC,{style:{left:Da(a.left),top:Da(a.top),width:Da(a.width),height:Da(a.height)},"data-testid":"minimap-node"})}var o0,cC=On.div(o0||(o0=Sn([`
  position: absolute;
  background: rgba(255, 251, 128, 0.32);
  border: 1px solid #ffe52b;
`])));function uC(a){var n=function(c){return c*a.containerWidth},r=function(c){return c/a.containerWidth},s=s1(function(l,c){a.translate(r(-l),r(-c))},function(l){return{x:l.pageX,y:l.pageY}});return E.createElement(cC,{onPointerDown:s.start,style:{left:Da(n(a.left)),top:Da(n(a.top)),width:Da(n(a.width)),height:Da(n(a.height))},"data-testid":"minimap-viewport"})}var l0,fC=On.div(l0||(l0=Sn([`
    position: absolute;
    right: 24px;
    bottom: 24px;
    background: rgba(229, 234, 239, 0.65);
    padding: 20px;
    overflow: hidden;
    border: 1px solid #b1b7ff;
    border-radius: 8px;
    box-sizing: border-box;
`])));function dC(a){var n,r=E.useRef(null),s=sC({ref:r}),l=s.width,c=l===void 0?0:l,f=((n=r.current)===null||n===void 0?void 0:n.clientWidth)||c,h=E.useCallback(function(p){return p*f},[f]);return E.createElement(fC,{size:a.size,style:{width:Da(a.size*a.ratio),height:Da(a.size)},onPointerDown:function(y){y.stopPropagation(),y.preventDefault()},onDoubleClick:function(y){if(y.stopPropagation(),y.preventDefault(),!!r.current){var b=r.current.getBoundingClientRect(),v=(y.clientX-b.left)/(a.size*a.ratio),S=(y.clientY-b.top)/(a.size*a.ratio);a.point(v,S)}},ref:r,"data-testid":"minimap"},f?a.nodes.map(function(p,y){return E.createElement(lC,{key:y,left:h(p.left),top:h(p.top),width:h(p.width),height:h(p.height)})}):null,E.createElement(uC,di({},a.viewport,{start:a.start,containerWidth:f,translate:a.translate})))}function hC(a){return{render:function(r){if(r.data.type==="minimap")return E.createElement(dC,{nodes:r.data.nodes,size:a?.size||200,ratio:r.data.ratio,viewport:r.data.viewport,start:r.data.start,translate:r.data.translate,point:r.data.point})}}}var pC=Object.freeze({__proto__:null,setup:hC}),c0,Co=20,mC=On.div(c0||(c0=Sn([`
  width: `,`px;
  height: `,`px;
  box-sizing: border-box;
  background: `,`;
  border: 2px solid white;
  border-radius: `,`px;
`])),Co,Co,function(a){return a.selected?"#ffd92c":"steelblue"},Co);function yC(a){var n=s1(function(c,f){a.translate(c,f)},a.pointer),r=a.position,s=r.x,l=r.y;return E.createElement(mC,{onPointerDown:function(f){f.stopPropagation(),f.preventDefault(),n.start(f),a.pointerdown()},onContextMenu:function(f){f.stopPropagation(),f.preventDefault(),a.contextMenu()},selected:a.selected,style:{position:"absolute",top:"".concat(l-Co/2,"px"),left:"".concat(s-Co/2,"px")},"data-testid":"pin"})}function gC(a){function n(r,s){return E.createElement(E.Fragment,null,r.pins.map(function(l){return E.createElement(yC,di({},l,{key:l.id,contextMenu:function(){var f;a==null||(f=a.contextMenu)===null||f===void 0||f.call(a,l.id)},translate:function(f,h){var p;a==null||(p=a.translate)===null||p===void 0||p.call(a,l.id,f,h)},pointerdown:function(){var f;a==null||(f=a.pointerdown)===null||f===void 0||f.call(a,l.id)},pointer:s}))}))}return{render:function(s,l){var c=s.data,f=l.parentScope(Do);if(c.type==="reroute-pins")return n(c.data,function(){return f.area.pointer})}}}var vC=Object.freeze({__proto__:null,setup:gC}),Cd=Object.freeze({__proto__:null,classic:Xk,contextMenu:nC,minimap:pC,reroute:vC});function bC(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=wC(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(y){throw y},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,f=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var y=r.next();return f=y.done,y},e:function(y){h=!0,c=y},f:function(){try{f||r.return==null||r.return()}finally{if(h)throw c}}}}function wC(a,n){if(a){if(typeof a=="string")return u0(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u0(a,n):void 0}}function u0(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}function f0(a,n){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(a);n&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,s)}return r}function nc(a){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?f0(Object(r),!0).forEach(function(s){Be(a,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):f0(Object(r)).forEach(function(s){Object.defineProperty(a,s,Object.getOwnPropertyDescriptor(r,s))})}return a}function SC(a,n,r){return n=Bt(n),La(a,w1()?Reflect.construct(n,r||[],Bt(a).constructor):n.apply(a,r))}function w1(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(w1=function(){return!!a})()}function xC(a,n,r,s){var l=jo(Bt(a.prototype),n,r);return typeof l=="function"?function(c){return l.apply(r,c)}:l}var EC=(function(a){function n(){for(var r,s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var f=l[0];return dt(this,n),r=SC(this,n,["react-render"]),Be(r,"presets",[]),r.renderer=Ak({createRoot:f?.createRoot}),r.addPipe(function(h){if(!h||wn(h)!=="object"||!("type"in h))return h;if(h.type==="unmount")r.unmount(h.data.element);else if(h.type==="render"){if("filled"in h.data&&h.data.filled)return h;if(r.mount(h.data.element,h))return nc(nc({},h),{},{data:nc(nc({},h.data),{},{filled:!0})})}return h}),r}return Vn(n,a),ht(n,[{key:"setParent",value:function(s){var l=this;xC(n,"setParent",this)([s]),this.presets.forEach(function(c){c.attach&&c.attach(l)})}},{key:"mount",value:function(s,l){var c=this.parentScope(),f=bC(this.presets),h;try{for(f.s();!(h=f.n()).done;){var p=h.value,y=p.render(l,this);if(y){var b=E.createElement(_k,{rendered:function(){return void c.emit({type:"rendered",data:l.data})}},y);return this.renderer.mount(b,s),!0}}}catch(v){f.e(v)}finally{f.f()}}},{key:"unmount",value:function(s){this.renderer.unmount(s)}},{key:"addPreset",value:function(s){var l=s;l.attach&&l.attach(this),this.presets.push(l)}}])})(cs);function kC(a){try{return Function.toString.call(a).indexOf("[native code]")!==-1}catch{return typeof a=="function"}}function S1(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S1=function(){return!!a})()}function CC(a,n,r){if(S1())return Reflect.construct.apply(null,arguments);var s=[null];s.push.apply(s,n);var l=new(a.bind.apply(a,s));return r&&No(l,r.prototype),l}function ah(a){var n=typeof Map=="function"?new Map:void 0;return ah=function(s){if(s===null||!kC(s))return s;if(typeof s!="function")throw new TypeError("Super expression must either be null or a function");if(n!==void 0){if(n.has(s))return n.get(s);n.set(s,l)}function l(){return CC(s,arguments,Bt(this).constructor)}return l.prototype=Object.create(s.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),No(l,s)},ah(a)}function TC(a,n){var r=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!r){if(Array.isArray(a)||(r=OC(a))||n){r&&(a=r);var s=0,l=function(){};return{s:l,n:function(){return s>=a.length?{done:!0}:{done:!1,value:a[s++]}},e:function(y){throw y},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var c,f=!0,h=!1;return{s:function(){r=r.call(a)},n:function(){var y=r.next();return f=y.done,y},e:function(y){h=!0,c=y},f:function(){try{f||r.return==null||r.return()}finally{if(h)throw c}}}}function OC(a,n){if(a){if(typeof a=="string")return d0(a,n);var r={}.toString.call(a).slice(8,-1);return r==="Object"&&a.constructor&&(r=a.constructor.name),r==="Map"||r==="Set"?Array.from(a):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d0(a,n):void 0}}function d0(a,n){(n==null||n>a.length)&&(n=a.length);for(var r=0,s=Array(n);r<n;r++)s[r]=a[r];return s}var NC=(function(){function a(n){dt(this,a),Be(this,"setups",new Map),this.editor=n}return ht(a,[{key:"add",value:function(r,s){var l=this.setups.get(r.id);if(l)throw new Error("already processed");this.setups.set(r.id,s)}},{key:"remove",value:function(r){this.setups.delete(r)}},{key:"fetchInputs",value:(function(){var n=rt(Se.mark(function s(l){var c=this,f,h,p,y,b,v,S,k,N,Z,U,Q;return Se.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(f=this.setups.get(l),f){V.next=3;break}throw new Error("node is not initialized");case 3:return h=f.inputs(),p=this.editor.getConnections().filter(function(P){return P.target===l&&h.includes(P.targetInput)}),y={},V.next=8,Promise.all(p.map((function(){var P=rt(Se.mark(function de(le){return Se.wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return oe.t0=le,oe.next=3,c.fetch(le.source);case 3:return oe.t1=oe.sent,oe.abrupt("return",{c:oe.t0,sourceData:oe.t1});case 5:case"end":return oe.stop()}},de)}));return function(de){return P.apply(this,arguments)}})()));case 8:b=V.sent,v=TC(b);try{for(v.s();!(S=v.n()).done;)k=S.value,N=k.c,Z=k.sourceData,U=y[N.targetInput]?y[N.targetInput]:[],Q=y,Q[N.targetInput]=[].concat(us(U),[Z[N.sourceOutput]])}catch(P){v.e(P)}finally{v.f()}return V.abrupt("return",y);case 12:case"end":return V.stop()}},s,this)}));function r(s){return n.apply(this,arguments)}return r})()},{key:"fetch",value:(function(){var n=rt(Se.mark(function s(l){var c=this,f,h,p,y;return Se.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(f=this.setups.get(l),f){v.next=3;break}throw new Error("node is not initialized");case 3:return h=f.outputs(),v.next=6,f.data(function(){return c.fetchInputs(l)});case 6:if(p=v.sent,y=Object.keys(p),h.every(function(S){return y.includes(S)})){v.next=10;break}throw new Error('dataflow node "'.concat(l,`" doesn't return all of required properties. Expected "`).concat(h.join('", "'),'". Got "').concat(y.join('", "'),'"'));case 10:return v.abrupt("return",p);case 11:case"end":return v.stop()}},s,this)}));function r(s){return n.apply(this,arguments)}return r})()}])})(),jC=(function(){function a(n){dt(this,a),Be(this,"cache",new Map),this.onDelete=n}return ht(a,[{key:"get",value:function(r){return this.cache.get(r)}},{key:"add",value:function(r,s){if(this.cache.has(r))throw new Error("cache already exists");this.cache.set(r,s)}},{key:"patch",value:function(r,s){this.cache.set(r,s)}},{key:"delete",value:function(r){var s=this.cache.get(r);this.cache.delete(r),this.onDelete&&this.onDelete(s)}},{key:"clear",value:function(){var r=this;Array.from(this.cache.keys()).forEach(function(s){r.delete(s)})}}])})();function AC(a,n,r){return n=Bt(n),La(a,x1()?Reflect.construct(n,r||[],Bt(a).constructor):n.apply(a,r))}function x1(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(x1=function(){return!!a})()}var h0=(function(a){function n(){return dt(this,n),AC(this,n,["cancelled"])}return Vn(n,a),ht(n)})(ah(Error));function _C(){var a=!1;function n(p){if(a)throw new h0;return p}for(var r,s=new Promise(function(p,y){r=y,p()}),l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];var h=c.reduce(function(p,y){var b=p.then(y).then(n);return b},s);return h.cancel=function(){a||r(new h0),a=!0},h}function DC(a,n,r){return n=Bt(n),La(a,E1()?Reflect.construct(n,r||[],Bt(a).constructor):n.apply(a,r))}function E1(){try{var a=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E1=function(){return!!a})()}function MC(a,n,r,s){var l=jo(Bt(a.prototype),n,r);return typeof l=="function"?function(c){return l.apply(r,c)}:l}var RC=(function(a){function n(r){var s;return dt(this,n),s=DC(this,n,["dataflow-engine"]),Be(s,"cache",new jC(function(l){return l?.cancel&&l.cancel()})),s.configure=r,s.addPipe(function(l){return l.type==="nodecreated"&&s.add(l.data),l.type==="noderemoved"&&s.remove(l.data),l}),s}return Vn(n,a),ht(n,[{key:"setParent",value:function(s){MC(n,"setParent",this)([s]),this.editor=this.parentScope(Ur),this.dataflow=new NC(this.editor)}},{key:"getDataflow",value:function(){if(!this.dataflow)throw new Error("DataflowEngine isn't attached to NodeEditor");return this.dataflow}},{key:"add",value:function(s){var l=this,c=this.configure?this.configure(s):{inputs:function(){return Object.keys(s.inputs)},outputs:function(){return Object.keys(s.outputs)}};this.getDataflow().add(s,{inputs:c.inputs,outputs:c.outputs,data:(function(){var f=rt(Se.mark(function p(y){var b,v;return Se.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(b=l.cache.get(s.id),!b){k.next=3;break}return k.abrupt("return",b);case 3:return v=_C(function(){return y()},function(N){return s.data(N)}),l.cache.add(s.id,v),k.abrupt("return",v);case 6:case"end":return k.stop()}},p)}));function h(p){return f.apply(this,arguments)}return h})()})}},{key:"remove",value:function(s){this.getDataflow().remove(s.id)}},{key:"reset",value:function(s){var l=this;if(s){var c=this.getDataflow().setups.get(s);if(!c)throw new Error("setup");var f=c.outputs();this.cache.delete(s),this.editor.getConnections().filter(function(h){return h.source===s&&f.includes(h.sourceOutput)}).forEach(function(h){l.reset(h.target)})}else this.cache.clear()}},{key:"fetchInputs",value:(function(){var r=rt(Se.mark(function l(c){var f;return Se.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return f=wn(c)==="object"?c.id:c,p.abrupt("return",this.getDataflow().fetchInputs(f));case 2:case"end":return p.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()},{key:"fetch",value:(function(){var r=rt(Se.mark(function l(c){var f;return Se.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return f=wn(c)==="object"?c.id:c,p.abrupt("return",this.getDataflow().fetch(f));case 2:case"end":return p.stop()}},l,this)}));function s(l){return r.apply(this,arguments)}return s})()}])})(cs);const zC=!1,$h=(...a)=>zC,p0=Ft.Socket.canConnect;Ft.Socket.canConnect=function(a,n){return $h(`[Socket Check] ${a.name} <-> ${n.name}`),p0&&p0(a,n)||a.name==="any"||n.name==="any"?!0:a.name===n.name};Ft.Socket.prototype.canConnectTo=function(a){return $h(`[Socket Instance Check] ${this.name} -> ${a.name}`),Ft.Socket.canConnect(this,a)};const k1={boolean:new Ft.Socket("boolean"),number:new Ft.Socket("number"),object:new Ft.Socket("object"),lightInfo:new Ft.Socket("light_info"),any:new Ft.Socket("any")};Object.values(k1).forEach(a=>{a.canConnectTo=function(n){return $h(`[Socket Instance Direct] ${this.name} -> ${n.name}`),this.name===n.name||this.name==="any"||n.name==="any"}});let mo=null;function Ic(){if(mo!==null)return mo;const n=window.location.pathname.match(/^(\/api\/hassio_ingress\/[^/]+)/);return n?mo=n[1]:mo="",mo}function Sa(a){const n=Ic(),r=a.startsWith("/")?a:"/"+a;return n+r}Ic();const oi="t2app-pin",Oc="t2app-pin-remember",C1=(a,n)=>{try{return a.getItem(n)}catch{return null}},ac=(a,n,r)=>{try{return a.setItem(n,r),!0}catch{return!1}},To=(a,n)=>{try{return a.removeItem(n),!0}catch{return!1}},Nc=()=>C1(localStorage,Oc)==="true",es=()=>{const n=Nc()?localStorage:sessionStorage;return(C1(n,oi)||"").trim()||null},T1=()=>{To(sessionStorage,oi),To(localStorage,oi),To(localStorage,Oc),window.dispatchEvent(new CustomEvent("t2-pin-changed",{detail:{hasPin:!1}}))},m0=(a,{remember:n}={})=>{const r=(a||"").toString().trim(),s=typeof n=="boolean"?n:Nc();if(!r){T1(),typeof n=="boolean"&&ac(localStorage,Oc,n?"true":"false");return}ac(localStorage,Oc,s?"true":"false"),s?(ac(localStorage,oi,r),To(sessionStorage,oi)):(ac(sessionStorage,oi,r),To(localStorage,oi)),window.dispatchEvent(new CustomEvent("t2-pin-changed",{detail:{hasPin:!0}}))},Qi=async(a,n={})=>{const r=typeof a=="string"?Sa(a):a;return fetch(r,n)},Qn=async(a,n={})=>{const r=es(),s=typeof a=="string"?Sa(a):a;if(!r)return fetch(s,n);const l=new Headers(n.headers||(typeof a!="string"?a.headers:void 0)||void 0);return l.set("X-APP-PIN",r),fetch(s,{...n,headers:l})},y0={shelly:{icon:"",color:"#ff9800",label:"Shelly"},wled:{icon:"",color:"#e040fb",label:"WLED"},esphome:{icon:"",color:"#00bcd4",label:"ESPHome"},hue:{icon:"",color:"#ffc107",label:"Philips Hue"},kasa:{icon:"",color:"#4caf50",label:"TP-Link Kasa"},tasmota:{icon:"",color:"#ff5722",label:"Tasmota"},chromecast:{icon:"",color:"#5c6bc0",label:"Chromecast"},homekit:{icon:"",color:"#607d8b",label:"HomeKit"},airplay:{icon:"",color:"#9c27b0",label:"AirPlay"},generic:{icon:"",color:"#78909c",label:"HTTP Device"},http:{icon:"",color:"#78909c",label:"HTTP Device"}};function LC(){const[a,n]=E.useState([]),[r,s]=E.useState(!1),[l,c]=E.useState(null),[f,h]=E.useState(null),[p,y]=E.useState(5e3),[b,v]=E.useState(null),S=E.useCallback(async()=>{s(!0),c(null);try{const Q=await Qi("/api/discovery/scan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({timeout:p})});if(!Q.ok){const V=await Q.json();throw new Error(V.error||`Scan failed (${Q.status})`)}const X=await Q.json();n(X.devices||[]),h(new Date)}catch(Q){console.error("[Discovery] Scan error:",Q),c(Q.message)}finally{s(!1)}},[p]),k=Q=>y0[Q]||y0.generic,N=Q=>Q?new Date(Q).toLocaleTimeString():"",U=(Q=>{const X={};for(const V of Q){const P=V.type||"generic";X[P]||(X[P]=[]),X[P].push(V)}return X})(a);return m.jsxs("div",{className:"discovery-panel",children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[m.jsxs("div",{children:[m.jsx("div",{style:{fontSize:"11px",color:"#8a959e",marginBottom:"4px"},children:"Scan your network for smart home devices"}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx("label",{style:{fontSize:"11px",color:"#8a959e"},children:"Timeout:"}),m.jsxs("select",{value:p,onChange:Q=>y(Number(Q.target.value)),disabled:r,style:{background:"#2a3238",color:"#c5cdd3",border:"1px solid rgba(95, 179, 179, 0.3)",borderRadius:"4px",padding:"4px 8px",fontSize:"11px"},children:[m.jsx("option",{value:3e3,children:"3 seconds"}),m.jsx("option",{value:5e3,children:"5 seconds"}),m.jsx("option",{value:1e4,children:"10 seconds"}),m.jsx("option",{value:15e3,children:"15 seconds"})]})]})]}),m.jsx("button",{onClick:S,disabled:r,style:{padding:"10px 20px",background:r?"rgba(95, 179, 179, 0.2)":"rgba(95, 179, 179, 0.15)",border:"1px solid rgba(95, 179, 179, 0.5)",borderRadius:"6px",color:r?"#8a959e":"#5fb3b3",cursor:r?"not-allowed":"pointer",fontSize:"13px",fontWeight:500,display:"flex",alignItems:"center",gap:"8px",transition:"all 0.2s"},children:r?m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"discovery-spinner",children:""}),"Scanning..."]}):m.jsx(m.Fragment,{children:" Scan Network"})})]}),l&&m.jsxs("div",{style:{padding:"10px 14px",background:"rgba(199, 95, 95, 0.15)",border:"1px solid rgba(199, 95, 95, 0.3)",borderRadius:"6px",color:"#c75f5f",fontSize:"12px",marginBottom:"12px"},children:[" ",l]}),f&&m.jsxs("div",{style:{fontSize:"10px",color:"#8a959e",marginBottom:"12px"},children:["Last scan: ",f.toLocaleTimeString(),"  Found ",a.length," device(s)"]}),a.length===0&&!r&&f&&m.jsxs("div",{style:{padding:"30px",textAlign:"center",color:"#8a959e",background:"rgba(0, 0, 0, 0.2)",borderRadius:"8px"},children:[m.jsx("div",{style:{fontSize:"24px",marginBottom:"8px"},children:""}),m.jsx("div",{children:"No devices found on your network."}),m.jsx("div",{style:{fontSize:"11px",marginTop:"8px"},children:"Try increasing the timeout or check if your devices are online."})]}),Object.entries(U).map(([Q,X])=>{const V=k(Q);return m.jsxs("div",{style:{marginBottom:"16px"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px",paddingBottom:"6px",borderBottom:"1px solid rgba(95, 179, 179, 0.15)"},children:[m.jsx("span",{style:{fontSize:"16px"},children:V.icon}),m.jsx("span",{style:{color:V.color,fontSize:"13px",fontWeight:500},children:V.label}),m.jsx("span",{style:{color:"#8a959e",fontSize:"11px",background:"rgba(0, 0, 0, 0.2)",padding:"2px 8px",borderRadius:"10px"},children:X.length})]}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:X.map(P=>m.jsxs("div",{style:{background:b===P.id?"rgba(95, 179, 179, 0.1)":"rgba(0, 0, 0, 0.15)",border:"1px solid rgba(95, 179, 179, 0.15)",borderRadius:"6px",padding:"10px 14px",cursor:"pointer",transition:"all 0.2s"},onClick:()=>v(b===P.id?null:P.id),children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[m.jsxs("div",{children:[m.jsx("div",{style:{color:"#c5cdd3",fontSize:"13px",fontWeight:500},children:P.name}),m.jsxs("div",{style:{color:"#8a959e",fontSize:"11px",fontFamily:"monospace"},children:[P.ip,":",P.port]})]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[P.configured?m.jsx("span",{style:{background:"rgba(95, 170, 125, 0.2)",color:"#5faa7d",padding:"3px 8px",borderRadius:"4px",fontSize:"10px"},children:"Configured"}):m.jsx("span",{style:{background:"rgba(212, 160, 84, 0.2)",color:"#d4a054",padding:"3px 8px",borderRadius:"4px",fontSize:"10px"},children:"New"}),m.jsx("span",{style:{color:"#8a959e",fontSize:"12px"},children:b===P.id?"":""})]})]}),b===P.id&&m.jsxs("div",{style:{marginTop:"12px",paddingTop:"12px",borderTop:"1px solid rgba(95, 179, 179, 0.1)",fontSize:"11px",color:"#8a959e"},children:[m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"100px 1fr",gap:"6px 12px"},children:[m.jsx("span",{children:"Host:"}),m.jsx("span",{style:{color:"#c5cdd3",fontFamily:"monospace"},children:P.host||"N/A"}),m.jsx("span",{children:"Source:"}),m.jsx("span",{style:{color:"#c5cdd3"},children:P.source==="mdns"?"mDNS/Bonjour":P.source==="udp"?"UDP Broadcast":P.source}),m.jsx("span",{children:"Discovered:"}),m.jsx("span",{style:{color:"#c5cdd3"},children:N(P.discoveredAt)}),P.capabilities&&P.capabilities.length>0&&m.jsxs(m.Fragment,{children:[m.jsx("span",{children:"Capabilities:"}),m.jsx("span",{style:{color:"#5fb3b3"},children:P.capabilities.join(", ")})]}),P.model&&m.jsxs(m.Fragment,{children:[m.jsx("span",{children:"Model:"}),m.jsx("span",{style:{color:"#c5cdd3"},children:P.model})]})]}),m.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"12px"},children:[m.jsx("button",{onClick:de=>{de.stopPropagation(),window.open(`http://${P.ip}:${P.port}`,"_blank")},style:{padding:"6px 12px",background:"rgba(95, 179, 179, 0.15)",border:"1px solid rgba(95, 179, 179, 0.3)",borderRadius:"4px",color:"#5fb3b3",cursor:"pointer",fontSize:"11px"},children:" Open Web UI"}),m.jsx("button",{onClick:de=>{de.stopPropagation(),navigator.clipboard.writeText(P.ip)},style:{padding:"6px 12px",background:"rgba(95, 179, 179, 0.1)",border:"1px solid rgba(95, 179, 179, 0.2)",borderRadius:"4px",color:"#8a959e",cursor:"pointer",fontSize:"11px"},children:" Copy IP"})]})]})]},P.id))})]},Q)}),m.jsx("style",{children:`
                .discovery-spinner {
                    display: inline-block;
                    animation: spin 1s linear infinite;
                }
                @keyframes spin {
                    from { transform: rotate(0deg); }
                    to { transform: rotate(360deg); }
                }
            `})]})}const rc=[{key:"primary",label:"Primary Accent Color",type:"color",default:"#5fb3b3"},{key:"background",label:"Node Background",type:"color",default:"#1e2428"},{key:"surface",label:"Node Surface",type:"color",default:"#2a3238"},{key:"surfaceLight",label:"Elevated Surface",type:"color",default:"#343d44"},{key:"text",label:"Text Color",type:"color",default:"#c5cdd3"},{key:"textMuted",label:"Muted Text",type:"color",default:"#8a959e"},{key:"success",label:"Success Color",type:"color",default:"#5faa7d"},{key:"warning",label:"Warning Color",type:"color",default:"#d4a054"},{key:"error",label:"Error Color",type:"color",default:"#c75f5f"},{key:"borderOpacity",label:"Border Opacity (%)",type:"range",min:0,max:100,default:25}],BC=[{category:"Home Assistant",icon:"",testable:"ha",settings:[{key:"HA_HOST",label:"Home Assistant URL",placeholder:"http://homeassistant.local:8123",type:"text"},{key:"HA_TOKEN",label:"Long-Lived Access Token",placeholder:"eyJ...",type:"password",isSecret:!0}]},{category:"Weather Services",icon:"",testable:"weather",settings:[{key:"OPENWEATHERMAP_API_KEY",label:"OpenWeatherMap API Key",placeholder:"Your API key",type:"password",isSecret:!0}]},{category:"Ambient Weather",icon:"",settings:[{key:"AMBIENT_API_KEY",label:"Ambient Weather API Key",placeholder:"Your API key",type:"password",isSecret:!0},{key:"AMBIENT_APPLICATION_KEY",label:"Application Key",placeholder:"Your app key",type:"password",isSecret:!0},{key:"AMBIENT_MAC_ADDRESS",label:"Device MAC Address",placeholder:"XX:XX:XX:XX:XX:XX",type:"text"}]},{category:"Philips Hue",icon:"",testable:"hue",settings:[{key:"HUE_BRIDGE_IP",label:"Bridge IP Address",placeholder:"192.168.1.x",type:"text"},{key:"HUE_USERNAME",label:"Bridge Username/Key",placeholder:"Generated key",type:"password",isSecret:!0}]},{category:"Telegram Notifications",icon:"",testable:"telegram",settings:[{key:"TELEGRAM_BOT_TOKEN",label:"Bot Token",placeholder:"123456:ABC-DEF...",type:"password",isSecret:!0},{key:"TELEGRAM_CHAT_ID",label:"Chat ID",placeholder:"123456789",type:"text"}]},{category:"Location",icon:"",description:"Your location for sunrise/sunset calculations and weather",settings:[{key:"LOCATION_CITY",label:"City",placeholder:"Dallas, TX",type:"text"},{key:"LOCATION_LATITUDE",label:"Latitude",placeholder:"32.7767",type:"text"},{key:"LOCATION_LONGITUDE",label:"Longitude",placeholder:"-96.7970",type:"text"},{key:"LOCATION_TIMEZONE",label:"Timezone",placeholder:"America/Chicago",type:"text"}]},{category:"Server Settings",icon:"",settings:[{key:"PORT",label:"Server Port",placeholder:"3000",type:"number"},{key:"LOG_LEVEL",label:"Log Level",placeholder:"info",type:"select",options:["debug","info","warn","error"]}]}],g0=a=>{try{const n=Math.max(0,parseInt(a.slice(1,3),16)-40),r=Math.max(0,parseInt(a.slice(3,5),16)-40),s=Math.max(0,parseInt(a.slice(5,7),16)-40);return`#${n.toString(16).padStart(2,"0")}${r.toString(16).padStart(2,"0")}${s.toString(16).padStart(2,"0")}`}catch{return a}},v0=a=>{try{const n=Math.min(255,parseInt(a.slice(1,3),16)+50),r=Math.min(255,parseInt(a.slice(3,5),16)+50),s=Math.min(255,parseInt(a.slice(5,7),16)+50);return`#${n.toString(16).padStart(2,"0")}${r.toString(16).padStart(2,"0")}${s.toString(16).padStart(2,"0")}`}catch{return a}};function UC({isOpen:a,onClose:n}){const[r,s]=E.useState({}),[l,c]=E.useState(!0),[f,h]=E.useState(!1),[p,y]=E.useState(null),[b,v]=E.useState(null),[S,k]=E.useState({}),[N,Z]=E.useState({}),[U,Q]=E.useState({}),[X,V]=E.useState({}),P=E.useRef(null),[de,le]=E.useState(""),[I,oe]=E.useState(()=>Nc()),[ee,G]=E.useState(()=>!!es()),[fe,je]=E.useState(!1),[De,Ye]=E.useState(()=>{try{const _=localStorage.getItem("t2theme-overrides"),L=_?JSON.parse(_):{},he={};return rc.forEach(Te=>{he[Te.key]=Te.default}),{...he,...L}}catch{const _={};return rc.forEach(L=>{_[L.key]=L.default}),_}}),[Pe,C]=E.useState(!1),H={"Home Assistant":{accent:"#4fc3f7",background:"#0a1520",icon:""},Weather:{accent:"#ffb74d",background:"#1a1510",icon:""},Logic:{accent:"#81c784",background:"#0a140a",icon:""},"Timer/Event":{accent:"#ce93d8",background:"#140a14",icon:""},Color:{accent:"#f48fb1",background:"#140a10",icon:""},Utility:{accent:"#90a4ae",background:"#0a0f14",icon:""},Inputs:{accent:"#aed581",background:"#0f140a",icon:""},CC_Control_Nodes:{accent:"#64b5f6",background:"#0a1018",icon:""},Other:{accent:"#b0bec5",background:"#0a0f14",icon:""}},[ce,we]=E.useState(()=>{try{const _=localStorage.getItem("t2category-overrides"),L=_?JSON.parse(_):{},he={};for(const[Te,Ne]of Object.entries(H))he[Te]={...Ne,...L[Te]||{}};return he}catch{return{...H}}}),[xe,x]=E.useState(!1),R={Boolean:{color:"#10b981",icon:"",description:"True/False values"},Number:{color:"#3b82f6",icon:"",description:"Numeric values"},String:{color:"#f59e0b",icon:"",description:"Text values"},"HSV Info":{color:"#8b5cf6",icon:"",description:"Color HSV data"},"Object/Any":{color:"#06b6d4",icon:"",description:"Generic objects"},"Light Info":{color:"#eab308",icon:"",description:"Light state data"}},A={Boolean:"boolean",Number:"number",String:"string","HSV Info":"hsv","Object/Any":"object","Light Info":"light"},[$,pe]=E.useState(()=>{try{const _=localStorage.getItem("t2socket-colors"),L=_?JSON.parse(_):{},he={};for(const[Te,Ne]of Object.entries(R))he[Te]={...Ne,...L[Te]||{}};return he}catch{return{...R}}}),[Oe,Ve]=E.useState(!1),[it,Je]=E.useState(!1),[Wt,Yt]=E.useState(null),[qe,jt]=E.useState(!1),[q,se]=E.useState(!1);E.useEffect(()=>{a&&(te(),Z({Security:!0,"Home Assistant":!0}),Q({}),oe(Nc()),G(!!es()),le(""))},[a]);const te=async()=>{c(!0),y(null);try{const _=await Qn("/api/settings");if(!_.ok)throw new Error("Failed to fetch settings");const he=(await _.json()).settings||{};s(he);try{const Te=await Qn("/api/config");if(Te.ok){const Ne=await Te.json();if(Ne.success){jt(Ne.isAddon||!1),se(!0);const At=!he.LOCATION_CITY,jn=!he.LOCATION_LATITUDE,Ie=!he.LOCATION_LONGITUDE,Xt=!he.LOCATION_TIMEZONE;(At||jn||Ie||Xt)&&(s(_t=>({..._t,...At&&Ne.locationName?{LOCATION_CITY:Ne.locationName}:{},...jn&&Ne.latitude?{LOCATION_LATITUDE:String(Ne.latitude)}:{},...Ie&&Ne.longitude?{LOCATION_LONGITUDE:String(Ne.longitude)}:{},...Xt&&Ne.timezone?{LOCATION_TIMEZONE:Ne.timezone}:{}})),console.log("[Settings] Auto-filled location from Home Assistant config"))}}}catch(Te){console.log("[Settings] Could not fetch HA config for location auto-fill:",Te.message)}}catch(_){y("Failed to load settings: "+_.message)}finally{c(!1)}},_e=async()=>{h(!0),y(null),v(null);try{const _=await Qn("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:r})});if(!_.ok){const L=await _.json();throw new Error(L.error||"Failed to save settings")}v("Settings saved! Some changes may require a server restart."),setTimeout(()=>v(null),5e3)}catch(_){y("Failed to save: "+_.message)}finally{h(!1)}},me=(_,L)=>{s(he=>({...he,[_]:L}))},ie=async()=>{const _=r.LOCATION_CITY;if(!_||_.trim().length<2){Yt("Please enter a city name first");return}Je(!0),Yt(null);try{const L=await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(_)}&format=json&limit=1&addressdetails=1`,{headers:{"User-Agent":"T2AutoTron/2.1 (Home Automation App)"}});if(!L.ok)throw new Error("Geocoding service unavailable");const he=await L.json();if(he.length===0){Yt(`Could not find "${_}". Try adding state/country (e.g., "Dallas, TX, USA")`);return}const Te=he[0],Ne=parseFloat(Te.lat).toFixed(4),At=parseFloat(Te.lon).toFixed(4),jn=Te.address?[Te.address.city||Te.address.town||Te.address.village||Te.name,Te.address.state,Te.address.country].filter(Boolean).join(", "):Te.display_name.split(",").slice(0,3).join(",");let Ie="UTC";const Xt=Te.address?.state?.toLowerCase()||"",_t=Te.address?.country?.toLowerCase()||"";if(_t.includes("portugal"))Ie="Europe/Lisbon";else if(_t.includes("spain"))Ie="Europe/Madrid";else if(_t.includes("france"))Ie="Europe/Paris";else if(_t.includes("germany"))Ie="Europe/Berlin";else if(_t.includes("italy"))Ie="Europe/Rome";else if(_t.includes("united kingdom")||_t.includes("ireland"))Ie="Europe/London";else if(_t.includes("netherlands"))Ie="Europe/Amsterdam";else if(_t.includes("belgium"))Ie="Europe/Brussels";else if(_t.includes("australia"))Ie="Australia/Sydney";else if(_t.includes("japan"))Ie="Asia/Tokyo";else if(_t.includes("china"))Ie="Asia/Shanghai";else if(_t.includes("india"))Ie="Asia/Kolkata";else if(_t.includes("brazil"))Ie="America/Sao_Paulo";else if(_t.includes("canada"))Xt.includes("british columbia")?Ie="America/Vancouver":Xt.includes("alberta")?Ie="America/Edmonton":Xt.includes("saskatchewan")?Ie="America/Regina":Xt.includes("manitoba")?Ie="America/Winnipeg":Xt.includes("ontario")?Ie="America/Toronto":Xt.includes("quebec")?Ie="America/Montreal":Ie="America/Toronto";else if(_t.includes("united states")||_t.includes("usa"))Xt.includes("hawaii")?Ie="Pacific/Honolulu":Xt.includes("alaska")?Ie="America/Anchorage":["california","nevada","oregon","washington"].some(Tt=>Xt.includes(Tt))?Ie="America/Los_Angeles":["arizona"].some(Tt=>Xt.includes(Tt))?Ie="America/Phoenix":["colorado","montana","wyoming","utah","new mexico","idaho"].some(Tt=>Xt.includes(Tt))?Ie="America/Denver":["texas","oklahoma","kansas","nebraska","south dakota","north dakota","minnesota","iowa","missouri","arkansas","louisiana","wisconsin","illinois","mississippi","alabama","tennessee"].some(Tt=>Xt.includes(Tt))?Ie="America/Chicago":Ie="America/New_York";else{const Tt=parseFloat(At);Tt>=-125&&Tt<-115?Ie="America/Los_Angeles":Tt>=-115&&Tt<-102?Ie="America/Denver":Tt>=-102&&Tt<-87?Ie="America/Chicago":Tt>=-87&&Tt<-67?Ie="America/New_York":Tt>=-10&&Tt<3?Ie="Europe/London":Tt>=3&&Tt<15?Ie="Europe/Paris":Tt>=15&&Tt<30&&(Ie="Europe/Berlin")}s(Tt=>({...Tt,LOCATION_CITY:jn,LOCATION_LATITUDE:Ne,LOCATION_LONGITUDE:At,LOCATION_TIMEZONE:Ie})),v(`Found: ${jn} (${Ne}, ${At})`),setTimeout(()=>v(null),5e3)}catch(L){Yt("Search failed: "+L.message)}finally{Je(!1)}},D=(_,L)=>{Ye(he=>({...he,[_]:L})),C(!0)},K=()=>{try{localStorage.setItem("t2theme-overrides",JSON.stringify(De)),v("Theme saved! Refresh the page to apply changes."),C(!1),setTimeout(()=>v(null),5e3)}catch(_){y("Failed to save theme: "+_.message)}},Ee=()=>{const _={};rc.forEach(L=>{_[L.key]=L.default}),Ye(_),localStorage.removeItem("t2theme-overrides"),v("Theme reset to defaults! Refresh the page to apply."),C(!1),setTimeout(()=>v(null),5e3)},J=(_,L,he)=>{we(Te=>({...Te,[_]:{...Te[_],[L]:he}})),x(!0)},ae=_=>{const L=parseInt(_.slice(1,3),16),he=parseInt(_.slice(3,5),16),Te=parseInt(_.slice(5,7),16);return`${L}, ${he}, ${Te}`},ve={"Home Assistant":"ha",Weather:"weather",Logic:"logic","Timer/Event":"timer",Color:"color",Utility:"utility",Inputs:"inputs",CC_Control_Nodes:"cc",Other:"other"},Ue=_=>{const L=document.documentElement;for(const[he,Te]of Object.entries(_)){const Ne=ve[he];Ne&&(L.style.setProperty(`--node-${Ne}-color`,Te.accent),L.style.setProperty(`--node-${Ne}-color-rgb`,ae(Te.accent)),Te.background&&L.style.setProperty(`--node-${Ne}-bg`,Te.background))}},$e=()=>{try{const _={};for(const[L,he]of Object.entries(ce)){const Te=H[L],Ne={};he.accent!==Te.accent&&(Ne.accent=he.accent),he.background!==Te.background&&(Ne.background=he.background),Object.keys(Ne).length>0&&(_[L]=Ne)}Object.keys(_).length>0?localStorage.setItem("t2category-overrides",JSON.stringify(_)):localStorage.removeItem("t2category-overrides"),Ue(ce),v("Category colors applied!"),x(!1),setTimeout(()=>v(null),3e3)}catch(_){y("Failed to save category colors: "+_.message)}},bt=()=>{we({...H}),localStorage.removeItem("t2category-overrides"),Ue(H),v("Category colors reset to defaults!"),x(!1),setTimeout(()=>v(null),3e3)},Me=(_,L)=>{pe(he=>({...he,[_]:{...he[_],color:L}})),Ve(!0)},et=(_,L=20)=>{const he=parseInt(_.slice(1),16),Te=Math.max(0,(he>>16)-Math.round(255*L/100)),Ne=Math.max(0,(he>>8&255)-Math.round(255*L/100)),At=Math.max(0,(he&255)-Math.round(255*L/100));return`#${(1<<24|Te<<16|Ne<<8|At).toString(16).slice(1)}`},st=(_,L=20)=>{const he=parseInt(_.slice(1),16),Te=Math.min(255,(he>>16)+Math.round(255*L/100)),Ne=Math.min(255,(he>>8&255)+Math.round(255*L/100)),At=Math.min(255,(he&255)+Math.round(255*L/100));return`#${(1<<24|Te<<16|Ne<<8|At).toString(16).slice(1)}`},Vt=_=>{const L=document.documentElement;for(const[he,Te]of Object.entries(_)){const Ne=A[he];Ne&&(L.style.setProperty(`--socket-${Ne}-color`,Te.color),L.style.setProperty(`--socket-${Ne}-dark`,et(Te.color,15)),L.style.setProperty(`--socket-${Ne}-border`,st(Te.color,20)),L.style.setProperty(`--socket-${Ne}-rgb`,ae(Te.color)))}},xt=()=>{try{const _={};for(const[L,he]of Object.entries($)){const Te=R[L];he.color!==Te.color&&(_[L]={color:he.color})}Object.keys(_).length>0?localStorage.setItem("t2socket-colors",JSON.stringify(_)):localStorage.removeItem("t2socket-colors"),Vt($),v("Socket colors applied!"),Ve(!1),setTimeout(()=>v(null),3e3)}catch(_){y("Failed to save socket colors: "+_.message)}},ze=()=>{pe({...R}),localStorage.removeItem("t2socket-colors"),Vt(R),v("Socket colors reset to defaults!"),Ve(!1),setTimeout(()=>v(null),3e3)},We=_=>{Z(L=>({...L,[_]:!L[_]}))},Ge=_=>{k(L=>({...L,[_]:!L[_]}))},Et=async _=>{V(L=>({...L,[_]:!0})),Q(L=>({...L,[_]:null}));try{const he=await(await Qn("/api/settings/test",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({service:_,settings:r})})).json();Q(Te=>({...Te,[_]:{success:he.success,message:he.message||(he.success?"Connection successful!":"Connection failed"),details:he.details}}))}catch(L){Q(he=>({...he,[_]:{success:!1,message:"Test failed: "+L.message}}))}finally{V(L=>({...L,[_]:!1}))}},fn=()=>{const _={version:"1.0",timestamp:new Date().toISOString(),settings:r},L=new Blob([JSON.stringify(_,null,2)],{type:"application/json"}),he=URL.createObjectURL(L),Te=document.createElement("a");Te.href=he,Te.download=`t2autotron-settings-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Te),Te.click(),document.body.removeChild(Te),URL.revokeObjectURL(he),v("Settings exported successfully!"),setTimeout(()=>v(null),3e3)},Nn=_=>{const L=_.target.files?.[0];if(!L)return;const he=new FileReader;he.onload=Te=>{try{const Ne=JSON.parse(Te.target.result);if(!Ne.settings||typeof Ne.settings!="object")throw new Error("Invalid backup file format");s(At=>({...At,...Ne.settings})),v(`Imported ${Object.keys(Ne.settings).length} settings from backup. Click Save to apply.`),setTimeout(()=>v(null),5e3)}catch(Ne){y("Failed to import backup: "+Ne.message)}},he.readAsText(L),_.target.value=""};return a?kh.createPortal(m.jsx("div",{className:"settings-modal-overlay",onClick:n,children:m.jsxs("div",{className:"settings-modal",onClick:_=>_.stopPropagation(),children:[m.jsxs("div",{className:"settings-header",children:[m.jsx("h2",{children:" Settings & API Keys"}),m.jsx("button",{className:"settings-close-btn",onClick:n,children:""})]}),m.jsx("div",{className:"settings-content",children:l?m.jsx("div",{className:"settings-loading",children:"Loading settings..."}):m.jsxs(m.Fragment,{children:[p&&m.jsx("div",{className:"settings-error",children:p}),b&&m.jsx("div",{className:"settings-success",children:b}),m.jsx("div",{className:"settings-warning",children:" These settings are stored on the server (managed by this app). Keep the server secure."}),m.jsxs("div",{className:"settings-category",children:[m.jsxs("div",{className:"settings-category-header",onClick:()=>We("Security"),style:{background:"linear-gradient(135deg, rgba(0, 243, 255, 0.12), rgba(0, 150, 200, 0.08))"},children:[m.jsxs("span",{children:[N.Security?"":""," Security (This Device)"]}),ee&&m.jsxs("span",{style:{fontSize:"10px",color:I?"#00c896":"#ffaa00"},children:[" ",I?"REMEMBERED":"SESSION"]})]}),N.Security&&m.jsxs("div",{className:"settings-category-content",children:[m.jsx("div",{className:"settings-info",style:{fontSize:"11px",color:"#8a959e",marginBottom:"10px",padding:"8px",background:"rgba(0, 243, 255, 0.06)",borderRadius:"4px"},children:"Used to authorize protected actions (Settings tests, Updates) when accessing the server from another device."}),m.jsxs("div",{className:"settings-field",children:[m.jsxs("label",{className:"settings-label",children:["App PIN",m.jsx("button",{className:"settings-show-btn",onClick:()=>je(_=>!_),type:"button",children:fe?" Hide":" Show"})]}),m.jsx("input",{type:fe?"text":"password",className:"settings-input",value:de,onChange:_=>le(_.target.value),placeholder:ee?"Enter new PIN (leave blank to keep current)":"Enter PIN",autoComplete:"off"}),m.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"10px",alignItems:"center"},children:[m.jsxs("label",{style:{display:"flex",gap:"8px",alignItems:"center",fontSize:"12px",color:"#88ddff"},children:[m.jsx("input",{type:"checkbox",checked:I,onChange:_=>{const L=_.target.checked;oe(L);const he=es();he&&m0(he,{remember:L})}}),"Remember PIN on this device"]}),m.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:"10px"},children:[m.jsx("button",{className:"settings-btn-small",type:"button",onClick:()=>{const _=de.trim();_&&(m0(_,{remember:I}),G(!0),le(""),(async()=>{try{const L=await Qn("/api/settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:{APP_PIN:_}})});if(!L.ok){const he=await L.text();throw new Error(he||`HTTP ${L.status}`)}v("PIN saved (server + this device)."),setTimeout(()=>v(null),3e3)}catch{v("PIN saved on this device. Server PIN update failed."),setTimeout(()=>v(null),4e3)}finally{te()}})())},style:{background:"rgba(0, 200, 150, 0.1)",borderColor:"rgba(0, 200, 150, 0.4)",color:"#00c896"},disabled:!de.trim(),children:" Save PIN"}),m.jsx("button",{className:"settings-btn-small",type:"button",onClick:()=>{T1(),G(!1),le(""),oe(!1),v("PIN cleared."),setTimeout(()=>v(null),3e3)},style:{background:"rgba(199, 95, 95, 0.12)",borderColor:"rgba(199, 95, 95, 0.45)",color:"#c75f5f"},disabled:!ee,children:"Clear"})]})]}),m.jsx("div",{style:{marginTop:"8px",fontSize:"11px",color:"#666"},children:ee?`PIN is saved (${I?"remembered":"this session"}).`:"No PIN saved."})]})]})]}),m.jsxs("div",{className:"settings-backup-section",children:[m.jsx("span",{className:"settings-backup-label",children:" Backup & Restore"}),m.jsxs("div",{className:"settings-backup-buttons",children:[m.jsx("button",{className:"settings-btn-small settings-btn-export",onClick:fn,children:" Export Backup"}),m.jsx("button",{className:"settings-btn-small settings-btn-import",onClick:()=>P.current?.click(),children:" Import Backup"}),m.jsx("input",{ref:P,type:"file",accept:".json",style:{display:"none"},onChange:Nn})]})]}),m.jsxs("div",{className:"settings-category",children:[m.jsxs("div",{className:"settings-category-header",onClick:()=>We("Performance"),style:{background:"linear-gradient(135deg, rgba(255, 170, 0, 0.15), rgba(255, 100, 50, 0.1))"},children:[m.jsxs("span",{children:[N.Performance?"":""," Performance Mode"]}),window.getPerformanceMode?.()&&m.jsx("span",{style:{fontSize:"10px",color:"#10b981"},children:" ACTIVE"})]}),N.Performance&&m.jsxs("div",{className:"settings-category-content",children:[m.jsxs("div",{className:"settings-info",style:{fontSize:"11px",color:"#ffaa00",marginBottom:"12px",padding:"10px",background:"rgba(255, 170, 0, 0.1)",borderRadius:"4px",border:"1px solid rgba(255, 170, 0, 0.2)"},children:[" ",m.jsx("strong",{children:"Enable this if you experience lag or high GPU usage with many nodes."}),m.jsx("br",{}),m.jsx("br",{}),"Performance Mode disables:",m.jsxs("ul",{style:{margin:"8px 0 0 0",paddingLeft:"20px"},children:[m.jsx("li",{children:"Backdrop blur effects on nodes (biggest impact)"}),m.jsx("li",{children:"Complex glow shadows"}),m.jsx("li",{children:"Infinite pulse/glow animations"}),m.jsx("li",{children:"Transition effects on nodes"})]})]}),m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px",background:"rgba(0, 0, 0, 0.3)",borderRadius:"6px"},children:[m.jsxs("div",{children:[m.jsx("div",{style:{color:"#e0e0e0",fontSize:"13px",fontWeight:"500"},children:"Performance Mode"}),m.jsx("div",{style:{color:"#888",fontSize:"11px",marginTop:"2px"},children:"Recommended for 40+ nodes"})]}),m.jsxs("label",{style:{position:"relative",display:"inline-block",width:"50px",height:"26px"},children:[m.jsx("input",{type:"checkbox",checked:window.getPerformanceMode?.()||!1,onChange:_=>{window.setPerformanceMode?.(_.target.checked),Z(L=>({...L}))},style:{opacity:0,width:0,height:0}}),m.jsx("span",{style:{position:"absolute",cursor:"pointer",top:0,left:0,right:0,bottom:0,background:window.getPerformanceMode?.()?"#10b981":"#444",transition:"background 0.2s",borderRadius:"26px"},children:m.jsx("span",{style:{position:"absolute",content:"",height:"20px",width:"20px",left:window.getPerformanceMode?.()?"26px":"3px",bottom:"3px",background:"#fff",transition:"left 0.2s",borderRadius:"50%"}})})]})]}),m.jsx("div",{style:{marginTop:"12px",fontSize:"10px",color:"#666",textAlign:"center"},children:"Changes apply immediately. Look for  indicator in bottom-left when active."})]})]}),m.jsxs("div",{className:"settings-category",children:[m.jsx("div",{className:"settings-category-header",onClick:()=>We("Discovery"),children:m.jsxs("span",{children:[N.Discovery?"":""," Network Device Discovery"]})}),N.Discovery&&m.jsx("div",{className:"settings-category-content",children:m.jsx(LC,{})})]}),m.jsxs("div",{className:"settings-category",children:[m.jsxs("div",{className:"settings-category-header",onClick:()=>We("Theme"),children:[m.jsxs("span",{children:[N.Theme?"":""," Node Theme Settings"]}),Pe&&m.jsx("span",{style:{fontSize:"10px",color:"#d4a054"},children:" unsaved"})]}),N.Theme&&m.jsxs("div",{className:"settings-category-content",children:[m.jsx("div",{className:"settings-info",style:{fontSize:"11px",color:"#8a959e",marginBottom:"12px",padding:"8px",background:"rgba(95, 179, 179, 0.1)",borderRadius:"4px"},children:" Theme settings are stored locally. Refresh the page after saving to apply changes."}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:rc.map(_=>m.jsxs("div",{className:"settings-field",style:{marginBottom:"8px"},children:[m.jsx("label",{className:"settings-label",style:{fontSize:"10px"},children:_.label}),_.type==="color"?m.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[m.jsx("input",{type:"color",value:De[_.key]||_.default,onChange:L=>D(_.key,L.target.value),style:{width:"40px",height:"30px",border:"none",borderRadius:"4px",cursor:"pointer",background:"transparent"}}),m.jsx("input",{type:"text",value:De[_.key]||_.default,onChange:L=>D(_.key,L.target.value),className:"settings-input",style:{flex:1,fontFamily:"monospace",fontSize:"11px"}})]}):_.type==="range"?m.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[m.jsx("input",{type:"range",min:_.min,max:_.max,value:De[_.key]||_.default,onChange:L=>D(_.key,parseInt(L.target.value)),style:{flex:1}}),m.jsxs("span",{style:{minWidth:"35px",textAlign:"right",color:"#c5cdd3",fontSize:"12px"},children:[De[_.key]||_.default,"%"]})]}):null]},_.key))}),m.jsxs("div",{style:{marginTop:"12px",padding:"12px",background:De.background,borderRadius:"8px",border:`1px solid rgba(95, 179, 179, ${(De.borderOpacity||25)/100})`},children:[m.jsx("div",{style:{fontSize:"10px",color:De.textMuted,marginBottom:"8px"},children:"PREVIEW"}),m.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",alignItems:"center"},children:[m.jsx("div",{style:{padding:"8px 12px",background:De.surface,color:De.text,borderRadius:"4px",fontSize:"12px"},children:"Surface"}),m.jsx("div",{style:{padding:"8px 12px",background:De.surfaceLight,color:De.text,borderRadius:"4px",fontSize:"12px"},children:"Elevated"}),m.jsx("span",{style:{color:De.primary},children:"Primary"}),m.jsx("span",{style:{color:De.success},children:"Success"}),m.jsx("span",{style:{color:De.warning},children:"Warning"}),m.jsx("span",{style:{color:De.error},children:"Error"})]})]}),m.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"12px",justifyContent:"flex-end"},children:[m.jsx("button",{className:"settings-btn-small",onClick:Ee,style:{background:"rgba(199, 95, 95, 0.15)",borderColor:"rgba(199, 95, 95, 0.5)",color:"#c75f5f"},children:"Reset to Defaults"}),m.jsx("button",{className:"settings-btn-small",onClick:K,style:{background:"rgba(95, 170, 125, 0.15)",borderColor:"rgba(95, 170, 125, 0.5)",color:"#5faa7d"},children:" Save Theme"})]})]})]}),m.jsxs("div",{className:"settings-category",children:[m.jsxs("div",{className:"settings-category-header",onClick:()=>We("CategoryColors"),children:[m.jsxs("span",{children:[N.CategoryColors?"":""," Category Accent Colors"]}),xe&&m.jsx("span",{style:{fontSize:"10px",color:"#d4a054"},children:" unsaved"})]}),N.CategoryColors&&m.jsxs("div",{className:"settings-category-content",children:[m.jsx("div",{className:"settings-info",style:{fontSize:"11px",color:"#8a959e",marginBottom:"12px",padding:"8px",background:"rgba(95, 179, 179, 0.1)",borderRadius:"4px"},children:" Set accent (border/header) and background colors for each node category."}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:Object.entries(ce).map(([_,L])=>m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 8px",background:L.background||"#0a0f14",borderRadius:"4px",border:`1px solid ${L.accent}55`},children:[m.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"2px"},children:[m.jsx("input",{type:"color",value:L.accent,onChange:he=>J(_,"accent",he.target.value),title:"Accent color (borders, headers)",style:{width:"24px",height:"24px",border:"none",borderRadius:"4px",cursor:"pointer",background:"transparent"}}),m.jsx("span",{style:{fontSize:"8px",color:"#666"},children:"Accent"})]}),m.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"2px"},children:[m.jsx("input",{type:"color",value:L.background||"#0a0f14",onChange:he=>J(_,"background",he.target.value),title:"Background color",style:{width:"24px",height:"24px",border:"1px solid #333",borderRadius:"4px",cursor:"pointer",background:"transparent"}}),m.jsx("span",{style:{fontSize:"8px",color:"#666"},children:"BG"})]}),m.jsx("div",{style:{flex:1,minWidth:0},children:m.jsxs("div",{style:{fontSize:"11px",color:L.accent,fontWeight:"600",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:[L.icon," ",_]})})]},_))}),m.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"12px",justifyContent:"flex-end"},children:[m.jsx("button",{className:"settings-btn-small",onClick:bt,style:{background:"rgba(199, 95, 95, 0.15)",borderColor:"rgba(199, 95, 95, 0.5)",color:"#c75f5f"},children:"Reset to Defaults"}),m.jsx("button",{className:"settings-btn-small",onClick:$e,style:{background:"rgba(95, 170, 125, 0.15)",borderColor:"rgba(95, 170, 125, 0.5)",color:"#5faa7d"},children:" Save Category Colors"})]})]})]}),m.jsxs("div",{className:"settings-category",children:[m.jsxs("div",{className:"settings-category-header",onClick:()=>We("SocketColors"),children:[m.jsxs("span",{children:[N.SocketColors?"":""," Socket Colors"]}),Oe&&m.jsx("span",{style:{fontSize:"10px",color:"#d4a054"},children:" unsaved"})]}),N.SocketColors&&m.jsxs("div",{className:"settings-category-content",children:[m.jsx("div",{className:"settings-info",style:{fontSize:"11px",color:"#8a959e",marginBottom:"12px",padding:"8px",background:"rgba(95, 130, 179, 0.1)",borderRadius:"4px"},children:" Customize socket connector colors by data type. These appear on all nodes."}),m.jsxs("div",{style:{background:"linear-gradient(145deg, #1e2428, #2a3238)",border:"1px solid rgba(95, 179, 179, 0.3)",borderRadius:"8px",padding:"12px",marginBottom:"16px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.4)"},children:[m.jsxs("div",{style:{fontSize:"11px",color:"#5fb3b3",marginBottom:"10px",fontWeight:"600",display:"flex",alignItems:"center",gap:"6px"},children:[m.jsx("span",{children:""})," Preview Node"]}),m.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:Object.entries($).slice(0,3).map(([_,L])=>m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",background:`linear-gradient(145deg, ${L.color}, ${g0(L.color)})`,border:`2px solid ${v0(L.color)}`,boxShadow:`0 0 8px ${L.color}80`}}),m.jsx("span",{style:{fontSize:"10px",color:"#8a959e"},children:_})]},_))}),m.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px",alignItems:"flex-end"},children:Object.entries($).slice(3).map(([_,L])=>m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[m.jsx("span",{style:{fontSize:"10px",color:"#8a959e"},children:_}),m.jsx("div",{style:{width:"14px",height:"14px",borderRadius:"50%",background:`linear-gradient(145deg, ${L.color}, ${g0(L.color)})`,border:`2px solid ${v0(L.color)}`,boxShadow:`0 0 8px ${L.color}80`}})]},_))})]})]}),m.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px"},children:Object.entries($).map(([_,L])=>m.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 10px",background:"#0a0f14",borderRadius:"4px",border:`1px solid ${L.color}55`},children:[m.jsx("input",{type:"color",value:L.color,onChange:he=>Me(_,he.target.value),title:`${_} socket color`,style:{width:"28px",height:"28px",border:"none",borderRadius:"50%",cursor:"pointer",background:"transparent"}}),m.jsxs("div",{style:{flex:1,minWidth:0},children:[m.jsxs("div",{style:{fontSize:"12px",color:L.color,fontWeight:"600"},children:[L.icon," ",_]}),m.jsx("div",{style:{fontSize:"9px",color:"#666",marginTop:"2px"},children:L.description})]})]},_))}),m.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"12px",justifyContent:"flex-end"},children:[m.jsx("button",{className:"settings-btn-small",onClick:ze,style:{background:"rgba(199, 95, 95, 0.15)",borderColor:"rgba(199, 95, 95, 0.5)",color:"#c75f5f"},children:"Reset to Defaults"}),m.jsx("button",{className:"settings-btn-small",onClick:xt,style:{background:"rgba(95, 170, 125, 0.15)",borderColor:"rgba(95, 170, 125, 0.5)",color:"#5faa7d"},children:" Save Socket Colors"})]})]})]}),BC.map(_=>m.jsxs("div",{className:"settings-category",children:[m.jsxs("div",{className:"settings-category-header",onClick:()=>We(_.category),children:[m.jsxs("span",{children:[N[_.category]?"":"",_.icon," ",_.category]}),_.testable&&N[_.category]&&m.jsx("button",{className:`settings-test-btn ${U[_.testable]?.success?"success":U[_.testable]?.success===!1?"error":""}`,onClick:L=>{L.stopPropagation(),Et(_.testable)},disabled:X[_.testable],children:X[_.testable]?" Testing...":" Test Connection"})]}),N[_.category]&&m.jsxs("div",{className:"settings-category-content",children:[U[_.testable]&&m.jsxs("div",{className:`settings-test-result ${U[_.testable].success?"success":"error"}`,children:[U[_.testable].success?"":""," ",U[_.testable].message,U[_.testable].details&&m.jsx("div",{className:"settings-test-details",children:U[_.testable].details})]}),_.category==="Location"&&m.jsxs("div",{className:"settings-location-search",children:[q&&qe&&m.jsx("div",{style:{background:"rgba(76, 175, 80, 0.15)",border:"1px solid rgba(76, 175, 80, 0.4)",borderRadius:"6px",padding:"8px 12px",marginBottom:"12px",fontSize:"0.85rem",color:"#81c784"},children:" Location auto-filled from Home Assistant configuration"}),m.jsx("p",{style:{fontSize:"0.85rem",color:"#aaa",margin:"0 0 10px 0"},children:' Enter your city name and click "Search" to auto-fill coordinates.'}),m.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"10px"},children:[m.jsx("input",{type:"text",className:"settings-input",value:r.LOCATION_CITY||"",onChange:L=>me("LOCATION_CITY",L.target.value),placeholder:"e.g., Dallas, TX, USA",style:{flex:1},onKeyDown:L=>{L.key==="Enter"&&ie()}}),m.jsx("button",{className:"settings-test-btn",onClick:ie,disabled:it,style:{whiteSpace:"nowrap"},children:it?" Searching...":" Search City"})]}),Wt&&m.jsxs("div",{className:"settings-test-result error",style:{marginBottom:"10px"},children:[" ",Wt]}),m.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px"},children:[m.jsxs("div",{className:"settings-field",children:[m.jsx("label",{className:"settings-label",children:"Latitude"}),m.jsx("input",{type:"text",className:"settings-input",value:r.LOCATION_LATITUDE||"",onChange:L=>me("LOCATION_LATITUDE",L.target.value),placeholder:"32.7767"})]}),m.jsxs("div",{className:"settings-field",children:[m.jsx("label",{className:"settings-label",children:"Longitude"}),m.jsx("input",{type:"text",className:"settings-input",value:r.LOCATION_LONGITUDE||"",onChange:L=>me("LOCATION_LONGITUDE",L.target.value),placeholder:"-96.7970"})]})]}),m.jsxs("div",{className:"settings-field",style:{marginTop:"10px"},children:[m.jsx("label",{className:"settings-label",children:"Timezone"}),m.jsx("input",{type:"text",className:"settings-input",value:r.LOCATION_TIMEZONE||"",onChange:L=>me("LOCATION_TIMEZONE",L.target.value),placeholder:"America/Chicago"}),m.jsx("span",{className:"settings-key-hint",children:"Common: America/New_York, America/Chicago, America/Denver, America/Los_Angeles"})]})]}),_.category!=="Location"&&_.settings.map(L=>m.jsxs("div",{className:"settings-field",children:[m.jsxs("label",{className:"settings-label",children:[L.label,L.isSecret&&m.jsx("button",{className:"settings-show-btn",onClick:()=>Ge(L.key),type:"button",children:S[L.key]?" Hide":" Show"})]}),L.type==="select"?m.jsxs("select",{className:"settings-input",value:r[L.key]||"",onChange:he=>me(L.key,he.target.value),children:[m.jsx("option",{value:"",children:"Select..."}),L.options.map(he=>m.jsx("option",{value:he,children:he},he))]}):m.jsx("input",{type:L.isSecret&&!S[L.key]?"password":"text",className:"settings-input",value:r[L.key]||"",onChange:he=>me(L.key,he.target.value),placeholder:L.placeholder}),m.jsx("span",{className:"settings-key-hint",children:L.key})]},L.key))]})]},_.category))]})}),m.jsxs("div",{className:"settings-footer",children:[m.jsx("button",{className:"settings-btn settings-btn-secondary",onClick:n,children:"Cancel"}),m.jsx("button",{className:"settings-btn settings-btn-primary",onClick:_e,disabled:f||l,children:f?"Saving...":" Save Settings"})]})]})}),document.body):null}const IC=[{category:"Selection & Editing",items:[{keys:["Delete","Backspace"],action:"Delete selected nodes"},{keys:["Ctrl","C"],action:"Copy selected nodes"},{keys:["Ctrl","V"],action:"Paste nodes at cursor"},{keys:["Ctrl","Z"],action:"Undo last delete"},{keys:["Ctrl","A"],action:"Select all nodes"},{keys:["Shift","Click"],action:"Add to selection"},{keys:["Drag"],action:"Lasso select multiple nodes"}]},{category:"Navigation",items:[{keys:["Scroll"],action:"Zoom in/out"},{keys:["Middle-click","Drag"],action:"Pan canvas"},{keys:["Home"],action:"Reset viewport to origin"},{keys:["F5"],action:"Reset editor view (fix frozen pan)"},{keys:["Escape"],action:"Cancel/reset drag state"}]},{category:"Node Operations",items:[{keys:["Right-click"],action:"Open context menu"},{keys:["Right-click node"],action:"Node context menu"},{keys:["Double-click"],action:"Edit node properties (where available)"}]},{category:"Graph Management",items:[{keys:["?"],action:"Show this help dialog"}]}];function $C({isOpen:a,onClose:n}){if(E.useEffect(()=>{if(!a)return;const s=l=>{l.key==="Escape"&&n()};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[a,n]),!a)return null;const r=s=>{s.target===s.currentTarget&&n()};return kh.createPortal(m.jsx("div",{className:"shortcuts-modal-overlay",onClick:r,children:m.jsxs("div",{className:"shortcuts-modal",children:[m.jsxs("div",{className:"shortcuts-modal-header",children:[m.jsx("h2",{children:" Keyboard Shortcuts"}),m.jsx("button",{className:"shortcuts-close-btn",onClick:n,children:" Close"})]}),m.jsx("div",{className:"shortcuts-modal-body",children:IC.map((s,l)=>m.jsxs("div",{className:"shortcuts-section",children:[m.jsx("h3",{children:s.category}),m.jsx("div",{className:"shortcuts-list",children:s.items.map((c,f)=>m.jsxs("div",{className:"shortcut-row",children:[m.jsx("div",{className:"shortcut-keys",children:c.keys.map((h,p)=>m.jsxs(ka.Fragment,{children:[m.jsx("kbd",{children:h}),p<c.keys.length-1&&m.jsx("span",{className:"key-separator",children:"+"})]},p))}),m.jsx("div",{className:"shortcut-action",children:c.action})]},f))})]},l))}),m.jsx("div",{className:"shortcuts-modal-footer",children:m.jsxs("p",{children:["Press ",m.jsx("kbd",{children:"?"})," anytime to show this dialog"]})})]})}),document.body)}function HC({isExpanded:a,onToggle:n}){const[r,s]=E.useState([]),[l,c]=E.useState([]),[f,h]=E.useState(!0),[p,y]=E.useState(!1),[b,v]=E.useState(null),[S,k]=E.useState(!1),[N,Z]=E.useState(null),[U,Q]=E.useState(null),[X,V]=E.useState({username:"",password:"",name:""}),[P,de]=E.useState({username:"",password:""}),[le,I]=E.useState(""),[oe,ee]=E.useState(5e3),[G,fe]=E.useState(null),je=E.useRef(null),[De,Ye]=E.useState({});E.useEffect(()=>(Pe(),()=>{je.current&&clearInterval(je.current)}),[]),E.useEffect(()=>(je.current&&clearInterval(je.current),a&&r.length>0&&oe>0&&(je.current=setInterval(()=>{Ye(A=>{const $={...A};return r.forEach(pe=>{$[pe.ip]=Date.now()}),$})},oe)),()=>{je.current&&clearInterval(je.current)}),[a,r,oe]);const Pe=async()=>{try{h(!0);const A=await Qi("/api/cameras");if(A.ok){const $=await A.json();s($.cameras||[]),$.defaultCredentials&&de(pe=>({...pe,username:$.defaultCredentials.username||""}))}}catch{v("Failed to load cameras")}finally{h(!1)}},C=async()=>{y(!0),v(null);try{const A=await Qi("/api/cameras/discover",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({})});if(A.ok){const $=await A.json();if($.found&&$.found.length>0){const pe=r.map(Ve=>Ve.ip),Oe=$.found.filter(Ve=>!pe.includes(Ve.ip));c(Oe),window.T2Toast&&(Oe.length>0?window.T2Toast.success(`Found ${Oe.length} new camera(s)! Click to configure.`):window.T2Toast.info(`Found ${$.found.length} cameras, all already configured.`))}else c([]),window.T2Toast&&window.T2Toast.info("No cameras found on network")}}catch{v("Discovery failed")}finally{y(!1)}},H=async()=>{try{await Qi("/api/cameras/credentials",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)}),window.T2Toast&&window.T2Toast.success("Credentials saved")}catch{v("Failed to save credentials")}},ce=async(A,$,pe)=>{try{await Qi("/api/cameras",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ip:A,name:$||`Camera ${A.split(".").pop()}`,username:pe?.username||P.username,password:pe?.password||P.password})}),c(Oe=>Oe.filter(Ve=>Ve.ip!==A)),Z(null),I(""),await Pe(),window.T2Toast&&window.T2Toast.success(`Camera ${A} added!`)}catch{v("Failed to add camera")}},we=async A=>{try{await fetch(`/api/cameras/${A}`,{method:"DELETE"}),await Pe(),G===A&&fe(null)}catch{v("Failed to remove camera")}},xe=async()=>{if(U)try{await Qi("/api/cameras",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ip:U,name:X.name,username:X.username,password:X.password})}),Q(null),Ye(A=>({...A,[U]:Date.now()})),await Pe(),window.T2Toast&&window.T2Toast.success(`Camera ${U} updated!`)}catch{v("Failed to update camera")}},x={container:{background:"linear-gradient(180deg, rgba(12, 20, 35, 0.95) 0%, rgba(8, 15, 28, 0.98) 100%)",borderRadius:"12px",border:"1px solid rgba(0, 200, 255, 0.2)",overflow:"hidden",marginBottom:"8px"},header:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"10px 14px",background:"linear-gradient(90deg, rgba(0, 150, 200, 0.15), transparent)",borderBottom:"1px solid rgba(0, 200, 255, 0.1)",cursor:"pointer"},title:{display:"flex",alignItems:"center",gap:"8px",color:"#00d4ff",fontSize:"14px",fontWeight:600},icon:{fontSize:"16px"},badge:{background:"rgba(0, 200, 255, 0.2)",color:"#00d4ff",padding:"2px 8px",borderRadius:"10px",fontSize:"11px"},content:{padding:a?"12px":"0",maxHeight:a?"400px":"0",overflow:"auto",transition:"all 0.3s ease"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"10px"},cameraCard:{background:"rgba(0, 0, 0, 0.3)",borderRadius:"8px",overflow:"hidden",border:"1px solid rgba(0, 200, 255, 0.15)",cursor:"pointer",transition:"all 0.2s ease"},cameraCardSelected:{border:"2px solid #00d4ff",boxShadow:"0 0 10px rgba(0, 200, 255, 0.3)"},cameraImage:{width:"100%",height:"100px",objectFit:"cover",background:"#111"},cameraInfo:{padding:"6px 8px",display:"flex",justifyContent:"space-between",alignItems:"center"},cameraName:{color:"#b8e6ea",fontSize:"11px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},deleteBtn:{background:"rgba(255, 80, 80, 0.2)",border:"none",color:"#ff6b6b",padding:"2px 6px",borderRadius:"4px",cursor:"pointer",fontSize:"10px"},toolbar:{display:"flex",gap:"8px",marginBottom:"10px",flexWrap:"wrap"},btn:{background:"rgba(0, 200, 255, 0.15)",border:"1px solid rgba(0, 200, 255, 0.3)",color:"#00d4ff",padding:"6px 12px",borderRadius:"6px",cursor:"pointer",fontSize:"12px",display:"flex",alignItems:"center",gap:"4px"},btnActive:{background:"rgba(0, 200, 255, 0.3)"},settings:{background:"rgba(0, 0, 0, 0.2)",borderRadius:"8px",padding:"12px",marginBottom:"10px"},inputGroup:{marginBottom:"8px"},label:{color:"#8899aa",fontSize:"11px",marginBottom:"4px",display:"block"},input:{width:"100%",background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 200, 255, 0.2)",borderRadius:"4px",padding:"6px 10px",color:"#fff",fontSize:"12px",boxSizing:"border-box"},fullView:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.9)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:1e4},fullImage:{maxWidth:"90vw",maxHeight:"80vh",objectFit:"contain"},closeBtn:{position:"absolute",top:"20px",right:"20px",background:"rgba(255, 255, 255, 0.1)",border:"none",color:"#fff",padding:"10px 20px",borderRadius:"8px",cursor:"pointer",fontSize:"14px"},emptyState:{textAlign:"center",padding:"20px",color:"#667788"},refreshSelect:{background:"rgba(0, 0, 0, 0.3)",border:"1px solid rgba(0, 200, 255, 0.2)",borderRadius:"4px",padding:"6px",color:"#fff",fontSize:"11px"}},R=A=>{const $=De[A]||Date.now();return`/api/cameras/snapshot/${A}?t=${$}`};return m.jsxs("div",{style:x.container,children:[m.jsxs("div",{style:x.header,onClick:n,children:[m.jsxs("div",{style:x.title,children:[m.jsx("span",{style:x.icon,children:""}),m.jsx("span",{children:"Cameras"}),r.length>0&&m.jsx("span",{style:x.badge,children:r.length})]}),m.jsx("span",{style:{color:"#00d4ff"},children:a?"":""})]}),a&&m.jsxs("div",{style:x.content,children:[m.jsxs("div",{style:x.toolbar,children:[m.jsx("button",{style:{...x.btn,...p?x.btnActive:{}},onClick:C,disabled:p,children:p?" Scanning...":" Discover"}),m.jsx("button",{style:{...x.btn,...S?x.btnActive:{}},onClick:()=>k(!S),children:" Settings"}),m.jsxs("select",{style:x.refreshSelect,value:oe,onChange:A=>ee(Number(A.target.value)),title:"Refresh interval",children:[m.jsx("option",{value:0,children:"Manual"}),m.jsx("option",{value:2e3,children:"2s"}),m.jsx("option",{value:5e3,children:"5s"}),m.jsx("option",{value:1e4,children:"10s"}),m.jsx("option",{value:3e4,children:"30s"})]})]}),S&&m.jsxs("div",{style:x.settings,children:[m.jsxs("div",{style:x.inputGroup,children:[m.jsx("label",{style:x.label,children:"Select Camera to Configure"}),m.jsxs("select",{style:{...x.input,cursor:"pointer"},value:U||"",onChange:A=>{const $=A.target.value;if(!$){Q(null),V({username:"",password:"",name:""});return}const pe=r.find(Oe=>Oe.ip===$);pe?(Q($),V({name:pe.name||"",username:pe.username||"",password:""})):(Q($),V({name:`Camera ${$.split(".").pop()}`,username:P.username||"",password:P.password||""}))},children:[m.jsx("option",{value:"",children:"-- Select a camera --"}),r.length>0&&m.jsx("optgroup",{label:" Configured Cameras",children:r.map(A=>m.jsxs("option",{value:A.ip,children:[A.name," (",A.ip,")"]},A.ip))}),l.length>0&&m.jsx("optgroup",{label:" Discovered (Not Configured)",children:l.map(A=>m.jsxs("option",{value:A.ip,children:[A.ip," (Ports: ",A.ports.join(", "),")"]},A.ip))})]})]}),U&&m.jsxs("div",{style:{background:"rgba(0, 0, 0, 0.2)",borderRadius:"6px",padding:"10px",marginTop:"8px"},children:[m.jsxs("div",{style:x.inputGroup,children:[m.jsx("label",{style:x.label,children:"Camera Name"}),m.jsx("input",{type:"text",style:x.input,value:X.name,onChange:A=>V($=>({...$,name:A.target.value})),placeholder:"Front Door"})]}),m.jsxs("div",{style:x.inputGroup,children:[m.jsx("label",{style:x.label,children:"Username"}),m.jsx("input",{type:"text",style:x.input,value:X.username,onChange:A=>V($=>({...$,username:A.target.value})),placeholder:"admin"})]}),m.jsxs("div",{style:x.inputGroup,children:[m.jsxs("label",{style:x.label,children:["Password ",r.find(A=>A.ip===U)?"(leave blank to keep current)":""]}),m.jsx("input",{type:"password",style:x.input,value:X.password,onChange:A=>V($=>({...$,password:A.target.value})),placeholder:""})]}),m.jsx("div",{style:{display:"flex",gap:"8px",marginTop:"8px"},children:m.jsx("button",{style:{...x.btn,flex:1,justifyContent:"center"},onClick:()=>{!r.find($=>$.ip===U)?ce(U,X.name,X):xe()},children:r.find(A=>A.ip===U)?" Save Changes":" Add Camera"})})]}),m.jsxs("div",{style:{borderTop:"1px solid rgba(0, 200, 255, 0.15)",marginTop:"12px",paddingTop:"12px"},children:[m.jsx("div",{style:{color:"#8899aa",fontSize:"11px",marginBottom:"8px"},children:"Default credentials (used for new cameras)"}),m.jsxs("div",{style:{display:"flex",gap:"8px"},children:[m.jsx("input",{type:"text",style:{...x.input,flex:1},value:P.username,onChange:A=>de($=>({...$,username:A.target.value})),placeholder:"Username"}),m.jsx("input",{type:"password",style:{...x.input,flex:1},value:P.password,onChange:A=>de($=>({...$,password:A.target.value})),placeholder:"Password"}),m.jsx("button",{style:x.btn,onClick:H,title:"Save as default",children:""})]})]}),m.jsxs("div",{style:{borderTop:"1px solid rgba(0, 200, 255, 0.15)",marginTop:"12px",paddingTop:"12px"},children:[m.jsx("div",{style:{color:"#8899aa",fontSize:"11px",marginBottom:"8px"},children:"Add camera by IP (if not discovered)"}),m.jsxs("div",{style:{display:"flex",gap:"8px"},children:[m.jsx("input",{type:"text",id:"addCameraIp",style:{...x.input,flex:1},placeholder:"192.168.1.100",onKeyDown:A=>{if(A.key==="Enter"&&A.target.value){const $=A.target.value;!l.find(pe=>pe.ip===$)&&!r.find(pe=>pe.ip===$)&&c(pe=>[...pe,{ip:$,ports:["manual"]}]),Q($),V({name:`Camera ${$.split(".").pop()}`,username:P.username||"",password:P.password||""}),A.target.value=""}}}),m.jsx("button",{style:x.btn,onClick:()=>{const A=document.getElementById("addCameraIp"),$=A?.value;$&&(!l.find(pe=>pe.ip===$)&&!r.find(pe=>pe.ip===$)&&c(pe=>[...pe,{ip:$,ports:["manual"]}]),Q($),V({name:`Camera ${$.split(".").pop()}`,username:P.username||"",password:P.password||""}),A.value="")},children:"Configure"})]})]})]}),b&&m.jsxs("div",{style:{color:"#ff6b6b",padding:"8px",fontSize:"12px"},children:[" ",b]}),f?m.jsx("div",{style:x.emptyState,children:"Loading cameras..."}):r.length===0&&l.length===0?m.jsxs("div",{style:x.emptyState,children:[m.jsx("p",{children:"No cameras configured"}),m.jsx("p",{style:{fontSize:"11px"},children:"Click Discover to scan your network"})]}):m.jsx("div",{style:x.grid,children:r.map(A=>m.jsxs("div",{style:{...x.cameraCard,...G===A.ip?x.cameraCardSelected:{}},onClick:()=>fe(A.ip),children:[m.jsx("img",{src:R(A.ip),alt:A.name,style:x.cameraImage,onError:$=>{$.target.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect fill="%23222" width="100" height="100"/><text x="50" y="55" text-anchor="middle" fill="%23666" font-size="12">No Signal</text></svg>'}}),m.jsxs("div",{style:x.cameraInfo,children:[m.jsx("span",{style:x.cameraName,title:A.ip,children:A.name}),m.jsxs("div",{style:{display:"flex",gap:"4px"},children:[m.jsx("button",{style:{...x.deleteBtn,background:"rgba(0, 150, 255, 0.2)",color:"#00aaff"},onClick:$=>{$.stopPropagation(),k(!0),Q(A.ip),V({name:A.name||"",username:A.username||"",password:""})},title:"Edit credentials",children:""}),m.jsx("button",{style:x.deleteBtn,onClick:$=>{$.stopPropagation(),we(A.ip)},title:"Remove camera",children:""})]})]})]},A.ip))})]}),G&&m.jsxs("div",{style:x.fullView,onClick:()=>fe(null),children:[m.jsx("img",{src:R(G),alt:"Camera feed",style:x.fullImage}),m.jsx("button",{style:x.closeBtn,onClick:()=>fe(null),children:" Close"}),m.jsx("div",{style:{color:"#fff",marginTop:"10px"},children:r.find(A=>A.ip===G)?.name||G})]})]})}const Ra=Object.create(null);Ra.open="0";Ra.close="1";Ra.ping="2";Ra.pong="3";Ra.message="4";Ra.upgrade="5";Ra.noop="6";const yc=Object.create(null);Object.keys(Ra).forEach(a=>{yc[Ra[a]]=a});const rh={type:"error",data:"parser error"},O1=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",N1=typeof ArrayBuffer=="function",j1=a=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(a):a&&a.buffer instanceof ArrayBuffer,Hh=({type:a,data:n},r,s)=>O1&&n instanceof Blob?r?s(n):b0(n,s):N1&&(n instanceof ArrayBuffer||j1(n))?r?s(n):b0(new Blob([n]),s):s(Ra[a]+(n||"")),b0=(a,n)=>{const r=new FileReader;return r.onload=function(){const s=r.result.split(",")[1];n("b"+(s||""))},r.readAsDataURL(a)};function w0(a){return a instanceof Uint8Array?a:a instanceof ArrayBuffer?new Uint8Array(a):new Uint8Array(a.buffer,a.byteOffset,a.byteLength)}let Td;function VC(a,n){if(O1&&a.data instanceof Blob)return a.data.arrayBuffer().then(w0).then(n);if(N1&&(a.data instanceof ArrayBuffer||j1(a.data)))return n(w0(a.data));Hh(a,!1,r=>{Td||(Td=new TextEncoder),n(Td.encode(r))})}const S0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bo=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let a=0;a<S0.length;a++)bo[S0.charCodeAt(a)]=a;const qC=a=>{let n=a.length*.75,r=a.length,s,l=0,c,f,h,p;a[a.length-1]==="="&&(n--,a[a.length-2]==="="&&n--);const y=new ArrayBuffer(n),b=new Uint8Array(y);for(s=0;s<r;s+=4)c=bo[a.charCodeAt(s)],f=bo[a.charCodeAt(s+1)],h=bo[a.charCodeAt(s+2)],p=bo[a.charCodeAt(s+3)],b[l++]=c<<2|f>>4,b[l++]=(f&15)<<4|h>>2,b[l++]=(h&3)<<6|p&63;return y},YC=typeof ArrayBuffer=="function",Vh=(a,n)=>{if(typeof a!="string")return{type:"message",data:A1(a,n)};const r=a.charAt(0);return r==="b"?{type:"message",data:GC(a.substring(1),n)}:yc[r]?a.length>1?{type:yc[r],data:a.substring(1)}:{type:yc[r]}:rh},GC=(a,n)=>{if(YC){const r=qC(a);return A1(r,n)}else return{base64:!0,data:a}},A1=(a,n)=>{switch(n){case"blob":return a instanceof Blob?a:new Blob([a]);case"arraybuffer":default:return a instanceof ArrayBuffer?a:a.buffer}},_1="",ZC=(a,n)=>{const r=a.length,s=new Array(r);let l=0;a.forEach((c,f)=>{Hh(c,!1,h=>{s[f]=h,++l===r&&n(s.join(_1))})})},PC=(a,n)=>{const r=a.split(_1),s=[];for(let l=0;l<r.length;l++){const c=Vh(r[l],n);if(s.push(c),c.type==="error")break}return s};function FC(){return new TransformStream({transform(a,n){VC(a,r=>{const s=r.length;let l;if(s<126)l=new Uint8Array(1),new DataView(l.buffer).setUint8(0,s);else if(s<65536){l=new Uint8Array(3);const c=new DataView(l.buffer);c.setUint8(0,126),c.setUint16(1,s)}else{l=new Uint8Array(9);const c=new DataView(l.buffer);c.setUint8(0,127),c.setBigUint64(1,BigInt(s))}a.data&&typeof a.data!="string"&&(l[0]|=128),n.enqueue(l),n.enqueue(r)})}})}let Od;function ic(a){return a.reduce((n,r)=>n+r.length,0)}function sc(a,n){if(a[0].length===n)return a.shift();const r=new Uint8Array(n);let s=0;for(let l=0;l<n;l++)r[l]=a[0][s++],s===a[0].length&&(a.shift(),s=0);return a.length&&s<a[0].length&&(a[0]=a[0].slice(s)),r}function XC(a,n){Od||(Od=new TextDecoder);const r=[];let s=0,l=-1,c=!1;return new TransformStream({transform(f,h){for(r.push(f);;){if(s===0){if(ic(r)<1)break;const p=sc(r,1);c=(p[0]&128)===128,l=p[0]&127,l<126?s=3:l===126?s=1:s=2}else if(s===1){if(ic(r)<2)break;const p=sc(r,2);l=new DataView(p.buffer,p.byteOffset,p.length).getUint16(0),s=3}else if(s===2){if(ic(r)<8)break;const p=sc(r,8),y=new DataView(p.buffer,p.byteOffset,p.length),b=y.getUint32(0);if(b>Math.pow(2,21)-1){h.enqueue(rh);break}l=b*Math.pow(2,32)+y.getUint32(4),s=3}else{if(ic(r)<l)break;const p=sc(r,l);h.enqueue(Vh(c?p:Od.decode(p),n)),s=0}if(l===0||l>a){h.enqueue(rh);break}}}})}const D1=4;function un(a){if(a)return KC(a)}function KC(a){for(var n in un.prototype)a[n]=un.prototype[n];return a}un.prototype.on=un.prototype.addEventListener=function(a,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+a]=this._callbacks["$"+a]||[]).push(n),this};un.prototype.once=function(a,n){function r(){this.off(a,r),n.apply(this,arguments)}return r.fn=n,this.on(a,r),this};un.prototype.off=un.prototype.removeListener=un.prototype.removeAllListeners=un.prototype.removeEventListener=function(a,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+a];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+a],this;for(var s,l=0;l<r.length;l++)if(s=r[l],s===n||s.fn===n){r.splice(l,1);break}return r.length===0&&delete this._callbacks["$"+a],this};un.prototype.emit=function(a){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),r=this._callbacks["$"+a],s=1;s<arguments.length;s++)n[s-1]=arguments[s];if(r){r=r.slice(0);for(var s=0,l=r.length;s<l;++s)r[s].apply(this,n)}return this};un.prototype.emitReserved=un.prototype.emit;un.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks["$"+a]||[]};un.prototype.hasListeners=function(a){return!!this.listeners(a).length};const $c=typeof Promise=="function"&&typeof Promise.resolve=="function"?n=>Promise.resolve().then(n):(n,r)=>r(n,0),ua=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),QC="arraybuffer";function M1(a,...n){return n.reduce((r,s)=>(a.hasOwnProperty(s)&&(r[s]=a[s]),r),{})}const JC=ua.setTimeout,WC=ua.clearTimeout;function Hc(a,n){n.useNativeTimers?(a.setTimeoutFn=JC.bind(ua),a.clearTimeoutFn=WC.bind(ua)):(a.setTimeoutFn=ua.setTimeout.bind(ua),a.clearTimeoutFn=ua.clearTimeout.bind(ua))}const eT=1.33;function tT(a){return typeof a=="string"?nT(a):Math.ceil((a.byteLength||a.size)*eT)}function nT(a){let n=0,r=0;for(let s=0,l=a.length;s<l;s++)n=a.charCodeAt(s),n<128?r+=1:n<2048?r+=2:n<55296||n>=57344?r+=3:(s++,r+=4);return r}function R1(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function aT(a){let n="";for(let r in a)a.hasOwnProperty(r)&&(n.length&&(n+="&"),n+=encodeURIComponent(r)+"="+encodeURIComponent(a[r]));return n}function rT(a){let n={},r=a.split("&");for(let s=0,l=r.length;s<l;s++){let c=r[s].split("=");n[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return n}class iT extends Error{constructor(n,r,s){super(n),this.description=r,this.context=s,this.type="TransportError"}}class qh extends un{constructor(n){super(),this.writable=!1,Hc(this,n),this.opts=n,this.query=n.query,this.socket=n.socket,this.supportsBinary=!n.forceBase64}onError(n,r,s){return super.emitReserved("error",new iT(n,r,s)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(n){this.readyState==="open"&&this.write(n)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(n){const r=Vh(n,this.socket.binaryType);this.onPacket(r)}onPacket(n){super.emitReserved("packet",n)}onClose(n){this.readyState="closed",super.emitReserved("close",n)}pause(n){}createUri(n,r={}){return n+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const n=this.opts.hostname;return n.indexOf(":")===-1?n:"["+n+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(n){const r=aT(n);return r.length?"?"+r:""}}class sT extends qh{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(n){this.readyState="pausing";const r=()=>{this.readyState="paused",n()};if(this._polling||!this.writable){let s=0;this._polling&&(s++,this.once("pollComplete",function(){--s||r()})),this.writable||(s++,this.once("drain",function(){--s||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(n){const r=s=>{if(this.readyState==="opening"&&s.type==="open"&&this.onOpen(),s.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(s)};PC(n,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const n=()=>{this.write([{type:"close"}])};this.readyState==="open"?n():this.once("open",n)}write(n){this.writable=!1,ZC(n,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const n=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=R1()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(n,r)}}let z1=!1;try{z1=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const oT=z1;function lT(){}class cT extends sT{constructor(n){if(super(n),typeof location<"u"){const r=location.protocol==="https:";let s=location.port;s||(s=r?"443":"80"),this.xd=typeof location<"u"&&n.hostname!==location.hostname||s!==n.port}}doWrite(n,r){const s=this.request({method:"POST",data:n});s.on("success",r),s.on("error",(l,c)=>{this.onError("xhr post error",l,c)})}doPoll(){const n=this.request();n.on("data",this.onData.bind(this)),n.on("error",(r,s)=>{this.onError("xhr poll error",r,s)}),this.pollXhr=n}}class Ma extends un{constructor(n,r,s){super(),this.createRequest=n,Hc(this,s),this._opts=s,this._method=s.method||"GET",this._uri=r,this._data=s.data!==void 0?s.data:null,this._create()}_create(){var n;const r=M1(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const s=this._xhr=this.createRequest(r);try{s.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){s.setDisableHeaderCheck&&s.setDisableHeaderCheck(!0);for(let l in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(l)&&s.setRequestHeader(l,this._opts.extraHeaders[l])}}catch{}if(this._method==="POST")try{s.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{s.setRequestHeader("Accept","*/*")}catch{}(n=this._opts.cookieJar)===null||n===void 0||n.addCookies(s),"withCredentials"in s&&(s.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(s.timeout=this._opts.requestTimeout),s.onreadystatechange=()=>{var l;s.readyState===3&&((l=this._opts.cookieJar)===null||l===void 0||l.parseCookies(s.getResponseHeader("set-cookie"))),s.readyState===4&&(s.status===200||s.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof s.status=="number"?s.status:0)},0))},s.send(this._data)}catch(l){this.setTimeoutFn(()=>{this._onError(l)},0);return}typeof document<"u"&&(this._index=Ma.requestsCount++,Ma.requests[this._index]=this)}_onError(n){this.emitReserved("error",n,this._xhr),this._cleanup(!0)}_cleanup(n){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=lT,n)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Ma.requests[this._index],this._xhr=null}}_onLoad(){const n=this._xhr.responseText;n!==null&&(this.emitReserved("data",n),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Ma.requestsCount=0;Ma.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",x0);else if(typeof addEventListener=="function"){const a="onpagehide"in ua?"pagehide":"unload";addEventListener(a,x0,!1)}}function x0(){for(let a in Ma.requests)Ma.requests.hasOwnProperty(a)&&Ma.requests[a].abort()}const uT=(function(){const a=L1({xdomain:!1});return a&&a.responseType!==null})();class fT extends cT{constructor(n){super(n);const r=n&&n.forceBase64;this.supportsBinary=uT&&!r}request(n={}){return Object.assign(n,{xd:this.xd},this.opts),new Ma(L1,this.uri(),n)}}function L1(a){const n=a.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!n||oT))return new XMLHttpRequest}catch{}if(!n)try{return new ua[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const B1=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class dT extends qh{get name(){return"websocket"}doOpen(){const n=this.uri(),r=this.opts.protocols,s=B1?{}:M1(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(s.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(n,r,s)}catch(l){return this.emitReserved("error",l)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n}),this.ws.onmessage=n=>this.onData(n.data),this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=!1;for(let r=0;r<n.length;r++){const s=n[r],l=r===n.length-1;Hh(s,this.supportsBinary,c=>{try{this.doWrite(s,c)}catch{}l&&$c(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const n=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=R1()),this.supportsBinary||(r.b64=1),this.createUri(n,r)}}const Nd=ua.WebSocket||ua.MozWebSocket;class hT extends dT{createSocket(n,r,s){return B1?new Nd(n,r,s):r?new Nd(n,r):new Nd(n)}doWrite(n,r){this.ws.send(r)}}class pT extends qh{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(n){return this.emitReserved("error",n)}this._transport.closed.then(()=>{this.onClose()}).catch(n=>{this.onError("webtransport error",n)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(n=>{const r=XC(Number.MAX_SAFE_INTEGER,this.socket.binaryType),s=n.readable.pipeThrough(r).getReader(),l=FC();l.readable.pipeTo(n.writable),this._writer=l.writable.getWriter();const c=()=>{s.read().then(({done:h,value:p})=>{h||(this.onPacket(p),c())}).catch(h=>{})};c();const f={type:"open"};this.query.sid&&(f.data=`{"sid":"${this.query.sid}"}`),this._writer.write(f).then(()=>this.onOpen())})})}write(n){this.writable=!1;for(let r=0;r<n.length;r++){const s=n[r],l=r===n.length-1;this._writer.write(s).then(()=>{l&&$c(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var n;(n=this._transport)===null||n===void 0||n.close()}}const mT={websocket:hT,webtransport:pT,polling:fT},yT=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,gT=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ih(a){if(a.length>8e3)throw"URI too long";const n=a,r=a.indexOf("["),s=a.indexOf("]");r!=-1&&s!=-1&&(a=a.substring(0,r)+a.substring(r,s).replace(/:/g,";")+a.substring(s,a.length));let l=yT.exec(a||""),c={},f=14;for(;f--;)c[gT[f]]=l[f]||"";return r!=-1&&s!=-1&&(c.source=n,c.host=c.host.substring(1,c.host.length-1).replace(/;/g,":"),c.authority=c.authority.replace("[","").replace("]","").replace(/;/g,":"),c.ipv6uri=!0),c.pathNames=vT(c,c.path),c.queryKey=bT(c,c.query),c}function vT(a,n){const r=/\/{2,9}/g,s=n.replace(r,"/").split("/");return(n.slice(0,1)=="/"||n.length===0)&&s.splice(0,1),n.slice(-1)=="/"&&s.splice(s.length-1,1),s}function bT(a,n){const r={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(s,l,c){l&&(r[l]=c)}),r}const sh=typeof addEventListener=="function"&&typeof removeEventListener=="function",gc=[];sh&&addEventListener("offline",()=>{gc.forEach(a=>a())},!1);class Lr extends un{constructor(n,r){if(super(),this.binaryType=QC,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,n&&typeof n=="object"&&(r=n,n=null),n){const s=ih(n);r.hostname=s.host,r.secure=s.protocol==="https"||s.protocol==="wss",r.port=s.port,s.query&&(r.query=s.query)}else r.host&&(r.hostname=ih(r.host).host);Hc(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(s=>{const l=s.prototype.name;this.transports.push(l),this._transportsByName[l]=s}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=rT(this.opts.query)),sh&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},gc.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(n){const r=Object.assign({},this.opts.query);r.EIO=D1,r.transport=n,this.id&&(r.sid=this.id);const s=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[n]);return new this._transportsByName[n](s)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const n=this.opts.rememberUpgrade&&Lr.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(n);r.open(),this.setTransport(r)}setTransport(n){this.transport&&this.transport.removeAllListeners(),this.transport=n,n.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",Lr.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",n),this.emitReserved("heartbeat"),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=n.data,this._onError(r);break;case"message":this.emitReserved("data",n.data),this.emitReserved("message",n.data);break}}onHandshake(n){this.emitReserved("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this._pingInterval=n.pingInterval,this._pingTimeout=n.pingTimeout,this._maxPayload=n.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const n=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+n,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},n),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const n=this._getWritablePackets();this.transport.send(n),this._prevBufferLen=n.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let s=0;s<this.writeBuffer.length;s++){const l=this.writeBuffer[s].data;if(l&&(r+=tT(l)),s>0&&r>this._maxPayload)return this.writeBuffer.slice(0,s);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const n=Date.now()>this._pingTimeoutTime;return n&&(this._pingTimeoutTime=0,$c(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),n}write(n,r,s){return this._sendPacket("message",n,r,s),this}send(n,r,s){return this._sendPacket("message",n,r,s),this}_sendPacket(n,r,s,l){if(typeof r=="function"&&(l=r,r=void 0),typeof s=="function"&&(l=s,s=null),this.readyState==="closing"||this.readyState==="closed")return;s=s||{},s.compress=s.compress!==!1;const c={type:n,data:r,options:s};this.emitReserved("packetCreate",c),this.writeBuffer.push(c),l&&this.once("flush",l),this.flush()}close(){const n=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),n()},s=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?s():n()}):this.upgrading?s():n()),this}_onError(n){if(Lr.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",n),this._onClose("transport error",n)}_onClose(n,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),sh&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const s=gc.indexOf(this._offlineEventListener);s!==-1&&gc.splice(s,1)}this.readyState="closed",this.id=null,this.emitReserved("close",n,r),this.writeBuffer=[],this._prevBufferLen=0}}}Lr.protocol=D1;class wT extends Lr{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let n=0;n<this._upgrades.length;n++)this._probe(this._upgrades[n])}_probe(n){let r=this.createTransport(n),s=!1;Lr.priorWebsocketSuccess=!1;const l=()=>{s||(r.send([{type:"ping",data:"probe"}]),r.once("packet",v=>{if(!s)if(v.type==="pong"&&v.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;Lr.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{s||this.readyState!=="closed"&&(b(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const S=new Error("probe error");S.transport=r.name,this.emitReserved("upgradeError",S)}}))};function c(){s||(s=!0,b(),r.close(),r=null)}const f=v=>{const S=new Error("probe error: "+v);S.transport=r.name,c(),this.emitReserved("upgradeError",S)};function h(){f("transport closed")}function p(){f("socket closed")}function y(v){r&&v.name!==r.name&&c()}const b=()=>{r.removeListener("open",l),r.removeListener("error",f),r.removeListener("close",h),this.off("close",p),this.off("upgrading",y)};r.once("open",l),r.once("error",f),r.once("close",h),this.once("close",p),this.once("upgrading",y),this._upgrades.indexOf("webtransport")!==-1&&n!=="webtransport"?this.setTimeoutFn(()=>{s||r.open()},200):r.open()}onHandshake(n){this._upgrades=this._filterUpgrades(n.upgrades),super.onHandshake(n)}_filterUpgrades(n){const r=[];for(let s=0;s<n.length;s++)~this.transports.indexOf(n[s])&&r.push(n[s]);return r}}let ST=class extends wT{constructor(n,r={}){const s=typeof n=="object"?n:r;(!s.transports||s.transports&&typeof s.transports[0]=="string")&&(s.transports=(s.transports||["polling","websocket","webtransport"]).map(l=>mT[l]).filter(l=>!!l)),super(n,s)}};function xT(a,n="",r){let s=a;r=r||typeof location<"u"&&location,a==null&&(a=r.protocol+"//"+r.host),typeof a=="string"&&(a.charAt(0)==="/"&&(a.charAt(1)==="/"?a=r.protocol+a:a=r.host+a),/^(https?|wss?):\/\//.test(a)||(typeof r<"u"?a=r.protocol+"//"+a:a="https://"+a),s=ih(a)),s.port||(/^(http|ws)$/.test(s.protocol)?s.port="80":/^(http|ws)s$/.test(s.protocol)&&(s.port="443")),s.path=s.path||"/";const c=s.host.indexOf(":")!==-1?"["+s.host+"]":s.host;return s.id=s.protocol+"://"+c+":"+s.port+n,s.href=s.protocol+"://"+c+(r&&r.port===s.port?"":":"+s.port),s}const ET=typeof ArrayBuffer=="function",kT=a=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(a):a.buffer instanceof ArrayBuffer,U1=Object.prototype.toString,CT=typeof Blob=="function"||typeof Blob<"u"&&U1.call(Blob)==="[object BlobConstructor]",TT=typeof File=="function"||typeof File<"u"&&U1.call(File)==="[object FileConstructor]";function Yh(a){return ET&&(a instanceof ArrayBuffer||kT(a))||CT&&a instanceof Blob||TT&&a instanceof File}function vc(a,n){if(!a||typeof a!="object")return!1;if(Array.isArray(a)){for(let r=0,s=a.length;r<s;r++)if(vc(a[r]))return!0;return!1}if(Yh(a))return!0;if(a.toJSON&&typeof a.toJSON=="function"&&arguments.length===1)return vc(a.toJSON(),!0);for(const r in a)if(Object.prototype.hasOwnProperty.call(a,r)&&vc(a[r]))return!0;return!1}function OT(a){const n=[],r=a.data,s=a;return s.data=oh(r,n),s.attachments=n.length,{packet:s,buffers:n}}function oh(a,n){if(!a)return a;if(Yh(a)){const r={_placeholder:!0,num:n.length};return n.push(a),r}else if(Array.isArray(a)){const r=new Array(a.length);for(let s=0;s<a.length;s++)r[s]=oh(a[s],n);return r}else if(typeof a=="object"&&!(a instanceof Date)){const r={};for(const s in a)Object.prototype.hasOwnProperty.call(a,s)&&(r[s]=oh(a[s],n));return r}return a}function NT(a,n){return a.data=lh(a.data,n),delete a.attachments,a}function lh(a,n){if(!a)return a;if(a&&a._placeholder===!0){if(typeof a.num=="number"&&a.num>=0&&a.num<n.length)return n[a.num];throw new Error("illegal attachments")}else if(Array.isArray(a))for(let r=0;r<a.length;r++)a[r]=lh(a[r],n);else if(typeof a=="object")for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&(a[r]=lh(a[r],n));return a}const jT=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],AT=5;var mt;(function(a){a[a.CONNECT=0]="CONNECT",a[a.DISCONNECT=1]="DISCONNECT",a[a.EVENT=2]="EVENT",a[a.ACK=3]="ACK",a[a.CONNECT_ERROR=4]="CONNECT_ERROR",a[a.BINARY_EVENT=5]="BINARY_EVENT",a[a.BINARY_ACK=6]="BINARY_ACK"})(mt||(mt={}));class _T{constructor(n){this.replacer=n}encode(n){return(n.type===mt.EVENT||n.type===mt.ACK)&&vc(n)?this.encodeAsBinary({type:n.type===mt.EVENT?mt.BINARY_EVENT:mt.BINARY_ACK,nsp:n.nsp,data:n.data,id:n.id}):[this.encodeAsString(n)]}encodeAsString(n){let r=""+n.type;return(n.type===mt.BINARY_EVENT||n.type===mt.BINARY_ACK)&&(r+=n.attachments+"-"),n.nsp&&n.nsp!=="/"&&(r+=n.nsp+","),n.id!=null&&(r+=n.id),n.data!=null&&(r+=JSON.stringify(n.data,this.replacer)),r}encodeAsBinary(n){const r=OT(n),s=this.encodeAsString(r.packet),l=r.buffers;return l.unshift(s),l}}function E0(a){return Object.prototype.toString.call(a)==="[object Object]"}class Gh extends un{constructor(n){super(),this.reviver=n}add(n){let r;if(typeof n=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(n);const s=r.type===mt.BINARY_EVENT;s||r.type===mt.BINARY_ACK?(r.type=s?mt.EVENT:mt.ACK,this.reconstructor=new DT(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Yh(n)||n.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(n),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+n)}decodeString(n){let r=0;const s={type:Number(n.charAt(0))};if(mt[s.type]===void 0)throw new Error("unknown packet type "+s.type);if(s.type===mt.BINARY_EVENT||s.type===mt.BINARY_ACK){const c=r+1;for(;n.charAt(++r)!=="-"&&r!=n.length;);const f=n.substring(c,r);if(f!=Number(f)||n.charAt(r)!=="-")throw new Error("Illegal attachments");s.attachments=Number(f)}if(n.charAt(r+1)==="/"){const c=r+1;for(;++r&&!(n.charAt(r)===","||r===n.length););s.nsp=n.substring(c,r)}else s.nsp="/";const l=n.charAt(r+1);if(l!==""&&Number(l)==l){const c=r+1;for(;++r;){const f=n.charAt(r);if(f==null||Number(f)!=f){--r;break}if(r===n.length)break}s.id=Number(n.substring(c,r+1))}if(n.charAt(++r)){const c=this.tryParse(n.substr(r));if(Gh.isPayloadValid(s.type,c))s.data=c;else throw new Error("invalid payload")}return s}tryParse(n){try{return JSON.parse(n,this.reviver)}catch{return!1}}static isPayloadValid(n,r){switch(n){case mt.CONNECT:return E0(r);case mt.DISCONNECT:return r===void 0;case mt.CONNECT_ERROR:return typeof r=="string"||E0(r);case mt.EVENT:case mt.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&jT.indexOf(r[0])===-1);case mt.ACK:case mt.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class DT{constructor(n){this.packet=n,this.buffers=[],this.reconPack=n}takeBinaryData(n){if(this.buffers.push(n),this.buffers.length===this.reconPack.attachments){const r=NT(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const MT=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Gh,Encoder:_T,get PacketType(){return mt},protocol:AT},Symbol.toStringTag,{value:"Module"}));function wa(a,n,r){return a.on(n,r),function(){a.off(n,r)}}const RT=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class I1 extends un{constructor(n,r,s){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=n,this.nsp=r,s&&s.auth&&(this.auth=s.auth),this._opts=Object.assign({},s),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const n=this.io;this.subs=[wa(n,"open",this.onopen.bind(this)),wa(n,"packet",this.onpacket.bind(this)),wa(n,"error",this.onerror.bind(this)),wa(n,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...n){return n.unshift("message"),this.emit.apply(this,n),this}emit(n,...r){var s,l,c;if(RT.hasOwnProperty(n))throw new Error('"'+n.toString()+'" is a reserved event name');if(r.unshift(n),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const f={type:mt.EVENT,data:r};if(f.options={},f.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const b=this.ids++,v=r.pop();this._registerAckCallback(b,v),f.id=b}const h=(l=(s=this.io.engine)===null||s===void 0?void 0:s.transport)===null||l===void 0?void 0:l.writable,p=this.connected&&!(!((c=this.io.engine)===null||c===void 0)&&c._hasPingExpired());return this.flags.volatile&&!h||(p?(this.notifyOutgoingListeners(f),this.packet(f)):this.sendBuffer.push(f)),this.flags={},this}_registerAckCallback(n,r){var s;const l=(s=this.flags.timeout)!==null&&s!==void 0?s:this._opts.ackTimeout;if(l===void 0){this.acks[n]=r;return}const c=this.io.setTimeoutFn(()=>{delete this.acks[n];for(let h=0;h<this.sendBuffer.length;h++)this.sendBuffer[h].id===n&&this.sendBuffer.splice(h,1);r.call(this,new Error("operation has timed out"))},l),f=(...h)=>{this.io.clearTimeoutFn(c),r.apply(this,h)};f.withError=!0,this.acks[n]=f}emitWithAck(n,...r){return new Promise((s,l)=>{const c=(f,h)=>f?l(f):s(h);c.withError=!0,r.push(c),this.emit(n,...r)})}_addToQueue(n){let r;typeof n[n.length-1]=="function"&&(r=n.pop());const s={id:this._queueSeq++,tryCount:0,pending:!1,args:n,flags:Object.assign({fromQueue:!0},this.flags)};n.push((l,...c)=>s!==this._queue[0]?void 0:(l!==null?s.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(l)):(this._queue.shift(),r&&r(null,...c)),s.pending=!1,this._drainQueue())),this._queue.push(s),this._drainQueue()}_drainQueue(n=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!n||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(n){n.nsp=this.nsp,this.io._packet(n)}onopen(){typeof this.auth=="function"?this.auth(n=>{this._sendConnectPacket(n)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(n){this.packet({type:mt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},n):n})}onerror(n){this.connected||this.emitReserved("connect_error",n)}onclose(n,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",n,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(n=>{if(!this.sendBuffer.some(s=>String(s.id)===n)){const s=this.acks[n];delete this.acks[n],s.withError&&s.call(this,new Error("socket has been disconnected"))}})}onpacket(n){if(n.nsp===this.nsp)switch(n.type){case mt.CONNECT:n.data&&n.data.sid?this.onconnect(n.data.sid,n.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case mt.EVENT:case mt.BINARY_EVENT:this.onevent(n);break;case mt.ACK:case mt.BINARY_ACK:this.onack(n);break;case mt.DISCONNECT:this.ondisconnect();break;case mt.CONNECT_ERROR:this.destroy();const s=new Error(n.data.message);s.data=n.data.data,this.emitReserved("connect_error",s);break}}onevent(n){const r=n.data||[];n.id!=null&&r.push(this.ack(n.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(n){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const s of r)s.apply(this,n)}super.emit.apply(this,n),this._pid&&n.length&&typeof n[n.length-1]=="string"&&(this._lastOffset=n[n.length-1])}ack(n){const r=this;let s=!1;return function(...l){s||(s=!0,r.packet({type:mt.ACK,id:n,data:l}))}}onack(n){const r=this.acks[n.id];typeof r=="function"&&(delete this.acks[n.id],r.withError&&n.data.unshift(null),r.apply(this,n.data))}onconnect(n,r){this.id=n,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(n=>this.emitEvent(n)),this.receiveBuffer=[],this.sendBuffer.forEach(n=>{this.notifyOutgoingListeners(n),this.packet(n)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(n=>n()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:mt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(n){return this.flags.compress=n,this}get volatile(){return this.flags.volatile=!0,this}timeout(n){return this.flags.timeout=n,this}onAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(n),this}prependAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(n),this}offAny(n){if(!this._anyListeners)return this;if(n){const r=this._anyListeners;for(let s=0;s<r.length;s++)if(n===r[s])return r.splice(s,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(n),this}prependAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(n),this}offAnyOutgoing(n){if(!this._anyOutgoingListeners)return this;if(n){const r=this._anyOutgoingListeners;for(let s=0;s<r.length;s++)if(n===r[s])return r.splice(s,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(n){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const s of r)s.apply(this,n.data)}}}function ds(a){a=a||{},this.ms=a.min||100,this.max=a.max||1e4,this.factor=a.factor||2,this.jitter=a.jitter>0&&a.jitter<=1?a.jitter:0,this.attempts=0}ds.prototype.duration=function(){var a=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),r=Math.floor(n*this.jitter*a);a=(Math.floor(n*10)&1)==0?a-r:a+r}return Math.min(a,this.max)|0};ds.prototype.reset=function(){this.attempts=0};ds.prototype.setMin=function(a){this.ms=a};ds.prototype.setMax=function(a){this.max=a};ds.prototype.setJitter=function(a){this.jitter=a};class ch extends un{constructor(n,r){var s;super(),this.nsps={},this.subs=[],n&&typeof n=="object"&&(r=n,n=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Hc(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((s=r.randomizationFactor)!==null&&s!==void 0?s:.5),this.backoff=new ds({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=n;const l=r.parser||MT;this.encoder=new l.Encoder,this.decoder=new l.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(n){return arguments.length?(this._reconnection=!!n,n||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(n){return n===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=n,this)}reconnectionDelay(n){var r;return n===void 0?this._reconnectionDelay:(this._reconnectionDelay=n,(r=this.backoff)===null||r===void 0||r.setMin(n),this)}randomizationFactor(n){var r;return n===void 0?this._randomizationFactor:(this._randomizationFactor=n,(r=this.backoff)===null||r===void 0||r.setJitter(n),this)}reconnectionDelayMax(n){var r;return n===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=n,(r=this.backoff)===null||r===void 0||r.setMax(n),this)}timeout(n){return arguments.length?(this._timeout=n,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(n){if(~this._readyState.indexOf("open"))return this;this.engine=new ST(this.uri,this.opts);const r=this.engine,s=this;this._readyState="opening",this.skipReconnect=!1;const l=wa(r,"open",function(){s.onopen(),n&&n()}),c=h=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",h),n?n(h):this.maybeReconnectOnOpen()},f=wa(r,"error",c);if(this._timeout!==!1){const h=this._timeout,p=this.setTimeoutFn(()=>{l(),c(new Error("timeout")),r.close()},h);this.opts.autoUnref&&p.unref(),this.subs.push(()=>{this.clearTimeoutFn(p)})}return this.subs.push(l),this.subs.push(f),this}connect(n){return this.open(n)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const n=this.engine;this.subs.push(wa(n,"ping",this.onping.bind(this)),wa(n,"data",this.ondata.bind(this)),wa(n,"error",this.onerror.bind(this)),wa(n,"close",this.onclose.bind(this)),wa(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(n){try{this.decoder.add(n)}catch(r){this.onclose("parse error",r)}}ondecoded(n){$c(()=>{this.emitReserved("packet",n)},this.setTimeoutFn)}onerror(n){this.emitReserved("error",n)}socket(n,r){let s=this.nsps[n];return s?this._autoConnect&&!s.active&&s.connect():(s=new I1(this,n,r),this.nsps[n]=s),s}_destroy(n){const r=Object.keys(this.nsps);for(const s of r)if(this.nsps[s].active)return;this._close()}_packet(n){const r=this.encoder.encode(n);for(let s=0;s<r.length;s++)this.engine.write(r[s],n.options)}cleanup(){this.subs.forEach(n=>n()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(n,r){var s;this.cleanup(),(s=this.engine)===null||s===void 0||s.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",n,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const n=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const s=this.setTimeoutFn(()=>{n.skipReconnect||(this.emitReserved("reconnect_attempt",n.backoff.attempts),!n.skipReconnect&&n.open(l=>{l?(n._reconnecting=!1,n.reconnect(),this.emitReserved("reconnect_error",l)):n.onreconnect()}))},r);this.opts.autoUnref&&s.unref(),this.subs.push(()=>{this.clearTimeoutFn(s)})}}onreconnect(){const n=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",n)}}const yo={};function bc(a,n){typeof a=="object"&&(n=a,a=void 0),n=n||{};const r=xT(a,n.path||"/socket.io"),s=r.source,l=r.id,c=r.path,f=yo[l]&&c in yo[l].nsps,h=n.forceNew||n["force new connection"]||n.multiplex===!1||f;let p;return h?p=new ch(s,n):(yo[l]||(yo[l]=new ch(s,n)),p=yo[l]),r.query&&!n.query&&(n.query=r.queryKey),p.socket(r.path,n)}Object.assign(bc,{Manager:ch,Socket:I1,io:bc,connect:bc});const zT=typeof window<"u"?window.location.origin:"http://localhost:3000",k0=Ic(),LT=k0?`${k0}/socket.io`:"/socket.io",be=bc(zT,{path:LT,autoConnect:!1,reconnection:!0,reconnectionAttempts:1/0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,timeout:2e4,transports:["websocket","polling"]}),BT=()=>{be.connected||be.connect()},UT=()=>{be.connected&&be.disconnect()};class IT{constructor(){this.nodes=new Map}register(n,r){typeof n=="object"&&r===void 0&&(r=n,n=r.label?r.label.replace(/\s+/g,""):"Node_"+Math.random().toString(36).substr(2,9)),this.nodes.set(n,r)}get(n){return this.nodes.get(n)}getAll(){return Array.from(this.nodes.values()).filter(n=>n)}getByLabel(n){for(const r of this.nodes.values())if(r.label===n)return r;return null}getByInstance(n){for(const r of this.nodes.values())if(r.nodeClass&&n instanceof r.nodeClass)return r;return null}}const En=new IT;class hi extends Error{}class $T extends hi{constructor(n){super(`Invalid DateTime: ${n.toMessage()}`)}}class HT extends hi{constructor(n){super(`Invalid Interval: ${n.toMessage()}`)}}class VT extends hi{constructor(n){super(`Invalid Duration: ${n.toMessage()}`)}}class Wi extends hi{}class $1 extends hi{constructor(n){super(`Invalid unit ${n}`)}}class kn extends hi{}class Ar extends hi{constructor(){super("Zone is an abstract class")}}const ke="numeric",Ca="short",Jn="long",jc={year:ke,month:ke,day:ke},H1={year:ke,month:Ca,day:ke},qT={year:ke,month:Ca,day:ke,weekday:Ca},V1={year:ke,month:Jn,day:ke},q1={year:ke,month:Jn,day:ke,weekday:Jn},Y1={hour:ke,minute:ke},G1={hour:ke,minute:ke,second:ke},Z1={hour:ke,minute:ke,second:ke,timeZoneName:Ca},P1={hour:ke,minute:ke,second:ke,timeZoneName:Jn},F1={hour:ke,minute:ke,hourCycle:"h23"},X1={hour:ke,minute:ke,second:ke,hourCycle:"h23"},K1={hour:ke,minute:ke,second:ke,hourCycle:"h23",timeZoneName:Ca},Q1={hour:ke,minute:ke,second:ke,hourCycle:"h23",timeZoneName:Jn},J1={year:ke,month:ke,day:ke,hour:ke,minute:ke},W1={year:ke,month:ke,day:ke,hour:ke,minute:ke,second:ke},ew={year:ke,month:Ca,day:ke,hour:ke,minute:ke},tw={year:ke,month:Ca,day:ke,hour:ke,minute:ke,second:ke},YT={year:ke,month:Ca,day:ke,weekday:Ca,hour:ke,minute:ke},nw={year:ke,month:Jn,day:ke,hour:ke,minute:ke,timeZoneName:Ca},aw={year:ke,month:Jn,day:ke,hour:ke,minute:ke,second:ke,timeZoneName:Ca},rw={year:ke,month:Jn,day:ke,weekday:Jn,hour:ke,minute:ke,timeZoneName:Jn},iw={year:ke,month:Jn,day:ke,weekday:Jn,hour:ke,minute:ke,second:ke,timeZoneName:Jn};class hs{get type(){throw new Ar}get name(){throw new Ar}get ianaName(){return this.name}get isUniversal(){throw new Ar}offsetName(n,r){throw new Ar}formatOffset(n,r){throw new Ar}offset(n){throw new Ar}equals(n){throw new Ar}get isValid(){throw new Ar}}let jd=null;class Ro extends hs{static get instance(){return jd===null&&(jd=new Ro),jd}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(n,{format:r,locale:s}){return gw(n,r,s)}formatOffset(n,r){return Oo(this.offset(n),r)}offset(n){return-new Date(n).getTimezoneOffset()}equals(n){return n.type==="system"}get isValid(){return!0}}const uh=new Map;function GT(a){let n=uh.get(a);return n===void 0&&(n=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:a,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),uh.set(a,n)),n}const ZT={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function PT(a,n){const r=a.format(n).replace(/\u200E/g,""),s=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(r),[,l,c,f,h,p,y,b]=s;return[f,l,c,h,p,y,b]}function FT(a,n){const r=a.formatToParts(n),s=[];for(let l=0;l<r.length;l++){const{type:c,value:f}=r[l],h=ZT[c];c==="era"?s[h]=f:Fe(h)||(s[h]=parseInt(f,10))}return s}const Ad=new Map;class za extends hs{static create(n){let r=Ad.get(n);return r===void 0&&Ad.set(n,r=new za(n)),r}static resetCache(){Ad.clear(),uh.clear()}static isValidSpecifier(n){return this.isValidZone(n)}static isValidZone(n){if(!n)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:n}).format(),!0}catch{return!1}}constructor(n){super(),this.zoneName=n,this.valid=za.isValidZone(n)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(n,{format:r,locale:s}){return gw(n,r,s,this.name)}formatOffset(n,r){return Oo(this.offset(n),r)}offset(n){if(!this.valid)return NaN;const r=new Date(n);if(isNaN(r))return NaN;const s=GT(this.name);let[l,c,f,h,p,y,b]=s.formatToParts?FT(s,r):PT(s,r);h==="BC"&&(l=-Math.abs(l)+1);const S=qc({year:l,month:c,day:f,hour:p===24?0:p,minute:y,second:b,millisecond:0});let k=+r;const N=k%1e3;return k-=N>=0?N:1e3+N,(S-k)/(60*1e3)}equals(n){return n.type==="iana"&&n.name===this.name}get isValid(){return this.valid}}let C0={};function XT(a,n={}){const r=JSON.stringify([a,n]);let s=C0[r];return s||(s=new Intl.ListFormat(a,n),C0[r]=s),s}const fh=new Map;function dh(a,n={}){const r=JSON.stringify([a,n]);let s=fh.get(r);return s===void 0&&(s=new Intl.DateTimeFormat(a,n),fh.set(r,s)),s}const hh=new Map;function KT(a,n={}){const r=JSON.stringify([a,n]);let s=hh.get(r);return s===void 0&&(s=new Intl.NumberFormat(a,n),hh.set(r,s)),s}const ph=new Map;function QT(a,n={}){const{base:r,...s}=n,l=JSON.stringify([a,s]);let c=ph.get(l);return c===void 0&&(c=new Intl.RelativeTimeFormat(a,n),ph.set(l,c)),c}let wo=null;function JT(){return wo||(wo=new Intl.DateTimeFormat().resolvedOptions().locale,wo)}const mh=new Map;function sw(a){let n=mh.get(a);return n===void 0&&(n=new Intl.DateTimeFormat(a).resolvedOptions(),mh.set(a,n)),n}const yh=new Map;function WT(a){let n=yh.get(a);if(!n){const r=new Intl.Locale(a);n="getWeekInfo"in r?r.getWeekInfo():r.weekInfo,"minimalDays"in n||(n={...ow,...n}),yh.set(a,n)}return n}function eO(a){const n=a.indexOf("-x-");n!==-1&&(a=a.substring(0,n));const r=a.indexOf("-u-");if(r===-1)return[a];{let s,l;try{s=dh(a).resolvedOptions(),l=a}catch{const p=a.substring(0,r);s=dh(p).resolvedOptions(),l=p}const{numberingSystem:c,calendar:f}=s;return[l,c,f]}}function tO(a,n,r){return(r||n)&&(a.includes("-u-")||(a+="-u"),r&&(a+=`-ca-${r}`),n&&(a+=`-nu-${n}`)),a}function nO(a){const n=[];for(let r=1;r<=12;r++){const s=Xe.utc(2009,r,1);n.push(a(s))}return n}function aO(a){const n=[];for(let r=1;r<=7;r++){const s=Xe.utc(2016,11,13+r);n.push(a(s))}return n}function oc(a,n,r,s){const l=a.listingMode();return l==="error"?null:l==="en"?r(n):s(n)}function rO(a){return a.numberingSystem&&a.numberingSystem!=="latn"?!1:a.numberingSystem==="latn"||!a.locale||a.locale.startsWith("en")||sw(a.locale).numberingSystem==="latn"}class iO{constructor(n,r,s){this.padTo=s.padTo||0,this.floor=s.floor||!1;const{padTo:l,floor:c,...f}=s;if(!r||Object.keys(f).length>0){const h={useGrouping:!1,...s};s.padTo>0&&(h.minimumIntegerDigits=s.padTo),this.inf=KT(n,h)}}format(n){if(this.inf){const r=this.floor?Math.floor(n):n;return this.inf.format(r)}else{const r=this.floor?Math.floor(n):Kh(n,3);return ln(r,this.padTo)}}}class sO{constructor(n,r,s){this.opts=s,this.originalZone=void 0;let l;if(this.opts.timeZone)this.dt=n;else if(n.zone.type==="fixed"){const f=-1*(n.offset/60),h=f>=0?`Etc/GMT+${f}`:`Etc/GMT${f}`;n.offset!==0&&za.create(h).valid?(l=h,this.dt=n):(l="UTC",this.dt=n.offset===0?n:n.setZone("UTC").plus({minutes:n.offset}),this.originalZone=n.zone)}else n.zone.type==="system"?this.dt=n:n.zone.type==="iana"?(this.dt=n,l=n.zone.name):(l="UTC",this.dt=n.setZone("UTC").plus({minutes:n.offset}),this.originalZone=n.zone);const c={...this.opts};c.timeZone=c.timeZone||l,this.dtf=dh(r,c)}format(){return this.originalZone?this.formatToParts().map(({value:n})=>n).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const n=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?n.map(r=>{if(r.type==="timeZoneName"){const s=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...r,value:s}}else return r}):n}resolvedOptions(){return this.dtf.resolvedOptions()}}class oO{constructor(n,r,s){this.opts={style:"long",...s},!r&&mw()&&(this.rtf=QT(n,s))}format(n,r){return this.rtf?this.rtf.format(n,r):NO(r,n,this.opts.numeric,this.opts.style!=="long")}formatToParts(n,r){return this.rtf?this.rtf.formatToParts(n,r):[]}}const ow={firstDay:1,minimalDays:4,weekend:[6,7]};class Ct{static fromOpts(n){return Ct.create(n.locale,n.numberingSystem,n.outputCalendar,n.weekSettings,n.defaultToEN)}static create(n,r,s,l,c=!1){const f=n||Pt.defaultLocale,h=f||(c?"en-US":JT()),p=r||Pt.defaultNumberingSystem,y=s||Pt.defaultOutputCalendar,b=vh(l)||Pt.defaultWeekSettings;return new Ct(h,p,y,b,f)}static resetCache(){wo=null,fh.clear(),hh.clear(),ph.clear(),mh.clear(),yh.clear()}static fromObject({locale:n,numberingSystem:r,outputCalendar:s,weekSettings:l}={}){return Ct.create(n,r,s,l)}constructor(n,r,s,l,c){const[f,h,p]=eO(n);this.locale=f,this.numberingSystem=r||h||null,this.outputCalendar=s||p||null,this.weekSettings=l,this.intl=tO(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=c,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=rO(this)),this.fastNumbersCached}listingMode(){const n=this.isEnglish(),r=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return n&&r?"en":"intl"}clone(n){return!n||Object.getOwnPropertyNames(n).length===0?this:Ct.create(n.locale||this.specifiedLocale,n.numberingSystem||this.numberingSystem,n.outputCalendar||this.outputCalendar,vh(n.weekSettings)||this.weekSettings,n.defaultToEN||!1)}redefaultToEN(n={}){return this.clone({...n,defaultToEN:!0})}redefaultToSystem(n={}){return this.clone({...n,defaultToEN:!1})}months(n,r=!1){return oc(this,n,ww,()=>{const s=this.intl==="ja"||this.intl.startsWith("ja-");r&=!s;const l=r?{month:n,day:"numeric"}:{month:n},c=r?"format":"standalone";if(!this.monthsCache[c][n]){const f=s?h=>this.dtFormatter(h,l).format():h=>this.extract(h,l,"month");this.monthsCache[c][n]=nO(f)}return this.monthsCache[c][n]})}weekdays(n,r=!1){return oc(this,n,Ew,()=>{const s=r?{weekday:n,year:"numeric",month:"long",day:"numeric"}:{weekday:n},l=r?"format":"standalone";return this.weekdaysCache[l][n]||(this.weekdaysCache[l][n]=aO(c=>this.extract(c,s,"weekday"))),this.weekdaysCache[l][n]})}meridiems(){return oc(this,void 0,()=>kw,()=>{if(!this.meridiemCache){const n={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Xe.utc(2016,11,13,9),Xe.utc(2016,11,13,19)].map(r=>this.extract(r,n,"dayperiod"))}return this.meridiemCache})}eras(n){return oc(this,n,Cw,()=>{const r={era:n};return this.eraCache[n]||(this.eraCache[n]=[Xe.utc(-40,1,1),Xe.utc(2017,1,1)].map(s=>this.extract(s,r,"era"))),this.eraCache[n]})}extract(n,r,s){const l=this.dtFormatter(n,r),c=l.formatToParts(),f=c.find(h=>h.type.toLowerCase()===s);return f?f.value:null}numberFormatter(n={}){return new iO(this.intl,n.forceSimple||this.fastNumbers,n)}dtFormatter(n,r={}){return new sO(n,this.intl,r)}relFormatter(n={}){return new oO(this.intl,this.isEnglish(),n)}listFormatter(n={}){return XT(this.intl,n)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||sw(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:yw()?WT(this.locale):ow}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(n){return this.locale===n.locale&&this.numberingSystem===n.numberingSystem&&this.outputCalendar===n.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let _d=null;class Tn extends hs{static get utcInstance(){return _d===null&&(_d=new Tn(0)),_d}static instance(n){return n===0?Tn.utcInstance:new Tn(n)}static parseSpecifier(n){if(n){const r=n.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new Tn(Yc(r[1],r[2]))}return null}constructor(n){super(),this.fixed=n}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${Oo(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${Oo(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(n,r){return Oo(this.fixed,r)}get isUniversal(){return!0}offset(){return this.fixed}equals(n){return n.type==="fixed"&&n.fixed===this.fixed}get isValid(){return!0}}class lw extends hs{constructor(n){super(),this.zoneName=n}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Rr(a,n){if(Fe(a)||a===null)return n;if(a instanceof hs)return a;if(hO(a)){const r=a.toLowerCase();return r==="default"?n:r==="local"||r==="system"?Ro.instance:r==="utc"||r==="gmt"?Tn.utcInstance:Tn.parseSpecifier(r)||za.create(a)}else return Br(a)?Tn.instance(a):typeof a=="object"&&"offset"in a&&typeof a.offset=="function"?a:new lw(a)}const Zh={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},T0={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},lO=Zh.hanidec.replace(/[\[|\]]/g,"").split("");function cO(a){let n=parseInt(a,10);if(isNaN(n)){n="";for(let r=0;r<a.length;r++){const s=a.charCodeAt(r);if(a[r].search(Zh.hanidec)!==-1)n+=lO.indexOf(a[r]);else for(const l in T0){const[c,f]=T0[l];s>=c&&s<=f&&(n+=s-c)}}return parseInt(n,10)}else return n}const gh=new Map;function uO(){gh.clear()}function va({numberingSystem:a},n=""){const r=a||"latn";let s=gh.get(r);s===void 0&&(s=new Map,gh.set(r,s));let l=s.get(n);return l===void 0&&(l=new RegExp(`${Zh[r]}${n}`),s.set(n,l)),l}let O0=()=>Date.now(),N0="system",j0=null,A0=null,_0=null,D0=60,M0,R0=null;class Pt{static get now(){return O0}static set now(n){O0=n}static set defaultZone(n){N0=n}static get defaultZone(){return Rr(N0,Ro.instance)}static get defaultLocale(){return j0}static set defaultLocale(n){j0=n}static get defaultNumberingSystem(){return A0}static set defaultNumberingSystem(n){A0=n}static get defaultOutputCalendar(){return _0}static set defaultOutputCalendar(n){_0=n}static get defaultWeekSettings(){return R0}static set defaultWeekSettings(n){R0=vh(n)}static get twoDigitCutoffYear(){return D0}static set twoDigitCutoffYear(n){D0=n%100}static get throwOnInvalid(){return M0}static set throwOnInvalid(n){M0=n}static resetCaches(){Ct.resetCache(),za.resetCache(),Xe.resetCache(),uO()}}class xa{constructor(n,r){this.reason=n,this.explanation=r}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const cw=[0,31,59,90,120,151,181,212,243,273,304,334],uw=[0,31,60,91,121,152,182,213,244,274,305,335];function fa(a,n){return new xa("unit out of range",`you specified ${n} (of type ${typeof n}) as a ${a}, which is invalid`)}function Ph(a,n,r){const s=new Date(Date.UTC(a,n-1,r));a<100&&a>=0&&s.setUTCFullYear(s.getUTCFullYear()-1900);const l=s.getUTCDay();return l===0?7:l}function fw(a,n,r){return r+(zo(a)?uw:cw)[n-1]}function dw(a,n){const r=zo(a)?uw:cw,s=r.findIndex(c=>c<n),l=n-r[s];return{month:s+1,day:l}}function Fh(a,n){return(a-n+7)%7+1}function Ac(a,n=4,r=1){const{year:s,month:l,day:c}=a,f=fw(s,l,c),h=Fh(Ph(s,l,c),r);let p=Math.floor((f-h+14-n)/7),y;return p<1?(y=s-1,p=_o(y,n,r)):p>_o(s,n,r)?(y=s+1,p=1):y=s,{weekYear:y,weekNumber:p,weekday:h,...Gc(a)}}function z0(a,n=4,r=1){const{weekYear:s,weekNumber:l,weekday:c}=a,f=Fh(Ph(s,1,n),r),h=ts(s);let p=l*7+c-f-7+n,y;p<1?(y=s-1,p+=ts(y)):p>h?(y=s+1,p-=ts(s)):y=s;const{month:b,day:v}=dw(y,p);return{year:y,month:b,day:v,...Gc(a)}}function Dd(a){const{year:n,month:r,day:s}=a,l=fw(n,r,s);return{year:n,ordinal:l,...Gc(a)}}function L0(a){const{year:n,ordinal:r}=a,{month:s,day:l}=dw(n,r);return{year:n,month:s,day:l,...Gc(a)}}function B0(a,n){if(!Fe(a.localWeekday)||!Fe(a.localWeekNumber)||!Fe(a.localWeekYear)){if(!Fe(a.weekday)||!Fe(a.weekNumber)||!Fe(a.weekYear))throw new Wi("Cannot mix locale-based week fields with ISO-based week fields");return Fe(a.localWeekday)||(a.weekday=a.localWeekday),Fe(a.localWeekNumber)||(a.weekNumber=a.localWeekNumber),Fe(a.localWeekYear)||(a.weekYear=a.localWeekYear),delete a.localWeekday,delete a.localWeekNumber,delete a.localWeekYear,{minDaysInFirstWeek:n.getMinDaysInFirstWeek(),startOfWeek:n.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function fO(a,n=4,r=1){const s=Vc(a.weekYear),l=da(a.weekNumber,1,_o(a.weekYear,n,r)),c=da(a.weekday,1,7);return s?l?c?!1:fa("weekday",a.weekday):fa("week",a.weekNumber):fa("weekYear",a.weekYear)}function dO(a){const n=Vc(a.year),r=da(a.ordinal,1,ts(a.year));return n?r?!1:fa("ordinal",a.ordinal):fa("year",a.year)}function hw(a){const n=Vc(a.year),r=da(a.month,1,12),s=da(a.day,1,_c(a.year,a.month));return n?r?s?!1:fa("day",a.day):fa("month",a.month):fa("year",a.year)}function pw(a){const{hour:n,minute:r,second:s,millisecond:l}=a,c=da(n,0,23)||n===24&&r===0&&s===0&&l===0,f=da(r,0,59),h=da(s,0,59),p=da(l,0,999);return c?f?h?p?!1:fa("millisecond",l):fa("second",s):fa("minute",r):fa("hour",n)}function Fe(a){return typeof a>"u"}function Br(a){return typeof a=="number"}function Vc(a){return typeof a=="number"&&a%1===0}function hO(a){return typeof a=="string"}function pO(a){return Object.prototype.toString.call(a)==="[object Date]"}function mw(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function yw(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function mO(a){return Array.isArray(a)?a:[a]}function U0(a,n,r){if(a.length!==0)return a.reduce((s,l)=>{const c=[n(l),l];return s&&r(s[0],c[0])===s[0]?s:c},null)[1]}function yO(a,n){return n.reduce((r,s)=>(r[s]=a[s],r),{})}function ls(a,n){return Object.prototype.hasOwnProperty.call(a,n)}function vh(a){if(a==null)return null;if(typeof a!="object")throw new kn("Week settings must be an object");if(!da(a.firstDay,1,7)||!da(a.minimalDays,1,7)||!Array.isArray(a.weekend)||a.weekend.some(n=>!da(n,1,7)))throw new kn("Invalid week settings");return{firstDay:a.firstDay,minimalDays:a.minimalDays,weekend:Array.from(a.weekend)}}function da(a,n,r){return Vc(a)&&a>=n&&a<=r}function gO(a,n){return a-n*Math.floor(a/n)}function ln(a,n=2){const r=a<0;let s;return r?s="-"+(""+-a).padStart(n,"0"):s=(""+a).padStart(n,"0"),s}function Mr(a){if(!(Fe(a)||a===null||a===""))return parseInt(a,10)}function ai(a){if(!(Fe(a)||a===null||a===""))return parseFloat(a)}function Xh(a){if(!(Fe(a)||a===null||a==="")){const n=parseFloat("0."+a)*1e3;return Math.floor(n)}}function Kh(a,n,r="round"){const s=10**n;switch(r){case"expand":return a>0?Math.ceil(a*s)/s:Math.floor(a*s)/s;case"trunc":return Math.trunc(a*s)/s;case"round":return Math.round(a*s)/s;case"floor":return Math.floor(a*s)/s;case"ceil":return Math.ceil(a*s)/s;default:throw new RangeError(`Value rounding ${r} is out of range`)}}function zo(a){return a%4===0&&(a%100!==0||a%400===0)}function ts(a){return zo(a)?366:365}function _c(a,n){const r=gO(n-1,12)+1,s=a+(n-r)/12;return r===2?zo(s)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][r-1]}function qc(a){let n=Date.UTC(a.year,a.month-1,a.day,a.hour,a.minute,a.second,a.millisecond);return a.year<100&&a.year>=0&&(n=new Date(n),n.setUTCFullYear(a.year,a.month-1,a.day)),+n}function I0(a,n,r){return-Fh(Ph(a,1,n),r)+n-1}function _o(a,n=4,r=1){const s=I0(a,n,r),l=I0(a+1,n,r);return(ts(a)-s+l)/7}function bh(a){return a>99?a:a>Pt.twoDigitCutoffYear?1900+a:2e3+a}function gw(a,n,r,s=null){const l=new Date(a),c={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};s&&(c.timeZone=s);const f={timeZoneName:n,...c},h=new Intl.DateTimeFormat(r,f).formatToParts(l).find(p=>p.type.toLowerCase()==="timezonename");return h?h.value:null}function Yc(a,n){let r=parseInt(a,10);Number.isNaN(r)&&(r=0);const s=parseInt(n,10)||0,l=r<0||Object.is(r,-0)?-s:s;return r*60+l}function vw(a){const n=Number(a);if(typeof a=="boolean"||a===""||!Number.isFinite(n))throw new kn(`Invalid unit value ${a}`);return n}function Dc(a,n){const r={};for(const s in a)if(ls(a,s)){const l=a[s];if(l==null)continue;r[n(s)]=vw(l)}return r}function Oo(a,n){const r=Math.trunc(Math.abs(a/60)),s=Math.trunc(Math.abs(a%60)),l=a>=0?"+":"-";switch(n){case"short":return`${l}${ln(r,2)}:${ln(s,2)}`;case"narrow":return`${l}${r}${s>0?`:${s}`:""}`;case"techie":return`${l}${ln(r,2)}${ln(s,2)}`;default:throw new RangeError(`Value format ${n} is out of range for property format`)}}function Gc(a){return yO(a,["hour","minute","second","millisecond"])}const vO=["January","February","March","April","May","June","July","August","September","October","November","December"],bw=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],bO=["J","F","M","A","M","J","J","A","S","O","N","D"];function ww(a){switch(a){case"narrow":return[...bO];case"short":return[...bw];case"long":return[...vO];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Sw=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],xw=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],wO=["M","T","W","T","F","S","S"];function Ew(a){switch(a){case"narrow":return[...wO];case"short":return[...xw];case"long":return[...Sw];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const kw=["AM","PM"],SO=["Before Christ","Anno Domini"],xO=["BC","AD"],EO=["B","A"];function Cw(a){switch(a){case"narrow":return[...EO];case"short":return[...xO];case"long":return[...SO];default:return null}}function kO(a){return kw[a.hour<12?0:1]}function CO(a,n){return Ew(n)[a.weekday-1]}function TO(a,n){return ww(n)[a.month-1]}function OO(a,n){return Cw(n)[a.year<0?0:1]}function NO(a,n,r="always",s=!1){const l={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},c=["hours","minutes","seconds"].indexOf(a)===-1;if(r==="auto"&&c){const v=a==="days";switch(n){case 1:return v?"tomorrow":`next ${l[a][0]}`;case-1:return v?"yesterday":`last ${l[a][0]}`;case 0:return v?"today":`this ${l[a][0]}`}}const f=Object.is(n,-0)||n<0,h=Math.abs(n),p=h===1,y=l[a],b=s?p?y[1]:y[2]||y[1]:p?l[a][0]:a;return f?`${h} ${b} ago`:`in ${h} ${b}`}function $0(a,n){let r="";for(const s of a)s.literal?r+=s.val:r+=n(s.val);return r}const jO={D:jc,DD:H1,DDD:V1,DDDD:q1,t:Y1,tt:G1,ttt:Z1,tttt:P1,T:F1,TT:X1,TTT:K1,TTTT:Q1,f:J1,ff:ew,fff:nw,ffff:rw,F:W1,FF:tw,FFF:aw,FFFF:iw};class Cn{static create(n,r={}){return new Cn(n,r)}static parseFormat(n){let r=null,s="",l=!1;const c=[];for(let f=0;f<n.length;f++){const h=n.charAt(f);h==="'"?((s.length>0||l)&&c.push({literal:l||/^\s+$/.test(s),val:s===""?"'":s}),r=null,s="",l=!l):l||h===r?s+=h:(s.length>0&&c.push({literal:/^\s+$/.test(s),val:s}),s=h,r=h)}return s.length>0&&c.push({literal:l||/^\s+$/.test(s),val:s}),c}static macroTokenToFormatOpts(n){return jO[n]}constructor(n,r){this.opts=r,this.loc=n,this.systemLoc=null}formatWithSystemDefault(n,r){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(n,{...this.opts,...r}).format()}dtFormatter(n,r={}){return this.loc.dtFormatter(n,{...this.opts,...r})}formatDateTime(n,r){return this.dtFormatter(n,r).format()}formatDateTimeParts(n,r){return this.dtFormatter(n,r).formatToParts()}formatInterval(n,r){return this.dtFormatter(n.start,r).dtf.formatRange(n.start.toJSDate(),n.end.toJSDate())}resolvedOptions(n,r){return this.dtFormatter(n,r).resolvedOptions()}num(n,r=0,s=void 0){if(this.opts.forceSimple)return ln(n,r);const l={...this.opts};return r>0&&(l.padTo=r),s&&(l.signDisplay=s),this.loc.numberFormatter(l).format(n)}formatDateTimeFromString(n,r){const s=this.loc.listingMode()==="en",l=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",c=(k,N)=>this.loc.extract(n,k,N),f=k=>n.isOffsetFixed&&n.offset===0&&k.allowZ?"Z":n.isValid?n.zone.formatOffset(n.ts,k.format):"",h=()=>s?kO(n):c({hour:"numeric",hourCycle:"h12"},"dayperiod"),p=(k,N)=>s?TO(n,k):c(N?{month:k}:{month:k,day:"numeric"},"month"),y=(k,N)=>s?CO(n,k):c(N?{weekday:k}:{weekday:k,month:"long",day:"numeric"},"weekday"),b=k=>{const N=Cn.macroTokenToFormatOpts(k);return N?this.formatWithSystemDefault(n,N):k},v=k=>s?OO(n,k):c({era:k},"era"),S=k=>{switch(k){case"S":return this.num(n.millisecond);case"u":case"SSS":return this.num(n.millisecond,3);case"s":return this.num(n.second);case"ss":return this.num(n.second,2);case"uu":return this.num(Math.floor(n.millisecond/10),2);case"uuu":return this.num(Math.floor(n.millisecond/100));case"m":return this.num(n.minute);case"mm":return this.num(n.minute,2);case"h":return this.num(n.hour%12===0?12:n.hour%12);case"hh":return this.num(n.hour%12===0?12:n.hour%12,2);case"H":return this.num(n.hour);case"HH":return this.num(n.hour,2);case"Z":return f({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return f({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return f({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return n.zone.offsetName(n.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return n.zone.offsetName(n.ts,{format:"long",locale:this.loc.locale});case"z":return n.zoneName;case"a":return h();case"d":return l?c({day:"numeric"},"day"):this.num(n.day);case"dd":return l?c({day:"2-digit"},"day"):this.num(n.day,2);case"c":return this.num(n.weekday);case"ccc":return y("short",!0);case"cccc":return y("long",!0);case"ccccc":return y("narrow",!0);case"E":return this.num(n.weekday);case"EEE":return y("short",!1);case"EEEE":return y("long",!1);case"EEEEE":return y("narrow",!1);case"L":return l?c({month:"numeric",day:"numeric"},"month"):this.num(n.month);case"LL":return l?c({month:"2-digit",day:"numeric"},"month"):this.num(n.month,2);case"LLL":return p("short",!0);case"LLLL":return p("long",!0);case"LLLLL":return p("narrow",!0);case"M":return l?c({month:"numeric"},"month"):this.num(n.month);case"MM":return l?c({month:"2-digit"},"month"):this.num(n.month,2);case"MMM":return p("short",!1);case"MMMM":return p("long",!1);case"MMMMM":return p("narrow",!1);case"y":return l?c({year:"numeric"},"year"):this.num(n.year);case"yy":return l?c({year:"2-digit"},"year"):this.num(n.year.toString().slice(-2),2);case"yyyy":return l?c({year:"numeric"},"year"):this.num(n.year,4);case"yyyyyy":return l?c({year:"numeric"},"year"):this.num(n.year,6);case"G":return v("short");case"GG":return v("long");case"GGGGG":return v("narrow");case"kk":return this.num(n.weekYear.toString().slice(-2),2);case"kkkk":return this.num(n.weekYear,4);case"W":return this.num(n.weekNumber);case"WW":return this.num(n.weekNumber,2);case"n":return this.num(n.localWeekNumber);case"nn":return this.num(n.localWeekNumber,2);case"ii":return this.num(n.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(n.localWeekYear,4);case"o":return this.num(n.ordinal);case"ooo":return this.num(n.ordinal,3);case"q":return this.num(n.quarter);case"qq":return this.num(n.quarter,2);case"X":return this.num(Math.floor(n.ts/1e3));case"x":return this.num(n.ts);default:return b(k)}};return $0(Cn.parseFormat(r),S)}formatDurationFromString(n,r){const s=this.opts.signMode==="negativeLargestOnly"?-1:1,l=b=>{switch(b[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"w":return"weeks";case"M":return"months";case"y":return"years";default:return null}},c=(b,v)=>S=>{const k=l(S);if(k){const N=v.isNegativeDuration&&k!==v.largestUnit?s:1;let Z;return this.opts.signMode==="negativeLargestOnly"&&k!==v.largestUnit?Z="never":this.opts.signMode==="all"?Z="always":Z="auto",this.num(b.get(k)*N,S.length,Z)}else return S},f=Cn.parseFormat(r),h=f.reduce((b,{literal:v,val:S})=>v?b:b.concat(S),[]),p=n.shiftTo(...h.map(l).filter(b=>b)),y={isNegativeDuration:p<0,largestUnit:Object.keys(p.values)[0]};return $0(f,c(p,y))}}const Tw=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function ps(...a){const n=a.reduce((r,s)=>r+s.source,"");return RegExp(`^${n}$`)}function ms(...a){return n=>a.reduce(([r,s,l],c)=>{const[f,h,p]=c(n,l);return[{...r,...f},h||s,p]},[{},null,1]).slice(0,2)}function ys(a,...n){if(a==null)return[null,null];for(const[r,s]of n){const l=r.exec(a);if(l)return s(l)}return[null,null]}function Ow(...a){return(n,r)=>{const s={};let l;for(l=0;l<a.length;l++)s[a[l]]=Mr(n[r+l]);return[s,null,r+l]}}const Nw=/(?:([Zz])|([+-]\d\d)(?::?(\d\d))?)/,AO=`(?:${Nw.source}?(?:\\[(${Tw.source})\\])?)?`,Qh=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,jw=RegExp(`${Qh.source}${AO}`),Jh=RegExp(`(?:[Tt]${jw.source})?`),_O=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,DO=/(\d{4})-?W(\d\d)(?:-?(\d))?/,MO=/(\d{4})-?(\d{3})/,RO=Ow("weekYear","weekNumber","weekDay"),zO=Ow("year","ordinal"),LO=/(\d{4})-(\d\d)-(\d\d)/,Aw=RegExp(`${Qh.source} ?(?:${Nw.source}|(${Tw.source}))?`),BO=RegExp(`(?: ${Aw.source})?`);function ns(a,n,r){const s=a[n];return Fe(s)?r:Mr(s)}function UO(a,n){return[{year:ns(a,n),month:ns(a,n+1,1),day:ns(a,n+2,1)},null,n+3]}function gs(a,n){return[{hours:ns(a,n,0),minutes:ns(a,n+1,0),seconds:ns(a,n+2,0),milliseconds:Xh(a[n+3])},null,n+4]}function Lo(a,n){const r=!a[n]&&!a[n+1],s=Yc(a[n+1],a[n+2]),l=r?null:Tn.instance(s);return[{},l,n+3]}function Bo(a,n){const r=a[n]?za.create(a[n]):null;return[{},r,n+1]}const IO=RegExp(`^T?${Qh.source}$`),$O=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function HO(a){const[n,r,s,l,c,f,h,p,y]=a,b=n[0]==="-",v=p&&p[0]==="-",S=(k,N=!1)=>k!==void 0&&(N||k&&b)?-k:k;return[{years:S(ai(r)),months:S(ai(s)),weeks:S(ai(l)),days:S(ai(c)),hours:S(ai(f)),minutes:S(ai(h)),seconds:S(ai(p),p==="-0"),milliseconds:S(Xh(y),v)}]}const VO={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Wh(a,n,r,s,l,c,f){const h={year:n.length===2?bh(Mr(n)):Mr(n),month:bw.indexOf(r)+1,day:Mr(s),hour:Mr(l),minute:Mr(c)};return f&&(h.second=Mr(f)),a&&(h.weekday=a.length>3?Sw.indexOf(a)+1:xw.indexOf(a)+1),h}const qO=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function YO(a){const[,n,r,s,l,c,f,h,p,y,b,v]=a,S=Wh(n,l,s,r,c,f,h);let k;return p?k=VO[p]:y?k=0:k=Yc(b,v),[S,new Tn(k)]}function GO(a){return a.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const ZO=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,PO=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,FO=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function H0(a){const[,n,r,s,l,c,f,h]=a;return[Wh(n,l,s,r,c,f,h),Tn.utcInstance]}function XO(a){const[,n,r,s,l,c,f,h]=a;return[Wh(n,h,r,s,l,c,f),Tn.utcInstance]}const KO=ps(_O,Jh),QO=ps(DO,Jh),JO=ps(MO,Jh),WO=ps(jw),_w=ms(UO,gs,Lo,Bo),eN=ms(RO,gs,Lo,Bo),tN=ms(zO,gs,Lo,Bo),nN=ms(gs,Lo,Bo);function aN(a){return ys(a,[KO,_w],[QO,eN],[JO,tN],[WO,nN])}function rN(a){return ys(GO(a),[qO,YO])}function iN(a){return ys(a,[ZO,H0],[PO,H0],[FO,XO])}function sN(a){return ys(a,[$O,HO])}const oN=ms(gs);function lN(a){return ys(a,[IO,oN])}const cN=ps(LO,BO),uN=ps(Aw),fN=ms(gs,Lo,Bo);function dN(a){return ys(a,[cN,_w],[uN,fN])}const V0="Invalid Duration",Dw={weeks:{days:7,hours:168,minutes:10080,seconds:10080*60,milliseconds:10080*60*1e3},days:{hours:24,minutes:1440,seconds:1440*60,milliseconds:1440*60*1e3},hours:{minutes:60,seconds:3600,milliseconds:3600*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},hN={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:2184*60,seconds:2184*60*60,milliseconds:2184*60*60*1e3},months:{weeks:4,days:30,hours:720,minutes:720*60,seconds:720*60*60,milliseconds:720*60*60*1e3},...Dw},ca=146097/400,Fi=146097/4800,pN={years:{quarters:4,months:12,weeks:ca/7,days:ca,hours:ca*24,minutes:ca*24*60,seconds:ca*24*60*60,milliseconds:ca*24*60*60*1e3},quarters:{months:3,weeks:ca/28,days:ca/4,hours:ca*24/4,minutes:ca*24*60/4,seconds:ca*24*60*60/4,milliseconds:ca*24*60*60*1e3/4},months:{weeks:Fi/7,days:Fi,hours:Fi*24,minutes:Fi*24*60,seconds:Fi*24*60*60,milliseconds:Fi*24*60*60*1e3},...Dw},li=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],mN=li.slice(0).reverse();function nr(a,n,r=!1){const s={values:r?n.values:{...a.values,...n.values||{}},loc:a.loc.clone(n.loc),conversionAccuracy:n.conversionAccuracy||a.conversionAccuracy,matrix:n.matrix||a.matrix};return new yt(s)}function Mw(a,n){let r=n.milliseconds??0;for(const s of mN.slice(1))n[s]&&(r+=n[s]*a[s].milliseconds);return r}function q0(a,n){const r=Mw(a,n)<0?-1:1;li.reduceRight((s,l)=>{if(Fe(n[l]))return s;if(s){const c=n[s]*r,f=a[l][s],h=Math.floor(c/f);n[l]+=h*r,n[s]-=h*f*r}return l},null),li.reduce((s,l)=>{if(Fe(n[l]))return s;if(s){const c=n[s]%1;n[s]-=c,n[l]+=c*a[s][l]}return l},null)}function Y0(a){const n={};for(const[r,s]of Object.entries(a))s!==0&&(n[r]=s);return n}class yt{constructor(n){const r=n.conversionAccuracy==="longterm"||!1;let s=r?pN:hN;n.matrix&&(s=n.matrix),this.values=n.values,this.loc=n.loc||Ct.create(),this.conversionAccuracy=r?"longterm":"casual",this.invalid=n.invalid||null,this.matrix=s,this.isLuxonDuration=!0}static fromMillis(n,r){return yt.fromObject({milliseconds:n},r)}static fromObject(n,r={}){if(n==null||typeof n!="object")throw new kn(`Duration.fromObject: argument expected to be an object, got ${n===null?"null":typeof n}`);return new yt({values:Dc(n,yt.normalizeUnit),loc:Ct.fromObject(r),conversionAccuracy:r.conversionAccuracy,matrix:r.matrix})}static fromDurationLike(n){if(Br(n))return yt.fromMillis(n);if(yt.isDuration(n))return n;if(typeof n=="object")return yt.fromObject(n);throw new kn(`Unknown duration argument ${n} of type ${typeof n}`)}static fromISO(n,r){const[s]=sN(n);return s?yt.fromObject(s,r):yt.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static fromISOTime(n,r){const[s]=lN(n);return s?yt.fromObject(s,r):yt.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static invalid(n,r=null){if(!n)throw new kn("need to specify a reason the Duration is invalid");const s=n instanceof xa?n:new xa(n,r);if(Pt.throwOnInvalid)throw new VT(s);return new yt({invalid:s})}static normalizeUnit(n){const r={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[n&&n.toLowerCase()];if(!r)throw new $1(n);return r}static isDuration(n){return n&&n.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(n,r={}){const s={...r,floor:r.round!==!1&&r.floor!==!1};return this.isValid?Cn.create(this.loc,s).formatDurationFromString(this,n):V0}toHuman(n={}){if(!this.isValid)return V0;const r=n.showZeros!==!1,s=li.map(l=>{const c=this.values[l];return Fe(c)||c===0&&!r?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...n,unit:l.slice(0,-1)}).format(c)}).filter(l=>l);return this.loc.listFormatter({type:"conjunction",style:n.listStyle||"narrow",...n}).format(s)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let n="P";return this.years!==0&&(n+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(n+=this.months+this.quarters*3+"M"),this.weeks!==0&&(n+=this.weeks+"W"),this.days!==0&&(n+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(n+="T"),this.hours!==0&&(n+=this.hours+"H"),this.minutes!==0&&(n+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(n+=Kh(this.seconds+this.milliseconds/1e3,3)+"S"),n==="P"&&(n+="T0S"),n}toISOTime(n={}){if(!this.isValid)return null;const r=this.toMillis();return r<0||r>=864e5?null:(n={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...n,includeOffset:!1},Xe.fromMillis(r,{zone:"UTC"}).toISOTime(n))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Mw(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(n){if(!this.isValid)return this;const r=yt.fromDurationLike(n),s={};for(const l of li)(ls(r.values,l)||ls(this.values,l))&&(s[l]=r.get(l)+this.get(l));return nr(this,{values:s},!0)}minus(n){if(!this.isValid)return this;const r=yt.fromDurationLike(n);return this.plus(r.negate())}mapUnits(n){if(!this.isValid)return this;const r={};for(const s of Object.keys(this.values))r[s]=vw(n(this.values[s],s));return nr(this,{values:r},!0)}get(n){return this[yt.normalizeUnit(n)]}set(n){if(!this.isValid)return this;const r={...this.values,...Dc(n,yt.normalizeUnit)};return nr(this,{values:r})}reconfigure({locale:n,numberingSystem:r,conversionAccuracy:s,matrix:l}={}){const f={loc:this.loc.clone({locale:n,numberingSystem:r}),matrix:l,conversionAccuracy:s};return nr(this,f)}as(n){return this.isValid?this.shiftTo(n).get(n):NaN}normalize(){if(!this.isValid)return this;const n=this.toObject();return q0(this.matrix,n),nr(this,{values:n},!0)}rescale(){if(!this.isValid)return this;const n=Y0(this.normalize().shiftToAll().toObject());return nr(this,{values:n},!0)}shiftTo(...n){if(!this.isValid)return this;if(n.length===0)return this;n=n.map(f=>yt.normalizeUnit(f));const r={},s={},l=this.toObject();let c;for(const f of li)if(n.indexOf(f)>=0){c=f;let h=0;for(const y in s)h+=this.matrix[y][f]*s[y],s[y]=0;Br(l[f])&&(h+=l[f]);const p=Math.trunc(h);r[f]=p,s[f]=(h*1e3-p*1e3)/1e3}else Br(l[f])&&(s[f]=l[f]);for(const f in s)s[f]!==0&&(r[c]+=f===c?s[f]:s[f]/this.matrix[c][f]);return q0(this.matrix,r),nr(this,{values:r},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=this.values[r]===0?0:-this.values[r];return nr(this,{values:n},!0)}removeZeros(){if(!this.isValid)return this;const n=Y0(this.values);return nr(this,{values:n},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(n){if(!this.isValid||!n.isValid||!this.loc.equals(n.loc))return!1;function r(s,l){return s===void 0||s===0?l===void 0||l===0:s===l}for(const s of li)if(!r(this.values[s],n.values[s]))return!1;return!0}}const Xi="Invalid Interval";function yN(a,n){return!a||!a.isValid?Zt.invalid("missing or invalid start"):!n||!n.isValid?Zt.invalid("missing or invalid end"):n<a?Zt.invalid("end before start",`The end of an interval must be after its start, but you had start=${a.toISO()} and end=${n.toISO()}`):null}class Zt{constructor(n){this.s=n.start,this.e=n.end,this.invalid=n.invalid||null,this.isLuxonInterval=!0}static invalid(n,r=null){if(!n)throw new kn("need to specify a reason the Interval is invalid");const s=n instanceof xa?n:new xa(n,r);if(Pt.throwOnInvalid)throw new HT(s);return new Zt({invalid:s})}static fromDateTimes(n,r){const s=go(n),l=go(r),c=yN(s,l);return c??new Zt({start:s,end:l})}static after(n,r){const s=yt.fromDurationLike(r),l=go(n);return Zt.fromDateTimes(l,l.plus(s))}static before(n,r){const s=yt.fromDurationLike(r),l=go(n);return Zt.fromDateTimes(l.minus(s),l)}static fromISO(n,r){const[s,l]=(n||"").split("/",2);if(s&&l){let c,f;try{c=Xe.fromISO(s,r),f=c.isValid}catch{f=!1}let h,p;try{h=Xe.fromISO(l,r),p=h.isValid}catch{p=!1}if(f&&p)return Zt.fromDateTimes(c,h);if(f){const y=yt.fromISO(l,r);if(y.isValid)return Zt.after(c,y)}else if(p){const y=yt.fromISO(s,r);if(y.isValid)return Zt.before(h,y)}}return Zt.invalid("unparsable",`the input "${n}" can't be parsed as ISO 8601`)}static isInterval(n){return n&&n.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(n="milliseconds"){return this.isValid?this.toDuration(n).get(n):NaN}count(n="milliseconds",r){if(!this.isValid)return NaN;const s=this.start.startOf(n,r);let l;return r?.useLocaleWeeks?l=this.end.reconfigure({locale:s.locale}):l=this.end,l=l.startOf(n,r),Math.floor(l.diff(s,n).get(n))+(l.valueOf()!==this.end.valueOf())}hasSame(n){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,n):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(n){return this.isValid?this.s>n:!1}isBefore(n){return this.isValid?this.e<=n:!1}contains(n){return this.isValid?this.s<=n&&this.e>n:!1}set({start:n,end:r}={}){return this.isValid?Zt.fromDateTimes(n||this.s,r||this.e):this}splitAt(...n){if(!this.isValid)return[];const r=n.map(go).filter(f=>this.contains(f)).sort((f,h)=>f.toMillis()-h.toMillis()),s=[];let{s:l}=this,c=0;for(;l<this.e;){const f=r[c]||this.e,h=+f>+this.e?this.e:f;s.push(Zt.fromDateTimes(l,h)),l=h,c+=1}return s}splitBy(n){const r=yt.fromDurationLike(n);if(!this.isValid||!r.isValid||r.as("milliseconds")===0)return[];let{s}=this,l=1,c;const f=[];for(;s<this.e;){const h=this.start.plus(r.mapUnits(p=>p*l));c=+h>+this.e?this.e:h,f.push(Zt.fromDateTimes(s,c)),s=c,l+=1}return f}divideEqually(n){return this.isValid?this.splitBy(this.length()/n).slice(0,n):[]}overlaps(n){return this.e>n.s&&this.s<n.e}abutsStart(n){return this.isValid?+this.e==+n.s:!1}abutsEnd(n){return this.isValid?+n.e==+this.s:!1}engulfs(n){return this.isValid?this.s<=n.s&&this.e>=n.e:!1}equals(n){return!this.isValid||!n.isValid?!1:this.s.equals(n.s)&&this.e.equals(n.e)}intersection(n){if(!this.isValid)return this;const r=this.s>n.s?this.s:n.s,s=this.e<n.e?this.e:n.e;return r>=s?null:Zt.fromDateTimes(r,s)}union(n){if(!this.isValid)return this;const r=this.s<n.s?this.s:n.s,s=this.e>n.e?this.e:n.e;return Zt.fromDateTimes(r,s)}static merge(n){const[r,s]=n.sort((l,c)=>l.s-c.s).reduce(([l,c],f)=>c?c.overlaps(f)||c.abutsStart(f)?[l,c.union(f)]:[l.concat([c]),f]:[l,f],[[],null]);return s&&r.push(s),r}static xor(n){let r=null,s=0;const l=[],c=n.map(p=>[{time:p.s,type:"s"},{time:p.e,type:"e"}]),f=Array.prototype.concat(...c),h=f.sort((p,y)=>p.time-y.time);for(const p of h)s+=p.type==="s"?1:-1,s===1?r=p.time:(r&&+r!=+p.time&&l.push(Zt.fromDateTimes(r,p.time)),r=null);return Zt.merge(l)}difference(...n){return Zt.xor([this].concat(n)).map(r=>this.intersection(r)).filter(r=>r&&!r.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:Xi}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(n=jc,r={}){return this.isValid?Cn.create(this.s.loc.clone(r),n).formatInterval(this):Xi}toISO(n){return this.isValid?`${this.s.toISO(n)}/${this.e.toISO(n)}`:Xi}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Xi}toISOTime(n){return this.isValid?`${this.s.toISOTime(n)}/${this.e.toISOTime(n)}`:Xi}toFormat(n,{separator:r="  "}={}){return this.isValid?`${this.s.toFormat(n)}${r}${this.e.toFormat(n)}`:Xi}toDuration(n,r){return this.isValid?this.e.diff(this.s,n,r):yt.invalid(this.invalidReason)}mapEndpoints(n){return Zt.fromDateTimes(n(this.s),n(this.e))}}class So{static hasDST(n=Pt.defaultZone){const r=Xe.now().setZone(n).set({month:12});return!n.isUniversal&&r.offset!==r.set({month:6}).offset}static isValidIANAZone(n){return za.isValidZone(n)}static normalizeZone(n){return Rr(n,Pt.defaultZone)}static getStartOfWeek({locale:n=null,locObj:r=null}={}){return(r||Ct.create(n)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:n=null,locObj:r=null}={}){return(r||Ct.create(n)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:n=null,locObj:r=null}={}){return(r||Ct.create(n)).getWeekendDays().slice()}static months(n="long",{locale:r=null,numberingSystem:s=null,locObj:l=null,outputCalendar:c="gregory"}={}){return(l||Ct.create(r,s,c)).months(n)}static monthsFormat(n="long",{locale:r=null,numberingSystem:s=null,locObj:l=null,outputCalendar:c="gregory"}={}){return(l||Ct.create(r,s,c)).months(n,!0)}static weekdays(n="long",{locale:r=null,numberingSystem:s=null,locObj:l=null}={}){return(l||Ct.create(r,s,null)).weekdays(n)}static weekdaysFormat(n="long",{locale:r=null,numberingSystem:s=null,locObj:l=null}={}){return(l||Ct.create(r,s,null)).weekdays(n,!0)}static meridiems({locale:n=null}={}){return Ct.create(n).meridiems()}static eras(n="short",{locale:r=null}={}){return Ct.create(r,null,"gregory").eras(n)}static features(){return{relative:mw(),localeWeek:yw()}}}function G0(a,n){const r=l=>l.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),s=r(n)-r(a);return Math.floor(yt.fromMillis(s).as("days"))}function gN(a,n,r){const s=[["years",(p,y)=>y.year-p.year],["quarters",(p,y)=>y.quarter-p.quarter+(y.year-p.year)*4],["months",(p,y)=>y.month-p.month+(y.year-p.year)*12],["weeks",(p,y)=>{const b=G0(p,y);return(b-b%7)/7}],["days",G0]],l={},c=a;let f,h;for(const[p,y]of s)r.indexOf(p)>=0&&(f=p,l[p]=y(a,n),h=c.plus(l),h>n?(l[p]--,a=c.plus(l),a>n&&(h=a,l[p]--,a=c.plus(l))):a=h);return[a,l,h,f]}function vN(a,n,r,s){let[l,c,f,h]=gN(a,n,r);const p=n-l,y=r.filter(v=>["hours","minutes","seconds","milliseconds"].indexOf(v)>=0);y.length===0&&(f<n&&(f=l.plus({[h]:1})),f!==l&&(c[h]=(c[h]||0)+p/(f-l)));const b=yt.fromObject(c,s);return y.length>0?yt.fromMillis(p,s).shiftTo(...y).plus(b):b}const bN="missing Intl.DateTimeFormat.formatToParts support";function St(a,n=r=>r){return{regex:a,deser:([r])=>n(cO(r))}}const wN="",Rw=`[ ${wN}]`,zw=new RegExp(Rw,"g");function SN(a){return a.replace(/\./g,"\\.?").replace(zw,Rw)}function Z0(a){return a.replace(/\./g,"").replace(zw," ").toLowerCase()}function ba(a,n){return a===null?null:{regex:RegExp(a.map(SN).join("|")),deser:([r])=>a.findIndex(s=>Z0(r)===Z0(s))+n}}function P0(a,n){return{regex:a,deser:([,r,s])=>Yc(r,s),groups:n}}function lc(a){return{regex:a,deser:([n])=>n}}function xN(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function EN(a,n){const r=va(n),s=va(n,"{2}"),l=va(n,"{3}"),c=va(n,"{4}"),f=va(n,"{6}"),h=va(n,"{1,2}"),p=va(n,"{1,3}"),y=va(n,"{1,6}"),b=va(n,"{1,9}"),v=va(n,"{2,4}"),S=va(n,"{4,6}"),k=U=>({regex:RegExp(xN(U.val)),deser:([Q])=>Q,literal:!0}),Z=(U=>{if(a.literal)return k(U);switch(U.val){case"G":return ba(n.eras("short"),0);case"GG":return ba(n.eras("long"),0);case"y":return St(y);case"yy":return St(v,bh);case"yyyy":return St(c);case"yyyyy":return St(S);case"yyyyyy":return St(f);case"M":return St(h);case"MM":return St(s);case"MMM":return ba(n.months("short",!0),1);case"MMMM":return ba(n.months("long",!0),1);case"L":return St(h);case"LL":return St(s);case"LLL":return ba(n.months("short",!1),1);case"LLLL":return ba(n.months("long",!1),1);case"d":return St(h);case"dd":return St(s);case"o":return St(p);case"ooo":return St(l);case"HH":return St(s);case"H":return St(h);case"hh":return St(s);case"h":return St(h);case"mm":return St(s);case"m":return St(h);case"q":return St(h);case"qq":return St(s);case"s":return St(h);case"ss":return St(s);case"S":return St(p);case"SSS":return St(l);case"u":return lc(b);case"uu":return lc(h);case"uuu":return St(r);case"a":return ba(n.meridiems(),0);case"kkkk":return St(c);case"kk":return St(v,bh);case"W":return St(h);case"WW":return St(s);case"E":case"c":return St(r);case"EEE":return ba(n.weekdays("short",!1),1);case"EEEE":return ba(n.weekdays("long",!1),1);case"ccc":return ba(n.weekdays("short",!0),1);case"cccc":return ba(n.weekdays("long",!0),1);case"Z":case"ZZ":return P0(new RegExp(`([+-]${h.source})(?::(${s.source}))?`),2);case"ZZZ":return P0(new RegExp(`([+-]${h.source})(${s.source})?`),2);case"z":return lc(/[a-z_+-/]{1,256}?/i);case" ":return lc(/[^\S\n\r]/);default:return k(U)}})(a)||{invalidReason:bN};return Z.token=a,Z}const kN={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function CN(a,n,r){const{type:s,value:l}=a;if(s==="literal"){const p=/^\s+$/.test(l);return{literal:!p,val:p?" ":l}}const c=n[s];let f=s;s==="hour"&&(n.hour12!=null?f=n.hour12?"hour12":"hour24":n.hourCycle!=null?n.hourCycle==="h11"||n.hourCycle==="h12"?f="hour12":f="hour24":f=r.hour12?"hour12":"hour24");let h=kN[f];if(typeof h=="object"&&(h=h[c]),h)return{literal:!1,val:h}}function TN(a){return[`^${a.map(r=>r.regex).reduce((r,s)=>`${r}(${s.source})`,"")}$`,a]}function ON(a,n,r){const s=a.match(n);if(s){const l={};let c=1;for(const f in r)if(ls(r,f)){const h=r[f],p=h.groups?h.groups+1:1;!h.literal&&h.token&&(l[h.token.val[0]]=h.deser(s.slice(c,c+p))),c+=p}return[s,l]}else return[s,{}]}function NN(a){const n=c=>{switch(c){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let r=null,s;return Fe(a.z)||(r=za.create(a.z)),Fe(a.Z)||(r||(r=new Tn(a.Z)),s=a.Z),Fe(a.q)||(a.M=(a.q-1)*3+1),Fe(a.h)||(a.h<12&&a.a===1?a.h+=12:a.h===12&&a.a===0&&(a.h=0)),a.G===0&&a.y&&(a.y=-a.y),Fe(a.u)||(a.S=Xh(a.u)),[Object.keys(a).reduce((c,f)=>{const h=n(f);return h&&(c[h]=a[f]),c},{}),r,s]}let Md=null;function jN(){return Md||(Md=Xe.fromMillis(1555555555555)),Md}function AN(a,n){if(a.literal)return a;const r=Cn.macroTokenToFormatOpts(a.val),s=Iw(r,n);return s==null||s.includes(void 0)?a:s}function Lw(a,n){return Array.prototype.concat(...a.map(r=>AN(r,n)))}class Bw{constructor(n,r){if(this.locale=n,this.format=r,this.tokens=Lw(Cn.parseFormat(r),n),this.units=this.tokens.map(s=>EN(s,n)),this.disqualifyingUnit=this.units.find(s=>s.invalidReason),!this.disqualifyingUnit){const[s,l]=TN(this.units);this.regex=RegExp(s,"i"),this.handlers=l}}explainFromTokens(n){if(this.isValid){const[r,s]=ON(n,this.regex,this.handlers),[l,c,f]=s?NN(s):[null,null,void 0];if(ls(s,"a")&&ls(s,"H"))throw new Wi("Can't include meridiem when specifying 24-hour format");return{input:n,tokens:this.tokens,regex:this.regex,rawMatches:r,matches:s,result:l,zone:c,specificOffset:f}}else return{input:n,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function Uw(a,n,r){return new Bw(a,r).explainFromTokens(n)}function _N(a,n,r){const{result:s,zone:l,specificOffset:c,invalidReason:f}=Uw(a,n,r);return[s,l,c,f]}function Iw(a,n){if(!a)return null;const s=Cn.create(n,a).dtFormatter(jN()),l=s.formatToParts(),c=s.resolvedOptions();return l.map(f=>CN(f,a,c))}const Rd="Invalid DateTime",F0=864e13;function xo(a){return new xa("unsupported zone",`the zone "${a.name}" is not supported`)}function zd(a){return a.weekData===null&&(a.weekData=Ac(a.c)),a.weekData}function Ld(a){return a.localWeekData===null&&(a.localWeekData=Ac(a.c,a.loc.getMinDaysInFirstWeek(),a.loc.getStartOfWeek())),a.localWeekData}function ri(a,n){const r={ts:a.ts,zone:a.zone,c:a.c,o:a.o,loc:a.loc,invalid:a.invalid};return new Xe({...r,...n,old:r})}function $w(a,n,r){let s=a-n*60*1e3;const l=r.offset(s);if(n===l)return[s,n];s-=(l-n)*60*1e3;const c=r.offset(s);return l===c?[s,l]:[a-Math.min(l,c)*60*1e3,Math.max(l,c)]}function cc(a,n){a+=n*60*1e3;const r=new Date(a);return{year:r.getUTCFullYear(),month:r.getUTCMonth()+1,day:r.getUTCDate(),hour:r.getUTCHours(),minute:r.getUTCMinutes(),second:r.getUTCSeconds(),millisecond:r.getUTCMilliseconds()}}function wc(a,n,r){return $w(qc(a),n,r)}function X0(a,n){const r=a.o,s=a.c.year+Math.trunc(n.years),l=a.c.month+Math.trunc(n.months)+Math.trunc(n.quarters)*3,c={...a.c,year:s,month:l,day:Math.min(a.c.day,_c(s,l))+Math.trunc(n.days)+Math.trunc(n.weeks)*7},f=yt.fromObject({years:n.years-Math.trunc(n.years),quarters:n.quarters-Math.trunc(n.quarters),months:n.months-Math.trunc(n.months),weeks:n.weeks-Math.trunc(n.weeks),days:n.days-Math.trunc(n.days),hours:n.hours,minutes:n.minutes,seconds:n.seconds,milliseconds:n.milliseconds}).as("milliseconds"),h=qc(c);let[p,y]=$w(h,r,a.zone);return f!==0&&(p+=f,y=a.zone.offset(p)),{ts:p,o:y}}function Ki(a,n,r,s,l,c){const{setZone:f,zone:h}=r;if(a&&Object.keys(a).length!==0||n){const p=n||h,y=Xe.fromObject(a,{...r,zone:p,specificOffset:c});return f?y:y.setZone(h)}else return Xe.invalid(new xa("unparsable",`the input "${l}" can't be parsed as ${s}`))}function uc(a,n,r=!0){return a.isValid?Cn.create(Ct.create("en-US"),{allowZ:r,forceSimple:!0}).formatDateTimeFromString(a,n):null}function Bd(a,n,r){const s=a.c.year>9999||a.c.year<0;let l="";if(s&&a.c.year>=0&&(l+="+"),l+=ln(a.c.year,s?6:4),r==="year")return l;if(n){if(l+="-",l+=ln(a.c.month),r==="month")return l;l+="-"}else if(l+=ln(a.c.month),r==="month")return l;return l+=ln(a.c.day),l}function K0(a,n,r,s,l,c,f){let h=!r||a.c.millisecond!==0||a.c.second!==0,p="";switch(f){case"day":case"month":case"year":break;default:if(p+=ln(a.c.hour),f==="hour")break;if(n){if(p+=":",p+=ln(a.c.minute),f==="minute")break;h&&(p+=":",p+=ln(a.c.second))}else{if(p+=ln(a.c.minute),f==="minute")break;h&&(p+=ln(a.c.second))}if(f==="second")break;h&&(!s||a.c.millisecond!==0)&&(p+=".",p+=ln(a.c.millisecond,3))}return l&&(a.isOffsetFixed&&a.offset===0&&!c?p+="Z":a.o<0?(p+="-",p+=ln(Math.trunc(-a.o/60)),p+=":",p+=ln(Math.trunc(-a.o%60))):(p+="+",p+=ln(Math.trunc(a.o/60)),p+=":",p+=ln(Math.trunc(a.o%60)))),c&&(p+="["+a.zone.ianaName+"]"),p}const Hw={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},DN={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},MN={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Sc=["year","month","day","hour","minute","second","millisecond"],RN=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],zN=["year","ordinal","hour","minute","second","millisecond"];function xc(a){const n={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[a.toLowerCase()];if(!n)throw new $1(a);return n}function Q0(a){switch(a.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return xc(a)}}function LN(a){if(Eo===void 0&&(Eo=Pt.now()),a.type!=="iana")return a.offset(Eo);const n=a.name;let r=wh.get(n);return r===void 0&&(r=a.offset(Eo),wh.set(n,r)),r}function J0(a,n){const r=Rr(n.zone,Pt.defaultZone);if(!r.isValid)return Xe.invalid(xo(r));const s=Ct.fromObject(n);let l,c;if(Fe(a.year))l=Pt.now();else{for(const p of Sc)Fe(a[p])&&(a[p]=Hw[p]);const f=hw(a)||pw(a);if(f)return Xe.invalid(f);const h=LN(r);[l,c]=wc(a,h,r)}return new Xe({ts:l,zone:r,loc:s,o:c})}function W0(a,n,r){const s=Fe(r.round)?!0:r.round,l=Fe(r.rounding)?"trunc":r.rounding,c=(h,p)=>(h=Kh(h,s||r.calendary?0:2,r.calendary?"round":l),n.loc.clone(r).relFormatter(r).format(h,p)),f=h=>r.calendary?n.hasSame(a,h)?0:n.startOf(h).diff(a.startOf(h),h).get(h):n.diff(a,h).get(h);if(r.unit)return c(f(r.unit),r.unit);for(const h of r.units){const p=f(h);if(Math.abs(p)>=1)return c(p,h)}return c(a>n?-0:0,r.units[r.units.length-1])}function eb(a){let n={},r;return a.length>0&&typeof a[a.length-1]=="object"?(n=a[a.length-1],r=Array.from(a).slice(0,a.length-1)):r=Array.from(a),[n,r]}let Eo;const wh=new Map;class Xe{constructor(n){const r=n.zone||Pt.defaultZone;let s=n.invalid||(Number.isNaN(n.ts)?new xa("invalid input"):null)||(r.isValid?null:xo(r));this.ts=Fe(n.ts)?Pt.now():n.ts;let l=null,c=null;if(!s)if(n.old&&n.old.ts===this.ts&&n.old.zone.equals(r))[l,c]=[n.old.c,n.old.o];else{const h=Br(n.o)&&!n.old?n.o:r.offset(this.ts);l=cc(this.ts,h),s=Number.isNaN(l.year)?new xa("invalid input"):null,l=s?null:l,c=s?null:h}this._zone=r,this.loc=n.loc||Ct.create(),this.invalid=s,this.weekData=null,this.localWeekData=null,this.c=l,this.o=c,this.isLuxonDateTime=!0}static now(){return new Xe({})}static local(){const[n,r]=eb(arguments),[s,l,c,f,h,p,y]=r;return J0({year:s,month:l,day:c,hour:f,minute:h,second:p,millisecond:y},n)}static utc(){const[n,r]=eb(arguments),[s,l,c,f,h,p,y]=r;return n.zone=Tn.utcInstance,J0({year:s,month:l,day:c,hour:f,minute:h,second:p,millisecond:y},n)}static fromJSDate(n,r={}){const s=pO(n)?n.valueOf():NaN;if(Number.isNaN(s))return Xe.invalid("invalid input");const l=Rr(r.zone,Pt.defaultZone);return l.isValid?new Xe({ts:s,zone:l,loc:Ct.fromObject(r)}):Xe.invalid(xo(l))}static fromMillis(n,r={}){if(Br(n))return n<-F0||n>F0?Xe.invalid("Timestamp out of range"):new Xe({ts:n,zone:Rr(r.zone,Pt.defaultZone),loc:Ct.fromObject(r)});throw new kn(`fromMillis requires a numerical input, but received a ${typeof n} with value ${n}`)}static fromSeconds(n,r={}){if(Br(n))return new Xe({ts:n*1e3,zone:Rr(r.zone,Pt.defaultZone),loc:Ct.fromObject(r)});throw new kn("fromSeconds requires a numerical input")}static fromObject(n,r={}){n=n||{};const s=Rr(r.zone,Pt.defaultZone);if(!s.isValid)return Xe.invalid(xo(s));const l=Ct.fromObject(r),c=Dc(n,Q0),{minDaysInFirstWeek:f,startOfWeek:h}=B0(c,l),p=Pt.now(),y=Fe(r.specificOffset)?s.offset(p):r.specificOffset,b=!Fe(c.ordinal),v=!Fe(c.year),S=!Fe(c.month)||!Fe(c.day),k=v||S,N=c.weekYear||c.weekNumber;if((k||b)&&N)throw new Wi("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(S&&b)throw new Wi("Can't mix ordinal dates with month/day");const Z=N||c.weekday&&!k;let U,Q,X=cc(p,y);Z?(U=RN,Q=DN,X=Ac(X,f,h)):b?(U=zN,Q=MN,X=Dd(X)):(U=Sc,Q=Hw);let V=!1;for(const G of U){const fe=c[G];Fe(fe)?V?c[G]=Q[G]:c[G]=X[G]:V=!0}const P=Z?fO(c,f,h):b?dO(c):hw(c),de=P||pw(c);if(de)return Xe.invalid(de);const le=Z?z0(c,f,h):b?L0(c):c,[I,oe]=wc(le,y,s),ee=new Xe({ts:I,zone:s,o:oe,loc:l});return c.weekday&&k&&n.weekday!==ee.weekday?Xe.invalid("mismatched weekday",`you can't specify both a weekday of ${c.weekday} and a date of ${ee.toISO()}`):ee.isValid?ee:Xe.invalid(ee.invalid)}static fromISO(n,r={}){const[s,l]=aN(n);return Ki(s,l,r,"ISO 8601",n)}static fromRFC2822(n,r={}){const[s,l]=rN(n);return Ki(s,l,r,"RFC 2822",n)}static fromHTTP(n,r={}){const[s,l]=iN(n);return Ki(s,l,r,"HTTP",r)}static fromFormat(n,r,s={}){if(Fe(n)||Fe(r))throw new kn("fromFormat requires an input string and a format");const{locale:l=null,numberingSystem:c=null}=s,f=Ct.fromOpts({locale:l,numberingSystem:c,defaultToEN:!0}),[h,p,y,b]=_N(f,n,r);return b?Xe.invalid(b):Ki(h,p,s,`format ${r}`,n,y)}static fromString(n,r,s={}){return Xe.fromFormat(n,r,s)}static fromSQL(n,r={}){const[s,l]=dN(n);return Ki(s,l,r,"SQL",n)}static invalid(n,r=null){if(!n)throw new kn("need to specify a reason the DateTime is invalid");const s=n instanceof xa?n:new xa(n,r);if(Pt.throwOnInvalid)throw new $T(s);return new Xe({invalid:s})}static isDateTime(n){return n&&n.isLuxonDateTime||!1}static parseFormatForOpts(n,r={}){const s=Iw(n,Ct.fromObject(r));return s?s.map(l=>l?l.val:null).join(""):null}static expandFormat(n,r={}){return Lw(Cn.parseFormat(n),Ct.fromObject(r)).map(l=>l.val).join("")}static resetCache(){Eo=void 0,wh.clear()}get(n){return this[n]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?zd(this).weekYear:NaN}get weekNumber(){return this.isValid?zd(this).weekNumber:NaN}get weekday(){return this.isValid?zd(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Ld(this).weekday:NaN}get localWeekNumber(){return this.isValid?Ld(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Ld(this).weekYear:NaN}get ordinal(){return this.isValid?Dd(this.c).ordinal:NaN}get monthShort(){return this.isValid?So.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?So.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?So.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?So.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const n=864e5,r=6e4,s=qc(this.c),l=this.zone.offset(s-n),c=this.zone.offset(s+n),f=this.zone.offset(s-l*r),h=this.zone.offset(s-c*r);if(f===h)return[this];const p=s-f*r,y=s-h*r,b=cc(p,f),v=cc(y,h);return b.hour===v.hour&&b.minute===v.minute&&b.second===v.second&&b.millisecond===v.millisecond?[ri(this,{ts:p}),ri(this,{ts:y})]:[this]}get isInLeapYear(){return zo(this.year)}get daysInMonth(){return _c(this.year,this.month)}get daysInYear(){return this.isValid?ts(this.year):NaN}get weeksInWeekYear(){return this.isValid?_o(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?_o(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(n={}){const{locale:r,numberingSystem:s,calendar:l}=Cn.create(this.loc.clone(n),n).resolvedOptions(this);return{locale:r,numberingSystem:s,outputCalendar:l}}toUTC(n=0,r={}){return this.setZone(Tn.instance(n),r)}toLocal(){return this.setZone(Pt.defaultZone)}setZone(n,{keepLocalTime:r=!1,keepCalendarTime:s=!1}={}){if(n=Rr(n,Pt.defaultZone),n.equals(this.zone))return this;if(n.isValid){let l=this.ts;if(r||s){const c=n.offset(this.ts),f=this.toObject();[l]=wc(f,c,n)}return ri(this,{ts:l,zone:n})}else return Xe.invalid(xo(n))}reconfigure({locale:n,numberingSystem:r,outputCalendar:s}={}){const l=this.loc.clone({locale:n,numberingSystem:r,outputCalendar:s});return ri(this,{loc:l})}setLocale(n){return this.reconfigure({locale:n})}set(n){if(!this.isValid)return this;const r=Dc(n,Q0),{minDaysInFirstWeek:s,startOfWeek:l}=B0(r,this.loc),c=!Fe(r.weekYear)||!Fe(r.weekNumber)||!Fe(r.weekday),f=!Fe(r.ordinal),h=!Fe(r.year),p=!Fe(r.month)||!Fe(r.day),y=h||p,b=r.weekYear||r.weekNumber;if((y||f)&&b)throw new Wi("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(p&&f)throw new Wi("Can't mix ordinal dates with month/day");let v;c?v=z0({...Ac(this.c,s,l),...r},s,l):Fe(r.ordinal)?(v={...this.toObject(),...r},Fe(r.day)&&(v.day=Math.min(_c(v.year,v.month),v.day))):v=L0({...Dd(this.c),...r});const[S,k]=wc(v,this.o,this.zone);return ri(this,{ts:S,o:k})}plus(n){if(!this.isValid)return this;const r=yt.fromDurationLike(n);return ri(this,X0(this,r))}minus(n){if(!this.isValid)return this;const r=yt.fromDurationLike(n).negate();return ri(this,X0(this,r))}startOf(n,{useLocaleWeeks:r=!1}={}){if(!this.isValid)return this;const s={},l=yt.normalizeUnit(n);switch(l){case"years":s.month=1;case"quarters":case"months":s.day=1;case"weeks":case"days":s.hour=0;case"hours":s.minute=0;case"minutes":s.second=0;case"seconds":s.millisecond=0;break}if(l==="weeks")if(r){const c=this.loc.getStartOfWeek(),{weekday:f}=this;f<c&&(s.weekNumber=this.weekNumber-1),s.weekday=c}else s.weekday=1;if(l==="quarters"){const c=Math.ceil(this.month/3);s.month=(c-1)*3+1}return this.set(s)}endOf(n,r){return this.isValid?this.plus({[n]:1}).startOf(n,r).minus(1):this}toFormat(n,r={}){return this.isValid?Cn.create(this.loc.redefaultToEN(r)).formatDateTimeFromString(this,n):Rd}toLocaleString(n=jc,r={}){return this.isValid?Cn.create(this.loc.clone(r),n).formatDateTime(this):Rd}toLocaleParts(n={}){return this.isValid?Cn.create(this.loc.clone(n),n).formatDateTimeParts(this):[]}toISO({format:n="extended",suppressSeconds:r=!1,suppressMilliseconds:s=!1,includeOffset:l=!0,extendedZone:c=!1,precision:f="milliseconds"}={}){if(!this.isValid)return null;f=xc(f);const h=n==="extended";let p=Bd(this,h,f);return Sc.indexOf(f)>=3&&(p+="T"),p+=K0(this,h,r,s,l,c,f),p}toISODate({format:n="extended",precision:r="day"}={}){return this.isValid?Bd(this,n==="extended",xc(r)):null}toISOWeekDate(){return uc(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:n=!1,suppressSeconds:r=!1,includeOffset:s=!0,includePrefix:l=!1,extendedZone:c=!1,format:f="extended",precision:h="milliseconds"}={}){return this.isValid?(h=xc(h),(l&&Sc.indexOf(h)>=3?"T":"")+K0(this,f==="extended",r,n,s,c,h)):null}toRFC2822(){return uc(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return uc(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Bd(this,!0):null}toSQLTime({includeOffset:n=!0,includeZone:r=!1,includeOffsetSpace:s=!0}={}){let l="HH:mm:ss.SSS";return(r||n)&&(s&&(l+=" "),r?l+="z":n&&(l+="ZZ")),uc(this,l,!0)}toSQL(n={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(n)}`:null}toString(){return this.isValid?this.toISO():Rd}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(n={}){if(!this.isValid)return{};const r={...this.c};return n.includeConfig&&(r.outputCalendar=this.outputCalendar,r.numberingSystem=this.loc.numberingSystem,r.locale=this.loc.locale),r}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(n,r="milliseconds",s={}){if(!this.isValid||!n.isValid)return yt.invalid("created by diffing an invalid DateTime");const l={locale:this.locale,numberingSystem:this.numberingSystem,...s},c=mO(r).map(yt.normalizeUnit),f=n.valueOf()>this.valueOf(),h=f?this:n,p=f?n:this,y=vN(h,p,c,l);return f?y.negate():y}diffNow(n="milliseconds",r={}){return this.diff(Xe.now(),n,r)}until(n){return this.isValid?Zt.fromDateTimes(this,n):this}hasSame(n,r,s){if(!this.isValid)return!1;const l=n.valueOf(),c=this.setZone(n.zone,{keepLocalTime:!0});return c.startOf(r,s)<=l&&l<=c.endOf(r,s)}equals(n){return this.isValid&&n.isValid&&this.valueOf()===n.valueOf()&&this.zone.equals(n.zone)&&this.loc.equals(n.loc)}toRelative(n={}){if(!this.isValid)return null;const r=n.base||Xe.fromObject({},{zone:this.zone}),s=n.padding?this<r?-n.padding:n.padding:0;let l=["years","months","days","hours","minutes","seconds"],c=n.unit;return Array.isArray(n.unit)&&(l=n.unit,c=void 0),W0(r,this.plus(s),{...n,numeric:"always",units:l,unit:c})}toRelativeCalendar(n={}){return this.isValid?W0(n.base||Xe.fromObject({},{zone:this.zone}),this,{...n,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...n){if(!n.every(Xe.isDateTime))throw new kn("min requires all arguments be DateTimes");return U0(n,r=>r.valueOf(),Math.min)}static max(...n){if(!n.every(Xe.isDateTime))throw new kn("max requires all arguments be DateTimes");return U0(n,r=>r.valueOf(),Math.max)}static fromFormatExplain(n,r,s={}){const{locale:l=null,numberingSystem:c=null}=s,f=Ct.fromOpts({locale:l,numberingSystem:c,defaultToEN:!0});return Uw(f,n,r)}static fromStringExplain(n,r,s={}){return Xe.fromFormatExplain(n,r,s)}static buildFormatParser(n,r={}){const{locale:s=null,numberingSystem:l=null}=r,c=Ct.fromOpts({locale:s,numberingSystem:l,defaultToEN:!0});return new Bw(c,n)}static fromFormatParser(n,r,s={}){if(Fe(n)||Fe(r))throw new kn("fromFormatParser requires an input string and a format parser");const{locale:l=null,numberingSystem:c=null}=s,f=Ct.fromOpts({locale:l,numberingSystem:c,defaultToEN:!0});if(!f.equals(r.locale))throw new kn(`fromFormatParser called with a locale of ${f}, but the format parser was created for ${r.locale}`);const{result:h,zone:p,specificOffset:y,invalidReason:b}=r.explainFromTokens(n);return b?Xe.invalid(b):Ki(h,p,s,`format ${r.format}`,n,y)}static get DATE_SHORT(){return jc}static get DATE_MED(){return H1}static get DATE_MED_WITH_WEEKDAY(){return qT}static get DATE_FULL(){return V1}static get DATE_HUGE(){return q1}static get TIME_SIMPLE(){return Y1}static get TIME_WITH_SECONDS(){return G1}static get TIME_WITH_SHORT_OFFSET(){return Z1}static get TIME_WITH_LONG_OFFSET(){return P1}static get TIME_24_SIMPLE(){return F1}static get TIME_24_WITH_SECONDS(){return X1}static get TIME_24_WITH_SHORT_OFFSET(){return K1}static get TIME_24_WITH_LONG_OFFSET(){return Q1}static get DATETIME_SHORT(){return J1}static get DATETIME_SHORT_WITH_SECONDS(){return W1}static get DATETIME_MED(){return ew}static get DATETIME_MED_WITH_SECONDS(){return tw}static get DATETIME_MED_WITH_WEEKDAY(){return YT}static get DATETIME_FULL(){return nw}static get DATETIME_FULL_WITH_SECONDS(){return aw}static get DATETIME_HUGE(){return rw}static get DATETIME_HUGE_WITH_SECONDS(){return iw}}function go(a){if(Xe.isDateTime(a))return a;if(a&&a.valueOf&&Br(a.valueOf()))return Xe.fromJSDate(a);if(a&&typeof a=="object")return Xe.fromObject(a);throw new kn(`Unknown datetime argument: ${a}, of type ${typeof a}`)}const BN="3.7.2",UN=Object.freeze(Object.defineProperty({__proto__:null,DateTime:Xe,Duration:yt,FixedOffsetZone:Tn,IANAZone:za,Info:So,Interval:Zt,InvalidZone:lw,Settings:Pt,SystemZone:Ro,VERSION:BN,Zone:hs},Symbol.toStringTag,{value:"Module"}));window.Rete=_E;window.React=nE;window.RefComponent=Uh;window.luxon=UN;window.nodeRegistry=En;window.sockets=k1;window.socket=be;window.apiUrl=Sa;window.getApiBase=Ic;window.apiFetch=async function(a,n={}){const r=Sa(a);return fetch(r,n)};let fi={isLoading:!1,progress:0,status:"Ready",loadedCount:0,totalCount:0,failedPlugins:[],error:null};const Sh=new Set;function Vw(a){return Sh.add(a),a({...fi}),()=>Sh.delete(a)}function ii(a){fi={...fi,...a},Sh.forEach(n=>n({...fi}))}function IN(){return{...fi}}async function $N(){ii({isLoading:!0,progress:0,status:"Fetching plugin list...",error:null,failedPlugins:[]});try{const a=await fetch(Sa("/api/plugins"));if(!a.ok)throw new Error("Failed to fetch plugin list");const n=await a.json(),r=n.length;ii({totalCount:r,status:`Loading ${r} plugins...`});let s=0;for(const c of n){const f=c.split("/").pop().replace(".js","");ii({status:`Loading ${f}...`});try{await HN(Sa(c)),s++,ii({loadedCount:s,progress:Math.round(s/r*100)})}catch(h){console.error(`[PluginLoader] Failed to load ${c}`,h),fi.failedPlugins.push({name:f,error:h.message})}}ii({status:"Loading unified nodes..."});try{const{loadUnifiedPlugins:c}=await $d(async()=>{const{loadUnifiedPlugins:h}=await import("./UnifiedNodeLoader-uLwRhk70.js");return{loadUnifiedPlugins:h}},[],import.meta.url),f=await c();f.length>0&&(console.log(`[PluginLoader] Loaded ${f.length} unified nodes:`,f),s+=f.length)}catch(c){console.warn("[PluginLoader] Unified plugins not available:",c.message)}const l=fi.failedPlugins.length;ii({isLoading:!1,progress:100,status:l>0?`Loaded ${s} plugins (${l} failed)`:`Loaded ${s} plugins`})}catch(a){console.error("[PluginLoader] Error loading plugins:",a),ii({isLoading:!1,error:a.message,status:"Failed to load plugins"})}}function HN(a){return new Promise((n,r)=>{const s=document.createElement("script");s.src=a,s.onload=n,s.onerror=r,document.body.appendChild(s)})}const qw=E.createContext(null),tb={success:{icon:"",className:"toast-success"},error:{icon:"",className:"toast-error"},warning:{icon:"",className:"toast-warning"},info:{icon:"",className:"toast-info"}};function VN({id:a,type:n,message:r,duration:s,onRemove:l,action:c,actionLabel:f}){const[h,p]=E.useState(!1),y=tb[n]||tb.info;E.useEffect(()=>{if(s>0){const S=setTimeout(()=>{p(!0),setTimeout(()=>l(a),300)},s);return()=>clearTimeout(S)}},[a,s,l]);const b=()=>{p(!0),setTimeout(()=>l(a),300)},v=()=>{c&&c(),b()};return m.jsxs("div",{className:`toast ${y.className} ${h?"toast-exit":""}`,children:[m.jsx("span",{className:"toast-icon",children:y.icon}),m.jsx("span",{className:"toast-message",children:r}),c&&f&&m.jsx("button",{className:"toast-action",onClick:v,children:f}),m.jsx("button",{className:"toast-close",onClick:b,children:""})]})}function qN({children:a}){const[n,r]=E.useState([]);let s=0;const l=E.useCallback((h,p,y={})=>{const b=++s,v=typeof y=="number"?y:y.duration??4e3,S=typeof y=="object"?y.action:null,k=typeof y=="object"?y.actionLabel:null;return r(N=>[...N,{id:b,type:h,message:p,duration:v,action:S,actionLabel:k}]),b},[]),c=E.useCallback(h=>{r(p=>p.filter(y=>y.id!==h))},[]),f={success:(h,p)=>l("success",h,p),error:(h,p)=>l("error",h,typeof p=="number"?p:{duration:6e3,...p}),warning:(h,p)=>l("warning",h,p),info:(h,p)=>l("info",h,p),dismiss:c,dismissAll:()=>r([])};return m.jsxs(qw.Provider,{value:f,children:[a,m.jsx("div",{className:"toast-container",children:n.map(h=>m.jsx(VN,{id:h.id,type:h.type,message:h.message,duration:h.duration,onRemove:c,action:h.action,actionLabel:h.actionLabel},h.id))})]})}function ep(){const a=E.useContext(qw);return a||{success:()=>{},error:()=>{},warning:()=>{},info:()=>{},dismiss:()=>{},dismissAll:()=>{}}}function YN(){const a=ep();return E.useEffect(()=>(typeof window<"u"&&(window.T2Toast=a),()=>{typeof window<"u"&&(window.T2Toast=null)}),[a]),null}typeof window<"u"&&(window.T2Toast=null);const GN=window.location.pathname.includes("/api/hassio/ingress/");function ZN({onSave:a,onLoad:n,onLoadExample:r,onClear:s,onExport:l,onImport:c,hasUnsavedChanges:f,isMerged:h=!1,onToggleMerged:p}){const[y,b]=E.useState(!1),[v,S]=E.useState(!1),[k,N]=E.useState(!1),[Z,U]=E.useState([]),[Q,X]=E.useState(!1),[V,P]=E.useState(!1),[de,le]=E.useState(!1),[I,oe]=E.useState(null),ee=ep(),[G,fe]=E.useState(()=>{const J=localStorage.getItem("dock-position");return J?JSON.parse(J):{x:20,y:20}}),[je,De]=E.useState(!1),[Ye,Pe]=E.useState({x:0,y:0}),[C,H]=E.useState(!0),[ce,we]=E.useState(!0),[xe,x]=E.useState(!1),[R,A]=E.useState(new Date),[$,pe]=E.useState({backend:be.connected,ha:{connected:!1,wsConnected:!1,deviceCount:0},hue:{connected:!1,deviceCount:0},kasa:{connected:!1,deviceCount:0}}),[Oe,Ve]=E.useState({loaded:0,failed:0,total:0}),[it,Je]=E.useState({running:!1,nodeCount:0,tickCount:0,registeredNodeTypes:0});let Wt;const Yt=E.useRef(null),qe=E.useRef(null);E.useEffect(()=>{(async()=>{try{const ae=await fetch("/api/version");if(ae.ok){const ve=await ae.json();oe(ve.version)}}catch{}})()},[]),E.useEffect(()=>{Wt=Vw(ae=>{let ve=0,Ue=ae.totalCount||0;window.nodeRegistry&&typeof window.nodeRegistry.getAll=="function"?(ve=window.nodeRegistry.getAll().length,(!Ue||ve>Ue)&&(Ue=ve)):ve=ae.loadedCount,Ve({loaded:ve,failed:ae.failedPlugins?.length||0,total:Ue})});const J=ae=>{ae.target.tagName==="INPUT"||ae.target.tagName==="TEXTAREA"||ae.target.isContentEditable||(ae.key==="?"||ae.shiftKey&&ae.code==="Slash")&&(ae.preventDefault(),S(!0))};return window.addEventListener("keydown",J),()=>window.removeEventListener("keydown",J)},[]),E.useEffect(()=>{const J=()=>{pe(ze=>({...ze,backend:!0})),be.emit("request-hue-status")},ae=()=>pe(ze=>({...ze,backend:!1})),ve=ze=>pe(We=>({...We,ha:{connected:ze.connected,wsConnected:ze.wsConnected,deviceCount:ze.deviceCount||0}})),Ue=ze=>{ze.hue&&pe(We=>({...We,hue:ze.hue})),ze.kasa&&pe(We=>({...We,kasa:ze.kasa}))},$e=ze=>{pe(We=>({...We,hue:{connected:ze.connected,deviceCount:ze.deviceCount||0,bridgeIp:ze.bridgeIp||null}}))};be.on("connect",J),be.on("disconnect",ae),be.on("ha-connection-status",ve),be.on("device-counts",Ue),be.on("hue-connection-status",$e);const bt=ze=>Je(ze),Me=ze=>Je(We=>({...We,...ze,running:!0})),et=ze=>Je(We=>({...We,...ze,running:!1}));be.on("engine-status",bt),be.on("engine-started",Me),be.on("engine-stopped",et),pe(ze=>({...ze,backend:be.connected})),be.connected&&(be.emit("request-hue-status"),be.emit("request-engine-status"));const st=IN();let Vt=0,xt=st.totalCount||0;return window.nodeRegistry&&typeof window.nodeRegistry.getAll=="function"?(Vt=window.nodeRegistry.getAll().length,(!xt||Vt>xt)&&(xt=Vt)):Vt=st.loadedCount,Ve({loaded:Vt,failed:st.failedPlugins?.length||0,total:xt}),()=>{be.off("connect",J),be.off("disconnect",ae),be.off("ha-connection-status",ve),be.off("device-counts",Ue),be.off("hue-connection-status",$e),be.off("engine-status",bt),be.off("engine-started",Me),be.off("engine-stopped",et),Wt&&Wt()}},[]),E.useEffect(()=>{const J=setInterval(()=>{A(new Date)},1e3);return()=>clearInterval(J)},[]);const jt=()=>{const J={weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"};return R.toLocaleDateString("en-US",J)};E.useEffect(()=>{localStorage.setItem("dock-position",JSON.stringify(G))},[G]);const q=J=>{h||J.target.closest(".dock-header")&&(De(!0),Pe({x:J.clientX-G.x,y:J.clientY-G.y}))},se=J=>{je&&fe({x:J.clientX-Ye.x,y:J.clientY-Ye.y})},te=()=>{De(!1)};E.useEffect(()=>{if(je)return window.addEventListener("mousemove",se),window.addEventListener("mouseup",te),()=>{window.removeEventListener("mousemove",se),window.removeEventListener("mouseup",te)}},[je,Ye]);const _e=()=>{qe.current?.click()},me=J=>{const ae=J.target.files?.[0];if(ae){const ve=new FileReader;ve.onload=Ue=>{try{const $e=JSON.parse(Ue.target.result);c($e)}catch($e){console.error("Failed to parse JSON:",$e),alert("Invalid JSON file")}},ve.readAsText(ae)}J.target.value=""},ie=async()=>{N(!0),X(!0);try{const J=await Qn("/api/engine/graphs");if(J.ok){const ae=await J.json();U(ae.graphs||[])}else ee.error("Failed to load graphs list"),U([])}catch(J){console.error("Failed to fetch server graphs:",J),ee.error("Failed to connect to server"),U([])}finally{X(!1)}},D=async J=>{try{const ae=await Qn(`/api/engine/graphs/${encodeURIComponent(J)}`);if(ae.ok){const ve=await ae.json();ve.graph&&(c(ve.graph),N(!1),ee.success(`Loaded: ${J.replace(".json","")}`))}else ee.error("Failed to load graph")}catch(ae){console.error("Failed to load graph:",ae),ee.error("Failed to load graph")}},K=async()=>{if(!V){P(!0);try{const J=await Qn("/api/update/check?force=true");if(!J.ok){const ve=await J.text();throw new Error(ve||`HTTP ${J.status}`)}const ae=await J.json();if(ae.isAddon){ee.info(" Add-on updates are available through Home Assistant  Settings  Add-ons  T2AutoTron",{duration:6e3});return}ae.hasUpdate?ee.info(` Update available: ${ae.currentVersion}  ${ae.newVersion}`,{duration:0,actionLabel:"View Details",action:()=>{be.emit("request-show-update-modal",ae),window.dispatchEvent(new CustomEvent("showUpdateModal",{detail:ae}))}}):ee.success(` You're up to date! (v${ae.currentVersion})`,4e3)}catch(J){console.error("Failed to check for updates:",J),ee.error("Failed to check for updates: "+J.message,5e3)}finally{P(!1)}}},Ee=async()=>{if(!de){le(!0);try{const J=await Qn("/api/update/plugins/check");if(!J.ok)throw new Error(`HTTP ${J.status}`);const ae=await J.json();if(!ae.hasUpdates){ee.success(" Plugins are up to date!",3e3);return}const ve=(ae.newPlugins?.length||0)+(ae.modifiedPlugins?.length||0);ee.info(` ${ve} plugin update(s) available. Downloading...`,3e3);const Ue=await Qn("/api/update/plugins",{method:"POST"});if(!Ue.ok)throw new Error(`HTTP ${Ue.status}`);const $e=await Ue.json();$e.success&&$e.updated?.length>0?ee.success(` Updated ${$e.updated.length} plugin(s). Refresh page to load them.`,{duration:0,actionLabel:"Refresh Now",action:()=>window.location.reload()}):$e.updated?.length===0?ee.info("No plugins needed updating",3e3):ee.error("Plugin update failed: "+($e.error||"Unknown error"),5e3)}catch(J){console.error("Failed to update plugins:",J),ee.error("Failed to update plugins: "+J.message,5e3)}finally{le(!1)}}};return m.jsxs("div",{ref:Yt,className:`dock-container ${h?"dock-merged":""}`,style:{...h?{cursor:"default"}:{left:`${G.x}px`,top:`${G.y}px`,cursor:je?"grabbing":"default"}},onMouseDown:q,children:[m.jsxs("div",{className:"dock-header",style:{cursor:h?"default":"grab"},children:[m.jsxs("div",{className:"dock-header-row",children:[m.jsx("span",{className:"dock-title",children:" Control Panel"}),m.jsx("button",{type:"button",className:"dock-btn-small",onClick:J=>{J.stopPropagation(),p?.()},onMouseDown:J=>J.stopPropagation(),title:h?"Pop Control Panel back out":"Merge Control Panel into the Forecast panel",children:h?"Pop out":"Merge"})]}),m.jsx("span",{className:"dock-datetime",children:jt()})]}),m.jsxs("div",{className:"dock-section",children:[m.jsx("div",{className:"dock-section-header",onClick:()=>H(!C),children:m.jsxs("span",{children:[C?"":""," Graph Tools ",f&&m.jsx("span",{className:"unsaved-dot",title:"Unsaved changes",children:""})]})}),C&&m.jsxs("div",{className:"dock-section-content",children:[m.jsxs("button",{onClick:a,className:`dock-btn ${f?"dock-btn-unsaved":""}`,children:[" Save ",f&&"*"]}),m.jsx("button",{onClick:n,className:"dock-btn",children:" Load Last"}),m.jsx("button",{onClick:ie,className:"dock-btn",title:"Load a saved graph from the server",children:" Saved Graphs"}),m.jsx("button",{onClick:r,className:"dock-btn",title:"Load a starter graph to see how things work",children:" Load Example"}),m.jsx("button",{onClick:_e,className:"dock-btn",children:" Import File"}),m.jsx("button",{onClick:s,className:"dock-btn",children:" Clear"}),m.jsx("button",{onClick:()=>be.emit(it.running?"stop-engine":"start-engine"),className:`dock-btn ${it.running?"dock-btn-active":""}`,title:it.running?"Stop backend engine":"Start backend engine (runs automations 24/7)",children:it.running?" Stop Engine":" Start Engine"}),m.jsx("input",{ref:qe,type:"file",accept:".json",style:{display:"none"},onChange:me})]})]}),m.jsxs("div",{className:"dock-section",children:[m.jsx("div",{className:"dock-section-header",onClick:()=>we(!ce),children:m.jsxs("span",{children:[ce?"":""," Connection Status"]})}),ce&&m.jsxs("div",{className:"dock-section-content dock-status-grid",children:[m.jsxs("div",{className:`dock-status-item ${$.backend?"connected":"disconnected"}`,children:[m.jsx("span",{className:"dock-status-dot"}),m.jsx("span",{className:"dock-status-label",children:"Backend"}),m.jsx("span",{className:"dock-status-value",children:$.backend?"Connected":"Offline"})]}),m.jsxs("div",{className:`dock-status-item ${$.ha.connected?"connected":"disconnected"}`,children:[m.jsx("span",{className:"dock-status-dot"}),m.jsx("span",{className:"dock-status-label",children:"Home Assistant"}),m.jsx("span",{className:"dock-status-value",children:$.ha.connected?`${$.ha.deviceCount} devices`:"Offline"})]}),m.jsxs("div",{className:`dock-status-item ${$.hue.connected?"connected":"disconnected"}`,children:[m.jsx("span",{className:"dock-status-dot"}),m.jsx("span",{className:"dock-status-label",children:"Philips Hue"}),m.jsx("span",{className:"dock-status-value",children:$.hue.connected?`${$.hue.deviceCount||0} lights${$.hue.bridgeIp?` (${$.hue.bridgeIp})`:""}`:"Offline"})]}),$.kasa.deviceCount>0&&m.jsxs("div",{className:`dock-status-item ${$.kasa.connected?"connected":"disconnected"}`,children:[m.jsx("span",{className:"dock-status-dot"}),m.jsx("span",{className:"dock-status-label",children:"Kasa"}),m.jsxs("span",{className:"dock-status-value",children:[$.kasa.deviceCount," devices"]})]}),m.jsxs("div",{className:"dock-status-item plugins",children:[m.jsx("span",{className:"dock-status-dot",style:{background:Oe.failed>0?"#f59e0b":"#10b981"}}),m.jsx("span",{className:"dock-status-label",children:"Plugins"}),m.jsx("span",{className:"dock-status-value",children:Oe.total>0?`${Oe.loaded} / ${Oe.total} loaded${Oe.failed>0?` (${Oe.failed} failed)`:""}`:`${Oe.loaded} loaded`})]}),m.jsxs("div",{className:`dock-status-item ${it.running?"connected":"disconnected"}`,children:[m.jsx("span",{className:"dock-status-dot",style:{background:it.running?"#10b981":"#6b7280"}}),m.jsx("span",{className:"dock-status-label",children:"Engine"}),m.jsx("span",{className:"dock-status-value",children:it.running?`Running (${it.nodeCount} nodes)`:"Stopped"})]})]})]}),m.jsx(HC,{isExpanded:xe,onToggle:()=>x(!xe)}),m.jsxs("div",{className:"dock-section",children:[m.jsxs("div",{className:"dock-section-content",children:[m.jsx("button",{onClick:()=>b(!0),className:"dock-btn dock-btn-settings",children:" Settings & API Keys"}),m.jsx("button",{onClick:()=>S(!0),className:"dock-btn dock-btn-help",children:" Keyboard Shortcuts"}),GN?m.jsx("button",{onClick:()=>ee.info(" Add-on updates are available through Home Assistant  Settings  Add-ons  T2AutoTron  Update",{duration:8e3}),className:"dock-btn dock-btn-update",title:"Updates are managed by Home Assistant Supervisor",children:" Update via HA"}):m.jsx("button",{onClick:K,disabled:V,className:"dock-btn dock-btn-update",title:"Check for available updates (full rebuild)",children:V?" Checking...":" Check for Updates"}),m.jsx("button",{onClick:Ee,disabled:de,className:"dock-btn dock-btn-plugins",title:"Hot-update plugins without restart",children:de?" Updating...":" Update Plugins"})]}),I&&m.jsxs("div",{className:"dock-version",title:"T2AutoTron version",children:["v",I]})]}),m.jsx(UC,{isOpen:y,onClose:()=>b(!1)}),m.jsx($C,{isOpen:v,onClose:()=>S(!1)}),k&&m.jsx("div",{className:"modal-overlay",onClick:()=>N(!1),children:m.jsxs("div",{className:"modal server-graphs-modal",onClick:J=>J.stopPropagation(),children:[m.jsxs("div",{className:"modal-header",children:[m.jsx("h2",{children:" Saved Graphs"}),m.jsx("button",{className:"modal-close",onClick:()=>N(!1),children:""})]}),m.jsx("div",{className:"modal-body",children:Q?m.jsx("div",{className:"loading-message",children:"Loading graphs..."}):Z.length===0?m.jsxs("div",{className:"empty-message",children:[m.jsx("p",{children:"No saved graphs found."}),m.jsx("p",{style:{fontSize:"0.9em",opacity:.7},children:'Create a graph and click "Save" to save it to the server.'})]}):m.jsx("div",{className:"graphs-list",children:Z.map((J,ae)=>m.jsxs("div",{className:"graph-item",onClick:()=>D(J.name),children:[m.jsx("span",{className:"graph-name",children:J.displayName}),m.jsx("span",{className:"graph-date",children:new Date(J.modified).toLocaleDateString()})]},ae))})})]})})]})}function PN({dockSlotRef:a}){const[n,r]=E.useState(!0),[s,l]=E.useState(!0),[c,f]=E.useState(null),[h,p]=E.useState(null),[y,b]=E.useState(be?.connected??!1),[v,S]=E.useState({connected:!1,wsConnected:!1,deviceCount:0}),[k,N]=E.useState(new Map),[Z,U]=E.useState(()=>parseInt(localStorage.getItem("forecastPanelWidth"))||320),[Q,X]=E.useState(()=>parseInt(localStorage.getItem("devicesOnHeight"))||200),V=E.useRef(null);E.useEffect(()=>{if(!be)return;const G=()=>{b(!0),be.emit("request-ha-status")},fe=()=>{b(!1),S({connected:!1,wsConnected:!1,deviceCount:0})},je=Ye=>{S(Ye)};be.on("connect",G),be.on("disconnect",fe),be.on("ha-connection-status",je),be.on("forecast-update",Ye=>{f(Ye)});const De=Ye=>{const{id:Pe,state:C,on:H,name:ce}=Ye;if(!Pe)return;const we=H!==void 0?H:C==="on"||C==="playing"||C==="open",xe=ce||Ye.friendly_name||Ye.attributes?.friendly_name||Pe.replace("ha_","").replace("kasa_","").replace(/\./g," ").replace(/_/g," ");(Pe.includes("light.")||Pe.includes("switch.")||Pe.startsWith("kasa_"))&&N(R=>{const A=new Map(R);return we?A.set(Pe,{name:xe,on:!0}):A.delete(Pe),A})};return be.on("device-state-update",De),be.emit("request-forecast"),be.connected&&(b(!0),be.emit("request-ha-status")),()=>{be.off("connect",G),be.off("disconnect",fe),be.off("ha-connection-status",je),be.off("forecast-update"),be.off("device-state-update",De)}},[]);const P=()=>{be?.emit("request-forecast")},de=G=>{const fe=(G||"").toLowerCase();return fe.includes("clear")||fe.includes("sun")?m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#FFD700",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("circle",{cx:"12",cy:"12",r:"5"}),m.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),m.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),m.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),m.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),m.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),m.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),m.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),m.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}):fe.includes("rain")||fe.includes("drizzle")||fe.includes("shower")?m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#4facfe",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M20 16.2A4.5 4.5 0 0 0 17.5 8h-1.8A7 7 0 1 0 4 14.9"}),m.jsx("line",{x1:"8",y1:"19",x2:"8",y2:"21"}),m.jsx("line",{x1:"8",y1:"13",x2:"8",y2:"15"}),m.jsx("line",{x1:"16",y1:"19",x2:"16",y2:"21"}),m.jsx("line",{x1:"16",y1:"13",x2:"16",y2:"15"}),m.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),m.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"17"})]}):fe.includes("partly")||fe.includes("partial")||fe.includes("few")?m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M13 2v2",stroke:"#FFD700"}),m.jsx("path",{d:"M3 13h2",stroke:"#FFD700"}),m.jsx("path",{d:"M20 13h2",stroke:"#FFD700"}),m.jsx("path",{d:"M5.6 5.6l1.4 1.4",stroke:"#FFD700"}),m.jsx("path",{d:"M18.4 5.6l-1.4 1.4",stroke:"#FFD700"}),m.jsx("circle",{cx:"13",cy:"9",r:"4",stroke:"#FFD700"}),m.jsx("path",{d:"M17 17h-10a4 4 0 0 1 0-8h.5a5.5 5.5 0 0 1 10.5 3h.5a3 3 0 0 1 0 6z",stroke:"#B0C4DE",fill:"none"})]}):fe.includes("snow")||fe.includes("flurr")?m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#B0E0E6",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"}),m.jsx("line",{x1:"8",y1:"16",x2:"8",y2:"16.01"}),m.jsx("line",{x1:"8",y1:"20",x2:"8",y2:"20.01"}),m.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"18.01"}),m.jsx("line",{x1:"12",y1:"22",x2:"12",y2:"22.01"}),m.jsx("line",{x1:"16",y1:"16",x2:"16",y2:"16.01"}),m.jsx("line",{x1:"16",y1:"20",x2:"16",y2:"20.01"})]}):fe.includes("thunder")||fe.includes("storm")?m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#9370DB",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M19 16.9A5 5 0 0 0 18 7h-1.26a8 8 0 1 0-11.62 9"}),m.jsx("polyline",{points:"13 11 9 17 15 17 11 23",stroke:"#FFD700",fill:"none"})]}):fe.includes("fog")||fe.includes("mist")||fe.includes("haze")?m.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#A9A9A9",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M20 17.58A5 5 0 0 0 18 8h-1.26A8 8 0 1 0 4 16.25"}),m.jsx("line",{x1:"3",y1:"20",x2:"21",y2:"20"}),m.jsx("line",{x1:"3",y1:"17",x2:"21",y2:"17"})]}):m.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"#B0C4DE",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:m.jsx("path",{d:"M18 10h-1.26A8 8 0 1 0 9 20h9a5 5 0 0 0 0-10z"})})},le=G=>{if(!G)return{day:"",date:""};let fe;if(typeof G=="string"&&G.match(/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun)/i)){const Ye=G.match(/(\w+),\s*(\w+)\s*(\d+)/);return Ye?{day:`${Ye[1]}, ${Ye[2]}`,date:Ye[3]}:{day:G,date:""}}if(fe=new Date(parseInt(G)||G),isNaN(fe.getTime()))return{day:G,date:""};const je=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],De=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return{day:`${je[fe.getDay()]}, ${De[fe.getMonth()]}`,date:`${fe.getDate()}`}},I=()=>{if(!c||!c.length)return m.jsx("div",{className:"forecast-empty",children:"No forecast data"});if(h!==null){const G=c[h],fe=le(G.date||G.day);return m.jsxs("div",{className:"forecast-detail",children:[m.jsxs("div",{className:"forecast-detail-header",children:[m.jsx("button",{className:"detail-back-btn",onClick:()=>p(null),children:" Back"}),m.jsxs("span",{className:"detail-date",children:[fe.day," ",fe.date]})]}),m.jsxs("div",{className:"detail-main",children:[m.jsx("div",{className:"detail-icon",children:de(G.conditions||G.condition)}),m.jsxs("div",{className:"detail-temps",children:[m.jsxs("div",{className:"detail-high",children:[G.high,""]}),m.jsxs("div",{className:"detail-low",children:[G.low,""]})]}),m.jsx("div",{className:"detail-condition",children:G.conditions||G.condition||"N/A"})]}),G.description&&m.jsx("div",{className:"detail-description",children:G.description}),m.jsxs("div",{className:"detail-stats",children:[m.jsxs("div",{className:"detail-stat",children:[m.jsx("span",{className:"stat-label",children:"Precipitation"}),m.jsx("span",{className:"stat-value",children:G.precipitation||G.precip||"0%"})]}),G.humidity&&m.jsxs("div",{className:"detail-stat",children:[m.jsx("span",{className:"stat-label",children:"Humidity"}),m.jsxs("span",{className:"stat-value",children:[G.humidity,"%"]})]}),G.wind&&m.jsxs("div",{className:"detail-stat",children:[m.jsx("span",{className:"stat-label",children:"Wind"}),m.jsx("span",{className:"stat-value",children:G.wind})]}),(G.sunrise||G.sunset)&&m.jsxs("div",{className:"detail-sun-times",children:[G.sunrise&&m.jsxs("div",{className:"detail-stat",children:[m.jsx("span",{className:"stat-label",children:" Sunrise"}),m.jsx("span",{className:"stat-value",children:G.sunrise})]}),G.sunset&&m.jsxs("div",{className:"detail-stat",children:[m.jsx("span",{className:"stat-label",children:" Sunset"}),m.jsx("span",{className:"stat-value",children:G.sunset})]})]})]})]})}return c.slice(0,5).map((G,fe)=>{const je=le(G.date||G.day);return m.jsxs("div",{className:"forecast-card",onClick:()=>p(fe),children:[m.jsxs("div",{className:"forecast-row-top",children:[m.jsxs("div",{className:"forecast-date",children:[m.jsx("span",{className:"date-day",children:je.day}),m.jsx("span",{className:"date-num",children:je.date})]}),m.jsx("div",{className:"forecast-icon",children:de(G.conditions||G.condition)})]}),m.jsxs("div",{className:"forecast-row-bottom",children:[m.jsxs("span",{className:"temp-low",children:[G.low,""]}),m.jsxs("span",{className:"temp-high",children:[G.high,""]}),m.jsxs("span",{className:"precip-group",children:[m.jsxs("svg",{className:"precip-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[m.jsx("path",{d:"M20 16.2A4.5 4.5 0 0 0 17.5 8h-1.8A7 7 0 1 0 4 14.9"}),m.jsx("path",{d:"M16 14v4"}),m.jsx("path",{d:"M8 14v4"}),m.jsx("path",{d:"M12 16v4"})]}),m.jsx("span",{className:"precip-value",children:G.precipitation||G.precip||"0%"})]})]})]},fe)})},oe=G=>{G.preventDefault();const fe=G.clientX,je=Z,De=Pe=>{const C=fe-Pe.clientX,H=Math.max(250,Math.min(500,je+C));U(H),localStorage.setItem("forecastPanelWidth",H)},Ye=()=>{document.removeEventListener("mousemove",De),document.removeEventListener("mouseup",Ye)};document.addEventListener("mousemove",De),document.addEventListener("mouseup",Ye)},ee=G=>{G.preventDefault(),G.stopPropagation();const fe=G.clientY,je=Q,De=Pe=>{const C=fe-Pe.clientY,H=Math.max(100,Math.min(500,je+C));X(H),localStorage.setItem("devicesOnHeight",H)},Ye=()=>{document.removeEventListener("mousemove",De),document.removeEventListener("mouseup",Ye)};document.addEventListener("mousemove",De),document.addEventListener("mouseup",Ye)};return m.jsxs("div",{className:"forecast-panel",style:{width:Z},children:[m.jsx("div",{className:"forecast-resize-handle",ref:V,onMouseDown:oe,children:m.jsx("div",{className:"forecast-resize-grip"})}),m.jsxs("div",{className:"forecast-panel-header",onClick:()=>r(!n),children:[m.jsx("span",{children:"5-Day Forecast"}),m.jsx("button",{onClick:G=>{G.stopPropagation(),P()},className:"forecast-refresh-btn",children:"Refresh"})]}),n&&m.jsx("div",{className:"forecast-panel-content",children:I()}),m.jsx("div",{className:"forecast-dock-slot",ref:a}),m.jsxs("div",{className:"devices-on-section",style:{height:s?Q:"auto"},children:[m.jsx("div",{className:"devices-resize-handle",onMouseDown:ee,children:m.jsx("div",{className:"devices-resize-grip"})}),m.jsxs("div",{className:"devices-on-header",onClick:()=>l(!s),children:[m.jsxs("span",{children:["Devices ON (",k.size,")"]}),m.jsx("span",{className:"expand-icon",children:s?"":""})]}),s&&m.jsx("div",{className:"devices-on-list",children:k.size===0?m.jsx("div",{className:"no-devices",children:"All devices off"}):Array.from(k.values()).sort((G,fe)=>G.name.localeCompare(fe.name)).map((G,fe)=>m.jsxs("div",{className:"device-on-item",children:[m.jsx("span",{className:"device-on-indicator"}),m.jsx("span",{className:"device-on-name",children:G.name})]},fe))})]}),m.jsxs("div",{className:"status-indicators",children:[m.jsx("div",{className:`connection-status ${y?"connected":"disconnected"}`,children:y?"Backend":"Backend X"}),m.jsx("div",{className:`connection-status ${v.connected?"connected":"disconnected"}`,children:v.connected?`HA (${v.deviceCount})`:"HA X"})]})]})}function FN({width:a=180,panelRef:n,dropActive:r=!1,favoriteGroups:s=[],onAddFavorite:l,onRemoveFavorite:c,onCreateNode:f}){const h=window.T2Controls?.Tooltip,p=`Drag a node onto this panel to add it to Favorites.
Click a favorite to add that node to the canvas.
Right-click a favorite to remove it.`,y=(s||[]).reduce((v,S)=>v+(S?.labels||[]).length,0),b=v=>{const S=(v||"").toString().trim();S&&c?.(S)};return m.jsxs("div",{ref:n,className:`favorites-panel ${r?"drop-active":""}`,style:{width:a},onMouseDown:v=>v.stopPropagation(),children:[m.jsx("div",{className:"favorites-header",children:m.jsxs("div",{className:"favorites-header-row",children:[m.jsx("span",{className:"favorites-title",children:" Favorites"}),h?m.jsx(h,{text:p,position:"bottom",children:m.jsx("span",{className:"favorites-help-fallback",children:"?"})}):m.jsx("span",{className:"favorites-help-fallback",title:p,children:"?"})]})}),m.jsx("div",{className:"favorites-list",children:y===0?m.jsx("div",{className:"favorites-empty",children:"No favorites yet"}):s.map(v=>{const S=(v?.category||"Other").toString(),k=Array.isArray(v?.labels)?v.labels:[];return k.length===0?null:m.jsxs("div",{className:"favorites-group",children:[m.jsx("div",{className:"favorites-divider",children:m.jsx("span",{className:"favorites-divider-text",children:S})}),k.map(N=>m.jsx("button",{type:"button",className:"favorites-item-btn",onClick:()=>f?.(N),onContextMenu:Z=>{Z.preventDefault(),Z.stopPropagation(),b(N)},title:"Click: add to canvas  Right-click: remove",children:N},`${S}:${N}`))]},S)})})]})}function XN({visible:a,position:n,items:r,onClose:s,onSelect:l}){const c=E.useRef(null),f=E.useRef(null),[h,p]=E.useState(null),[y,b]=E.useState({x:0,y:0}),[v,S]=E.useState(""),k=E.useRef(null),N=E.useRef(null);E.useEffect(()=>{a&&(S(""),p(null),setTimeout(()=>{f.current?.focus()},50))},[a]);const Z=E.useMemo(()=>{if(!v.trim())return r;const I=v.toLowerCase(),oe=[];for(const ee of r)if(ee.subitems)for(const G of ee.subitems)G.label&&G.label.toLowerCase().includes(I)&&oe.push({...G,categoryHint:ee.label});else ee.label&&ee.label.toLowerCase().includes(I)&&oe.push(ee);return oe},[r,v]),U=v.trim().length>0;E.useEffect(()=>{if(!a)return;const I=ee=>{c.current&&!c.current.contains(ee.target)&&s()},oe=ee=>{ee.key==="Escape"&&s()};return document.addEventListener("mousedown",I),document.addEventListener("keydown",oe),()=>{document.removeEventListener("mousedown",I),document.removeEventListener("keydown",oe)}},[a,s]),E.useEffect(()=>()=>{k.current&&clearTimeout(k.current),N.current&&clearTimeout(N.current)},[]);const Q=E.useCallback((I,oe,ee)=>{N.current&&(clearTimeout(N.current),N.current=null),oe.subitems&&oe.subitems.length>0?p(ee):p(null)},[]),X=E.useCallback(()=>{N.current=setTimeout(()=>{p(null)},150)},[]),V=E.useCallback(()=>{N.current&&(clearTimeout(N.current),N.current=null)},[]),P=E.useCallback(()=>{N.current=setTimeout(()=>{p(null)},100)},[]),de=E.useCallback(I=>{I.subitems&&I.subitems.length>0||(l(I),s())},[l,s]);if(!a)return null;const le={...n};if(typeof window<"u"){const oe=Math.min(Z.length*36+50,400);n.x+220>window.innerWidth&&(le.x=window.innerWidth-220-10),n.y+oe>window.innerHeight&&(le.y=Math.max(10,window.innerHeight-oe-10))}return m.jsxs("div",{ref:c,className:"fast-context-menu",style:{left:le.x,top:le.y},children:[m.jsxs("div",{className:"fast-menu-search",children:[m.jsx("input",{ref:f,type:"text",placeholder:"Search nodes...",value:v,onChange:I=>S(I.target.value),onClick:I=>I.stopPropagation(),onKeyDown:I=>{if(I.key==="Enter"&&Z.length===1){const oe=Z[0];oe.subitems||de(oe)}I.stopPropagation()}}),v&&m.jsx("span",{className:"search-clear",onClick:I=>{I.stopPropagation(),S(""),f.current?.focus()},children:""})]}),m.jsx("div",{className:"fast-menu-results",children:Z.length===0?m.jsx("div",{className:"fast-menu-empty",children:"No nodes found"}):U?Z.map((I,oe)=>m.jsxs("div",{className:"fast-menu-item search-result",onClick:()=>de(I),children:[m.jsx("span",{className:"menu-label",children:I.label}),I.categoryHint&&m.jsx("span",{className:"category-hint",children:I.categoryHint})]},I.label||oe)):Z.map((I,oe)=>m.jsxs("div",{className:`fast-menu-item ${I.subitems?"has-submenu":""} ${h===oe?"active":""}`,onMouseEnter:ee=>Q(ee,I,oe),onMouseLeave:X,onClick:()=>de(I),children:[I.icon&&m.jsx("span",{className:"menu-icon",children:I.icon}),m.jsx("span",{className:"menu-label",children:I.label}),I.subitems&&m.jsx("span",{className:"submenu-arrow",children:""}),h===oe&&I.subitems&&m.jsx("div",{className:"fast-submenu",onMouseEnter:V,onMouseLeave:P,children:I.subitems.map((ee,G)=>m.jsx("div",{className:"fast-menu-item",title:ee.description||"",onClick:fe=>{fe.stopPropagation(),de(ee)},children:m.jsx("span",{className:"menu-label",children:ee.label})},ee.label||G))})]},I.label||oe))})]})}function nb(a){const n=[],r=[];if(!a||typeof a!="object")return{valid:!1,errors:["Graph data is not an object"],warnings:[]};if(!Array.isArray(a.nodes))n.push('Missing or invalid "nodes" array');else{const s=new Set;a.nodes.forEach((l,c)=>{l.id?(s.has(l.id)&&n.push(`Duplicate node ID: ${l.id}`),s.add(l.id)):n.push(`Node at index ${c} is missing "id"`),l.label||n.push(`Node ${l.id||c} is missing "label"`),(!l.position||typeof l.position.x!="number"||typeof l.position.y!="number")&&r.push(`Node ${l.id||c} has invalid position`),l.position&&(!Number.isFinite(l.position.x)||!Number.isFinite(l.position.y))&&n.push(`Node ${l.id||c} has NaN or Infinity in position`)})}if(!Array.isArray(a.connections))n.push('Missing or invalid "connections" array');else{const s=new Set(a.nodes?.map(c=>c.id)||[]),l=new Set;a.connections.forEach((c,f)=>{c.source?s.has(c.source)||n.push(`Connection ${f} references non-existent source node: ${c.source}`):n.push(`Connection at index ${f} is missing "source"`),c.target?s.has(c.target)||n.push(`Connection ${f} references non-existent target node: ${c.target}`):n.push(`Connection at index ${f} is missing "target"`),c.sourceOutput||r.push(`Connection ${f} is missing "sourceOutput"`),c.targetInput||r.push(`Connection ${f} is missing "targetInput"`);const h=`${c.source}:${c.sourceOutput}->${c.target}:${c.targetInput}`;l.has(h)&&r.push(`Duplicate connection: ${h}`),l.add(h),c.source===c.target&&r.push(`Self-connection detected on node ${c.source}`)})}return a.viewport&&((typeof a.viewport.k!="number"||a.viewport.k<=0)&&r.push("Invalid viewport zoom value"),(!Number.isFinite(a.viewport.x)||!Number.isFinite(a.viewport.y))&&r.push("Invalid viewport position")),{valid:n.length===0,errors:n,warnings:r}}function ab(a){const n=[];let r=!1;const s=JSON.parse(JSON.stringify(a));Array.isArray(s.nodes)||(s.nodes=[],n.push("Created empty nodes array"),r=!0),Array.isArray(s.connections)||(s.connections=[],n.push("Created empty connections array"),r=!0);const l=new Set,c=new Set;return s.nodes=s.nodes.filter((f,h)=>{if(!f.id)return n.push(`Removed node at index ${h} (missing ID)`),r=!0,!1;if(c.has(f.id)){const p=`${f.id}_${Date.now()}_${h}`;n.push(`Renamed duplicate node ID ${f.id} to ${p}`),f.id=p,r=!0}return c.add(f.id),l.add(f.id),f.label||(f.label="Unknown Node",n.push(`Set label for node ${f.id} to "Unknown Node"`),r=!0),!f.position||typeof f.position!="object"?(f.position={x:0,y:0},n.push(`Reset position for node ${f.id}`),r=!0):(Number.isFinite(f.position.x)||(f.position.x=0,n.push(`Fixed NaN x position for node ${f.id}`),r=!0),Number.isFinite(f.position.y)||(f.position.y=0,n.push(`Fixed NaN y position for node ${f.id}`),r=!0)),!0}),s.connections=s.connections.filter((f,h)=>l.has(f.source)?l.has(f.target)?!0:(n.push(`Removed connection ${h} (invalid target: ${f.target})`),r=!0,!1):(n.push(`Removed connection ${h} (invalid source: ${f.source})`),r=!0,!1)),s.viewport&&(Number.isFinite(s.viewport.x)||(s.viewport.x=0,n.push("Fixed viewport x position"),r=!0),Number.isFinite(s.viewport.y)||(s.viewport.y=0,n.push("Fixed viewport y position"),r=!0),(!Number.isFinite(s.viewport.k)||s.viewport.k<=0)&&(s.viewport.k=1,n.push("Fixed viewport zoom level"),r=!0)),{repaired:r,graphData:s,fixes:n}}class yj extends Ft.Control{constructor(n,r){super(),this.label=n,this.onClick=r}}function KN({data:a}){return m.jsx("button",{onPointerDown:n=>n.stopPropagation(),onDoubleClick:n=>n.stopPropagation(),onClick:a.onClick,style:{width:"100%",padding:"8px",marginBottom:"5px",background:"rgba(0, 243, 255, 0.1)",border:"1px solid rgba(0, 243, 255, 0.4)",color:"#00f3ff",borderRadius:"20px",cursor:"pointer",fontWeight:"600",textTransform:"uppercase",fontSize:"12px",transition:"all 0.2s"},onMouseOver:n=>{n.currentTarget.style.background="rgba(0, 243, 255, 0.25)",n.currentTarget.style.boxShadow="0 0 12px rgba(0, 243, 255, 0.4)"},onMouseOut:n=>{n.currentTarget.style.background="rgba(0, 243, 255, 0.1)",n.currentTarget.style.boxShadow="none"},children:a.label})}class gj extends Ft.Control{constructor(n,r,s,l){super(),this.label=n,this.values=r,this.value=s,this.onChange=l}setValue(n){this.value=n}}function QN({data:a}){const[,n]=E.useReducer(f=>f+1,0),[r,s]=E.useState(a.value);E.useEffect(()=>{s(a.value)},[a.value]),E.useEffect(()=>{n()},[a]);const l=f=>{const h=f.target.value;s(h),typeof a.setValue=="function"?a.setValue(h):a.value=h,a.onChange&&a.onChange(h)},c=a.values||[];return m.jsxs("div",{style:{marginBottom:"5px"},children:[a.label&&m.jsx("label",{style:{display:"block",fontSize:"10px",color:"#00f3ff",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.5px"},children:a.label}),m.jsx("select",{value:r,onChange:l,onPointerDown:f=>f.stopPropagation(),onDoubleClick:f=>f.stopPropagation(),style:{width:"100%",background:"#0a0f14",color:"#00f3ff",border:"1px solid rgba(0, 243, 255, 0.3)",padding:"6px",borderRadius:"4px",outline:"none",fontSize:"12px"},children:c.map((f,h)=>m.jsx("option",{value:f,style:{background:"#0a0f14",color:"#00f3ff"},children:f},`${h}-${f}`))})]})}class vj extends Ft.Control{constructor(n,r,s){super(),this.label=n,this.value=r,this.onChange=s}}function JN({data:a}){const[n,r]=E.useState(a.value),s=l=>{const c=l.target.value;r(c),a.value=c,a.onChange&&a.onChange(c)};return m.jsxs("div",{style:{marginBottom:"5px"},children:[a.label&&m.jsx("label",{style:{display:"block",fontSize:"10px",color:"#00f3ff",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.5px"},children:a.label}),m.jsx("input",{type:"text",value:n,onChange:s,onPointerDown:l=>l.stopPropagation(),onDoubleClick:l=>l.stopPropagation(),style:{width:"100%",background:"#0a0f14",color:"#00f3ff",border:"1px solid rgba(0, 243, 255, 0.3)",padding:"6px",borderRadius:"4px",outline:"none",fontSize:"12px"}})]})}class bj extends Ft.Control{constructor(n,r,s){super(),this.label=n,this.value=r,this.onChange=s}}function WN({data:a}){const[n,r]=E.useState(a.value),s=l=>{const c=l.target.checked;r(c),a.value=c,a.onChange&&a.onChange(c)};return m.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"5px"},children:[m.jsx("input",{type:"checkbox",checked:n,onChange:s,onPointerDown:l=>l.stopPropagation(),onDoubleClick:l=>l.stopPropagation(),style:{accentColor:"#00f3ff"}}),m.jsx("span",{style:{marginLeft:"5px",fontSize:"12px",color:"#00f3ff",textTransform:"uppercase",letterSpacing:"0.5px"},children:a.label})]})}class wj extends Ft.Control{constructor(n,r,s,l={}){super(),this.label=n,this.value=r,this.onChange=s,this.options=l}}function ej({data:a}){const[n,r]=E.useState(a.value),s=l=>{const c=Number(l.target.value);r(c),a.value=c,a.onChange&&a.onChange(c)};return m.jsxs("div",{style:{marginBottom:"5px"},children:[a.label&&m.jsx("label",{style:{display:"block",fontSize:"10px",color:"#00f3ff",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.5px"},children:a.label}),m.jsx("input",{type:"number",value:n,onChange:s,min:a.options.min,max:a.options.max,step:a.options.step,onPointerDown:l=>l.stopPropagation(),onDoubleClick:l=>l.stopPropagation(),style:{width:"100%",background:"#0a0f14",color:"#00f3ff",border:"1px solid rgba(0, 243, 255, 0.3)",padding:"6px",borderRadius:"4px",outline:"none",fontSize:"12px"}})]})}class Sj extends Ft.Control{constructor(n,r,s,l="text"){super(),this.label=n,this.value=r,this.onChange=s,this.type=l}}function tj({data:a}){const[n,r]=E.useState(a.value);E.useEffect(()=>{r(a.value)},[a.value]);const s=l=>{let c=l.target.value;a.type==="number"&&(c=Number(c)),r(c),a.value=c,a.onChange&&a.onChange(c)};return m.jsxs("div",{style:{marginBottom:"5px"},children:[a.label&&m.jsx("label",{style:{display:"block",fontSize:"10px",color:"#00f3ff",marginBottom:"2px",textTransform:"uppercase",letterSpacing:"0.5px"},children:a.label}),m.jsx("input",{type:a.type||"text",value:n,onChange:s,onPointerDown:l=>l.stopPropagation(),onDoubleClick:l=>l.stopPropagation(),style:{width:"100%",background:"#0a0f14",color:"#00f3ff",border:"1px solid rgba(0, 243, 255, 0.3)",padding:"6px",borderRadius:"4px",outline:"none",fontSize:"12px"}})]})}class xj extends Ft.Control{constructor(n,r){super(),this.deviceId=n,this.getState=r}}function nj({data:a}){const n=a.getState?a.getState(a.deviceId):null,r=document.body.classList.contains("performance-mode");if(!n)return m.jsx("div",{style:{padding:"4px 8px",background:"rgba(0, 20, 30, 0.6)",borderRadius:"4px",marginBottom:"4px",display:"flex",alignItems:"center",justifyContent:"space-between",minHeight:"24px",border:"1px solid rgba(0, 243, 255, 0.1)"},children:m.jsx("span",{style:{fontSize:"11px",color:"rgba(0, 243, 255, 0.5)"},children:"No state data"})});const s=n.on||n.state==="on",l=n.brightness?Math.round(n.brightness/255*100):0,c=n.hs_color||[0,0],[f,h]=c;let p="#e74c3c";s&&(h===0?p="#f1c40f":p=`hsl(${f}, ${h}%, 50%)`);const y={width:"14px",height:"14px",borderRadius:"50%",background:p,border:"1px solid rgba(255,255,255,0.3)",animation:s&&!r?"flash-pulse 2s infinite ease-in-out":"none",color:p,marginRight:"8px",flexShrink:0,boxShadow:s?`0 0 5px ${p}`:"none"};return m.jsxs("div",{style:{padding:"6px 8px",background:"rgba(0, 20, 30, 0.6)",borderRadius:"4px",marginBottom:"4px",border:"1px solid rgba(0, 243, 255, 0.2)",display:"flex",flexDirection:"column"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:s?"4px":"0"},children:[m.jsxs("div",{style:{display:"flex",alignItems:"center",flex:1,overflow:"hidden"},children:[m.jsx("div",{style:y}),m.jsx("span",{style:{fontSize:"12px",color:"#e0f7fa",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginRight:"8px"},children:n.name||a.deviceId})]}),m.jsx("span",{style:{fontSize:"10px",color:"#00f3ff",fontFamily:"monospace",whiteSpace:"nowrap"},children:s?`${l}%`:"Off"})]}),s&&m.jsx("div",{style:{width:"100%",height:"4px",background:"rgba(0, 243, 255, 0.1)",borderRadius:"2px",overflow:"hidden"},children:m.jsx("div",{style:{width:`${l}%`,height:"100%",background:`linear-gradient(90deg, rgba(0, 243, 255, 0.2), ${p})`,transition:"width 0.3s ease-out"}})})]})}function aj(a){const{state:n,color:r}=a.data.data||{},s=n==="on"||n==="open"||n==="playing",l=r||(s?"#00f3ff":"#333");return m.jsxs("div",{className:"status-indicator-control",style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"5px",width:"100%"},onPointerDown:c=>c.stopPropagation(),children:[m.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:s?l:"rgba(0, 20, 30, 0.8)",boxShadow:s?`0 0 10px ${l}, 0 0 20px ${l}`:"none",transition:"all 0.3s ease",border:"1px solid rgba(0, 243, 255, 0.3)",animation:s?"pulse 2s infinite":"none"}}),m.jsx("style",{children:`
                @keyframes pulse {
                    0% { opacity: 1; transform: scale(1); }
                    50% { opacity: 0.7; transform: scale(0.9); }
                    100% { opacity: 1; transform: scale(1); }
                }
            `})]})}function rj(a){const{brightness:n,hs_color:r,entityType:s}=a.data.data||{};let l="#444";r&&r.length===2?l=`hsl(${r[0]}, ${r[1]}%, 50%)`:s==="light"&&(l="#ffaa00");const c=n?n/255*100:0;return m.jsx("div",{className:"color-bar-control",style:{width:"100%",height:"8px",backgroundColor:"rgba(0, 20, 30, 0.6)",borderRadius:"4px",overflow:"hidden",marginTop:"5px",border:"1px solid rgba(0, 243, 255, 0.2)"},onPointerDown:f=>f.stopPropagation(),children:m.jsx("div",{style:{width:`${c}%`,height:"100%",backgroundColor:l,transition:"all 0.3s ease",boxShadow:`0 0 10px ${l}`}})})}function ij(a){const{power:n,energy:r}=a.data.data||{};return n===null&&r===null?m.jsx("div",{className:"power-stats-control",style:{fontSize:"10px",color:"#777",marginTop:"5px",fontFamily:"monospace"},children:"-- W / -- kWh"}):m.jsxs("div",{className:"power-stats-control",style:{display:"flex",flexDirection:"column",fontSize:"10px",color:"#e0f7fa",marginTop:"5px",fontFamily:"monospace"},onPointerDown:s=>s.stopPropagation(),children:[m.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[m.jsx("span",{children:"PWR:"}),m.jsx("span",{style:{color:"#00f3ff"},children:n!==null?`${n} W`:"--"})]}),r!==null&&m.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[m.jsx("span",{children:"NRG:"}),m.jsxs("span",{style:{color:"#ffaa00"},children:[r," kWh"]})]})]})}window.EDITOR_DEBUG=!1;const sj=window.EDITOR_DEBUG,Ce=(...a)=>sj&&console.debug("[Editor]",...a),oj=ka.memo(({data:a,socketKey:n,side:r})=>{let l=a?.name||"any";if(n&&typeof n=="string"){const f=n.toLowerCase();f.includes("hsv")||f.includes("color")?l="hsv_info":f.includes("trigger")||f.includes("enable")||f.includes("active")?l="boolean":(f.includes("light")||f.includes("device"))&&(l="light_info")}const c=`${n||"socket"} (${l})`;return ka.createElement("div",{className:"rete-socket","data-socket-type":l,title:c})});function lj(){const a=E.useRef(null),[n,r]=E.useState(null),[s,l]=E.useState(null),[c,f]=E.useState(null),[h,p]=E.useState(null),[y,b]=E.useState(()=>{try{return localStorage.getItem("dockMergedIntoForecast")==="true"}catch{return!1}}),v=E.useRef(null),S=E.useRef(null);E.useEffect(()=>{try{localStorage.setItem("dockMergedIntoForecast",String(y))}catch{}},[y]);const k=E.useRef(!1),N=E.useRef(new Set),Z=E.useRef(null),U=E.useRef(!1),Q=E.useRef(null),X=E.useRef(null),V=E.useRef(null),P=E.useRef({x:0,y:0}),de=E.useRef(!1),le=E.useRef([]),[I,oe]=E.useState({visible:!1,position:{x:0,y:0},items:[],nodeContext:null}),ee=180,G="favoriteNodes",[fe,je]=E.useState(()=>{try{const q=localStorage.getItem(G),se=q?JSON.parse(q):null,te=ie=>{const D=[];for(const K of Array.isArray(ie)?ie:[]){if(typeof K!="string")continue;const Ee=K.trim();Ee&&(D.includes(Ee)||D.push(Ee))}return D};if(Array.isArray(se)){const ie=te(se);return ie.length?[{category:"Other",labels:ie}]:[]}const _e=Array.isArray(se?.groups)?se.groups:Array.isArray(se?.favoriteGroups)?se.favoriteGroups:Array.isArray(se)?se:null;if(!_e)return[];const me=[];for(const ie of _e){const D=(ie?.category||"Other").toString().trim()||"Other",K=te(ie?.labels);K.length!==0&&me.push({category:D,labels:K})}return me}catch{return[]}}),De=E.useRef(null),[Ye,Pe]=E.useState(!1),C=E.useRef(null);E.useEffect(()=>{try{localStorage.setItem(G,JSON.stringify({version:2,groups:fe}))}catch{}},[fe]);const H=E.useCallback(q=>{const se=(q||"").toString().trim();if(!se)return;const _e=(En.getByLabel(se)?.category||"Other").toString().trim()||"Other";je(me=>{for(const K of me)if(Array.isArray(K?.labels)&&K.labels.includes(se))return me;const ie=me.map(K=>({category:K.category,labels:[...K.labels]})),D=ie.findIndex(K=>K.category===_e);return D===-1?ie.push({category:_e,labels:[se]}):ie[D].labels.push(se),ie})},[]),ce=E.useCallback(q=>{const se=(q||"").toString().trim();se&&je(te=>{const _e=[];for(const me of te){const ie=(me?.labels||[]).filter(D=>D!==se);ie.length!==0&&_e.push({category:me.category,labels:ie})}return _e})},[]),we=E.useCallback(async q=>{const se=a.current,te=Q.current,_e=X.current;if(!se||!te||!_e)return;const me=se.getBoundingClientRect(),ie={x:me.left+me.width/2,y:me.top+me.height/2};try{const Ee=window._t2GetMenuItems;if(typeof Ee=="function"){const J=Ee();for(const ae of J||[])for(const ve of ae.subitems||[])if(ve.label===q&&typeof ve.handler=="function"){await ve.handler(ie);return}}}catch(Ee){console.warn("[Favorites] Failed to create via context handlers:",Ee)}const D=En.getByLabel(q);if(!D)return;const K=()=>{try{Z.current?.()}catch{}};try{const Ee=D.factory(K);await te.addNode(Ee);const J=_e.area.transform,ae=(ie.x-J.x)/J.k,ve=(ie.y-J.y)/J.k;await _e.translate(Ee.id,{x:ae,y:ve})}catch(Ee){console.warn("[Favorites] Fallback create failed:",Ee)}},[]);E.useEffect(()=>{try{const q=En.getAll();if(q.length===0)return;const se=new Map;for(const te of q)te?.label&&se.set(te.label,(te.category||"Other").toString().trim()||"Other");je(te=>{const _e=[],me=new Map,ie=(D,K)=>{me.has(D)||(me.set(D,[]),_e.push(D));const Ee=me.get(D);Ee.includes(K)||Ee.push(K)};for(const D of te)for(const K of D?.labels||[]){const Ee=se.get(K);Ee&&ie(Ee,K)}return _e.map(D=>({category:D,labels:me.get(D)})).filter(D=>D.labels.length>0)})}catch{}},[n]);const xe=E.useCallback(async q=>{await new Promise(F=>{const ue=()=>{const ye=q.getBoundingClientRect();ye.width>0&&ye.height>0?F():requestAnimationFrame(ue)};requestAnimationFrame(ue)});const se=new Ur,te=new Ob(q),_e=new v2,me=new EC({createRoot:sb.createRoot}),ie=new RC;se.use(ie);let D=null,K=!1;const Ee=async()=>{K||(K=!0,D&&clearTimeout(D),D=setTimeout(async()=>{K=!1,D=null;const F=se.getNodes(),ue=se.getConnections();window._debugProcess&&(console.log("[Editor] process() - nodes:",F.map(ge=>`${ge.id}:${ge.label}`)),console.log("[Editor] process() - connections:",ue.map(ge=>`${ge.source}:${ge.sourceOutput} -> ${ge.target}:${ge.targetInput}`)),window._debugProcess=!1),ie.reset();for(const ge of F)try{await ie.fetch(ge.id)}catch{}},16))},J=async()=>{D&&(clearTimeout(D),D=null),K=!1,ie.reset();for(const F of se.getNodes())try{await ie.fetch(F.id)}catch{}},ae=new Set;let ve=null;const Ue=F=>{ae.add(F),ve||(ve=setTimeout(()=>{ve=null,ae.forEach(ue=>{te.update("node",ue)}),ae.clear(),Ee()},16))},$e=()=>{Ee()},bt=()=>{const F=En.getAll(),ue={};F.forEach(Re=>{const Ke=Re.category||"Other";ue[Ke]||(ue[Ke]=[]),ue[Ke].push({label:Re.label,order:Re.order,description:Re.description,handler:async Dt=>{let Gt;const Kt=()=>{Re.updateStrategy==="dataflow"?$e():Ue(Gt.id)};Gt=Re.factory(Kt),await se.addNode(Gt);const ct=te.area.transform,mn=(Dt.x-ct.x)/ct.k,Mn=(Dt.y-ct.y)/ct.k;await te.translate(Gt.id,{x:mn,y:Mn})}})});const ye=window.T2Controls?.THEME?.categories||{};return Object.entries(ue).map(([Re,Ke])=>({label:Re,icon:ye[Re]?.icon||"",subitems:Ke.sort((Dt,Gt)=>{const Kt=Dt.order??999,ct=Gt.order??999;return Kt!==ct?Kt-ct:Dt.label.localeCompare(Gt.label)})})).sort((Re,Ke)=>Re.label.localeCompare(Ke.label))};window._t2GetMenuItems=bt,window._t2Editor=se,window._t2Area=te;const Me=_r.selector();me.addPreset(Cd.classic.setup({customize:{node(F){const ue=En.getByInstance(F.payload);return ue?ue.component:Cd.classic.Node},socket(F){const ue=F.key,ye=F.side;return function({data:Re}){return ka.createElement(oj,{data:Re,socketKey:ue,side:ye})}},control(F){if(F.payload instanceof Ft.Control){const ye=F.payload.constructor.name;if(ye==="ButtonControl")return KN;if(ye==="DropdownControl")return QN;if(ye==="TextControl")return JN;if(ye==="SwitchControl")return WN;if(ye==="NumberControl")return ej;if(ye==="InputControl")return tj;if(ye==="DeviceStateControl")return nj;if(ye==="StatusIndicatorControl")return aj;if(ye==="ColorBarControl")return rj;if(ye==="PowerStatsControl")return ij}return Cd.classic.Control}}})),_e.addPreset(h2.classic.setup()),se.use(te),te.use(_e),te.use(me),_r.selectableNodes(te,Me,{accumulating:_r.accumulateOnCtrl()}),_r.simpleNodesOrder(te),se.addPipe(F=>{if(F.type==="nodecreated"){const ue=F.data,ye=En.getByInstance(ue);ye&&ye.isBackdrop&&setTimeout(()=>{const ge=te.nodeViews.get(ue.id);ge&&ge.element&&(ge.element.style.zIndex="-10",Ce("[Backdrop] Set z-index on creation for:",ue.id))},50)}return F});let et=!1,st=!1,Vt={x:0,y:0};_e.addPipe(F=>(F.type==="connectionpick"?(et=!0,Ce(" Connection pick - wire dragging started")):F.type==="connectiondrop"&&(et=!1,st=!1,Ce(" Connection drop - wire dragging ended")),F));const xt=F=>{if(et)if(F.ctrlKey||F.metaKey)if(!st)st=!0,Vt={x:F.clientX,y:F.clientY},q.style.cursor="grab";else{const ue=F.clientX-Vt.x,ye=F.clientY-Vt.y;if(ue!==0||ye!==0){const ge=te.area.transform;te.area.translate(ge.x+ue,ge.y+ye),Vt={x:F.clientX,y:F.clientY}}}else st&&(st=!1,q.style.cursor="")},ze=F=>{(F.key==="Control"||F.key==="Meta")&&st&&(st=!1,q.style.cursor="")};window.addEventListener("pointermove",xt),window.addEventListener("keyup",ze);let We=!1,Ge=!1,Et=null,fn=!1,Nn={x:0,y:0},_={x:0,y:0};const L=F=>{F.code==="Space"&&We&&Et&&(fn=!0,_={x:0,y:0},F.preventDefault())},he=F=>{if(F.code==="Space"&&(fn=!1,Ge&&Et)){const ue=te.nodeViews.get(Et);if(ue){const ye=te.area.transform,ge=_.x/ye.k,Re=_.y/ye.k,Ke={x:ue.position.x-ge,y:ue.position.y-Re};k.current=!0,te.translate(Et,Ke).finally(()=>{k.current=!1})}Ge=!1,q.style.cursor=""}},Te=F=>{if(!(!We||!Et))if(fn)if(!Ge)Ge=!0,Nn={x:F.clientX,y:F.clientY},_={x:0,y:0},q.style.cursor="grab";else{const ue=F.clientX-Nn.x,ye=F.clientY-Nn.y;if(ue!==0||ye!==0){const ge=te.area.transform;te.area.translate(ge.x+ue,ge.y+ye),_.x+=ue,_.y+=ye,Nn={x:F.clientX,y:F.clientY}}}else Ge&&(Ge=!1,q.style.cursor="")};window.addEventListener("keydown",L,!0),window.addEventListener("keyup",he,!0),q.addEventListener("pointermove",Te,!0);const Ne=document.createElement("div");Ne.classList.add("selection-box"),q.appendChild(Ne);let At=!1,jn={x:0,y:0};const Ie=N.current,Xt=()=>{At&&(Ce(" Safety reset: clearing stuck lasso selection"),At=!1,Ne.style.display="none")},_t=()=>{Xt(),window.resetEditorDragState&&window.resetEditorDragState()},Tt=()=>{document.hidden&&(Xt(),window.resetEditorDragState&&window.resetEditorDragState())};window.addEventListener("blur",_t),document.addEventListener("visibilitychange",Tt);const vs=F=>{try{const ue=F.target;ue&&(ue.tagName==="INPUT"||ue.tagName==="TEXTAREA"||ue.isContentEditable)||(q.tabIndex=-1,q.focus())}catch{}if((F.ctrlKey||F.metaKey)&&F.button===0){F.stopPropagation(),F.preventDefault(),At=!0;const ue=q.getBoundingClientRect();jn={x:F.clientX-ue.left,y:F.clientY-ue.top},Ne.style.display="block",Ne.style.left=`${jn.x}px`,Ne.style.top=`${jn.y}px`,Ne.style.width="0px",Ne.style.height="0px",F.shiftKey||(Ie.forEach(ye=>{const ge=te.nodeViews.get(ye);ge&&ge.element&&(ge.element.classList.remove("selected"),ge.element.style.outline="")}),Ie.clear(),Me&&Me.entities&&Array.from(Me.entities).forEach(ye=>Me.remove(ye)))}},bs=F=>{if(!At)return;const ue=q.getBoundingClientRect(),ye=F.clientX-ue.left,ge=F.clientY-ue.top,Re=Math.min(jn.x,ye),Ke=Math.min(jn.y,ge),Dt=Math.abs(ye-jn.x),Gt=Math.abs(ge-jn.y);Ne.style.left=`${Re}px`,Ne.style.top=`${Ke}px`,Ne.style.width=`${Dt}px`,Ne.style.height=`${Gt}px`},ws=F=>{if(!At)return;const ue=Ne.getBoundingClientRect();if(At=!1,Ne.style.display="none",ue.width<5&&ue.height<5)return;const ye=[];se.getNodes().forEach(ge=>{const Re=te.nodeViews.get(ge.id);if(Re&&Re.element){const Ke=Re.element.getBoundingClientRect();ue.left<=Ke.left&&ue.right>=Ke.right&&ue.top<=Ke.top&&ue.bottom>=Ke.bottom&&ye.push({node:ge,view:Re})}}),ye.forEach(({node:ge,view:Re})=>{Ie.add(ge.id),Me.add({id:ge.id,label:"node",translate(Ke,Dt){},unselect(){Re.element.classList.remove("selected"),Re.element.style.outline=""}},!1),Re.element.classList.add("selected"),Re.element.style.outline="3px solid #00f3ff"})},Ss=()=>{Ie.size>0&&(Ie.forEach(F=>{const ue=te.nodeViews.get(F);ue&&ue.element&&(ue.element.classList.remove("selected"),ue.element.style.outline="")}),Ie.clear()),Me&&Me.entities&&(Me.entities instanceof Map?Array.from(Me.entities.values()):Array.from(Me.entities)).forEach(ue=>{ue.unselect&&ue.unselect(),Me.remove(ue)}),se.getNodes().forEach(F=>{const ue=te.nodeViews.get(F.id);ue&&ue.element&&ue.element.classList.remove("selected")})},xs=F=>{if(!F.ctrlKey&&!F.metaKey&&!At){let ue=!1;for(const[ye,ge]of te.nodeViews)if(ge.element.contains(F.target)){ue=!0;break}if(!ue){const ye=F.target;(ye===q||ye.classList.contains("rete-area")||ye.closest('[data-testid="area"]'))&&Ss()}}};q.addEventListener("pointerdown",vs,{capture:!0}),q.addEventListener("click",xs),window.addEventListener("pointermove",bs),window.addEventListener("pointerup",ws),se.addPipe(F=>((F.type==="connectioncreated"||F.type==="connectionremoved")&&Ee(),F));let pa={activeBackdropId:null,isDragging:!1},Dn=!1,Ut=null;const nn=F=>{Dn=F,Ut&&(clearTimeout(Ut),Ut=null),F&&(Ut=setTimeout(()=>{Dn&&(Ce(" Safety reset: clearing stuck isGroupMoving"),Dn=!1),Ut=null},500))},ir=()=>{At&&(Ce(" Resetting stuck lasso selection"),At=!1,Ne.style.display="none"),Dn&&(Ce(" Resetting stuck group moving"),nn(!1)),pa.isDragging&&(Ce(" Resetting stuck backdrop drag"),pa.isDragging=!1,pa.activeBackdropId=null)};window.resetEditorDragState=ir;function $r(){const F=se.getNodes(),ue=F.filter(ge=>{const Re=En.getByInstance(ge);return Re&&Re.isBackdrop}),ye=F.filter(ge=>{const Re=En.getByInstance(ge);return!Re||!Re.isBackdrop});ue.forEach(ge=>{const Re=te.nodeViews.get(ge.id);if(!Re)return;Re.element&&(Re.element.style.zIndex="-10");const Ke=Re.position,Dt=[],Gt=ge.properties.width||400,Kt=ge.properties.height||300;ye.forEach(mn=>{const Mn=te.nodeViews.get(mn.id);if(!Mn)return;Mn.element&&parseInt(Mn.element.style.zIndex||"0",10)<0&&(Mn.element.style.zIndex="1");const Rn=Mn.position,sr=mn.width||180,Zc=mn.height||100,Es=Rn.x+sr/2,ks=Rn.y+Zc/2;Es>=Ke.x&&Es<=Ke.x+Gt&&ks>=Ke.y&&ks<=Ke.y+Kt&&Dt.push(mn.id)});const ct=ge.properties.capturedNodes.length;ge.properties.capturedNodes=Dt,ct!==Dt.length&&ge.changeCallback&&ge.changeCallback()})}return te.updateBackdropCaptures=$r,te.addPipe(F=>{if(F.type==="nodepicked"){const ue=F.data.id,ye=se.getNode(ue);We=!0,Et=ue,Ge=!1;try{if(ye&&C?.current!==void 0){const Re=te.nodeViews.get(ue)?.position||{x:0,y:0};C.current={nodeId:ue,label:ye.label,startPos:Re,active:!1,over:!1}}}catch{}if(ye){const Re=En.getByInstance(ye);if(Re&&Re.isBackdrop&&ye.properties.locked)return}!de.current&&!Ie.has(ue)&&(Ie.forEach(Re=>{const Ke=te.nodeViews.get(Re);Ke&&Ke.element&&(Ke.element.classList.remove("selected"),Ke.element.style.outline="")}),Ie.clear()),Ie.add(ue);const ge=te.nodeViews.get(ue);ge&&ge.element&&(ge.element.classList.add("selected"),ge.element.style.outline="3px solid #00f3ff")}return F}),te.addPipe(F=>{try{if(k.current)return F;const ue=ye=>{const ge=De.current?.getBoundingClientRect();if(!ge)return!1;const Ke=te.nodeViews.get(ye)?.element;if(!Ke)return!1;const Dt=Ke.getBoundingClientRect(),Gt=Dt.left+Dt.width/2,Kt=Dt.top+Dt.height/2;return Gt>=ge.left&&Gt<=ge.right&&Kt>=ge.top&&Kt<=ge.bottom};if(F.type==="nodetranslate"){const ye=C.current;if(!ye)return F;const ge=F.data?.id;if(!ge||ye.nodeId!==ge)return F;ye.active||(ye.active=!0,!ye.startPos&&F.data?.previous&&(ye.startPos=F.data.previous));const Re=ue(ge);return Re!==ye.over&&(ye.over=Re,Pe(Re)),F}if(F.type==="nodedragged"){const ye=C.current;if(!ye)return F;const ge=F.data?.id;if(!ge||ye.nodeId!==ge)return F;if(ye.active&&ue(ge)){H(ye.label);const Ke=ye.startPos;Ke&&setTimeout(()=>{try{te.translate(ge,Ke)}catch{}},0)}return C.current=null,Pe(!1),F}}catch{}return F}),te.addPipe(F=>{if(F.type==="render"&&F.data?.payload){const ue=F.data.payload,ye=En.getByInstance(ue);ye&&ye.isBackdrop&&setTimeout(()=>{const ge=te.nodeViews.get(ue.id);if(ge&&ge.element){ge.element.style.zIndex!=="-10"&&(ge.element.style.zIndex="-10");const Re=ue.properties.locked?"none":"auto";ge.element.style.pointerEvents!==Re&&(ge.element.style.pointerEvents=Re)}},0)}if(F.type==="nodetranslate"){if(k.current||Dn)return F;const ue=F.data.id,ye=se.getNode(ue);if(!ye)return F;const ge=F.data.position,Re=F.data.previous,Ke=ge.x-Re.x,Dt=ge.y-Re.y;if(Ke===0&&Dt===0)return F;if(Ge&&Et===ue)return{...F,data:{...F.data,position:F.data.previous}};if(Ie.size>1&&Ie.has(ue)){nn(!0);const Kt=[];return Ie.forEach(ct=>{if(ct!==ue){const mn=te.nodeViews.get(ct);if(mn){const Mn=mn.position.x+Ke,Rn=mn.position.y+Dt;Kt.push(te.translate(ct,{x:Mn,y:Rn}))}}}),Promise.all(Kt).then(()=>{nn(!1)}),F}const Gt=En.getByInstance(ye);if(Gt&&Gt.isBackdrop){if(ye.properties.locked)return{...F,data:{...F.data,position:F.data.previous}};if(pa.activeBackdropId!==ue&&(pa.activeBackdropId=ue,pa.isDragging=!0,$r()),ye.properties.capturedNodes.length>0){nn(!0);const Kt=[];return ye.properties.capturedNodes.forEach(ct=>{if(!Ie.has(ct)){const mn=te.nodeViews.get(ct);if(mn){const Mn=mn.position.x+Ke,Rn=mn.position.y+Dt;Kt.push(te.translate(ct,{x:Mn,y:Rn}))}}}),Promise.all(Kt).then(()=>{nn(!1)}),F}}}if(F.type==="nodedragged"){if(k.current)return F;pa.isDragging=!1,pa.activeBackdropId=null,We=!1,Et=null,Ge&&(Ge=!1,q.style.cursor=""),$r()}return F}),Q.current=se,X.current=te,V.current=Me,window.updateBackdropLockState=(F,ue)=>{const ye=te.nodeViews.get(F);ye&&ye.element&&(ye.element.style.pointerEvents=ue?"none":"auto",Ce(" Updated backdrop lock state:",F,"locked:",ue))},r(se),l(te),f(ie),{destroy:()=>{q.removeEventListener("pointerdown",vs,{capture:!0}),q.removeEventListener("click",xs),q.removeEventListener("pointermove",Te,!0),window.removeEventListener("pointermove",bs),window.removeEventListener("pointerup",ws),window.removeEventListener("pointermove",xt),window.removeEventListener("keyup",ze),window.removeEventListener("keydown",L,!0),window.removeEventListener("keyup",he,!0),window.removeEventListener("blur",_t),document.removeEventListener("visibilitychange",Tt),Ut&&clearTimeout(Ut),Ne.parentNode&&Ne.parentNode.removeChild(Ne),te.destroy()},selector:Me,editor:se,area:te,engine:ie,process:Ee,processImmediate:J}},[]);E.useEffect(()=>{const q=a.current;if(!q)return;let se=null,te=null,_e=null;const me=new Map,ie=J=>{try{typeof J.pointerId=="number"&&me.set(J.pointerId,{el:J.target,pointerType:J.pointerType||"mouse"})}catch{}},D=J=>{try{typeof J.pointerId=="number"&&me.delete(J.pointerId)}catch{}},K=J=>{try{typeof J.pointerId=="number"&&me.delete(J.pointerId)}catch{}};q.addEventListener("gotpointercapture",ie,!0),q.addEventListener("lostpointercapture",D,!0),window.addEventListener("pointerup",K,!0),window.addEventListener("pointercancel",K,!0),te=$N().then(()=>(Ce(" External plugins loaded, now creating editor..."),xe(q))).then(J=>{J.editor,se=J.area,J.engine,J.selector,r(J.editor),l(J.area),f(J.engine),p(J.selector),Z.current=J.processImmediate,setTimeout(()=>{if(q){q.tabIndex=-1,q.focus();const ve=q.getBoundingClientRect(),Ue=ve.left+ve.width/2,$e=ve.top+ve.height/2,bt=new WheelEvent("wheel",{bubbles:!0,cancelable:!0,clientX:Ue,clientY:$e,deltaY:0});q.dispatchEvent(bt),Ce(" Container initialized and focused"),window.resetEditorView=()=>{Ce(" Manual reset triggered"),requestAnimationFrame(()=>{window.resetEditorDragState&&window.resetEditorDragState();const Me=q.getBoundingClientRect(),et=Me.left+Me.width/2,st=Me.top+Me.height/2;q.tabIndex=-1,q.focus();try{const xt=Array.from(me.entries());me.clear(),xt.forEach(([ze,We])=>{const Ge=We?.el,Et=We?.pointerType||"mouse";try{const fn=new PointerEvent("pointercancel",{bubbles:!0,cancelable:!0,pointerId:ze,pointerType:Et});q.dispatchEvent(fn)}catch{}try{q.releasePointerCapture(ze)}catch{}try{Ge&&typeof Ge.releasePointerCapture=="function"&&Ge.releasePointerCapture(ze)}catch{}})}catch{}try{for(let ze=0;ze<5;ze++)try{q.releasePointerCapture(ze)}catch{}q.querySelectorAll(".node, .connection, [data-drag]").forEach(ze=>{try{ze.releasePointerCapture(1)}catch{}})}catch{}if(se){const xt=new PointerEvent("pointercancel",{bubbles:!0,cancelable:!0,pointerId:1,pointerType:"mouse"});q.dispatchEvent(xt);const ze=new PointerEvent("lostpointercapture",{bubbles:!0,cancelable:!0,pointerId:1,pointerType:"mouse"});q.dispatchEvent(ze)}setTimeout(()=>{const xt=new PointerEvent("pointerdown",{bubbles:!0,cancelable:!0,clientX:et,clientY:st,pointerId:1,pointerType:"mouse",isPrimary:!0,button:0,buttons:1}),ze=new PointerEvent("pointerup",{bubbles:!0,cancelable:!0,clientX:et,clientY:st,pointerId:1,pointerType:"mouse",isPrimary:!0,button:0,buttons:0});q.dispatchEvent(xt),setTimeout(()=>{q.dispatchEvent(ze);const We=new WheelEvent("wheel",{bubbles:!0,cancelable:!0,clientX:et,clientY:st,deltaY:0});q.dispatchEvent(We),Ce(" Reset complete")},50)},50)})}}},100);let ae=!1;return _e=new ResizeObserver(ve=>{for(const Ue of ve){const{width:$e,height:bt}=Ue.contentRect;!ae&&$e>0&&bt>0&&(ae=!0,Ce(" ResizeObserver: Container now has size",$e,bt),setTimeout(()=>{q.focus();const Me=q.getBoundingClientRect(),et=new WheelEvent("wheel",{bubbles:!0,cancelable:!0,clientX:Me.left+Me.width/2,clientY:Me.top+Me.height/2,deltaY:0});q.dispatchEvent(et)},50))}}),_e.observe(q),J});const Ee=()=>{Ce(" graphLoadComplete event received - triggering view reset");const J=()=>{window.resetEditorView&&window.resetEditorView()};J(),setTimeout(J,100),setTimeout(J,500),setTimeout(J,1e3)};return window.addEventListener("graphLoadComplete",Ee),()=>{_e&&_e.disconnect(),window.removeEventListener("graphLoadComplete",Ee),q.removeEventListener("gotpointercapture",ie,!0),q.removeEventListener("lostpointercapture",D,!0),window.removeEventListener("pointerup",K,!0),window.removeEventListener("pointercancel",K,!0),te.then(J=>J.destroy())}},[xe]),E.useEffect(()=>{if(!n||!s||!h)return;const q=async D=>{if(D.target.tagName==="INPUT"||D.target.tagName==="TEXTAREA"||D.target.isContentEditable)return;if(Ce(` KeyDown: ${D.code} (Ctrl: ${D.ctrlKey}, Meta: ${D.metaKey})`),D.code==="F5"||(D.ctrlKey||D.metaKey)&&D.shiftKey&&D.code==="KeyR"){D.preventDefault(),Ce(" View reset shortcut triggered"),window.resetEditorView&&window.resetEditorView();return}if(D.code==="KeyF"&&!D.ctrlKey&&!D.metaKey&&!D.altKey){D.preventDefault();const ve=X.current,Ue=Q.current;if(ve&&Ue){const $e=Ue.getNodes();$e.length>0&&(Ce(" Zoom extents triggered (F key)"),_r.zoomAt(ve,$e,{scale:.9}).catch(bt=>{console.warn("[F key] zoomAt failed:",bt)}))}return}const K=Q.current,Ee=X.current,J=V.current;if(!K||!Ee){Ce(" No editor/area ref available");return}const ae=()=>{const ve=new Set;if(J&&J.entities&&J.entities instanceof Map)for(const[Ue,$e]of J.entities)K.getNode(Ue)&&ve.add(Ue);for(const Ue of N.current){const $e=K.getNode(Ue);Ce(` Checking node ${Ue}: exists=${!!$e}`),$e&&ve.add(Ue)}return Ce(` Found ${ve.size} selected nodes:`,Array.from(ve)),Array.from(ve)};if(D.code==="Delete"||D.code==="Backspace"){Ce(" Delete key pressed. lassoSelectedNodesRef.current size:",N.current.size),Ce(" lassoSelectedNodesRef.current contents:",Array.from(N.current));const ve=ae();if(Ce(` Deleting ${ve.length} nodes:`,ve),ve.length>0){const Ue=[],$e=[],bt=new Set(ve);for(const Me of K.getConnections())(bt.has(Me.source)||bt.has(Me.target))&&$e.push({source:Me.source,target:Me.target,sourceOutput:Me.sourceOutput,targetInput:Me.targetInput});for(const Me of ve){const et=K.getNode(Me);et&&Ue.push({id:Me,label:et.label,position:Ee.nodeViews.get(Me)?.position||{x:0,y:0},properties:JSON.parse(JSON.stringify(et.properties||{}))})}le.current.push({type:"delete",nodes:Ue,connections:$e}),Ce(" Saved undo state:",le.current.length,"items in stack");for(const Me of ve){const et=K.getConnections().filter(st=>st.source===Me||st.target===Me);for(const st of et)await K.removeConnection(st.id);await K.removeNode(Me),N.current.delete(Me)}}}if((D.ctrlKey||D.metaKey)&&D.code==="KeyZ"&&!D.shiftKey){if(D.preventDefault(),le.current.length===0){Ce(" Nothing to undo");return}const ve=le.current.pop();if(Ce(" Undoing:",ve.type,ve.nodes.length,"nodes"),ve.type==="delete"){const Ue={};k.current=!0;try{for(const $e of ve.nodes){const bt=En.getByLabel($e.label);if(bt){let Me;const et=()=>{Ee&&Ee.update("node",Me.id),c&&K&&(c.reset(),setTimeout(()=>{K.getNodes().forEach(async Vt=>{try{await c.fetch(Vt.id)}catch{}})},0))},st=()=>{bt.updateStrategy==="dataflow"?(c&&c.reset(),c&&K&&setTimeout(()=>{K.getNodes().forEach(async Vt=>{try{await c.fetch(Vt.id)}catch{}})},0)):et()};Me=bt.factory(st),$e.properties&&Object.assign(Me.properties,$e.properties),await K.addNode(Me),await Ee.translate(Me.id,$e.position),Ue[$e.id]=Me.id}}for(const $e of ve.connections){const bt=Ue[$e.source]||$e.source,Me=Ue[$e.target]||$e.target,et=K.getNode(bt),st=K.getNode(Me);if(et&&st)try{await K.addConnection(new Ft.Connection(et,$e.sourceOutput,st,$e.targetInput))}catch(Vt){console.warn("[Editor] Could not restore connection:",Vt)}}Ce(" Undo complete - restored",ve.nodes.length,"nodes")}finally{k.current=!1,Ee?.updateBackdropCaptures?.()}}}if((D.ctrlKey||D.metaKey)&&D.code==="KeyC")try{const ve=ae();if(ve.length===0){Ce(" Nothing selected to copy");return}Ce(` Copying ${ve.length} nodes`);const Ue=[],$e=new Set(ve);for(const et of ve){const st=K.getNode(et);st&&Ue.push({label:st.label,position:Ee.nodeViews.get(st.id)?.position||{x:0,y:0},data:{id:st.id,properties:JSON.parse(JSON.stringify(st.properties||{}))}})}if(Ue.length===0){Ce(" Nothing selected to copy (no nodes in selection)");return}const bt=[];for(const et of K.getConnections())$e.has(et.source)&&$e.has(et.target)&&bt.push({source:et.source,target:et.target,sourceOutput:et.sourceOutput,targetInput:et.targetInput});const Me={nodes:Ue,connections:bt};localStorage.setItem("rete-clipboard",JSON.stringify(Me)),Ce("Copied to clipboard:",Me)}catch(ve){console.error("[Editor] Copy failed:",ve)}if((D.ctrlKey||D.metaKey)&&D.code==="KeyV"){const ve=localStorage.getItem("rete-clipboard");if(!ve){Ce(" Clipboard empty");return}try{const Ue=JSON.parse(ve),$e={},Me=(X.current?.container||a.current)?.getBoundingClientRect()||{left:0,top:0},et=Ee.area.transform,st=(P.current.x-Me.left-et.x)/et.k,Vt=(P.current.y-Me.top-et.y)/et.k;let xt=1/0,ze=1/0;for(const Ge of Ue.nodes)xt=Math.min(xt,Ge.position.x),ze=Math.min(ze,Ge.position.y);J&&J.entities&&Array.from(J.entities).forEach(Ge=>J.remove(Ge)),k.current=!0;try{for(const Ge of Ue.nodes){let Et;const fn=En.getByLabel(Ge.label);if(fn){const Nn=()=>{Ee&&Ee.update("node",Et.id),c&&K&&(c.reset(),setTimeout(()=>{K.getNodes().forEach(async L=>{try{await c.fetch(L.id)}catch{}})},0))},_=()=>{fn.updateStrategy==="dataflow"?(c&&c.reset(),c&&K&&setTimeout(()=>{K.getNodes().forEach(async L=>{try{await c.fetch(L.id)}catch{}})},0)):Nn()};Et=fn.factory(_)}if(Et){typeof Et.restore=="function"&&Ge.data?Et.restore(Ge.data):Ge.data&&Ge.data.properties&&Et.properties&&Object.assign(Et.properties,Ge.data.properties),await K.addNode(Et);const Nn=Ge.position.x-xt,_=Ge.position.y-ze,L={x:st+Nn,y:Vt+_};await Ee.translate(Et.id,L),$e[Ge.data.id]=Et.id,J&&J.add({id:Et.id,label:"node",translate:()=>{},unmount:()=>{},unselect:()=>{}},!0)}}}finally{k.current=!1,Ee?.updateBackdropCaptures?.()}const We=[];for(const Ge of Ue.connections){const Et=$e[Ge.source],fn=$e[Ge.target];if(Et&&fn){const Nn=K.getNode(Et),_=K.getNode(fn);Nn&&_&&We.push(K.addConnection(new Ft.Connection(Nn,Ge.sourceOutput,_,Ge.targetInput)))}}if(await Promise.all(We),c&&K){c.reset();for(const Ge of K.getNodes())try{await c.fetch(Ge.id)}catch{}}Ce("Pasted from clipboard")}catch(Ue){console.error("[Editor] Paste failed:",Ue)}}D.code==="Home"&&(D.preventDefault(),Ee.area&&(Ee.area.zoom(1,0,0),Ee.area.translate(0,0),Ce(" Viewport reset via Home key"))),D.code==="Escape"&&window.resetEditorDragState&&(window.resetEditorDragState(),Ce(" Drag state reset via Escape key"))},se=D=>{P.current={x:D.clientX,y:D.clientY}},te=D=>{D.key==="Shift"&&(de.current=!0)},_e=D=>{D.key==="Shift"&&(de.current=!1)},me=()=>{Ce(" Received delete from Electron IPC"),q({code:"Delete",ctrlKey:!1,metaKey:!1,target:{tagName:"DIV",isContentEditable:!1}})};let ie=null;return window.api&&window.api.onDeleteKey&&(ie=window.api.onDeleteKey(me)),window.addEventListener("keydown",q),window.addEventListener("keydown",te),window.addEventListener("keyup",_e),window.addEventListener("mousemove",se),()=>{window.removeEventListener("keydown",q),window.removeEventListener("keydown",te),window.removeEventListener("keyup",_e),window.removeEventListener("mousemove",se),ie&&ie()}},[n,s,c,h]),E.useEffect(()=>{const q=a.current;if(!q||!n||!s)return;const se=te=>{const _e=te.target.closest('[data-testid="node"]');if(_e){te.preventDefault();const me=_e.dataset.nodeId||Array.from(s.nodeViews.entries()).find(([ie,D])=>D.element===_e)?.[0];if(me){const ie=n.getNode(me);oe({visible:!0,position:{x:te.clientX,y:te.clientY},items:[{label:"Delete",handler:async()=>{const D=n.getConnections().filter(K=>K.source===me||K.target===me);for(const K of D)await n.removeConnection(K.id);await n.removeNode(me)}}],nodeContext:ie})}}else{te.preventDefault();const me=window._t2GetMenuItems?window._t2GetMenuItems():[];oe({visible:!0,position:{x:te.clientX,y:te.clientY},items:me,nodeContext:null})}};return q.addEventListener("contextmenu",se),()=>{q.removeEventListener("contextmenu",se)}},[n,s]);const x=E.useCallback(()=>{oe(q=>({...q,visible:!1}))},[]),R=E.useCallback(async q=>{q.handler&&await q.handler(I.position)},[I.position]),A=async()=>{if(!(!n||!s))try{const q=n.getNodes().map(ae=>{const ve=typeof ae.toJSON=="function"?ae.toJSON():{...ae};return ae.properties&&(ve.properties=ae.properties),{id:ae.id,label:ae.label,position:s.nodeViews.get(ae.id)?.position||{x:0,y:0},data:ve}}),se=n.getConnections().map(ae=>({id:ae.id,source:ae.source,target:ae.target,sourceOutput:ae.sourceOutput,targetInput:ae.targetInput})),te=s.area?.transform?{x:s.area.transform.x,y:s.area.transform.y,k:s.area.transform.k}:{x:0,y:0,k:1},me=JSON.stringify({nodes:q,connections:se,viewport:te},null,2);try{me.length<2e6&&(localStorage.removeItem("saved-graph"),localStorage.setItem("saved-graph",me))}catch{console.warn("localStorage skipped")}Ce("Graph saved to localStorage");try{const ae=await fetch(Sa("/api/engine/save-active"),{method:"POST",headers:{"Content-Type":"application/json"},body:me});ae.ok?Ce("[handleSave] Graph saved to server as last active"):console.warn("[handleSave] Failed to save to server:",ae.status)}catch(ae){console.warn("[handleSave] Failed to save to server:",ae)}if(window.api?.saveTempFile)try{await window.api.saveTempFile("autotron_graph.json",me),Ce("[handleSave] Saved temp file for Electron reload")}catch(ae){console.warn("[handleSave] Failed to save temp file via Electron API",ae)}if(window.self!==window.top||window.location.pathname.includes("/api/hassio")){Ce("Running in HA ingress - graph saved to server only (no file picker)"),window.T2Toast&&window.T2Toast.success("Graph saved to Home Assistant",2e3);return}if(window.showSaveFilePicker)try{const ve=await(await window.showSaveFilePicker({suggestedName:"autotron_graph.json",types:[{description:"AutoTron Graph",accept:{"application/json":[".json"]}}]})).createWritable();await ve.write(me),await ve.close(),Ce("Graph saved to file");return}catch(ae){if(ae.name==="AbortError")return;console.warn("File System Access API failed, falling back to download",ae)}const K=new Blob([me],{type:"application/json"}),Ee=URL.createObjectURL(K),J=document.createElement("a");J.href=Ee,J.download=`autotron_graph_${Date.now()}.json`,J.click(),URL.revokeObjectURL(Ee),Ce("Graph saved via download")}catch(q){console.error("Failed to save graph:",q)}};E.useEffect(()=>(window.triggerGraphSave=async()=>{if(!(!n||!s))try{const q=n.getNodes().map(ie=>{const D=typeof ie.toJSON=="function"?ie.toJSON():{...ie};return ie.properties&&(D.properties=ie.properties),{id:ie.id,label:ie.label,position:s.nodeViews.get(ie.id)?.position||{x:0,y:0},data:D}}),se=n.getConnections().map(ie=>({id:ie.id,source:ie.source,target:ie.target,sourceOutput:ie.sourceOutput,targetInput:ie.targetInput})),te=s.area?.transform?{x:s.area.transform.x,y:s.area.transform.y,k:s.area.transform.k}:{x:0,y:0,k:1},_e={nodes:q,connections:se,viewport:te,preUpdateSave:!0,timestamp:Date.now()},me=JSON.stringify(_e);me.length<2e6&&(localStorage.setItem("saved-graph",me),Ce("[triggerGraphSave] Graph saved before update"))}catch(q){console.warn("[triggerGraphSave] Failed:",q)}},()=>{delete window.triggerGraphSave}),[n,s]);const[$,pe]=E.useState(!1),Oe=E.useRef(null),Ve=E.useRef(Date.now());E.useEffect(()=>{if(!n)return;const q=()=>{pe(!0)};n.addPipe(se=>(["nodecreated","noderemoved","connectioncreated","connectionremoved"].includes(se.type)&&q(),se))},[n]),E.useEffect(()=>{if(!n||!s)return;const q=async()=>{if(!(window.graphLoading||U.current)&&$)try{const se=n.getNodes().map(D=>{const K=typeof D.toJSON=="function"?D.toJSON():{...D};return D.properties&&(K.properties=D.properties),{id:D.id,label:D.label,position:s.nodeViews.get(D.id)?.position||{x:0,y:0},data:K}}),te=n.getConnections().map(D=>({id:D.id,source:D.source,target:D.target,sourceOutput:D.sourceOutput,targetInput:D.targetInput})),_e=s.area?.transform?{x:s.area.transform.x,y:s.area.transform.y,k:s.area.transform.k}:{x:0,y:0,k:1},me={nodes:se,connections:te,viewport:_e,autoSaved:!0,timestamp:Date.now()},ie=JSON.stringify(me);if(ie.length<2e6){localStorage.setItem("saved-graph",ie),Ve.current=Date.now(),pe(!1);try{await fetch(Sa("/api/engine/save-active"),{method:"POST",headers:{"Content-Type":"application/json"},body:ie})}catch{}window.T2Toast&&window.T2Toast.success("Auto-saved",2e3)}}catch(se){console.warn("[Auto-save] Failed:",se)}};return Oe.current=setInterval(q,12e4),()=>{Oe.current&&clearInterval(Oe.current)}},[n,s,$]),E.useEffect(()=>{if(!n||!s||!c)return;if(sessionStorage.getItem("autoLoadAfterUpdate")==="true"){sessionStorage.removeItem("autoLoadAfterUpdate"),Ce("[AutoLoad] Detected post-update reload, attempting to restore graph...");const se=setTimeout(async()=>{try{const te=localStorage.getItem("saved-graph");if(te){Ce("[AutoLoad] Found saved graph, loading...");const _e=JSON.parse(te);_e.nodes&&_e.nodes.length>0&&(window.T2Toast&&window.T2Toast.info("Restoring your graph after update...",3e3),document.dispatchEvent(new CustomEvent("autoLoadGraph")))}}catch(te){console.warn("[AutoLoad] Failed to auto-load graph:",te)}},1e3);return()=>clearTimeout(se)}},[n,s,c]);const it=E.useRef(!1);E.useEffect(()=>{if(!n||!s||!c||it.current)return;if(!(window.self!==window.top||window.location.pathname.includes("/api/hassio"))){const me=localStorage.getItem("saved-graph"),ie=sessionStorage.getItem("autoLoadAfterUpdate")==="true";if(me||ie){Ce("[ServerAutoLoad] Skipping - desktop mode with local graph");return}}it.current=!0;const _e=setTimeout(async()=>{try{Ce("[ServerAutoLoad] Fetching last active graph from server...");const ie=await(await fetch(Sa("/api/engine/last-active"))).json();ie.success&&ie.graph?(Ce("[ServerAutoLoad] Found last active graph, loading..."),localStorage.setItem("saved-graph",JSON.stringify(ie.graph)),window.T2Toast&&window.T2Toast.info("Loading your last graph...",2e3),setTimeout(()=>{document.dispatchEvent(new CustomEvent("autoLoadGraph"))},500)):Ce("[ServerAutoLoad] No last active graph on server")}catch(me){console.warn("[ServerAutoLoad] Failed to fetch from server:",me)}},1500);return()=>clearTimeout(_e)},[n,s,c]);const Je=async()=>{if(!n||!s||!c){console.error("[handleLoad] Missing instances:",{editor:!!n,area:!!s,engine:!!c});return}try{let q=localStorage.getItem("saved-graph");if(!q&&window.api?.readTempFile)try{const ie=await window.api.readTempFile("autotron_graph.json");ie?.success&&ie.content&&(q=ie.content,Ce("[handleLoad] Loaded graph from Electron temp file"))}catch(ie){console.warn("[handleLoad] Failed to read Electron temp file",ie)}if(!q){alert("No saved graph found");return}const se=JSON.parse(q);Ce(`[handleLoad] Loading graph with ${se.nodes?.length} nodes`);const te=nb(se);if(!te.valid){console.warn("[handleLoad] Graph validation failed:",te.errors),window.T2Toast&&window.T2Toast.warning(`Graph has issues: ${te.errors.length} errors`,4e3);const ie=ab(se);ie.repaired&&(Ce("[handleLoad] Graph repaired:",ie.fixes),window.T2Toast&&window.T2Toast.info(`Graph repaired: ${ie.fixes.length} fixes applied`,3e3),Object.assign(se,ie.graphData))}te.warnings.length>0&&console.warn("[handleLoad] Graph warnings:",te.warnings),await Yt();const _e=n.getNodes();if(_e.length>0){console.error("[handleLoad] Clear did not work! Still have",_e.length,"nodes");for(const ie of _e)try{await n.removeNode(ie.id)}catch(D){console.error("[handleLoad] Force remove failed:",D)}}if(k.current=!0,U.current=!0,s?.area)try{s.area.zoom(.1,0,0),s.area.translate(0,0)}catch{}try{for(const D of se.nodes){let K;const Ee=En.getByLabel(D.label);if(Ee){const J=()=>{if(U.current){s&&s.update("node",D.id);return}s&&s.update("node",D.id),c&&n&&(c.reset(),setTimeout(()=>{n.getNodes().forEach(async ae=>{try{await c.fetch(ae.id)}catch{}})},0))};K=Ee.factory(J)}K&&(K.id=D.id,typeof K.restore=="function"&&D.data?K.restore(D.data):D.data&&D.data.properties&&K.properties&&Object.assign(K.properties,D.data.properties),await n.addNode(K),await s.translate(K.id,D.position))}const ie=[];for(const D of se.connections){const K=n.getNode(D.source),Ee=n.getNode(D.target);K&&Ee&&ie.push(n.addConnection(new Ft.Connection(K,D.sourceOutput,Ee,D.targetInput)))}await Promise.all(ie)}finally{k.current=!1,s?.updateBackdropCaptures?.()}const me=n.getNodes();if(me.length>0&&s){Ce("[handleLoad] Zooming to fit",me.length,"nodes...");try{await _r.zoomAt(s,me,{scale:.9})}catch(ie){console.warn("[handleLoad] zoomAt failed:",ie)}}Z.current&&(Ce("[handleLoad] Processing graph immediately..."),await Z.current(),Ce("[handleLoad] Graph processing complete")),U.current=!1,Ce("[handleLoad] Setting up viewport restoration timer..."),setTimeout(()=>{if(Ce("[handleLoad] Viewport restoration timer fired, areaInstance:",!!s,"area:",!!s?.area),s?.area){const ie=se.viewport||{x:0,y:0,k:1},D=ie.k||1,K=ie.x||0,Ee=ie.y||0;Ce("[handleLoad] Restoring viewport:",{savedX:K,savedY:Ee,savedK:D}),Ce("[handleLoad] Current transform before restore:",{...s.area.transform});try{s.area.zoom(D,0,0),s.area.translate(K,Ee)}catch(ae){console.warn("[handleLoad] Viewport restore failed:",ae)}Ce("[handleLoad] Transform after restore:",{...s.area.transform});const J=s.container;if(J){J.tabIndex=-1,J.focus(),document.activeElement&&document.activeElement!==J&&document.activeElement.tagName!=="BODY"&&document.activeElement.blur();const ae=()=>{window.resetEditorView&&window.resetEditorView()};setTimeout(ae,100),setTimeout(ae,500),setTimeout(ae,1e3)}n.getNodes().forEach(ae=>{const ve=s.nodeViews.get(ae.id);if(ve?.element)try{for(let Ue=0;Ue<10;Ue++)try{ve.element.releasePointerCapture(Ue)}catch{}}catch{}})}},300),Ce("Graph loaded")}catch(q){console.error("Failed to load graph:",q),U.current=!1,alert("Failed to load graph")}},Wt=async()=>{if(!n||!s||!c){console.error("[handleLoadExample] Missing instances");return}if(!(n.getNodes().length>0&&!confirm("This will replace your current graph with the starter example. Continue?")))try{const se=await fetch(Sa("/api/examples/starter"));if(!se.ok)throw new Error(`Failed to fetch example: ${se.status}`);const te=await se.json();if(!te.success||!te.graph)throw new Error("Invalid example graph response");localStorage.setItem("saved-graph",JSON.stringify(te.graph)),Ce("[handleLoadExample] Example graph loaded, triggering handleLoad..."),await Je(),window.T2Toast&&window.T2Toast.success("Starter example loaded! Select devices from the dropdowns.")}catch(se){console.error("[handleLoadExample] Failed:",se),alert("Failed to load example graph: "+se.message)}};E.useEffect(()=>{const q=()=>{Ce("[AutoLoadEvent] Received autoLoadGraph event, calling handleLoad..."),Je()};return document.addEventListener("autoLoadGraph",q),()=>document.removeEventListener("autoLoadGraph",q)},[n,s,c]);const Yt=async()=>{if(!n){console.warn("[handleClear] No editor instance!");return}try{const q=n.getConnections(),se=n.getNodes();Ce(`[handleClear] Removing ${q.length} connections and ${se.length} nodes`);for(const _e of q)await n.removeConnection(_e.id);for(const _e of se)await n.removeNode(_e.id);const te=n.getNodes();Ce(`[handleClear] Complete. Remaining nodes: ${te.length}`),te.length>0&&console.error("[handleClear] Failed to remove all nodes! Remaining:",te.map(_e=>_e.id))}catch(q){console.error("Failed to clear graph:",q)}},qe=()=>{if(!(!n||!s))try{const q=n.getNodes().map(K=>{const Ee=typeof K.toJSON=="function"?K.toJSON():{...K};return K.properties&&(Ee.properties=K.properties),{id:K.id,label:K.label,position:s.nodeViews.get(K.id)?.position||{x:0,y:0},data:Ee}}),se=n.getConnections().map(K=>({id:K.id,source:K.source,target:K.target,sourceOutput:K.sourceOutput,targetInput:K.targetInput})),te=s.area?.transform?{x:s.area.transform.x,y:s.area.transform.y,k:s.area.transform.k}:{x:0,y:0,k:1},_e={nodes:q,connections:se,viewport:te},me=new Blob([JSON.stringify(_e,null,2)],{type:"application/json"}),ie=URL.createObjectURL(me),D=document.createElement("a");D.href=ie,D.download=`graph-${Date.now()}.json`,D.click(),URL.revokeObjectURL(ie),Ce("Graph exported")}catch(q){console.error("Failed to export graph:",q)}},jt=async q=>{const se=nb(q);if(!se.valid){console.warn("[handleImport] Graph validation failed:",se.errors),window.T2Toast&&window.T2Toast.warning(`Graph has issues: ${se.errors.length} errors`,4e3);const me=ab(q);if(me.repaired)Ce("[handleImport] Graph repaired:",me.fixes),window.T2Toast&&window.T2Toast.info(`Graph repaired: ${me.fixes.length} fixes applied`,3e3),q=me.graphData;else if(!confirm(`Graph has ${se.errors.length} errors. Continue anyway?`))return}const te={log:console.log,warn:console.warn,error:console.error};console.log=()=>{},console.warn=()=>{};let _e=0;if(console.error=(...me)=>{_e++<10&&te.error(...me)},te.log("%c IMPORT STARTED (console suppressed)","background: green; color: white; font-size: 16px;"),window.graphLoading=!0,!n||!s||!c){Object.assign(console,te);return}try{if(await Yt(),k.current=!0,U.current=!0,s?.area)try{s.area.zoom(.1,0,0),s.area.translate(0,0)}catch{}try{for(const D of q.nodes){let K;const Ee=En.getByLabel(D.label);if(!Ee){console.warn(`[handleImport] No definition found for node label: "${D.label}"`);continue}if(Ee){const J=()=>{if(U.current||window.graphLoading){s&&s.update("node",D.id);return}if(s&&s.update("node",D.id),c&&n){if(window.graphLoading)return;c.reset(),setTimeout(()=>{window.graphLoading||n.getNodes().forEach(async ae=>{try{await c.fetch(ae.id)}catch{}})},0)}};K=Ee.factory(J)}K&&(K.id=D.id,D.label==="Timeline Color"&&te.log("[DEBUG-IMPORT] Timeline Color restore check:",{hasRestore:typeof K.restore=="function",hasData:!!D.data,dataKeys:D.data?Object.keys(D.data):"N/A",propertiesKeys:D.data?.properties?Object.keys(D.data.properties):"N/A",previewModeValue:D.data?.properties?.previewMode}),typeof K.restore=="function"&&D.data?K.restore(D.data):D.data&&D.data.properties&&K.properties&&Object.assign(K.properties,D.data.properties),await n.addNode(K),await s.translate(K.id,D.position))}const ie=[];for(const D of q.connections){const K=n.getNode(D.source),Ee=n.getNode(D.target);K&&Ee?ie.push(n.addConnection(new Ft.Connection(K,D.sourceOutput,Ee,D.targetInput))):console.warn(`[handleImport] Connection skipped - missing node: source=${D.source} (${!!K}), target=${D.target} (${!!Ee})`)}await Promise.all(ie)}finally{k.current=!1,s?.updateBackdropCaptures?.()}const me=n.getNodes();if(me.length>0&&s)try{await _r.zoomAt(s,me,{scale:.9})}catch{}U.current=!1,setTimeout(async()=>{window.graphLoading=!1,Ce("[handleImport] Graph loading complete - API calls now enabled"),window.dispatchEvent(new CustomEvent("graphLoadComplete")),Z.current&&(Ce("[handleImport] Running processImmediate to sync node states"),Z.current());try{const D=JSON.stringify(q,null,2);D.length<2e6&&(localStorage.removeItem("saved-graph"),localStorage.setItem("saved-graph",D),Ce("[handleImport] Graph saved to localStorage")),(await fetch(Sa("/api/engine/save-active"),{method:"POST",headers:{"Content-Type":"application/json"},body:D})).ok&&Ce("[handleImport] Graph saved to server as last active")}catch(D){console.warn("[handleImport] Failed to save imported graph:",D)}const ie=()=>{window.resetEditorView&&window.resetEditorView()};setTimeout(ie,100),setTimeout(ie,500)},2e3),Object.assign(console,te),console.log("%c IMPORT COMPLETE","background: green; color: white; font-size: 16px;"),Ce("Graph imported successfully. Pan/zoom should work now.")}catch(me){window.graphLoading=!1,typeof te<"u"&&Object.assign(console,te),console.error("Failed to import graph:",me),U.current=!1,alert("Failed to import graph: "+me.message)}};return m.jsxs("div",{style:{width:"100%",height:"100%",position:"relative"},children:[m.jsx(FN,{width:ee,panelRef:De,dropActive:Ye,favoriteGroups:fe,onAddFavorite:H,onRemoveFavorite:ce,onCreateNode:we}),m.jsx("div",{ref:a,className:"rete-editor",style:{width:"100%",height:"100%",marginRight:"320px",marginLeft:`${ee}px`}}),m.jsx("div",{ref:v}),(()=>{const q=y?S.current:v.current;return q?zr.createPortal(m.jsx(ZN,{onSave:A,onLoad:Je,onLoadExample:Wt,onClear:Yt,onExport:qe,onImport:jt,hasUnsavedChanges:$,isMerged:y,onToggleMerged:()=>b(se=>!se)}),q):null})(),m.jsx(PN,{dockSlotRef:S}),m.jsx(XN,{visible:I.visible,position:I.position,items:I.items,onClose:x,onSelect:R})]})}class cj extends ka.Component{constructor(n){super(n),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0}}componentDidCatch(n,r){console.error("[ErrorBoundary] Caught error:",n),console.error("[ErrorBoundary] Error info:",r),this.setState({error:n,errorInfo:r})}handleReload=()=>{window.location.reload()};handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){return this.state.hasError?m.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",backgroundColor:"#1a1a2e",color:"#eee",fontFamily:"system-ui, -apple-system, sans-serif",padding:"20px",textAlign:"center"},children:m.jsxs("div",{style:{backgroundColor:"#252540",borderRadius:"12px",padding:"40px",maxWidth:"500px",boxShadow:"0 4px 20px rgba(0,0,0,0.3)"},children:[m.jsx("div",{style:{fontSize:"48px",marginBottom:"20px"},children:""}),m.jsx("h1",{style:{fontSize:"24px",marginBottom:"16px",color:"#ff6b6b"},children:"Something went wrong"}),m.jsx("p",{style:{fontSize:"14px",color:"#aaa",marginBottom:"24px",lineHeight:"1.5"},children:"The editor encountered an error and couldn't continue. This might be caused by a corrupted graph or a plugin issue."}),this.state.error&&m.jsxs("details",{style:{textAlign:"left",backgroundColor:"#1a1a2e",padding:"12px",borderRadius:"8px",marginBottom:"24px",fontSize:"12px",color:"#888"},children:[m.jsx("summary",{style:{cursor:"pointer",color:"#aaa",marginBottom:"8px"},children:"Error Details"}),m.jsxs("pre",{style:{overflow:"auto",maxHeight:"150px",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:[this.state.error.toString(),this.state.errorInfo?.componentStack]})]}),m.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"center"},children:[m.jsx("button",{onClick:this.handleReset,style:{padding:"12px 24px",fontSize:"14px",backgroundColor:"#3a3a5c",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:n=>n.target.style.backgroundColor="#4a4a6c",onMouseOut:n=>n.target.style.backgroundColor="#3a3a5c",children:"Try Again"}),m.jsx("button",{onClick:this.handleReload,style:{padding:"12px 24px",fontSize:"14px",backgroundColor:"#4dabf7",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",transition:"background-color 0.2s"},onMouseOver:n=>n.target.style.backgroundColor="#339af0",onMouseOut:n=>n.target.style.backgroundColor="#4dabf7",children:"Reload Page"})]})]})}):this.props.children}}function uj({isLoading:a,progress:n=0,status:r="Initializing...",loadedCount:s=0,totalCount:l=0,error:c=null}){const[f,h]=E.useState(!1),[p,y]=E.useState(a);return E.useEffect(()=>{if(!a&&p){h(!0);const b=setTimeout(()=>{y(!1),h(!1)},500);return()=>clearTimeout(b)}else a&&!p&&y(!0)},[a,p]),p?m.jsxs("div",{className:`loading-overlay ${f?"fade-out":""}`,children:[m.jsx("div",{className:"loading-logo",children:""}),m.jsx("div",{className:"loading-title",children:"T2 AutoTron"}),m.jsx("div",{className:"loading-subtitle",children:"Visual Automation Editor"}),m.jsx("div",{className:"loading-progress-container",children:m.jsx("div",{className:"loading-progress-bar",children:m.jsx("div",{className:"loading-progress-fill",style:{width:`${Math.min(100,n)}%`}})})}),m.jsx("div",{className:"loading-status",children:r}),l>0&&m.jsxs("div",{className:"loading-count",children:[s," / ",l," plugins loaded"]}),c&&m.jsxs("div",{className:"loading-error",children:[" ",c]})]}):null}function fj({updateInfo:a,onClose:n,onApplyUpdate:r}){const[s,l]=E.useState(!1),[c,f]=E.useState("");if(!a||!a.hasUpdate)return null;const h=async()=>{l(!0),f("Saving current graph...");try{window.triggerGraphSave&&(await window.triggerGraphSave(),f("Graph saved! Starting update..."))}catch(y){console.warn("Pre-update graph save failed:",y)}sessionStorage.setItem("justUpdated","true"),sessionStorage.setItem("autoLoadAfterUpdate","true");try{const b=await(await Qn("/api/update/apply",{method:"POST",headers:{"Content-Type":"application/json"}})).json();f(b.message||"Updating... The app will restart shortly."),setTimeout(()=>{f("Update applied! Reloading page..."),setTimeout(()=>{const v=()=>{Qn("/api/health",{method:"GET"}).then(()=>window.location.reload()).catch(()=>setTimeout(v,2e3))};v()},3e3)},2e3)}catch(y){y.message.includes("fetch")||y.message.includes("network")?(f("Server restarting... Reloading page..."),setTimeout(()=>{const b=()=>{Qn("/api/health",{method:"GET"}).then(()=>window.location.reload()).catch(()=>setTimeout(b,2e3))};b()},3e3)):(f(`Update failed: ${y.message}`),l(!1))}},p=()=>{sessionStorage.setItem("updateSkipped",a.newVersion),n()};return m.jsx("div",{className:"update-modal-overlay",children:m.jsxs("div",{className:"update-modal",children:[m.jsxs("div",{className:"update-modal-header",children:[m.jsx("span",{className:"update-icon",children:""}),m.jsx("h2",{children:"Update Available!"})]}),m.jsxs("div",{className:"update-modal-version",children:[m.jsx("span",{className:"version-current",children:a.currentVersion}),m.jsx("span",{className:"version-arrow",children:""}),m.jsx("span",{className:"version-new",children:a.newVersion})]}),m.jsxs("div",{className:"update-modal-content",children:[m.jsx("h3",{children:"What's New:"}),m.jsx("div",{className:"changelog-content",children:m.jsx("pre",{children:a.changelog||"No changelog available."})})]}),c&&m.jsxs("div",{className:"update-status",children:[m.jsx("span",{className:"status-spinner",children:""}),c]}),m.jsx("div",{className:"update-modal-actions",children:s?m.jsx("div",{className:"updating-message",children:"Please wait while the update is being applied..."}):m.jsxs(m.Fragment,{children:[m.jsx("button",{className:"update-btn update-btn-primary",onClick:h,children:"Update Now"}),m.jsx("button",{className:"update-btn update-btn-secondary",onClick:p,children:"Later"})]})})]})})}const dj=()=>{try{localStorage.getItem("t2-performance-mode")==="true"&&document.body.classList.add("performance-mode")}catch(a){console.warn("Failed to apply performance mode:",a)}};dj();window.setPerformanceMode=a=>{a?(document.body.classList.add("performance-mode"),localStorage.setItem("t2-performance-mode","true")):(document.body.classList.remove("performance-mode"),localStorage.setItem("t2-performance-mode","false"))};window.getPerformanceMode=()=>document.body.classList.contains("performance-mode");const Yw=()=>{const a=r=>{const s=parseInt(r.slice(1,3),16),l=parseInt(r.slice(3,5),16),c=parseInt(r.slice(5,7),16);return`${s}, ${l}, ${c}`},n={"Home Assistant":"ha",Weather:"weather",Logic:"logic","Timer/Event":"timer",Color:"color",Utility:"utility",Inputs:"inputs",CC_Control_Nodes:"cc",Other:"other"};try{const r=localStorage.getItem("t2category-overrides");if(r){const s=JSON.parse(r),l=document.documentElement;for(const[c,f]of Object.entries(s)){const h=n[c];h&&(f.accent&&(l.style.setProperty(`--node-${h}-color`,f.accent),l.style.setProperty(`--node-${h}-color-rgb`,a(f.accent))),f.background&&l.style.setProperty(`--node-${h}-bg`,f.background))}}}catch(r){console.warn("Failed to apply stored category colors:",r)}},Gw=()=>{const a=c=>{const f=parseInt(c.slice(1,3),16),h=parseInt(c.slice(3,5),16),p=parseInt(c.slice(5,7),16);return`${f}, ${h}, ${p}`},n=(c,f=15)=>{const h=parseInt(c.slice(1),16),p=Math.max(0,(h>>16)-Math.round(255*f/100)),y=Math.max(0,(h>>8&255)-Math.round(255*f/100)),b=Math.max(0,(h&255)-Math.round(255*f/100));return`#${(16777216|p<<16|y<<8|b).toString(16).slice(1)}`},r=(c,f=20)=>{const h=parseInt(c.slice(1),16),p=Math.min(255,(h>>16)+Math.round(255*f/100)),y=Math.min(255,(h>>8&255)+Math.round(255*f/100)),b=Math.min(255,(h&255)+Math.round(255*f/100));return`#${(16777216|p<<16|y<<8|b).toString(16).slice(1)}`},s={Boolean:"boolean",Number:"number",String:"string","HSV Info":"hsv","Object/Any":"object","Light Info":"light"},l={Boolean:"#10b981",Number:"#3b82f6",String:"#f59e0b","HSV Info":"#8b5cf6","Object/Any":"#06b6d4","Light Info":"#eab308"};try{const c=localStorage.getItem("t2socket-colors"),f=c?JSON.parse(c):{},h=document.documentElement;for(const[p,y]of Object.entries(s)){const b=f[p]?.color||l[p];b&&(h.style.setProperty(`--socket-${y}-color`,b),h.style.setProperty(`--socket-${y}-dark`,n(b)),h.style.setProperty(`--socket-${y}-border`,r(b)),h.style.setProperty(`--socket-${y}-rgb`,a(b)))}}catch(c){console.warn("Failed to apply stored socket colors:",c)}};Yw();Gw();window.applyCategoryColors=Yw;window.applySocketColors=Gw;const Ud=new Map,Id=new Map;function hj(){const[a,n]=E.useState(be.connected),[r,s]=E.useState({connected:!1,wsConnected:!1,deviceCount:0}),[l,c]=E.useState([]),[f,h]=E.useState([]),[p,y]=E.useState(()=>parseInt(localStorage.getItem("panelHeight"))||150),[b,v]=E.useState(()=>parseInt(localStorage.getItem("panelFontSize"))||11),[S,k]=E.useState({isLoading:!0,progress:0,status:"Starting...",loadedCount:0,totalCount:0,error:null}),[N,Z]=E.useState(null),[U,Q]=E.useState(0),[X,V]=E.useState(()=>localStorage.getItem("eventLogFilter")||"all"),P=E.useRef(null),de=E.useRef(null),le=E.useRef({authenticated:!1,invalidPinNotified:!1}),I=100,oe=ep();E.useEffect(()=>{const C=setInterval(()=>{Q(H=>H+1)},3e4);return()=>clearInterval(C)},[]),E.useEffect(()=>Vw(H=>{k(H),!H.isLoading&&H.progress===100&&H.failedPlugins?.length>0&&oe.warning(`Loaded ${H.loadedCount} plugins (${H.failedPlugins.length} failed)`),H.error&&oe.error(`Plugin loading failed: ${H.error}`)}),[oe]),E.useEffect(()=>{function C(){n(!0),oe.success("Connected to server"),ee("system","Socket connected to server"),Id.clear();const qe=es();qe&&be.emit("authenticate",qe),be.emit("editor-active"),be.emit("request-ha-status")}function H(){n(!1),s({connected:!1,wsConnected:!1,deviceCount:0}),le.current.authenticated=!1,oe.warning("Disconnected from server - reconnecting..."),ee("system","Socket disconnected from server")}function ce(qe){ee("system",`Socket reconnected after ${qe} attempt(s)`)}function we(qe){qe%5===0&&ee("system",`Reconnection attempt ${qe}...`)}function xe(qe){ee("system","Reconnection failed, retrying...")}function x(qe){s(qe)}function R(){le.current.authenticated||(le.current.authenticated=!0,le.current.invalidPinNotified=!1,oe.success("Authenticated"))}function A(qe){le.current.authenticated=!1;const jt=(qe?.error||"").toString();if(jt.toLowerCase().includes("invalid pin")){le.current.invalidPinNotified||(le.current.invalidPinNotified=!0,oe.error("Stored PIN is invalid. Update it in Settings  Security."));return}const q=jt?`Authentication failed: ${jt}`:"Authentication failed";oe.error(q)}function $(){if(!be.connected)return;le.current.invalidPinNotified=!1;const qe=es();qe&&be.emit("authenticate",qe)}function pe(qe){const{id:jt,state:q,on:se,name:te,vendor:_e}=qe;if(!jt)return;const me=Id.get(jt),ie=se!==void 0?se:q==="on"||q==="playing"||q==="open",D=te||qe.friendly_name||qe.attributes?.friendly_name||jt.replace("ha_","").replace("kasa_","").replace("hue_","").replace(/\./g," ").replace(/_/g," ");if(me&&me.on===ie)return;Id.set(jt,{on:ie,state:q});const K=Ud.get(jt),Ee=ie?"ON":"OFF";let J=_e||"External";_e||(jt.startsWith("ha_")?J="HA":jt.startsWith("hue_")?J="Hue":jt.startsWith("kasa_")&&(J="Kasa")),K&&Date.now()-K.timestamp<5e3?(ee("device",`${D}  ${Ee}`,{source:"app",triggeredBy:K.nodeTitle,nodeId:K.nodeId}),Ud.delete(jt)):ee("trigger",`${D}  ${Ee}`,{source:J})}function Oe(qe){}function Ve(qe){const{nodeId:jt,nodeLabel:q,result:se}=qe;ee("node",`${q||jt} executed`,{...se,nodeId:jt})}function it(qe){Array.isArray(qe)&&h(qe.slice(0,20))}function Je(qe){const{type:jt,name:q,value:se}=qe;ee("trigger",`${jt}: ${q}`,se)}function Wt(qe){if(qe.isAddon||window.location.pathname.includes("/api/hassio/ingress/")){console.log("[Update] Ignoring update notification in HA add-on environment");return}if(sessionStorage.getItem("justUpdated")==="true"){sessionStorage.removeItem("justUpdated");return}sessionStorage.getItem("updateSkipped")!==qe.newVersion&&oe.info(` Update available: ${qe.currentVersion}  ${qe.newVersion}`,{duration:0,actionLabel:"View Details",action:()=>Z(qe)})}be.on("connect",C),be.on("disconnect",H),be.on("reconnect",ce),be.on("reconnect_attempt",we),be.on("reconnect_error",xe),be.on("auth-success",R),be.on("auth-failed",A),be.on("ha-connection-status",x),be.on("device-state-update",pe),be.on("device_state_change",Oe),be.on("node_executed",Ve),be.on("scheduled_events",it),be.on("trigger_event",Je),be.on("update-available",Wt),window.addEventListener("t2-pin-changed",$);const Yt=()=>{be.connected&&be.emit("editor-inactive")};return window.addEventListener("beforeunload",Yt),BT(),()=>{be.connected&&be.emit("editor-inactive"),be.off("connect",C),be.off("disconnect",H),be.off("reconnect",ce),be.off("reconnect_attempt",we),be.off("reconnect_error",xe),be.off("auth-success",R),be.off("auth-failed",A),be.off("ha-connection-status",x),be.off("device-state-update",pe),be.off("device_state_change",Oe),be.off("node_executed",Ve),be.off("scheduled_events",it),be.off("trigger_event",Je),be.off("update-available",Wt),window.removeEventListener("t2-pin-changed",$),window.removeEventListener("beforeunload",Yt),UT()}},[]);const ee=(C,H,ce=null)=>{const we=new Date().toLocaleTimeString();c(xe=>[{timestamp:we,type:C,message:H,details:ce},...xe].slice(0,I))},G=E.useRef({}),fe=E.useCallback((C,H)=>{const ce=H.map(R=>({...R,nodeId:C}));G.current[C]=ce;const we=[];Object.values(G.current).forEach(R=>{Array.isArray(R)&&we.push(...R)});const xe=new Date,x=we.filter(R=>R.time&&new Date(R.time)>xe).sort((R,A)=>new Date(R.time)-new Date(A.time)).slice(0,20);h(x)},[]),je=E.useCallback(C=>{delete G.current[C],fe(C,[])},[fe]);E.useEffect(()=>(window.addEventLog=ee,window.setUpcomingEvents=h,window.registerScheduledEvents=fe,window.unregisterScheduledEvents=je,window.T2Toast=oe,window.registerPendingCommand=(C,H,ce,we)=>{Ud.set(C,{nodeTitle:H,action:ce,nodeId:we,timestamp:Date.now()})},()=>{delete window.addEventLog,delete window.setUpcomingEvents,delete window.registerScheduledEvents,delete window.unregisterScheduledEvents,delete window.registerPendingCommand,delete window.T2Toast}),[fe,je,oe]);const De=C=>{if(!C)return"";const H=new Date(C),we=H-new Date,xe=Math.floor(we/6e4),x=Math.floor(xe/60),R=Math.floor(x/24);let A="";return R>0?A=`${R}d ${x%24}h`:x>0?A=`${x}h ${xe%60}m`:xe>0?A=`${xe}m`:A="<1m",`${H.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})} (${A})`},Ye=E.useCallback(async C=>{if(!C)return;const H=window._t2Area,ce=window._t2Editor;if(!H||!ce){console.warn("[focusNode] Editor not ready");return}const we=ce.getNode(C);if(!we){console.warn("[focusNode] Node not found:",C);return}try{const{AreaExtensions:xe}=await $d(async()=>{const{AreaExtensions:x}=await Promise.resolve().then(()=>Ev);return{AreaExtensions:x}},void 0,import.meta.url);await xe.zoomAt(H,[we],{scale:1})}catch(xe){console.warn("[focusNode] Failed to zoom to node:",xe)}},[]),Pe=E.useCallback(async()=>{const C=window._t2Area,H=window._t2Editor;if(!C||!H){console.warn("[zoomExtents] Editor not ready");return}const ce=H.getNodes();if(ce.length===0){console.warn("[zoomExtents] No nodes in graph");return}try{const{AreaExtensions:we}=await $d(async()=>{const{AreaExtensions:xe}=await Promise.resolve().then(()=>Ev);return{AreaExtensions:xe}},void 0,import.meta.url);await we.zoomAt(C,ce,{scale:.7})}catch(we){console.warn("[zoomExtents] Failed to zoom:",we)}},[]);return m.jsxs("div",{className:"app-container",children:[N&&N.hasUpdate&&m.jsx(fj,{updateInfo:N,onClose:()=>Z(null)}),m.jsx(uj,{isLoading:S.isLoading,progress:S.progress,status:S.status,loadedCount:S.loadedCount,totalCount:S.totalCount,error:S.error}),m.jsx("div",{className:"editor-wrapper",children:m.jsx(lj,{})}),m.jsx("div",{className:"resize-handle",ref:de,onMouseDown:C=>{C.preventDefault();const H=C.clientY,ce=p,we=x=>{const R=H-x.clientY,A=Math.max(80,Math.min(400,ce+R));y(A),localStorage.setItem("panelHeight",A)},xe=()=>{document.removeEventListener("mousemove",we),document.removeEventListener("mouseup",xe)};document.addEventListener("mousemove",we),document.addEventListener("mouseup",xe)},children:m.jsx("div",{className:"resize-handle-grip"})}),m.jsxs("div",{className:"bottom-panels",style:{height:p,fontSize:b},children:[m.jsxs("div",{className:"panel event-log-panel",children:[m.jsxs("div",{className:"panel-header",children:[m.jsx("span",{className:"panel-title",children:"Event Log"}),m.jsxs("div",{className:"panel-controls",children:[m.jsxs("div",{className:"filter-buttons",children:[m.jsx("button",{className:`filter-btn ${X==="all"?"active":""}`,onClick:()=>{V("all"),localStorage.setItem("eventLogFilter","all")},children:"All"}),m.jsx("button",{className:`filter-btn ${X==="app"?"active":""}`,onClick:()=>{V("app"),localStorage.setItem("eventLogFilter","app")},children:"App"}),m.jsx("button",{className:`filter-btn ${X==="ha"?"active":""}`,onClick:()=>{V("ha"),localStorage.setItem("eventLogFilter","ha")},children:"HA"})]}),m.jsx("button",{className:"font-size-btn",onClick:()=>{const C=Math.max(8,b-1);v(C),localStorage.setItem("panelFontSize",C)},children:"A-"}),m.jsxs("span",{className:"font-size-label",children:[b,"px"]}),m.jsx("button",{className:"font-size-btn",onClick:()=>{const C=Math.min(16,b+1);v(C),localStorage.setItem("panelFontSize",C)},children:"A+"}),m.jsx("button",{className:"panel-clear-btn",onClick:()=>c([]),children:"Clear"})]})]}),m.jsx("div",{className:"panel-content",ref:P,children:l.length===0?m.jsx("div",{className:"empty-message",children:"No events yet..."}):l.filter(C=>X==="all"?!0:X==="app"?C.details?.triggeredBy||C.details?.source==="app"||C.type==="node"||C.type==="device"||C.type==="system":X==="ha"?C.type==="trigger"||C.details?.source&&C.details.source!=="app"&&!C.details?.triggeredBy:!0).map((C,H)=>m.jsxs("div",{className:`log-entry log-${C.type}${C.details?.nodeId?" clickable":""}`,title:C.details?.nodeId?"Click to jump to this node":C.details?.triggeredBy?`Triggered by: ${C.details.triggeredBy}`:C.details?.source&&C.details.source!=="app"?`Triggered externally via ${C.details.source}`:"",onClick:()=>C.details?.nodeId&&Ye(C.details.nodeId),style:C.details?.nodeId?{cursor:"pointer"}:{},children:[m.jsx("span",{className:"log-time",children:C.timestamp}),m.jsx("span",{className:`log-type-badge ${C.type}`,children:C.type==="trigger"?"external":C.type}),m.jsx("span",{className:"log-message",children:C.message}),C.details?.triggeredBy&&m.jsxs("span",{className:"log-source app-source",children:["via ",C.details.triggeredBy]}),C.details?.source&&C.details.source!=="app"&&!C.details?.triggeredBy&&m.jsxs("span",{className:"log-source external-source",children:["via ",C.details.source]})]},H))})]}),m.jsxs("div",{className:"panel upcoming-events-panel",children:[m.jsx("div",{className:"panel-header clickable-header",onClick:Pe,title:"Click to zoom to fit all nodes",children:m.jsx("span",{className:"panel-title",children:"Upcoming Events"})}),m.jsx("div",{className:"panel-content",children:f.length===0?m.jsx("div",{className:"empty-message",children:"No scheduled events..."}):f.map((C,H)=>m.jsxs("div",{className:`event-entry event-${C.action||"unknown"}${C.nodeId?" clickable":""}`,onClick:()=>C.nodeId&&Ye(C.nodeId),title:C.nodeId?"Click to jump to this node":"",style:C.nodeId?{cursor:"pointer"}:{},children:[m.jsx("span",{className:"event-time",children:De(C.time)}),m.jsx("span",{className:`event-action ${C.action}`,children:C.action||"event"}),m.jsx("span",{className:"event-device",children:C.deviceName||C.device||"Unknown"})]},H))})]})]})]})}function pj(){return m.jsx(cj,{children:m.jsxs(qN,{children:[m.jsx(YN,{}),m.jsx(hj,{})]})})}typeof window.api<"u"&&console.log("T2AutoTron running in Electron mode");sb.createRoot(document.getElementById("root")).render(m.jsx(E.StrictMode,{children:m.jsx(pj,{})}));export{Sa as a};
